(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+O9J":function(t,e,n){"use strict";n.d(e,"a",(function(){return P}));var i,r,a=n("XNiG"),o=n("2Vo4"),s=n("Kj3r"),c=n("fXoL"),u=n("1OyB"),l=n("vuIU"),h=n("ofXK"),d={UKNOWN:"Unknown"},f={CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",OPERA:"Opera",IE:"IE",MS_EDGE:"MS-Edge",MS_EDGE_CHROMIUM:"MS-Edge-Chromium",FB_MESSANGER:"FB-Messanger",SAMSUNG:"Samsung",UCBROWSER:"UC-Browser",UNKNOWN:d.UKNOWN},p={HTC:/HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\bEVO\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel/,NEXUS_PHONE:/Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6/,DELL:/Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\b001DL\b|\b101DL\b|\bGS01\b/,MOTOROLA:new RegExp("Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|\n      A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|\n      MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|\n      ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|\n      WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|\n      XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|\n      XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052"),SAMSUNG:new RegExp("\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|\n      GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|\n      GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|\n      GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|\n      GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|\n      GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|\n      GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|\n      GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|\n      GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|\n      GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|\n      GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|\n      GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|\n      GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|\n      GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|\n      GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|\n      GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|\n      GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|\n      GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|\n      SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|\n      SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|\n      SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|\n      SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|\n      SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|\n      SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|\n      SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|\n      SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|\n      SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|\n      SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|\n      SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|\n      SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|\n      SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|\n      SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|\n      SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|\n      SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|\n      SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|\n      SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|\n      SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|\n      SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|\n      SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|\n      SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|\n      SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|\n      SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|\n      SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|\n      SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|\n      SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|\n      SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|\n      SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|\n      SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|\n      SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|\n      GT-N7105|SCH-I535|SM-N900A|SM-N900T|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|\n      GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|\n      GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|\n      SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|\n      SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|\n      SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F"),LG:new RegExp("\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|\n      LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|\n      C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|\n      LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|\n      VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|\n      MS323|M257)"),SONY:/SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533/,ASUS:/Asus.*Galaxy|PadFone.*Mobile/,NOKIA_LUMIA:/Lumia [0-9]{3,4}/,MICROMAX:/Micromax.*\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\b/,PALM:/PalmSource|Palm/,VERTU:/Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature/,PANTECH:new RegExp("PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|\n        IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|\n        IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|\n        CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|\n        P2000|P7040|P7000|C790"),FLY:/IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250/,WIKO:new RegExp("KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|\n        SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|\n        CINK KING|CINK PEAX|CINK SLIM|SUBLIM"),I_MOBILE:/i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)/,SIMVALLEY:/\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\b/,WOLFGANG:/AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q/,ALCATEL:/Alcatel/,NINTENDO:/Nintendo (3DS|Switch)/,AMOI:/Amoi/,INQ:/INQ/,VITA:/\bVita\b/,BLACKBERRY:/\bBlackBerry\b|\bBB10\b|rim[0-9]+/,FIREFOX_OS:/\bFirefox-OS\b/,IPHONE:/\biPhone\b/,iPod:/\biPod\b/,ANDROID:/\bAndroid\b/,WINDOWS_PHONE:/\bWindows-Phone\b/,GENERIC_PHONE:new RegExp("Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|\n        up.link|vodafone|\\bwap\\b|nokia|Nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser")},v={iPad:/iPad|iPad.*Mobile/,NexusTablet:/Android.*Nexus[\s]+(7|9|10)/,GoogleTablet:/Android.*Pixel C/,SamsungTablet:new RegExp("SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|\n        GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|\n        SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|\n        GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|\n        SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|\n        GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|\n        SHV-E230S|SHW-M180K|SHW-M180L|SM-T290|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|\n        SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|\n        GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|\n        SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|\n        GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|\n        SM-T510|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|\n        SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|\n        SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|\n        SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|\n        SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|\n        SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|\n        SM-T719|SM-T813|SM-T819|SM-T580|SM-T590|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|\n        SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-P585Y"),Kindle:new RegExp("Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|\n        KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome        /[0-9.]+ (?!Mobile)"),SurfaceTablet:/Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)/,HPTablet:/HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10/,AsusTablet:new RegExp("^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|\n        TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|\n        Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|\n        ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|\n        ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b"),BlackBerryTablet:/PlayBook|RIM Tablet/,HTCtablet:/HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410/,MotorolaTablet:/xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617/,NookTablet:/Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2/,AcerTablet:new RegExp("Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|\n        W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\n        \\bA3-A20\\b|\\bA3-A30"),ToshibaTablet:/Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO/,LGTablet:/\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\b/,FujitsuTablet:/Android.*\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\b/,PrestigioTablet:new RegExp("PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|\n        PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|\n        PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|\n        PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|\n        PMT5887|PMT5001|PMT5002"),LenovoTablet:new RegExp("Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|\n        YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|\n        B8000|B8080)(-|)(FL|F|HV|H|)|TB-X103F|TB-X304F|TB-X304L|TB-X704F|TB-8703F|Tab2A7-10F|TB2-X30L|TB-8504F"),DellTablet:/Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7/,YarvikTablet:new RegExp("Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|\n        TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|\n        TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|\n        TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|\n        TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b"),MedionTablet:/Android.*\bOYO\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB/,ArnovaTablet:/97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2/,IntensoTablet:/INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004/,IRUTablet:/M702pro/,MegafonTablet:/MegaFon V9|\bZTE V9\b|Android.*\bMT7A\b/,EbodaTablet:/E-Boda (Supreme|Impresspeed|Izzycomm|Essential)/,AllViewTablet:/Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)/,ArchosTablet:new RegExp("\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10|\n         Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b"),AinolTablet:/NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark/,NokiaLumiaTablet:/Lumia 2520/,SonyTablet:new RegExp("Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|\n        SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|\n        EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|\n        SGP612|SGP712"),PhilipsTablet:/\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\b/,CubeTablet:/Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT/,CobyTablet:new RegExp("MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|\n        MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010"),MIDTablet:new RegExp("M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|\n        MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|\n        MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10"),MSITablet:new RegExp("MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|\n        Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b"),SMiTTablet:/Android.*(\bMID\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)/,RockChipTablet:/Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A/,FlyTablet:/IQ310|Fly Vision/,bqTablet:new RegExp("Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|\n        Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus"),HuaweiTablet:new RegExp("MediaPad|MediaPad 7 Youth|MediaPad T3 10|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|\n        S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-W09"),NecTablet:/\bN-06D|\bN-08D/,PantechTablet:/Pantech.*P4100/,BronchoTablet:/Broncho.*(N701|N708|N802|a710)/,VersusTablet:/TOUCHPAD.*[78910]|\bTOUCHTAB\b/,ZyncTablet:/z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900/,PositivoTablet:/TB07STA|TB10STA|TB07FTA|TB10FTA/,NabiTablet:/Android.*\bNabi/,KoboTablet:/Kobo Touch|\bK080\b|\bVox\b Build|\bArc\b Build/,DanewTablet:/DSlide.*\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\b/,TexetTablet:new RegExp("NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|\n        TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|\n        TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|\n        TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|\n        TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|\n        TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|\n        TB-436|TB-416|TB-146SE|TB-126SE"),PlaystationTablet:/Playstation.*(Portable|Vita)/,TrekstorTablet:/ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab/,PyleAudioTablet:/\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\b/,AdvanTablet:new RegExp("Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|\n        T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b"),DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|\n        Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:/Android.*\bG1\b(?!\))/,MicromaxTablet:/Funbook|Micromax.*\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\b/,KarbonnTablet:/Android.*\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\b/,AllFineTablet:/Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide/,PROSCANTablet:new RegExp("\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|\n        PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|\n        PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|\n        PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b"),YONESTablet:/BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026/,ChangJiaTablet:new RegExp("TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|\n        TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|\n        TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|\n        TPC10111|TPC10203|TPC10205|TPC10503"),GUTablet:/TX-A1301|TX-M9002|Q702|kf026/,PointOfViewTablet:new RegExp("TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|\n        TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|\n        TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|\n        TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10"),OvermaxTablet:new RegExp("OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|\n        MagicTab|Stream|TB-08|TB-09)|Qualcore 1027"),HCLTablet:/HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync/,DPSTablet:/DPS Dream 9|DPS Dual 7/,VistureTablet:/V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10/,CrestaTablet:/CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989/,MediatekTablet:/\bMT8125|MT8389|MT8135|MT8377\b/,ConcordeTablet:/Concorde([ ]+)?Tab|ConCorde ReadMan/,GoCleverTablet:new RegExp("GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|\n        TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|\n        GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|\n        TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|\n        TAB R104|TAB R83.3|TAB A1042"),ModecomTablet:new RegExp("FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|\n        FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|\n        FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003"),VoninoTablet:new RegExp("\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|\n        Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|\n        Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b"),ECSTablet:/V07OT2|TM105A|S10OT1|TR10CS1/,StorexTablet:/eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab/,VodafoneTablet:/SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497/,EssentielBTablet:/Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2/,RossMoorTablet:/RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711/,iMobileTablet:/i-mobile i-note/,TolinoTablet:/tolino tab [0-9.]+|tolino shine/,AudioSonicTablet:/\bC-22Q|T7-QC|T-17B|T-17P\b/,AMPETablet:/Android.* A78 /,SkkTablet:/Android.* (SKYPAD|PHOENIX|CYCLOPS)/,TecnoTablet:/TECNO P9|TECNO DP8D/,JXDTablet:new RegExp("Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|\n        S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|\n        P1000|P300|S18|S6600|S9100)\\b"),iJoyTablet:new RegExp("Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|\n        Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|\n        Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|\n        Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|\n        Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)"),FX2Tablet:/FX2 PAD7|FX2 PAD10/,XoroTablet:new RegExp("KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|\n        PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|\n        PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|\n        TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151"),ViewsonicTablet:/ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a/,VerizonTablet:/QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1/,OdysTablet:/LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\bXELIO\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10/,CaptivaTablet:/CAPTIVA PAD/,IconbitTablet:new RegExp("NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|\n        NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S"),TeclastTablet:new RegExp("T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\n        \\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\n        \\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\n        \\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\n        \\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\n        \\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\n        \\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\n        \\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\n        \\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi"),OndaTablet:new RegExp("\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|\n        V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|\n        V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|\n        Vi40)\\b[s]+|V10 \\b4G\\b"),JaytechTablet:/TPC-PA762/,BlaupunktTablet:/Endeavour 800NG|Endeavour 1010/,DigmaTablet:/\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\b/,EvolioTablet:/ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\bEvotab\b|\bNeura\b/,LavaTablet:/QPAD E704|\bIvoryS\b|E-TAB IVORY|\bE-TAB\b/,AocTablet:/MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712/,MpmanTablet:new RegExp("MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\n        \\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|\n        MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010"),CelkonTablet:/CT695|CT888|CT[\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\bCT-1\b/,WolderTablet:new RegExp("miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|\n        POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|\n        FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b"),MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:/\bMI PAD\b|\bHM NOTE 1W\b/,NibiruTablet:/Nibiru M1|Nibiru Jupiter One/,NexoTablet:/NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI/,LeaderTablet:new RegExp("TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|\n        TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100"),UbislateTablet:/UbiSlate[\s]?7C/,PocketBookTablet:/Pocketbook/,KocasoTablet:/\b(TB-1207)\b/,HisenseTablet:/\b(F5281|E2371)\b/,Hudl:/Hudl HT7S3|Hudl 2/,TelstraTablet:/T-Hub2/,GenericTablet:new RegExp("Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|\n        A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|\n        Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107")},m={BLACKBERRY:"Blackberry",FIREFOX_OS:"Firefox-OS",CHROME_BOOK:"Chrome-Book",WINDOWS_PHONE:"Windows-Phone",VITA:"Vita",PS4:"PS4",CHROMECAST:"Chromecast",APPLE_TV:"Apple-TV",GOOGLE_TV:"Google-TV",ANDROID:"Android",Tesla:"Tesla",iPad:"iPad",IPHONE:"iPhone",iPod:"iPod",UNKNOWN:d.UKNOWN,HTC:"HTC",NEXUS_PHONE:"Nexus Phone",NexusTablet:"Nexus Tablet",DELL:"Dell",MOTOROLA:"Motorola",SAMSUNG:"Samsung",LG:"LG",SONY:"Sony",ASUS:"Asus",NOKIA_LUMIA:"Nokia Lumia",MICROMAX:"Micromax",PALM:"Palm",VERTU:"Vertu",PANTECH:"PANTECH",FLY:"Fly",WIKO:"WIKO",I_MOBILE:"i-mobile",SIMVALLEY:"Simvalley",WOLFGANG:"Wolfgang",ALCATEL:"Alcatel",NINTENDO:"Nintendo",AMOI:"Amoi",INQ:"INQ",GENERIC_PHONE:"Generic Phone"},g={WINDOWS:"Windows",MAC:"Mac",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNIX:"Unix",FIREFOX_OS:"Firefox-OS",CHROME_OS:"Chrome-OS",WINDOWS_PHONE:"Windows-Phone",UNKNOWN:d.UKNOWN},y={WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",iOS:"iOS",UNKNOWN:d.UKNOWN.toLowerCase()},b=Object.assign(Object.assign(Object.assign({},p),v),{FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,Tesla:/Tesla\/([0-9]{4}.[0-9]{1,2}.?[0-9]{0,2}.?[0-9]{0,2})-(.{7})/}),_={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/,iOS:/(iPhone OS\s*[0-9_]+)/},w={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/,/\bHeadlessChrome\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:[/\bVersion\/([\d\.]+)\b/,/\bSafari\/([\d\.]+)\b/],OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdg(?:e|A|iOS)\/([\d\.]+)\b/,MS_EDGE_CHROMIUM:/\bEdg\/([\d\.]+)\b/,SAMSUNG:/\bSamsungBrowser\/([\d\.]+)\b/,UCBROWSER:/\bUCBrowser\/([\d\.]+)\b/},x=function(t,e){return t[e]=_[e],t},k=Object.keys(_).reduce(x,{}),O=function(t,e){return t[f[e]]=w[e],t},S=Object.keys(w).reduce(O,{}),C=Object.freeze({__proto__:null,GENERAL:d,BROWSERS:f,MOBILES_RE:p,TABLETS_RE:v,DEVICES:m,OS:g,OS_VERSIONS:y,OS_RE:{WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/\bWindows Phone\b/}]},ANDROID:{and:[/\bAndroid\b/,{not:/\bWindows Phone\b/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},BROWSERS_RE:{CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/,/\bHeadlessChrome\b/]},{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},FIREFOX:{or:[/\bFirefox\b/,/\bFxiOS\b/]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bWindows Phone\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdg(e|A|iOS)\b/]},MS_EDGE_CHROMIUM:/\bEdg\/\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,FB_MESSANGER:/\bFBAN\/MessengerForiOS\b/,SAMSUNG:/\bSamsungBrowser\b/,UCBROWSER:/\bUCBrowser\b/},DEVICES_RE:b,OS_VERSIONS_RE_MAP:_,BROWSER_VERSIONS_RE_MAP:w,OS_VERSIONS_RE:k,BROWSER_VERSIONS_RE:S,"\u02750":x,"\u02751":O}),A=function(){function t(){Object(u.a)(this,t)}return Object(l.a)(t,[{key:"test",value:function(t,e){var n=this;return"string"==typeof e&&(e=new RegExp(e)),e instanceof RegExp?e.test(t):e&&Array.isArray(e.and)?e.and.every((function(e){return n.test(t,e)})):e&&Array.isArray(e.or)?e.or.some((function(e){return n.test(t,e)})):!(!e||!e.not)&&!this.test(t,e.not)}},{key:"exec",value:function(t,e){var n=this;return"string"==typeof e&&(e=new RegExp(e)),e instanceof RegExp?e.exec(t):e&&Array.isArray(e)?e.reduce((function(e,i){return e||n.exec(t,i)}),null):null}}]),t}();!function(t){t.Mobile="mobile",t.Tablet="tablet",t.Desktop="desktop",t.Unknown="unknown"}(i||(i={})),function(t){t.Portrait="portrait",t.Landscape="landscape"}(r||(r={}));var M="iPad",T=function(){function t(e){Object(u.a)(this,t),this.platformId=e,this.ua="",this.userAgent="",this.os="",this.browser="",this.device="",this.os_version="",this.browser_version="",this.reTree=new A,this.deviceType="",this.orientation="",Object(h.r)(this.platformId)&&"undefined"!=typeof window&&(this.userAgent=window.navigator.userAgent),this.setDeviceInfo(this.userAgent)}return Object(l.a)(t,[{key:"setDeviceInfo",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.userAgent;e!==this.userAgent&&(this.userAgent=e);var n=[{const:"OS",prop:"os"},{const:"BROWSERS",prop:"browser"},{const:"DEVICES",prop:"device"},{const:"OS_VERSIONS",prop:"os_version"}];if(n.forEach((function(n){t[n.prop]=Object.keys(C[n.const]).reduce((function(i,r){return"device"===C[n.const][r]&&Object(h.r)(t.platformId)&&(t.reTree.test(t.userAgent,v.iPad)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)?(i[C[n.const][r]]=M,Object):(i[C[n.const][r]]=t.reTree.test(e,C["".concat(n.const,"_RE")][r]),i)}),{})})),n.forEach((function(e){t[e.prop]=Object.keys(C[e.const]).map((function(t){return C[e.const][t]})).reduce((function(n,i){return"device"===e.prop&&n===C[e.const].ANDROID?t[e.prop][i]?i:n:n===C[e.const].UNKNOWN&&t[e.prop][i]?i:n}),C[e.const].UNKNOWN)})),this.browser_version="0",this.browser!==f.UNKNOWN){var a=S[this.browser],o=this.reTree.exec(e,a);o&&(this.browser_version=o[1])}"undefined"!=typeof window&&window.matchMedia?this.orientation=window.matchMedia("(orientation: landscape)").matches?r.Landscape:r.Portrait:this.orientation=d.UKNOWN,this.deviceType=this.isTablet()?i.Tablet:this.isMobile(this.userAgent)?i.Mobile:this.isDesktop(this.userAgent)?i.Desktop:i.Unknown}},{key:"getDeviceInfo",value:function(){return{userAgent:this.userAgent,os:this.os,browser:this.browser,device:this.device,os_version:this.os_version,browser_version:this.browser_version,deviceType:this.deviceType,orientation:this.orientation}}},{key:"isMobile",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.userAgent;if(this.isTablet(e))return!1;var n=Object.keys(p).find((function(n){return t.reTree.test(e,p[n])}));return!!n}},{key:"isTablet",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.userAgent;if(Object(h.r)(this.platformId)&&(this.reTree.test(this.userAgent,v.iPad)||"undefined"!=typeof navigator&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1))return!0;var n=Object.keys(v).find((function(n){return!!t.reTree.test(e,v[n])}));return!!n}},{key:"isDesktop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.userAgent,e=[m.PS4,m.CHROME_BOOK,m.UNKNOWN];return(this.device!==m.UNKNOWN||!this.isMobile(t)&&!this.isTablet(t))&&e.indexOf(this.device)>-1}}]),t}();T.\u0275fac=function(t){return new(t||T)(c.jc(c.O))},T.\u0275prov=Object(c.Wb)({factory:function(){return new T(Object(c.jc)(c.O))},token:T,providedIn:"root"}),T.ctorParameters=function(){return[{type:void 0,decorators:[{type:c.y,args:[c.O]}]}]};var E=n("tyNb"),P=function(){function t(t,e){var n=this;this.dd=t,this.router=e,this.screenSizeChange=new a.a,this.resize$=new a.a,this.screen={w:0,h:0,aspect:1,aspect2:1},this.scrollEvent=new a.a,this.forcePreloader=!1,this.vpHeight=0,this.vpWidth=0,this.onInited=new o.a(!1),this.focus=new o.a(!1),this.isMobile=!1,this.isDark=!1,this.closestSnapIndex=0,this.keys={37:1,38:1,39:1,40:1},this.supportsPassive=!1,this.wheelOpt=!1,this.wheelEvent="onwheel"in document.createElement("div")?"wheel":"mousewheel",this.dd.isDesktop()?this.isMobile=!1:this.isMobile=!0,window.addEventListener("resize",(function(){n.refreshScreenSize(),n.resize$.next()})),window.addEventListener("focus",(function(){n.focus.next(!0)})),window.addEventListener("blur",(function(){n.focus.next(!1)})),this.refreshScreenSize(),this.resize$.pipe(Object(s.a)(100)).subscribe((function(t){n.refreshScreenSize()})),this.resize$.pipe(Object(s.a)(500)).subscribe((function(t){n.refreshScreenSize()})),this.resize$.pipe(Object(s.a)(1500)).subscribe((function(t){n.refreshScreenSize()})),this.boundPreventDefault=this.preventDefault.bind(this),this.boundPreventDefaultForScrollKeys=this.preventDefaultForScrollKeys.bind(this);try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){n.supportsPassive=!0}}))}catch(i){}this.wheelOpt=!!this.supportsPassive&&{passive:!1},this.wheelEvent="onwheel"in document.createElement("div")?"wheel":"mousewheel"}return t.prototype.refreshScreenSize=function(){this.screen.w=window.innerWidth,this.screen.h=window.innerHeight,this.screen.aspect=this.screen.h/this.screen.w,this.screen.aspect2=this.screen.w/this.screen.h,this.screenSizeChange.next()},t.prototype.preventDefault=function(t){t.preventDefault()},t.prototype.preventDefaultForScrollKeys=function(t){if(this.keys[t.keyCode])return this.preventDefault(t),!1},t.prototype.disableScroll=function(){this.scrolledEl.addEventListener("DOMMouseScroll",this.boundPreventDefault,!1),this.scrolledEl.addEventListener(this.wheelEvent,this.boundPreventDefault,this.wheelOpt),this.scrolledEl.addEventListener("touchmove",this.boundPreventDefault,this.wheelOpt),this.scrolledEl.addEventListener("keydown",this.boundPreventDefaultForScrollKeys,!1)},t.prototype.enableScroll=function(){this.scrolledEl.removeEventListener("DOMMouseScroll",this.boundPreventDefault,!1),this.scrolledEl.removeEventListener(this.wheelEvent,this.boundPreventDefault,this.wheelOpt),this.scrolledEl.removeEventListener("touchmove",this.boundPreventDefault,this.wheelOpt),this.scrolledEl.removeEventListener("keydown",this.boundPreventDefaultForScrollKeys,!1)},t.\u0275fac=function(e){return new(e||t)(c.jc(T),c.jc(E.c))},t.\u0275prov=c.Wb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"+rOU":function(t,e,n){"use strict";n.d(e,"a",(function(){return m})),n.d(e,"b",(function(){return w})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return g})),n.d(e,"e",(function(){return O})),n.d(e,"f",(function(){return p}));var i=n("JX7q"),r=n("ReuC"),a=n("foSv"),o=n("Ji7U"),s=n("LK+K"),c=n("1OyB"),u=n("vuIU"),l=n("fXoL"),h=n("ofXK");var d=function(){function t(){Object(c.a)(this,t)}return Object(u.a)(t,[{key:"attach",value:function(t){return this._attachedHost=t,t.attach(this)}},{key:"detach",value:function(){var t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}},{key:"setAttachedHost",value:function(t){this._attachedHost=t}},{key:"isAttached",get:function(){return null!=this._attachedHost}}]),t}(),f=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(t,i,r,a){var o;return Object(c.a)(this,n),(o=e.call(this)).component=t,o.viewContainerRef=i,o.injector=r,o.componentFactoryResolver=a,o}return n}(d),p=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(t,i,r){var a;return Object(c.a)(this,n),(a=e.call(this)).templateRef=t,a.viewContainerRef=i,a.context=r,a}return Object(u.a)(n,[{key:"attach",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.context;return this.context=e,Object(r.a)(Object(a.a)(n.prototype),"attach",this).call(this,t)}},{key:"detach",value:function(){return this.context=void 0,Object(r.a)(Object(a.a)(n.prototype),"detach",this).call(this)}},{key:"origin",get:function(){return this.templateRef.elementRef}}]),n}(d),v=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(t){var i;return Object(c.a)(this,n),(i=e.call(this)).element=t instanceof l.r?t.nativeElement:t,i}return n}(d),m=function(){function t(){Object(c.a)(this,t),this._isDisposed=!1,this.attachDomPortal=null}return Object(u.a)(t,[{key:"hasAttached",value:function(){return!!this._attachedPortal}},{key:"attach",value:function(t){return t instanceof f?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof p?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof v?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}},{key:"detach",value:function(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}},{key:"dispose",value:function(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}},{key:"setDisposeFn",value:function(t){this._disposeFn=t}},{key:"_invokeDisposeFn",value:function(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}]),t}(),g=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(t,o,s,u,l){var h,d;return Object(c.a)(this,n),(d=e.call(this)).outletElement=t,d._componentFactoryResolver=o,d._appRef=s,d._defaultInjector=u,d.attachDomPortal=function(t){d._document;var e=t.element;e.parentNode;var o=d._document.createComment("dom-portal");e.parentNode.insertBefore(o,e),d.outletElement.appendChild(e),Object(r.a)((h=Object(i.a)(d),Object(a.a)(n.prototype)),"setDisposeFn",h).call(h,(function(){o.parentNode&&o.parentNode.replaceChild(e,o)}))},d._document=l,d}return Object(u.a)(n,[{key:"attachComponentPortal",value:function(t){var e,n=this,i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);return t.viewContainerRef?(e=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn((function(){return e.destroy()}))):(e=i.create(t.injector||this._defaultInjector),this._appRef.attachView(e.hostView),this.setDisposeFn((function(){n._appRef.detachView(e.hostView),e.destroy()}))),this.outletElement.appendChild(this._getComponentRootNode(e)),e}},{key:"attachTemplatePortal",value:function(t){var e=this,n=t.viewContainerRef,i=n.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach((function(t){return e.outletElement.appendChild(t)})),i.detectChanges(),this.setDisposeFn((function(){var t=n.indexOf(i);-1!==t&&n.remove(t)})),i}},{key:"dispose",value:function(){Object(r.a)(Object(a.a)(n.prototype),"dispose",this).call(this),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}},{key:"_getComponentRootNode",value:function(t){return t.hostView.rootNodes[0]}}]),n}(m),y=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(t,i){return Object(c.a)(this,n),e.call(this,t,i)}return n}(p);y.\u0275fac=function(t){return new(t||y)(l.ac(l.ab),l.ac(l.fb))},y.\u0275dir=l.Vb({type:y,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[l.Nb]}),y.ctorParameters=function(){return[{type:l.ab},{type:l.fb}]};var b=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return n}(y);b.\u0275fac=function(t){return _(t||b)},b.\u0275dir=l.Vb({type:b,selectors:[["","cdk-portal",""],["","portal",""]],exportAs:["cdkPortal"],features:[l.Pb([{provide:y,useExisting:b}]),l.Nb]});var _=l.hc(b),w=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(t,o,s){var u,h;return Object(c.a)(this,n),(h=e.call(this))._componentFactoryResolver=t,h._viewContainerRef=o,h._isInitialized=!1,h.attached=new l.t,h.attachDomPortal=function(t){h._document;var e=t.element;e.parentNode;var o=h._document.createComment("dom-portal");t.setAttachedHost(Object(i.a)(h)),e.parentNode.insertBefore(o,e),h._getRootNode().appendChild(e),Object(r.a)((u=Object(i.a)(h),Object(a.a)(n.prototype)),"setDisposeFn",u).call(u,(function(){o.parentNode&&o.parentNode.replaceChild(e,o)}))},h._document=s,h}return Object(u.a)(n,[{key:"ngOnInit",value:function(){this._isInitialized=!0}},{key:"ngOnDestroy",value:function(){Object(r.a)(Object(a.a)(n.prototype),"dispose",this).call(this),this._attachedPortal=null,this._attachedRef=null}},{key:"attachComponentPortal",value:function(t){t.setAttachedHost(this);var e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=e.createComponent(i,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),Object(r.a)(Object(a.a)(n.prototype),"setDisposeFn",this).call(this,(function(){return o.destroy()})),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}},{key:"attachTemplatePortal",value:function(t){var e=this;t.setAttachedHost(this);var i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return Object(r.a)(Object(a.a)(n.prototype),"setDisposeFn",this).call(this,(function(){return e._viewContainerRef.clear()})),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}},{key:"_getRootNode",value:function(){var t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}},{key:"portal",get:function(){return this._attachedPortal},set:function(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&Object(r.a)(Object(a.a)(n.prototype),"detach",this).call(this),t&&Object(r.a)(Object(a.a)(n.prototype),"attach",this).call(this,t),this._attachedPortal=t)}},{key:"attachedRef",get:function(){return this._attachedRef}}]),n}(m);w.\u0275fac=function(t){return new(t||w)(l.ac(l.m),l.ac(l.fb),l.ac(h.d))},w.\u0275dir=l.Vb({type:w,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[l.Nb]}),w.ctorParameters=function(){return[{type:l.m},{type:l.fb},{type:void 0,decorators:[{type:l.y,args:[h.d]}]}]},w.propDecorators={attached:[{type:l.N}]};var x=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return n}(w);x.\u0275fac=function(t){return k(t||x)},x.\u0275dir=l.Vb({type:x,selectors:[["","cdkPortalHost",""],["","portalHost",""]],inputs:{portal:["cdkPortalHost","portal"]},exportAs:["cdkPortalHost"],features:[l.Pb([{provide:w,useExisting:x}]),l.Nb]});var k=l.hc(x),O=function t(){Object(c.a)(this,t)};O.\u0275mod=l.Yb({type:O}),O.\u0275inj=l.Xb({factory:function(t){return new(t||O)}})},0:function(t,e,n){t.exports=n("zUnb")},"0EUg":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("bHdf");function r(){return Object(i.a)(1)}},"0IaG":function(t,e,n){"use strict";n.d(e,"a",(function(){return P})),n.d(e,"b",(function(){return L})),n.d(e,"c",(function(){return V})),n.d(e,"d",(function(){return T}));var i=n("vuIU"),r=n("Ji7U"),a=n("LK+K"),o=n("1OyB"),s=n("rDax"),c=n("+rOU"),u=n("fXoL"),l=n("FKr1"),h=n("cH1L"),d=n("ofXK"),f=n("XNiG"),p=n("NXyV"),v=n("LRne"),m=n("pLZG"),g=n("IzEk"),y=n("JX91"),b=n("u47x"),_=n("R0Ic"),w=n("FtGj");function x(t,e){}var k=function t(){Object(o.a)(this,t),this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0},O={dialogContainer:Object(_.k)("dialogContainer",[Object(_.h)("void, exit",Object(_.i)({opacity:0,transform:"scale(0.7)"})),Object(_.h)("enter",Object(_.i)({transform:"none"})),Object(_.j)("* => enter",Object(_.e)("150ms cubic-bezier(0, 0, 0.2, 1)",Object(_.i)({transform:"none",opacity:1}))),Object(_.j)("* => void, * => exit",Object(_.e)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Object(_.i)({opacity:0})))])};var S=function(t){Object(r.a)(n,t);var e=Object(a.a)(n);function n(t,i,r,a,s,c){var l;return Object(o.a)(this,n),(l=e.call(this))._elementRef=t,l._focusTrapFactory=i,l._changeDetectorRef=r,l._config=s,l._focusMonitor=c,l._animationStateChanged=new u.t,l._elementFocusedBeforeDialogWasOpened=null,l._closeInteractionType=null,l.attachDomPortal=function(t){return l._portalOutlet.hasAttached(),l._portalOutlet.attachDomPortal(t)},l._ariaLabelledBy=s.ariaLabelledBy||null,l._document=a,l}return Object(i.a)(n,[{key:"_initializeWithAttachedContent",value:function(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}},{key:"attachComponentPortal",value:function(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}},{key:"attachTemplatePortal",value:function(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}},{key:"_recaptureFocus",value:function(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}},{key:"_trapFocus",value:function(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}},{key:"_restoreFocus",value:function(){var t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){var e=this._document.activeElement,n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}},{key:"_setupFocusTrap",value:function(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}},{key:"_capturePreviouslyFocusedElement",value:function(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement)}},{key:"_focusDialogContainer",value:function(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}},{key:"_containsFocus",value:function(){var t=this._elementRef.nativeElement,e=this._document.activeElement;return t===e||t.contains(e)}}]),n}(c.a);S.\u0275fac=function(t){return new(t||S)(u.ac(u.r),u.ac(b.d),u.ac(u.j),u.ac(d.d,8),u.ac(k),u.ac(b.c))},S.\u0275dir=u.Vb({type:S,viewQuery:function(t,e){var n;(1&t&&u.Hc(c.b,!0),2&t)&&(u.yc(n=u.nc())&&(e._portalOutlet=n.first))},features:[u.Nb]}),S.ctorParameters=function(){return[{type:u.r},{type:b.d},{type:u.j},{type:void 0,decorators:[{type:u.M},{type:u.y,args:[d.d]}]},{type:k},{type:b.c}]},S.propDecorators={_portalOutlet:[{type:u.eb,args:[c.b,{static:!0}]}]};var C=function(t){Object(r.a)(n,t);var e=Object(a.a)(n);function n(){var t;return Object(o.a)(this,n),(t=e.apply(this,arguments))._state="enter",t}return Object(i.a)(n,[{key:"_onAnimationDone",value:function(t){var e=t.toState,n=t.totalTime;"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:n})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:n}))}},{key:"_onAnimationStart",value:function(t){var e=t.toState,n=t.totalTime;"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:n}):"exit"!==e&&"void"!==e||this._animationStateChanged.next({state:"closing",totalTime:n})}},{key:"_startExitAnimation",value:function(){this._state="exit",this._changeDetectorRef.markForCheck()}}]),n}(S);C.\u0275fac=function(t){return A(t||C)},C.\u0275cmp=u.Ub({type:C,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&u.Jc("@dialogContainer.start",(function(t){return e._onAnimationStart(t)}))("@dialogContainer.done",(function(t){return e._onAnimationDone(t)})),2&t&&(u.ic("id",e._id),u.Rb("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),u.Kc("@dialogContainer",e._state))},features:[u.Nb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&u.Lc(0,x,0,0,"ng-template",0)},directives:[c.b],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[O.dialogContainer]}});var A=u.hc(C),M=0,T=function(){function t(e,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mat-dialog-".concat(M++);Object(o.a)(this,t),this._overlayRef=e,this._containerInstance=n,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new f.a,this._afterClosed=new f.a,this._beforeClosed=new f.a,this._state=0,n._id=r,n._animationStateChanged.pipe(Object(m.a)((function(t){return"opened"===t.state})),Object(g.a)(1)).subscribe((function(){i._afterOpened.next(),i._afterOpened.complete()})),n._animationStateChanged.pipe(Object(m.a)((function(t){return"closed"===t.state})),Object(g.a)(1)).subscribe((function(){clearTimeout(i._closeFallbackTimeout),i._finishDialogClose()})),e.detachments().subscribe((function(){i._beforeClosed.next(i._result),i._beforeClosed.complete(),i._afterClosed.next(i._result),i._afterClosed.complete(),i.componentInstance=null,i._overlayRef.dispose()})),e.keydownEvents().pipe(Object(m.a)((function(t){return t.keyCode===w.e&&!i.disableClose&&!Object(w.o)(t)}))).subscribe((function(t){t.preventDefault(),E(i,"keyboard")})),e.backdropClick().subscribe((function(){i.disableClose?i._containerInstance._recaptureFocus():E(i,"mouse")}))}return Object(i.a)(t,[{key:"close",value:function(t){var e=this;this._result=t,this._containerInstance._animationStateChanged.pipe(Object(m.a)((function(t){return"closing"===t.state})),Object(g.a)(1)).subscribe((function(n){e._beforeClosed.next(t),e._beforeClosed.complete(),e._overlayRef.detachBackdrop(),e._closeFallbackTimeout=setTimeout((function(){return e._finishDialogClose()}),n.totalTime+100)})),this._state=1,this._containerInstance._startExitAnimation()}},{key:"afterOpened",value:function(){return this._afterOpened}},{key:"afterClosed",value:function(){return this._afterClosed}},{key:"beforeClosed",value:function(){return this._beforeClosed}},{key:"backdropClick",value:function(){return this._overlayRef.backdropClick()}},{key:"keydownEvents",value:function(){return this._overlayRef.keydownEvents()}},{key:"updatePosition",value:function(t){var e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}},{key:"updateSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this}},{key:"addPanelClass",value:function(t){return this._overlayRef.addPanelClass(t),this}},{key:"removePanelClass",value:function(t){return this._overlayRef.removePanelClass(t),this}},{key:"getState",value:function(){return this._state}},{key:"_finishDialogClose",value:function(){this._state=2,this._overlayRef.dispose()}},{key:"_getPositionStrategy",value:function(){return this._overlayRef.getConfig().positionStrategy}}]),t}();function E(t,e,n){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=e),t.close(n)}var P=new u.A("MatDialogData"),D=new u.A("mat-dialog-default-options"),j=new u.A("mat-dialog-scroll-strategy");var R={provide:j,deps:[s.b],useFactory:function(t){return function(){return t.scrollStrategies.block()}}},I=function(){function t(e,n,i,r,a,s,c,u,l){var h=this;Object(o.a)(this,t),this._overlay=e,this._injector=n,this._defaultOptions=i,this._parentDialog=r,this._overlayContainer=a,this._dialogRefConstructor=c,this._dialogContainerType=u,this._dialogDataToken=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new f.a,this._afterOpenedAtThisLevel=new f.a,this._ariaHiddenElements=new Map,this.afterAllClosed=Object(p.a)((function(){return h.openDialogs.length?h._getAfterAllClosed():h._getAfterAllClosed().pipe(Object(y.a)(void 0))})),this._scrollStrategy=s}return Object(i.a)(t,[{key:"_getAfterAllClosed",value:function(){var t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}},{key:"open",value:function(t,e){var n=this;(e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new k)).id&&this.getDialogById(e.id);var i=this._createOverlay(e),r=this._attachDialogContainer(i,e),a=this._attachDialogContent(t,r,i,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.afterClosed().subscribe((function(){return n._removeOpenDialog(a)})),this.afterOpened.next(a),r._initializeWithAttachedContent(),a}},{key:"closeAll",value:function(){this._closeDialogs(this.openDialogs)}},{key:"getDialogById",value:function(t){return this.openDialogs.find((function(e){return e.id===t}))}},{key:"ngOnDestroy",value:function(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}},{key:"_createOverlay",value:function(t){var e=this._getOverlayConfig(t);return this._overlay.create(e)}},{key:"_getOverlayConfig",value:function(t){var e=new s.c({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}},{key:"_attachDialogContainer",value:function(t,e){var n=e&&e.viewContainerRef&&e.viewContainerRef.injector,i=u.B.create({parent:n||this._injector,providers:[{provide:k,useValue:e}]}),r=new c.c(this._dialogContainerType,e.viewContainerRef,i,e.componentFactoryResolver);return t.attach(r).instance}},{key:"_attachDialogContent",value:function(t,e,n,i){var r=new this._dialogRefConstructor(n,e,i.id);if(t instanceof u.ab)e.attachTemplatePortal(new c.f(t,null,{$implicit:i.data,dialogRef:r}));else{var a=this._createInjector(i,r,e),o=e.attachComponentPortal(new c.c(t,i.viewContainerRef,a));r.componentInstance=o.instance}return r.updateSize(i.width,i.height).updatePosition(i.position),r}},{key:"_createInjector",value:function(t,e,n){var i=t&&t.viewContainerRef&&t.viewContainerRef.injector,r=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:e}];return!t.direction||i&&i.get(h.b,null)||r.push({provide:h.b,useValue:{value:t.direction,change:Object(v.a)()}}),u.B.create({parent:i||this._injector,providers:r})}},{key:"_removeOpenDialog",value:function(t){var e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((function(t,e){t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")})),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}},{key:"_hideNonDialogContentFromAssistiveTechnology",value:function(){var t=this._overlayContainer.getContainerElement();if(t.parentElement)for(var e=t.parentElement.children,n=e.length-1;n>-1;n--){var i=e[n];i===t||"SCRIPT"===i.nodeName||"STYLE"===i.nodeName||i.hasAttribute("aria-live")||(this._ariaHiddenElements.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}}},{key:"_closeDialogs",value:function(t){for(var e=t.length;e--;)t[e].close()}},{key:"openDialogs",get:function(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}},{key:"afterOpened",get:function(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}}]),t}();I.\u0275fac=function(t){return new(t||I)(u.ac(s.b),u.ac(u.B),u.ac(void 0),u.ac(void 0),u.ac(s.d),u.ac(void 0),u.ac(u.cb),u.ac(u.cb),u.ac(u.A))},I.\u0275dir=u.Vb({type:I}),I.ctorParameters=function(){return[{type:s.b},{type:u.B},{type:void 0},{type:void 0},{type:s.d},{type:void 0},{type:u.cb},{type:u.cb},{type:u.A}]};var L=function(t){Object(r.a)(n,t);var e=Object(a.a)(n);function n(t,i,r,a,s,c,u){return Object(o.a)(this,n),e.call(this,t,i,a,c,u,s,T,C,P)}return n}(I);L.\u0275fac=function(t){return new(t||L)(u.jc(s.b),u.jc(u.B),u.jc(d.g,8),u.jc(D,8),u.jc(j),u.jc(L,12),u.jc(s.d))},L.\u0275prov=u.Wb({token:L,factory:L.\u0275fac}),L.ctorParameters=function(){return[{type:s.b},{type:u.B},{type:d.g,decorators:[{type:u.M}]},{type:k,decorators:[{type:u.M},{type:u.y,args:[D]}]},{type:void 0,decorators:[{type:u.y,args:[j]}]},{type:L,decorators:[{type:u.M},{type:u.Y}]},{type:s.d}]};var N=0,F=function(){function t(e,n,i){Object(o.a)(this,t),this.dialogRef=e,this._elementRef=n,this._dialog=i,this.type="button"}return Object(i.a)(t,[{key:"ngOnInit",value:function(){this.dialogRef||(this.dialogRef=H(this._elementRef,this._dialog.openDialogs))}},{key:"ngOnChanges",value:function(t){var e=t._matDialogClose||t._matDialogCloseResult;e&&(this.dialogResult=e.currentValue)}},{key:"_onButtonClick",value:function(t){E(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}]),t}();F.\u0275fac=function(t){return new(t||F)(u.ac(T,8),u.ac(u.r),u.ac(L))},F.\u0275dir=u.Vb({type:F,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,e){1&t&&u.mc("click",(function(t){return e._onButtonClick(t)})),2&t&&u.Rb("aria-label",e.ariaLabel||null)("type",e.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[u.Ob]}),F.ctorParameters=function(){return[{type:T,decorators:[{type:u.M}]},{type:u.r},{type:L}]},F.propDecorators={ariaLabel:[{type:u.C,args:["aria-label"]}],type:[{type:u.C}],dialogResult:[{type:u.C,args:["mat-dialog-close"]}],_matDialogClose:[{type:u.C,args:["matDialogClose"]}]};var B=function(){function t(e,n,i){Object(o.a)(this,t),this._dialogRef=e,this._elementRef=n,this._dialog=i,this.id="mat-dialog-title-".concat(N++)}return Object(i.a)(t,[{key:"ngOnInit",value:function(){var t=this;this._dialogRef||(this._dialogRef=H(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then((function(){var e=t._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=t.id)}))}}]),t}();B.\u0275fac=function(t){return new(t||B)(u.ac(T,8),u.ac(u.r),u.ac(L))},B.\u0275dir=u.Vb({type:B,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,e){2&t&&u.ic("id",e.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),B.ctorParameters=function(){return[{type:T,decorators:[{type:u.M}]},{type:u.r},{type:L}]},B.propDecorators={id:[{type:u.C}]};var z=function t(){Object(o.a)(this,t)};z.\u0275fac=function(t){return new(t||z)},z.\u0275dir=u.Vb({type:z,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]});var U=function t(){Object(o.a)(this,t)};function H(t,e){for(var n=t.nativeElement.parentElement;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?e.find((function(t){return t.id===n.id})):null}U.\u0275fac=function(t){return new(t||U)},U.\u0275dir=u.Vb({type:U,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]});var V=function t(){Object(o.a)(this,t)};V.\u0275mod=u.Yb({type:V}),V.\u0275inj=u.Xb({factory:function(t){return new(t||V)},providers:[L,R],imports:[[s.e,c.e,l.c],l.c]})},"0MNC":function(t,e,n){"use strict";n.d(e,"a",(function(){return k})),n.d(e,"b",(function(){return S}));var i=n("vuIU"),r=n("1OyB"),a=n("fXoL"),o=n("8LU1"),s=n("XNiG"),c=n("itXk"),u=n("GyhO"),l=n("HDdC"),h=n("IzEk"),d=n("zP0r"),f=n("Kj3r"),p=n("lJxs"),v=n("JX91"),m=n("1G5W"),g=n("nLfN"),y=function t(){Object(r.a)(this,t)};y.\u0275mod=a.Yb({type:y}),y.\u0275inj=a.Xb({factory:function(t){return new(t||y)}});var b,_=new Set,w=function(){function t(e){Object(r.a)(this,t),this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):x}return Object(i.a)(t,[{key:"matchMedia",value:function(t){return this._platform.WEBKIT&&function(t){if(_.has(t))return;try{b||((b=document.createElement("style")).setAttribute("type","text/css"),document.head.appendChild(b)),b.sheet&&(b.sheet.insertRule("@media ".concat(t," {.fx-query-test{ }}"),0),_.add(t))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}]),t}();function x(t){return{matches:"all"===t||""===t,media:t,addListener:function(){},removeListener:function(){}}}w.\u0275fac=function(t){return new(t||w)(a.jc(g.a))},w.\u0275prov=Object(a.Wb)({factory:function(){return new w(Object(a.jc)(g.a))},token:w,providedIn:"root"}),w.ctorParameters=function(){return[{type:g.a}]};var k=function(){function t(e,n){Object(r.a)(this,t),this._mediaMatcher=e,this._zone=n,this._queries=new Map,this._destroySubject=new s.a}return Object(i.a)(t,[{key:"ngOnDestroy",value:function(){this._destroySubject.next(),this._destroySubject.complete()}},{key:"isMatched",value:function(t){var e=this;return O(Object(o.a)(t)).some((function(t){return e._registerQuery(t).mql.matches}))}},{key:"observe",value:function(t){var e=this,n=O(Object(o.a)(t)).map((function(t){return e._registerQuery(t).observable})),i=Object(c.a)(n);return(i=Object(u.a)(i.pipe(Object(h.a)(1)),i.pipe(Object(d.a)(1),Object(f.a)(0)))).pipe(Object(p.a)((function(t){var e={matches:!1,breakpoints:{}};return t.forEach((function(t){var n=t.matches,i=t.query;e.matches=e.matches||n,e.breakpoints[i]=n})),e})))}},{key:"_registerQuery",value:function(t){var e=this;if(this._queries.has(t))return this._queries.get(t);var n=this._mediaMatcher.matchMedia(t),i={observable:new l.a((function(t){var i=function(n){return e._zone.run((function(){return t.next(n)}))};return n.addListener(i),function(){n.removeListener(i)}})).pipe(Object(v.a)(n),Object(p.a)((function(e){var n=e.matches;return{query:t,matches:n}})),Object(m.a)(this._destroySubject)),mql:n};return this._queries.set(t,i),i}}]),t}();function O(t){return t.map((function(t){return t.split(",")})).reduce((function(t,e){return t.concat(e)})).map((function(t){return t.trim()}))}k.\u0275fac=function(t){return new(t||k)(a.jc(w),a.jc(a.L))},k.\u0275prov=Object(a.Wb)({factory:function(){return new k(Object(a.jc)(w),Object(a.jc)(a.L))},token:k,providedIn:"root"}),k.ctorParameters=function(){return[{type:w},{type:a.L}]};var S={XSmall:"(max-width: 599.99px)",Small:"(min-width: 600px) and (max-width: 959.99px)",Medium:"(min-width: 960px) and (max-width: 1279.99px)",Large:"(min-width: 1280px) and (max-width: 1919.99px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.99px) and (orientation: portrait), (max-width: 959.99px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.99px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.99px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.99px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.99px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.99px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.99px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},"1G5W":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("Ji7U"),r=n("LK+K"),a=n("1OyB"),o=n("vuIU"),s=n("zx2A");function c(t){return function(e){return e.lift(new u(t))}}var u=function(){function t(e){Object(a.a)(this,t),this.notifier=e}return Object(o.a)(t,[{key:"call",value:function(t,e){var n=new l(t),i=Object(s.c)(this.notifier,new s.a(n));return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}]),t}(),l=function(t){Object(i.a)(n,t);var e=Object(r.a)(n);function n(t){var i;return Object(a.a)(this,n),(i=e.call(this,t)).seenValue=!1,i}return Object(o.a)(n,[{key:"notifyNext",value:function(){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(s.b)},"1K8p":function(t,e,n){"use strict";var i=n("jrfk"),r=n("ez49");function a(t){var e=0,n=0,i=0,r=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),i=10*e,r=10*n,"deltaY"in t&&(r=t.deltaY),"deltaX"in t&&(i=t.deltaX),(i||r)&&t.deltaMode&&(1==t.deltaMode?(i*=40,r*=40):(i*=800,r*=800)),i&&!e&&(e=i<1?-1:1),r&&!n&&(n=r<1?-1:1),{spinX:e,spinY:n,pixelX:i,pixelY:r}}a.getEventType=function(){return i.firefox()?"DOMMouseScroll":r("wheel")?"wheel":"mousewheel"},t.exports=a},"1OyB":function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return i}))},"25BE":function(t,e,n){"use strict";function i(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}n.d(e,"a",(function(){return i}))},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2Vo4":function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var i=n("1OyB"),r=n("vuIU"),a=n("ReuC"),o=n("foSv"),s=n("Ji7U"),c=n("LK+K"),u=n("XNiG"),l=n("9ppp"),h=function(t){Object(s.a)(n,t);var e=Object(c.a)(n);function n(t){var r;return Object(i.a)(this,n),(r=e.call(this))._value=t,r}return Object(r.a)(n,[{key:"_subscribe",value:function(t){var e=Object(a.a)(Object(o.a)(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new l.a;return this._value}},{key:"next",value:function(t){Object(a.a)(Object(o.a)(n.prototype),"next",this).call(this,this._value=t)}},{key:"value",get:function(){return this.getValue()}}]),n}(u.a)},"2WcH":function(t,e,n){"use strict";function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}n.d(e,"a",(function(){return i}))},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=!1,r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}}},"3/ER":function(t,e,n){"use strict";(function(t){var i=n("Ju5/"),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=r&&"object"==typeof t&&t&&!t.nodeType&&t,o=a&&a.exports===r?i.a.Buffer:void 0,s=o?o.allocUnsafe:void 0;e.a=function(t,e){if(e)return t.slice();var n=t.length,i=s?s(n):new t.constructor(n);return t.copy(i),i}}).call(this,n("3UD+")(t))},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("1OyB"),r=n("vuIU"),a=n("Ji7U"),o=n("LK+K"),s=function(t){Object(a.a)(n,t);var e=Object(o.a)(n);function n(t,r){var a;return Object(i.a)(this,n),(a=e.call(this,t,r)).scheduler=t,a.work=r,a.pending=!1,a}return Object(r.a)(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n=!1,i=void 0;try{this.work(t)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){Object(a.a)(n,t);var e=Object(o.a)(n);function n(t,r){return Object(i.a)(this,n),e.call(this)}return Object(r.a)(n,[{key:"schedule",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(n("quSY").a))},"3Pt+":function(t,e,n){"use strict";n.d(e,"a",(function(){return _})),n.d(e,"b",(function(){return Ot})),n.d(e,"c",(function(){return Qt})),n.d(e,"d",(function(){return St})),n.d(e,"e",(function(){return Ht})),n.d(e,"f",(function(){return de})),n.d(e,"g",(function(){return v})),n.d(e,"h",(function(){return S})),n.d(e,"i",(function(){return A})),n.d(e,"j",(function(){return M})),n.d(e,"k",(function(){return Tt})),n.d(e,"l",(function(){return fe})),n.d(e,"m",(function(){return R})),n.d(e,"n",(function(){return Nt}));var i=n("JX7q"),r=n("uFwe"),a=n("KQm4"),o=n("Ji7U"),s=n("LK+K"),c=n("1OyB"),u=n("vuIU"),l=n("fXoL"),h=n("ofXK"),d=n("cp0P"),f=n("Cfvw"),p=n("lJxs"),v=new l.A("NgValueAccessor"),m={provide:v,useExisting:Object(l.jb)((function(){return g})),multi:!0},g=function(){function t(e,n){Object(c.a)(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return Object(u.a)(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}();g.\u0275fac=function(t){return new(t||g)(l.ac(l.S),l.ac(l.r))},g.\u0275dir=l.Vb({type:g,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&l.mc("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[l.Pb([m])]}),g.ctorParameters=function(){return[{type:l.S},{type:l.r}]};var y={provide:v,useExisting:Object(l.jb)((function(){return _})),multi:!0};var b=new l.A("CompositionEventMode"),_=function(){function t(e,n,i){var r;Object(c.a)(this,t),this._renderer=e,this._elementRef=n,this._compositionMode=i,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=Object(h.u)()?Object(h.u)().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return Object(u.a)(t,[{key:"writeValue",value:function(t){var e=null==t?"":t;this._renderer.setProperty(this._elementRef.nativeElement,"value",e)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),t}();_.\u0275fac=function(t){return new(t||_)(l.ac(l.S),l.ac(l.r),l.ac(b,8))},_.\u0275dir=l.Vb({type:_,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&l.mc("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[l.Pb([y])]}),_.ctorParameters=function(){return[{type:l.S},{type:l.r},{type:Boolean,decorators:[{type:l.M},{type:l.y,args:[b]}]}]};var w=function(){function t(){Object(c.a)(this,t)}return Object(u.a)(t,[{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),t}();w.\u0275fac=function(t){return new(t||w)},w.\u0275dir=l.Vb({type:w});var x=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(w);x.\u0275fac=function(t){return k(t||x)},x.\u0275dir=l.Vb({type:x,features:[l.Nb]});var k=l.hc(x);function O(){0}var S=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(){var t;return Object(c.a)(this,n),(t=e.apply(this,arguments))._parent=null,t.name=null,t.valueAccessor=null,t._rawValidators=[],t._rawAsyncValidators=[],t}return Object(u.a)(n,[{key:"validator",get:function(){return O()}},{key:"asyncValidator",get:function(){return O()}}]),n}(w),C=function(){function t(e){Object(c.a)(this,t),this._cd=e}return Object(u.a)(t,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),t}(),A=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(t){return Object(c.a)(this,n),e.call(this,t)}return n}(C);A.\u0275fac=function(t){return new(t||A)(l.ac(S,2))},A.\u0275dir=l.Vb({type:A,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&l.Sb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[l.Nb]}),A.ctorParameters=function(){return[{type:S,decorators:[{type:l.X}]}]};var M=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(t){return Object(c.a)(this,n),e.call(this,t)}return n}(C);function T(t){return null==t||0===t.length}function E(t){return null!=t&&"number"==typeof t.length}M.\u0275fac=function(t){return new(t||M)(l.ac(x,2))},M.\u0275dir=l.Vb({type:M,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&l.Sb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[l.Nb]}),M.ctorParameters=function(){return[{type:x,decorators:[{type:l.X}]}]};var P=new l.A("NgValidators"),D=new l.A("NgAsyncValidators"),j=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,R=function(){function t(){Object(c.a)(this,t)}return Object(u.a)(t,null,[{key:"min",value:function(t){return function(e){if(T(e.value)||T(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}},{key:"max",value:function(t){return function(e){if(T(e.value)||T(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}},{key:"required",value:function(t){return T(t.value)?{required:!0}:null}},{key:"requiredTrue",value:function(t){return!0===t.value?null:{required:!0}}},{key:"email",value:function(t){return T(t.value)||j.test(t.value)?null:{email:!0}}},{key:"minLength",value:function(t){return function(e){return T(e.value)||!E(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}}},{key:"maxLength",value:function(t){return function(e){return E(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}}},{key:"pattern",value:function(e){return e?("string"==typeof e?(i="","^"!==e.charAt(0)&&(i+="^"),i+=e,"$"!==e.charAt(e.length-1)&&(i+="$"),n=new RegExp(i)):(i=e.toString(),n=e),function(t){if(T(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:i,actualValue:e}}}):t.nullValidator;var n,i}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){if(!t)return null;var e=t.filter(I);return 0==e.length?null:function(t){return N(F(t,e))}}},{key:"composeAsync",value:function(t){if(!t)return null;var e=t.filter(I);return 0==e.length?null:function(t){var n=F(t,e).map(L);return Object(d.a)(n).pipe(Object(p.a)(N))}}}]),t}();function I(t){return null!=t}function L(t){var e=Object(l.Hb)(t)?Object(f.a)(t):t;return Object(l.Gb)(e),e}function N(t){var e={};return t.forEach((function(t){e=null!=t?Object.assign(Object.assign({},e),t):e})),0===Object.keys(e).length?null:e}function F(t,e){return e.map((function(e){return e(t)}))}function B(t){return t.map((function(t){return function(t){return!t.validate}(t)?t:function(e){return t.validate(e)}}))}var z={provide:v,useExisting:Object(l.jb)((function(){return U})),multi:!0},U=function(){function t(e,n){Object(c.a)(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return Object(u.a)(t,[{key:"writeValue",value:function(t){var e=null==t?"":t;this._renderer.setProperty(this._elementRef.nativeElement,"value",e)}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}();U.\u0275fac=function(t){return new(t||U)(l.ac(l.S),l.ac(l.r))},U.\u0275dir=l.Vb({type:U,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&l.mc("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[l.Pb([z])]}),U.ctorParameters=function(){return[{type:l.S},{type:l.r}]};var H={provide:v,useExisting:Object(l.jb)((function(){return G})),multi:!0};var V=function(){function t(){Object(c.a)(this,t),this._accessors=[]}return Object(u.a)(t,[{key:"add",value:function(t,e){this._accessors.push([t,e])}},{key:"remove",value:function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}},{key:"select",value:function(t){var e=this;this._accessors.forEach((function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)}))}},{key:"_isSameGroup",value:function(t,e){return!!t[0].control&&(t[0]._parent===e._control._parent&&t[1].name===e.name)}}]),t}();V.\u0275fac=function(t){return new(t||V)},V.\u0275prov=l.Wb({token:V,factory:V.\u0275fac});var G=function(){function t(e,n,i,r){Object(c.a)(this,t),this._renderer=e,this._elementRef=n,this._registry=i,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return Object(u.a)(t,[{key:"ngOnInit",value:function(){this._control=this._injector.get(S),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}}},{key:"fireUncheck",value:function(t){this.writeValue(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}}]),t}();G.\u0275fac=function(t){return new(t||G)(l.ac(l.S),l.ac(l.r),l.ac(V),l.ac(l.B))},G.\u0275dir=l.Vb({type:G,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&l.mc("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[l.Pb([H])]}),G.ctorParameters=function(){return[{type:l.S},{type:l.r},{type:V},{type:l.B}]},G.propDecorators={name:[{type:l.C}],formControlName:[{type:l.C}],value:[{type:l.C}]};var W={provide:v,useExisting:Object(l.jb)((function(){return X})),multi:!0},X=function(){function t(e,n){Object(c.a)(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return Object(u.a)(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}();X.\u0275fac=function(t){return new(t||X)(l.ac(l.S),l.ac(l.r))},X.\u0275dir=l.Vb({type:X,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&l.mc("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[l.Pb([W])]}),X.ctorParameters=function(){return[{type:l.S},{type:l.r}]};var q={provide:v,useExisting:Object(l.jb)((function(){return Q})),multi:!0};function Y(t,e){return null==t?"".concat(e):(e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}var Q=function(){function t(e,n){Object(c.a)(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=Object.is}return Object(u.a)(t,[{key:"writeValue",value:function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=Y(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var i=n[e];if(this._compareWith(this._optionMap.get(i),t))return i}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}},{key:"compareWith",set:function(t){this._compareWith=t}}]),t}();Q.\u0275fac=function(t){return new(t||Q)(l.ac(l.S),l.ac(l.r))},Q.\u0275dir=l.Vb({type:Q,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&l.mc("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[l.Pb([q])]}),Q.ctorParameters=function(){return[{type:l.S},{type:l.r}]},Q.propDecorators={compareWith:[{type:l.C}]};var K=function(){function t(e,n,i){Object(c.a)(this,t),this._element=e,this._renderer=n,this._select=i,this._select&&(this.id=this._select._registerOption())}return Object(u.a)(t,[{key:"_setElementValue",value:function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Y(this.id,t)),this._select.writeValue(this._select.value))}},{key:"value",set:function(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}}]),t}();K.\u0275fac=function(t){return new(t||K)(l.ac(l.r),l.ac(l.S),l.ac(Q,9))},K.\u0275dir=l.Vb({type:K,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),K.ctorParameters=function(){return[{type:l.r},{type:l.S},{type:Q,decorators:[{type:l.M},{type:l.u}]}]},K.propDecorators={ngValue:[{type:l.C,args:["ngValue"]}],value:[{type:l.C,args:["value"]}]};var Z={provide:v,useExisting:Object(l.jb)((function(){return $})),multi:!0};function J(t,e){return null==t?"".concat(e):("string"==typeof e&&(e="'".concat(e,"'")),e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}var $=function(){function t(e,n){Object(c.a)(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=Object.is}return Object(u.a)(t,[{key:"writeValue",value:function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var i=t.map((function(t){return n._getOptionId(t)}));e=function(t,e){t._setSelected(i.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){var i=[];if(void 0!==n.selectedOptions)for(var r=n.selectedOptions,a=0;a<r.length;a++){var o=r.item(a),s=e._getOptionValue(o.value);i.push(s)}else for(var c=n.options,u=0;u<c.length;u++){var l=c.item(u);if(l.selected){var h=e._getOptionValue(l.value);i.push(h)}}e.value=i,t(i)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var i=n[e];if(this._compareWith(this._optionMap.get(i)._value,t))return i}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},{key:"compareWith",set:function(t){this._compareWith=t}}]),t}();$.\u0275fac=function(t){return new(t||$)(l.ac(l.S),l.ac(l.r))},$.\u0275dir=l.Vb({type:$,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&l.mc("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[l.Pb([Z])]}),$.ctorParameters=function(){return[{type:l.S},{type:l.r}]},$.propDecorators={compareWith:[{type:l.C}]};var tt=function(){function t(e,n,i){Object(c.a)(this,t),this._element=e,this._renderer=n,this._select=i,this._select&&(this.id=this._select._registerOption(this))}return Object(u.a)(t,[{key:"_setElementValue",value:function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}},{key:"_setSelected",value:function(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(t){null!=this._select&&(this._value=t,this._setElementValue(J(this.id,t)),this._select.writeValue(this._select.value))}},{key:"value",set:function(t){this._select?(this._value=t,this._setElementValue(J(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}}]),t}();function et(t,e){return[].concat(Object(a.a)(e.path),[t])}function nt(t,e){t.validator=R.compose([t.validator,e.validator]),t.asyncValidator=R.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange((function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&rt(t,e)}))}(t,e),function(t,e){t.registerOnChange((function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)}))}(t,e),function(t,e){e.valueAccessor.registerOnTouched((function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&rt(t,e),"submit"!==t.updateOn&&t.markAsTouched()}))}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange((function(t){e.valueAccessor.setDisabledState(t)})),e._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))})),e._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))}))}function it(t,e){var n=function(){0};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),e._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),e._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),t&&t._clearChangeFns()}function rt(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function at(t,e){t.validator=R.compose([t.validator,e.validator]),t.asyncValidator=R.composeAsync([t.asyncValidator,e.asyncValidator])}function ot(t){return null!=t?R.compose(B(t)):null}function st(t){return null!=t?R.composeAsync(B(t)):null}function ct(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}tt.\u0275fac=function(t){return new(t||tt)(l.ac(l.r),l.ac(l.S),l.ac($,9))},tt.\u0275dir=l.Vb({type:tt,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),tt.ctorParameters=function(){return[{type:l.r},{type:l.S},{type:$,decorators:[{type:l.M},{type:l.u}]}]},tt.propDecorators={ngValue:[{type:l.C,args:["ngValue"]}],value:[{type:l.C,args:["value"]}]};var ut=[g,X,U,Q,$,G];function lt(t,e){t._syncPendingControls(),e.forEach((function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}))}function ht(t,e){if(!e)return null;Array.isArray(e);var n=void 0,i=void 0,r=void 0;return e.forEach((function(t){var e;t.constructor===_?n=t:(e=t,ut.some((function(t){return e.constructor===t}))?i=t:r=t)})),r||(i||(n||null))}function dt(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function ft(t,e,n,i){Object(l.lb)()&&"never"!==i&&((null!==i&&"once"!==i||e._ngModelWarningSentOnce)&&("always"!==i||n._ngModelWarningSent)||(e._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}var pt="VALID",vt="INVALID",mt="PENDING",gt="DISABLED";function yt(t){return(xt(t)?t.validators:t)||null}function bt(t){return Array.isArray(t)?ot(t):t||null}function _t(t,e){return(xt(e)?e.asyncValidators:t)||null}function wt(t){return Array.isArray(t)?st(t):t||null}function xt(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var kt=function(){function t(e,n){Object(c.a)(this,t),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=bt(this._rawValidators),this._composedAsyncValidatorFn=wt(this._rawAsyncValidators)}return Object(u.a)(t,[{key:"setValidators",value:function(t){this._rawValidators=t,this._composedValidatorFn=bt(t)}},{key:"setAsyncValidators",value:function(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=wt(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(t){return t.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(t){t.markAsUntouched({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(t){t.markAsPristine({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status=mt,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status=gt,this.errors=null,this._forEachChild((function(e){e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!0)}))}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status=pt,this._forEachChild((function(e){e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!1)}))}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==pt&&this.status!==mt||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(e){return e._updateTreeValidity(t)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?gt:pt}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status=mt,this._hasOwnPendingAsyncValidator=!0;var n=L(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){e._hasOwnPendingAsyncValidator=!1,e.setErrors(n,{emitEvent:t})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(n)),Array.isArray(e)&&0===e.length)return null;var i=t;return e.forEach((function(t){i=i instanceof St?i.controls.hasOwnProperty(t)?i.controls[t]:null:i instanceof Ct&&i.at(t)||null})),i}(this,t,".")}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new l.t,this.statusChanges=new l.t}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?gt:this.errors?vt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mt)?mt:this._anyControlsHaveStatus(vt)?vt:pt}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls((function(e){return e.status===t}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(t){return t.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(t){return t.touched}))}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){xt(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){var e=this._parent&&this._parent.dirty;return!t&&e&&!this._parent._anyControlsDirty()}},{key:"validator",get:function(){return this._composedValidatorFn},set:function(t){this._rawValidators=this._composedValidatorFn=t}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return this.status===pt}},{key:"invalid",get:function(){return this.status===vt}},{key:"pending",get:function(){return this.status==mt}},{key:"disabled",get:function(){return this.status===gt}},{key:"enabled",get:function(){return this.status!==gt}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}}]),t}(),Ot=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return Object(c.a)(this,n),(t=e.call(this,yt(r),_t(a,r)))._onChange=[],t._applyFormState(i),t._setUpdateStrategy(r),t.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),t._initObservables(),t}return Object(u.a)(n,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(t){return t(e.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange))&&(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0)}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),n}(kt),St=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(t,i,r){var a;return Object(c.a)(this,n),(a=e.call(this,yt(i),_t(r,i))).controls=t,a._initObservables(),a._setUpdateStrategy(i),a._setUpControls(),a.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),a}return Object(u.a)(n,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach((function(i){e._throwIfControlMissing(i),e.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(i){e.controls[i]&&e.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,i){n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(t,e,n){return t[n]=e instanceof Ot?e.value:e.getRawValue(),t}))}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,(function(t,e){return!!e._syncPendingControls()||t}));return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach((function(n){return t(e.controls[n],n)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){for(var e=0,n=Object.keys(this.controls);e<n.length;e++){var i=n[e],r=this.controls[i];if(this.contains(i)&&t(r))return!0}return!1}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},(function(e,n,i){return(n.enabled||t.disabled)&&(e[i]=n.value),e}))}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild((function(t,i){n=e(n,t,i)})),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(kt),Ct=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(t,i,r){var a;return Object(c.a)(this,n),(a=e.call(this,yt(i),_t(r,i))).controls=t,a._initObservables(),a._setUpdateStrategy(i),a._setUpControls(),a.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),a}return Object(u.a)(n,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}},{key:"removeAt",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),this.updateValueAndValidity()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach((function(t,i){e._throwIfControlMissing(i),e.at(i).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.forEach((function(t,i){e.at(i)&&e.at(i).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,i){n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map((function(t){return t instanceof Ot?t.value:t.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(t){return t._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce((function(t,e){return!!e._syncPendingControls()||t}),!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index ".concat(t))}},{key:"_forEachChild",value:function(t){this.controls.forEach((function(e,n){t(e,n)}))}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter((function(e){return e.enabled||t.disabled})).map((function(t){return t.value}))}},{key:"_anyControls",value:function(t){return this.controls.some((function(e){return e.enabled&&t(e)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){return t._registerControl(e)}))}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var t,e=Object(r.a)(this.controls);try{for(e.s();!(t=e.n()).done;){if(t.value.enabled)return!1}}catch(n){e.e(n)}finally{e.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),n}(kt),At={provide:x,useExisting:Object(l.jb)((function(){return Tt}))},Mt=Promise.resolve(null),Tt=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(t,i){var r;return Object(c.a)(this,n),(r=e.call(this)).submitted=!1,r._directives=[],r.ngSubmit=new l.t,r.form=new St({},ot(t),st(i)),r}return Object(u.a)(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(t){var e=this;Mt.then((function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),nt(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)}))}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e=this;Mt.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),dt(e._directives,t)}))}},{key:"addFormGroup",value:function(t){var e=this;Mt.then((function(){var n=e._findContainer(t.path),i=new St({});at(i,t),n.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(t){var e=this;Mt.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)}))}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){var n=this;Mt.then((function(){n.form.get(t.path).setValue(e)}))}},{key:"setValue",value:function(t){this.control.setValue(t)}},{key:"onSubmit",value:function(t){return this.submitted=!0,lt(this.form,this._directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.form.reset(t),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(t){return t.pop(),t.length?this.form.get(t):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),n}(x);Tt.\u0275fac=function(t){return new(t||Tt)(l.ac(P,10),l.ac(D,10))},Tt.\u0275dir=l.Vb({type:Tt,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&l.mc("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l.Pb([At]),l.Nb]}),Tt.ctorParameters=function(){return[{type:Array,decorators:[{type:l.M},{type:l.X},{type:l.y,args:[P]}]},{type:Array,decorators:[{type:l.M},{type:l.X},{type:l.y,args:[D]}]}]},Tt.propDecorators={options:[{type:l.C,args:["ngFormOptions"]}]};var Et=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return et(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return ot(this._validators)}},{key:"asyncValidator",get:function(){return st(this._asyncValidators)}}]),n}(x);Et.\u0275fac=function(t){return Pt(t||Et)},Et.\u0275dir=l.Vb({type:Et,features:[l.Nb]});var Pt=l.hc(Et),Dt={provide:x,useExisting:Object(l.jb)((function(){return jt}))},jt=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(t,i,r){var a;return Object(c.a)(this,n),(a=e.call(this))._parent=t,a._validators=i,a._asyncValidators=r,a}return Object(u.a)(n,[{key:"_checkParentType",value:function(){!(this._parent instanceof n)&&this._parent,0}}]),n}(Et);jt.\u0275fac=function(t){return new(t||jt)(l.ac(x,5),l.ac(P,10),l.ac(D,10))},jt.\u0275dir=l.Vb({type:jt,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[l.Pb([Dt]),l.Nb]}),jt.ctorParameters=function(){return[{type:x,decorators:[{type:l.u},{type:l.Y}]},{type:Array,decorators:[{type:l.M},{type:l.X},{type:l.y,args:[P]}]},{type:Array,decorators:[{type:l.M},{type:l.X},{type:l.y,args:[D]}]}]},jt.propDecorators={name:[{type:l.C,args:["ngModelGroup"]}]};var Rt={provide:S,useExisting:Object(l.jb)((function(){return Lt}))},It=Promise.resolve(null),Lt=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(t,r,a,o){var s;return Object(c.a)(this,n),(s=e.call(this)).control=new Ot,s._registered=!1,s.update=new l.t,s._parent=t,s._rawValidators=r||[],s._rawAsyncValidators=a||[],s.valueAccessor=ht(Object(i.a)(s),o),s}return Object(u.a)(n,[{key:"ngOnChanges",value:function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),ct(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){nt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){0}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}},{key:"_updateValue",value:function(t){var e=this;It.then((function(){e.control.setValue(t,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(t){var e=this,n=t.isDisabled.currentValue,i=""===n||n&&"false"!==n;It.then((function(){i&&!e.control.disabled?e.control.disable():!i&&e.control.disabled&&e.control.enable()}))}},{key:"path",get:function(){return this._parent?et(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return ot(this._rawValidators)}},{key:"asyncValidator",get:function(){return st(this._rawAsyncValidators)}}]),n}(S);Lt.\u0275fac=function(t){return new(t||Lt)(l.ac(x,9),l.ac(P,10),l.ac(D,10),l.ac(v,10))},Lt.\u0275dir=l.Vb({type:Lt,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l.Pb([Rt]),l.Nb,l.Ob]}),Lt.ctorParameters=function(){return[{type:x,decorators:[{type:l.M},{type:l.u}]},{type:Array,decorators:[{type:l.M},{type:l.X},{type:l.y,args:[P]}]},{type:Array,decorators:[{type:l.M},{type:l.X},{type:l.y,args:[D]}]},{type:Array,decorators:[{type:l.M},{type:l.X},{type:l.y,args:[v]}]}]},Lt.propDecorators={name:[{type:l.C}],isDisabled:[{type:l.C,args:["disabled"]}],model:[{type:l.C,args:["ngModel"]}],options:[{type:l.C,args:["ngModelOptions"]}],update:[{type:l.N,args:["ngModelChange"]}]};var Nt=function t(){Object(c.a)(this,t)};Nt.\u0275fac=function(t){return new(t||Nt)},Nt.\u0275dir=l.Vb({type:Nt,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});var Ft=new l.A("NgModelWithFormControlWarning"),Bt={provide:S,useExisting:Object(l.jb)((function(){return zt}))},zt=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(t,r,a,o){var s;return Object(c.a)(this,n),(s=e.call(this))._ngModelWarningConfig=o,s.update=new l.t,s._ngModelWarningSent=!1,s._rawValidators=t||[],s._rawAsyncValidators=r||[],s.valueAccessor=ht(Object(i.a)(s),a),s}return Object(u.a)(n,[{key:"ngOnChanges",value:function(t){this._isControlChanged(t)&&(nt(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),ct(t,this.viewModel)&&(ft(0,n,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_isControlChanged",value:function(t){return t.hasOwnProperty("form")}},{key:"isDisabled",set:function(t){0}},{key:"path",get:function(){return[]}},{key:"validator",get:function(){return ot(this._rawValidators)}},{key:"asyncValidator",get:function(){return st(this._rawAsyncValidators)}},{key:"control",get:function(){return this.form}}]),n}(S);zt.\u0275fac=function(t){return new(t||zt)(l.ac(P,10),l.ac(D,10),l.ac(v,10),l.ac(Ft,8))},zt.\u0275dir=l.Vb({type:zt,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[l.Pb([Bt]),l.Nb,l.Ob]}),zt._ngModelWarningSentOnce=!1,zt.ctorParameters=function(){return[{type:Array,decorators:[{type:l.M},{type:l.X},{type:l.y,args:[P]}]},{type:Array,decorators:[{type:l.M},{type:l.X},{type:l.y,args:[D]}]},{type:Array,decorators:[{type:l.M},{type:l.X},{type:l.y,args:[v]}]},{type:String,decorators:[{type:l.M},{type:l.y,args:[Ft]}]}]},zt.propDecorators={form:[{type:l.C,args:["formControl"]}],isDisabled:[{type:l.C,args:["disabled"]}],model:[{type:l.C,args:["ngModel"]}],update:[{type:l.N,args:["ngModelChange"]}]};var Ut={provide:x,useExisting:Object(l.jb)((function(){return Ht}))},Ht=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(t,i){var r;return Object(c.a)(this,n),(r=e.call(this))._validators=t,r._asyncValidators=i,r.submitted=!1,r.directives=[],r.form=null,r.ngSubmit=new l.t,r}return Object(u.a)(n,[{key:"ngOnChanges",value:function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"addControl",value:function(t){var e=this.form.get(t.path);return nt(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){dt(this.directives,t)}},{key:"addFormGroup",value:function(t){var e=this.form.get(t.path);at(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(t){}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"addFormArray",value:function(t){var e=this.form.get(t.path);at(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(t){}},{key:"getFormArray",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){this.form.get(t.path).setValue(e)}},{key:"onSubmit",value:function(t){return this.submitted=!0,lt(this.form,this.directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.form.reset(t),this.submitted=!1}},{key:"_updateDomValue",value:function(){var t=this;this.directives.forEach((function(e){var n=t.form.get(e.path);e.control!==n&&(it(e.control,e),n&&nt(n,e),e.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var t=this;this.form._registerOnCollectionChange((function(){return t._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var t=ot(this._validators);this.form.validator=R.compose([this.form.validator,t]);var e=st(this._asyncValidators);this.form.asyncValidator=R.composeAsync([this.form.asyncValidator,e])}},{key:"_checkFormPresent",value:function(){this.form,0}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}}]),n}(x);Ht.\u0275fac=function(t){return new(t||Ht)(l.ac(P,10),l.ac(D,10))},Ht.\u0275dir=l.Vb({type:Ht,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&l.mc("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l.Pb([Ut]),l.Nb,l.Ob]}),Ht.ctorParameters=function(){return[{type:Array,decorators:[{type:l.M},{type:l.X},{type:l.y,args:[P]}]},{type:Array,decorators:[{type:l.M},{type:l.X},{type:l.y,args:[D]}]}]},Ht.propDecorators={form:[{type:l.C,args:["formGroup"]}],ngSubmit:[{type:l.N}]};var Vt={provide:x,useExisting:Object(l.jb)((function(){return Gt}))},Gt=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(t,i,r){var a;return Object(c.a)(this,n),(a=e.call(this))._parent=t,a._validators=i,a._asyncValidators=r,a}return Object(u.a)(n,[{key:"_checkParentType",value:function(){qt(this._parent),0}}]),n}(Et);Gt.\u0275fac=function(t){return new(t||Gt)(l.ac(x,13),l.ac(P,10),l.ac(D,10))},Gt.\u0275dir=l.Vb({type:Gt,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[l.Pb([Vt]),l.Nb]}),Gt.ctorParameters=function(){return[{type:x,decorators:[{type:l.M},{type:l.u},{type:l.Y}]},{type:Array,decorators:[{type:l.M},{type:l.X},{type:l.y,args:[P]}]},{type:Array,decorators:[{type:l.M},{type:l.X},{type:l.y,args:[D]}]}]},Gt.propDecorators={name:[{type:l.C,args:["formGroupName"]}]};var Wt={provide:x,useExisting:Object(l.jb)((function(){return Xt}))},Xt=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(t,i,r){var a;return Object(c.a)(this,n),(a=e.call(this))._parent=t,a._validators=i,a._asyncValidators=r,a}return Object(u.a)(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormArray(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormArray(this)}},{key:"_checkParentType",value:function(){qt(this._parent),0}},{key:"control",get:function(){return this.formDirective.getFormArray(this)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"path",get:function(){return et(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"validator",get:function(){return ot(this._validators)}},{key:"asyncValidator",get:function(){return st(this._asyncValidators)}}]),n}(x);function qt(t){return!(t instanceof Gt||t instanceof Ht||t instanceof Xt)}Xt.\u0275fac=function(t){return new(t||Xt)(l.ac(x,13),l.ac(P,10),l.ac(D,10))},Xt.\u0275dir=l.Vb({type:Xt,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[l.Pb([Wt]),l.Nb]}),Xt.ctorParameters=function(){return[{type:x,decorators:[{type:l.M},{type:l.u},{type:l.Y}]},{type:Array,decorators:[{type:l.M},{type:l.X},{type:l.y,args:[P]}]},{type:Array,decorators:[{type:l.M},{type:l.X},{type:l.y,args:[D]}]}]},Xt.propDecorators={name:[{type:l.C,args:["formArrayName"]}]};var Yt={provide:S,useExisting:Object(l.jb)((function(){return Qt}))},Qt=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(t,r,a,o,s){var u;return Object(c.a)(this,n),(u=e.call(this))._ngModelWarningConfig=s,u._added=!1,u.update=new l.t,u._ngModelWarningSent=!1,u._parent=t,u._rawValidators=r||[],u._rawAsyncValidators=a||[],u.valueAccessor=ht(Object(i.a)(u),o),u}return Object(u.a)(n,[{key:"ngOnChanges",value:function(t){this._added||this._setUpControl(),ct(t,this.viewModel)&&(ft(0,n,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_checkParentType",value:function(){0}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}},{key:"isDisabled",set:function(t){0}},{key:"path",get:function(){return et(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return ot(this._rawValidators)}},{key:"asyncValidator",get:function(){return st(this._rawAsyncValidators)}}]),n}(S);Qt.\u0275fac=function(t){return new(t||Qt)(l.ac(x,13),l.ac(P,10),l.ac(D,10),l.ac(v,10),l.ac(Ft,8))},Qt.\u0275dir=l.Vb({type:Qt,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l.Pb([Yt]),l.Nb,l.Ob]}),Qt._ngModelWarningSentOnce=!1,Qt.ctorParameters=function(){return[{type:x,decorators:[{type:l.M},{type:l.u},{type:l.Y}]},{type:Array,decorators:[{type:l.M},{type:l.X},{type:l.y,args:[P]}]},{type:Array,decorators:[{type:l.M},{type:l.X},{type:l.y,args:[D]}]},{type:Array,decorators:[{type:l.M},{type:l.X},{type:l.y,args:[v]}]},{type:String,decorators:[{type:l.M},{type:l.y,args:[Ft]}]}]},Qt.propDecorators={name:[{type:l.C,args:["formControlName"]}],isDisabled:[{type:l.C,args:["disabled"]}],model:[{type:l.C,args:["ngModel"]}],update:[{type:l.N,args:["ngModelChange"]}]};var Kt={provide:P,useExisting:Object(l.jb)((function(){return Jt})),multi:!0},Zt={provide:P,useExisting:Object(l.jb)((function(){return $t})),multi:!0},Jt=function(){function t(){Object(c.a)(this,t),this._required=!1}return Object(u.a)(t,[{key:"validate",value:function(t){return this.required?R.required(t):null}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}},{key:"required",get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&"false"!=="".concat(t),this._onChange&&this._onChange()}}]),t}();Jt.\u0275fac=function(t){return new(t||Jt)},Jt.\u0275dir=l.Vb({type:Jt,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&l.Rb("required",e.required?"":null)},inputs:{required:"required"},features:[l.Pb([Kt])]}),Jt.propDecorators={required:[{type:l.C}]};var $t=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"validate",value:function(t){return this.required?R.requiredTrue(t):null}}]),n}(Jt);$t.\u0275fac=function(t){return te(t||$t)},$t.\u0275dir=l.Vb({type:$t,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&l.Rb("required",e.required?"":null)},features:[l.Pb([Zt]),l.Nb]});var te=l.hc($t),ee={provide:P,useExisting:Object(l.jb)((function(){return ne})),multi:!0},ne=function(){function t(){Object(c.a)(this,t),this._enabled=!1}return Object(u.a)(t,[{key:"validate",value:function(t){return this._enabled?R.email(t):null}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}},{key:"email",set:function(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()}}]),t}();ne.\u0275fac=function(t){return new(t||ne)},ne.\u0275dir=l.Vb({type:ne,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[l.Pb([ee])]}),ne.propDecorators={email:[{type:l.C}]};var ie={provide:P,useExisting:Object(l.jb)((function(){return re})),multi:!0},re=function(){function t(){Object(c.a)(this,t),this._validator=R.nullValidator}return Object(u.a)(t,[{key:"ngOnChanges",value:function(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}},{key:"validate",value:function(t){return null==this.minlength?null:this._validator(t)}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}},{key:"_createValidator",value:function(){this._validator=R.minLength("number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10))}}]),t}();re.\u0275fac=function(t){return new(t||re)},re.\u0275dir=l.Vb({type:re,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&l.Rb("minlength",e.minlength?e.minlength:null)},inputs:{minlength:"minlength"},features:[l.Pb([ie]),l.Ob]}),re.propDecorators={minlength:[{type:l.C}]};var ae={provide:P,useExisting:Object(l.jb)((function(){return oe})),multi:!0},oe=function(){function t(){Object(c.a)(this,t),this._validator=R.nullValidator}return Object(u.a)(t,[{key:"ngOnChanges",value:function(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}},{key:"validate",value:function(t){return null!=this.maxlength?this._validator(t):null}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}},{key:"_createValidator",value:function(){this._validator=R.maxLength("number"==typeof this.maxlength?this.maxlength:parseInt(this.maxlength,10))}}]),t}();oe.\u0275fac=function(t){return new(t||oe)},oe.\u0275dir=l.Vb({type:oe,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&l.Rb("maxlength",e.maxlength?e.maxlength:null)},inputs:{maxlength:"maxlength"},features:[l.Pb([ae]),l.Ob]}),oe.propDecorators={maxlength:[{type:l.C}]};var se={provide:P,useExisting:Object(l.jb)((function(){return ce})),multi:!0},ce=function(){function t(){Object(c.a)(this,t),this._validator=R.nullValidator}return Object(u.a)(t,[{key:"ngOnChanges",value:function(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())}},{key:"validate",value:function(t){return this._validator(t)}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}},{key:"_createValidator",value:function(){this._validator=R.pattern(this.pattern)}}]),t}();ce.\u0275fac=function(t){return new(t||ce)},ce.\u0275dir=l.Vb({type:ce,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&l.Rb("pattern",e.pattern?e.pattern:null)},inputs:{pattern:"pattern"},features:[l.Pb([se]),l.Ob]}),ce.propDecorators={pattern:[{type:l.C}]};var ue=function t(){Object(c.a)(this,t)};function le(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}ue.\u0275mod=l.Yb({type:ue}),ue.\u0275inj=l.Xb({factory:function(t){return new(t||ue)}});var he=function(){function t(){Object(c.a)(this,t)}return Object(u.a)(t,[{key:"group",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(t),i=null,r=null,a=void 0;return null!=e&&(le(e)?(i=null!=e.validators?e.validators:null,r=null!=e.asyncValidators?e.asyncValidators:null,a=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,r=null!=e.asyncValidator?e.asyncValidator:null)),new St(n,{asyncValidators:r,updateOn:a,validators:i})}},{key:"control",value:function(t,e,n){return new Ot(t,e,n)}},{key:"array",value:function(t,e,n){var i=this,r=t.map((function(t){return i._createControl(t)}));return new Ct(r,e,n)}},{key:"_reduceControls",value:function(t){var e=this,n={};return Object.keys(t).forEach((function(i){n[i]=e._createControl(t[i])})),n}},{key:"_createControl",value:function(t){if(t instanceof Ot||t instanceof St||t instanceof Ct)return t;if(Array.isArray(t)){var e=t[0],n=t.length>1?t[1]:null,i=t.length>2?t[2]:null;return this.control(e,n,i)}return this.control(t)}}]),t}();he.\u0275fac=function(t){return new(t||he)},he.\u0275prov=l.Wb({token:he,factory:he.\u0275fac});new l.db("10.2.0");var de=function t(){Object(c.a)(this,t)};de.\u0275mod=l.Yb({type:de}),de.\u0275inj=l.Xb({factory:function(t){return new(t||de)},providers:[V],imports:[ue]});var fe=function(){function t(){Object(c.a)(this,t)}return Object(u.a)(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:Ft,useValue:e.warnOnNgModelWithFormControl}]}}}]),t}();fe.\u0275mod=l.Yb({type:fe}),fe.\u0275inj=l.Xb({factory:function(t){return new(t||fe)},providers:[he,V],imports:[ue]})},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"3UWI":function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var i=n("D0XW"),r=n("Ji7U"),a=n("LK+K"),o=n("1OyB"),s=n("vuIU"),c=n("zx2A");function u(t){return function(e){return e.lift(new l(t))}}var l=function(){function t(e){Object(o.a)(this,t),this.durationSelector=e}return Object(s.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new h(t,this.durationSelector))}}]),t}(),h=function(t){Object(r.a)(n,t);var e=Object(a.a)(n);function n(t,i){var r;return Object(o.a)(this,n),(r=e.call(this,t)).durationSelector=i,r.hasValue=!1,r}return Object(s.a)(n,[{key:"_next",value:function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e;try{e=(0,this.durationSelector)(t)}catch(i){return this.destination.error(i)}var n=Object(c.c)(e,new c.a(this));!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}},{key:"notifyNext",value:function(){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),n}(c.b),d=n("HDdC"),f=n("DH7j");function p(t){return!Object(f.a)(t)&&t-parseFloat(t)+1>=0}var v=n("z+Ro");function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=-1;return p(e)?r=Number(e)<1?1:Number(e):Object(v.a)(e)&&(n=e),Object(v.a)(n)||(n=i.a),new d.a((function(e){var i=p(t)?t:+t-n.now();return n.schedule(g,i,{index:0,period:r,subscriber:e})}))}function g(t){var e=t.index,n=t.period,i=t.subscriber;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.a;return u((function(){return m(t,e)}))}},"4I5i":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}()},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n("Ji7U"),r=n("LK+K"),a=n("1OyB"),o=n("vuIU"),s=n("lJxs"),c=n("Cfvw"),u=n("zx2A");function l(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(i){return i.pipe(l((function(n,i){return Object(c.a)(t(n,i)).pipe(Object(s.a)((function(t,r){return e(n,t,i,r)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new h(t,n))})}var h=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;Object(a.a)(this,t),this.project=e,this.concurrent=n}return Object(o.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new d(t,this.project,this.concurrent))}}]),t}(),d=function(t){Object(i.a)(n,t);var e=Object(r.a)(n);function n(t,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return Object(a.a)(this,n),(r=e.call(this,t)).project=i,r.concurrent=o,r.hasCompleted=!1,r.buffer=[],r.active=0,r.index=0,r}return Object(o.a)(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=new u.a(this),n=this.destination;n.add(e);var i=Object(u.c)(t,e);i!==e&&n.add(i)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyComplete",value:function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(u.b)},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var i=n("1OyB"),r=n("vuIU"),a=n("JX7q"),o=n("ReuC"),s=n("foSv"),c=n("Ji7U"),u=n("LK+K"),l=n("n6bG"),h=n("gRHU"),d=n("quSY"),f=n("2QA8"),p=n("2fFW"),v=n("NJ4a"),m=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t,r,o){var s;switch(Object(i.a)(this,n),(s=e.call(this)).syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=h.a;break;case 1:if(!t){s.destination=h.a;break}if("object"==typeof t){t instanceof n?(s.syncErrorThrowable=t.syncErrorThrowable,s.destination=t,t.add(Object(a.a)(s))):(s.syncErrorThrowable=!0,s.destination=new g(Object(a.a)(s),t));break}default:s.syncErrorThrowable=!0,s.destination=new g(Object(a.a)(s),t,r,o)}return s}return Object(r.a)(n,[{key:f.a,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,Object(o.a)(Object(s.a)(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,i){var r=new n(t,e,i);return r.syncErrorThrowable=!1,r}}]),n}(d.a),g=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t,r,o,s){var c,u;Object(i.a)(this,n),(c=e.call(this))._parentSubscriber=t;var d=Object(a.a)(c);return Object(l.a)(r)?u=r:r&&(u=r.next,o=r.error,s=r.complete,r!==h.a&&(d=Object.create(r),Object(l.a)(d.unsubscribe)&&c.add(d.unsubscribe.bind(d)),d.unsubscribe=c.unsubscribe.bind(Object(a.a)(c)))),c._context=d,c._next=u,c._error=o,c._complete=s,c}return Object(r.a)(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;p.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=p.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(v.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(v.a)(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};p.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),p.a.useDeprecatedSynchronousErrorHandling)throw n;Object(v.a)(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!p.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return p.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(Object(v.a)(i),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(m)},"7u5G":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("2Vo4"),r=n("XNiG"),a=n("fXoL"),o=function(){function t(){this.firstInteraction=new i.a(!1),this.userInteraction=new r.a,this.isActive=!1,this.angle={degree:0,radian:0},this.force=0,this.distance=0,this.startX=0,this.startY=0,this.speed={x:0,y:0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.Wb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"8LU1":function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return c})),n.d(e,"d",(function(){return u})),n.d(e,"e",(function(){return a}));var i=n("fXoL");function r(t){return null!=t&&"false"!=="".concat(t)}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(t)?Number(t):e}function o(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function s(t){return Array.isArray(t)?t:[t]}function c(t){return null==t?"":"string"==typeof t?t:"".concat(t,"px")}function u(t){return t instanceof i.r?t.nativeElement:t}},"8mYk":function(t,e,n){"use strict";n.d(e,"a",(function(){return x})),n.d(e,"b",(function(){return E})),n.d(e,"c",(function(){return P}));var i=n("o0o1"),r=n.n(i),a=n("uFwe"),o=n("KQm4"),s=n("ODXe"),c=n("vuIU"),u=n("1OyB"),l=n("fXoL"),h=n("ofXK"),d=n("xgIS"),f=n("mrSG"),p=n("tyNb"),v=n("pLZG"),m=n("zP0r"),g=function t(){Object(u.a)(this,t)};g.\u0275fac=function(t){return new(t||g)},g.\u0275dir=l.Vb({type:g,selectors:[["","gaEvent","","gaCategory",""],["","gaCategory",""]],inputs:{gaCategory:"gaCategory"},exportAs:["gaCategory"]}),g.ctorParameters=function(){return[]},g.propDecorators={gaCategory:[{type:l.C}]};var y=new l.A("ngx-google-analytics-settings",{factory:function(){return{trackingCode:"",enableTracing:!1}}});var b=new l.A("ngx-window",{providedIn:"root",factory:function(){return t=Object(l.kb)(l.O),Object(h.r)(t)?window:null;var t}});var _=new l.A("ngx-data-layer",{providedIn:"root",factory:function(){return function(t){return t?t.dataLayer=t.dataLayer||[]:null}(Object(l.kb)(b))}});var w=new l.A("ngx-gtag-fn",{providedIn:"root",factory:function(){return function(t,e){return t?t.gtag=t.gtag||function(){e.push(arguments)}:null}(Object(l.kb)(b),Object(l.kb)(_))}}),x=function(){function t(e,n,i){Object(u.a)(this,t),this.settings=e,this._document=n,this._gtag=i}return Object(c.a)(t,[{key:"throw",value:function(t){(this.settings.enableTracing||Object(l.lb)())&&console&&console.error&&console.error(t)}},{key:"toKeyValue",value:function(t){return t.size>0?Array.from(t).reduce((function(t,e){var n=Object(s.a)(e,2),i=n[0],r=n[1];return Object.defineProperty(t,i,{value:r,enumerable:!0})}),{}):void 0}},{key:"gtag",value:function(){try{for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._gtag.apply(this,Object(o.a)(e.filter((function(t){return void 0!==t}))))}catch(i){this.throw(i)}}},{key:"event",value:function(t,e,n,i,r){try{var a=new Map;e&&a.set("event_category",e),n&&a.set("event_label",n),i&&a.set("value",i),void 0!==r&&a.set("interaction",r);var o=this.toKeyValue(a);o?this.gtag("event",t,o):this.gtag("event",t)}catch(s){this.throw(s)}}},{key:"pageView",value:function(t,e,n,i){try{var r=new Map([["page_path",t]]);e&&r.set("page_title",e),(n||this.document)&&r.set("page_location",n||this.document.location.href),i&&Object.entries(i).map((function(t){var e=Object(s.a)(t,2),n=e[0],i=e[1];return r.set(n,i)})),this.gtag("config",this.settings.trackingCode,this.toKeyValue(r))}catch(a){this.throw(a)}}},{key:"appView",value:function(t,e,n,i,r){try{var a=new Map([["screen_name",t],["app_name",e]]);n&&a.set("app_id",n),i&&a.set("app_version",i),r&&a.set("app_installer_id",r),this.gtag("event","screen_view",this.toKeyValue(a))}catch(o){this.throw(o)}}},{key:"set",value:function(){try{for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._gtag.apply(this,["set"].concat(e))}catch(i){this.throw(i)}}},{key:"exception",value:function(t,e){try{var n=new Map;t&&n.set("description",t),e&&n.set("fatal",e),this.toKeyValue(n)?this.gtag("event","exception",this.toKeyValue(n)):this.gtag("event","exception")}catch(i){this.throw(i)}}},{key:"document",get:function(){return this._document}}]),t}();x.\u0275fac=function(t){return new(t||x)(l.jc(y),l.jc(h.d),l.jc(w))},x.\u0275prov=Object(l.Wb)({factory:function(){return new x(Object(l.jc)(y),Object(l.jc)(h.d),Object(l.jc)(w))},token:x,providedIn:"root"}),x.ctorParameters=function(){return[{type:void 0,decorators:[{type:l.y,args:[y]}]},{type:void 0,decorators:[{type:l.y,args:[h.d]}]},{type:void 0,decorators:[{type:l.y,args:[w]}]}]};var k=function(){function t(e,n,i,r){Object(u.a)(this,t),this.gaCategoryDirective=e,this.gaService=n,this.settings=i,this.el=r,this.gaBind="click"}return Object(c.a)(t,[{key:"ngOnDestroy",value:function(){this.bindSubscription&&this.bindSubscription.unsubscribe()}},{key:"trigger",value:function(){try{if(!this.gaAction&&!this.gaEvent)throw new Error("You must provide a gaAction attribute to identify this event.");this.gaService.event(this.gaAction||this.gaEvent,this.gaCategoryDirective?this.gaCategoryDirective.gaCategory:void 0,this.gaLabel||this.label,this.gaValue,this.gaInteraction)}catch(t){this.throw(t)}}},{key:"throw",value:function(t){(Object(l.lb)()||this.settings.enableTracing)&&console&&console.warn&&console.warn(t)}},{key:"gaBind",set:function(t){var e=this;this.bindSubscription&&this.bindSubscription.unsubscribe(),this._gaBind=t,this.bindSubscription=Object(d.a)(this.el.nativeElement,t).subscribe((function(){return e.trigger()}))},get:function(){return this._gaBind}}]),t}();k.\u0275fac=function(t){return new(t||k)(l.ac(g,8),l.ac(x),l.ac(y),l.ac(l.r))},k.\u0275dir=l.Vb({type:k,selectors:[["","gaEvent",""]],inputs:{gaBind:"gaBind",gaAction:"gaAction",gaLabel:"gaLabel",label:"label",gaValue:"gaValue",gaInteraction:"gaInteraction",gaEvent:"gaEvent"},exportAs:["gaEvent"]}),k.ctorParameters=function(){return[{type:g,decorators:[{type:l.M}]},{type:x},{type:void 0,decorators:[{type:l.y,args:[y]}]},{type:l.r}]},k.propDecorators={gaAction:[{type:l.C}],gaLabel:[{type:l.C}],label:[{type:l.C}],gaValue:[{type:l.C}],gaInteraction:[{type:l.C}],gaEvent:[{type:l.C}],gaBind:[{type:l.C}]};var O,S=function(){function t(e){Object(u.a)(this,t),this.gaEvent=e,this.gaBind="focus"}return Object(c.a)(t,[{key:"gaBind",set:function(t){this.gaEvent&&(this.gaEvent.gaBind=t)}}]),t}();S.\u0275fac=function(t){return new(t||S)(l.ac(k,9))},S.\u0275dir=l.Vb({type:S,selectors:[["input","gaEvent",""],["select","gaEvent",""],["textarea","gaEvent",""]],inputs:{gaBind:"gaBind"}}),S.ctorParameters=function(){return[{type:k,decorators:[{type:l.u},{type:l.M}]}]},S.propDecorators={gaBind:[{type:l.C}]},function(t){t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULT="view_search_results",t.VIEW_SEARCH_RESULTS="view_search_results"}(O||(O={}));var C={provide:l.d,multi:!0,useFactory:function(t,e,n){var i=this;return function(){return Object(f.a)(i,void 0,void 0,r.a.mark((function i(){var s,c,u,h,d;return r.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(t.trackingCode){i.next=3;break}return Object(l.lb)()||console.error("Empty tracking code for Google Analytics. Make sure to provide one when initializing NgxGoogleAnalyticsModule."),i.abrupt("return");case 3:if(e){i.next=6;break}return Object(l.lb)()||console.error("Was not possible create or read gtag() fn. Make sure this module is running on a Browser w/ access to Window interface."),i.abrupt("return");case 6:n||Object(l.lb)()||console.error("Was not possible to access Document interface. Make sure this module is running on a Browser w/ access do Document interface."),t.uri=t.uri||"https://www.googletagmanager.com/gtag/js?id=".concat(t.trackingCode),s=[{command:"js",values:[new Date]},{command:"config",values:[t.trackingCode]}],t.initCommands=[].concat(s,Object(o.a)(t.initCommands||[])),c=Object(a.a)(t.initCommands);try{for(c.s();!(u=c.n()).done;)h=u.value,e.apply(void 0,[h.command].concat(Object(o.a)(h.values)))}catch(r){c.e(r)}finally{c.f()}(d=n.createElement("script")).async=!0,d.src=t.uri,t.nonce&&d.setAttribute("nonce",t.nonce),n.getElementsByTagName("head")[0].appendChild(d);case 18:case"end":return i.stop()}}),i)})))}},deps:[y,w,h.d]};var A=new l.A("ngx-google-analytics-routing-settings",{factory:function(){return{}}}),M={provide:l.b,multi:!0,useFactory:function(t,e){var n=this;return function(i){return Object(f.a)(n,void 0,void 0,r.a.mark((function n(){var a,o,s,c,u,l,h,d,f;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=i.injector.get(p.c),s=(o=null!=t?t:{}).include,c=void 0===s?[]:s,u=o.exclude,l=void 0===u?[]:u,h=T(c),d=T(l),f=a.events.pipe(Object(v.a)((function(t){return t instanceof p.b})),Object(m.a)(1),Object(v.a)((function(t){return!(h.length>0)||h.some((function(e){return e.test(t.urlAfterRedirects)}))})),Object(v.a)((function(t){return!(d.length>0)||!d.some((function(e){return e.test(t.urlAfterRedirects)}))}))).subscribe((function(t){return e.pageView(t.urlAfterRedirects,void 0)})),i.onDestroy((function(){return f.unsubscribe()}));case 6:case"end":return n.stop()}}),n)})))}},deps:[A,x]};function T(t){return t.map((function(t){return t instanceof RegExp?t:new RegExp("^".concat(t.replace("*",".*"),"$"),"i")}))}var E=function(){function t(){Object(u.a)(this,t)}return Object(c.a)(t,null,[{key:"forRoot",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;return{ngModule:t,providers:[{provide:y,useValue:{trackingCode:e,initCommands:n,uri:i,enableTracing:r,nonce:a}},C]}}}]),t}();E.\u0275mod=l.Yb({type:E}),E.\u0275inj=l.Xb({factory:function(t){return new(t||E)},imports:[[]]});var P=function(){function t(){Object(u.a)(this,t)}return Object(c.a)(t,null,[{key:"forRoot",value:function(e){return{ngModule:t,providers:[{provide:A,useValue:null!=e?e:{}}]}}}]),t}();P.\u0275mod=l.Yb({type:P}),P.\u0275inj=l.Xb({factory:function(t){return new(t||P)},providers:[M],imports:[[h.c,E]]})},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},BsWD:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("a3WO");function r(t,e){if(t){if("string"==typeof t)return Object(i.a)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(i.a)(t,e):void 0}}},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n("HDdC"),r=n("SeVD"),a=n("quSY"),o=n("kJWO");var s=n("jZKg"),c=n("Lhse");var u=n("c2HN"),l=n("I55L");function h(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new i.a((function(n){var i=new a.a;return i.add(e.schedule((function(){var r=t[o.a]();i.add(r.subscribe({next:function(t){i.add(e.schedule((function(){return n.next(t)})))},error:function(t){i.add(e.schedule((function(){return n.error(t)})))},complete:function(){i.add(e.schedule((function(){return n.complete()})))}}))}))),i}))}(t,e);if(Object(u.a)(t))return function(t,e){return new i.a((function(n){var i=new a.a;return i.add(e.schedule((function(){return t.then((function(t){i.add(e.schedule((function(){n.next(t),i.add(e.schedule((function(){return n.complete()})))})))}),(function(t){i.add(e.schedule((function(){return n.error(t)})))}))}))),i}))}(t,e);if(Object(l.a)(t))return Object(s.a)(t,e);if(function(t){return t&&"function"==typeof t[c.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new i.a((function(n){var i,r=new a.a;return r.add((function(){i&&"function"==typeof i.return&&i.return()})),r.add(e.schedule((function(){i=t[c.a](),r.add(e.schedule((function(){if(!n.closed){var t,e;try{var r=i.next();t=r.value,e=r.done}catch(a){return void n.error(a)}e?n.complete():(n.next(t),this.schedule())}})))}))),r}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function d(t,e){return e?h(t,e):t instanceof i.a?t:new i.a(Object(r.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("3N8a"),r=new(n("IjjT").a)(i.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=Array.isArray||function(t){return t&&"number"==typeof t.length}},DSFK:function(t,e,n){"use strict";function i(t){if(Array.isArray(t))return t}n.d(e,"a",(function(){return i}))},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a}));var i=n("HDdC"),r=new i.a((function(t){return t.complete()}));function a(t){return t?function(t){return new i.a((function(e){return t.schedule((function(){return e.complete()}))}))}(t):r}},FKr1:function(t,e,n){"use strict";n.d(e,"a",(function(){return X})),n.d(e,"b",(function(){return kt})),n.d(e,"c",(function(){return A})),n.d(e,"d",(function(){return q})),n.d(e,"e",(function(){return K})),n.d(e,"f",(function(){return ot})),n.d(e,"g",(function(){return st})),n.d(e,"h",(function(){return T})),n.d(e,"i",(function(){return E})),n.d(e,"j",(function(){return M})),n.d(e,"k",(function(){return P})),n.d(e,"l",(function(){return Y}));var i=n("JX7q"),r=n("ReuC"),a=n("foSv"),o=n("Ji7U"),s=n("LK+K"),c=n("vuIU"),u=n("1OyB"),l=n("fXoL"),h=n("u47x"),d=n("cH1L"),f=new l.db("10.2.5"),p=n("ofXK"),v=n("8LU1"),m=n("XNiG"),g=(n("HDdC"),n("nLfN")),y=n("JX91"),b=n("R1ws"),_=n("FtGj"),w=["*",[["mat-option"],["ng-container"]]];function x(t,e){if(1&t&&l.bc(0,"mat-pseudo-checkbox",3),2&t){var n=l.qc();l.vc("state",n.selected?"checked":"unchecked")("disabled",n.disabled)}}new l.db("10.2.5");var k=function t(){Object(u.a)(this,t)};k.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",k.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",k.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",k.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)";var O=function t(){Object(u.a)(this,t)};O.COMPLEX="375ms",O.ENTERING="225ms",O.EXITING="195ms";var S=new l.db("10.2.5");var C=new l.A("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}}),A=function(){function t(e,n,i){Object(u.a)(this,t),this._hasDoneGlobalChecks=!1,this._document=i,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=n,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}return Object(c.a)(t,[{key:"_getDocument",value:function(){var t=this._document||document;return"object"==typeof t&&t?t:null}},{key:"_getWindow",value:function(){var t=this._getDocument(),e=(null==t?void 0:t.defaultView)||window;return"object"==typeof e&&e?e:null}},{key:"_checksAreEnabled",value:function(){return Object(l.lb)()&&!this._isTestEnv()}},{key:"_isTestEnv",value:function(){var t=this._getWindow();return t&&(t.__karma__||t.jasmine)}},{key:"_checkDoctypeIsDefined",value:function(){var t=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),e=this._getDocument();t&&e&&!e.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}},{key:"_checkThemeIsPresent",value:function(){var t=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,e=this._getDocument();if(!t&&e&&e.body&&"function"==typeof getComputedStyle){var n=e.createElement("div");n.classList.add("mat-theme-loaded-marker"),e.body.appendChild(n);var i=getComputedStyle(n);i&&"none"!==i.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),e.body.removeChild(n)}}},{key:"_checkCdkVersionMatch",value:function(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&S.full!==f.full&&console.warn("The Angular Material version ("+S.full+") does not match the Angular CDK version ("+f.full+").\nPlease ensure the versions of these two packages exactly match.")}}]),t}();function M(t){return function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(u.a)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r)))._disabled=!1,t}return Object(c.a)(n,[{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Object(v.b)(t)}}]),n}(t)}function T(t,e){return function(t){Object(o.a)(i,t);var n=Object(s.a)(i);function i(){var t;Object(u.a)(this,i);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=n.call.apply(n,[this].concat(a))).defaultColor=e,t.color=e,t}return Object(c.a)(i,[{key:"color",get:function(){return this._color},set:function(t){var e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-".concat(this._color)),e&&this._elementRef.nativeElement.classList.add("mat-".concat(e)),this._color=e)}}]),i}(t)}function E(t){return function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(u.a)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r)))._disableRipple=!1,t}return Object(c.a)(n,[{key:"disableRipple",get:function(){return this._disableRipple},set:function(t){this._disableRipple=Object(v.b)(t)}}]),n}(t)}function P(t){return function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(u.a)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).errorState=!1,t.stateChanges=new m.a,t}return Object(c.a)(n,[{key:"updateErrorState",value:function(){var t=this.errorState,e=this._parentFormGroup||this._parentForm,n=this.errorStateMatcher||this._defaultErrorStateMatcher,i=this.ngControl?this.ngControl.control:null,r=n.isErrorState(i,e);r!==t&&(this.errorState=r,this.stateChanges.next())}}]),n}(t)}A.\u0275mod=l.Yb({type:A}),A.\u0275inj=l.Xb({factory:function(t){return new(t||A)(l.jc(h.e),l.jc(C,8),l.jc(p.d,8))},imports:[[d.a],d.a]}),A.ctorParameters=function(){return[{type:h.e},{type:void 0,decorators:[{type:l.M},{type:l.y,args:[C]}]},{type:void 0,decorators:[{type:l.M},{type:l.y,args:[p.d]}]}]};var D=new l.A("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return Object(l.kb)(l.F)}});l.F;var j,R=function(){function t(){Object(u.a)(this,t),this._localeChanges=new m.a,this.localeChanges=this._localeChanges}return Object(c.a)(t,[{key:"getValidDateOrNull",value:function(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}},{key:"deserialize",value:function(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}},{key:"setLocale",value:function(t){this.locale=t,this._localeChanges.next()}},{key:"compareDate",value:function(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}},{key:"sameDate",value:function(t,e){if(t&&e){var n=this.isValid(t),i=this.isValid(e);return n&&i?!this.compareDate(t,e):n==i}return t==e}},{key:"clampDate",value:function(t,e,n){return e&&this.compareDate(t,e)<0?e:n&&this.compareDate(t,n)>0?n:t}}]),t}(),I=new l.A("mat-date-formats");try{j="undefined"!=typeof Intl}catch(Ot){j=!1}var L={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},N=z(31,(function(t){return String(t+1)})),F={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},B=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function z(t,e){for(var n=Array(t),i=0;i<t;i++)n[i]=e(i);return n}var U=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(t,o){var s,c;return Object(u.a)(this,n),(c=e.call(this)).useUtcForDisplay=!0,Object(r.a)((s=Object(i.a)(c),Object(a.a)(n.prototype)),"setLocale",s).call(s,t),c.useUtcForDisplay=!o.TRIDENT,c._clampDate=o.TRIDENT||o.EDGE,c}return Object(c.a)(n,[{key:"getYear",value:function(t){return t.getFullYear()}},{key:"getMonth",value:function(t){return t.getMonth()}},{key:"getDate",value:function(t){return t.getDate()}},{key:"getDayOfWeek",value:function(t){return t.getDay()}},{key:"getMonthNames",value:function(t){var e=this;if(j){var n=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return z(12,(function(t){return e._stripDirectionalityCharacters(e._format(n,new Date(2017,t,1)))}))}return L[t]}},{key:"getDateNames",value:function(){var t=this;if(j){var e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return z(31,(function(n){return t._stripDirectionalityCharacters(t._format(e,new Date(2017,0,n+1)))}))}return N}},{key:"getDayOfWeekNames",value:function(t){var e=this;if(j){var n=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return z(7,(function(t){return e._stripDirectionalityCharacters(e._format(n,new Date(2017,0,t+1)))}))}return F[t]}},{key:"getYearName",value:function(t){if(j){var e=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(e,t))}return String(this.getYear(t))}},{key:"getFirstDayOfWeek",value:function(){return 0}},{key:"getNumDaysInMonth",value:function(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}},{key:"clone",value:function(t){return new Date(t.getTime())}},{key:"createDate",value:function(t,e,n){var i=this._createDateWithOverflow(t,e,n);return i.getMonth(),i}},{key:"today",value:function(){return new Date}},{key:"parse",value:function(t){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}},{key:"format",value:function(t,e){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");if(j){this._clampDate&&(t.getFullYear()<1||t.getFullYear()>9999)&&(t=this.clone(t)).setFullYear(Math.max(1,Math.min(9999,t.getFullYear()))),e=Object.assign(Object.assign({},e),{timeZone:"utc"});var n=new Intl.DateTimeFormat(this.locale,e);return this._stripDirectionalityCharacters(this._format(n,t))}return this._stripDirectionalityCharacters(t.toDateString())}},{key:"addCalendarYears",value:function(t,e){return this.addCalendarMonths(t,12*e)}},{key:"addCalendarMonths",value:function(t,e){var n=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+e,this.getDate(t));return this.getMonth(n)!=((this.getMonth(t)+e)%12+12)%12&&(n=this._createDateWithOverflow(this.getYear(n),this.getMonth(n),0)),n}},{key:"addCalendarDays",value:function(t,e){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+e)}},{key:"toIso8601",value:function(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}},{key:"deserialize",value:function(t){if("string"==typeof t){if(!t)return null;if(B.test(t)){var e=new Date(t);if(this.isValid(e))return e}}return Object(r.a)(Object(a.a)(n.prototype),"deserialize",this).call(this,t)}},{key:"isDateInstance",value:function(t){return t instanceof Date}},{key:"isValid",value:function(t){return!isNaN(t.getTime())}},{key:"invalid",value:function(){return new Date(NaN)}},{key:"_createDateWithOverflow",value:function(t,e,n){var i=new Date;return i.setFullYear(t,e,n),i.setHours(0,0,0,0),i}},{key:"_2digit",value:function(t){return("00"+t).slice(-2)}},{key:"_stripDirectionalityCharacters",value:function(t){return t.replace(/[\u200e\u200f]/g,"")}},{key:"_format",value:function(t,e){var n=new Date;return n.setUTCFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setUTCHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t.format(n)}}]),n}(R);U.\u0275fac=function(t){return new(t||U)(l.jc(D,8),l.jc(g.a))},U.\u0275prov=l.Wb({token:U,factory:U.\u0275fac}),U.ctorParameters=function(){return[{type:String,decorators:[{type:l.M},{type:l.y,args:[D]}]},{type:g.a}]};var H=function t(){Object(u.a)(this,t)};H.\u0275mod=l.Yb({type:H}),H.\u0275inj=l.Xb({factory:function(t){return new(t||H)},providers:[{provide:R,useClass:U}],imports:[[g.b]]});var V={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}},G=function t(){Object(u.a)(this,t)};G.\u0275mod=l.Yb({type:G}),G.\u0275inj=l.Xb({factory:function(t){return new(t||G)},providers:[{provide:I,useValue:V}],imports:[[H]]});var W=function(){function t(){Object(u.a)(this,t)}return Object(c.a)(t,[{key:"isErrorState",value:function(t,e){return!!(t&&t.invalid&&(t.dirty||e&&e.submitted))}}]),t}();W.\u0275fac=function(t){return new(t||W)},W.\u0275prov=l.Wb({token:W,factory:W.\u0275fac});var X=function(){function t(){Object(u.a)(this,t)}return Object(c.a)(t,[{key:"isErrorState",value:function(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}]),t}();X.\u0275fac=function(t){return new(t||X)},X.\u0275prov=Object(l.Wb)({factory:function(){return new X},token:X,providedIn:"root"});var q=function t(){Object(u.a)(this,t)};function Y(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mat";t.changes.pipe(Object(y.a)(t)).subscribe((function(t){var i=t.length;Q(e,"".concat(n,"-2-line"),!1),Q(e,"".concat(n,"-3-line"),!1),Q(e,"".concat(n,"-multi-line"),!1),2===i||3===i?Q(e,"".concat(n,"-").concat(i,"-line"),!0):i>3&&Q(e,"".concat(n,"-multi-line"),!0)}))}function Q(t,e,n){var i=t.nativeElement.classList;n?i.add(e):i.remove(e)}q.\u0275fac=function(t){return new(t||q)},q.\u0275dir=l.Vb({type:q,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]});var K=function t(){Object(u.a)(this,t)};K.\u0275mod=l.Yb({type:K}),K.\u0275inj=l.Xb({factory:function(t){return new(t||K)},imports:[[A],A]});var Z=function(){function t(e,n,i){Object(u.a)(this,t),this._renderer=e,this.element=n,this.config=i,this.state=3}return Object(c.a)(t,[{key:"fadeOut",value:function(){this._renderer.fadeOutRipple(this)}}]),t}(),J={enterDuration:450,exitDuration:400},$=Object(g.f)({passive:!0}),tt=["mousedown","touchstart"],et=["mouseup","mouseleave","touchend","touchcancel"],nt=function(){function t(e,n,i,r){Object(u.a)(this,t),this._target=e,this._ngZone=n,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Object(v.d)(i))}return Object(c.a)(t,[{key:"fadeInRipple",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=Object.assign(Object.assign({},J),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);var o=i.radius||rt(t,e,r),s=t-r.left,c=e-r.top,u=a.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left="".concat(s-o,"px"),l.style.top="".concat(c-o,"px"),l.style.height="".concat(2*o,"px"),l.style.width="".concat(2*o,"px"),null!=i.color&&(l.style.backgroundColor=i.color),l.style.transitionDuration="".concat(u,"ms"),this._containerElement.appendChild(l),it(l),l.style.transform="scale(1)";var h=new Z(this,l,i);return h.state=0,this._activeRipples.add(h),i.persistent||(this._mostRecentTransientRipple=h),this._runTimeoutOutsideZone((function(){var t=h===n._mostRecentTransientRipple;h.state=1,i.persistent||t&&n._isPointerDown||h.fadeOut()}),u),h}},{key:"fadeOutRipple",value:function(t){var e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),e){var n=t.element,i=Object.assign(Object.assign({},J),t.config.animation);n.style.transitionDuration="".concat(i.exitDuration,"ms"),n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone((function(){t.state=3,n.parentNode.removeChild(n)}),i.exitDuration)}}},{key:"fadeOutAll",value:function(){this._activeRipples.forEach((function(t){return t.fadeOut()}))}},{key:"setupTriggerEvents",value:function(t){var e=Object(v.d)(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(tt))}},{key:"handleEvent",value:function(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(et),this._pointerUpEventsRegistered=!0)}},{key:"_onMousedown",value:function(t){var e=Object(h.f)(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}},{key:"_onTouchStart",value:function(t){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;for(var e=t.changedTouches,n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}},{key:"_onPointerUp",value:function(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach((function(t){var e=1===t.state||t.config.terminateOnPointerUp&&0===t.state;!t.config.persistent&&e&&t.fadeOut()})))}},{key:"_runTimeoutOutsideZone",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._ngZone.runOutsideAngular((function(){return setTimeout(t,e)}))}},{key:"_registerEvents",value:function(t){var e=this;this._ngZone.runOutsideAngular((function(){t.forEach((function(t){e._triggerElement.addEventListener(t,e,$)}))}))}},{key:"_removeTriggerEvents",value:function(){var t=this;this._triggerElement&&(tt.forEach((function(e){t._triggerElement.removeEventListener(e,t,$)})),this._pointerUpEventsRegistered&&et.forEach((function(e){t._triggerElement.removeEventListener(e,t,$)})))}}]),t}();function it(t){window.getComputedStyle(t).getPropertyValue("opacity")}function rt(t,e,n){var i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}var at=new l.A("mat-ripple-global-options"),ot=function(){function t(e,n,i,r,a){Object(u.a)(this,t),this._elementRef=e,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new nt(this,n,e,i)}return Object(c.a)(t,[{key:"ngOnInit",value:function(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}},{key:"ngOnDestroy",value:function(){this._rippleRenderer._removeTriggerEvents()}},{key:"fadeOutAll",value:function(){this._rippleRenderer.fadeOutAll()}},{key:"_setupTriggerEventsIfEnabled",value:function(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}},{key:"launch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}},{key:"trigger",get:function(){return this._trigger||this._elementRef.nativeElement},set:function(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}},{key:"rippleConfig",get:function(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}},{key:"rippleDisabled",get:function(){return this.disabled||!!this._globalOptions.disabled}}]),t}();ot.\u0275fac=function(t){return new(t||ot)(l.ac(l.r),l.ac(l.L),l.ac(g.a),l.ac(at,8),l.ac(b.a,8))},ot.\u0275dir=l.Vb({type:ot,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&l.Sb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),ot.ctorParameters=function(){return[{type:l.r},{type:l.L},{type:g.a},{type:void 0,decorators:[{type:l.M},{type:l.y,args:[at]}]},{type:String,decorators:[{type:l.M},{type:l.y,args:[b.a]}]}]},ot.propDecorators={color:[{type:l.C,args:["matRippleColor"]}],unbounded:[{type:l.C,args:["matRippleUnbounded"]}],centered:[{type:l.C,args:["matRippleCentered"]}],radius:[{type:l.C,args:["matRippleRadius"]}],animation:[{type:l.C,args:["matRippleAnimation"]}],disabled:[{type:l.C,args:["matRippleDisabled"]}],trigger:[{type:l.C,args:["matRippleTrigger"]}]};var st=function t(){Object(u.a)(this,t)};st.\u0275mod=l.Yb({type:st}),st.\u0275inj=l.Xb({factory:function(t){return new(t||st)},imports:[[A,g.b],A]});var ct=function t(e){Object(u.a)(this,t),this._animationMode=e,this.state="unchecked",this.disabled=!1};ct.\u0275fac=function(t){return new(t||ct)(l.ac(b.a,8))},ct.\u0275cmp=l.Ub({type:ct,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,e){2&t&&l.Sb("mat-pseudo-checkbox-indeterminate","indeterminate"===e.state)("mat-pseudo-checkbox-checked","checked"===e.state)("mat-pseudo-checkbox-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,e){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),ct.ctorParameters=function(){return[{type:String,decorators:[{type:l.M},{type:l.y,args:[b.a]}]}]},ct.propDecorators={state:[{type:l.C}],disabled:[{type:l.C}]};var ut=function t(){Object(u.a)(this,t)};ut.\u0275mod=l.Yb({type:ut}),ut.\u0275inj=l.Xb({factory:function(t){return new(t||ut)}});var lt=M((function t(){Object(u.a)(this,t)})),ht=0,dt=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(){var t;return Object(u.a)(this,n),(t=e.apply(this,arguments))._labelId="mat-optgroup-label-".concat(ht++),t}return n}(lt);dt.\u0275fac=function(t){return ft(t||dt)},dt.\u0275dir=l.Vb({type:dt,inputs:{label:"label"},features:[l.Nb]}),dt.propDecorators={label:[{type:l.C}]};var ft=l.hc(dt),pt=new l.A("MatOptgroup"),vt=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return n}(dt);vt.\u0275fac=function(t){return mt(t||vt)},vt.\u0275cmp=l.Ub({type:vt,selectors:[["mat-optgroup"]],hostAttrs:["role","group",1,"mat-optgroup"],hostVars:4,hostBindings:function(t,e){2&t&&(l.Rb("aria-disabled",e.disabled.toString())("aria-labelledby",e._labelId),l.Sb("mat-optgroup-disabled",e.disabled))},inputs:{disabled:"disabled"},exportAs:["matOptgroup"],features:[l.Pb([{provide:pt,useExisting:vt}]),l.Nb],ngContentSelectors:["*","mat-option, ng-container"],decls:4,vars:2,consts:[[1,"mat-optgroup-label",3,"id"]],template:function(t,e){1&t&&(l.uc(w),l.fc(0,"label",0),l.Mc(1),l.tc(2),l.ec(),l.tc(3,1)),2&t&&(l.vc("id",e._labelId),l.Qb(1),l.Oc("",e.label," "))},styles:[".mat-optgroup-label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup-label[disabled]{cursor:default}[dir=rtl] .mat-optgroup-label{text-align:right}.mat-optgroup-label .mat-icon{margin-right:16px;vertical-align:middle}.mat-optgroup-label .mat-icon svg{vertical-align:top}[dir=rtl] .mat-optgroup-label .mat-icon{margin-left:16px;margin-right:0}\n"],encapsulation:2,changeDetection:0});var mt=l.hc(vt),gt=0,yt=function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(u.a)(this,t),this.source=e,this.isUserInput=n},bt=new l.A("MAT_OPTION_PARENT_COMPONENT"),_t=function(){function t(e,n,i,r){Object(u.a)(this,t),this._element=e,this._changeDetectorRef=n,this._parent=i,this.group=r,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-".concat(gt++),this.onSelectionChange=new l.t,this._stateChanges=new m.a}return Object(c.a)(t,[{key:"select",value:function(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}},{key:"deselect",value:function(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}},{key:"focus",value:function(t,e){var n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}},{key:"setActiveStyles",value:function(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}},{key:"setInactiveStyles",value:function(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}},{key:"getLabel",value:function(){return this.viewValue}},{key:"_handleKeydown",value:function(t){t.keyCode!==_.d&&t.keyCode!==_.j||Object(_.o)(t)||(this._selectViaInteraction(),t.preventDefault())}},{key:"_selectViaInteraction",value:function(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}},{key:"_getAriaSelected",value:function(){return this.selected||!this.multiple&&null}},{key:"_getTabIndex",value:function(){return this.disabled?"-1":"0"}},{key:"_getHostElement",value:function(){return this._element.nativeElement}},{key:"ngAfterViewChecked",value:function(){if(this._selected){var t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}},{key:"_emitSelectionChangeEvent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.onSelectionChange.emit(new yt(this,t))}},{key:"multiple",get:function(){return this._parent&&this._parent.multiple}},{key:"selected",get:function(){return this._selected}},{key:"disabled",get:function(){return this.group&&this.group.disabled||this._disabled},set:function(t){this._disabled=Object(v.b)(t)}},{key:"disableRipple",get:function(){return this._parent&&this._parent.disableRipple}},{key:"active",get:function(){return this._active}},{key:"viewValue",get:function(){return(this._getHostElement().textContent||"").trim()}}]),t}();_t.\u0275fac=function(t){return new(t||_t)(l.ac(l.r),l.ac(l.j),l.ac(void 0),l.ac(dt))},_t.\u0275dir=l.Vb({type:_t,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),_t.ctorParameters=function(){return[{type:l.r},{type:l.j},{type:void 0},{type:dt}]},_t.propDecorators={value:[{type:l.C}],id:[{type:l.C}],disabled:[{type:l.C}],onSelectionChange:[{type:l.N}]};var wt=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(t,i,r,a){return Object(u.a)(this,n),e.call(this,t,i,r,a)}return n}(_t);wt.\u0275fac=function(t){return new(t||wt)(l.ac(l.r),l.ac(l.j),l.ac(bt,8),l.ac(pt,8))},wt.\u0275cmp=l.Ub({type:wt,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,e){1&t&&l.mc("click",(function(){return e._selectViaInteraction()}))("keydown",(function(t){return e._handleKeydown(t)})),2&t&&(l.ic("id",e.id),l.Rb("tabindex",e._getTabIndex())("aria-selected",e._getAriaSelected())("aria-disabled",e.disabled.toString()),l.Sb("mat-selected",e.selected)("mat-option-multiple",e.multiple)("mat-active",e.active)("mat-option-disabled",e.disabled))},exportAs:["matOption"],features:[l.Nb],ngContentSelectors:["*"],decls:4,vars:3,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"]],template:function(t,e){1&t&&(l.uc(),l.Lc(0,x,1,2,"mat-pseudo-checkbox",0),l.fc(1,"span",1),l.tc(2),l.ec(),l.bc(3,"div",2)),2&t&&(l.vc("ngIf",e.multiple),l.Qb(3),l.vc("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disabled||e.disableRipple))},directives:[p.k,ot,ct],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.cdk-high-contrast-active .mat-option .mat-option-ripple{opacity:.5}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),wt.ctorParameters=function(){return[{type:l.r},{type:l.j},{type:void 0,decorators:[{type:l.M},{type:l.y,args:[bt]}]},{type:vt,decorators:[{type:l.M},{type:l.y,args:[pt]}]}]};var xt=function t(){Object(u.a)(this,t)};xt.\u0275mod=l.Yb({type:xt}),xt.\u0275inj=l.Xb({factory:function(t){return new(t||xt)},imports:[[st,p.c,ut]]});var kt=new l.A("mat-label-global-options")},FtGj:function(t,e,n){"use strict";n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return r})),n.d(e,"e",(function(){return a})),n.d(e,"f",(function(){return c})),n.d(e,"g",(function(){return u})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return h})),n.d(e,"j",(function(){return o})),n.d(e,"k",(function(){return i})),n.d(e,"l",(function(){return l})),n.d(e,"m",(function(){return m})),n.d(e,"n",(function(){return f})),n.d(e,"o",(function(){return g}));var i=9,r=13,a=27,o=32,s=35,c=36,u=37,l=38,h=39,d=40,f=48,p=57,v=65,m=90;function g(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n.length?n.some((function(e){return t[e]})):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}},GJmQ:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("Ji7U"),r=n("LK+K"),a=n("1OyB"),o=n("vuIU"),s=n("7o/Q");function c(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){return n.lift(new u(t,e))}}var u=function(){function t(e,n){Object(a.a)(this,t),this.predicate=e,this.inclusive=n}return Object(o.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new l(t,this.predicate,this.inclusive))}}]),t}(),l=function(t){Object(i.a)(n,t);var e=Object(r.a)(n);function n(t,i,r){var o;return Object(a.a)(this,n),(o=e.call(this,t)).predicate=i,o.inclusive=r,o.index=0,o}return Object(o.a)(n,[{key:"_next",value:function(t){var e,n=this.destination;try{e=this.predicate(t,this.index++)}catch(i){return void n.error(i)}this.nextOrComplete(t,e)}},{key:"nextOrComplete",value:function(t,e){var n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())}}]),n}(s.a)},GU7r:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f}));var i=n("1OyB"),r=n("vuIU"),a=n("8LU1"),o=n("fXoL"),s=n("HDdC"),c=n("XNiG"),u=n("Kj3r"),l=function(){function t(){Object(i.a)(this,t)}return Object(r.a)(t,[{key:"create",value:function(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}]),t}();l.\u0275fac=function(t){return new(t||l)},l.\u0275prov=Object(o.Wb)({factory:function(){return new l},token:l,providedIn:"root"});var h=function(){function t(e){Object(i.a)(this,t),this._mutationObserverFactory=e,this._observedElements=new Map}return Object(r.a)(t,[{key:"ngOnDestroy",value:function(){var t=this;this._observedElements.forEach((function(e,n){return t._cleanupObserver(n)}))}},{key:"observe",value:function(t){var e=this,n=Object(a.d)(t);return new s.a((function(t){var i=e._observeElement(n).subscribe(t);return function(){i.unsubscribe(),e._unobserveElement(n)}}))}},{key:"_observeElement",value:function(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{var e=new c.a,n=this._mutationObserverFactory.create((function(t){return e.next(t)}));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}},{key:"_unobserveElement",value:function(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}},{key:"_cleanupObserver",value:function(t){if(this._observedElements.has(t)){var e=this._observedElements.get(t),n=e.observer,i=e.stream;n&&n.disconnect(),i.complete(),this._observedElements.delete(t)}}}]),t}();h.\u0275fac=function(t){return new(t||h)(o.jc(l))},h.\u0275prov=Object(o.Wb)({factory:function(){return new h(Object(o.jc)(l))},token:h,providedIn:"root"}),h.ctorParameters=function(){return[{type:l}]};var d=function(){function t(e,n,r){Object(i.a)(this,t),this._contentObserver=e,this._elementRef=n,this._ngZone=r,this.event=new o.t,this._disabled=!1,this._currentSubscription=null}return Object(r.a)(t,[{key:"ngAfterContentInit",value:function(){this._currentSubscription||this.disabled||this._subscribe()}},{key:"ngOnDestroy",value:function(){this._unsubscribe()}},{key:"_subscribe",value:function(){var t=this;this._unsubscribe();var e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular((function(){t._currentSubscription=(t.debounce?e.pipe(Object(u.a)(t.debounce)):e).subscribe(t.event)}))}},{key:"_unsubscribe",value:function(){this._currentSubscription&&this._currentSubscription.unsubscribe()}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Object(a.b)(t),this._disabled?this._unsubscribe():this._subscribe()}},{key:"debounce",get:function(){return this._debounce},set:function(t){this._debounce=Object(a.e)(t),this._subscribe()}}]),t}();d.\u0275fac=function(t){return new(t||d)(o.ac(h),o.ac(o.r),o.ac(o.L))},d.\u0275dir=o.Vb({type:d,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),d.ctorParameters=function(){return[{type:h},{type:o.r},{type:o.L}]},d.propDecorators={event:[{type:o.N,args:["cdkObserveContent"]}],disabled:[{type:o.C,args:["cdkObserveContentDisabled"]}],debounce:[{type:o.C}]};var f=function t(){Object(i.a)(this,t)};f.\u0275mod=o.Yb({type:f}),f.\u0275inj=o.Xb({factory:function(t){return new(t||f)},providers:[l]})},GyhO:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("LRne"),r=n("0EUg");function a(){return Object(r.a)()(i.a.apply(void 0,arguments))}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n("1OyB"),r=n("vuIU"),a=n("7o/Q");var o=n("2QA8"),s=n("gRHU");var c=n("kJWO"),u=n("SpAZ");function l(t){return 0===t.length?u.a:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var h=n("2fFW"),d=function(){function t(e){Object(i.a)(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return Object(r.a)(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var i=this.operator,r=function(t,e,n){if(t){if(t instanceof a.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new a.a(t,e,n):new a.a(s.a)}(t,e,n);if(i?r.add(i.call(r,this.source)):r.add(this.source||h.a.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),h.a.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){h.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),!function(t){for(;t;){var e=t,n=e.closed,i=e.destination,r=e.isStopped;if(n||r)return!1;t=i&&i instanceof a.a?i:null}return!0}(t)?console.warn(e):t.error(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=f(e))((function(e,i){var r;r=n.subscribe((function(e){try{t(e)}catch(n){i(n),r&&r.unsubscribe()}}),i,e)}))}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:c.a,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:l(e)(this)}},{key:"toPromise",value:function(t){var e=this;return new(t=f(t))((function(t,n){var i;e.subscribe((function(t){return i=t}),(function(t){return n(t)}),(function(){return t(i)}))}))}}]),t}();function f(t){if(t||(t=h.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}d.create=function(t){return new d(t)}},Haw6:function(t,e,n){"use strict";n.d(e,"a",(function(){return se}));var i,r,a,o,s,c,u,l,h,d,f,p,v,m,g,y,b,_,w,x,k,O,S,C,A,M,T,E=1,P=[],D=[],j=Date.now,R=j(),I=0,L=1,N=function(t){return t},F=function(){return"undefined"!=typeof window},B=function(){return i||F()&&(i=window.gsap)&&i.registerPlugin&&i},z=function(t){return!!~u.indexOf(t)},U=function(t,e){return~P.indexOf(t)&&P[P.indexOf(t)+1][e]},H=function(t,e){var n=e.s,i=e.sc,r=D.indexOf(t),a=i===gt.sc?1:2;return!~r&&(r=D.push(t)-1),D[r+a]||(D[r+a]=U(t,n)||(z(t)?i:function(e){return arguments.length?t[n]=e:t[n]}))},V=function(t){return U(t,"getBoundingClientRect")||(z(t)?function(){return ne.width=a.innerWidth,ne.height=a.innerHeight,ne}:function(){return _t(t)})},G=function(t,e){var n=e.s,i=e.d2,r=e.d,o=e.a;return(n="scroll"+i)&&(o=U(t,n))?o()-V(t)()[r]:z(t)?Math.max(s[n],c[n])-(a["inner"+i]||s["client"+i]||c["client"+i]):t[n]-t["offset"+i]},W=function(t,e){for(var n=0;n<k.length;n+=3)(!e||~e.indexOf(k[n+1]))&&t(k[n],k[n+1],k[n+2])},X=function(t){return"string"==typeof t},q=function(t){return"function"==typeof t},Y=function(t){return"number"==typeof t},Q=function(t){return"object"==typeof t},K=function(t){return q(t)&&t()},Z=function(t,e){return function(){var n=K(t),i=K(e);return function(){K(n),K(i)}}},J=Math.abs,$="scrollLeft",tt="scrollTop",et="left",nt="top",it="right",rt="bottom",at="width",ot="height",st="Right",ct="Left",ut="Top",lt="Bottom",ht="padding",dt="margin",ft="Width",pt="Height",vt="px",mt={s:$,p:et,p2:ct,os:it,os2:st,d:at,d2:ft,a:"x",sc:function(t){return arguments.length?a.scrollTo(t,gt.sc()):a.pageXOffset||o.scrollLeft||s.scrollLeft||c.scrollLeft||0}},gt={s:tt,p:nt,p2:ut,os:rt,os2:lt,d:ot,d2:pt,a:"y",op:mt,sc:function(t){return arguments.length?a.scrollTo(mt.sc(),t):a.pageYOffset||o.scrollTop||s.scrollTop||c.scrollTop||0}},yt=function(t){return a.getComputedStyle(t)},bt=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},_t=function(t,e){var n=e&&"matrix(1, 0, 0, 1, 0, 0)"!==yt(t)[b]&&i.to(t,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=t.getBoundingClientRect();return n&&n.progress(0).kill(),r},wt=function(t,e){var n=e.d2;return t["offset"+n]||t["client"+n]||0},xt=function(t){var e,n=[],i=t.labels,r=t.duration();for(e in i)n.push(i[e]/r);return n},kt=function(t,e,n,i){return n.split(",").forEach((function(n){return t(e,n,i)}))},Ot=function(t,e,n){return t.addEventListener(e,n,{passive:!0})},St=function(t,e,n){return t.removeEventListener(e,n)},Ct={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},At={toggleActions:"play",anticipatePin:0},Mt={top:0,left:0,center:.5,bottom:1,right:1},Tt=function(t,e){if(X(t)){var n=t.indexOf("="),i=~n?+(t.charAt(n-1)+1)*parseFloat(t.substr(n+1)):0;~n&&(t.indexOf("%")>n&&(i*=e/100),t=t.substr(0,n-1)),t=i+(t in Mt?Mt[t]*e:~t.indexOf("%")?parseFloat(t)*e/100:parseFloat(t)||0)}return t},Et=function(t,e,n,i,r,a,s){var u=r.startColor,l=r.endColor,h=r.fontSize,d=r.indent,f=r.fontWeight,p=o.createElement("div"),v=z(n)||"fixed"===U(n,"pinType"),m=-1!==t.indexOf("scroller"),g=v?c:n,y=-1!==t.indexOf("start"),b=y?u:l,_="border-color:"+b+";font-size:"+h+";color:"+b+";font-weight:"+f+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return _+="position:"+(m&&v?"fixed;":"absolute;"),(m||!v)&&(_+=(i===gt?it:rt)+":"+(a+parseFloat(d))+"px;"),s&&(_+="box-sizing:border-box;text-align:left;width:"+s.offsetWidth+"px;"),p._isStart=y,p.setAttribute("class","gsap-marker-"+t),p.style.cssText=_,p.innerText=e||0===e?t+"-"+e:t,g.children[0]?g.insertBefore(p,g.children[0]):g.appendChild(p),p._offset=p["offset"+i.op.d2],Pt(p,0,i,y),p},Pt=function(t,e,n,r){var a={display:"block"},o=n[r?"os2":"p2"],s=n[r?"p2":"os2"];t._isFlipped=r,a[n.a+"Percent"]=r?-100:0,a[n.a]=r?"1px":0,a["border"+o+ft]=1,a["border"+s+ft]=0,a[n.p]=e+"px",i.set(t,a)},Dt=[],jt={},Rt=function(){return d||(d=h(Qt))},It=function(){d||(d=h(Qt),I||Ht("scrollStart"),I=j())},Lt=function(){return!g&&!C&&!o.fullscreenElement&&l.restart(!0)},Nt={},Ft=[],Bt=[],zt=function(t){var e,n=i.ticker.frame,o=[],s=0;if(T!==n||E){for(Wt();s<Bt.length;s+=4)(e=a.matchMedia(Bt[s]).matches)!==Bt[s+3]&&(Bt[s+3]=e,e?o.push(s):Wt(1,Bt[s])||q(Bt[s+2])&&Bt[s+2]());for(Gt(),s=0;s<o.length;s++)e=o[s],M=Bt[e],Bt[e+2]=Bt[e+1](t);M=0,r&&Xt(0,1),T=n,Ht("matchMedia")}},Ut=function t(){return St(se,"scrollEnd",t)||Xt(!0)},Ht=function(t){return Nt[t]&&Nt[t].map((function(t){return t()}))||Ft},Vt=[],Gt=function(t){for(var e=0;e<Vt.length;e+=4)t&&Vt[e+3]!==t||(Vt[e].style.cssText=Vt[e+1],Vt[e+2].uncache=1)},Wt=function(t,e){var n;for(_=0;_<Dt.length;_++)n=Dt[_],e&&n.media!==e||(t?n.kill(1):(n.scroll.rec||(n.scroll.rec=n.scroll()),n.revert()));Gt(e),e||Ht("revert")},Xt=function(t,e){if(!I||t){var n=Ht("refreshInit");for(O&&se.sort(),e||Wt(),_=0;_<Dt.length;_++)Dt[_].refresh();for(n.forEach((function(t){return t&&t.render&&t.render(-1)})),_=Dt.length;_--;)Dt[_].scroll.rec=0;l.pause(),Ht("refresh")}else Ot(se,"scrollEnd",Ut)},qt=0,Yt=1,Qt=function(){var t=Dt.length,e=j(),n=e-R>=50,i=t&&Dt[0].scroll();if(Yt=qt>i?-1:1,qt=i,n&&(I&&!y&&e-I>200&&(I=0,Ht("scrollEnd")),v=R,R=e),Yt<0){for(_=t;_--;)Dt[_]&&Dt[_].update(0,n);Yt=1}else for(_=0;_<t;_++)Dt[_]&&Dt[_].update(0,n);d=0},Kt=[et,nt,rt,it,"marginBottom","marginRight","marginTop","marginLeft","display","flexShrink","float","zIndex"],Zt=Kt.concat([at,ot,"boxSizing","maxWidth","maxHeight","position",dt,ht,"paddingTop","paddingRight","paddingBottom","paddingLeft"]),Jt=function(t,e,n,i){if(t.parentNode!==e){for(var r,a=Kt.length,o=e.style,s=t.style;a--;)o[r=Kt[a]]=n[r];o.position="absolute"===n.position?"absolute":"relative","inline"===n.display&&(o.display="inline-block"),s.bottom=s.right="auto",o.overflow="visible",o.boxSizing="border-box",o.width=wt(t,mt)+vt,o.height=wt(t,gt)+vt,o.padding=s.margin=s.top=s.left="0",te(i),s.width=s.maxWidth=n.width,s.height=s.maxHeight=n.height,s.padding=n.padding,t.parentNode.insertBefore(e,t),e.appendChild(t)}},$t=/([A-Z])/g,te=function(t){if(t){var e,n,r=t.t.style,a=t.length,o=0;for((t.t._gsap||i.core.getCache(t.t)).uncache=1;o<a;o+=2)n=t[o+1],e=t[o],n?r[e]=n:r[e]&&r.removeProperty(e.replace($t,"-$1").toLowerCase())}},ee=function(t){for(var e=Zt.length,n=t.style,i=[],r=0;r<e;r++)i.push(Zt[r],n[Zt[r]]);return i.t=t,i},ne={left:0,top:0},ie=function(t,e,n,i,r,a,o,u,l,h,d,p){if(q(t)&&(t=t(u)),X(t)&&"max"===t.substr(0,3)&&(t=p+("="===t.charAt(4)?Tt("0"+t.substr(3),n):0)),Y(t))o&&Pt(o,n,i,!0);else{q(e)&&(e=e(u));var v,m,g,y=f(e)[0]||c,b=_t(y)||{},_=t.split(" ");b&&(b.left||b.top)||"none"!==yt(y).display||(g=y.style.display,y.style.display="block",b=_t(y),g?y.style.display=g:y.style.removeProperty("display")),v=Tt(_[0],b[i.d]),m=Tt(_[1]||"0",n),t=b[i.p]-l[i.p]-h+v+r-m,o&&Pt(o,m,i,n-m<20||o._isStart&&m>20),n-=n-m}if(a){var w=t+n,x=a._isStart;p="scroll"+i.d2,Pt(a,w,i,x&&w>20||!x&&(d?Math.max(c[p],s[p]):a.parentNode[p])<=w+1),d&&(l=_t(o),d&&(a.style[i.op.p]=l[i.op.p]-i.op.m-a._offset+vt))}return Math.round(t)},re=/(?:webkit|moz|length|cssText|inset)/i,ae=function(t,e,n,r){if(t.parentNode!==e){var a,o,s=t.style;if(e===c){for(a in t._stOrig=s.cssText,o=yt(t))+a||re.test(a)||!o[a]||"string"!=typeof s[a]||"0"===a||(s[a]=o[a]);s.top=n,s.left=r}else s.cssText=t._stOrig;i.core.getCache(t).uncache=1,e.appendChild(t)}},oe=function(t,e){var n,r,a=H(t,e),o="_scroll"+e.p2,s=function e(s,c,u,l,h){var d=e.tween,f=c.onComplete,p={};return d&&d.kill(),n=Math.round(u),c[o]=s,c.modifiers=p,p[o]=function(t){return(t=Math.round(a()))!==n&&t!==r&&Math.abs(t-n)>2?(d.kill(),e.tween=0):t=u+l*d.ratio+h*d.ratio*d.ratio,r=n,n=Math.round(t)},c.onComplete=function(){e.tween=0,f&&f.call(d)},d=e.tween=i.to(t,c)};return t[o]=a,t.addEventListener("mousewheel",(function(){return s.tween&&s.tween.kill()&&(s.tween=0)})),s};mt.op=gt;var se=function(){function t(e,n){r||t.register(i)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),this.init(e,n)}return t.prototype.init=function(e,n){if(this.progress=this.start=0,this.vars&&this.kill(1),L){var r,u,l,h,d,m,b,w,x,k,C,T,D,R,F,B,W,K,Z,$,tt,et,nt,it,rt,at,ot,st,ct,ut,lt,pt,kt,Mt,Pt,Rt,Nt,Ft,Bt,zt=(e=bt(X(e)||Y(e)||e.nodeType?{trigger:e}:e,At)).horizontal?mt:gt,Ht=e,Vt=Ht.onUpdate,Gt=Ht.toggleClass,Wt=Ht.id,Xt=Ht.onToggle,qt=Ht.onRefresh,Qt=Ht.scrub,Kt=Ht.trigger,Zt=Ht.pin,$t=Ht.pinSpacing,re=Ht.invalidateOnRefresh,se=Ht.anticipatePin,ce=Ht.onScrubComplete,ue=Ht.onSnapComplete,le=Ht.once,he=Ht.snap,de=Ht.pinReparent,fe=!Qt&&0!==Qt,pe=f(e.scroller||a)[0],ve=i.core.getCache(pe),me=z(pe),ge="pinType"in e?"fixed"===e.pinType:me||"fixed"===U(pe,"pinType"),ye=[e.onEnter,e.onLeave,e.onEnterBack,e.onLeaveBack],be=fe&&e.toggleActions.split(" "),_e="markers"in e?e.markers:At.markers,we=me?0:parseFloat(yt(pe)["border"+zt.p2+ft])||0,xe=this,ke=e.onRefreshInit&&function(){return e.onRefreshInit(xe)},Oe=function(t,e,n){var i=n.d,r=n.d2,o=n.a;return(o=U(t,"getBoundingClientRect"))?function(){return o()[i]}:function(){return(e?a["inner"+r]:t["client"+r])||0}}(pe,me,zt),Se=function(t,e){return!e||~P.indexOf(t)?V(t):function(){return ne}}(pe,me);xe.media=M,se*=45,Dt.push(xe),xe.scroller=pe,xe.scroll=H(pe,zt),d=xe.scroll(),xe.vars=e,n=n||e.animation,"refreshPriority"in e&&(O=1),ve.tweenScroll=ve.tweenScroll||{top:oe(pe,gt),left:oe(pe,mt)},xe.tweenTo=r=ve.tweenScroll[zt.p],n&&(n.vars.lazy=!1,n._initted||!1!==n.vars.immediateRender&&!1!==e.immediateRender&&n.render(0,!0,!0),xe.animation=n.pause(),n.scrollTrigger=xe,(pt=Y(Qt)&&Qt)&&(lt=i.to(n,{ease:"power3",duration:pt,onComplete:function(){return ce&&ce(xe)}})),ct=0,Wt||(Wt=n.vars.id)),he&&(Q(he)||(he={snapTo:he}),"scrollBehavior"in c.style&&i.set(me?[c,s]:pe,{scrollBehavior:"auto"}),l=q(he.snapTo)?he.snapTo:"labels"===he.snapTo?function(t){return function(e){return i.utils.snap(xt(t),e)}}(n):"labelsDirectional"===he.snapTo?(Ft=n,function(t,e){var n,i=xt(Ft);if(i.sort((function(t,e){return t-e})),e.direction>0){for(n=0;n<i.length;n++)if(i[n]>=t)return i[n];return i.pop()}for(n=i.length;n--;)if(i[n]<=t)return i[n];return i[0]}):i.utils.snap(he.snapTo),kt=he.duration||{min:.1,max:2},kt=Q(kt)?p(kt.min,kt.max):p(kt,kt),Mt=i.delayedCall(he.delay||pt/2||.1,(function(){if(Math.abs(xe.getVelocity())<10&&!y){var t=n&&!fe?n.totalProgress():xe.progress,e=(t-ut)/(j()-v)*1e3||0,i=J(e/2)*e/.185,a=t+i,o=p(0,1,l(a,xe)),s=xe.scroll(),c=Math.round(b+o*R),u=r.tween;if(s<=w&&s>=b&&c!==s){if(u&&!u._initted&&u.data<=Math.abs(c-s))return;r(c,{duration:kt(J(.185*Math.max(J(a-t),J(o-t))/e/.05||0)),ease:he.ease||"power3",data:Math.abs(c-s),onComplete:function(){ct=ut=n&&!fe?n.totalProgress():xe.progress,ue&&ue(xe)}},s,i*R,c-s-i*R)}}else xe.isActive&&Mt.restart(!0)})).pause()),Wt&&(jt[Wt]=xe),Kt=xe.trigger=f(Kt||Zt)[0],Zt=!0===Zt?Kt:f(Zt)[0],X(Gt)&&(Gt={targets:Kt,className:Gt}),Zt&&(!1===$t||$t===dt||($t=!(!$t&&"flex"===yt(Zt.parentNode).display)&&ht),xe.pin=Zt,!1!==e.force3D&&i.set(Zt,{force3D:!0}),(u=i.core.getCache(Zt)).spacer?F=u.pinState:(u.spacer=K=o.createElement("div"),K.setAttribute("class","pin-spacer"+(Wt?" pin-spacer-"+Wt:"")),u.pinState=F=ee(Zt)),xe.spacer=K=u.spacer,st=yt(Zt),it=st[$t+zt.os2],$=i.getProperty(Zt),tt=i.quickSetter(Zt,zt.a,vt),Jt(Zt,K,st),W=ee(Zt)),_e&&(D=Q(_e)?bt(_e,Ct):Ct,C=Et("scroller-start",Wt,pe,zt,D,0),T=Et("scroller-end",Wt,pe,zt,D,0,C),Z=C["offset"+zt.op.d2],x=Et("start",Wt,pe,zt,D,Z),k=Et("end",Wt,pe,zt,D,Z),ge||((Bt=me?c:pe).style.position="absolute"===yt(Bt).position?"absolute":"relative",i.set([C,T],{force3D:!0}),at=i.quickSetter(C,zt.a,vt),ot=i.quickSetter(T,zt.a,vt))),xe.revert=function(t){var e=!1!==t||!xe.enabled,i=g;e!==h&&(e&&(Rt=Math.max(xe.scroll(),xe.scroll.rec||0),Pt=xe.progress,Nt=n&&n.progress()),x&&[x,k,C,T].forEach((function(t){return t.style.display=e?"none":"block"})),e&&(g=1),xe.update(e),g=i,Zt&&(e?function(t,e,n){if(te(n),t.parentNode===e){var i=e.parentNode;i&&(i.insertBefore(t,e),i.removeChild(e))}}(Zt,K,F):(!de||!xe.isActive)&&Jt(Zt,K,yt(Zt),rt)),h=e)},xe.refresh=function(r){if(!g&&xe.enabled)if(Zt&&r&&I)Ot(t,"scrollEnd",Ut);else{g=1,lt&&lt.pause(),re&&n&&n.progress(0).invalidate(),h||xe.revert();for(var a,o,s,u,l,f,p,v,y,_=Oe(),O=Se(),A=G(pe,zt),M=0,E=0,P=e.end,D=e.endTrigger||Kt,j=e.start||(0!==e.start&&Kt?Zt?"0 0":"0 100%":0),L=Kt&&Math.max(0,Dt.indexOf(xe))||0,N=L;N--;)(p=Dt[N].pin)&&(p===Kt||p===Zt)&&Dt[N].revert();for(b=ie(j,Kt,_,zt,xe.scroll(),x,C,xe,O,we,ge,A)||(Zt?-.001:0),q(P)&&(P=P(xe)),X(P)&&!P.indexOf("+=")&&(~P.indexOf(" ")?P=(X(j)?j.split(" ")[0]:"")+P:(M=Tt(P.substr(2),_),P=X(j)?j:b+M,D=Kt)),w=Math.max(b,ie(P||(D?"100% 0":A),D,_,zt,xe.scroll()+M,k,T,xe,O,we,ge,A))||-.001,R=w-b||(b-=.01)&&.001,M=0,N=L;N--;)(p=(f=Dt[N]).pin)&&f.start-f._pinPush<b&&(a=f.end-f.start,p===Kt&&(M+=a),p===Zt&&(E+=a));if(b+=M,w+=M,xe._pinPush=E,x&&M&&((a={})[zt.a]="+="+M,i.set([x,k],a)),Zt)a=yt(Zt),u=zt===gt,s=xe.scroll(),et=parseFloat($(zt.a))+E,!A&&w>1&&((me?c:pe).style["overflow-"+zt.a]="scroll"),Jt(Zt,K,a),W=ee(Zt),o=_t(Zt,!0),v=ge&&H(pe,u?mt:gt)(),$t&&((rt=[$t+zt.os2,R+E+vt]).t=K,(N=$t===ht?wt(Zt,zt)+R+E:0)&&rt.push(zt.d,N+vt),te(rt),ge&&xe.scroll(Rt)),ge&&((l={top:o.top+(u?s-b:v)+vt,left:o.left+(u?v:s-b)+vt,boxSizing:"border-box",position:"fixed"}).width=l.maxWidth=Math.ceil(o.width)+vt,l.height=l.maxHeight=Math.ceil(o.height)+vt,l.margin=l.marginTop=l.marginRight=l.marginBottom=l.marginLeft="0",l.padding=a.padding,l.paddingTop=a.paddingTop,l.paddingRight=a.paddingRight,l.paddingBottom=a.paddingBottom,l.paddingLeft=a.paddingLeft,B=function(t,e,n){for(var i,r=[],a=t.length,o=n?8:0;o<a;o+=2)i=t[o],r.push(i,i in e?e[i]:t[o+1]);return r.t=t.t,r}(F,l,de)),n?(y=n._initted,S(1),n.progress(1,!0),nt=$(zt.a)-et+R+E,R!==nt&&B.splice(B.length-2,2),n.progress(0,!0),y||n.invalidate(),S(0)):nt=R;else if(Kt&&xe.scroll())for(o=Kt.parentNode;o&&o!==c;)o._pinOffset&&(b-=o._pinOffset,w-=o._pinOffset),o=o.parentNode;for(N=0;N<L;N++)(f=Dt[N].pin)&&(f===Kt||f===Zt)&&Dt[N].revert(!1);xe.start=b,xe.end=w,(d=m=xe.scroll())<Rt&&xe.scroll(Rt),xe.revert(!1),g=0,n&&fe&&n._initted&&n.progress(Nt,!0).render(n.time(),!0,!0),Pt!==xe.progress&&(lt&&n.totalProgress(Pt,!0),xe.progress=Pt,xe.update()),Zt&&$t&&(K._pinOffset=Math.round(xe.progress*nt)),qt&&qt(xe)}},xe.getVelocity=function(){return(xe.scroll()-m)/(j()-v)*1e3||0},xe.update=function(t,e){var i,a,o,s,u,l=xe.scroll(),h=t?0:(l-b)/R,p=h<0?0:h>1?1:h||0,y=xe.progress;if(e&&(m=d,d=l,he&&(ut=ct,ct=n&&!fe?n.totalProgress():p)),se&&!p&&Zt&&!g&&!E&&I&&b<l+(l-m)/(j()-v)*se&&(p=1e-4),p!==y&&xe.enabled){if(s=(u=(i=xe.isActive=!!p&&p<1)!==(!!y&&y<1))||!!p!=!!y,xe.direction=p>y?1:-1,xe.progress=p,fe||(!lt||g||E?n&&n.totalProgress(p,!!g):(lt.vars.totalProgress=p,lt.invalidate().restart())),Zt)if(t&&$t&&(K.style[$t+zt.os2]=it),ge){if(s){if(o=!t&&p>y&&w+1>l&&l+1>=G(pe,zt),de)if(t||!i&&!o)ae(Zt,K);else{var _=_t(Zt,!0),x=l-b;ae(Zt,c,_.top+(zt===gt?x:0)+vt,_.left+(zt===gt?0:x)+vt)}te(i||o?B:W),nt!==R&&p<1&&i||tt(et+(1!==p||o?0:nt))}}else tt(et+nt*p);he&&!r.tween&&!g&&!E&&Mt.restart(!0),Gt&&(u||le&&p&&(p<1||!A))&&f(Gt.targets).forEach((function(t){return t.classList[i||le?"add":"remove"](Gt.className)})),Vt&&!fe&&!t&&Vt(xe),s&&!g?(a=p&&!y?0:1===p?1:1===y?2:3,fe&&(o=!u&&"none"!==be[a+1]&&be[a+1]||be[a],n&&("complete"===o||"reset"===o||o in n)&&("complete"===o?n.pause().totalProgress(1):"reset"===o?n.restart(!0).pause():n[o]()),Vt&&Vt(xe)),!u&&A||(Xt&&u&&Xt(xe),ye[a]&&ye[a](xe),le&&(1===p?xe.kill(!1,1):ye[a]=0),u||ye[a=1===p?1:3]&&ye[a](xe))):fe&&Vt&&!g&&Vt(xe)}ot&&(at(l+(C._isFlipped?1:0)),ot(l))},xe.enable=function(){xe.enabled||(xe.enabled=!0,Ot(pe,"resize",Lt),Ot(pe,"scroll",It),ke&&Ot(t,"refreshInit",ke),n&&n.add?i.delayedCall(.01,(function(){return b||w||xe.refresh()}))&&(R=.01)&&(b=w=0):xe.refresh())},xe.disable=function(e,n){if(xe.enabled&&(!1!==e&&xe.revert(),xe.enabled=xe.isActive=!1,n||lt&&lt.pause(),Rt=0,u&&(u.uncache=1),ke&&St(t,"refreshInit",ke),Mt&&(Mt.pause(),r.tween&&r.tween.kill()&&(r.tween=0)),!me)){for(var i=Dt.length;i--;)if(Dt[i].scroller===pe&&Dt[i]!==xe)return;St(pe,"resize",Lt),St(pe,"scroll",It)}},xe.kill=function(t,e){xe.disable(t,e),Wt&&delete jt[Wt];var i=Dt.indexOf(xe);Dt.splice(i,1),i===_&&Yt>0&&_--,n&&(n.scrollTrigger=null,t&&n.render(-1),e||n.kill()),x&&[x,k,C,T].forEach((function(t){return t.parentNode.removeChild(t)})),Zt&&(u&&(u.uncache=1),i=0,Dt.forEach((function(t){return t.pin===Zt&&i++})),i||(u.spacer=0))},xe.enable()}else this.update=this.refresh=this.kill=N},t.register=function(e){if(!r&&(i=e||B(),F()&&window.document&&(a=window,o=document,s=o.documentElement,c=o.body),i&&(f=i.utils.toArray,p=i.utils.clamp,S=i.core.suppressOverwrites||N,i.core.globals("ScrollTrigger",t),c))){h=a.requestAnimationFrame||function(t){return setTimeout(t,16)},Ot(a,"mousewheel",It),u=[a,o,s,c],Ot(o,"scroll",It);var n,d=c.style,v=d.borderTop;d.borderTop="1px solid #000",n=_t(c),gt.m=Math.round(n.top+gt.sc())||0,mt.m=Math.round(n.left+mt.sc())||0,v?d.borderTop=v:d.removeProperty("border-top"),m=setInterval(Rt,200),i.delayedCall(.5,(function(){return E=0})),Ot(o,"touchcancel",N),Ot(c,"touchstart",N),kt(Ot,o,"pointerdown,touchstart,mousedown",(function(){return y=1})),kt(Ot,o,"pointerup,touchend,mouseup",(function(){return y=0})),b=i.utils.checkPrefix("transform"),Zt.push(b),r=j(),l=i.delayedCall(.2,Xt).pause(),k=[o,"visibilitychange",function(){var t=a.innerWidth,e=a.innerHeight;o.hidden?(w=t,x=e):w===t&&x===e||Lt()},o,"DOMContentLoaded",Xt,a,"load",function(){return I||Xt()},a,"resize",Lt],W(Ot)}return r},t.defaults=function(t){for(var e in t)At[e]=t[e]},t.kill=function(){L=0,Dt.slice(0).forEach((function(t){return t.kill(1)}))},t.config=function(t){"limitCallbacks"in t&&(A=!!t.limitCallbacks);var e=t.syncInterval;e&&clearInterval(m)||(m=e)&&setInterval(Rt,e),"autoRefreshEvents"in t&&(W(St)||W(Ot,t.autoRefreshEvents||"none"),C=-1===(t.autoRefreshEvents+"").indexOf("resize"))},t.scrollerProxy=function(t,e){var n=f(t)[0],i=D.indexOf(n),r=z(n);~i&&D.splice(i,r?6:2),r?P.unshift(a,e,c,e,s,e):P.unshift(n,e)},t.matchMedia=function(t){var e,n,i,r,o;for(n in t)i=Bt.indexOf(n),r=t[n],M=n,"all"===n?r():(e=a.matchMedia(n))&&(e.matches&&(o=r()),~i?(Bt[i+1]=Z(Bt[i+1],r),Bt[i+2]=Z(Bt[i+2],o)):(i=Bt.length,Bt.push(n,r,o),e.addListener?e.addListener(zt):e.addEventListener("change",zt)),Bt[i+3]=e.matches),M=0;return Bt},t.clearMatchMedia=function(t){t||(Bt.length=0),(t=Bt.indexOf(t))>=0&&Bt.splice(t,4)},t}();se.version="3.6.0",se.saveStyles=function(t){return t?f(t).forEach((function(t){if(t&&t.style){var e=Vt.indexOf(t);e>=0&&Vt.splice(e,4),Vt.push(t,t.style.cssText,i.core.getCache(t),M)}})):Vt},se.revert=function(t,e){return Wt(!t,e)},se.create=function(t,e){return new se(t,e)},se.refresh=function(t){return t?Lt():Xt(!0)},se.update=Qt,se.maxScroll=function(t,e){return G(t,e?mt:gt)},se.getScrollFunc=function(t,e){return H(f(t)[0],e?mt:gt)},se.getById=function(t){return jt[t]},se.getAll=function(){return Dt.slice(0)},se.isScrolling=function(){return!!I},se.addEventListener=function(t,e){var n=Nt[t]||(Nt[t]=[]);~n.indexOf(e)||n.push(e)},se.removeEventListener=function(t,e){var n=Nt[t],i=n&&n.indexOf(e);i>=0&&n.splice(i,1)},se.batch=function(t,e){var n,r=[],a={},o=e.interval||.016,s=e.batchMax||1e9,c=function(t,e){var n=[],r=[],a=i.delayedCall(o,(function(){e(n,r),n=[],r=[]})).pause();return function(t){n.length||a.restart(!0),n.push(t.trigger),r.push(t),s<=n.length&&a.progress(1)}};for(n in e)a[n]="on"===n.substr(0,2)&&q(e[n])&&"onRefreshInit"!==n?c(0,e[n]):e[n];return q(s)&&(s=s(),Ot(se,"refresh",(function(){return s=e.batchMax()}))),f(t).forEach((function(t){var e={};for(n in a)e[n]=a[n];e.trigger=t,r.push(se.create(e))})),r},se.sort=function(t){return Dt.sort(t||function(t,e){return-1e6*(t.vars.refreshPriority||0)+t.start-(e.start+-1e6*(e.vars.refreshPriority||0))})},B()&&i.registerPlugin(se)},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var i=n("1OyB"),r=n("vuIU"),a=n("JX7q"),o=n("ReuC"),s=n("foSv"),c=n("Ji7U"),u=n("LK+K"),l=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;Object(i.a)(this,t),this.SchedulerAction=e,this.now=n}return Object(r.a)(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();l.now=function(){return Date.now()};var h=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.now;return Object(i.a)(this,n),(r=e.call(this,t,(function(){return n.delegate&&n.delegate!==Object(a.a)(r)?n.delegate.now():o()}))).actions=[],r.active=!1,r.scheduled=void 0,r}return Object(r.a)(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,i):Object(o.a)(Object(s.a)(n.prototype),"schedule",this).call(this,t,e,i)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(l)},IzEk:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n("Ji7U"),r=n("LK+K"),a=n("1OyB"),o=n("vuIU"),s=n("7o/Q"),c=n("4I5i"),u=n("EY2u");function l(t){return function(e){return 0===t?Object(u.b)():e.lift(new h(t))}}var h=function(){function t(e){if(Object(a.a)(this,t),this.total=e,this.total<0)throw new c.a}return Object(o.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new d(t,this.total))}}]),t}(),d=function(t){Object(i.a)(n,t);var e=Object(r.a)(n);function n(t,i){var r;return Object(a.a)(this,n),(r=e.call(this,t)).total=i,r.count=0,r}return Object(o.a)(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(s.a)},JIr8:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n("ReuC"),r=n("foSv"),a=n("Ji7U"),o=n("LK+K"),s=n("1OyB"),c=n("vuIU"),u=n("zx2A");function l(t){return function(e){var n=new h(t),i=e.lift(n);return n.caught=i}}var h=function(){function t(e){Object(s.a)(this,t),this.selector=e}return Object(c.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new d(t,this.selector,this.caught))}}]),t}(),d=function(t){Object(a.a)(n,t);var e=Object(o.a)(n);function n(t,i,r){var a;return Object(s.a)(this,n),(a=e.call(this,t)).selector=i,a.caught=r,a}return Object(c.a)(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(s){return void Object(i.a)(Object(r.a)(n.prototype),"error",this).call(this,s)}this._unsubscribeAndRecycle();var a=new u.a(this);this.add(a);var o=Object(u.c)(e,a);o!==a&&this.add(o)}}}]),n}(u.b)},JX7q:function(t,e,n){"use strict";function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",(function(){return i}))},JX91:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("GyhO"),r=n("z+Ro");function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[e.length-1];return Object(r.a)(a)?(e.pop(),function(t){return Object(i.a)(e,t,a)}):function(t){return Object(i.a)(e,t)}}},Ji7U:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("s4An");function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Object(i.a)(t,e)}},"Ju5/":function(t,e,n){"use strict";var i=n("XqMk"),r="object"==typeof self&&self&&self.Object===Object&&self,a=i.a||r||Function("return this")();e.a=a},KQm4:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("a3WO");var r=n("25BE"),a=n("BsWD");function o(t){return function(t){if(Array.isArray(t))return Object(i.a)(t)}(t)||Object(r.a)(t)||Object(a.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},Kj3r:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n("Ji7U"),r=n("LK+K"),a=n("1OyB"),o=n("vuIU"),s=n("7o/Q"),c=n("D0XW");function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.a;return function(n){return n.lift(new l(t,e))}}var l=function(){function t(e,n){Object(a.a)(this,t),this.dueTime=e,this.scheduler=n}return Object(o.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new h(t,this.dueTime,this.scheduler))}}]),t}(),h=function(t){Object(i.a)(n,t);var e=Object(r.a)(n);function n(t,i,r){var o;return Object(a.a)(this,n),(o=e.call(this,t)).dueTime=i,o.scheduler=r,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return Object(o.a)(n,[{key:"_next",value:function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(d,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}},{key:"clearDebounce",value:function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}]),n}(s.a);function d(t){t.debouncedNext()}},KqfI:function(t,e,n){"use strict";function i(){}n.d(e,"a",(function(){return i}))},L3Qv:function(t,e,n){"use strict";e.a=function(){return!1}},"LK+K":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("foSv"),r=n("2WcH"),a=n("md7G");function o(t){var e=Object(r.a)();return function(){var n,r=Object(i.a)(t);if(e){var o=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(a.a)(this,n)}}},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("z+Ro"),r=n("yCtX"),a=n("jZKg");function o(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=e[e.length-1];return Object(i.a)(o)?(e.pop(),Object(a.a)(e,o)):Object(r.a)(e)}},Lhse:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},NFeN:function(t,e,n){"use strict";n.d(e,"a",(function(){return L})),n.d(e,"b",(function(){return N}));var i=n("ODXe"),r=n("Ji7U"),a=n("LK+K"),o=n("vuIU"),s=n("1OyB"),c=n("fXoL"),u=n("FKr1"),l=n("8LU1"),h=n("ofXK"),d=n("LRne"),f=n("z6cu"),p=n("cp0P"),v=n("quSY"),m=n("vkgz"),g=n("lJxs"),y=n("JIr8"),b=n("nYR2"),_=n("w1tV"),w=n("IzEk"),x=n("tk/3"),k=n("jhN1");function O(t){return Error('Unable to find icon with the name "'.concat(t,'"'))}function S(t){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL "+"via Angular's DomSanitizer. Attempted URL was \"".concat(t,'".'))}function C(t){return Error("The literal provided to MatIconRegistry was not trusted as safe HTML by "+"Angular's DomSanitizer. Attempted literal was \"".concat(t,'".'))}var A=function t(e,n,i){Object(s.a)(this,t),this.url=e,this.svgText=n,this.options=i},M=function(){function t(e,n,i,r){Object(s.a)(this,t),this._httpClient=e,this._sanitizer=n,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=i}return Object(o.a)(t,[{key:"addSvgIcon",value:function(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}},{key:"addSvgIconLiteral",value:function(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}},{key:"addSvgIconInNamespace",value:function(t,e,n,i){return this._addSvgIconConfig(t,e,new A(n,null,i))}},{key:"addSvgIconLiteralInNamespace",value:function(t,e,n,i){var r=this._sanitizer.sanitize(c.W.HTML,n);if(!r)throw C(n);return this._addSvgIconConfig(t,e,new A("",r,i))}},{key:"addSvgIconSet",value:function(t,e){return this.addSvgIconSetInNamespace("",t,e)}},{key:"addSvgIconSetLiteral",value:function(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}},{key:"addSvgIconSetInNamespace",value:function(t,e,n){return this._addSvgIconSetConfig(t,new A(e,null,n))}},{key:"addSvgIconSetLiteralInNamespace",value:function(t,e,n){var i=this._sanitizer.sanitize(c.W.HTML,e);if(!i)throw C(e);return this._addSvgIconSetConfig(t,new A("",i,n))}},{key:"registerFontClassAlias",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return this._fontCssClassesByAlias.set(t,e),this}},{key:"classNameForFontAlias",value:function(t){return this._fontCssClassesByAlias.get(t)||t}},{key:"setDefaultFontSetClass",value:function(t){return this._defaultFontSetClass=t,this}},{key:"getDefaultFontSetClass",value:function(){return this._defaultFontSetClass}},{key:"getSvgIconFromUrl",value:function(t){var e=this,n=this._sanitizer.sanitize(c.W.RESOURCE_URL,t);if(!n)throw S(t);var i=this._cachedIconsByUrl.get(n);return i?Object(d.a)(T(i)):this._loadSvgIconFromConfig(new A(t,null)).pipe(Object(m.a)((function(t){return e._cachedIconsByUrl.set(n,t)})),Object(g.a)((function(t){return T(t)})))}},{key:"getNamedSvgIcon",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=E(e,t),i=this._svgIconConfigs.get(n);if(i)return this._getSvgFromConfig(i);var r=this._iconSetConfigs.get(e);return r?this._getSvgFromIconSetConfigs(t,r):Object(f.a)(O(n))}},{key:"ngOnDestroy",value:function(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}},{key:"_getSvgFromConfig",value:function(t){return t.svgText?Object(d.a)(T(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Object(g.a)((function(t){return T(t)})))}},{key:"_getSvgFromIconSetConfigs",value:function(t,e){var n=this,i=this._extractIconWithNameFromAnySet(t,e);if(i)return Object(d.a)(i);var r=e.filter((function(t){return!t.svgText})).map((function(t){return n._loadSvgIconSetFromConfig(t).pipe(Object(y.a)((function(e){var i=n._sanitizer.sanitize(c.W.RESOURCE_URL,t.url),r="Loading icon set URL: ".concat(i," failed: ").concat(e.message);return n._errorHandler.handleError(new Error(r)),Object(d.a)(null)})))}));return Object(p.a)(r).pipe(Object(g.a)((function(){var i=n._extractIconWithNameFromAnySet(t,e);if(!i)throw O(t);return i})))}},{key:"_extractIconWithNameFromAnySet",value:function(t,e){for(var n=e.length-1;n>=0;n--){var i=e[n];if(i.svgText&&i.svgText.indexOf(t)>-1){var r=this._svgElementFromConfig(i),a=this._extractSvgIconFromSet(r,t,i.options);if(a)return a}}return null}},{key:"_loadSvgIconFromConfig",value:function(t){var e=this;return this._fetchIcon(t).pipe(Object(m.a)((function(e){return t.svgText=e})),Object(g.a)((function(){return e._svgElementFromConfig(t)})))}},{key:"_loadSvgIconSetFromConfig",value:function(t){return t.svgText?Object(d.a)(null):this._fetchIcon(t).pipe(Object(m.a)((function(e){return t.svgText=e})))}},{key:"_extractSvgIconFromSet",value:function(t,e,n){var i=t.querySelector('[id="'.concat(e,'"]'));if(!i)return null;var r=i.cloneNode(!0);if(r.removeAttribute("id"),"svg"===r.nodeName.toLowerCase())return this._setSvgAttributes(r,n);if("symbol"===r.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(r),n);var a=this._svgElementFromString("<svg></svg>");return a.appendChild(r),this._setSvgAttributes(a,n)}},{key:"_svgElementFromString",value:function(t){var e=this._document.createElement("DIV");e.innerHTML=t;var n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}},{key:"_toSvgElement",value:function(t){for(var e=this._svgElementFromString("<svg></svg>"),n=t.attributes,i=0;i<n.length;i++){var r=n[i],a=r.name,o=r.value;"id"!==a&&e.setAttribute(a,o)}for(var s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[s].cloneNode(!0));return e}},{key:"_setSvgAttributes",value:function(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}},{key:"_fetchIcon",value:function(t){var e,n=this,i=t.url,r=t.options,a=null!==(e=null==r?void 0:r.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==i)throw Error('Cannot fetch icon from URL "'.concat(i,'".'));var o=this._sanitizer.sanitize(c.W.RESOURCE_URL,i);if(!o)throw S(i);var s=this._inProgressUrlFetches.get(o);if(s)return s;var u=this._httpClient.get(o,{responseType:"text",withCredentials:a}).pipe(Object(b.a)((function(){return n._inProgressUrlFetches.delete(o)})),Object(_.a)());return this._inProgressUrlFetches.set(o,u),u}},{key:"_addSvgIconConfig",value:function(t,e,n){return this._svgIconConfigs.set(E(t,e),n),this}},{key:"_addSvgIconSetConfig",value:function(t,e){var n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}},{key:"_svgElementFromConfig",value:function(t){if(!t.svgElement){var e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}}]),t}();M.\u0275fac=function(t){return new(t||M)(c.jc(x.a,8),c.jc(k.b),c.jc(h.d,8),c.jc(c.s))},M.\u0275prov=Object(c.Wb)({factory:function(){return new M(Object(c.jc)(x.a,8),Object(c.jc)(k.b),Object(c.jc)(h.d,8),Object(c.jc)(c.s))},token:M,providedIn:"root"}),M.ctorParameters=function(){return[{type:x.a,decorators:[{type:c.M}]},{type:k.b},{type:void 0,decorators:[{type:c.M},{type:c.y,args:[h.d]}]},{type:c.s}]};new c.M,new c.Y,new c.M,x.a,k.b,c.s,new c.M,h.d;function T(t){return t.cloneNode(!0)}function E(t,e){return t+":"+e}var P=Object(u.h)((function t(e){Object(s.a)(this,t),this._elementRef=e})),D=new c.A("mat-icon-location",{providedIn:"root",factory:function(){var t=Object(c.kb)(h.d),e=t?t.location:null;return{getPathname:function(){return e?e.pathname+e.search:""}}}});var j=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],R=j.map((function(t){return"[".concat(t,"]")})).join(", "),I=/^url\(['"]?#(.*?)['"]?\)$/,L=function(t){Object(r.a)(n,t);var e=Object(a.a)(n);function n(t,i,r,a,o){var c;return Object(s.a)(this,n),(c=e.call(this,t))._iconRegistry=i,c._location=a,c._errorHandler=o,c._inline=!1,c._currentIconFetch=v.a.EMPTY,r||t.nativeElement.setAttribute("aria-hidden","true"),c}return Object(o.a)(n,[{key:"_splitIconName",value:function(t){if(!t)return["",""];var e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error('Invalid icon name: "'.concat(t,'"'))}}},{key:"ngOnChanges",value:function(t){var e=this,n=t.svgIcon;if(this._svgNamespace=null,this._svgName=null,n)if(this._currentIconFetch.unsubscribe(),this.svgIcon){var r=this._splitIconName(this.svgIcon),a=Object(i.a)(r,2),o=a[0],s=a[1];o&&(this._svgNamespace=o),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,o).pipe(Object(w.a)(1)).subscribe((function(t){return e._setSvgElement(t)}),(function(t){var n="Error retrieving icon ".concat(o,":").concat(s,"! ").concat(t.message);e._errorHandler.handleError(new Error(n))}))}else n.previousValue&&this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()}},{key:"ngOnInit",value:function(){this._usingFontIcon()&&this._updateFontIconClasses()}},{key:"ngAfterViewChecked",value:function(){var t=this._elementsWithExternalReferences;if(t&&t.size){var e=this._location.getPathname();e!==this._previousPath&&(this._previousPath=e,this._prependPathToReferences(e))}}},{key:"ngOnDestroy",value:function(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}},{key:"_usingFontIcon",value:function(){return!this.svgIcon}},{key:"_setSvgElement",value:function(t){this._clearSvgElement();for(var e=t.querySelectorAll("style"),n=0;n<e.length;n++)e[n].textContent+=" ";var i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}},{key:"_clearSvgElement",value:function(){var t=this._elementRef.nativeElement,e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){var n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}},{key:"_updateFontIconClasses",value:function(){if(this._usingFontIcon()){var t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}}},{key:"_cleanupFontValue",value:function(t){return"string"==typeof t?t.trim().split(" ")[0]:t}},{key:"_prependPathToReferences",value:function(t){var e=this._elementsWithExternalReferences;e&&e.forEach((function(e,n){e.forEach((function(e){n.setAttribute(e.name,"url('".concat(t,"#").concat(e.value,"')"))}))}))}},{key:"_cacheChildrenWithExternalReferences",value:function(t){for(var e=t.querySelectorAll(R),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map,i=function(t){j.forEach((function(i){var r=e[t],a=r.getAttribute(i),o=a?a.match(I):null;if(o){var s=n.get(r);s||(s=[],n.set(r,s)),s.push({name:i,value:o[1]})}}))},r=0;r<e.length;r++)i(r)}},{key:"inline",get:function(){return this._inline},set:function(t){this._inline=Object(l.b)(t)}},{key:"fontSet",get:function(){return this._fontSet},set:function(t){this._fontSet=this._cleanupFontValue(t)}},{key:"fontIcon",get:function(){return this._fontIcon},set:function(t){this._fontIcon=this._cleanupFontValue(t)}}]),n}(P);L.\u0275fac=function(t){return new(t||L)(c.ac(c.r),c.ac(M),c.kc("aria-hidden"),c.ac(D),c.ac(c.s))},L.\u0275cmp=c.Ub({type:L,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(c.Rb("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),c.Sb("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",fontSet:"fontSet",fontIcon:"fontIcon",svgIcon:"svgIcon"},exportAs:["matIcon"],features:[c.Nb,c.Ob],ngContentSelectors:["*"],decls:1,vars:0,template:function(t,e){1&t&&(c.uc(),c.tc(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),L.ctorParameters=function(){return[{type:c.r},{type:M},{type:String,decorators:[{type:c.h,args:["aria-hidden"]}]},{type:void 0,decorators:[{type:c.y,args:[D]}]},{type:c.s}]},L.propDecorators={inline:[{type:c.C}],svgIcon:[{type:c.C}],fontSet:[{type:c.C}],fontIcon:[{type:c.C}]};var N=function t(){Object(s.a)(this,t)};N.\u0275mod=c.Yb({type:N}),N.\u0275inj=c.Xb({factory:function(t){return new(t||N)},imports:[[u.c],u.c]})},NJ4a:function(t,e,n){"use strict";function i(t){setTimeout((function(){throw t}),0)}n.d(e,"a",(function(){return i}))},NXyV:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("HDdC"),r=n("Cfvw"),a=n("EY2u");function o(t){return new i.a((function(e){var n;try{n=t()}catch(i){return void e.error(i)}return(n?Object(r.a)(n):Object(a.b)()).subscribe(e)}))}},ODXe:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("DSFK");var r=n("BsWD"),a=n("PYwp");function o(t,e){return Object(i.a)(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(c){r=!0,a=c}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}}(t,e)||Object(r.a)(t,e)||Object(a.a)()}},PYwp:function(t,e,n){"use strict";function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(e,"a",(function(){return i}))},R0Ic:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return m})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return f})),n.d(e,"g",(function(){return l})),n.d(e,"h",(function(){return d})),n.d(e,"i",(function(){return h})),n.d(e,"j",(function(){return p})),n.d(e,"k",(function(){return c})),n.d(e,"l",(function(){return g})),n.d(e,"m",(function(){return y}));var i=n("vuIU"),r=n("1OyB"),a=function t(){Object(r.a)(this,t)},o=function t(){Object(r.a)(this,t)},s="*";function c(t,e){return{type:7,name:t,definitions:e,options:{}}}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:e,timings:t}}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:t,options:e}}function h(t){return{type:6,styles:t,offset:null}}function d(t,e,n){return{type:0,name:t,styles:e,options:n}}function f(t){return{type:5,steps:t}}function p(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:t,animation:e,options:n}}function v(t){Promise.resolve(null).then(t)}var m=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(r.a)(this,t),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+n}return Object(i.a)(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var t=this;v((function(){return t._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(t){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}}]),t}(),g=function(){function t(e){var n=this;Object(r.a)(this,t),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;var i=0,a=0,o=0,s=this.players.length;0==s?v((function(){return n._onFinish()})):this.players.forEach((function(t){t.onDone((function(){++i==s&&n._onFinish()})),t.onDestroy((function(){++a==s&&n._onDestroy()})),t.onStart((function(){++o==s&&n._onStart()}))})),this.totalTime=this.players.reduce((function(t,e){return Math.max(t,e.totalTime)}),0)}return Object(i.a)(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(t){return t.init()}))}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[])}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(t){return t.play()}))}},{key:"pause",value:function(){this.players.forEach((function(t){return t.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(t){return t.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(t){return t.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(t){return t.destroy()})),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(t){return t.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(t){var e=t*this.totalTime;this.players.forEach((function(t){var n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)}))}},{key:"getPosition",value:function(){var t=0;return this.players.forEach((function(e){var n=e.getPosition();t=Math.min(n,t)})),t}},{key:"beforeDestroy",value:function(){this.players.forEach((function(t){t.beforeDestroy&&t.beforeDestroy()}))}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}}]),t}(),y="!"},R1ws:function(t,e,n){"use strict";n.d(e,"a",(function(){return Ye})),n.d(e,"b",(function(){return Je}));var i=n("ODXe"),r=n("1OyB"),a=n("vuIU"),o=n("Ji7U"),s=n("LK+K"),c=n("fXoL"),u=n("jhN1"),l=n("R0Ic"),h=n("ReuC"),d=n("foSv"),f=n("uFwe"),p=n("KQm4");function v(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function m(t){switch(t.length){case 0:return new l.d;case 1:return t[0];default:return new l.l(t)}}function g(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=[],s=[],c=-1,u=null;if(i.forEach((function(t){var n=t.offset,i=n==c,h=i&&u||{};Object.keys(t).forEach((function(n){var i=n,s=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,o),s){case l.m:s=r[n];break;case l.a:s=a[n];break;default:s=e.normalizeStyleValue(n,i,s,o)}h[i]=s})),i||s.push(h),u=h,c=n})),o.length){var h="\n - ";throw new Error("Unable to animate due to the following errors:".concat(h).concat(o.join(h)))}return s}function y(t,e,n,i){switch(e){case"start":t.onStart((function(){return i(n&&b(n,"start",t))}));break;case"done":t.onDone((function(){return i(n&&b(n,"done",t))}));break;case"destroy":t.onDestroy((function(){return i(n&&b(n,"destroy",t))}))}}function b(t,e,n){var i=n.totalTime,r=!!n.disabled,a=_(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,r),o=t._data;return null!=o&&(a._data=o),a}function _(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6?arguments[6]:void 0;return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:a,disabled:!!o}}function w(t,e,n){var i;return t instanceof Map?(i=t.get(e))||t.set(e,i=n):(i=t[e])||(i=t[e]=n),i}function x(t){var e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}var k=function(t,e){return!1},O=function(t,e){return!1},S=function(t,e,n){return[]},C=v();(C||"undefined"!=typeof Element)&&(k=function(t,e){return t.contains(e)},O=function(){if(C||Element.prototype.matches)return function(t,e){return t.matches(e)};var t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?function(t,n){return e.apply(t,[n])}:O}(),S=function(t,e,n){var i=[];if(n)i.push.apply(i,Object(p.a)(t.querySelectorAll(e)));else{var r=t.querySelector(e);r&&i.push(r)}return i});var A=null,M=!1;function T(t){A||(A=function(){if("undefined"!=typeof document)return document.body;return null}()||{},M=!!A.style&&"WebkitAppearance"in A.style);var e=!0;A.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(!(e=t in A.style)&&M&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in A.style));return e}var E=O,P=k,D=S;function j(t){var e={};return Object.keys(t).forEach((function(n){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]})),e}var R=function(){function t(){Object(r.a)(this,t)}return Object(a.a)(t,[{key:"validateStyleProperty",value:function(t){return T(t)}},{key:"matchesElement",value:function(t,e){return E(t,e)}},{key:"containsElement",value:function(t,e){return P(t,e)}},{key:"query",value:function(t,e,n){return D(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return n||""}},{key:"animate",value:function(t,e,n,i,r){arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&arguments[6];return new l.d(n,i)}}]),t}();R.\u0275fac=function(t){return new(t||R)},R.\u0275prov=c.Wb({token:R,factory:R.\u0275fac});var I=function t(){Object(r.a)(this,t)};I.NOOP=new R;var L="ng-enter",N="ng-leave",F="ng-trigger",B=".ng-trigger",z="ng-animating",U=".ng-animating";function H(t){if("number"==typeof t)return t;var e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:V(parseFloat(e[1]),e[2])}function V(t,e){switch(e){case"s":return 1e3*t;default:return t}}function G(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){var i,r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,a=0,o="";if("string"==typeof t){var s=t.match(r);if(null===s)return e.push('The provided timing value "'.concat(t,'" is invalid.')),{duration:0,delay:0,easing:""};i=V(parseFloat(s[1]),s[2]);var c=s[3];null!=c&&(a=V(parseFloat(c),s[4]));var u=s[5];u&&(o=u)}else i=t;if(!n){var l=!1,h=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),l=!0),a<0&&(e.push("Delay values below 0 are not allowed for this animation step."),l=!0),l&&e.splice(h,0,'The provided timing value "'.concat(t,'" is invalid.'))}return{duration:i,delay:a,easing:o}}(t,e,n)}function W(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach((function(n){e[n]=t[n]})),e}function X(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e)for(var i in t)n[i]=t[i];else W(t,n);return n}function q(t,e,n){return n?e+":"+n+";":""}function Y(t){for(var e="",n=0;n<t.style.length;n++){var i=t.style.item(n);e+=q(0,i,t.style.getPropertyValue(i))}for(var r in t.style){if(t.style.hasOwnProperty(r)&&!r.startsWith("_"))e+=q(0,r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[r])}t.setAttribute("style",e)}function Q(t,e,n){t.style&&(Object.keys(e).forEach((function(i){var r=it(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[r]),t.style[r]=e[i]})),v()&&Y(t))}function K(t,e){t.style&&(Object.keys(e).forEach((function(e){var n=it(e);t.style[n]=""})),v()&&Y(t))}function Z(t){return Array.isArray(t)?1==t.length?t[0]:Object(l.g)(t):t}var J=new RegExp("".concat("{{","\\s*(.+?)\\s*").concat("}}"),"g");function $(t){var e=[];if("string"==typeof t){for(var n;n=J.exec(t);)e.push(n[1]);J.lastIndex=0}return e}function tt(t,e,n){var i=t.toString(),r=i.replace(J,(function(t,i){var r=e[i];return e.hasOwnProperty(i)||(n.push("Please provide a value for the animation param ".concat(i)),r=""),r.toString()}));return r==i?t:r}function et(t){for(var e=[],n=t.next();!n.done;)e.push(n.value),n=t.next();return e}var nt=/-+([a-z0-9])/g;function it(t){return t.replace(nt,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e[1].toUpperCase()}))}function rt(t,e){return 0===t||0===e}function at(t,e,n){var i=Object.keys(n);if(i.length&&e.length){var r=e[0],a=[];if(i.forEach((function(t){r.hasOwnProperty(t)||a.push(t),r[t]=n[t]})),a.length)for(var o=function(){var n=e[s];a.forEach((function(e){n[e]=st(t,e)}))},s=1;s<e.length;s++)o()}return e}function ot(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #".concat(e.type))}}function st(t,e){return window.getComputedStyle(t)[e]}var ct="*";function ut(t,e){var n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach((function(t){return function(t,e,n){if(":"==t[0]){var i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(t,e){return parseFloat(e)>parseFloat(t)};case":decrement":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return e.push('The transition alias value "'.concat(t,'" is not supported')),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}var r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push('The provided transition expression "'.concat(t,'" is not supported')),e;var a=r[1],o=r[2],s=r[3];e.push(dt(a,s));var c=a==ct&&s==ct;"<"!=o[0]||c||e.push(dt(s,a))}(t,n,e)})):n.push(t),n}var lt=new Set(["true","1"]),ht=new Set(["false","0"]);function dt(t,e){var n=lt.has(t)||ht.has(t),i=lt.has(e)||ht.has(e);return function(r,a){var o=t==ct||t==r,s=e==ct||e==a;return!o&&n&&"boolean"==typeof r&&(o=r?lt.has(t):ht.has(t)),!s&&i&&"boolean"==typeof a&&(s=a?lt.has(e):ht.has(e)),o&&s}}var ft=":self",pt=new RegExp("s*".concat(ft,"s*,?"),"g");function vt(t,e,n){return new mt(t).build(e,n)}var mt=function(){function t(e){Object(r.a)(this,t),this._driver=e}return Object(a.a)(t,[{key:"build",value:function(t,e){var n=new gt(e);return this._resetContextStyleTimingState(n),ot(this,Z(t),n)}},{key:"_resetContextStyleTimingState",value:function(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}},{key:"visitTrigger",value:function(t,e){var n=this,i=e.queryCount=0,r=e.depCount=0,a=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach((function(t){if(n._resetContextStyleTimingState(e),0==t.type){var s=t,c=s.name;c.toString().split(/\s*,\s*/).forEach((function(t){s.name=t,a.push(n.visitState(s,e))})),s.name=c}else if(1==t.type){var u=n.visitTransition(t,e);i+=u.queryCount,r+=u.depCount,o.push(u)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:t.name,states:a,transitions:o,queryCount:i,depCount:r,options:null}}},{key:"visitState",value:function(t,e){var n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){var r=new Set,a=i||{};if(n.styles.forEach((function(t){if(yt(t)){var e=t;Object.keys(e).forEach((function(t){$(e[t]).forEach((function(t){a.hasOwnProperty(t)||r.add(t)}))}))}})),r.size){var o=et(r.values());e.errors.push('state("'.concat(t.name,'", ...) must define default values for all the following style substitutions: ').concat(o.join(", ")))}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}},{key:"visitTransition",value:function(t,e){e.queryCount=0,e.depCount=0;var n=ot(this,Z(t.animation),e);return{type:1,matchers:ut(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:bt(t.options)}}},{key:"visitSequence",value:function(t,e){var n=this;return{type:2,steps:t.steps.map((function(t){return ot(n,t,e)})),options:bt(t.options)}}},{key:"visitGroup",value:function(t,e){var n=this,i=e.currentTime,r=0,a=t.steps.map((function(t){e.currentTime=i;var a=ot(n,t,e);return r=Math.max(r,e.currentTime),a}));return e.currentTime=r,{type:3,steps:a,options:bt(t.options)}}},{key:"visitAnimate",value:function(t,e){var n,i=function(t,e){var n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t){return _t(G(t,e).duration,0,"")}var i=t;if(i.split(/\s+/).some((function(t){return"{"==t.charAt(0)&&"{"==t.charAt(1)}))){var r=_t(0,0,"");return r.dynamic=!0,r.strValue=i,r}return _t((n=n||G(i,e)).duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;var r=t.styles?t.styles:Object(l.i)({});if(5==r.type)n=this.visitKeyframes(r,e);else{var a=t.styles,o=!1;if(!a){o=!0;var s={};i.easing&&(s.easing=i.easing),a=Object(l.i)(s)}e.currentTime+=i.duration+i.delay;var c=this.visitStyle(a,e);c.isEmptyStep=o,n=c}return e.currentAnimateTimings=null,{type:4,timings:i,style:n,options:null}}},{key:"visitStyle",value:function(t,e){var n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}},{key:"_makeStyleAst",value:function(t,e){var n=[];Array.isArray(t.styles)?t.styles.forEach((function(t){"string"==typeof t?t==l.a?n.push(t):e.errors.push("The provided style string value ".concat(t," is not allowed.")):n.push(t)})):n.push(t.styles);var i=!1,r=null;return n.forEach((function(t){if(yt(t)){var e=t,n=e.easing;if(n&&(r=n,delete e.easing),!i)for(var a in e){if(e[a].toString().indexOf("{{")>=0){i=!0;break}}}})),{type:6,styles:n,easing:r,offset:t.offset,containsDynamicStyles:i,options:null}}},{key:"_validateStyleAst",value:function(t,e){var n=this,i=e.currentAnimateTimings,r=e.currentTime,a=e.currentTime;i&&a>0&&(a-=i.duration+i.delay),t.styles.forEach((function(t){"string"!=typeof t&&Object.keys(t).forEach((function(i){if(n._driver.validateStyleProperty(i)){var o,s,c,u,l,h=e.collectedStyles[e.currentQuerySelector],d=h[i],f=!0;d&&(a!=r&&a>=d.startTime&&r<=d.endTime&&(e.errors.push('The CSS property "'.concat(i,'" that exists between the times of "').concat(d.startTime,'ms" and "').concat(d.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(a,'ms" and "').concat(r,'ms"')),f=!1),a=d.startTime),f&&(h[i]={startTime:a,endTime:r}),e.options&&(o=t[i],s=e.options,c=e.errors,u=s.params||{},(l=$(o)).length&&l.forEach((function(t){u.hasOwnProperty(t)||c.push("Unable to resolve the local animation param ".concat(t," in the given list of values"))})))}else e.errors.push('The provided animation property "'.concat(i,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(t,e){var n=this,i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;var r=0,a=[],o=!1,s=!1,c=0,u=t.steps.map((function(t){var i=n._makeStyleAst(t,e),u=null!=i.offset?i.offset:function(t){if("string"==typeof t)return null;var e=null;if(Array.isArray(t))t.forEach((function(t){if(yt(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}}));else if(yt(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}return e}(i.styles),l=0;return null!=u&&(r++,l=i.offset=u),s=s||l<0||l>1,o=o||l<c,c=l,a.push(l),i}));s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");var l=t.steps.length,h=0;r>0&&r<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(h=1/(l-1));var d=l-1,f=e.currentTime,p=e.currentAnimateTimings,v=p.duration;return u.forEach((function(t,r){var o=h>0?r==d?1:h*r:a[r],s=o*v;e.currentTime=f+p.delay+s,p.duration=s,n._validateStyleAst(t,e),t.offset=o,i.styles.push(t)})),i}},{key:"visitReference",value:function(t,e){return{type:8,animation:ot(this,Z(t.animation),e),options:bt(t.options)}}},{key:"visitAnimateChild",value:function(t,e){return e.depCount++,{type:9,options:bt(t.options)}}},{key:"visitAnimateRef",value:function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:bt(t.options)}}},{key:"visitQuery",value:function(t,e){var n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;var a=function(t){var e=!!t.split(/\s*,\s*/).find((function(t){return t==ft}));e&&(t=t.replace(pt,""));return[t=t.replace(/@\*/g,B).replace(/@\w+/g,(function(t){return".ng-trigger-"+t.substr(1)})).replace(/:animating/g,U),e]}(t.selector),o=Object(i.a)(a,2),s=o[0],c=o[1];e.currentQuerySelector=n.length?n+" "+s:s,w(e.collectedStyles,e.currentQuerySelector,{});var u=ot(this,Z(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:u,originalSelector:t.selector,options:bt(t.options)}}},{key:"visitStagger",value:function(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var n="full"===t.timings?{duration:0,delay:0,easing:"full"}:G(t.timings,e.errors,!0);return{type:12,animation:ot(this,Z(t.animation),e),timings:n,options:null}}}]),t}();var gt=function t(e){Object(r.a)(this,t),this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function yt(t){return!Array.isArray(t)&&"object"==typeof t}function bt(t){var e;return t?(t=W(t)).params&&(t.params=(e=t.params)?W(e):null):t={},t}function _t(t,e,n){return{duration:t,delay:e,easing:n}}function wt(t,e,n,i,r,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:o,subTimeline:s}}var xt=function(){function t(){Object(r.a)(this,t),this._map=new Map}return Object(a.a)(t,[{key:"consume",value:function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e}},{key:"append",value:function(t,e){var n,i=this._map.get(t);i||this._map.set(t,i=[]),(n=i).push.apply(n,Object(p.a)(e))}},{key:"has",value:function(t){return this._map.has(t)}},{key:"clear",value:function(){this._map.clear()}}]),t}(),kt=new RegExp(":enter","g"),Ot=new RegExp(":leave","g");function St(t,e,n,i,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,c=arguments.length>8?arguments[8]:void 0,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new Ct).buildKeyframes(t,e,n,i,r,a,o,s,c,u)}var Ct=function(){function t(){Object(r.a)(this,t)}return Object(a.a)(t,[{key:"buildKeyframes",value:function(t,e,n,i,r,a,o,s,c){var u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];c=c||new xt;var l=new Mt(t,e,c,i,r,u,[]);l.options=s,l.currentTimeline.setStyles([a],null,l.errors,s),ot(this,n,l);var h=l.timelines.filter((function(t){return t.containsAnimation()}));if(h.length&&Object.keys(o).length){var d=h[h.length-1];d.allowOnlyTimelineStyles()||d.setStyles([o],null,l.errors,s)}return h.length?h.map((function(t){return t.buildKeyframes()})):[wt(e,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(t,e){}},{key:"visitState",value:function(t,e){}},{key:"visitTransition",value:function(t,e){}},{key:"visitAnimateChild",value:function(t,e){var n=e.subInstructions.consume(e.element);if(n){var i=e.createSubContext(t.options),r=e.currentTimeline.currentTime,a=this._visitSubInstructions(n,i,i.options);r!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}},{key:"visitAnimateRef",value:function(t,e){var n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}},{key:"_visitSubInstructions",value:function(t,e,n){var i=e.currentTimeline.currentTime,r=null!=n.duration?H(n.duration):null,a=null!=n.delay?H(n.delay):null;return 0!==r&&t.forEach((function(t){var n=e.appendInstructionToTimeline(t,r,a);i=Math.max(i,n.duration+n.delay)})),i}},{key:"visitReference",value:function(t,e){e.updateOptions(t.options,!0),ot(this,t.animation,e),e.previousNode=t}},{key:"visitSequence",value:function(t,e){var n=this,i=e.subContextCount,r=e,a=t.options;if(a&&(a.params||a.delay)&&((r=e.createSubContext(a)).transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=At);var o=H(a.delay);r.delayNextStep(o)}t.steps.length&&(t.steps.forEach((function(t){return ot(n,t,r)})),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}},{key:"visitGroup",value:function(t,e){var n=this,i=[],r=e.currentTimeline.currentTime,a=t.options&&t.options.delay?H(t.options.delay):0;t.steps.forEach((function(o){var s=e.createSubContext(t.options);a&&s.delayNextStep(a),ot(n,o,s),r=Math.max(r,s.currentTimeline.currentTime),i.push(s.currentTimeline)})),i.forEach((function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)})),e.transformIntoNewTimeline(r),e.previousNode=t}},{key:"_visitTiming",value:function(t,e){if(t.dynamic){var n=t.strValue;return G(e.params?tt(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}},{key:"visitAnimate",value:function(t,e){var n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());var r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}},{key:"visitStyle",value:function(t,e){var n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();var r=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}},{key:"visitKeyframes",value:function(t,e){var n=e.currentAnimateTimings,i=e.currentTimeline.duration,r=n.duration,a=e.createSubContext().currentTimeline;a.easing=n.easing,t.styles.forEach((function(t){var n=t.offset||0;a.forwardTime(n*r),a.setStyles(t.styles,t.easing,e.errors,e.options),a.applyStylesToKeyframe()})),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(i+r),e.previousNode=t}},{key:"visitQuery",value:function(t,e){var n=this,i=e.currentTimeline.currentTime,r=t.options||{},a=r.delay?H(r.delay):0;a&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=At);var o=i,s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;var c=null;s.forEach((function(i,r){e.currentQueryIndex=r;var s=e.createSubContext(t.options,i);a&&s.delayNextStep(a),i===e.element&&(c=s.currentTimeline),ot(n,t.animation,s),s.currentTimeline.applyStylesToKeyframe();var u=s.currentTimeline.currentTime;o=Math.max(o,u)})),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),c&&(e.currentTimeline.mergeTimelineCollectedStyles(c),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}},{key:"visitStagger",value:function(t,e){var n=e.parentContext,i=e.currentTimeline,r=t.timings,a=Math.abs(r.duration),o=a*(e.currentQueryTotal-1),s=a*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":s=o-s;break;case"full":s=n.currentStaggerTime}var c=e.currentTimeline;s&&c.delayNextStep(s);var u=c.currentTime;ot(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-u+(i.startTime-n.currentTimeline.startTime)}}]),t}(),At={},Mt=function(){function t(e,n,i,a,o,s,c,u){Object(r.a)(this,t),this._driver=e,this.element=n,this.subInstructions=i,this._enterClassName=a,this._leaveClassName=o,this.errors=s,this.timelines=c,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=At,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new Tt(this._driver,n,0),c.push(this.currentTimeline)}return Object(a.a)(t,[{key:"updateOptions",value:function(t,e){var n=this;if(t){var i=t,r=this.options;null!=i.duration&&(r.duration=H(i.duration)),null!=i.delay&&(r.delay=H(i.delay));var a=i.params;if(a){var o=r.params;o||(o=this.options.params={}),Object.keys(a).forEach((function(t){e&&o.hasOwnProperty(t)||(o[t]=tt(a[t],o,n.errors))}))}}}},{key:"_copyOptions",value:function(){var t={};if(this.options){var e=this.options.params;if(e){var n=t.params={};Object.keys(e).forEach((function(t){n[t]=e[t]}))}}return t}},{key:"createSubContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,r=n||this.element,a=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}},{key:"transformIntoNewTimeline",value:function(t){return this.previousNode=At,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(t,e,n){var i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},r=new Et(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(r),i}},{key:"incrementTime",value:function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}},{key:"delayNextStep",value:function(t){t>0&&this.currentTimeline.delayNextStep(t)}},{key:"invokeQuery",value:function(t,e,n,i,r,a){var o=[];if(i&&o.push(this.element),t.length>0){t=(t=t.replace(kt,"."+this._enterClassName)).replace(Ot,"."+this._leaveClassName);var s=1!=n,c=this._driver.query(this.element,t,s);0!==n&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),o.push.apply(o,Object(p.a)(c))}return r||0!=o.length||a.push('`query("'.concat(e,'")` returned zero elements. (Use `query("').concat(e,'", { optional: true })` if you wish to allow this.)')),o}},{key:"params",get:function(){return this.options.params}}]),t}(),Tt=function(){function t(e,n,i,a){Object(r.a)(this,t),this._driver=e,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return Object(a.a)(t,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"delayNextStep",value:function(t){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}},{key:"fork",value:function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}},{key:"_updateStyle",value:function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach((function(t){e._backFill[t]=e._globalTimelineStyles[t]||l.a,e._currentKeyframe[t]=l.a})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(t,e,n,i){var r=this;e&&(this._previousKeyframe.easing=e);var a=i&&i.params||{},o=function(t,e){var n,i={};return t.forEach((function(t){"*"===t?(n=n||Object.keys(e)).forEach((function(t){i[t]=l.a})):X(t,!1,i)})),i}(t,this._globalTimelineStyles);Object.keys(o).forEach((function(t){var e=tt(o[t],a,n);r._pendingStyles[t]=e,r._localTimelineStyles.hasOwnProperty(t)||(r._backFill[t]=r._globalTimelineStyles.hasOwnProperty(t)?r._globalTimelineStyles[t]:l.a),r._updateStyle(t,e)}))}},{key:"applyStylesToKeyframe",value:function(){var t=this,e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){var i=e[n];t._currentKeyframe[n]=i})),Object.keys(this._localTimelineStyles).forEach((function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])})))}},{key:"snapshotCurrentStyles",value:function(){var t=this;Object.keys(this._localTimelineStyles).forEach((function(e){var n=t._localTimelineStyles[e];t._pendingStyles[e]=n,t._updateStyle(e,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"mergeTimelineCollectedStyles",value:function(t){var e=this;Object.keys(t._styleSummary).forEach((function(n){var i=e._styleSummary[n],r=t._styleSummary[n];(!i||r.time>i.time)&&e._updateStyle(n,r.value)}))}},{key:"buildKeyframes",value:function(){var t=this;this.applyStylesToKeyframe();var e=new Set,n=new Set,i=1===this._keyframes.size&&0===this.duration,r=[];this._keyframes.forEach((function(a,o){var s=X(a,!0);Object.keys(s).forEach((function(t){var i=s[t];i==l.m?e.add(t):i==l.a&&n.add(t)})),i||(s.offset=o/t.duration),r.push(s)}));var a=e.size?et(e.values()):[],o=n.size?et(n.values()):[];if(i){var s=r[0],c=W(s);s.offset=0,c.offset=1,r=[s,c]}return wt(this.element,r,a,o,this.duration,this.startTime,this.easing,!1)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"properties",get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t}}]),t}(),Et=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(t,i,a,o,s,c){var u,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return Object(r.a)(this,n),(u=e.call(this,t,i,c.delay)).element=i,u.keyframes=a,u.preStyleProps=o,u.postStyleProps=s,u._stretchStartingKeyframe=l,u.timings={duration:c.duration,delay:c.delay,easing:c.easing},u}return Object(a.a)(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var t=this.keyframes,e=this.timings,n=e.delay,i=e.duration,r=e.easing;if(this._stretchStartingKeyframe&&n){var a=[],o=i+n,s=n/o,c=X(t[0],!1);c.offset=0,a.push(c);var u=X(t[0],!1);u.offset=Pt(s),a.push(u);for(var l=t.length-1,h=1;h<=l;h++){var d=X(t[h],!1),f=n+d.offset*i;d.offset=Pt(f/o),a.push(d)}i=o,n=0,r="",t=a}return wt(this.element,t,this.preStyleProps,this.postStyleProps,i,n,r,!0)}}]),n}(Tt);function Pt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,e-1);return Math.round(t*n)/n}var Dt,jt,Rt=function t(){Object(r.a)(this,t)},It=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(a.a)(n,[{key:"normalizePropertyName",value:function(t,e){return it(t)}},{key:"normalizeStyleValue",value:function(t,e,n,i){var r="",a=n.toString().trim();if(Lt[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{var o=n.match(/^[+-]?[\d\.]+([a-z]*)$/);o&&0==o[1].length&&i.push("Please provide a CSS unit value for ".concat(t,":").concat(n))}return a+r}}]),n}(Rt),Lt=(Dt="width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","),jt={},Dt.forEach((function(t){return jt[t]=!0})),jt);function Nt(t,e,n,i,r,a,o,s,c,u,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:a,toState:i,toStyles:o,timelines:s,queriedElements:c,preStyleProps:u,postStyleProps:l,totalTime:h,errors:d}}var Ft={},Bt=function(){function t(e,n,i){Object(r.a)(this,t),this._triggerName=e,this.ast=n,this._stateStyles=i}return Object(a.a)(t,[{key:"match",value:function(t,e,n,i){return function(t,e,n,i,r){return t.some((function(t){return t(e,n,i,r)}))}(this.ast.matchers,t,e,n,i)}},{key:"buildStyles",value:function(t,e,n){var i=this._stateStyles["*"],r=this._stateStyles[t],a=i?i.buildStyles(e,n):{};return r?r.buildStyles(e,n):a}},{key:"build",value:function(t,e,n,i,r,a,o,s,c,u){var l=[],h=this.ast.options&&this.ast.options.params||Ft,d=o&&o.params||Ft,f=this.buildStyles(n,d,l),p=s&&s.params||Ft,v=this.buildStyles(i,p,l),m=new Set,g=new Map,y=new Map,b="void"===i,_={params:Object.assign(Object.assign({},h),p)},x=u?[]:St(t,e,this.ast.animation,r,a,f,v,_,c,l),k=0;if(x.forEach((function(t){k=Math.max(t.duration+t.delay,k)})),l.length)return Nt(e,this._triggerName,n,i,b,f,v,[],[],g,y,k,l);x.forEach((function(t){var n=t.element,i=w(g,n,{});t.preStyleProps.forEach((function(t){return i[t]=!0}));var r=w(y,n,{});t.postStyleProps.forEach((function(t){return r[t]=!0})),n!==e&&m.add(n)}));var O=et(m.values());return Nt(e,this._triggerName,n,i,b,f,v,x,O,g,y,k)}}]),t}();var zt=function(){function t(e,n){Object(r.a)(this,t),this.styles=e,this.defaultParams=n}return Object(a.a)(t,[{key:"buildStyles",value:function(t,e){var n={},i=W(this.defaultParams);return Object.keys(t).forEach((function(e){var n=t[e];null!=n&&(i[e]=n)})),this.styles.styles.forEach((function(t){if("string"!=typeof t){var r=t;Object.keys(r).forEach((function(t){var a=r[t];a.length>1&&(a=tt(a,i,e)),n[t]=a}))}})),n}}]),t}();var Ut=function(){function t(e,n){var i,a,o=this;Object(r.a)(this,t),this.name=e,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(t){var e=t.options&&t.options.params||{};o.states[t.name]=new zt(t.style,e)})),Ht(this.states,"true","1"),Ht(this.states,"false","0"),n.transitions.forEach((function(t){o.transitionFactories.push(new Bt(e,t,o.states))})),this.fallbackTransition=(i=e,a=this.states,new Bt(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(t,e){return!0}],options:null,queryCount:0,depCount:0},a))}return Object(a.a)(t,[{key:"matchTransition",value:function(t,e,n,i){return this.transitionFactories.find((function(r){return r.match(t,e,n,i)}))||null}},{key:"matchStyles",value:function(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}},{key:"containsQueries",get:function(){return this.ast.queryCount>0}}]),t}();function Ht(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}var Vt=new xt,Gt=function(){function t(e,n,i){Object(r.a)(this,t),this.bodyNode=e,this._driver=n,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}return Object(a.a)(t,[{key:"register",value:function(t,e){var n=[],i=vt(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: ".concat(n.join("\n")));this._animations[t]=i}},{key:"_buildPlayer",value:function(t,e,n){var i=t.element,r=g(this._driver,this._normalizer,i,t.keyframes,e,n);return this._driver.animate(i,r,t.duration,t.delay,t.easing,[],!0)}},{key:"create",value:function(t,e){var n,i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=[],o=this._animations[t],s=new Map;if(o?(n=St(this._driver,e,o,L,N,{},{},r,Vt,a)).forEach((function(t){var e=w(s,t.element,{});t.postStyleProps.forEach((function(t){return e[t]=null}))})):(a.push("The requested animation doesn't exist or has already been destroyed"),n=[]),a.length)throw new Error("Unable to create the animation due to the following errors: ".concat(a.join("\n")));s.forEach((function(t,e){Object.keys(t).forEach((function(n){t[n]=i._driver.computeStyle(e,n,l.a)}))}));var c=n.map((function(t){var e=s.get(t.element);return i._buildPlayer(t,{},e)})),u=m(c);return this._playersById[t]=u,u.onDestroy((function(){return i.destroy(t)})),this.players.push(u),u}},{key:"destroy",value:function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(t){var e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by ".concat(t));return e}},{key:"listen",value:function(t,e,n,i){var r=_(e,"","","");return y(this._getPlayer(t),n,r,i),function(){}}},{key:"command",value:function(t,e,n,i){if("register"!=n)if("create"!=n){var r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}else{var a=i[0]||{};this.create(t,e,a)}else this.register(t,i[0])}}]),t}(),Wt="ng-animate-queued",Xt="ng-animate-disabled",qt=".ng-animate-disabled",Yt="ng-star-inserted",Qt=[],Kt={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Zt={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Jt=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Object(r.a)(this,t),this.namespaceId=n;var i=e&&e.hasOwnProperty("value"),a=i?e.value:e;if(this.value=re(a),i){var o=W(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return Object(a.a)(t,[{key:"absorbOptions",value:function(t){var e=t.params;if(e){var n=this.options.params;Object.keys(e).forEach((function(t){null==n[t]&&(n[t]=e[t])}))}}},{key:"params",get:function(){return this.options.params}}]),t}(),$t="void",te=new Jt($t),ee=function(){function t(e,n,i){Object(r.a)(this,t),this.id=e,this.hostElement=n,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ue(n,this._hostClassName)}return Object(a.a)(t,[{key:"listen",value:function(t,e,n,i){var r,a=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(e,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(e,'" because the provided event is undefined!'));if("start"!=(r=n)&&"done"!=r)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(e,'" is not supported!'));var o=w(this._elementListeners,t,[]),s={name:e,phase:n,callback:i};o.push(s);var c=w(this._engine.statesByElement,t,{});return c.hasOwnProperty(e)||(ue(t,F),ue(t,"ng-trigger-"+e),c[e]=te),function(){a._engine.afterFlush((function(){var t=o.indexOf(s);t>=0&&o.splice(t,1),a._triggers[e]||delete c[e]}))}}},{key:"register",value:function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}},{key:"_getTrigger",value:function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'.concat(t,'" has not been registered!'));return e}},{key:"trigger",value:function(t,e,n){var i=this,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=this._getTrigger(e),o=new ie(this.id,e,t),s=this._engine.statesByElement.get(t);s||(ue(t,F),ue(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));var c=s[e],u=new Jt(n,this.id),l=n&&n.hasOwnProperty("value");!l&&c&&u.absorbOptions(c.options),s[e]=u,c||(c=te);var h=u.value===$t;if(h||c.value!==u.value){var d=w(this._engine.playersByElement,t,[]);d.forEach((function(t){t.namespaceId==i.id&&t.triggerName==e&&t.queued&&t.destroy()}));var f=a.matchTransition(c.value,u.value,t,u.params),p=!1;if(!f){if(!r)return;f=a.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:f,fromState:c,toState:u,player:o,isFallbackTransition:p}),p||(ue(t,Wt),o.onStart((function(){le(t,Wt)}))),o.onDone((function(){var e=i.players.indexOf(o);e>=0&&i.players.splice(e,1);var n=i._engine.playersByElement.get(t);if(n){var r=n.indexOf(o);r>=0&&n.splice(r,1)}})),this.players.push(o),d.push(o),o}if(!de(c.params,u.params)){var v=[],m=a.matchStyles(c.value,c.params,v),g=a.matchStyles(u.value,u.params,v);v.length?this._engine.reportError(v):this._engine.afterFlush((function(){K(t,m),Q(t,g)}))}}},{key:"deregister",value:function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach((function(e,n){delete e[t]})),this._elementListeners.forEach((function(n,i){e._elementListeners.set(i,n.filter((function(e){return e.name!=t})))}))}},{key:"clearElementCache",value:function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach((function(t){return t.destroy()})),this._engine.playersByElement.delete(t))}},{key:"_signalRemovalForInnerTriggers",value:function(t,e){var n=this,i=this._engine.driver.query(t,B,!0);i.forEach((function(t){if(!t.__ng_removed){var i=n._engine.fetchNamespacesByElement(t);i.size?i.forEach((function(n){return n.triggerLeaveAnimation(t,e,!1,!0)})):n.clearElementCache(t)}})),this._engine.afterFlushAnimationsDone((function(){return i.forEach((function(t){return n.clearElementCache(t)}))}))}},{key:"triggerLeaveAnimation",value:function(t,e,n,i){var r=this,a=this._engine.statesByElement.get(t);if(a){var o=[];if(Object.keys(a).forEach((function(e){if(r._triggers[e]){var n=r.trigger(t,e,$t,i);n&&o.push(n)}})),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&m(o).onDone((function(){return r._engine.processLeaveNode(t)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(t){var e=this,n=this._elementListeners.get(t);if(n){var i=new Set;n.forEach((function(n){var r=n.name;if(!i.has(r)){i.add(r);var a=e._triggers[r].fallbackTransition,o=e._engine.statesByElement.get(t)[r]||te,s=new Jt($t),c=new ie(e.id,r,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:r,transition:a,fromState:o,toState:s,player:c,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(t,e){var n=this,i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),!this.triggerLeaveAnimation(t,e,!0)){var r=!1;if(i.totalAnimations){var a=i.players.length?i.playersByQueriedElement.get(t):[];if(a&&a.length)r=!0;else for(var o=t;o=o.parentNode;){if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{var s=t.__ng_removed;s&&s!==Kt||(i.afterFlush((function(){return n.clearElementCache(t)})),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}}},{key:"insertNode",value:function(t,e){ue(t,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(t){var e=this,n=[];return this._queue.forEach((function(i){var r=i.player;if(!r.destroyed){var a=i.element,o=e._elementListeners.get(a);o&&o.forEach((function(e){if(e.name==i.triggerName){var n=_(a,i.triggerName,i.fromState.value,i.toState.value);n._data=t,y(i.player,e.phase,n,e.callback)}})),r.markedForDestroy?e._engine.afterFlush((function(){r.destroy()})):n.push(i)}})),this._queue=[],n.sort((function(t,n){var i=t.transition.ast.depCount,r=n.transition.ast.depCount;return 0==i||0==r?i-r:e._engine.driver.containsElement(t.element,n.element)?1:-1}))}},{key:"destroy",value:function(t){this.players.forEach((function(t){return t.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,t)}},{key:"elementContainsData",value:function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find((function(e){return e.element===t}))||e}}]),t}(),ne=function(){function t(e,n,i){Object(r.a)(this,t),this.bodyNode=e,this.driver=n,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(t,e){}}return Object(a.a)(t,[{key:"_onRemovalComplete",value:function(t,e){this.onRemovalComplete(t,e)}},{key:"createNamespace",value:function(t,e){var n=new ee(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}},{key:"_balanceNamespaceList",value:function(t,e){var n=this._namespaceList.length-1;if(n>=0){for(var i=!1,r=n;r>=0;r--){var a=this._namespaceList[r];if(this.driver.containsElement(a.hostElement,e)){this._namespaceList.splice(r+1,0,t),i=!0;break}}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}},{key:"register",value:function(t,e){var n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}},{key:"registerTrigger",value:function(t,e,n){var i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}},{key:"destroy",value:function(t,e){var n=this;if(t){var i=this._fetchNamespace(t);this.afterFlush((function(){n.namespacesByHostElement.delete(i.hostElement),delete n._namespaceLookup[t];var e=n._namespaceList.indexOf(i);e>=0&&n._namespaceList.splice(e,1)})),this.afterFlushAnimationsDone((function(){return i.destroy(e)}))}}},{key:"_fetchNamespace",value:function(t){return this._namespaceLookup[t]}},{key:"fetchNamespacesByElement",value:function(t){var e=new Set,n=this.statesByElement.get(t);if(n)for(var i=Object.keys(n),r=0;r<i.length;r++){var a=n[i[r]].namespaceId;if(a){var o=this._fetchNamespace(a);o&&e.add(o)}}return e}},{key:"trigger",value:function(t,e,n,i){if(ae(e)){var r=this._fetchNamespace(t);if(r)return r.trigger(e,n,i),!0}return!1}},{key:"insertNode",value:function(t,e,n,i){if(ae(e)){var r=e.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;var a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){var o=this._fetchNamespace(t);o&&o.insertNode(e,n)}i&&this.collectEnterElement(e)}}},{key:"collectEnterElement",value:function(t){this.collectedEnterElements.push(t)}},{key:"markElementAsDisabled",value:function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ue(t,Xt)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),le(t,Xt))}},{key:"removeNode",value:function(t,e,n,i){if(ae(e)){var r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){var a=this.namespacesByHostElement.get(e);a&&a.id!==t&&a.removeNode(e,i)}}else this._onRemovalComplete(e,i)}},{key:"markElementAsRemoved",value:function(t,e,n,i){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(t,e,n,i,r){return ae(e)?this._fetchNamespace(t).listen(e,n,i,r):function(){}}},{key:"_buildInstruction",value:function(t,e,n,i,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,r)}},{key:"destroyInnerAnimations",value:function(t){var e=this,n=this.driver.query(t,B,!0);n.forEach((function(t){return e.destroyActiveAnimationsForElement(t)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,U,!0)).forEach((function(t){return e.finishActiveQueriedAnimationOnElement(t)}))}},{key:"destroyActiveAnimationsForElement",value:function(t){var e=this.playersByElement.get(t);e&&e.forEach((function(t){t.queued?t.markedForDestroy=!0:t.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach((function(t){return t.finish()}))}},{key:"whenRenderingDone",value:function(){var t=this;return new Promise((function(e){if(t.players.length)return m(t.players).onDone((function(){return e()}));e()}))}},{key:"processLeaveNode",value:function(t){var e=this,n=t.__ng_removed;if(n&&n.setForRemoval){if(t.__ng_removed=Kt,n.namespaceId){this.destroyInnerAnimations(t);var i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}this.driver.matchesElement(t,qt)&&this.markElementAsDisabled(t,!1),this.driver.query(t,qt,!0).forEach((function(t){e.markElementAsDisabled(t,!1)}))}},{key:"flush",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(e,n){return t._balanceNamespaceList(e,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var i=0;i<this.collectedEnterElements.length;i++){var r=this.collectedEnterElements[i];ue(r,Yt)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var a=[];try{n=this._flushAnimations(a,e)}finally{for(var o=0;o<a.length;o++)a[o]()}}else for(var s=0;s<this.collectedLeaveElements.length;s++){var c=this.collectedLeaveElements[s];this.processLeaveNode(c)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(t){return t()})),this._flushFns=[],this._whenQuietFns.length){var u=this._whenQuietFns;this._whenQuietFns=[],n.length?m(n).onDone((function(){u.forEach((function(t){return t()}))})):u.forEach((function(t){return t()}))}}},{key:"reportError",value:function(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(t.join("\n")))}},{key:"_flushAnimations",value:function(t,e){var n=this,i=new xt,r=[],a=new Map,o=[],s=new Map,c=new Map,u=new Map,h=new Set;this.disabledNodes.forEach((function(t){h.add(t);for(var e=n.driver.query(t,".ng-animate-queued",!0),i=0;i<e.length;i++)h.add(e[i])}));var d=this.bodyNode,f=Array.from(this.statesByElement.keys()),v=ce(f,this.collectedEnterElements),g=new Map,y=0;v.forEach((function(t,e){var n=L+y++;g.set(e,n),t.forEach((function(t){return ue(t,n)}))}));for(var b=[],_=new Set,x=new Set,k=0;k<this.collectedLeaveElements.length;k++){var O=this.collectedLeaveElements[k],S=O.__ng_removed;S&&S.setForRemoval&&(b.push(O),_.add(O),S.hasAnimation?this.driver.query(O,".ng-star-inserted",!0).forEach((function(t){return _.add(t)})):x.add(O))}var C=new Map,A=ce(f,Array.from(_));A.forEach((function(t,e){var n=N+y++;C.set(e,n),t.forEach((function(t){return ue(t,n)}))})),t.push((function(){v.forEach((function(t,e){var n=g.get(e);t.forEach((function(t){return le(t,n)}))})),A.forEach((function(t,e){var n=C.get(e);t.forEach((function(t){return le(t,n)}))})),b.forEach((function(t){n.processLeaveNode(t)}))}));for(var M=[],T=[],E=this._namespaceList.length-1;E>=0;E--){this._namespaceList[E].drainQueuedTransitions(e).forEach((function(t){var e=t.player,a=t.element;if(M.push(e),n.collectedEnterElements.length){var l=a.__ng_removed;if(l&&l.setForMove)return void e.destroy()}var h=!d||!n.driver.containsElement(d,a),f=C.get(a),p=g.get(a),v=n._buildInstruction(t,i,p,f,h);if(v.errors&&v.errors.length)T.push(v);else{if(h)return e.onStart((function(){return K(a,v.fromStyles)})),e.onDestroy((function(){return Q(a,v.toStyles)})),void r.push(e);if(t.isFallbackTransition)return e.onStart((function(){return K(a,v.fromStyles)})),e.onDestroy((function(){return Q(a,v.toStyles)})),void r.push(e);v.timelines.forEach((function(t){return t.stretchStartingKeyframe=!0})),i.append(a,v.timelines);var m={instruction:v,player:e,element:a};o.push(m),v.queriedElements.forEach((function(t){return w(s,t,[]).push(e)})),v.preStyleProps.forEach((function(t,e){var n=Object.keys(t);if(n.length){var i=c.get(e);i||c.set(e,i=new Set),n.forEach((function(t){return i.add(t)}))}})),v.postStyleProps.forEach((function(t,e){var n=Object.keys(t),i=u.get(e);i||u.set(e,i=new Set),n.forEach((function(t){return i.add(t)}))}))}}))}if(T.length){var P=[];T.forEach((function(t){P.push("@".concat(t.triggerName," has failed due to:\n")),t.errors.forEach((function(t){return P.push("- ".concat(t,"\n"))}))})),M.forEach((function(t){return t.destroy()})),this.reportError(P)}var D=new Map,j=new Map;o.forEach((function(t){var e=t.element;i.has(e)&&(j.set(e,e),n._beforeAnimationBuild(t.player.namespaceId,t.instruction,D))})),r.forEach((function(t){var e=t.element;n._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach((function(t){w(D,e,[]).push(t),t.destroy()}))}));var R=b.filter((function(t){return fe(t,c,u)})),I=new Map;se(I,this.driver,x,u,l.a).forEach((function(t){fe(t,c,u)&&R.push(t)}));var F=new Map;v.forEach((function(t,e){se(F,n.driver,new Set(t),c,l.m)})),R.forEach((function(t){var e=I.get(t),n=F.get(t);I.set(t,Object.assign(Object.assign({},e),n))}));var B=[],z=[],H={};o.forEach((function(t){var e=t.element,o=t.player,s=t.instruction;if(i.has(e)){if(h.has(e))return o.onDestroy((function(){return Q(e,s.toStyles)})),o.disabled=!0,o.overrideTotalTime(s.totalTime),void r.push(o);var c=H;if(j.size>1){for(var u=e,l=[];u=u.parentNode;){var d=j.get(u);if(d){c=d;break}l.push(u)}l.forEach((function(t){return j.set(t,c)}))}var f=n._buildAnimation(o.namespaceId,s,D,a,F,I);if(o.setRealPlayer(f),c===H)B.push(o);else{var p=n.playersByElement.get(c);p&&p.length&&(o.parentPlayer=m(p)),r.push(o)}}else K(e,s.fromStyles),o.onDestroy((function(){return Q(e,s.toStyles)})),z.push(o),h.has(e)&&r.push(o)})),z.forEach((function(t){var e=a.get(t.element);if(e&&e.length){var n=m(e);t.setRealPlayer(n)}})),r.forEach((function(t){t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()}));for(var V=0;V<b.length;V++){var G=b[V],W=G.__ng_removed;if(le(G,N),!W||!W.hasAnimation){var X=[];if(s.size){var q=s.get(G);q&&q.length&&X.push.apply(X,Object(p.a)(q));for(var Y=this.driver.query(G,U,!0),Z=0;Z<Y.length;Z++){var J=s.get(Y[Z]);J&&J.length&&X.push.apply(X,Object(p.a)(J))}}var $=X.filter((function(t){return!t.destroyed}));$.length?he(this,G,$):this.processLeaveNode(G)}}return b.length=0,B.forEach((function(t){n.players.push(t),t.onDone((function(){t.destroy();var e=n.players.indexOf(t);n.players.splice(e,1)})),t.play()})),B}},{key:"elementContainsData",value:function(t,e){var n=!1,i=e.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}},{key:"afterFlush",value:function(t){this._flushFns.push(t)}},{key:"afterFlushAnimationsDone",value:function(t){this._whenQuietFns.push(t)}},{key:"_getPreviousPlayers",value:function(t,e,n,i,r){var a=[];if(e){var o=this.playersByQueriedElement.get(t);o&&(a=o)}else{var s=this.playersByElement.get(t);if(s){var c=!r||r==$t;s.forEach((function(t){t.queued||(c||t.triggerName==i)&&a.push(t)}))}}return(n||i)&&(a=a.filter((function(t){return(!n||n==t.namespaceId)&&(!i||i==t.triggerName)}))),a}},{key:"_beforeAnimationBuild",value:function(t,e,n){var i,r=this,a=e.triggerName,o=e.element,s=e.isRemovalTransition?void 0:t,c=e.isRemovalTransition?void 0:a,u=Object(f.a)(e.timelines);try{var l=function(){var t=i.value.element,a=t!==o,u=w(n,t,[]);r._getPreviousPlayers(t,a,s,c,e.toState).forEach((function(t){var e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)}))};for(u.s();!(i=u.n()).done;)l()}catch(h){u.e(h)}finally{u.f()}K(o,e.fromStyles)}},{key:"_buildAnimation",value:function(t,e,n,i,r,a){var o=this,s=e.triggerName,c=e.element,u=[],h=new Set,d=new Set,f=e.timelines.map((function(e){var f=e.element;h.add(f);var p=f.__ng_removed;if(p&&p.removedBeforeQueried)return new l.d(e.duration,e.delay);var v,m,y=f!==c,b=(v=(n.get(f)||Qt).map((function(t){return t.getRealPlayer()})),m=[],function t(e,n){for(var i=0;i<e.length;i++){var r=e[i];r instanceof l.l?t(r.players,n):n.push(r)}}(v,m),m).filter((function(t){var e=t;return!!e.element&&e.element===f})),_=r.get(f),w=a.get(f),x=g(o.driver,o._normalizer,f,e.keyframes,_,w),k=o._buildPlayer(e,x,b);if(e.subTimeline&&i&&d.add(f),y){var O=new ie(t,s,f);O.setRealPlayer(k),u.push(O)}return k}));u.forEach((function(t){w(o.playersByQueriedElement,t.element,[]).push(t),t.onDone((function(){return function(t,e,n){var i;if(t instanceof Map){if(i=t.get(e)){if(i.length){var r=i.indexOf(n);i.splice(r,1)}0==i.length&&t.delete(e)}}else if(i=t[e]){if(i.length){var a=i.indexOf(n);i.splice(a,1)}0==i.length&&delete t[e]}return i}(o.playersByQueriedElement,t.element,t)}))})),h.forEach((function(t){return ue(t,z)}));var p=m(f);return p.onDestroy((function(){h.forEach((function(t){return le(t,z)})),Q(c,e.toStyles)})),d.forEach((function(t){w(i,t,[]).push(p)})),p}},{key:"_buildPlayer",value:function(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new l.d(t.duration,t.delay)}},{key:"queuedPlayers",get:function(){var t=[];return this._namespaceList.forEach((function(e){e.players.forEach((function(e){e.queued&&t.push(e)}))})),t}}]),t}(),ie=function(){function t(e,n,i){Object(r.a)(this,t),this.namespaceId=e,this.triggerName=n,this.element=i,this._player=new l.d,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return Object(a.a)(t,[{key:"setRealPlayer",value:function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach((function(n){e._queuedCallbacks[n].forEach((function(e){return y(t,n,void 0,e)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(t){this.totalTime=t}},{key:"syncPlayerEvents",value:function(t){var e=this,n=this._player;n.triggerCallback&&t.onStart((function(){return n.triggerCallback("start")})),t.onDone((function(){return e.finish()})),t.onDestroy((function(){return e.destroy()}))}},{key:"_queueEvent",value:function(t,e){w(this._queuedCallbacks,t,[]).push(e)}},{key:"onDone",value:function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}},{key:"onStart",value:function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}},{key:"onDestroy",value:function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(t){this.queued||this._player.setPosition(t)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)}}]),t}();function re(t){return null!=t?t:null}function ae(t){return t&&1===t.nodeType}function oe(t,e){var n=t.style.display;return t.style.display=null!=e?e:"none",n}function se(t,e,n,i,r){var a=[];n.forEach((function(t){return a.push(oe(t))}));var o=[];i.forEach((function(n,i){var a={};n.forEach((function(t){var n=a[t]=e.computeStyle(i,t,r);n&&0!=n.length||(i.__ng_removed=Zt,o.push(i))})),t.set(i,a)}));var s=0;return n.forEach((function(t){return oe(t,a[s++])})),o}function ce(t,e){var n=new Map;if(t.forEach((function(t){return n.set(t,[])})),0==e.length)return n;var i=new Set(e),r=new Map;return e.forEach((function(t){var e=function t(e){if(!e)return 1;var a=r.get(e);if(a)return a;var o=e.parentNode;return a=n.has(o)?o:i.has(o)?1:t(o),r.set(e,a),a}(t);1!==e&&n.get(e).push(t)})),n}function ue(t,e){if(t.classList)t.classList.add(e);else{var n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function le(t,e){if(t.classList)t.classList.remove(e);else{var n=t.$$classes;n&&delete n[e]}}function he(t,e,n){m(n).onDone((function(){return t.processLeaveNode(e)}))}function de(t,e){var n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(var r=0;r<n.length;r++){var a=n[r];if(!e.hasOwnProperty(a)||t[a]!==e[a])return!1}return!0}function fe(t,e,n){var i=n.get(t);if(!i)return!1;var r=e.get(t);return r?i.forEach((function(t){return r.add(t)})):e.set(t,i),n.delete(t),!0}var pe=function(){function t(e,n,i){var a=this;Object(r.a)(this,t),this.bodyNode=e,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(t,e){},this._transitionEngine=new ne(e,n,i),this._timelineEngine=new Gt(e,n,i),this._transitionEngine.onRemovalComplete=function(t,e){return a.onRemovalComplete(t,e)}}return Object(a.a)(t,[{key:"registerTrigger",value:function(t,e,n,i,r){var a=t+"-"+i,o=this._triggerCache[a];if(!o){var s=[],c=vt(this._driver,r,s);if(s.length)throw new Error('The animation trigger "'.concat(i,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));o=function(t,e){return new Ut(t,e)}(i,c),this._triggerCache[a]=o}this._transitionEngine.registerTrigger(e,i,o)}},{key:"register",value:function(t,e){this._transitionEngine.register(t,e)}},{key:"destroy",value:function(t,e){this._transitionEngine.destroy(t,e)}},{key:"onInsert",value:function(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}},{key:"onRemove",value:function(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}},{key:"disableAnimations",value:function(t,e){this._transitionEngine.markElementAsDisabled(t,e)}},{key:"process",value:function(t,e,n,r){if("@"==n.charAt(0)){var a=x(n),o=Object(i.a)(a,2),s=o[0],c=o[1],u=r;this._timelineEngine.command(s,e,c,u)}else this._transitionEngine.trigger(t,e,n,r)}},{key:"listen",value:function(t,e,n,r,a){if("@"==n.charAt(0)){var o=x(n),s=Object(i.a)(o,2),c=s[0],u=s[1];return this._timelineEngine.listen(c,e,u,a)}return this._transitionEngine.listen(t,e,n,r,a)}},{key:"flush",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(t)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}}]),t}();function ve(t,e){var n=null,i=null;return Array.isArray(e)&&e.length?(n=ge(e[0]),e.length>1&&(i=ge(e[e.length-1]))):e&&(n=ge(e)),n||i?new me(t,n,i):null}var me=function(){function t(e,n,i){Object(r.a)(this,t),this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;var a=t.initialStylesByElement.get(e);a||t.initialStylesByElement.set(e,a={}),this._initialStyles=a}return Object(a.a)(t,[{key:"start",value:function(){this._state<1&&(this._startStyles&&Q(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(Q(this._element,this._initialStyles),this._endStyles&&(Q(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(K(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(K(this._element,this._endStyles),this._endStyles=null),Q(this._element,this._initialStyles),this._state=3)}}]),t}();function ge(t){for(var e=null,n=Object.keys(t),i=0;i<n.length;i++){var r=n[i];ye(r)&&((e=e||{})[r]=t[r])}return e}function ye(t){return"display"===t||"position"===t}me.initialStylesByElement=new WeakMap;var be="animation",_e="animationend",we=function(){function t(e,n,i,a,o,s,c){var u=this;Object(r.a)(this,t),this._element=e,this._name=n,this._duration=i,this._delay=a,this._easing=o,this._fillMode=s,this._onDoneFn=c,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(t){return u._handleCallback(t)}}return Object(a.a)(t,[{key:"apply",value:function(){!function(t,e){var n=Ae(t,"").trim(),i=0;n.length&&(i=function(t,e){for(var n=0,i=0;i<t.length;i++){t.charAt(i)===e&&n++}return n}(n,",")+1,e="".concat(n,", ").concat(e));Ce(t,"",e)}(this._element,"".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name)),Se(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){xe(this._element,this._name,"paused")}},{key:"resume",value:function(){xe(this._element,this._name,"running")}},{key:"setPosition",value:function(t){var e=ke(this._element,this._name);this._position=t*this._duration,Ce(this._element,"Delay","-".concat(this._position,"ms"),e)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(t){var e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),Se(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){var n=Ae(t,"").split(","),i=Oe(n,e);if(i>=0){n.splice(i,1),Ce(t,"",n.join(","))}}(this._element,this._name))}}]),t}();function xe(t,e,n){Ce(t,"PlayState",n,ke(t,e))}function ke(t,e){var n=Ae(t,"");return n.indexOf(",")>0?Oe(n.split(","),e):Oe([n],e)}function Oe(t,e){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Se(t,e,n){n?t.removeEventListener(_e,e):t.addEventListener(_e,e)}function Ce(t,e,n,i){var r=be+e;if(null!=i){var a=t.style[r];if(a.length){var o=a.split(",");o[i]=n,n=o.join(",")}}t.style[r]=n}function Ae(t,e){return t.style[be+e]}var Me=function(){function t(e,n,i,a,o,s,c,u){Object(r.a)(this,t),this.element=e,this.keyframes=n,this.animationName=i,this._duration=a,this._delay=o,this._finalStyles=c,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=a+o,this._buildStyler()}return Object(a.a)(t,[{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(t){this._styler.setPosition(t)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){if(!(this._state>=1)){this._state=1;this.element;this._styler.apply(),this._delay&&this._styler.pause()}}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var t=this;this._styler=new we(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return t.finish()}))}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}},{key:"beforeDestroy",value:function(){var t=this;this.init();var e={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(i){"offset"!=i&&(e[i]=n?t._finalStyles[i]:st(t.element,i))}))}this.currentSnapshot=e}}]),t}(),Te=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(t,i){var a;return Object(r.a)(this,n),(a=e.call(this)).element=t,a._startingStyles={},a.__initialized=!1,a._styles=j(i),a}return Object(a.a)(n,[{key:"init",value:function(){var t=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(e){t._startingStyles[e]=t.element.style[e]})),Object(h.a)(Object(d.a)(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var t=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(e){return t.element.style.setProperty(e,t._styles[e])})),Object(h.a)(Object(d.a)(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var t=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(e){var n=t._startingStyles[e];n?t.element.style.setProperty(e,n):t.element.style.removeProperty(e)})),this._startingStyles=null,Object(h.a)(Object(d.a)(n.prototype),"destroy",this).call(this))}}]),n}(l.d),Ee="gen_css_kf_",Pe=function(){function t(){Object(r.a)(this,t),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return Object(a.a)(t,[{key:"validateStyleProperty",value:function(t){return T(t)}},{key:"matchesElement",value:function(t,e){return E(t,e)}},{key:"containsElement",value:function(t,e){return P(t,e)}},{key:"query",value:function(t,e,n){return D(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"buildKeyframeElement",value:function(t,e,n){n=n.map((function(t){return j(t)}));var i="@keyframes ".concat(e," {\n"),r="";n.forEach((function(t){r=" ";var e=parseFloat(t.offset);i+="".concat(r).concat(100*e,"% {\n"),r+=" ",Object.keys(t).forEach((function(e){var n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+="".concat(r,"animation-timing-function: ").concat(n,";\n")));default:return void(i+="".concat(r).concat(e,": ").concat(n,";\n"))}})),i+="".concat(r,"}\n")})),i+="}\n";var a=document.createElement("style");return a.textContent=i,a}},{key:"animate",value:function(t,e,n,i,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],o=arguments.length>6?arguments[6]:void 0;o&&this._notifyFaultyScrubber();var s=a.filter((function(t){return t instanceof Me})),c={};rt(n,i)&&s.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return c[t]=e[t]}))}));var u=De(e=at(t,e,c));if(0==n)return new Te(t,u);var l="".concat(Ee).concat(this._count++),h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);var d=ve(t,e),f=new Me(t,e,l,n,i,r,u,d);return f.onDestroy((function(){return je(h)})),f}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),t}();function De(t){var e={};t&&(Array.isArray(t)?t:[t]).forEach((function(t){Object.keys(t).forEach((function(n){"offset"!=n&&"easing"!=n&&(e[n]=t[n])}))}));return e}function je(t){t.parentNode.removeChild(t)}var Re=function(){function t(e,n,i,a){Object(r.a)(this,t),this.element=e,this.keyframes=n,this.options=i,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}return Object(a.a)(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return t._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(t,e,n){return t.animate(e,n)}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(t){this.domPlayer.currentTime=t*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"beforeDestroy",value:function(){var t=this,e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(e[n]=t._finished?t._finalKeyframe[n]:st(t.element,n))})),this.currentSnapshot=e}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}},{key:"totalTime",get:function(){return this._delay+this._duration}}]),t}(),Ie=function(){function t(){Object(r.a)(this,t),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Le().toString()),this._cssKeyframesDriver=new Pe}return Object(a.a)(t,[{key:"validateStyleProperty",value:function(t){return T(t)}},{key:"matchesElement",value:function(t,e){return E(t,e)}},{key:"containsElement",value:function(t,e){return P(t,e)}},{key:"query",value:function(t,e,n){return D(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"overrideWebAnimationsSupport",value:function(t){this._isNativeImpl=t}},{key:"animate",value:function(t,e,n,i,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],o=arguments.length>6?arguments[6]:void 0,s=!o&&!this._isNativeImpl;if(s)return this._cssKeyframesDriver.animate(t,e,n,i,r,a);var c=0==i?"both":"forwards",u={duration:n,delay:i,fill:c};r&&(u.easing=r);var l={},h=a.filter((function(t){return t instanceof Re}));rt(n,i)&&h.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return l[t]=e[t]}))}));var d=ve(t,e=at(t,e=e.map((function(t){return X(t,!1)})),l));return new Re(t,e,u,d)}}]),t}();function Le(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var Ne=n("ofXK"),Fe=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(t,i){var a;Object(r.a)(this,n),(a=e.call(this))._nextAnimationId=0;var o={id:"0",encapsulation:c.gb.None,styles:[],data:{animation:[]}};return a._renderer=t.createRenderer(i.body,o),a}return Object(a.a)(n,[{key:"build",value:function(t){var e=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(t)?Object(l.g)(t):t;return Ue(this._renderer,null,e,"register",[n]),new Be(e,this._renderer)}}]),n}(l.b);Fe.\u0275fac=function(t){return new(t||Fe)(c.jc(c.T),c.jc(Ne.d))},Fe.\u0275prov=c.Wb({token:Fe,factory:Fe.\u0275fac}),Fe.ctorParameters=function(){return[{type:c.T},{type:void 0,decorators:[{type:c.y,args:[Ne.d]}]}]};var Be=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(t,i){var a;return Object(r.a)(this,n),(a=e.call(this))._id=t,a._renderer=i,a}return Object(a.a)(n,[{key:"create",value:function(t,e){return new ze(this._id,t,e||{},this._renderer)}}]),n}(l.c),ze=function(){function t(e,n,i,a){Object(r.a)(this,t),this.id=e,this.element=n,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}return Object(a.a)(t,[{key:"_listen",value:function(t,e){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(t),e)}},{key:"_command",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return Ue(this._renderer,this.element,this.id,t,n)}},{key:"onDone",value:function(t){this._listen("done",t)}},{key:"onStart",value:function(t){this._listen("start",t)}},{key:"onDestroy",value:function(t){this._listen("destroy",t)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(t){this._command("setPosition",t)}},{key:"getPosition",value:function(){return 0}}]),t}();function Ue(t,e,n,i,r){return t.setProperty(e,"@@".concat(n,":").concat(i),r)}var He="@",Ve="@.disabled",Ge=function(){function t(e,n,i){Object(r.a)(this,t),this.delegate=e,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(t,e){e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}return Object(a.a)(t,[{key:"createRenderer",value:function(t,e){var n=this,i=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var r=this._rendererCache.get(i);return r||(r=new We("",i,this.engine),this._rendererCache.set(i,r)),r}var a=e.id,o=e.id+"-"+this._currentId;this._currentId++,this.engine.register(o,t);return e.data.animation.forEach((function e(i){Array.isArray(i)?i.forEach(e):n.engine.registerTrigger(a,o,t,i.name,i)})),new Xe(this,o,i,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var t=this;this.promise.then((function(){t._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(t,e,n){var r=this;t>=0&&t<this._microtaskId?this._zone.run((function(){return e(n)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){r._zone.run((function(){r._animationCallbacksBuffer.forEach((function(t){var e=Object(i.a)(t,2);(0,e[0])(e[1])})),r._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([e,n]))}},{key:"end",value:function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),t}();Ge.\u0275fac=function(t){return new(t||Ge)(c.jc(c.T),c.jc(pe),c.jc(c.L))},Ge.\u0275prov=c.Wb({token:Ge,factory:Ge.\u0275fac}),Ge.ctorParameters=function(){return[{type:c.T},{type:pe},{type:c.L}]};var We=function(){function t(e,n,i){Object(r.a)(this,t),this.namespaceId=e,this.delegate=n,this.engine=i,this.destroyNode=this.delegate.destroyNode?function(t){return n.destroyNode(t)}:null}return Object(a.a)(t,[{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(t,e){return this.delegate.createElement(t,e)}},{key:"createComment",value:function(t){return this.delegate.createComment(t)}},{key:"createText",value:function(t){return this.delegate.createText(t)}},{key:"appendChild",value:function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}},{key:"insertBefore",value:function(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}},{key:"removeChild",value:function(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}},{key:"selectRootElement",value:function(t,e){return this.delegate.selectRootElement(t,e)}},{key:"parentNode",value:function(t){return this.delegate.parentNode(t)}},{key:"nextSibling",value:function(t){return this.delegate.nextSibling(t)}},{key:"setAttribute",value:function(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}},{key:"removeAttribute",value:function(t,e,n){this.delegate.removeAttribute(t,e,n)}},{key:"addClass",value:function(t,e){this.delegate.addClass(t,e)}},{key:"removeClass",value:function(t,e){this.delegate.removeClass(t,e)}},{key:"setStyle",value:function(t,e,n,i){this.delegate.setStyle(t,e,n,i)}},{key:"removeStyle",value:function(t,e,n){this.delegate.removeStyle(t,e,n)}},{key:"setProperty",value:function(t,e,n){e.charAt(0)==He&&e==Ve?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}},{key:"setValue",value:function(t,e){this.delegate.setValue(t,e)}},{key:"listen",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"disableAnimations",value:function(t,e){this.engine.disableAnimations(t,e)}},{key:"data",get:function(){return this.delegate.data}}]),t}(),Xe=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(t,i,a,o){var s;return Object(r.a)(this,n),(s=e.call(this,i,a,o)).factory=t,s.namespaceId=i,s}return Object(a.a)(n,[{key:"setProperty",value:function(t,e,n){e.charAt(0)==He?"."==e.charAt(1)&&e==Ve?(n=void 0===n||!!n,this.disableAnimations(t,n)):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}},{key:"listen",value:function(t,e,n){var r=this;if(e.charAt(0)==He){var a=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t),o=e.substr(1),s="";if(o.charAt(0)!=He){var c=function(t){var e=t.indexOf("."),n=t.substring(0,e),i=t.substr(e+1);return[n,i]}(o),u=Object(i.a)(c,2);o=u[0],s=u[1]}return this.engine.listen(this.namespaceId,a,o,s,(function(t){var e=t._data||-1;r.factory.scheduleListenerCallback(e,n,t)}))}return this.delegate.listen(t,e,n)}}]),n}(We);var qe=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(t,i,a){return Object(r.a)(this,n),e.call(this,t.body,i,a)}return n}(pe);qe.\u0275fac=function(t){return new(t||qe)(c.jc(Ne.d),c.jc(I),c.jc(Rt))},qe.\u0275prov=c.Wb({token:qe,factory:qe.\u0275fac}),qe.ctorParameters=function(){return[{type:void 0,decorators:[{type:c.y,args:[Ne.d]}]},{type:I},{type:Rt}]};var Ye=new c.A("AnimationModuleType"),Qe=[{provide:l.b,useClass:Fe},{provide:Rt,useFactory:function(){return new It}},{provide:pe,useClass:qe},{provide:c.T,useFactory:function(t,e,n){return new Ge(t,e,n)},deps:[u.d,pe,c.L]}],Ke=[{provide:I,useFactory:function(){return"function"==typeof Le()?new Ie:new Pe}},{provide:Ye,useValue:"BrowserAnimations"}].concat(Qe),Ze=[{provide:I,useClass:R},{provide:Ye,useValue:"NoopAnimations"}].concat(Qe),Je=function t(){Object(r.a)(this,t)};Je.\u0275mod=c.Yb({type:Je}),Je.\u0275inj=c.Xb({factory:function(t){return new(t||Je)},providers:Ke,imports:[u.a]});var $e=function t(){Object(r.a)(this,t)};$e.\u0275mod=c.Yb({type:$e}),$e.\u0275inj=c.Xb({factory:function(t){return new(t||$e)},providers:Ze,imports:[u.a]})},RHZy:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return o}));var i=n("pc+1"),r=n("nOaX"),a=i.y.registerPlugin(r.b)||i.y,o=a.core.Tween},RHh3:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("s4An"),r=n("2WcH");function a(t,e,n){return(a=Object(r.a)()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var a=new(Function.bind.apply(t,r));return n&&Object(i.a)(a,n.prototype),a}).apply(null,arguments)}},ReuC:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("XTTE");function r(t,e,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Object(i.a)(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(n):a.value}})(t,e,n||t)}},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n("ngJS"),r=n("NJ4a"),a=n("Lhse"),o=n("kJWO"),s=n("I55L"),c=n("c2HN"),u=n("XoHu"),l=function(t){if(t&&"function"==typeof t[o.a])return l=t,function(t){var e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(s.a)(t))return Object(i.a)(t);if(Object(c.a)(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,r.a),t};if(t&&"function"==typeof t[a.a])return e=t,function(t){for(var n=e[a.a]();;){var i=void 0;try{i=n.next()}catch(r){return t.error(r),t}if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,l,h=Object(u.a)(t)?"an invalid object":"'".concat(t,"'"),d="You provided ".concat(h," where a stream was expected.")+" You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(d)}},SpAZ:function(t,e,n){"use strict";function i(t){return t}n.d(e,"a",(function(){return i}))},SxV6:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n("sVev"),r=n("pLZG"),a=n("IzEk"),o=n("xbPD"),s=n("XDbj"),c=n("SpAZ");function u(t,e){var n=arguments.length>=2;return function(u){return u.pipe(t?Object(r.a)((function(e,n){return t(e,n,u)})):c.a,Object(a.a)(1),n?Object(o.a)(e):Object(s.a)((function(){return new i.a})))}}},T5bk:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("DSFK"),r=n("25BE"),a=n("BsWD"),o=n("PYwp");function s(t){return Object(i.a)(t)||Object(r.a)(t)||Object(a.a)(t)||Object(o.a)()}},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("HDdC"),r=n("z+Ro"),a=n("bHdf"),o=n("yCtX");function s(){for(var t=Number.POSITIVE_INFINITY,e=null,n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];var u=s[s.length-1];return Object(r.a)(u)?(e=s.pop(),s.length>1&&"number"==typeof s[s.length-1]&&(t=s.pop())):"number"==typeof u&&(t=s.pop()),null===e&&1===s.length&&s[0]instanceof i.a?s[0]:Object(a.a)(t)(Object(o.a)(s,e))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i,r=n("1OyB"),a=n("vuIU"),o=n("EY2u"),s=n("LRne"),c=n("z6cu");!function(t){t.NEXT="N",t.ERROR="E",t.COMPLETE="C"}(i||(i={}));var u=function(){function t(e,n,i){Object(r.a)(this,t),this.kind=e,this.value=n,this.error=i,this.hasValue="N"===e}return Object(a.a)(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return Object(c.a)(this.error);case"C":return Object(o.b)()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}();u.completeNotification=new u("C"),u.undefinedValueNotification=new u("N",void 0)},WOAq:function(t,e,n){"use strict";(function(t){var i=n("Ju5/"),r=n("L3Qv"),a="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=a&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===a?i.a.Buffer:void 0,c=(s?s.isBuffer:void 0)||r.a;e.a=c}).call(this,n("3UD+")(t))},Womt:function(t,e,n){"use strict";n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return Mc})),n.d(e,"c",(function(){return Is})),n.d(e,"d",(function(){return Ou})),n.d(e,"e",(function(){return iu})),n.d(e,"f",(function(){return nu})),n.d(e,"g",(function(){return Wc})),n.d(e,"h",(function(){return f})),n.d(e,"i",(function(){return Ga})),n.d(e,"j",(function(){return Du})),n.d(e,"k",(function(){return Pt})),n.d(e,"l",(function(){return Xn})),n.d(e,"m",(function(){return Ao})),n.d(e,"n",(function(){return nn})),n.d(e,"o",(function(){return Sn})),n.d(e,"p",(function(){return Zn})),n.d(e,"q",(function(){return _o})),n.d(e,"r",(function(){return O})),n.d(e,"s",(function(){return Kc})),n.d(e,"t",(function(){return Qe})),n.d(e,"u",(function(){return ti})),n.d(e,"v",(function(){return Qs})),n.d(e,"w",(function(){return ii})),n.d(e,"x",(function(){return V})),n.d(e,"y",(function(){return wo})),n.d(e,"z",(function(){return Ac})),n.d(e,"A",(function(){return p})),n.d(e,"B",(function(){return _})),n.d(e,"C",(function(){return le})),n.d(e,"D",(function(){return dt})),n.d(e,"E",(function(){return Hs})),n.d(e,"F",(function(){return dn})),n.d(e,"G",(function(){return L})),n.d(e,"H",(function(){return pa})),n.d(e,"I",(function(){return d})),n.d(e,"J",(function(){return ca})),n.d(e,"K",(function(){return Fc})),n.d(e,"L",(function(){return Ja})),n.d(e,"M",(function(){return ma})),n.d(e,"N",(function(){return ba})),n.d(e,"O",(function(){return ks})),n.d(e,"P",(function(){return X})),n.d(e,"Q",(function(){return q})),n.d(e,"R",(function(){return ao})),n.d(e,"S",(function(){return $a})),n.d(e,"T",(function(){return uo})),n.d(e,"U",(function(){return co})),n.d(e,"V",(function(){return nt})),n.d(e,"W",(function(){return T})),n.d(e,"X",(function(){return D})),n.d(e,"Y",(function(){return P})),n.d(e,"Z",(function(){return E})),n.d(e,"ab",(function(){return zs})),n.d(e,"bb",(function(){return jc})),n.d(e,"cb",(function(){return Fs})),n.d(e,"db",(function(){return U})),n.d(e,"eb",(function(){return Je})),n.d(e,"fb",(function(){return gt})),n.d(e,"gb",(function(){return bt})),n.d(e,"hb",(function(){return ne})),n.d(e,"ib",(function(){return Vn})),n.d(e,"jb",(function(){return $e})),n.d(e,"kb",(function(){return ea})),n.d(e,"lb",(function(){return ys})),n.d(e,"mb",(function(){return gs})),n.d(e,"nb",(function(){return vs})),n.d(e,"ob",(function(){return ps})),n.d(e,"pb",(function(){return fs})),n.d(e,"qb",(function(){return S})),n.d(e,"rb",(function(){return g})),n.d(e,"sb",(function(){return C})),n.d(e,"tb",(function(){return M})),n.d(e,"ub",(function(){return A})),n.d(e,"vb",(function(){return Es})),n.d(e,"wb",(function(){return Ae})),n.d(e,"xb",(function(){return Sc})),n.d(e,"yb",(function(){return Jn})),n.d(e,"zb",(function(){return ss})),n.d(e,"Ab",(function(){return Oc})),n.d(e,"Bb",(function(){return mo})),n.d(e,"Cb",(function(){return lo})),n.d(e,"Db",(function(){return cu})),n.d(e,"Eb",(function(){return xu})),n.d(e,"Fb",(function(){return At})),n.d(e,"Gb",(function(){return Ds})),n.d(e,"Hb",(function(){return ot})),n.d(e,"Ib",(function(){return z})),n.d(e,"Jb",(function(){return B})),n.d(e,"Kb",(function(){return W})),n.d(e,"Lb",(function(){return ds})),n.d(e,"Mb",(function(){return Mu})),n.d(e,"Nb",(function(){return G})),n.d(e,"Ob",(function(){return k})),n.d(e,"Pb",(function(){return va})),n.d(e,"Qb",(function(){return Kn})),n.d(e,"Rb",(function(){return gc})),n.d(e,"Sb",(function(){return cs})),n.d(e,"Tb",(function(){return qa})),n.d(e,"Ub",(function(){return Va})),n.d(e,"Vb",(function(){return qt})),n.d(e,"Wb",(function(){return ls})),n.d(e,"Xb",(function(){return xc})),n.d(e,"Yb",(function(){return st})),n.d(e,"Zb",(function(){return xt})),n.d(e,"ac",(function(){return Ys})),n.d(e,"bc",(function(){return et})),n.d(e,"cc",(function(){return tt})),n.d(e,"dc",(function(){return cn})),n.d(e,"ec",(function(){return Su})),n.d(e,"fc",(function(){return Qn})),n.d(e,"gc",(function(){return j})),n.d(e,"hc",(function(){return F})),n.d(e,"ic",(function(){return I})),n.d(e,"jc",(function(){return yt})),n.d(e,"kc",(function(){return Mt})),n.d(e,"lc",(function(){return Ot})),n.d(e,"mc",(function(){return Rs})),n.d(e,"nc",(function(){return Ct})),n.d(e,"oc",(function(){return St})),n.d(e,"pc",(function(){return da})),n.d(e,"qc",(function(){return it}));n("md7G");var i,r=n("ReuC"),a=n("foSv"),o=n("rePB"),s=n("JX7q"),c=n("Ji7U"),u=n("LK+K"),l=n("1OyB"),h=n("vuIU"),d=0,f=1,p=2,v=2,m=100,g=1,y=301,b=302,_=303,w=306,x=307,k=1e3,O=1001,S=1002,C=1003,A=1004,M=1005,T=1006,E=1007,P=1008,D=1008,j=1009,R=1012,I=1014,L=1015,N=1016,F=1020,B=1022,z=1023,U=1024,H=1026,V=1027,G=1028,W=1030,X=2300,q=2301,Y=2302,Q=2400,K=2401,Z=2402,J=2500,$=2501,tt=1,et=2,nt=3e3,it=3001,rt=3007,at=3002,ot=3201,st=0,ct=7680,ut=35044,lt=35048,ht="300 es";function dt(){}Object.assign(dt.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var n=this._listeners[t];if(void 0!==n){var i=n.indexOf(e);-1!==i&&n.splice(i,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var n=e.slice(0),i=0,r=n.length;i<r;i++)n[i].call(this,t)}}}});for(var ft=[],pt=0;pt<256;pt++)ft[pt]=(pt<16?"0":"")+pt.toString(16);var vt,mt=1234567,gt={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(ft[255&t]+ft[t>>8&255]+ft[t>>16&255]+ft[t>>24&255]+"-"+ft[255&e]+ft[e>>8&255]+"-"+ft[e>>16&15|64]+ft[e>>24&255]+"-"+ft[63&n|128]+ft[n>>8&255]+"-"+ft[n>>16&255]+ft[n>>24&255]+ft[255&i]+ft[i>>8&255]+ft[i>>16&255]+ft[i>>24&255]).toUpperCase()},clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){return void 0!==t&&(mt=t%2147483647),((mt=16807*mt%2147483647)-1)/2147483646},degToRad:function(t){return t*gt.DEG2RAD},radToDeg:function(t){return t*gt.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,e,n,i,r){var a=Math.cos,o=Math.sin,s=a(n/2),c=o(n/2),u=a((e+i)/2),l=o((e+i)/2),h=a((e-i)/2),d=o((e-i)/2),f=a((i-e)/2),p=o((i-e)/2);switch(r){case"XYX":t.set(s*l,c*h,c*d,s*u);break;case"YZY":t.set(c*d,s*l,c*h,s*u);break;case"ZXZ":t.set(c*h,c*d,s*l,s*u);break;case"XZX":t.set(s*l,c*p,c*f,s*u);break;case"YXY":t.set(c*f,s*l,c*p,s*u);break;case"ZYZ":t.set(c*p,c*f,s*l,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}},yt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(l.a)(this,t),Object.defineProperty(this,"isVector2",{value:!0}),this.x=e,this.y=n}return Object(h.a)(t,[{key:"set",value:function(t,e){return this.x=t,this.y=e,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setComponent",value:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this}},{key:"add",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}},{key:"addScaledVector",value:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}},{key:"sub",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}},{key:"multiply",value:function(t){return this.x*=t.x,this.y*=t.y,this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this}},{key:"divide",value:function(t){return this.x/=t.x,this.y/=t.y,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"applyMatrix3",value:function(t){var e=this.x,n=this.y,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6],this.y=i[1]*e+i[4]*n+i[7],this}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}},{key:"clampScalar",value:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}},{key:"clampLength",value:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"cross",value:function(t){return this.x*t.y-this.y*t.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var t=Math.atan2(-this.y,-this.x)+Math.PI;return t}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:"distanceToSquared",value:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n}},{key:"manhattanDistanceTo",value:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}},{key:"lerpVectors",value:function(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t}},{key:"fromBufferAttribute",value:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this}},{key:"rotateAround",value:function(t,e){var n=Math.cos(e),i=Math.sin(e),r=this.x-t.x,a=this.y-t.y;return this.x=r*n-a*i+t.x,this.y=r*i+a*n+t.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:"width",get:function(){return this.x},set:function(t){this.x=t}},{key:"height",get:function(){return this.y},set:function(t){this.y=t}}]),t}(),bt=function(){function t(){Object(l.a)(this,t),Object.defineProperty(this,"isMatrix3",{value:!0}),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}return Object(h.a)(t,[{key:"set",value:function(t,e,n,i,r,a,o,s,c){var u=this.elements;return u[0]=t,u[1]=i,u[2]=o,u[3]=e,u[4]=r,u[5]=s,u[6]=n,u[7]=a,u[8]=c,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}},{key:"copy",value:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}},{key:"extractBasis",value:function(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}},{key:"multiply",value:function(t){return this.multiplyMatrices(this,t)}},{key:"premultiply",value:function(t){return this.multiplyMatrices(t,this)}},{key:"multiplyMatrices",value:function(t,e){var n=t.elements,i=e.elements,r=this.elements,a=n[0],o=n[3],s=n[6],c=n[1],u=n[4],l=n[7],h=n[2],d=n[5],f=n[8],p=i[0],v=i[3],m=i[6],g=i[1],y=i[4],b=i[7],_=i[2],w=i[5],x=i[8];return r[0]=a*p+o*g+s*_,r[3]=a*v+o*y+s*w,r[6]=a*m+o*b+s*x,r[1]=c*p+u*g+l*_,r[4]=c*v+u*y+l*w,r[7]=c*m+u*b+l*x,r[2]=h*p+d*g+f*_,r[5]=h*v+d*y+f*w,r[8]=h*m+d*b+f*x,this}},{key:"multiplyScalar",value:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}},{key:"determinant",value:function(){var t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],a=t[4],o=t[5],s=t[6],c=t[7],u=t[8];return e*a*u-e*o*c-n*r*u+n*o*s+i*r*c-i*a*s}},{key:"invert",value:function(){var t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],a=t[4],o=t[5],s=t[6],c=t[7],u=t[8],l=u*a-o*c,h=o*s-u*r,d=c*r-a*s,f=e*l+n*h+i*d;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);var p=1/f;return t[0]=l*p,t[1]=(i*c-u*n)*p,t[2]=(o*n-i*a)*p,t[3]=h*p,t[4]=(u*e-i*s)*p,t[5]=(i*r-o*e)*p,t[6]=d*p,t[7]=(n*s-c*e)*p,t[8]=(a*e-n*r)*p,this}},{key:"transpose",value:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}},{key:"getNormalMatrix",value:function(t){return this.setFromMatrix4(t).copy(this).invert().transpose()}},{key:"transposeIntoArray",value:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}},{key:"setUvTransform",value:function(t,e,n,i,r,a,o){var s=Math.cos(r),c=Math.sin(r);this.set(n*s,n*c,-n*(s*a+c*o)+a+t,-i*c,i*s,-i*(-c*a+s*o)+o+e,0,0,1)}},{key:"scale",value:function(t,e){var n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=e,n[4]*=e,n[7]*=e,this}},{key:"rotate",value:function(t){var e=Math.cos(t),n=Math.sin(t),i=this.elements,r=i[0],a=i[3],o=i[6],s=i[1],c=i[4],u=i[7];return i[0]=e*r+n*s,i[3]=e*a+n*c,i[6]=e*o+n*u,i[1]=-n*r+e*s,i[4]=-n*a+e*c,i[7]=-n*o+e*u,this}},{key:"translate",value:function(t,e){var n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=e*n[2],n[4]+=e*n[5],n[7]+=e*n[8],this}},{key:"equals",value:function(t){for(var e=this.elements,n=t.elements,i=0;i<9;i++)if(e[i]!==n[i])return!1;return!0}},{key:"fromArray",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=t[n+e];return this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}}]),t}(),_t={getDataURL:function(t){if(/^data:/i.test(t.src))return t.src;if("undefined"==typeof HTMLCanvasElement)return t.src;var e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===vt&&(vt=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),vt.width=t.width,vt.height=t.height;var n=vt.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),e=vt}return e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}},wt=0;function xt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt.DEFAULT_IMAGE,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xt.DEFAULT_MAPPING,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:O,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:O,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:T,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:P,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:z,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:j,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:nt;Object.defineProperty(this,"id",{value:wt++}),this.uuid=gt.generateUUID(),this.name="",this.image=t,this.mipmaps=[],this.mapping=e,this.wrapS=n,this.wrapT=i,this.magFilter=r,this.minFilter=a,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=s,this.offset=new yt(0,0),this.repeat=new yt(1,1),this.center=new yt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new bt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.version=0,this.onUpdate=null}function kt(t){return"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap?_t.getDataURL(t):t.data?{data:Array.prototype.slice.call(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}xt.DEFAULT_IMAGE=void 0,xt.DEFAULT_MAPPING=300,xt.prototype=Object.assign(Object.create(dt.prototype),{constructor:xt,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){var e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var i=this.image;if(void 0===i.uuid&&(i.uuid=gt.generateUUID()),!e&&void 0===t.images[i.uuid]){var r;if(Array.isArray(i)){r=[];for(var a=0,o=i.length;a<o;a++)i[a].isDataTexture?r.push(kt(i[a].image)):r.push(kt(i[a]))}else r=kt(i);t.images[i.uuid]={uuid:i.uuid,url:r}}n.image=i.uuid}return e||(t.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case k:t.x=t.x-Math.floor(t.x);break;case O:t.x=t.x<0?0:1;break;case S:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case k:t.y=t.y-Math.floor(t.y);break;case O:t.y=t.y<0?0:1;break;case S:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}}),Object.defineProperty(xt.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}});var Ot=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Object(l.a)(this,t),Object.defineProperty(this,"isVector4",{value:!0}),this.x=e,this.y=n,this.z=i,this.w=r}return Object(h.a)(t,[{key:"set",value:function(t,e,n,i){return this.x=t,this.y=e,this.z=n,this.w=i,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setZ",value:function(t){return this.z=t,this}},{key:"setW",value:function(t){return this.w=t,this}},{key:"setComponent",value:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}},{key:"add",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}},{key:"addScaledVector",value:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}},{key:"sub",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}},{key:"applyMatrix4",value:function(t){var e=this.x,n=this.y,i=this.z,r=this.w,a=t.elements;return this.x=a[0]*e+a[4]*n+a[8]*i+a[12]*r,this.y=a[1]*e+a[5]*n+a[9]*i+a[13]*r,this.z=a[2]*e+a[6]*n+a[10]*i+a[14]*r,this.w=a[3]*e+a[7]*n+a[11]*i+a[15]*r,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"setAxisAngleFromQuaternion",value:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}},{key:"setAxisAngleFromRotationMatrix",value:function(t){var e,n,i,r,a=.01,o=.1,s=t.elements,c=s[0],u=s[4],l=s[8],h=s[1],d=s[5],f=s[9],p=s[2],v=s[6],m=s[10];if(Math.abs(u-h)<a&&Math.abs(l-p)<a&&Math.abs(f-v)<a){if(Math.abs(u+h)<o&&Math.abs(l+p)<o&&Math.abs(f+v)<o&&Math.abs(c+d+m-3)<o)return this.set(1,0,0,0),this;e=Math.PI;var g=(c+1)/2,y=(d+1)/2,b=(m+1)/2,_=(u+h)/4,w=(l+p)/4,x=(f+v)/4;return g>y&&g>b?g<a?(n=0,i=.707106781,r=.707106781):(i=_/(n=Math.sqrt(g)),r=w/n):y>b?y<a?(n=.707106781,i=0,r=.707106781):(n=_/(i=Math.sqrt(y)),r=x/i):b<a?(n=.707106781,i=.707106781,r=0):(n=w/(r=Math.sqrt(b)),i=x/r),this.set(n,i,r,e),this}var k=Math.sqrt((v-f)*(v-f)+(l-p)*(l-p)+(h-u)*(h-u));return Math.abs(k)<.001&&(k=1),this.x=(v-f)/k,this.y=(l-p)/k,this.z=(h-u)/k,this.w=Math.acos((c+d+m-1)/2),this}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}},{key:"clampScalar",value:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}},{key:"clampLength",value:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}},{key:"lerpVectors",value:function(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}},{key:"fromBufferAttribute",value:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:"width",get:function(){return this.z},set:function(t){this.z=t}},{key:"height",get:function(){return this.w},set:function(t){this.w=t}}]),t}();function St(t,e,n){this.width=t,this.height=e,this.scissor=new Ot(0,0,t,e),this.scissorTest=!1,this.viewport=new Ot(0,0,t,e),n=n||{},this.texture=new xt(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=t,this.texture.image.height=e,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:T,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function Ct(t,e,n){St.call(this,t,e,n),this.samples=4}St.prototype=Object.assign(Object.create(dt.prototype),{constructor:St,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.texture.image.width=t,this.texture.image.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Ct.prototype=Object.assign(Object.create(St.prototype),{constructor:Ct,isWebGLMultisampleRenderTarget:!0,copy:function(t){return St.prototype.copy.call(this,t),this.samples=t.samples,this}});var At=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Object(l.a)(this,t),Object.defineProperty(this,"isQuaternion",{value:!0}),this._x=e,this._y=n,this._z=i,this._w=r}return Object(h.a)(t,[{key:"set",value:function(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._w=i,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=t._x,i=t._y,r=t._z,a=t._order,o=Math.cos,s=Math.sin,c=o(n/2),u=o(i/2),l=o(r/2),h=s(n/2),d=s(i/2),f=s(r/2);switch(a){case"XYZ":this._x=h*u*l+c*d*f,this._y=c*d*l-h*u*f,this._z=c*u*f+h*d*l,this._w=c*u*l-h*d*f;break;case"YXZ":this._x=h*u*l+c*d*f,this._y=c*d*l-h*u*f,this._z=c*u*f-h*d*l,this._w=c*u*l+h*d*f;break;case"ZXY":this._x=h*u*l-c*d*f,this._y=c*d*l+h*u*f,this._z=c*u*f+h*d*l,this._w=c*u*l-h*d*f;break;case"ZYX":this._x=h*u*l-c*d*f,this._y=c*d*l+h*u*f,this._z=c*u*f-h*d*l,this._w=c*u*l+h*d*f;break;case"YZX":this._x=h*u*l+c*d*f,this._y=c*d*l+h*u*f,this._z=c*u*f-h*d*l,this._w=c*u*l-h*d*f;break;case"XZY":this._x=h*u*l-c*d*f,this._y=c*d*l-h*u*f,this._z=c*u*f+h*d*l,this._w=c*u*l+h*d*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==e&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(t,e){var n=e/2,i=Math.sin(n);return this._x=t.x*i,this._y=t.y*i,this._z=t.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(t){var e=t.elements,n=e[0],i=e[4],r=e[8],a=e[1],o=e[5],s=e[9],c=e[2],u=e[6],l=e[10],h=n+o+l;if(h>0){var d=.5/Math.sqrt(h+1);this._w=.25/d,this._x=(u-s)*d,this._y=(r-c)*d,this._z=(a-i)*d}else if(n>o&&n>l){var f=2*Math.sqrt(1+n-o-l);this._w=(u-s)/f,this._x=.25*f,this._y=(i+a)/f,this._z=(r+c)/f}else if(o>l){var p=2*Math.sqrt(1+o-n-l);this._w=(r-c)/p,this._x=(i+a)/p,this._y=.25*p,this._z=(s+u)/p}else{var v=2*Math.sqrt(1+l-n-o);this._w=(a-i)/v,this._x=(r+c)/v,this._y=(s+u)/v,this._z=.25*v}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(t,e){var n=t.dot(e)+1;return n<1e-6?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(t){return 2*Math.acos(Math.abs(gt.clamp(this.dot(t),-1,1)))}},{key:"rotateTowards",value:function(t,e){var n=this.angleTo(t);if(0===n)return this;var i=Math.min(1,e/n);return this.slerp(t,i),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}},{key:"multiply",value:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)}},{key:"premultiply",value:function(t){return this.multiplyQuaternions(t,this)}},{key:"multiplyQuaternions",value:function(t,e){var n=t._x,i=t._y,r=t._z,a=t._w,o=e._x,s=e._y,c=e._z,u=e._w;return this._x=n*u+a*o+i*c-r*s,this._y=i*u+a*s+r*o-n*c,this._z=r*u+a*c+n*s-i*o,this._w=a*u-n*o-i*s-r*c,this._onChangeCallback(),this}},{key:"slerp",value:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,i=this._y,r=this._z,a=this._w,o=a*t._w+n*t._x+i*t._y+r*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=a,this._x=n,this._y=i,this._z=r,this;var s=1-o*o;if(s<=Number.EPSILON){var c=1-e;return this._w=c*a+e*this._w,this._x=c*n+e*this._x,this._y=c*i+e*this._y,this._z=c*r+e*this._z,this.normalize(),this._onChangeCallback(),this}var u=Math.sqrt(s),l=Math.atan2(u,o),h=Math.sin((1-e)*l)/u,d=Math.sin(e*l)/u;return this._w=a*h+this._w*d,this._x=n*h+this._x*d,this._y=i*h+this._y*d,this._z=r*h+this._z*d,this._onChangeCallback(),this}},{key:"equals",value:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}},{key:"fromBufferAttribute",value:function(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}},{key:"_onChange",value:function(t){return this._onChangeCallback=t,this}},{key:"_onChangeCallback",value:function(){}},{key:"x",get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(t){this._w=t,this._onChangeCallback()}}],[{key:"slerp",value:function(t,e,n,i){return n.copy(t).slerp(e,i)}},{key:"slerpFlat",value:function(t,e,n,i,r,a,o){var s=n[i+0],c=n[i+1],u=n[i+2],l=n[i+3],h=r[a+0],d=r[a+1],f=r[a+2],p=r[a+3];if(l!==p||s!==h||c!==d||u!==f){var v=1-o,m=s*h+c*d+u*f+l*p,g=m>=0?1:-1,y=1-m*m;if(y>Number.EPSILON){var b=Math.sqrt(y),_=Math.atan2(b,m*g);v=Math.sin(v*_)/b,o=Math.sin(o*_)/b}var w=o*g;if(s=s*v+h*w,c=c*v+d*w,u=u*v+f*w,l=l*v+p*w,v===1-o){var x=1/Math.sqrt(s*s+c*c+u*u+l*l);s*=x,c*=x,u*=x,l*=x}}t[e]=s,t[e+1]=c,t[e+2]=u,t[e+3]=l}},{key:"multiplyQuaternionsFlat",value:function(t,e,n,i,r,a){var o=n[i],s=n[i+1],c=n[i+2],u=n[i+3],l=r[a],h=r[a+1],d=r[a+2],f=r[a+3];return t[e]=o*f+u*l+s*d-c*h,t[e+1]=s*f+u*h+c*l-o*d,t[e+2]=c*f+u*d+o*h-s*l,t[e+3]=u*f-o*l-s*h-c*d,t}}]),t}(),Mt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(l.a)(this,t),Object.defineProperty(this,"isVector3",{value:!0}),this.x=e,this.y=n,this.z=i}return Object(h.a)(t,[{key:"set",value:function(t,e,n){return void 0===n&&(n=this.z),this.x=t,this.y=e,this.z=n,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this.z=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setZ",value:function(t){return this.z=t,this}},{key:"setComponent",value:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}},{key:"add",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this.z+=t,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}},{key:"addScaledVector",value:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}},{key:"sub",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this.z-=t,this}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}},{key:"multiply",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this}},{key:"multiplyVectors",value:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}},{key:"applyEuler",value:function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Et.setFromEuler(t))}},{key:"applyAxisAngle",value:function(t,e){return this.applyQuaternion(Et.setFromAxisAngle(t,e))}},{key:"applyMatrix3",value:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6]*i,this.y=r[1]*e+r[4]*n+r[7]*i,this.z=r[2]*e+r[5]*n+r[8]*i,this}},{key:"applyNormalMatrix",value:function(t){return this.applyMatrix3(t).normalize()}},{key:"applyMatrix4",value:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements,a=1/(r[3]*e+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*e+r[4]*n+r[8]*i+r[12])*a,this.y=(r[1]*e+r[5]*n+r[9]*i+r[13])*a,this.z=(r[2]*e+r[6]*n+r[10]*i+r[14])*a,this}},{key:"applyQuaternion",value:function(t){var e=this.x,n=this.y,i=this.z,r=t.x,a=t.y,o=t.z,s=t.w,c=s*e+a*i-o*n,u=s*n+o*e-r*i,l=s*i+r*n-a*e,h=-r*e-a*n-o*i;return this.x=c*s+h*-r+u*-o-l*-a,this.y=u*s+h*-a+l*-r-c*-o,this.z=l*s+h*-o+c*-a-u*-r,this}},{key:"project",value:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}},{key:"unproject",value:function(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}},{key:"transformDirection",value:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[4]*n+r[8]*i,this.y=r[1]*e+r[5]*n+r[9]*i,this.z=r[2]*e+r[6]*n+r[10]*i,this.normalize()}},{key:"divide",value:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}},{key:"clampScalar",value:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}},{key:"clampLength",value:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}},{key:"lerpVectors",value:function(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}},{key:"cross",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)}},{key:"crossVectors",value:function(t,e){var n=t.x,i=t.y,r=t.z,a=e.x,o=e.y,s=e.z;return this.x=i*s-r*o,this.y=r*a-n*s,this.z=n*o-i*a,this}},{key:"projectOnVector",value:function(t){var e=t.lengthSq();if(0===e)return this.set(0,0,0);var n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}},{key:"projectOnPlane",value:function(t){return Tt.copy(this).projectOnVector(t),this.sub(Tt)}},{key:"reflect",value:function(t){return this.sub(Tt.copy(t).multiplyScalar(2*this.dot(t)))}},{key:"angleTo",value:function(t){var e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;var n=this.dot(t)/e;return Math.acos(gt.clamp(n,-1,1))}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:"distanceToSquared",value:function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return e*e+n*n+i*i}},{key:"manhattanDistanceTo",value:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}},{key:"setFromSpherical",value:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}},{key:"setFromSphericalCoords",value:function(t,e,n){var i=Math.sin(e)*t;return this.x=i*Math.sin(n),this.y=Math.cos(e)*t,this.z=i*Math.cos(n),this}},{key:"setFromCylindrical",value:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}},{key:"setFromCylindricalCoords",value:function(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}},{key:"setFromMatrixPosition",value:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}},{key:"setFromMatrixScale",value:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),i=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=i,this}},{key:"setFromMatrixColumn",value:function(t,e){return this.fromArray(t.elements,4*e)}},{key:"setFromMatrix3Column",value:function(t,e){return this.fromArray(t.elements,3*e)}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}},{key:"fromBufferAttribute",value:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}]),t}(),Tt=new Mt,Et=new At,Pt=function(){function t(e,n){Object(l.a)(this,t),Object.defineProperty(this,"isBox3",{value:!0}),this.min=void 0!==e?e:new Mt(1/0,1/0,1/0),this.max=void 0!==n?n:new Mt(-1/0,-1/0,-1/0)}return Object(h.a)(t,[{key:"set",value:function(t,e){return this.min.copy(t),this.max.copy(e),this}},{key:"setFromArray",value:function(t){for(var e=1/0,n=1/0,i=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,c=t.length;s<c;s+=3){var u=t[s],l=t[s+1],h=t[s+2];u<e&&(e=u),l<n&&(n=l),h<i&&(i=h),u>r&&(r=u),l>a&&(a=l),h>o&&(o=h)}return this.min.set(e,n,i),this.max.set(r,a,o),this}},{key:"setFromBufferAttribute",value:function(t){for(var e=1/0,n=1/0,i=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,c=t.count;s<c;s++){var u=t.getX(s),l=t.getY(s),h=t.getZ(s);u<e&&(e=u),l<n&&(n=l),h<i&&(i=h),u>r&&(r=u),l>a&&(a=l),h>o&&(o=h)}return this.min.set(e,n,i),this.max.set(r,a,o),this}},{key:"setFromPoints",value:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}},{key:"setFromCenterAndSize",value:function(t,e){var n=Rt.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}},{key:"setFromObject",value:function(t){return this.makeEmpty(),this.expandByObject(t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.min.copy(t.min),this.max.copy(t.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(t){return void 0===t&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new Mt),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(t){return void 0===t&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new Mt),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(t){return this.min.min(t),this.max.max(t),this}},{key:"expandByVector",value:function(t){return this.min.sub(t),this.max.add(t),this}},{key:"expandByScalar",value:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this}},{key:"expandByObject",value:function(t){t.updateWorldMatrix(!1,!1);var e=t.geometry;void 0!==e&&(null===e.boundingBox&&e.computeBoundingBox(),It.copy(e.boundingBox),It.applyMatrix4(t.matrixWorld),this.union(It));for(var n=t.children,i=0,r=n.length;i<r;i++)this.expandByObject(n[i]);return this}},{key:"containsPoint",value:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}},{key:"containsBox",value:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}},{key:"getParameter",value:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .getParameter() target is now required"),e=new Mt),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}},{key:"intersectsSphere",value:function(t){return this.clampPoint(t.center,Rt),Rt.distanceToSquared(t.center)<=t.radius*t.radius}},{key:"intersectsPlane",value:function(t){var e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}},{key:"intersectsTriangle",value:function(t){if(this.isEmpty())return!1;this.getCenter(Ht),Vt.subVectors(this.max,Ht),Lt.subVectors(t.a,Ht),Nt.subVectors(t.b,Ht),Ft.subVectors(t.c,Ht),Bt.subVectors(Nt,Lt),zt.subVectors(Ft,Nt),Ut.subVectors(Lt,Ft);var e=[0,-Bt.z,Bt.y,0,-zt.z,zt.y,0,-Ut.z,Ut.y,Bt.z,0,-Bt.x,zt.z,0,-zt.x,Ut.z,0,-Ut.x,-Bt.y,Bt.x,0,-zt.y,zt.x,0,-Ut.y,Ut.x,0];return!!Dt(e,Lt,Nt,Ft,Vt)&&(!!Dt(e=[1,0,0,0,1,0,0,0,1],Lt,Nt,Ft,Vt)&&(Gt.crossVectors(Bt,zt),Dt(e=[Gt.x,Gt.y,Gt.z],Lt,Nt,Ft,Vt)))}},{key:"clampPoint",value:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .clampPoint() target is now required"),e=new Mt),e.copy(t).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(t){return Rt.copy(t).clamp(this.min,this.max).sub(t).length()}},{key:"getBoundingSphere",value:function(t){return void 0===t&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(t.center),t.radius=.5*this.getSize(Rt).length(),t}},{key:"intersect",value:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(t){return this.min.min(t.min),this.max.max(t.max),this}},{key:"applyMatrix4",value:function(t){return this.isEmpty()||(jt[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),jt[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),jt[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),jt[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),jt[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),jt[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),jt[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),jt[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(jt)),this}},{key:"translate",value:function(t){return this.min.add(t),this.max.add(t),this}},{key:"equals",value:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}]),t}();function Dt(t,e,n,i,r){for(var a=0,o=t.length-3;a<=o;a+=3){Wt.fromArray(t,a);var s=r.x*Math.abs(Wt.x)+r.y*Math.abs(Wt.y)+r.z*Math.abs(Wt.z),c=e.dot(Wt),u=n.dot(Wt),l=i.dot(Wt);if(Math.max(-Math.max(c,u,l),Math.min(c,u,l))>s)return!1}return!0}var jt=[new Mt,new Mt,new Mt,new Mt,new Mt,new Mt,new Mt,new Mt],Rt=new Mt,It=new Pt,Lt=new Mt,Nt=new Mt,Ft=new Mt,Bt=new Mt,zt=new Mt,Ut=new Mt,Ht=new Mt,Vt=new Mt,Gt=new Mt,Wt=new Mt,Xt=new Pt,qt=function(){function t(e,n){Object(l.a)(this,t),this.center=void 0!==e?e:new Mt,this.radius=void 0!==n?n:-1}return Object(h.a)(t,[{key:"set",value:function(t,e){return this.center.copy(t),this.radius=e,this}},{key:"setFromPoints",value:function(t,e){var n=this.center;void 0!==e?n.copy(e):Xt.setFromPoints(t).getCenter(n);for(var i=0,r=0,a=t.length;r<a;r++)i=Math.max(i,n.distanceToSquared(t[r]));return this.radius=Math.sqrt(i),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.center.copy(t.center),this.radius=t.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(t){return t.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}},{key:"intersectsBox",value:function(t){return t.intersectsSphere(this)}},{key:"intersectsPlane",value:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(t,e){var n=this.center.distanceToSquared(t);return void 0===e&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),e=new Mt),e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}},{key:"getBoundingBox",value:function(t){return void 0===t&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),t=new Pt),this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}},{key:"applyMatrix4",value:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}},{key:"translate",value:function(t){return this.center.add(t),this}},{key:"equals",value:function(t){return t.center.equals(this.center)&&t.radius===this.radius}}]),t}(),Yt=new Mt,Qt=new Mt,Kt=new Mt,Zt=new Mt,Jt=new Mt,$t=new Mt,te=new Mt,ee=function(){function t(e,n){Object(l.a)(this,t),this.origin=void 0!==e?e:new Mt,this.direction=void 0!==n?n:new Mt(0,0,-1)}return Object(h.a)(t,[{key:"set",value:function(t,e){return this.origin.copy(t),this.direction.copy(e),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}},{key:"at",value:function(t,e){return void 0===e&&(console.warn("THREE.Ray: .at() target is now required"),e=new Mt),e.copy(this.direction).multiplyScalar(t).add(this.origin)}},{key:"lookAt",value:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this}},{key:"recast",value:function(t){return this.origin.copy(this.at(t,Yt)),this}},{key:"closestPointToPoint",value:function(t,e){void 0===e&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),e=new Mt),e.subVectors(t,this.origin);var n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(n).add(this.origin)}},{key:"distanceToPoint",value:function(t){return Math.sqrt(this.distanceSqToPoint(t))}},{key:"distanceSqToPoint",value:function(t){var e=Yt.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(Yt.copy(this.direction).multiplyScalar(e).add(this.origin),Yt.distanceToSquared(t))}},{key:"distanceSqToSegment",value:function(t,e,n,i){Qt.copy(t).add(e).multiplyScalar(.5),Kt.copy(e).sub(t).normalize(),Zt.copy(this.origin).sub(Qt);var r,a,o,s,c=.5*t.distanceTo(e),u=-this.direction.dot(Kt),l=Zt.dot(this.direction),h=-Zt.dot(Kt),d=Zt.lengthSq(),f=Math.abs(1-u*u);if(f>0)if(a=u*l-h,s=c*f,(r=u*h-l)>=0)if(a>=-s)if(a<=s){var p=1/f;o=(r*=p)*(r+u*(a*=p)+2*l)+a*(u*r+a+2*h)+d}else a=c,o=-(r=Math.max(0,-(u*a+l)))*r+a*(a+2*h)+d;else a=-c,o=-(r=Math.max(0,-(u*a+l)))*r+a*(a+2*h)+d;else a<=-s?o=-(r=Math.max(0,-(-u*c+l)))*r+(a=r>0?-c:Math.min(Math.max(-c,-h),c))*(a+2*h)+d:a<=s?(r=0,o=(a=Math.min(Math.max(-c,-h),c))*(a+2*h)+d):o=-(r=Math.max(0,-(u*c+l)))*r+(a=r>0?c:Math.min(Math.max(-c,-h),c))*(a+2*h)+d;else a=u>0?-c:c,o=-(r=Math.max(0,-(u*a+l)))*r+a*(a+2*h)+d;return n&&n.copy(this.direction).multiplyScalar(r).add(this.origin),i&&i.copy(Kt).multiplyScalar(a).add(Qt),o}},{key:"intersectSphere",value:function(t,e){Yt.subVectors(t.center,this.origin);var n=Yt.dot(this.direction),i=Yt.dot(Yt)-n*n,r=t.radius*t.radius;if(i>r)return null;var a=Math.sqrt(r-i),o=n-a,s=n+a;return o<0&&s<0?null:o<0?this.at(s,e):this.at(o,e)}},{key:"intersectsSphere",value:function(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}},{key:"distanceToPlane",value:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}},{key:"intersectPlane",value:function(t,e){var n=this.distanceToPlane(t);return null===n?null:this.at(n,e)}},{key:"intersectsPlane",value:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0}},{key:"intersectBox",value:function(t,e){var n,i,r,a,o,s,c=1/this.direction.x,u=1/this.direction.y,l=1/this.direction.z,h=this.origin;return c>=0?(n=(t.min.x-h.x)*c,i=(t.max.x-h.x)*c):(n=(t.max.x-h.x)*c,i=(t.min.x-h.x)*c),u>=0?(r=(t.min.y-h.y)*u,a=(t.max.y-h.y)*u):(r=(t.max.y-h.y)*u,a=(t.min.y-h.y)*u),n>a||r>i?null:((r>n||n!=n)&&(n=r),(a<i||i!=i)&&(i=a),l>=0?(o=(t.min.z-h.z)*l,s=(t.max.z-h.z)*l):(o=(t.max.z-h.z)*l,s=(t.min.z-h.z)*l),n>s||o>i?null:((o>n||n!=n)&&(n=o),(s<i||i!=i)&&(i=s),i<0?null:this.at(n>=0?n:i,e)))}},{key:"intersectsBox",value:function(t){return null!==this.intersectBox(t,Yt)}},{key:"intersectTriangle",value:function(t,e,n,i,r){Jt.subVectors(e,t),$t.subVectors(n,t),te.crossVectors(Jt,$t);var a,o=this.direction.dot(te);if(o>0){if(i)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}Zt.subVectors(this.origin,t);var s=a*this.direction.dot($t.crossVectors(Zt,$t));if(s<0)return null;var c=a*this.direction.dot(Jt.cross(Zt));if(c<0)return null;if(s+c>o)return null;var u=-a*Zt.dot(te);return u<0?null:this.at(u/o,r)}},{key:"applyMatrix4",value:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}},{key:"equals",value:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}]),t}(),ne=function(){function t(){Object(l.a)(this,t),Object.defineProperty(this,"isMatrix4",{value:!0}),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}return Object(h.a)(t,[{key:"set",value:function(t,e,n,i,r,a,o,s,c,u,l,h,d,f,p,v){var m=this.elements;return m[0]=t,m[4]=e,m[8]=n,m[12]=i,m[1]=r,m[5]=a,m[9]=o,m[13]=s,m[2]=c,m[6]=u,m[10]=l,m[14]=h,m[3]=d,m[7]=f,m[11]=p,m[15]=v,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new t).fromArray(this.elements)}},{key:"copy",value:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}},{key:"copyPosition",value:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}},{key:"extractBasis",value:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(t){var e=this.elements,n=t.elements,i=1/ie.setFromMatrixColumn(t,0).length(),r=1/ie.setFromMatrixColumn(t,1).length(),a=1/ie.setFromMatrixColumn(t,2).length();return e[0]=n[0]*i,e[1]=n[1]*i,e[2]=n[2]*i,e[3]=0,e[4]=n[4]*r,e[5]=n[5]*r,e[6]=n[6]*r,e[7]=0,e[8]=n[8]*a,e[9]=n[9]*a,e[10]=n[10]*a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}},{key:"makeRotationFromEuler",value:function(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,n=t.x,i=t.y,r=t.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(i),c=Math.sin(i),u=Math.cos(r),l=Math.sin(r);if("XYZ"===t.order){var h=a*u,d=a*l,f=o*u,p=o*l;e[0]=s*u,e[4]=-s*l,e[8]=c,e[1]=d+f*c,e[5]=h-p*c,e[9]=-o*s,e[2]=p-h*c,e[6]=f+d*c,e[10]=a*s}else if("YXZ"===t.order){var v=s*u,m=s*l,g=c*u,y=c*l;e[0]=v+y*o,e[4]=g*o-m,e[8]=a*c,e[1]=a*l,e[5]=a*u,e[9]=-o,e[2]=m*o-g,e[6]=y+v*o,e[10]=a*s}else if("ZXY"===t.order){var b=s*u,_=s*l,w=c*u,x=c*l;e[0]=b-x*o,e[4]=-a*l,e[8]=w+_*o,e[1]=_+w*o,e[5]=a*u,e[9]=x-b*o,e[2]=-a*c,e[6]=o,e[10]=a*s}else if("ZYX"===t.order){var k=a*u,O=a*l,S=o*u,C=o*l;e[0]=s*u,e[4]=S*c-O,e[8]=k*c+C,e[1]=s*l,e[5]=C*c+k,e[9]=O*c-S,e[2]=-c,e[6]=o*s,e[10]=a*s}else if("YZX"===t.order){var A=a*s,M=a*c,T=o*s,E=o*c;e[0]=s*u,e[4]=E-A*l,e[8]=T*l+M,e[1]=l,e[5]=a*u,e[9]=-o*u,e[2]=-c*u,e[6]=M*l+T,e[10]=A-E*l}else if("XZY"===t.order){var P=a*s,D=a*c,j=o*s,R=o*c;e[0]=s*u,e[4]=-l,e[8]=c*u,e[1]=P*l+R,e[5]=a*u,e[9]=D*l-j,e[2]=j*l-D,e[6]=o*u,e[10]=R*l+P}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(t){return this.compose(ae,t,oe)}},{key:"lookAt",value:function(t,e,n){var i=this.elements;return ue.subVectors(t,e),0===ue.lengthSq()&&(ue.z=1),ue.normalize(),se.crossVectors(n,ue),0===se.lengthSq()&&(1===Math.abs(n.z)?ue.x+=1e-4:ue.z+=1e-4,ue.normalize(),se.crossVectors(n,ue)),se.normalize(),ce.crossVectors(ue,se),i[0]=se.x,i[4]=ce.x,i[8]=ue.x,i[1]=se.y,i[5]=ce.y,i[9]=ue.y,i[2]=se.z,i[6]=ce.z,i[10]=ue.z,this}},{key:"multiply",value:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)}},{key:"premultiply",value:function(t){return this.multiplyMatrices(t,this)}},{key:"multiplyMatrices",value:function(t,e){var n=t.elements,i=e.elements,r=this.elements,a=n[0],o=n[4],s=n[8],c=n[12],u=n[1],l=n[5],h=n[9],d=n[13],f=n[2],p=n[6],v=n[10],m=n[14],g=n[3],y=n[7],b=n[11],_=n[15],w=i[0],x=i[4],k=i[8],O=i[12],S=i[1],C=i[5],A=i[9],M=i[13],T=i[2],E=i[6],P=i[10],D=i[14],j=i[3],R=i[7],I=i[11],L=i[15];return r[0]=a*w+o*S+s*T+c*j,r[4]=a*x+o*C+s*E+c*R,r[8]=a*k+o*A+s*P+c*I,r[12]=a*O+o*M+s*D+c*L,r[1]=u*w+l*S+h*T+d*j,r[5]=u*x+l*C+h*E+d*R,r[9]=u*k+l*A+h*P+d*I,r[13]=u*O+l*M+h*D+d*L,r[2]=f*w+p*S+v*T+m*j,r[6]=f*x+p*C+v*E+m*R,r[10]=f*k+p*A+v*P+m*I,r[14]=f*O+p*M+v*D+m*L,r[3]=g*w+y*S+b*T+_*j,r[7]=g*x+y*C+b*E+_*R,r[11]=g*k+y*A+b*P+_*I,r[15]=g*O+y*M+b*D+_*L,this}},{key:"multiplyScalar",value:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}},{key:"determinant",value:function(){var t=this.elements,e=t[0],n=t[4],i=t[8],r=t[12],a=t[1],o=t[5],s=t[9],c=t[13],u=t[2],l=t[6],h=t[10],d=t[14];return t[3]*(+r*s*l-i*c*l-r*o*h+n*c*h+i*o*d-n*s*d)+t[7]*(+e*s*d-e*c*h+r*a*h-i*a*d+i*c*u-r*s*u)+t[11]*(+e*c*l-e*o*d-r*a*l+n*a*d+r*o*u-n*c*u)+t[15]*(-i*o*u-e*s*l+e*o*h+i*a*l-n*a*h+n*s*u)}},{key:"transpose",value:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}},{key:"setPosition",value:function(t,e,n){var i=this.elements;return t.isVector3?(i[12]=t.x,i[13]=t.y,i[14]=t.z):(i[12]=t,i[13]=e,i[14]=n),this}},{key:"invert",value:function(){var t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],a=t[4],o=t[5],s=t[6],c=t[7],u=t[8],l=t[9],h=t[10],d=t[11],f=t[12],p=t[13],v=t[14],m=t[15],g=l*v*c-p*h*c+p*s*d-o*v*d-l*s*m+o*h*m,y=f*h*c-u*v*c-f*s*d+a*v*d+u*s*m-a*h*m,b=u*p*c-f*l*c+f*o*d-a*p*d-u*o*m+a*l*m,_=f*l*s-u*p*s-f*o*h+a*p*h+u*o*v-a*l*v,w=e*g+n*y+i*b+r*_;if(0===w)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var x=1/w;return t[0]=g*x,t[1]=(p*h*r-l*v*r-p*i*d+n*v*d+l*i*m-n*h*m)*x,t[2]=(o*v*r-p*s*r+p*i*c-n*v*c-o*i*m+n*s*m)*x,t[3]=(l*s*r-o*h*r-l*i*c+n*h*c+o*i*d-n*s*d)*x,t[4]=y*x,t[5]=(u*v*r-f*h*r+f*i*d-e*v*d-u*i*m+e*h*m)*x,t[6]=(f*s*r-a*v*r-f*i*c+e*v*c+a*i*m-e*s*m)*x,t[7]=(a*h*r-u*s*r+u*i*c-e*h*c-a*i*d+e*s*d)*x,t[8]=b*x,t[9]=(f*l*r-u*p*r-f*n*d+e*p*d+u*n*m-e*l*m)*x,t[10]=(a*p*r-f*o*r+f*n*c-e*p*c-a*n*m+e*o*m)*x,t[11]=(u*o*r-a*l*r-u*n*c+e*l*c+a*n*d-e*o*d)*x,t[12]=_*x,t[13]=(u*p*i-f*l*i+f*n*h-e*p*h-u*n*v+e*l*v)*x,t[14]=(f*o*i-a*p*i-f*n*s+e*p*s+a*n*v-e*o*v)*x,t[15]=(a*l*i-u*o*i+u*n*s-e*l*s-a*n*h+e*o*h)*x,this}},{key:"scale",value:function(t){var e=this.elements,n=t.x,i=t.y,r=t.z;return e[0]*=n,e[4]*=i,e[8]*=r,e[1]*=n,e[5]*=i,e[9]*=r,e[2]*=n,e[6]*=i,e[10]*=r,e[3]*=n,e[7]*=i,e[11]*=r,this}},{key:"getMaxScaleOnAxis",value:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],i=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,i))}},{key:"makeTranslation",value:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this}},{key:"makeRotationY",value:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(t,e){var n=Math.cos(e),i=Math.sin(e),r=1-n,a=t.x,o=t.y,s=t.z,c=r*a,u=r*o;return this.set(c*a+n,c*o-i*s,c*s+i*o,0,c*o+i*s,u*o+n,u*s-i*a,0,c*s-i*o,u*s+i*a,r*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this}},{key:"compose",value:function(t,e,n){var i=this.elements,r=e._x,a=e._y,o=e._z,s=e._w,c=r+r,u=a+a,l=o+o,h=r*c,d=r*u,f=r*l,p=a*u,v=a*l,m=o*l,g=s*c,y=s*u,b=s*l,_=n.x,w=n.y,x=n.z;return i[0]=(1-(p+m))*_,i[1]=(d+b)*_,i[2]=(f-y)*_,i[3]=0,i[4]=(d-b)*w,i[5]=(1-(h+m))*w,i[6]=(v+g)*w,i[7]=0,i[8]=(f+y)*x,i[9]=(v-g)*x,i[10]=(1-(h+p))*x,i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,this}},{key:"decompose",value:function(t,e,n){var i=this.elements,r=ie.set(i[0],i[1],i[2]).length(),a=ie.set(i[4],i[5],i[6]).length(),o=ie.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),t.x=i[12],t.y=i[13],t.z=i[14],re.copy(this);var s=1/r,c=1/a,u=1/o;return re.elements[0]*=s,re.elements[1]*=s,re.elements[2]*=s,re.elements[4]*=c,re.elements[5]*=c,re.elements[6]*=c,re.elements[8]*=u,re.elements[9]*=u,re.elements[10]*=u,e.setFromRotationMatrix(re),n.x=r,n.y=a,n.z=o,this}},{key:"makePerspective",value:function(t,e,n,i,r,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,s=2*r/(e-t),c=2*r/(n-i),u=(e+t)/(e-t),l=(n+i)/(n-i),h=-(a+r)/(a-r),d=-2*a*r/(a-r);return o[0]=s,o[4]=0,o[8]=u,o[12]=0,o[1]=0,o[5]=c,o[9]=l,o[13]=0,o[2]=0,o[6]=0,o[10]=h,o[14]=d,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}},{key:"makeOrthographic",value:function(t,e,n,i,r,a){var o=this.elements,s=1/(e-t),c=1/(n-i),u=1/(a-r),l=(e+t)*s,h=(n+i)*c,d=(a+r)*u;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-l,o[1]=0,o[5]=2*c,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=-2*u,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}},{key:"equals",value:function(t){for(var e=this.elements,n=t.elements,i=0;i<16;i++)if(e[i]!==n[i])return!1;return!0}},{key:"fromArray",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=t[n+e];return this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}]),t}(),ie=new Mt,re=new ne,ae=new Mt(0,0,0),oe=new Mt(1,1,1),se=new Mt,ce=new Mt,ue=new Mt,le=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.DefaultOrder;Object(l.a)(this,t),Object.defineProperty(this,"isEuler",{value:!0}),this._x=e,this._y=n,this._z=i,this._order=r}return Object(h.a)(t,[{key:"set",value:function(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._order=i||this._order,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(t,e,n){var i=gt.clamp,r=t.elements,a=r[0],o=r[4],s=r[8],c=r[1],u=r[5],l=r[9],h=r[2],d=r[6],f=r[10];switch(e=e||this._order){case"XYZ":this._y=Math.asin(i(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-l,f),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(d,u),this._z=0);break;case"YXZ":this._x=Math.asin(-i(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(s,f),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-h,a),this._z=0);break;case"ZXY":this._x=Math.asin(i(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-h,f),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(c,a));break;case"ZYX":this._y=Math.asin(-i(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(d,f),this._z=Math.atan2(c,a)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(i(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-l,u),this._y=Math.atan2(-h,a)):(this._x=0,this._y=Math.atan2(s,f));break;case"XZY":this._z=Math.asin(-i(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,u),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-l,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!1!==n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(t,e,n){return he.makeRotationFromQuaternion(t),this.setFromRotationMatrix(he,e,n)}},{key:"setFromVector3",value:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)}},{key:"reorder",value:function(t){return de.setFromEuler(this),this.setFromQuaternion(de,t)}},{key:"equals",value:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}},{key:"fromArray",value:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}},{key:"toVector3",value:function(t){return t?t.set(this._x,this._y,this._z):new Mt(this._x,this._y,this._z)}},{key:"_onChange",value:function(t){return this._onChangeCallback=t,this}},{key:"_onChangeCallback",value:function(){}},{key:"x",get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(t){this._order=t,this._onChangeCallback()}}]),t}();le.DefaultOrder="XYZ",le.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var he=new ne,de=new At,fe=function(){function t(){Object(l.a)(this,t),this.mask=1}return Object(h.a)(t,[{key:"set",value:function(t){this.mask=1<<t|0}},{key:"enable",value:function(t){this.mask|=1<<t|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(t){this.mask^=1<<t|0}},{key:"disable",value:function(t){this.mask&=~(1<<t|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(t){return 0!=(this.mask&t.mask)}}]),t}(),pe=0,ve=new Mt,me=new At,ge=new ne,ye=new Mt,be=new Mt,_e=new Mt,we=new At,xe=new Mt(1,0,0),ke=new Mt(0,1,0),Oe=new Mt(0,0,1),Se={type:"added"},Ce={type:"removed"};function Ae(){Object.defineProperty(this,"id",{value:pe++}),this.uuid=gt.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ae.DefaultUp.clone();var t=new Mt,e=new le,n=new At,i=new Mt(1,1,1);e._onChange((function(){n.setFromEuler(e,!1)})),n._onChange((function(){e.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new ne},normalMatrix:{value:new bt}}),this.matrix=new ne,this.matrixWorld=new ne,this.matrixAutoUpdate=Ae.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new fe,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}Ae.DefaultUp=new Mt(0,1,0),Ae.DefaultMatrixAutoUpdate=!0,Ae.prototype=Object.assign(Object.create(dt.prototype),{constructor:Ae,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(t,e){return me.setFromAxisAngle(t,e),this.quaternion.multiply(me),this},rotateOnWorldAxis:function(t,e){return me.setFromAxisAngle(t,e),this.quaternion.premultiply(me),this},rotateX:function(t){return this.rotateOnAxis(xe,t)},rotateY:function(t){return this.rotateOnAxis(ke,t)},rotateZ:function(t){return this.rotateOnAxis(Oe,t)},translateOnAxis:function(t,e){return ve.copy(t).applyQuaternion(this.quaternion),this.position.add(ve.multiplyScalar(e)),this},translateX:function(t){return this.translateOnAxis(xe,t)},translateY:function(t){return this.translateOnAxis(ke,t)},translateZ:function(t){return this.translateOnAxis(Oe,t)},localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(t){return t.applyMatrix4(ge.copy(this.matrixWorld).invert())},lookAt:function(t,e,n){t.isVector3?ye.copy(t):ye.set(t,e,n);var i=this.parent;this.updateWorldMatrix(!0,!1),be.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ge.lookAt(be,ye,this.up):ge.lookAt(ye,be,this.up),this.quaternion.setFromRotationMatrix(ge),i&&(ge.extractRotation(i.matrixWorld),me.setFromRotationMatrix(ge),this.quaternion.premultiply(me.invert()))},add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(Se)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}var n=this.children.indexOf(t);return-1!==n&&(t.parent=null,this.children.splice(n,1),t.dispatchEvent(Ce)),this},clear:function(){for(var t=0;t<this.children.length;t++){var e=this.children[t];e.parent=null,e.dispatchEvent(Ce)}return this.children.length=0,this},attach:function(t){return this.updateWorldMatrix(!0,!1),ge.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),ge.multiply(t.parent.matrixWorld)),t.applyMatrix4(ge),t.updateWorldMatrix(!1,!1),this.add(t),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var n=0,i=this.children.length;n<i;n++){var r=this.children[n].getObjectByProperty(t,e);if(void 0!==r)return r}},getWorldPosition:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),t=new Mt),this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),t=new At),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(be,t,_e),t},getWorldScale:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),t=new Mt),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(be,we,t),t},getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),t=new Mt),this.updateWorldMatrix(!0,!1);var e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()},raycast:function(){},traverse:function(t){t(this);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].updateMatrixWorld(t)},updateWorldMatrix:function(t,e){var n=this.parent;if(!0===t&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e)for(var i=this.children,r=0,a=i.length;r<a;r++)i[r].updateWorldMatrix(!1,!0)},toJSON:function(t){var e=void 0===t||"string"==typeof t,n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var i={};function r(e,n){return void 0===e[n.uuid]&&(e[n.uuid]=n.toJSON(t)),n.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){i.geometry=r(t.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,c=o.length;s<c;s++){var u=o[s];r(t.shapes,u)}else r(t.shapes,o)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(t.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var l=[],h=0,d=this.material.length;h<d;h++)l.push(r(t.materials,this.material[h]));i.material=l}else i.material=r(t.materials,this.material);if(this.children.length>0){i.children=[];for(var f=0;f<this.children.length;f++)i.children.push(this.children[f].toJSON(t).object)}if(this.animations.length>0){i.animations=[];for(var p=0;p<this.animations.length;p++){var v=this.animations[p];i.animations.push(r(t.animations,v))}}if(e){var m=k(t.geometries),g=k(t.materials),y=k(t.textures),b=k(t.images),_=k(t.shapes),w=k(t.skeletons),x=k(t.animations);m.length>0&&(n.geometries=m),g.length>0&&(n.materials=g),y.length>0&&(n.textures=y),b.length>0&&(n.images=b),_.length>0&&(n.shapes=_),w.length>0&&(n.skeletons=w),x.length>0&&(n.animations=x)}return n.object=i,n;function k(t){var e=[];for(var n in t){var i=t[n];delete i.metadata,e.push(i)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var n=0;n<t.children.length;n++){var i=t.children[n];this.add(i.clone())}return this}});var Me=new Mt,Te=new Mt,Ee=new bt,Pe=function(){function t(e,n){Object(l.a)(this,t),Object.defineProperty(this,"isPlane",{value:!0}),this.normal=void 0!==e?e:new Mt(1,0,0),this.constant=void 0!==n?n:0}return Object(h.a)(t,[{key:"set",value:function(t,e){return this.normal.copy(t),this.constant=e,this}},{key:"setComponents",value:function(t,e,n,i){return this.normal.set(t,e,n),this.constant=i,this}},{key:"setFromNormalAndCoplanarPoint",value:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(t,e,n){var i=Me.subVectors(n,e).cross(Te.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(i,t),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this}},{key:"normalize",value:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(t){return this.normal.dot(t)+this.constant}},{key:"distanceToSphere",value:function(t){return this.distanceToPoint(t.center)-t.radius}},{key:"projectPoint",value:function(t,e){return void 0===e&&(console.warn("THREE.Plane: .projectPoint() target is now required"),e=new Mt),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}},{key:"intersectLine",value:function(t,e){void 0===e&&(console.warn("THREE.Plane: .intersectLine() target is now required"),e=new Mt);var n=t.delta(Me),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(t.start)?e.copy(t.start):void 0;var r=-(t.start.dot(this.normal)+this.constant)/i;return r<0||r>1?void 0:e.copy(n).multiplyScalar(r).add(t.start)}},{key:"intersectsLine",value:function(t){var e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0}},{key:"intersectsBox",value:function(t){return t.intersectsPlane(this)}},{key:"intersectsSphere",value:function(t){return t.intersectsPlane(this)}},{key:"coplanarPoint",value:function(t){return void 0===t&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),t=new Mt),t.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(t,e){var n=e||Ee.getNormalMatrix(t),i=this.coplanarPoint(Me).applyMatrix4(t),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this}},{key:"translate",value:function(t){return this.constant-=t.dot(this.normal),this}},{key:"equals",value:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}]),t}(),De=new Mt,je=new Mt,Re=new Mt,Ie=new Mt,Le=new Mt,Ne=new Mt,Fe=new Mt,Be=new Mt,ze=new Mt,Ue=new Mt,He=function(){function t(e,n,i){Object(l.a)(this,t),this.a=void 0!==e?e:new Mt,this.b=void 0!==n?n:new Mt,this.c=void 0!==i?i:new Mt}return Object(h.a)(t,[{key:"set",value:function(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(t,e,n,i){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[i]),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}},{key:"getArea",value:function(){return De.subVectors(this.c,this.b),je.subVectors(this.a,this.b),.5*De.cross(je).length()}},{key:"getMidpoint",value:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),t=new Mt),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(e){return t.getNormal(this.a,this.b,this.c,e)}},{key:"getPlane",value:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getPlane() target is now required"),t=new Pe),t.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(e,n){return t.getBarycoord(e,this.a,this.b,this.c,n)}},{key:"getUV",value:function(e,n,i,r,a){return t.getUV(e,this.a,this.b,this.c,n,i,r,a)}},{key:"containsPoint",value:function(e){return t.containsPoint(e,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(e){return t.isFrontFacing(this.a,this.b,this.c,e)}},{key:"intersectsBox",value:function(t){return t.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(t,e){void 0===e&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),e=new Mt);var n,i,r=this.a,a=this.b,o=this.c;Le.subVectors(a,r),Ne.subVectors(o,r),Be.subVectors(t,r);var s=Le.dot(Be),c=Ne.dot(Be);if(s<=0&&c<=0)return e.copy(r);ze.subVectors(t,a);var u=Le.dot(ze),l=Ne.dot(ze);if(u>=0&&l<=u)return e.copy(a);var h=s*l-u*c;if(h<=0&&s>=0&&u<=0)return n=s/(s-u),e.copy(r).addScaledVector(Le,n);Ue.subVectors(t,o);var d=Le.dot(Ue),f=Ne.dot(Ue);if(f>=0&&d<=f)return e.copy(o);var p=d*c-s*f;if(p<=0&&c>=0&&f<=0)return i=c/(c-f),e.copy(r).addScaledVector(Ne,i);var v=u*f-d*l;if(v<=0&&l-u>=0&&d-f>=0)return Fe.subVectors(o,a),i=(l-u)/(l-u+(d-f)),e.copy(a).addScaledVector(Fe,i);var m=1/(v+p+h);return n=p*m,i=h*m,e.copy(r).addScaledVector(Le,n).addScaledVector(Ne,i)}},{key:"equals",value:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}],[{key:"getNormal",value:function(t,e,n,i){void 0===i&&(console.warn("THREE.Triangle: .getNormal() target is now required"),i=new Mt),i.subVectors(n,e),De.subVectors(t,e),i.cross(De);var r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}},{key:"getBarycoord",value:function(t,e,n,i,r){De.subVectors(i,e),je.subVectors(n,e),Re.subVectors(t,e);var a=De.dot(De),o=De.dot(je),s=De.dot(Re),c=je.dot(je),u=je.dot(Re),l=a*c-o*o;if(void 0===r&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),r=new Mt),0===l)return r.set(-2,-1,-1);var h=1/l,d=(c*s-o*u)*h,f=(a*u-o*s)*h;return r.set(1-d-f,f,d)}},{key:"containsPoint",value:function(t,e,n,i){return this.getBarycoord(t,e,n,i,Ie),Ie.x>=0&&Ie.y>=0&&Ie.x+Ie.y<=1}},{key:"getUV",value:function(t,e,n,i,r,a,o,s){return this.getBarycoord(t,e,n,i,Ie),s.set(0,0),s.addScaledVector(r,Ie.x),s.addScaledVector(a,Ie.y),s.addScaledVector(o,Ie.z),s}},{key:"isFrontFacing",value:function(t,e,n,i){return De.subVectors(n,e),je.subVectors(t,e),De.cross(je).dot(i)<0}}]),t}(),Ve={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ge={h:0,s:0,l:0},We={h:0,s:0,l:0};function Xe(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}function qe(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function Ye(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}var Qe=function(){function t(e,n,i){return Object(l.a)(this,t),Object.defineProperty(this,"isColor",{value:!0}),void 0===n&&void 0===i?this.set(e):this.setRGB(e,n,i)}return Object(h.a)(t,[{key:"set",value:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this}},{key:"setScalar",value:function(t){return this.r=t,this.g=t,this.b=t,this}},{key:"setHex",value:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this}},{key:"setRGB",value:function(t,e,n){return this.r=t,this.g=e,this.b=n,this}},{key:"setHSL",value:function(t,e,n){if(t=gt.euclideanModulo(t,1),e=gt.clamp(e,0,1),n=gt.clamp(n,0,1),0===e)this.r=this.g=this.b=n;else{var i=n<=.5?n*(1+e):n+e-n*e,r=2*n-i;this.r=Xe(r,i,t+1/3),this.g=Xe(r,i,t),this.b=Xe(r,i,t-1/3)}return this}},{key:"setStyle",value:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var i,r=n[1],a=n[2];switch(r){case"rgb":case"rgba":if(i=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,e(i[5]),this;if(i=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,e(i[5]),this;break;case"hsl":case"hsla":if(i=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var o=parseFloat(i[1])/360,s=parseInt(i[2],10)/100,c=parseInt(i[3],10)/100;return e(i[5]),this.setHSL(o,s,c)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(t)){var u=n[1],l=u.length;if(3===l)return this.r=parseInt(u.charAt(0)+u.charAt(0),16)/255,this.g=parseInt(u.charAt(1)+u.charAt(1),16)/255,this.b=parseInt(u.charAt(2)+u.charAt(2),16)/255,this;if(6===l)return this.r=parseInt(u.charAt(0)+u.charAt(1),16)/255,this.g=parseInt(u.charAt(2)+u.charAt(3),16)/255,this.b=parseInt(u.charAt(4)+u.charAt(5),16)/255,this}return t&&t.length>0?this.setColorName(t):this}},{key:"setColorName",value:function(t){var e=Ve[t];return void 0!==e?this.setHex(e):console.warn("THREE.Color: Unknown color "+t),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}},{key:"copyGammaToLinear",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this}},{key:"copyLinearToGamma",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this}},{key:"convertGammaToLinear",value:function(t){return this.copyGammaToLinear(this,t),this}},{key:"convertLinearToGamma",value:function(t){return this.copyLinearToGamma(this,t),this}},{key:"copySRGBToLinear",value:function(t){return this.r=qe(t.r),this.g=qe(t.g),this.b=qe(t.b),this}},{key:"copyLinearToSRGB",value:function(t){return this.r=Ye(t.r),this.g=Ye(t.g),this.b=Ye(t.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}},{key:"getHexString",value:function(){return("000000"+this.getHex().toString(16)).slice(-6)}},{key:"getHSL",value:function(t){void 0===t&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});var e,n,i=this.r,r=this.g,a=this.b,o=Math.max(i,r,a),s=Math.min(i,r,a),c=(s+o)/2;if(s===o)e=0,n=0;else{var u=o-s;switch(n=c<=.5?u/(o+s):u/(2-o-s),o){case i:e=(r-a)/u+(r<a?6:0);break;case r:e=(a-i)/u+2;break;case a:e=(i-r)/u+4}e/=6}return t.h=e,t.s=n,t.l=c,t}},{key:"getStyle",value:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}},{key:"offsetHSL",value:function(t,e,n){return this.getHSL(Ge),Ge.h+=t,Ge.s+=e,Ge.l+=n,this.setHSL(Ge.h,Ge.s,Ge.l),this}},{key:"add",value:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}},{key:"addColors",value:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}},{key:"addScalar",value:function(t){return this.r+=t,this.g+=t,this.b+=t,this}},{key:"sub",value:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}},{key:"multiply",value:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}},{key:"multiplyScalar",value:function(t){return this.r*=t,this.g*=t,this.b*=t,this}},{key:"lerp",value:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}},{key:"lerpHSL",value:function(t,e){this.getHSL(Ge),t.getHSL(We);var n=gt.lerp(Ge.h,We.h,e),i=gt.lerp(Ge.s,We.s,e),r=gt.lerp(Ge.l,We.l,e);return this.setHSL(n,i,r),this}},{key:"equals",value:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}},{key:"fromBufferAttribute",value:function(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),!0===t.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}},{key:"toJSON",value:function(){return this.getHex()}}]),t}();Qe.NAMES=Ve,Qe.prototype.r=1,Qe.prototype.g=1,Qe.prototype.b=1;var Ke=function(){function t(e,n,i,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;Object(l.a)(this,t),this.a=e,this.b=n,this.c=i,this.normal=r&&r.isVector3?r:new Mt,this.vertexNormals=Array.isArray(r)?r:[],this.color=a&&a.isColor?a:new Qe,this.vertexColors=Array.isArray(a)?a:[],this.materialIndex=o}return Object(h.a)(t,[{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,n=t.vertexNormals.length;e<n;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(var i=0,r=t.vertexColors.length;i<r;i++)this.vertexColors[i]=t.vertexColors[i].clone();return this}}]),t}(),Ze=0;function Je(){Object.defineProperty(this,"id",{value:Ze++}),this.uuid=gt.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=d,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=m,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ct,this.stencilZFail=ct,this.stencilZPass=ct,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function $e(t){Je.call(this),this.type="MeshBasicMaterial",this.color=new Qe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(t)}Je.prototype=Object.assign(Object.create(dt.prototype),{constructor:Je,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(t){if(void 0!==t)for(var e in t){var n=t[e];if(void 0!==n)if("shading"!==e){var i=this[e];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[e]=n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}},toJSON:function(t){var e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function i(t){var e=[];for(var n in t){var i=t[n];delete i.metadata,e.push(i)}return e}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),this.side!==d&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),e){var r=i(t.textures),a=i(t.images);r.length>0&&(n.textures=r),a.length>0&&(n.images=a)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;var e=t.clippingPlanes,n=null;if(null!==e){var i=e.length;n=new Array(i);for(var r=0;r!==i;++r)n[r]=e[r].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Je.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),$e.prototype=Object.create(Je.prototype),$e.prototype.constructor=$e,$e.prototype.isMeshBasicMaterial=!0,$e.prototype.copy=function(t){return Je.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this};var tn=new Mt,en=new yt;function nn(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.usage=ut,this.updateRange={offset:0,count:-1},this.version=0}function rn(t,e,n){nn.call(this,new Int8Array(t),e,n)}function an(t,e,n){nn.call(this,new Uint8Array(t),e,n)}function on(t,e,n){nn.call(this,new Uint8ClampedArray(t),e,n)}function sn(t,e,n){nn.call(this,new Int16Array(t),e,n)}function cn(t,e,n){nn.call(this,new Uint16Array(t),e,n)}function un(t,e,n){nn.call(this,new Int32Array(t),e,n)}function ln(t,e,n){nn.call(this,new Uint32Array(t),e,n)}function hn(t,e,n){nn.call(this,new Uint16Array(t),e,n)}function dn(t,e,n){nn.call(this,new Float32Array(t),e,n)}function fn(t,e,n){nn.call(this,new Float64Array(t),e,n)}Object.defineProperty(nn.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(nn.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var i=0,r=this.itemSize;i<r;i++)this.array[t+i]=e.array[n+i];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var a=t[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),a=new Qe),e[n++]=a.r,e[n++]=a.g,e[n++]=a.b}return this},copyVector2sArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var a=t[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),a=new yt),e[n++]=a.x,e[n++]=a.y}return this},copyVector3sArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var a=t[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),a=new Mt),e[n++]=a.x,e[n++]=a.y,e[n++]=a.z}return this},copyVector4sArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var a=t[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),a=new Ot),e[n++]=a.x,e[n++]=a.y,e[n++]=a.z,e[n++]=a.w}return this},applyMatrix3:function(t){if(2===this.itemSize)for(var e=0,n=this.count;e<n;e++)en.fromBufferAttribute(this,e),en.applyMatrix3(t),this.setXY(e,en.x,en.y);else if(3===this.itemSize)for(var i=0,r=this.count;i<r;i++)tn.fromBufferAttribute(this,i),tn.applyMatrix3(t),this.setXYZ(i,tn.x,tn.y,tn.z);return this},applyMatrix4:function(t){for(var e=0,n=this.count;e<n;e++)tn.x=this.getX(e),tn.y=this.getY(e),tn.z=this.getZ(e),tn.applyMatrix4(t),this.setXYZ(e,tn.x,tn.y,tn.z);return this},applyNormalMatrix:function(t){for(var e=0,n=this.count;e<n;e++)tn.x=this.getX(e),tn.y=this.getY(e),tn.z=this.getZ(e),tn.applyNormalMatrix(t),this.setXYZ(e,tn.x,tn.y,tn.z);return this},transformDirection:function(t){for(var e=0,n=this.count;e<n;e++)tn.x=this.getX(e),tn.y=this.getY(e),tn.z=this.getZ(e),tn.transformDirection(t),this.setXYZ(e,tn.x,tn.y,tn.z);return this},set:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this},setXYZW:function(t,e,n,i,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this.array[t+3]=r,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),rn.prototype=Object.create(nn.prototype),rn.prototype.constructor=rn,an.prototype=Object.create(nn.prototype),an.prototype.constructor=an,on.prototype=Object.create(nn.prototype),on.prototype.constructor=on,sn.prototype=Object.create(nn.prototype),sn.prototype.constructor=sn,cn.prototype=Object.create(nn.prototype),cn.prototype.constructor=cn,un.prototype=Object.create(nn.prototype),un.prototype.constructor=un,ln.prototype=Object.create(nn.prototype),ln.prototype.constructor=ln,hn.prototype=Object.create(nn.prototype),hn.prototype.constructor=hn,hn.prototype.isFloat16BufferAttribute=!0,dn.prototype=Object.create(nn.prototype),dn.prototype.constructor=dn,fn.prototype=Object.create(nn.prototype),fn.prototype.constructor=fn;var pn=function(){function t(){Object(l.a)(this,t),this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}return Object(h.a)(t,[{key:"computeGroups",value:function(t){var e,n,i=[],r=void 0,a=t.faces;for(n=0;n<a.length;n++){var o=a[n];o.materialIndex!==r&&(r=o.materialIndex,void 0!==e&&(e.count=3*n-e.start,i.push(e)),e={start:3*n,materialIndex:r})}void 0!==e&&(e.count=3*n-e.start,i.push(e)),this.groups=i}},{key:"fromGeometry",value:function(t){var e,n=t.faces,i=t.vertices,r=t.faceVertexUvs,a=r[0]&&r[0].length>0,o=r[1]&&r[1].length>0,s=t.morphTargets,c=s.length;if(c>0){e=[];for(var u=0;u<c;u++)e[u]={name:s[u].name,data:[]};this.morphTargets.position=e}var l,h=t.morphNormals,d=h.length;if(d>0){l=[];for(var f=0;f<d;f++)l[f]={name:h[f].name,data:[]};this.morphTargets.normal=l}var p=t.skinIndices,v=t.skinWeights,m=p.length===i.length,g=v.length===i.length;i.length>0&&0===n.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(var y=0;y<n.length;y++){var b=n[y];this.vertices.push(i[b.a],i[b.b],i[b.c]);var _=b.vertexNormals;if(3===_.length)this.normals.push(_[0],_[1],_[2]);else{var w=b.normal;this.normals.push(w,w,w)}var x=b.vertexColors;if(3===x.length)this.colors.push(x[0],x[1],x[2]);else{var k=b.color;this.colors.push(k,k,k)}if(!0===a){var O=r[0][y];void 0!==O?this.uvs.push(O[0],O[1],O[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",y),this.uvs.push(new yt,new yt,new yt))}if(!0===o){var S=r[1][y];void 0!==S?this.uvs2.push(S[0],S[1],S[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",y),this.uvs2.push(new yt,new yt,new yt))}for(var C=0;C<c;C++){var A=s[C].vertices;e[C].data.push(A[b.a],A[b.b],A[b.c])}for(var M=0;M<d;M++){var T=h[M].vertexNormals[y];l[M].data.push(T.a,T.b,T.c)}m&&this.skinIndices.push(p[b.a],p[b.b],p[b.c]),g&&this.skinWeights.push(v[b.a],v[b.b],v[b.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this}}]),t}();function vn(t){if(0===t.length)return-1/0;for(var e=t[0],n=1,i=t.length;n<i;++n)t[n]>e&&(e=t[n]);return e}var mn={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function gn(t,e){return new mn[t](e)}var yn=1,bn=new ne,_n=new Ae,wn=new Mt,xn=new Pt,kn=new Pt,On=new Mt;function Sn(){Object.defineProperty(this,"id",{value:yn+=2}),this.uuid=gt.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}Sn.prototype=Object.assign(Object.create(dt.prototype),{constructor:Sn,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){return Array.isArray(t)?this.index=new(vn(t)>65535?ln:cn)(t,1):this.index=t,this},getAttribute:function(t){return this.attributes[t]},setAttribute:function(t,e){return this.attributes[t]=e,this},deleteAttribute:function(t){return delete this.attributes[t],this},hasAttribute:function(t){return void 0!==this.attributes[t]},addGroup:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:t,count:e,materialIndex:n})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix4:function(t){var e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var i=(new bt).getNormalMatrix(t);n.applyNormalMatrix(i),n.needsUpdate=!0}var r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(t),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(t){return bn.makeRotationX(t),this.applyMatrix4(bn),this},rotateY:function(t){return bn.makeRotationY(t),this.applyMatrix4(bn),this},rotateZ:function(t){return bn.makeRotationZ(t),this.applyMatrix4(bn),this},translate:function(t,e,n){return bn.makeTranslation(t,e,n),this.applyMatrix4(bn),this},scale:function(t,e,n){return bn.makeScale(t,e,n),this.applyMatrix4(bn),this},lookAt:function(t){return _n.lookAt(t),_n.updateMatrix(),this.applyMatrix4(_n.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(wn).negate(),this.translate(wn.x,wn.y,wn.z),this},setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){var n=new dn(3*e.vertices.length,3),i=new dn(3*e.colors.length,3);if(this.setAttribute("position",n.copyVector3sArray(e.vertices)),this.setAttribute("color",i.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var r=new dn(e.lineDistances.length,1);this.setAttribute("lineDistance",r.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},setFromPoints:function(t){for(var e=[],n=0,i=t.length;n<i;n++){var r=t[n];e.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new dn(e,3)),this},updateFromObject:function(t){var e=t.geometry;if(t.isMesh){var n=e.__directGeometry;if(!0===e.elementsNeedUpdate&&(n=void 0,e.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(e);n.verticesNeedUpdate=e.verticesNeedUpdate,n.normalsNeedUpdate=e.normalsNeedUpdate,n.colorsNeedUpdate=e.colorsNeedUpdate,n.uvsNeedUpdate=e.uvsNeedUpdate,n.groupsNeedUpdate=e.groupsNeedUpdate,e.verticesNeedUpdate=!1,e.normalsNeedUpdate=!1,e.colorsNeedUpdate=!1,e.uvsNeedUpdate=!1,e.groupsNeedUpdate=!1,e=n}if(!0===e.verticesNeedUpdate){var i=this.attributes.position;void 0!==i&&(i.copyVector3sArray(e.vertices),i.needsUpdate=!0),e.verticesNeedUpdate=!1}if(!0===e.normalsNeedUpdate){var r=this.attributes.normal;void 0!==r&&(r.copyVector3sArray(e.normals),r.needsUpdate=!0),e.normalsNeedUpdate=!1}if(!0===e.colorsNeedUpdate){var a=this.attributes.color;void 0!==a&&(a.copyColorsArray(e.colors),a.needsUpdate=!0),e.colorsNeedUpdate=!1}if(e.uvsNeedUpdate){var o=this.attributes.uv;void 0!==o&&(o.copyVector2sArray(e.uvs),o.needsUpdate=!0),e.uvsNeedUpdate=!1}if(e.lineDistancesNeedUpdate){var s=this.attributes.lineDistance;void 0!==s&&(s.copyArray(e.lineDistances),s.needsUpdate=!0),e.lineDistancesNeedUpdate=!1}return e.groupsNeedUpdate&&(e.computeGroups(t.geometry),this.groups=e.groups,e.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new pn).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.setAttribute("position",new nn(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var n=new Float32Array(3*t.normals.length);this.setAttribute("normal",new nn(n,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var i=new Float32Array(3*t.colors.length);this.setAttribute("color",new nn(i,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var r=new Float32Array(2*t.uvs.length);this.setAttribute("uv",new nn(r,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var a=new Float32Array(2*t.uvs2.length);this.setAttribute("uv2",new nn(a,2).copyVector2sArray(t.uvs2))}for(var o in this.groups=t.groups,t.morphTargets){for(var s=[],c=t.morphTargets[o],u=0,l=c.length;u<l;u++){var h=c[u],d=new dn(3*h.data.length,3);d.name=h.name,s.push(d.copyVector3sArray(h.data))}this.morphAttributes[o]=s}if(t.skinIndices.length>0){var f=new dn(4*t.skinIndices.length,4);this.setAttribute("skinIndex",f.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var p=new dn(4*t.skinWeights.length,4);this.setAttribute("skinWeight",p.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Pt);var t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Mt(-1/0,-1/0,-1/0),new Mt(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(var n=0,i=e.length;n<i;n++){var r=e[n];xn.setFromBufferAttribute(r),this.morphTargetsRelative?(On.addVectors(this.boundingBox.min,xn.min),this.boundingBox.expandByPoint(On),On.addVectors(this.boundingBox.max,xn.max),this.boundingBox.expandByPoint(On)):(this.boundingBox.expandByPoint(xn.min),this.boundingBox.expandByPoint(xn.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new qt);var t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Mt,1/0);if(t){var n=this.boundingSphere.center;if(xn.setFromBufferAttribute(t),e)for(var i=0,r=e.length;i<r;i++){var a=e[i];kn.setFromBufferAttribute(a),this.morphTargetsRelative?(On.addVectors(xn.min,kn.min),xn.expandByPoint(On),On.addVectors(xn.max,kn.max),xn.expandByPoint(On)):(xn.expandByPoint(kn.min),xn.expandByPoint(kn.max))}xn.getCenter(n);for(var o=0,s=0,c=t.count;s<c;s++)On.fromBufferAttribute(t,s),o=Math.max(o,n.distanceToSquared(On));if(e)for(var u=0,l=e.length;u<l;u++)for(var h=e[u],d=this.morphTargetsRelative,f=0,p=h.count;f<p;f++)On.fromBufferAttribute(h,f),d&&(wn.fromBufferAttribute(t,f),On.add(wn)),o=Math.max(o,n.distanceToSquared(On));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.getAttribute("position");if(void 0!==e){var n=this.getAttribute("normal");if(void 0===n)n=new nn(new Float32Array(3*e.count),3),this.setAttribute("normal",n);else for(var i=0,r=n.count;i<r;i++)n.setXYZ(i,0,0,0);var a=new Mt,o=new Mt,s=new Mt,c=new Mt,u=new Mt,l=new Mt,h=new Mt,d=new Mt;if(t)for(var f=0,p=t.count;f<p;f+=3){var v=t.getX(f+0),m=t.getX(f+1),g=t.getX(f+2);a.fromBufferAttribute(e,v),o.fromBufferAttribute(e,m),s.fromBufferAttribute(e,g),h.subVectors(s,o),d.subVectors(a,o),h.cross(d),c.fromBufferAttribute(n,v),u.fromBufferAttribute(n,m),l.fromBufferAttribute(n,g),c.add(h),u.add(h),l.add(h),n.setXYZ(v,c.x,c.y,c.z),n.setXYZ(m,u.x,u.y,u.z),n.setXYZ(g,l.x,l.y,l.z)}else for(var y=0,b=e.count;y<b;y+=3)a.fromBufferAttribute(e,y+0),o.fromBufferAttribute(e,y+1),s.fromBufferAttribute(e,y+2),h.subVectors(s,o),d.subVectors(a,o),h.cross(d),n.setXYZ(y+0,h.x,h.y,h.z),n.setXYZ(y+1,h.x,h.y,h.z),n.setXYZ(y+2,h.x,h.y,h.z);this.normalizeNormals(),n.needsUpdate=!0}},merge:function(t,e){if(t&&t.isBufferGeometry){void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var i in n)if(void 0!==t.attributes[i])for(var r=n[i].array,a=t.attributes[i],o=a.array,s=a.itemSize*e,c=Math.min(o.length,r.length-s),u=0,l=s;u<c;u++,l++)r[l]=o[u];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t)},normalizeNormals:function(){for(var t=this.attributes.normal,e=0,n=t.count;e<n;e++)On.fromBufferAttribute(t,e),On.normalize(),t.setXYZ(e,On.x,On.y,On.z)},toNonIndexed:function(){function t(t,e){for(var n=t.array,i=t.itemSize,r=t.normalized,a=new n.constructor(e.length*i),o=0,s=0,c=0,u=e.length;c<u;c++){o=e[c]*i;for(var l=0;l<i;l++)a[s++]=n[o++]}return new nn(a,i,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var e=new Sn,n=this.index.array,i=this.attributes;for(var r in i){var a=t(i[r],n);e.setAttribute(r,a)}var o=this.morphAttributes;for(var s in o){for(var c=[],u=o[s],l=0,h=u.length;l<h;l++){var d=t(u[l],n);c.push(d)}e.morphAttributes[s]=c}e.morphTargetsRelative=this.morphTargetsRelative;for(var f=this.groups,p=0,v=f.length;p<v;p++){var m=f[p];e.addGroup(m.start,m.count,m.materialIndex)}return e},toJSON:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};var i=this.index;null!==i&&(t.data.index={type:i.array.constructor.name,array:Array.prototype.slice.call(i.array)});var r=this.attributes;for(var a in r){var o=r[a],s=o.toJSON(t.data);""!==o.name&&(s.name=o.name),t.data.attributes[a]=s}var c={},u=!1;for(var l in this.morphAttributes){for(var h=this.morphAttributes[l],d=[],f=0,p=h.length;f<p;f++){var v=h[f],m=v.toJSON(t.data);""!==v.name&&(m.name=v.name),d.push(m)}d.length>0&&(c[l]=d,u=!0)}u&&(t.data.morphAttributes=c,t.data.morphTargetsRelative=this.morphTargetsRelative);var g=this.groups;g.length>0&&(t.data.groups=JSON.parse(JSON.stringify(g)));var y=this.boundingSphere;return null!==y&&(t.data.boundingSphere={center:y.center.toArray(),radius:y.radius}),t},clone:function(){return(new Sn).copy(this)},copy:function(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var e={};this.name=t.name;var n=t.index;null!==n&&this.setIndex(n.clone(e));var i=t.attributes;for(var r in i){var a=i[r];this.setAttribute(r,a.clone(e))}var o=t.morphAttributes;for(var s in o){for(var c=[],u=o[s],l=0,h=u.length;l<h;l++)c.push(u[l].clone(e));this.morphAttributes[s]=c}this.morphTargetsRelative=t.morphTargetsRelative;for(var d=t.groups,f=0,p=d.length;f<p;f++){var v=d[f];this.addGroup(v.start,v.count,v.materialIndex)}var m=t.boundingBox;null!==m&&(this.boundingBox=m.clone());var g=t.boundingSphere;return null!==g&&(this.boundingSphere=g.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Cn=new ne,An=new ee,Mn=new qt,Tn=new Mt,En=new Mt,Pn=new Mt,Dn=new Mt,jn=new Mt,Rn=new Mt,In=new Mt,Ln=new Mt,Nn=new Mt,Fn=new yt,Bn=new yt,zn=new yt,Un=new Mt,Hn=new Mt;function Vn(t,e){Ae.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new Sn,this.material=void 0!==e?e:new $e,this.updateMorphTargets()}function Gn(t,e,n,i,r,a,o,s){if(null===(e.side===f?i.intersectTriangle(o,a,r,!0,s):i.intersectTriangle(r,a,o,e.side!==p,s)))return null;Hn.copy(s),Hn.applyMatrix4(t.matrixWorld);var c=n.ray.origin.distanceTo(Hn);return c<n.near||c>n.far?null:{distance:c,point:Hn.clone(),object:t}}function Wn(t,e,n,i,r,a,o,s,c,u,l,h){Tn.fromBufferAttribute(r,u),En.fromBufferAttribute(r,l),Pn.fromBufferAttribute(r,h);var d=t.morphTargetInfluences;if(e.morphTargets&&a&&d){In.set(0,0,0),Ln.set(0,0,0),Nn.set(0,0,0);for(var f=0,p=a.length;f<p;f++){var v=d[f],m=a[f];0!==v&&(Dn.fromBufferAttribute(m,u),jn.fromBufferAttribute(m,l),Rn.fromBufferAttribute(m,h),o?(In.addScaledVector(Dn,v),Ln.addScaledVector(jn,v),Nn.addScaledVector(Rn,v)):(In.addScaledVector(Dn.sub(Tn),v),Ln.addScaledVector(jn.sub(En),v),Nn.addScaledVector(Rn.sub(Pn),v)))}Tn.add(In),En.add(Ln),Pn.add(Nn)}t.isSkinnedMesh&&(t.boneTransform(u,Tn),t.boneTransform(l,En),t.boneTransform(h,Pn));var g=Gn(t,e,n,i,Tn,En,Pn,Un);if(g){s&&(Fn.fromBufferAttribute(s,u),Bn.fromBufferAttribute(s,l),zn.fromBufferAttribute(s,h),g.uv=He.getUV(Un,Tn,En,Pn,Fn,Bn,zn,new yt)),c&&(Fn.fromBufferAttribute(c,u),Bn.fromBufferAttribute(c,l),zn.fromBufferAttribute(c,h),g.uv2=He.getUV(Un,Tn,En,Pn,Fn,Bn,zn,new yt));var y=new Ke(u,l,h);He.getNormal(Tn,En,Pn,y.normal),g.face=y}return g}Vn.prototype=Object.assign(Object.create(Ae.prototype),{constructor:Vn,isMesh:!0,copy:function(t){return Ae.prototype.copy.call(this,t),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this},updateMorphTargets:function(){var t=this.geometry;if(t.isBufferGeometry){var e=t.morphAttributes,n=Object.keys(e);if(n.length>0){var i=e[n[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,a=i.length;r<a;r++){var o=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}else{var s=t.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(t,e){var n,i=this.geometry,r=this.material,a=this.matrixWorld;if(void 0!==r&&(null===i.boundingSphere&&i.computeBoundingSphere(),Mn.copy(i.boundingSphere),Mn.applyMatrix4(a),!1!==t.ray.intersectsSphere(Mn)&&(Cn.copy(a).invert(),An.copy(t.ray).applyMatrix4(Cn),null===i.boundingBox||!1!==An.intersectsBox(i.boundingBox))))if(i.isBufferGeometry){var o=i.index,s=i.attributes.position,c=i.morphAttributes.position,u=i.morphTargetsRelative,l=i.attributes.uv,h=i.attributes.uv2,d=i.groups,f=i.drawRange;if(null!==o)if(Array.isArray(r))for(var p=0,v=d.length;p<v;p++)for(var m=d[p],g=r[m.materialIndex],y=Math.max(m.start,f.start),b=Math.min(m.start+m.count,f.start+f.count);y<b;y+=3){var _=o.getX(y),w=o.getX(y+1),x=o.getX(y+2);(n=Wn(this,g,t,An,s,c,u,l,h,_,w,x))&&(n.faceIndex=Math.floor(y/3),n.face.materialIndex=m.materialIndex,e.push(n))}else for(var k=Math.max(0,f.start),O=Math.min(o.count,f.start+f.count);k<O;k+=3){var S=o.getX(k),C=o.getX(k+1),A=o.getX(k+2);(n=Wn(this,r,t,An,s,c,u,l,h,S,C,A))&&(n.faceIndex=Math.floor(k/3),e.push(n))}else if(void 0!==s)if(Array.isArray(r))for(var M=0,T=d.length;M<T;M++)for(var E=d[M],P=r[E.materialIndex],D=Math.max(E.start,f.start),j=Math.min(E.start+E.count,f.start+f.count);D<j;D+=3){(n=Wn(this,P,t,An,s,c,u,l,h,D,D+1,D+2))&&(n.faceIndex=Math.floor(D/3),n.face.materialIndex=E.materialIndex,e.push(n))}else for(var R=Math.max(0,f.start),I=Math.min(s.count,f.start+f.count);R<I;R+=3){(n=Wn(this,r,t,An,s,c,u,l,h,R,R+1,R+2))&&(n.faceIndex=Math.floor(R/3),e.push(n))}}else if(i.isGeometry){var L,N=Array.isArray(r),F=i.vertices,B=i.faces,z=i.faceVertexUvs[0];z.length>0&&(L=z);for(var U=0,H=B.length;U<H;U++){var V=B[U],G=N?r[V.materialIndex]:r;if(void 0!==G){var W=F[V.a],X=F[V.b],q=F[V.c];if(n=Gn(this,G,t,An,W,X,q,Un)){if(L&&L[U]){var Y=L[U];Fn.copy(Y[0]),Bn.copy(Y[1]),zn.copy(Y[2]),n.uv=He.getUV(Un,W,X,q,Fn,Bn,zn,new yt)}n.face=V,n.faceIndex=U,e.push(n)}}}}}});var Xn=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;Object(l.a)(this,n),(t=e.call(this)).type="BoxBufferGeometry",t.parameters={width:i,height:r,depth:a,widthSegments:o,heightSegments:c,depthSegments:u};var h=Object(s.a)(t);o=Math.floor(o),c=Math.floor(c),u=Math.floor(u);var d=[],f=[],p=[],v=[],m=0,g=0;function y(t,e,n,i,r,a,o,s,c,u,l){for(var y=a/c,b=o/u,_=a/2,w=o/2,x=s/2,k=c+1,O=u+1,S=0,C=0,A=new Mt,M=0;M<O;M++)for(var T=M*b-w,E=0;E<k;E++){var P=E*y-_;A[t]=P*i,A[e]=T*r,A[n]=x,f.push(A.x,A.y,A.z),A[t]=0,A[e]=0,A[n]=s>0?1:-1,p.push(A.x,A.y,A.z),v.push(E/c),v.push(1-M/u),S+=1}for(var D=0;D<u;D++)for(var j=0;j<c;j++){var R=m+j+k*D,I=m+j+k*(D+1),L=m+(j+1)+k*(D+1),N=m+(j+1)+k*D;d.push(R,I,N),d.push(I,L,N),C+=6}h.addGroup(g,C,l),g+=C,m+=S}return y("z","y","x",-1,-1,a,r,i,u,c,0),y("z","y","x",1,-1,a,r,-i,u,c,1),y("x","z","y",1,1,i,a,r,o,u,2),y("x","z","y",1,-1,i,a,-r,o,u,3),y("x","y","z",1,-1,i,r,a,o,c,4),y("x","y","z",-1,-1,i,r,-a,o,c,5),t.setIndex(d),t.setAttribute("position",new dn(f,3)),t.setAttribute("normal",new dn(p,3)),t.setAttribute("uv",new dn(v,2)),t}return n}(Sn);function qn(t){var e={};for(var n in t)for(var i in e[n]={},t[n]){var r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}return e}function Yn(t){for(var e={},n=0;n<t.length;n++){var i=qn(t[n]);for(var r in i)e[r]=i[r]}return e}var Qn={clone:qn,merge:Yn};function Kn(t){Je.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function Zn(){Ae.call(this),this.type="Camera",this.matrixWorldInverse=new ne,this.projectionMatrix=new ne,this.projectionMatrixInverse=new ne}function Jn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;Zn.call(this),this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}Kn.prototype=Object.create(Je.prototype),Kn.prototype.constructor=Kn,Kn.prototype.isShaderMaterial=!0,Kn.prototype.copy=function(t){return Je.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=qn(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this},Kn.prototype.toJSON=function(t){var e=Je.prototype.toJSON.call(this,t);for(var n in e.glslVersion=this.glslVersion,e.uniforms={},this.uniforms){var i=this.uniforms[n].value;i&&i.isTexture?e.uniforms[n]={type:"t",value:i.toJSON(t).uuid}:i&&i.isColor?e.uniforms[n]={type:"c",value:i.getHex()}:i&&i.isVector2?e.uniforms[n]={type:"v2",value:i.toArray()}:i&&i.isVector3?e.uniforms[n]={type:"v3",value:i.toArray()}:i&&i.isVector4?e.uniforms[n]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?e.uniforms[n]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?e.uniforms[n]={type:"m4",value:i.toArray()}:e.uniforms[n]={value:i}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;var r={};for(var a in this.extensions)!0===this.extensions[a]&&(r[a]=!0);return Object.keys(r).length>0&&(e.extensions=r),e},Zn.prototype=Object.assign(Object.create(Ae.prototype),{constructor:Zn,isCamera:!0,copy:function(t,e){return Ae.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this},getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),t=new Mt),this.updateWorldMatrix(!0,!1);var e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()},updateMatrixWorld:function(t){Ae.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()},updateWorldMatrix:function(t,e){Ae.prototype.updateWorldMatrix.call(this,t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()},clone:function(){return(new this.constructor).copy(this)}}),Jn.prototype=Object.assign(Object.create(Zn.prototype),{constructor:Jn,isPerspectiveCamera:!0,copy:function(t,e){return Zn.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*gt.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*gt.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*gt.RAD2DEG*Math.atan(Math.tan(.5*gt.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,i,r,a){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*gt.DEG2RAD*this.fov)/this.zoom,n=2*e,i=this.aspect*n,r=-.5*i,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;r+=a.offsetX*i/o,e-=a.offsetY*n/s,i*=a.width/o,n*=a.height/s}var c=this.filmOffset;0!==c&&(r+=t*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,e,e-n,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(t){var e=Ae.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}});var $n=90;function ti(t,e,n){if(Ae.call(this),this.type="CubeCamera",!0===n.isWebGLCubeRenderTarget){this.renderTarget=n;var i=new Jn($n,1,t,e);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new Mt(1,0,0)),this.add(i);var r=new Jn($n,1,t,e);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new Mt(-1,0,0)),this.add(r);var a=new Jn($n,1,t,e);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(new Mt(0,1,0)),this.add(a);var o=new Jn($n,1,t,e);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(new Mt(0,-1,0)),this.add(o);var s=new Jn($n,1,t,e);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new Mt(0,0,1)),this.add(s);var c=new Jn($n,1,t,e);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new Mt(0,0,-1)),this.add(c),this.update=function(t,e){null===this.parent&&this.updateMatrixWorld();var u=t.xr.enabled,l=t.getRenderTarget();t.xr.enabled=!1;var h=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0),t.render(e,i),t.setRenderTarget(n,1),t.render(e,r),t.setRenderTarget(n,2),t.render(e,a),t.setRenderTarget(n,3),t.render(e,o),t.setRenderTarget(n,4),t.render(e,s),n.texture.generateMipmaps=h,t.setRenderTarget(n,5),t.render(e,c),t.setRenderTarget(l),t.xr.enabled=u}}else console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.")}function ei(t,e,n,i,r,a,o,s,c,u){t=void 0!==t?t:[],e=void 0!==e?e:y,o=void 0!==o?o:B,xt.call(this,t,e,n,i,r,a,o,s,c,u),this.flipY=!1,this._needsFlipEnvMap=!0}function ni(t,e,n){Number.isInteger(e)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),e=n),St.call(this,t,t,e),e=e||{},this.texture=new ei(void 0,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.encoding),this.texture._needsFlipEnvMap=!1}function ii(t,e,n,i,r,a,o,s,c,u,l,h){xt.call(this,null,a,o,s,c,u,i,r,l,h),this.image={data:t||null,width:e||1,height:n||1},this.magFilter=void 0!==c?c:C,this.minFilter=void 0!==u?u:C,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}ti.prototype=Object.create(Ae.prototype),ti.prototype.constructor=ti,ei.prototype=Object.create(xt.prototype),ei.prototype.constructor=ei,ei.prototype.isCubeTexture=!0,Object.defineProperty(ei.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}}),ni.prototype=Object.create(St.prototype),ni.prototype.constructor=ni,ni.prototype.isWebGLCubeRenderTarget=!0,ni.prototype.fromEquirectangularTexture=function(t,e){this.texture.type=e.type,this.texture.format=z,this.texture.encoding=e.encoding,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;var n={tEquirect:{value:null}},i="\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t#include <begin_vertex>\n\t\t\t\t#include <project_vertex>\n\n\t\t\t}\n\t\t",r="\n\n\t\t\tuniform sampler2D tEquirect;\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t}\n\t\t",a=new Xn(5,5,5),o=new Kn({name:"CubemapFromEquirect",uniforms:qn(n),vertexShader:i,fragmentShader:r,side:f,blending:0});o.uniforms.tEquirect.value=e;var s=new Vn(a,o),c=e.minFilter;return e.minFilter===P&&(e.minFilter=T),new ti(1,10,this).update(t,s),e.minFilter=c,s.geometry.dispose(),s.material.dispose(),this},ni.prototype.clear=function(t,e,n,i){for(var r=t.getRenderTarget(),a=0;a<6;a++)t.setRenderTarget(this,a),t.clear(e,n,i);t.setRenderTarget(r)},ii.prototype=Object.create(xt.prototype),ii.prototype.constructor=ii,ii.prototype.isDataTexture=!0;var ri=new qt,ai=new Mt,oi=function(){function t(e,n,i,r,a,o){Object(l.a)(this,t),this.planes=[void 0!==e?e:new Pe,void 0!==n?n:new Pe,void 0!==i?i:new Pe,void 0!==r?r:new Pe,void 0!==a?a:new Pe,void 0!==o?o:new Pe]}return Object(h.a)(t,[{key:"set",value:function(t,e,n,i,r,a){var o=this.planes;return o[0].copy(t),o[1].copy(e),o[2].copy(n),o[3].copy(i),o[4].copy(r),o[5].copy(a),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){for(var e=this.planes,n=0;n<6;n++)e[n].copy(t.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(t){var e=this.planes,n=t.elements,i=n[0],r=n[1],a=n[2],o=n[3],s=n[4],c=n[5],u=n[6],l=n[7],h=n[8],d=n[9],f=n[10],p=n[11],v=n[12],m=n[13],g=n[14],y=n[15];return e[0].setComponents(o-i,l-s,p-h,y-v).normalize(),e[1].setComponents(o+i,l+s,p+h,y+v).normalize(),e[2].setComponents(o+r,l+c,p+d,y+m).normalize(),e[3].setComponents(o-r,l-c,p-d,y-m).normalize(),e[4].setComponents(o-a,l-u,p-f,y-g).normalize(),e[5].setComponents(o+a,l+u,p+f,y+g).normalize(),this}},{key:"intersectsObject",value:function(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),ri.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(ri)}},{key:"intersectsSprite",value:function(t){return ri.center.set(0,0,0),ri.radius=.7071067811865476,ri.applyMatrix4(t.matrixWorld),this.intersectsSphere(ri)}},{key:"intersectsSphere",value:function(t){for(var e=this.planes,n=t.center,i=-t.radius,r=0;r<6;r++){if(e[r].distanceToPoint(n)<i)return!1}return!0}},{key:"intersectsBox",value:function(t){for(var e=this.planes,n=0;n<6;n++){var i=e[n];if(ai.x=i.normal.x>0?t.max.x:t.min.x,ai.y=i.normal.y>0?t.max.y:t.min.y,ai.z=i.normal.z>0?t.max.z:t.min.z,i.distanceToPoint(ai)<0)return!1}return!0}},{key:"containsPoint",value:function(t){for(var e=this.planes,n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}}]),t}();function si(){var t=null,e=!1,n=null,i=null;function r(e,a){n(e,a),i=t.requestAnimationFrame(r)}return{start:function(){!0!==e&&null!==n&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(t){n=t},setContext:function(e){t=e}}}function ci(t,e){var n=e.isWebGL2,i=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),i.get(t)},remove:function(e){e.isInterleavedBufferAttribute&&(e=e.data);var n=i.get(e);n&&(t.deleteBuffer(n.buffer),i.delete(e))},update:function(e,r){if(e.isGLBufferAttribute){var a=i.get(e);(!a||a.version<e.version)&&i.set(e,{buffer:e.buffer,type:e.type,bytesPerElement:e.elementSize,version:e.version})}else{e.isInterleavedBufferAttribute&&(e=e.data);var o=i.get(e);void 0===o?i.set(e,function(e,i){var r=e.array,a=e.usage,o=t.createBuffer();t.bindBuffer(i,o),t.bufferData(i,r,a),e.onUploadCallback();var s=5126;return r instanceof Float32Array?s=5126:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?e.isFloat16BufferAttribute?n?s=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):s=5123:r instanceof Int16Array?s=5122:r instanceof Uint32Array?s=5125:r instanceof Int32Array?s=5124:r instanceof Int8Array?s=5120:r instanceof Uint8Array&&(s=5121),{buffer:o,type:s,bytesPerElement:r.BYTES_PER_ELEMENT,version:e.version}}(e,r)):o.version<e.version&&(!function(e,i,r){var a=i.array,o=i.updateRange;t.bindBuffer(r,e),-1===o.count?t.bufferSubData(r,0,a):(n?t.bufferSubData(r,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):t.bufferSubData(r,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1)}(o.buffer,e,r),o.version=e.version)}}}}var ui=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Object(l.a)(this,n),(t=e.call(this)).type="PlaneBufferGeometry",t.parameters={width:i,height:r,widthSegments:a,heightSegments:o};for(var s=i/2,c=r/2,u=Math.floor(a),h=Math.floor(o),d=u+1,f=h+1,p=i/u,v=r/h,m=[],g=[],y=[],b=[],_=0;_<f;_++)for(var w=_*v-c,x=0;x<d;x++){var k=x*p-s;g.push(k,-w,0),y.push(0,0,1),b.push(x/u),b.push(1-_/h)}for(var O=0;O<h;O++)for(var S=0;S<u;S++){var C=S+d*O,A=S+d*(O+1),M=S+1+d*(O+1),T=S+1+d*O;m.push(C,A,T),m.push(A,M,T)}return t.setIndex(m),t.setAttribute("position",new dn(g,3)),t.setAttribute("normal",new dn(y,3)),t.setAttribute("uv",new dn(b,2)),t}return n}(Sn),li={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor.xyz *= color.xyz;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmissionmap_fragment:"#ifdef USE_TRANSMISSIONMAP\n\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n#endif",transmissionmap_pars_fragment:"#ifdef USE_TRANSMISSIONMAP\n\tuniform sampler2D transmissionMap;\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSMISSION\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSMISSION\n\tuniform float transmission;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <transmissionmap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#ifdef TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t#endif\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <transmissionmap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSMISSION\n\t\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},hi={common:{diffuse:{value:new Qe(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new bt},uv2Transform:{value:new bt},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new yt(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Qe(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Qe(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new bt}},sprite:{diffuse:{value:new Qe(15658734)},opacity:{value:1},center:{value:new yt(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new bt}}},di={basic:{uniforms:Yn([hi.common,hi.specularmap,hi.envmap,hi.aomap,hi.lightmap,hi.fog]),vertexShader:li.meshbasic_vert,fragmentShader:li.meshbasic_frag},lambert:{uniforms:Yn([hi.common,hi.specularmap,hi.envmap,hi.aomap,hi.lightmap,hi.emissivemap,hi.fog,hi.lights,{emissive:{value:new Qe(0)}}]),vertexShader:li.meshlambert_vert,fragmentShader:li.meshlambert_frag},phong:{uniforms:Yn([hi.common,hi.specularmap,hi.envmap,hi.aomap,hi.lightmap,hi.emissivemap,hi.bumpmap,hi.normalmap,hi.displacementmap,hi.fog,hi.lights,{emissive:{value:new Qe(0)},specular:{value:new Qe(1118481)},shininess:{value:30}}]),vertexShader:li.meshphong_vert,fragmentShader:li.meshphong_frag},standard:{uniforms:Yn([hi.common,hi.envmap,hi.aomap,hi.lightmap,hi.emissivemap,hi.bumpmap,hi.normalmap,hi.displacementmap,hi.roughnessmap,hi.metalnessmap,hi.fog,hi.lights,{emissive:{value:new Qe(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:li.meshphysical_vert,fragmentShader:li.meshphysical_frag},toon:{uniforms:Yn([hi.common,hi.aomap,hi.lightmap,hi.emissivemap,hi.bumpmap,hi.normalmap,hi.displacementmap,hi.gradientmap,hi.fog,hi.lights,{emissive:{value:new Qe(0)}}]),vertexShader:li.meshtoon_vert,fragmentShader:li.meshtoon_frag},matcap:{uniforms:Yn([hi.common,hi.bumpmap,hi.normalmap,hi.displacementmap,hi.fog,{matcap:{value:null}}]),vertexShader:li.meshmatcap_vert,fragmentShader:li.meshmatcap_frag},points:{uniforms:Yn([hi.points,hi.fog]),vertexShader:li.points_vert,fragmentShader:li.points_frag},dashed:{uniforms:Yn([hi.common,hi.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:li.linedashed_vert,fragmentShader:li.linedashed_frag},depth:{uniforms:Yn([hi.common,hi.displacementmap]),vertexShader:li.depth_vert,fragmentShader:li.depth_frag},normal:{uniforms:Yn([hi.common,hi.bumpmap,hi.normalmap,hi.displacementmap,{opacity:{value:1}}]),vertexShader:li.normal_vert,fragmentShader:li.normal_frag},sprite:{uniforms:Yn([hi.sprite,hi.fog]),vertexShader:li.sprite_vert,fragmentShader:li.sprite_frag},background:{uniforms:{uvTransform:{value:new bt},t2D:{value:null}},vertexShader:li.background_vert,fragmentShader:li.background_frag},cube:{uniforms:Yn([hi.envmap,{opacity:{value:1}}]),vertexShader:li.cube_vert,fragmentShader:li.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:li.equirect_vert,fragmentShader:li.equirect_frag},distanceRGBA:{uniforms:Yn([hi.common,hi.displacementmap,{referencePosition:{value:new Mt},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:li.distanceRGBA_vert,fragmentShader:li.distanceRGBA_frag},shadow:{uniforms:Yn([hi.lights,hi.fog,{color:{value:new Qe(0)},opacity:{value:1}}]),vertexShader:li.shadow_vert,fragmentShader:li.shadow_frag}};function fi(t,e,n,i,r){var a,o,s=new Qe(0),c=0,u=null,l=0,h=null;function p(t,e){n.buffers.color.setClear(t.r,t.g,t.b,e,r)}return{getClearColor:function(){return s},setClearColor:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;s.set(t),p(s,c=e)},getClearAlpha:function(){return c},setClearAlpha:function(t){p(s,c=t)},render:function(n,r,v,m){var g=!0===r.isScene?r.background:null;g&&g.isTexture&&(g=e.get(g));var y=t.xr,b=y.getSession&&y.getSession();b&&"additive"===b.environmentBlendMode&&(g=null),null===g?p(s,c):g&&g.isColor&&(p(g,1),m=!0),(t.autoClear||m)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),g&&(g.isCubeTexture||g.isWebGLCubeRenderTarget||g.mapping===w)?(void 0===o&&((o=new Vn(new Xn(1,1,1),new Kn({name:"BackgroundCubeMaterial",uniforms:qn(di.cube.uniforms),vertexShader:di.cube.vertexShader,fragmentShader:di.cube.fragmentShader,side:f,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),o.geometry.deleteAttribute("uv"),o.onBeforeRender=function(t,e,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(o.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(o)),g.isWebGLCubeRenderTarget&&(g=g.texture),o.material.uniforms.envMap.value=g,o.material.uniforms.flipEnvMap.value=g.isCubeTexture&&g._needsFlipEnvMap?-1:1,u===g&&l===g.version&&h===t.toneMapping||(o.material.needsUpdate=!0,u=g,l=g.version,h=t.toneMapping),n.unshift(o,o.geometry,o.material,0,0,null)):g&&g.isTexture&&(void 0===a&&((a=new Vn(new ui(2,2),new Kn({name:"BackgroundMaterial",uniforms:qn(di.background.uniforms),vertexShader:di.background.vertexShader,fragmentShader:di.background.fragmentShader,side:d,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(a)),a.material.uniforms.t2D.value=g,!0===g.matrixAutoUpdate&&g.updateMatrix(),a.material.uniforms.uvTransform.value.copy(g.matrix),u===g&&l===g.version&&h===t.toneMapping||(a.material.needsUpdate=!0,u=g,l=g.version,h=t.toneMapping),n.unshift(a,a.geometry,a.material,0,0,null))}}}function pi(t,e,n,i){var r=t.getParameter(34921),a=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||null!==a,s={},c=d(null),u=c;function l(e){return i.isWebGL2?t.bindVertexArray(e):a.bindVertexArrayOES(e)}function h(e){return i.isWebGL2?t.deleteVertexArray(e):a.deleteVertexArrayOES(e)}function d(t){for(var e=[],n=[],i=[],a=0;a<r;a++)e[a]=0,n[a]=0,i[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:e,enabledAttributes:n,attributeDivisors:i,object:t,attributes:{},index:null}}function f(){for(var t=u.newAttributes,e=0,n=t.length;e<n;e++)t[e]=0}function p(t){v(t,0)}function v(n,r){var a=u.newAttributes,o=u.enabledAttributes,s=u.attributeDivisors;(a[n]=1,0===o[n]&&(t.enableVertexAttribArray(n),o[n]=1),s[n]!==r)&&((i.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,r),s[n]=r)}function m(){for(var e=u.newAttributes,n=u.enabledAttributes,i=0,r=n.length;i<r;i++)n[i]!==e[i]&&(t.disableVertexAttribArray(i),n[i]=0)}function g(e,n,r,a,o,s){!0!==i.isWebGL2||5124!==r&&5125!==r?t.vertexAttribPointer(e,n,r,a,o,s):t.vertexAttribIPointer(e,n,r,o,s)}function y(){b(),u!==c&&l((u=c).object)}function b(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:function(r,c,h,y,b){var _=!1;if(o){var w=function(e,n,r){var o=!0===r.wireframe,c=s[e.id];void 0===c&&(c={},s[e.id]=c);var u=c[n.id];void 0===u&&(u={},c[n.id]=u);var l=u[o];void 0===l&&(l=d(i.isWebGL2?t.createVertexArray():a.createVertexArrayOES()),u[o]=l);return l}(y,h,c);u!==w&&l((u=w).object),(_=function(t,e){var n=u.attributes,i=t.attributes,r=0;for(var a in i){var o=n[a],s=i[a];if(void 0===o)return!0;if(o.attribute!==s)return!0;if(o.data!==s.data)return!0;r++}return u.attributesNum!==r||u.index!==e}(y,b))&&function(t,e){var n={},i=t.attributes,r=0;for(var a in i){var o=i[a],s={};s.attribute=o,o.data&&(s.data=o.data),n[a]=s,r++}u.attributes=n,u.attributesNum=r,u.index=e}(y,b)}else{var x=!0===c.wireframe;u.geometry===y.id&&u.program===h.id&&u.wireframe===x||(u.geometry=y.id,u.program=h.id,u.wireframe=x,_=!0)}!0===r.isInstancedMesh&&(_=!0),null!==b&&n.update(b,34963),_&&(!function(r,a,o,s){if(!1===i.isWebGL2&&(r.isInstancedMesh||s.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;f();var c=s.attributes,u=o.getAttributes(),l=a.defaultAttributeValues;for(var h in u){var d=u[h];if(d>=0){var y=c[h];if(void 0!==y){var b=y.normalized,_=y.itemSize,w=n.get(y);if(void 0===w)continue;var x=w.buffer,k=w.type,O=w.bytesPerElement;if(y.isInterleavedBufferAttribute){var S=y.data,C=S.stride,A=y.offset;S&&S.isInstancedInterleavedBuffer?(v(d,S.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=S.meshPerAttribute*S.count)):p(d),t.bindBuffer(34962,x),g(d,_,k,b,C*O,A*O)}else y.isInstancedBufferAttribute?(v(d,y.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=y.meshPerAttribute*y.count)):p(d),t.bindBuffer(34962,x),g(d,_,k,b,0,0)}else if("instanceMatrix"===h){var M=n.get(r.instanceMatrix);if(void 0===M)continue;var T=M.buffer,E=M.type;v(d+0,1),v(d+1,1),v(d+2,1),v(d+3,1),t.bindBuffer(34962,T),t.vertexAttribPointer(d+0,4,E,!1,64,0),t.vertexAttribPointer(d+1,4,E,!1,64,16),t.vertexAttribPointer(d+2,4,E,!1,64,32),t.vertexAttribPointer(d+3,4,E,!1,64,48)}else if("instanceColor"===h){var P=n.get(r.instanceColor);if(void 0===P)continue;var D=P.buffer,j=P.type;v(d,1),t.bindBuffer(34962,D),t.vertexAttribPointer(d,3,j,!1,12,0)}else if(void 0!==l){var R=l[h];if(void 0!==R)switch(R.length){case 2:t.vertexAttrib2fv(d,R);break;case 3:t.vertexAttrib3fv(d,R);break;case 4:t.vertexAttrib4fv(d,R);break;default:t.vertexAttrib1fv(d,R)}}}}m()}(r,c,h,y),null!==b&&t.bindBuffer(34963,n.get(b).buffer))},reset:y,resetDefaultState:b,dispose:function(){for(var t in y(),s){var e=s[t];for(var n in e){var i=e[n];for(var r in i)h(i[r].object),delete i[r];delete e[n]}delete s[t]}},releaseStatesOfGeometry:function(t){if(void 0!==s[t.id]){var e=s[t.id];for(var n in e){var i=e[n];for(var r in i)h(i[r].object),delete i[r];delete e[n]}delete s[t.id]}},releaseStatesOfProgram:function(t){for(var e in s){var n=s[e];if(void 0!==n[t.id]){var i=n[t.id];for(var r in i)h(i[r].object),delete i[r];delete n[t.id]}}},initAttributes:f,enableAttribute:p,disableUnusedAttributes:m}}function vi(t,e,n,i){var r,a=i.isWebGL2;this.setMode=function(t){r=t},this.render=function(e,i){t.drawArrays(r,e,i),n.update(i,r,1)},this.renderInstances=function(i,o,s){if(0!==s){var c,u;if(a)c=t,u="drawArraysInstanced";else if(u="drawArraysInstancedANGLE",null===(c=e.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[u](r,i,o,s),n.update(o,r,s)}}}function mi(t,e,n){var i;function r(e){if("highp"===e){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var a="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&t instanceof WebGL2ComputeRenderingContext,o=void 0!==n.precision?n.precision:"highp",s=r(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var c=!0===n.logarithmicDepthBuffer,u=t.getParameter(34930),l=t.getParameter(35660),h=t.getParameter(3379),d=t.getParameter(34076),f=t.getParameter(34921),p=t.getParameter(36347),v=t.getParameter(36348),m=t.getParameter(36349),g=l>0,y=a||!!e.get("OES_texture_float");return{isWebGL2:a,getMaxAnisotropy:function(){if(void 0!==i)return i;var n=e.get("EXT_texture_filter_anisotropic");return i=null!==n?t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:r,precision:o,logarithmicDepthBuffer:c,maxTextures:u,maxVertexTextures:l,maxTextureSize:h,maxCubemapSize:d,maxAttributes:f,maxVertexUniforms:p,maxVaryings:v,maxFragmentUniforms:m,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:g&&y,maxSamples:a?t.getParameter(36183):0}}function gi(t){var e=this,n=null,i=0,r=!1,a=!1,o=new Pe,s=new bt,c={value:null,needsUpdate:!1};function u(){c.value!==n&&(c.value=n,c.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function l(t,n,i,r){var a=null!==t?t.length:0,u=null;if(0!==a){if(u=c.value,!0!==r||null===u){var l=i+4*a,h=n.matrixWorldInverse;s.getNormalMatrix(h),(null===u||u.length<l)&&(u=new Float32Array(l));for(var d=0,f=i;d!==a;++d,f+=4)o.copy(t[d]).applyMatrix4(h,s),o.normal.toArray(u,f),u[f+3]=o.constant}c.value=u,c.needsUpdate=!0}return e.numPlanes=a,e.numIntersection=0,u}this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(t,e,a){var o=0!==t.length||e||0!==i||r;return r=e,n=l(t,a,0),i=t.length,o},this.beginShadows=function(){a=!0,l(null)},this.endShadows=function(){a=!1,u()},this.setState=function(e,o,s){var h=e.clippingPlanes,d=e.clipIntersection,f=e.clipShadows,p=t.get(e);if(!r||null===h||0===h.length||a&&!f)a?l(null):u();else{var v=a?0:i,m=4*v,g=p.clippingState||null;c.value=g,g=l(h,o,m,s);for(var y=0;y!==m;++y)g[y]=n[y];p.clippingState=g,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=v}}}function yi(t){var e=new WeakMap;function n(t,e){return e===_?t.mapping=y:304===e&&(t.mapping=b),t}function i(t){var n=t.target;n.removeEventListener("dispose",i);var r=e.get(n);void 0!==r&&(e.delete(n),r.dispose())}return{get:function(r){if(r&&r.isTexture){var a=r.mapping;if(a===_||304===a){if(e.has(r))return n(e.get(r).texture,r.mapping);var o=r.image;if(o&&o.height>0){var s=t.getRenderList(),c=t.getRenderTarget(),u=t.getRenderState(),l=new ni(o.height/2);return l.fromEquirectangularTexture(t,r),e.set(r,l),t.setRenderTarget(c),t.setRenderList(s),t.setRenderState(u),r.addEventListener("dispose",i),n(l.texture,r.mapping)}return null}}return r},dispose:function(){e=new WeakMap}}}function bi(t){var e={};return{has:function(n){if(void 0!==e[n])return null!==e[n];var i;switch(n){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(n)}return e[n]=i,null!==i},get:function(t){return this.has(t)||console.warn("THREE.WebGLRenderer: "+t+" extension not supported."),e[t]}}}function _i(t,e,n,i){var r=new WeakMap,a=new WeakMap;function o(t){var s=t.target,c=r.get(s);for(var u in null!==c.index&&e.remove(c.index),c.attributes)e.remove(c.attributes[u]);s.removeEventListener("dispose",o),r.delete(s);var l=a.get(c);l&&(e.remove(l),a.delete(c)),i.releaseStatesOfGeometry(c),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(t){var n=[],i=t.index,r=t.attributes.position,o=0;if(null!==i){var s=i.array;o=i.version;for(var c=0,u=s.length;c<u;c+=3){var l=s[c+0],h=s[c+1],d=s[c+2];n.push(l,h,h,d,d,l)}}else{var f=r.array;o=r.version;for(var p=0,v=f.length/3-1;p<v;p+=3){var m=p+0,g=p+1,y=p+2;n.push(m,g,g,y,y,m)}}var b=new(vn(n)>65535?ln:cn)(n,1);b.version=o;var _=a.get(t);_&&e.remove(_),a.set(t,b)}return{get:function(t,e){var i=r.get(e);return i||(e.addEventListener("dispose",o),e.isBufferGeometry?i=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new Sn).setFromObject(t)),i=e._bufferGeometry),r.set(e,i),n.memory.geometries++,i)},update:function(t){var n=t.attributes;for(var i in n)e.update(n[i],34962);var r=t.morphAttributes;for(var a in r)for(var o=r[a],s=0,c=o.length;s<c;s++)e.update(o[s],34962)},getWireframeAttribute:function(t){var e=a.get(t);if(e){var n=t.index;null!==n&&e.version<n.version&&s(t)}else s(t);return a.get(t)}}}function wi(t,e,n,i){var r,a,o,s=i.isWebGL2;this.setMode=function(t){r=t},this.setIndex=function(t){a=t.type,o=t.bytesPerElement},this.render=function(e,i){t.drawElements(r,i,a,e*o),n.update(i,r,1)},this.renderInstances=function(i,c,u){if(0!==u){var l,h;if(s)l=t,h="drawElementsInstanced";else if(h="drawElementsInstancedANGLE",null===(l=e.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[h](r,c,a,i*o,u),n.update(c,r,u)}}}function xi(t){var e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(t,n,i){switch(e.calls++,n){case 4:e.triangles+=i*(t/3);break;case 1:e.lines+=i*(t/2);break;case 3:e.lines+=i*(t-1);break;case 2:e.lines+=i*t;break;case 0:e.points+=i*t;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function ki(t,e){return t[0]-e[0]}function Oi(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Si(t){for(var e={},n=new Float32Array(8),i=[],r=0;r<8;r++)i[r]=[r,0];return{update:function(r,a,o,s){var c=r.morphTargetInfluences,u=void 0===c?0:c.length,l=e[a.id];if(void 0===l){l=[];for(var h=0;h<u;h++)l[h]=[h,0];e[a.id]=l}for(var d=0;d<u;d++){var f=l[d];f[0]=d,f[1]=c[d]}l.sort(Oi);for(var p=0;p<8;p++)p<u&&l[p][1]?(i[p][0]=l[p][0],i[p][1]=l[p][1]):(i[p][0]=Number.MAX_SAFE_INTEGER,i[p][1]=0);i.sort(ki);for(var v=o.morphTargets&&a.morphAttributes.position,m=o.morphNormals&&a.morphAttributes.normal,g=0,y=0;y<8;y++){var b=i[y],_=b[0],w=b[1];_!==Number.MAX_SAFE_INTEGER&&w?(v&&a.getAttribute("morphTarget"+y)!==v[_]&&a.setAttribute("morphTarget"+y,v[_]),m&&a.getAttribute("morphNormal"+y)!==m[_]&&a.setAttribute("morphNormal"+y,m[_]),n[y]=w,g+=w):(v&&!0===a.hasAttribute("morphTarget"+y)&&a.deleteAttribute("morphTarget"+y),m&&!0===a.hasAttribute("morphNormal"+y)&&a.deleteAttribute("morphNormal"+y),n[y]=0)}var x=a.morphTargetsRelative?1:1-g;s.getUniforms().setValue(t,"morphTargetBaseInfluence",x),s.getUniforms().setValue(t,"morphTargetInfluences",n)}}}function Ci(t,e,n,i){var r=new WeakMap;return{update:function(t){var a=i.render.frame,o=t.geometry,s=e.get(t,o);return r.get(s)!==a&&(o.isGeometry&&s.updateFromObject(t),e.update(s),r.set(s,a)),t.isInstancedMesh&&(n.update(t.instanceMatrix,34962),null!==t.instanceColor&&n.update(t.instanceColor,34962)),s},dispose:function(){r=new WeakMap}}}function Ai(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;xt.call(this,null),this.image={data:t,width:e,height:n,depth:i},this.magFilter=C,this.minFilter=C,this.wrapR=O,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function Mi(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;xt.call(this,null),this.image={data:t,width:e,height:n,depth:i},this.magFilter=C,this.minFilter=C,this.wrapR=O,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}di.physical={uniforms:Yn([di.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new yt(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new Qe(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:li.meshphysical_vert,fragmentShader:li.meshphysical_frag},Ai.prototype=Object.create(xt.prototype),Ai.prototype.constructor=Ai,Ai.prototype.isDataTexture2DArray=!0,Mi.prototype=Object.create(xt.prototype),Mi.prototype.constructor=Mi,Mi.prototype.isDataTexture3D=!0;var Ti=new xt,Ei=new Ai,Pi=new Mi,Di=new ei,ji=[],Ri=[],Ii=new Float32Array(16),Li=new Float32Array(9),Ni=new Float32Array(4);function Fi(t,e,n){var i=t[0];if(i<=0||i>0)return t;var r=e*n,a=ji[r];if(void 0===a&&(a=new Float32Array(r),ji[r]=a),0!==e){i.toArray(a,0);for(var o=1,s=0;o!==e;++o)s+=n,t[o].toArray(a,s)}return a}function Bi(t,e){if(t.length!==e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function zi(t,e){for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}function Ui(t,e){var n=Ri[e];void 0===n&&(n=new Int32Array(e),Ri[e]=n);for(var i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function Hi(t,e){var n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Vi(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Bi(n,e))return;t.uniform2fv(this.addr,e),zi(n,e)}}function Gi(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(void 0!==e.r)n[0]===e.r&&n[1]===e.g&&n[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Bi(n,e))return;t.uniform3fv(this.addr,e),zi(n,e)}}function Wi(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Bi(n,e))return;t.uniform4fv(this.addr,e),zi(n,e)}}function Xi(t,e){var n=this.cache,i=e.elements;if(void 0===i){if(Bi(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),zi(n,e)}else{if(Bi(n,i))return;Ni.set(i),t.uniformMatrix2fv(this.addr,!1,Ni),zi(n,i)}}function qi(t,e){var n=this.cache,i=e.elements;if(void 0===i){if(Bi(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),zi(n,e)}else{if(Bi(n,i))return;Li.set(i),t.uniformMatrix3fv(this.addr,!1,Li),zi(n,i)}}function Yi(t,e){var n=this.cache,i=e.elements;if(void 0===i){if(Bi(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),zi(n,e)}else{if(Bi(n,i))return;Ii.set(i),t.uniformMatrix4fv(this.addr,!1,Ii),zi(n,i)}}function Qi(t,e,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.safeSetTexture2D(e||Ti,r)}function Ki(t,e,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||Ei,r)}function Zi(t,e,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||Pi,r)}function Ji(t,e,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.safeSetTextureCube(e||Di,r)}function $i(t,e){var n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function tr(t,e){var n=this.cache;Bi(n,e)||(t.uniform2iv(this.addr,e),zi(n,e))}function er(t,e){var n=this.cache;Bi(n,e)||(t.uniform3iv(this.addr,e),zi(n,e))}function nr(t,e){var n=this.cache;Bi(n,e)||(t.uniform4iv(this.addr,e),zi(n,e))}function ir(t,e){var n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function rr(t,e){t.uniform1fv(this.addr,e)}function ar(t,e){t.uniform1iv(this.addr,e)}function or(t,e){t.uniform2iv(this.addr,e)}function sr(t,e){t.uniform3iv(this.addr,e)}function cr(t,e){t.uniform4iv(this.addr,e)}function ur(t,e){var n=Fi(e,this.size,2);t.uniform2fv(this.addr,n)}function lr(t,e){var n=Fi(e,this.size,3);t.uniform3fv(this.addr,n)}function hr(t,e){var n=Fi(e,this.size,4);t.uniform4fv(this.addr,n)}function dr(t,e){var n=Fi(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function fr(t,e){var n=Fi(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function pr(t,e){var n=Fi(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function vr(t,e,n){var i=e.length,r=Ui(n,i);t.uniform1iv(this.addr,r);for(var a=0;a!==i;++a)n.safeSetTexture2D(e[a]||Ti,r[a])}function mr(t,e,n){var i=e.length,r=Ui(n,i);t.uniform1iv(this.addr,r);for(var a=0;a!==i;++a)n.safeSetTextureCube(e[a]||Di,r[a])}function gr(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=function(t){switch(t){case 5126:return Hi;case 35664:return Vi;case 35665:return Gi;case 35666:return Wi;case 35674:return Xi;case 35675:return qi;case 35676:return Yi;case 5124:case 35670:return $i;case 35667:case 35671:return tr;case 35668:case 35672:return er;case 35669:case 35673:return nr;case 5125:return ir;case 35678:case 36198:case 36298:case 36306:case 35682:return Qi;case 35679:case 36299:case 36307:return Zi;case 35680:case 36300:case 36308:case 36293:return Ji;case 36289:case 36303:case 36311:case 36292:return Ki}}(e.type)}function yr(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=function(t){switch(t){case 5126:return rr;case 35664:return ur;case 35665:return lr;case 35666:return hr;case 35674:return dr;case 35675:return fr;case 35676:return pr;case 5124:case 35670:return ar;case 35667:case 35671:return or;case 35668:case 35672:return sr;case 35669:case 35673:return cr;case 35678:case 36198:case 36298:case 36306:case 35682:return vr;case 35680:case 36300:case 36308:case 36293:return mr}}(e.type)}function br(t){this.id=t,this.seq=[],this.map={}}yr.prototype.updateCache=function(t){var e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),zi(e,t)},br.prototype.setValue=function(t,e,n){for(var i=this.seq,r=0,a=i.length;r!==a;++r){var o=i[r];o.setValue(t,e[o.id],n)}};var _r=/([\w\d_]+)(\])?(\[|\.)?/g;function wr(t,e){t.seq.push(e),t.map[e.id]=e}function xr(t,e,n){var i=t.name,r=i.length;for(_r.lastIndex=0;;){var a=_r.exec(i),o=_r.lastIndex,s=a[1],c="]"===a[2],u=a[3];if(c&&(s|=0),void 0===u||"["===u&&o+2===r){wr(n,void 0===u?new gr(s,t,e):new yr(s,t,e));break}var l=n.map[s];void 0===l&&wr(n,l=new br(s)),n=l}}function kr(t,e){this.seq=[],this.map={};for(var n=t.getProgramParameter(e,35718),i=0;i<n;++i){var r=t.getActiveUniform(e,i);xr(r,t.getUniformLocation(e,r.name),this)}}function Or(t,e,n){var i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}kr.prototype.setValue=function(t,e,n,i){var r=this.map[e];void 0!==r&&r.setValue(t,n,i)},kr.prototype.setOptional=function(t,e,n){var i=e[n];void 0!==i&&this.setValue(t,n,i)},kr.upload=function(t,e,n,i){for(var r=0,a=e.length;r!==a;++r){var o=e[r],s=n[o.id];!1!==s.needsUpdate&&o.setValue(t,s.value,i)}},kr.seqWithValue=function(t,e){for(var n=[],i=0,r=t.length;i!==r;++i){var a=t[i];a.id in e&&n.push(a)}return n};var Sr=0;function Cr(t){switch(t){case nt:return["Linear","( value )"];case it:return["sRGB","( value )"];case at:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case rt:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function Ar(t,e,n){var i=t.getShaderParameter(e,35713),r=t.getShaderInfoLog(e).trim();return i&&""===r?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+r+function(t){for(var e=t.split("\n"),n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join("\n")}(t.getShaderSource(e))}function Mr(t,e){var n=Cr(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function Tr(t,e){var n;switch(e){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="OptimizedCineon";break;case 4:n="ACESFilmic";break;case 5:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Er(t){return""!==t}function Pr(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Dr(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}var jr=/^[ \t]*#include +<([\w\d./]+)>/gm;function Rr(t){return t.replace(jr,Ir)}function Ir(t,e){var n=li[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return Rr(n)}var Lr=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Nr=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Fr(t){return t.replace(Nr,zr).replace(Lr,Br)}function Br(t,e,n,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),zr(t,e,n,i)}function zr(t,e,n,i){for(var r="",a=parseInt(e);a<parseInt(n);a++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function Ur(t){var e="precision "+t.precision+" float;\nprecision "+t.precision+" int;";return"highp"===t.precision?e+="\n#define HIGH_PRECISION":"mediump"===t.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===t.precision&&(e+="\n#define LOW_PRECISION"),e}function Hr(t,e,n,i){var r,a,o,s,c,u=t.getContext(),l=n.defines,h=n.vertexShader,d=n.fragmentShader,f=function(t){var e="SHADOWMAP_TYPE_BASIC";return 1===t.shadowMapType?e="SHADOWMAP_TYPE_PCF":2===t.shadowMapType?e="SHADOWMAP_TYPE_PCF_SOFT":3===t.shadowMapType&&(e="SHADOWMAP_TYPE_VSM"),e}(n),p=function(t){var e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case y:case b:e="ENVMAP_TYPE_CUBE";break;case w:case x:e="ENVMAP_TYPE_CUBE_UV"}return e}(n),v=function(t){var e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case b:case x:e="ENVMAP_MODE_REFRACTION"}return e}(n),m=function(t){var e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case 0:e="ENVMAP_BLENDING_MULTIPLY";break;case g:e="ENVMAP_BLENDING_MIX";break;case 2:e="ENVMAP_BLENDING_ADD"}return e}(n),_=t.gammaFactor>0?t.gammaFactor:1,k=n.isWebGL2?"":function(t){return[t.extensionDerivatives||t.envMapCubeUV||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||"physical"===t.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Er).join("\n")}(n),O=function(t){var e=[];for(var n in t){var i=t[n];!1!==i&&e.push("#define "+n+" "+i)}return e.join("\n")}(l),S=u.createProgram(),C=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((r=[O].filter(Er).join("\n")).length>0&&(r+="\n"),(a=[k,O].filter(Er).join("\n")).length>0&&(a+="\n")):(r=[Ur(n),"#define SHADER_NAME "+n.shaderName,O,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+_,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+v:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+f:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Er).join("\n"),a=[k,Ur(n),"#define SHADER_NAME "+n.shaderName,O,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+_,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+p:"",n.envMap?"#define "+v:"",n.envMap?"#define "+m:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+f:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?li.tonemapping_pars_fragment:"",0!==n.toneMapping?Tr("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",li.encodings_pars_fragment,n.map?Mr("mapTexelToLinear",n.mapEncoding):"",n.matcap?Mr("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?Mr("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?Mr("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?Mr("lightMapTexelToLinear",n.lightMapEncoding):"",(o="linearToOutputTexel",s=n.outputEncoding,c=Cr(s),"vec4 "+o+"( vec4 value ) { return LinearTo"+c[0]+c[1]+"; }"),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Er).join("\n")),h=Dr(h=Pr(h=Rr(h),n),n),d=Dr(d=Pr(d=Rr(d),n),n),h=Fr(h),d=Fr(d),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(C="#version 300 es\n",r=["#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+r,a=["#define varying in",n.glslVersion===ht?"":"out highp vec4 pc_fragColor;",n.glslVersion===ht?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+a);var A,M,T=C+a+d,E=Or(u,35633,C+r+h),P=Or(u,35632,T);if(u.attachShader(S,E),u.attachShader(S,P),void 0!==n.index0AttributeName?u.bindAttribLocation(S,0,n.index0AttributeName):!0===n.morphTargets&&u.bindAttribLocation(S,0,"position"),u.linkProgram(S),t.debug.checkShaderErrors){var D=u.getProgramInfoLog(S).trim(),j=u.getShaderInfoLog(E).trim(),R=u.getShaderInfoLog(P).trim(),I=!0,L=!0;if(!1===u.getProgramParameter(S,35714)){I=!1;var N=Ar(u,E,"vertex"),F=Ar(u,P,"fragment");console.error("THREE.WebGLProgram: shader error: ",u.getError(),"35715",u.getProgramParameter(S,35715),"gl.getProgramInfoLog",D,N,F)}else""!==D?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",D):""!==j&&""!==R||(L=!1);L&&(this.diagnostics={runnable:I,programLog:D,vertexShader:{log:j,prefix:r},fragmentShader:{log:R,prefix:a}})}return u.deleteShader(E),u.deleteShader(P),this.getUniforms=function(){return void 0===A&&(A=new kr(u,S)),A},this.getAttributes=function(){return void 0===M&&(M=function(t,e){for(var n={},i=t.getProgramParameter(e,35721),r=0;r<i;r++){var a=t.getActiveAttrib(e,r).name;n[a]=t.getAttribLocation(e,a)}return n}(u,S)),M},this.destroy=function(){i.releaseStatesOfProgram(this),u.deleteProgram(S),this.program=void 0},this.name=n.shaderName,this.id=Sr++,this.cacheKey=e,this.usedTimes=1,this.program=S,this.vertexShader=E,this.fragmentShader=P,this}function Vr(t,e,n,i,r,a){var o=[],s=i.isWebGL2,c=i.logarithmicDepthBuffer,u=i.floatVertexTextures,l=i.maxVertexUniforms,h=i.vertexTextures,d=i.precision,v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},m=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function g(t){var e;return t?t.isTexture?e=t.encoding:t.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),e=t.texture.encoding):e=nt,e}return{getParameters:function(r,o,m,y,b){var _,k,O=y.fog,S=r.isMeshStandardMaterial?y.environment:null,C=e.get(r.envMap||S),A=v[r.type],M=b.isSkinnedMesh?function(t){var e=t.skeleton.bones;if(u)return 1024;var n=l,i=Math.floor((n-20)/4),r=Math.min(i,e.length);return r<e.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+e.length+" bones. This GPU supports "+r+"."),0):r}(b):0;if(null!==r.precision&&(d=i.getMaxPrecision(r.precision))!==r.precision&&console.warn("THREE.WebGLProgram.getParameters:",r.precision,"not supported, using",d,"instead."),A){var T=di[A];_=T.vertexShader,k=T.fragmentShader}else _=r.vertexShader,k=r.fragmentShader;var E=t.getRenderTarget();return{isWebGL2:s,shaderID:A,shaderName:r.type,vertexShader:_,fragmentShader:k,defines:r.defines,isRawShaderMaterial:!0===r.isRawShaderMaterial,glslVersion:r.glslVersion,precision:d,instancing:!0===b.isInstancedMesh,instancingColor:!0===b.isInstancedMesh&&null!==b.instanceColor,supportsVertexTextures:h,outputEncoding:null!==E?g(E.texture):t.outputEncoding,map:!!r.map,mapEncoding:g(r.map),matcap:!!r.matcap,matcapEncoding:g(r.matcap),envMap:!!C,envMapMode:C&&C.mapping,envMapEncoding:g(C),envMapCubeUV:!!C&&(C.mapping===w||C.mapping===x),lightMap:!!r.lightMap,lightMapEncoding:g(r.lightMap),aoMap:!!r.aoMap,emissiveMap:!!r.emissiveMap,emissiveMapEncoding:g(r.emissiveMap),bumpMap:!!r.bumpMap,normalMap:!!r.normalMap,objectSpaceNormalMap:1===r.normalMapType,tangentSpaceNormalMap:r.normalMapType===st,clearcoatMap:!!r.clearcoatMap,clearcoatRoughnessMap:!!r.clearcoatRoughnessMap,clearcoatNormalMap:!!r.clearcoatNormalMap,displacementMap:!!r.displacementMap,roughnessMap:!!r.roughnessMap,metalnessMap:!!r.metalnessMap,specularMap:!!r.specularMap,alphaMap:!!r.alphaMap,gradientMap:!!r.gradientMap,sheen:!!r.sheen,transmissionMap:!!r.transmissionMap,combine:r.combine,vertexTangents:r.normalMap&&r.vertexTangents,vertexColors:r.vertexColors,vertexUvs:!!(r.map||r.bumpMap||r.normalMap||r.specularMap||r.alphaMap||r.emissiveMap||r.roughnessMap||r.metalnessMap||r.clearcoatMap||r.clearcoatRoughnessMap||r.clearcoatNormalMap||r.displacementMap||r.transmissionMap),uvsVertexOnly:!(r.map||r.bumpMap||r.normalMap||r.specularMap||r.alphaMap||r.emissiveMap||r.roughnessMap||r.metalnessMap||r.clearcoatNormalMap||r.transmissionMap||!r.displacementMap),fog:!!O,useFog:r.fog,fogExp2:O&&O.isFogExp2,flatShading:r.flatShading,sizeAttenuation:r.sizeAttenuation,logarithmicDepthBuffer:c,skinning:r.skinning&&M>0,maxBones:M,useVertexTexture:u,morphTargets:r.morphTargets,morphNormals:r.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:o.directional.length,numPointLights:o.point.length,numSpotLights:o.spot.length,numRectAreaLights:o.rectArea.length,numHemiLights:o.hemi.length,numDirLightShadows:o.directionalShadowMap.length,numPointLightShadows:o.pointShadowMap.length,numSpotLightShadows:o.spotShadowMap.length,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:r.dithering,shadowMapEnabled:t.shadowMap.enabled&&m.length>0,shadowMapType:t.shadowMap.type,toneMapping:r.toneMapped?t.toneMapping:0,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:r.premultipliedAlpha,alphaTest:r.alphaTest,doubleSided:r.side===p,flipSided:r.side===f,depthPacking:void 0!==r.depthPacking&&r.depthPacking,index0AttributeName:r.index0AttributeName,extensionDerivatives:r.extensions&&r.extensions.derivatives,extensionFragDepth:r.extensions&&r.extensions.fragDepth,extensionDrawBuffers:r.extensions&&r.extensions.drawBuffers,extensionShaderTextureLOD:r.extensions&&r.extensions.shaderTextureLOD,rendererExtensionFragDepth:s||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:s||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:s||n.has("EXT_shader_texture_lod"),customProgramCacheKey:r.customProgramCacheKey()}},getProgramCacheKey:function(e){var n=[];if(e.shaderID?n.push(e.shaderID):(n.push(e.fragmentShader),n.push(e.vertexShader)),void 0!==e.defines)for(var i in e.defines)n.push(i),n.push(e.defines[i]);if(!1===e.isRawShaderMaterial){for(var r=0;r<m.length;r++)n.push(e[m[r]]);n.push(t.outputEncoding),n.push(t.gammaFactor)}return n.push(e.customProgramCacheKey),n.join()},getUniforms:function(t){var e,n=v[t.type];if(n){var i=di[n];e=Qn.clone(i.uniforms)}else e=t.uniforms;return e},acquireProgram:function(e,n){for(var i,a=0,s=o.length;a<s;a++){var c=o[a];if(c.cacheKey===n){++(i=c).usedTimes;break}}return void 0===i&&(i=new Hr(t,n,e,r),o.push(i)),i},releaseProgram:function(t){if(0==--t.usedTimes){var e=o.indexOf(t);o[e]=o[o.length-1],o.pop(),t.destroy()}},programs:o}}function Gr(){var t=new WeakMap;return{get:function(e){var n=t.get(e);return void 0===n&&(n={},t.set(e,n)),n},remove:function(e){t.delete(e)},update:function(e,n,i){t.get(e)[n]=i},dispose:function(){t=new WeakMap}}}function Wr(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function Xr(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function qr(t){var e=[],n=0,i=[],r=[],a={id:-1};function o(i,r,o,s,c,u){var l=e[n],h=t.get(o);return void 0===l?(l={id:i.id,object:i,geometry:r,material:o,program:h.program||a,groupOrder:s,renderOrder:i.renderOrder,z:c,group:u},e[n]=l):(l.id=i.id,l.object=i,l.geometry=r,l.material=o,l.program=h.program||a,l.groupOrder=s,l.renderOrder=i.renderOrder,l.z=c,l.group=u),n++,l}return{opaque:i,transparent:r,init:function(){n=0,i.length=0,r.length=0},push:function(t,e,n,a,s,c){var u=o(t,e,n,a,s,c);(!0===n.transparent?r:i).push(u)},unshift:function(t,e,n,a,s,c){var u=o(t,e,n,a,s,c);(!0===n.transparent?r:i).unshift(u)},finish:function(){for(var t=n,i=e.length;t<i;t++){var r=e[t];if(null===r.id)break;r.id=null,r.object=null,r.geometry=null,r.material=null,r.program=null,r.group=null}},sort:function(t,e){i.length>1&&i.sort(t||Wr),r.length>1&&r.sort(e||Xr)}}}function Yr(t){var e=new WeakMap;return{get:function(n,i){var r,a=e.get(n);return void 0===a?(r=new qr(t),e.set(n,new WeakMap),e.get(n).set(i,r)):void 0===(r=a.get(i))&&(r=new qr(t),a.set(i,r)),r},dispose:function(){e=new WeakMap}}}function Qr(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var n;switch(e.type){case"DirectionalLight":n={direction:new Mt,color:new Qe};break;case"SpotLight":n={position:new Mt,direction:new Mt,color:new Qe,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Mt,color:new Qe,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Mt,skyColor:new Qe,groundColor:new Qe};break;case"RectAreaLight":n={color:new Qe,position:new Mt,halfWidth:new Mt,halfHeight:new Mt}}return t[e.id]=n,n}}}var Kr=0;function Zr(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function Jr(t,e){for(var n,i=new Qr,r=(n={},{get:function(t){if(void 0!==n[t.id])return n[t.id];var e;switch(t.type){case"DirectionalLight":case"SpotLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new yt};break;case"PointLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new yt,shadowCameraNear:1,shadowCameraFar:1e3}}return n[t.id]=e,e}}),a={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},o=0;o<9;o++)a.probe.push(new Mt);var s=new Mt,c=new ne,u=new ne;return{setup:function(n,o,l){for(var h=0,d=0,f=0,p=0;p<9;p++)a.probe[p].set(0,0,0);var v=0,m=0,g=0,y=0,b=0,_=0,w=0,x=0,k=l.matrixWorldInverse;n.sort(Zr);for(var O=0,S=n.length;O<S;O++){var C=n[O],A=C.color,M=C.intensity,T=C.distance,E=C.shadow&&C.shadow.map?C.shadow.map.texture:null;if(C.isAmbientLight)h+=A.r*M,d+=A.g*M,f+=A.b*M;else if(C.isLightProbe)for(var P=0;P<9;P++)a.probe[P].addScaledVector(C.sh.coefficients[P],M);else if(C.isDirectionalLight){var D=i.get(C);if(D.color.copy(C.color).multiplyScalar(C.intensity),D.direction.setFromMatrixPosition(C.matrixWorld),s.setFromMatrixPosition(C.target.matrixWorld),D.direction.sub(s),D.direction.transformDirection(k),C.castShadow){var j=C.shadow,R=r.get(C);R.shadowBias=j.bias,R.shadowNormalBias=j.normalBias,R.shadowRadius=j.radius,R.shadowMapSize=j.mapSize,a.directionalShadow[v]=R,a.directionalShadowMap[v]=E,a.directionalShadowMatrix[v]=C.shadow.matrix,_++}a.directional[v]=D,v++}else if(C.isSpotLight){var I=i.get(C);if(I.position.setFromMatrixPosition(C.matrixWorld),I.position.applyMatrix4(k),I.color.copy(A).multiplyScalar(M),I.distance=T,I.direction.setFromMatrixPosition(C.matrixWorld),s.setFromMatrixPosition(C.target.matrixWorld),I.direction.sub(s),I.direction.transformDirection(k),I.coneCos=Math.cos(C.angle),I.penumbraCos=Math.cos(C.angle*(1-C.penumbra)),I.decay=C.decay,C.castShadow){var L=C.shadow,N=r.get(C);N.shadowBias=L.bias,N.shadowNormalBias=L.normalBias,N.shadowRadius=L.radius,N.shadowMapSize=L.mapSize,a.spotShadow[g]=N,a.spotShadowMap[g]=E,a.spotShadowMatrix[g]=C.shadow.matrix,x++}a.spot[g]=I,g++}else if(C.isRectAreaLight){var F=i.get(C);F.color.copy(A).multiplyScalar(M),F.position.setFromMatrixPosition(C.matrixWorld),F.position.applyMatrix4(k),u.identity(),c.copy(C.matrixWorld),c.premultiply(k),u.extractRotation(c),F.halfWidth.set(.5*C.width,0,0),F.halfHeight.set(0,.5*C.height,0),F.halfWidth.applyMatrix4(u),F.halfHeight.applyMatrix4(u),a.rectArea[y]=F,y++}else if(C.isPointLight){var B=i.get(C);if(B.position.setFromMatrixPosition(C.matrixWorld),B.position.applyMatrix4(k),B.color.copy(C.color).multiplyScalar(C.intensity),B.distance=C.distance,B.decay=C.decay,C.castShadow){var z=C.shadow,U=r.get(C);U.shadowBias=z.bias,U.shadowNormalBias=z.normalBias,U.shadowRadius=z.radius,U.shadowMapSize=z.mapSize,U.shadowCameraNear=z.camera.near,U.shadowCameraFar=z.camera.far,a.pointShadow[m]=U,a.pointShadowMap[m]=E,a.pointShadowMatrix[m]=C.shadow.matrix,w++}a.point[m]=B,m++}else if(C.isHemisphereLight){var H=i.get(C);H.direction.setFromMatrixPosition(C.matrixWorld),H.direction.transformDirection(k),H.direction.normalize(),H.skyColor.copy(C.color).multiplyScalar(M),H.groundColor.copy(C.groundColor).multiplyScalar(M),a.hemi[b]=H,b++}}y>0&&(e.isWebGL2||!0===t.has("OES_texture_float_linear")?(a.rectAreaLTC1=hi.LTC_FLOAT_1,a.rectAreaLTC2=hi.LTC_FLOAT_2):!0===t.has("OES_texture_half_float_linear")?(a.rectAreaLTC1=hi.LTC_HALF_1,a.rectAreaLTC2=hi.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),a.ambient[0]=h,a.ambient[1]=d,a.ambient[2]=f;var V=a.hash;V.directionalLength===v&&V.pointLength===m&&V.spotLength===g&&V.rectAreaLength===y&&V.hemiLength===b&&V.numDirectionalShadows===_&&V.numPointShadows===w&&V.numSpotShadows===x||(a.directional.length=v,a.spot.length=g,a.rectArea.length=y,a.point.length=m,a.hemi.length=b,a.directionalShadow.length=_,a.directionalShadowMap.length=_,a.pointShadow.length=w,a.pointShadowMap.length=w,a.spotShadow.length=x,a.spotShadowMap.length=x,a.directionalShadowMatrix.length=_,a.pointShadowMatrix.length=w,a.spotShadowMatrix.length=x,V.directionalLength=v,V.pointLength=m,V.spotLength=g,V.rectAreaLength=y,V.hemiLength=b,V.numDirectionalShadows=_,V.numPointShadows=w,V.numSpotShadows=x,a.version=Kr++)},state:a}}function $r(t,e){var n=new Jr(t,e),i=[],r=[];return{init:function(){i.length=0,r.length=0},state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:function(t){n.setup(i,r,t)},pushLight:function(t){i.push(t)},pushShadow:function(t){r.push(t)}}}function ta(t,e){var n=new WeakMap;return{get:function(i,r){var a;return!1===n.has(i)?(a=new $r(t,e),n.set(i,new WeakMap),n.get(i).set(r,a)):!1===n.get(i).has(r)?(a=new $r(t,e),n.get(i).set(r,a)):a=n.get(i).get(r),a},dispose:function(){n=new WeakMap}}}function ea(t){Je.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(t)}function na(t){Je.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new Mt,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(t)}ea.prototype=Object.create(Je.prototype),ea.prototype.constructor=ea,ea.prototype.isMeshDepthMaterial=!0,ea.prototype.copy=function(t){return Je.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},na.prototype=Object.create(Je.prototype),na.prototype.constructor=na,na.prototype.isMeshDistanceMaterial=!0,na.prototype.copy=function(t){return Je.prototype.copy.call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this};function ia(t,e,n){var i=new oi,r=new yt,a=new yt,o=new Ot,s=[],c=[],u={},l={0:f,1:d,2:p},h=new Kn({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new yt},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),v=h.clone();v.defines.HORIZONAL_PASS=1;var m=new Sn;m.setAttribute("position",new nn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var g=new Vn(m,h),y=this;function b(n,i){var r=e.update(g);h.uniforms.shadow_pass.value=n.map.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,t.setRenderTarget(n.mapPass),t.clear(),t.renderBufferDirect(i,null,r,h,g,null),v.uniforms.shadow_pass.value=n.mapPass.texture,v.uniforms.resolution.value=n.mapSize,v.uniforms.radius.value=n.radius,t.setRenderTarget(n.map),t.clear(),t.renderBufferDirect(i,null,r,v,g,null)}function _(t,e,n){var i=t<<0|e<<1|n<<2,r=s[i];return void 0===r&&(r=new ea({depthPacking:ot,morphTargets:t,skinning:e}),s[i]=r),r}function w(t,e,n){var i=t<<0|e<<1|n<<2,r=c[i];return void 0===r&&(r=new na({morphTargets:t,skinning:e}),c[i]=r),r}function x(e,n,i,r,a,o,s){var c=null,h=_,d=e.customDepthMaterial;if(!0===r.isPointLight&&(h=w,d=e.customDistanceMaterial),void 0===d){var f=!1;!0===i.morphTargets&&(f=n.morphAttributes&&n.morphAttributes.position&&n.morphAttributes.position.length>0);var p=!1;!0===e.isSkinnedMesh&&(!0===i.skinning?p=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",e)),c=h(f,p,!0===e.isInstancedMesh)}else c=d;if(t.localClippingEnabled&&!0===i.clipShadows&&0!==i.clippingPlanes.length){var v=c.uuid,m=i.uuid,g=u[v];void 0===g&&(g={},u[v]=g);var y=g[m];void 0===y&&(y=c.clone(),g[m]=y),c=y}return c.visible=i.visible,c.wireframe=i.wireframe,c.side=3===s?null!==i.shadowSide?i.shadowSide:i.side:null!==i.shadowSide?i.shadowSide:l[i.side],c.clipShadows=i.clipShadows,c.clippingPlanes=i.clippingPlanes,c.clipIntersection=i.clipIntersection,c.wireframeLinewidth=i.wireframeLinewidth,c.linewidth=i.linewidth,!0===r.isPointLight&&!0===c.isMeshDistanceMaterial&&(c.referencePosition.setFromMatrixPosition(r.matrixWorld),c.nearDistance=a,c.farDistance=o),c}function k(n,r,a,o,s){if(!1!==n.visible){if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===s)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var c=e.update(n),u=n.material;if(Array.isArray(u))for(var l=c.groups,h=0,d=l.length;h<d;h++){var f=l[h],p=u[f.materialIndex];if(p&&p.visible){var v=x(n,c,p,o,a.near,a.far,s);t.renderBufferDirect(a,null,c,v,n,f)}}else if(u.visible){var m=x(n,c,u,o,a.near,a.far,s);t.renderBufferDirect(a,null,c,m,n,null)}}for(var g=n.children,y=0,b=g.length;y<b;y++)k(g[y],r,a,o,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(e,s,c){if(!1!==y.enabled&&(!1!==y.autoUpdate||!1!==y.needsUpdate)&&0!==e.length){var u=t.getRenderTarget(),l=t.getActiveCubeFace(),h=t.getActiveMipmapLevel(),d=t.state;d.setBlending(0),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(var f=0,p=e.length;f<p;f++){var v=e[f],m=v.shadow;if(void 0!==m){if(!1!==m.autoUpdate||!1!==m.needsUpdate){r.copy(m.mapSize);var g=m.getFrameExtents();if(r.multiply(g),a.copy(m.mapSize),(r.x>n||r.y>n)&&(r.x>n&&(a.x=Math.floor(n/g.x),r.x=a.x*g.x,m.mapSize.x=a.x),r.y>n&&(a.y=Math.floor(n/g.y),r.y=a.y*g.y,m.mapSize.y=a.y)),null===m.map&&!m.isPointLightShadow&&3===this.type){var _={minFilter:T,magFilter:T,format:z};m.map=new St(r.x,r.y,_),m.map.texture.name=v.name+".shadowMap",m.mapPass=new St(r.x,r.y,_),m.camera.updateProjectionMatrix()}if(null===m.map){var w={minFilter:C,magFilter:C,format:z};m.map=new St(r.x,r.y,w),m.map.texture.name=v.name+".shadowMap",m.camera.updateProjectionMatrix()}t.setRenderTarget(m.map),t.clear();for(var x=m.getViewportCount(),O=0;O<x;O++){var S=m.getViewport(O);o.set(a.x*S.x,a.y*S.y,a.x*S.z,a.y*S.w),d.viewport(o),m.updateMatrices(v,O),i=m.getFrustum(),k(s,c,m.camera,v,this.type)}m.isPointLightShadow||3!==this.type||b(m,c),m.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",v,"has no shadow.")}y.needsUpdate=!1,t.setRenderTarget(u,l,h)}}}function ra(t,e,n){var i,r,a=n.isWebGL2;var s=new function(){var e=!1,n=new Ot,i=null,r=new Ot(0,0,0,0);return{setMask:function(n){i===n||e||(t.colorMask(n,n,n,n),i=n)},setLocked:function(t){e=t},setClear:function(e,i,a,o,s){!0===s&&(e*=o,i*=o,a*=o),n.set(e,i,a,o),!1===r.equals(n)&&(t.clearColor(e,i,a,o),r.copy(n))},reset:function(){e=!1,i=null,r.set(-1,0,0,0)}}},c=new function(){var e=!1,n=null,i=null,r=null;return{setTest:function(t){t?z(2929):U(2929)},setMask:function(i){n===i||e||(t.depthMask(i),n=i)},setFunc:function(e){if(i!==e){if(e)switch(e){case 0:t.depthFunc(512);break;case 1:t.depthFunc(519);break;case 2:t.depthFunc(513);break;case 3:t.depthFunc(515);break;case 4:t.depthFunc(514);break;case 5:t.depthFunc(518);break;case 6:t.depthFunc(516);break;case 7:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);i=e}},setLocked:function(t){e=t},setClear:function(e){r!==e&&(t.clearDepth(e),r=e)},reset:function(){e=!1,n=null,i=null,r=null}}},u=new function(){var e=!1,n=null,i=null,r=null,a=null,o=null,s=null,c=null,u=null;return{setTest:function(t){e||(t?z(2960):U(2960))},setMask:function(i){n===i||e||(t.stencilMask(i),n=i)},setFunc:function(e,n,o){i===e&&r===n&&a===o||(t.stencilFunc(e,n,o),i=e,r=n,a=o)},setOp:function(e,n,i){o===e&&s===n&&c===i||(t.stencilOp(e,n,i),o=e,s=n,c=i)},setLocked:function(t){e=t},setClear:function(e){u!==e&&(t.clearStencil(e),u=e)},reset:function(){e=!1,n=null,i=null,r=null,a=null,o=null,s=null,c=null,u=null}}},l={},h=null,d=null,g=null,y=null,b=null,_=null,w=null,x=null,k=null,O=!1,S=null,C=null,A=null,M=null,T=null,E=t.getParameter(35661),P=!1,D=0,j=t.getParameter(7938);-1!==j.indexOf("WebGL")?(D=parseFloat(/^WebGL\ ([0-9])/.exec(j)[1]),P=D>=1):-1!==j.indexOf("OpenGL ES")&&(D=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(j)[1]),P=D>=2);var R=null,I={},L=new Ot,N=new Ot;function F(e,n,i){var r=new Uint8Array(4),a=t.createTexture();t.bindTexture(e,a),t.texParameteri(e,10241,9728),t.texParameteri(e,10240,9728);for(var o=0;o<i;o++)t.texImage2D(n+o,0,6408,1,1,0,6408,5121,r);return a}var B={};function z(e){!0!==l[e]&&(t.enable(e),l[e]=!0)}function U(e){!1!==l[e]&&(t.disable(e),l[e]=!1)}B[3553]=F(3553,3553,1),B[34067]=F(34067,34069,6),s.setClear(0,0,0,1),c.setClear(1),u.setClear(0),z(2929),c.setFunc(3),X(!1),q(1),z(2884),W(0);var H=(i={},Object(o.a)(i,m,32774),Object(o.a)(i,101,32778),Object(o.a)(i,102,32779),i);if(a)H[103]=32775,H[104]=32776;else{var V=e.get("EXT_blend_minmax");null!==V&&(H[103]=V.MIN_EXT,H[104]=V.MAX_EXT)}var G=(r={},Object(o.a)(r,200,0),Object(o.a)(r,201,1),Object(o.a)(r,202,768),Object(o.a)(r,204,770),Object(o.a)(r,210,776),Object(o.a)(r,208,774),Object(o.a)(r,206,772),Object(o.a)(r,203,769),Object(o.a)(r,205,771),Object(o.a)(r,209,775),Object(o.a)(r,207,773),r);function W(e,n,i,r,a,o,s,c){if(0!==e){if(d||(z(3042),d=!0),5===e)a=a||n,o=o||i,s=s||r,n===y&&a===w||(t.blendEquationSeparate(H[n],H[a]),y=n,w=a),i===b&&r===_&&o===x&&s===k||(t.blendFuncSeparate(G[i],G[r],G[o],G[s]),b=i,_=r,x=o,k=s),g=e,O=null;else if(e!==g||c!==O){if(y===m&&w===m||(t.blendEquation(32774),y=m,w=m),c)switch(e){case 1:t.blendFuncSeparate(1,771,1,771);break;case v:t.blendFunc(1,1);break;case 3:t.blendFuncSeparate(0,0,769,771);break;case 4:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}else switch(e){case 1:t.blendFuncSeparate(770,771,1,771);break;case v:t.blendFunc(770,1);break;case 3:t.blendFunc(0,769);break;case 4:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}b=null,_=null,x=null,k=null,g=e,O=c}}else d&&(U(3042),d=!1)}function X(e){S!==e&&(e?t.frontFace(2304):t.frontFace(2305),S=e)}function q(e){0!==e?(z(2884),e!==C&&(1===e?t.cullFace(1029):2===e?t.cullFace(1028):t.cullFace(1032))):U(2884),C=e}function Y(e,n,i){e?(z(32823),M===n&&T===i||(t.polygonOffset(n,i),M=n,T=i)):U(32823)}function Q(e){void 0===e&&(e=33984+E-1),R!==e&&(t.activeTexture(e),R=e)}return{buffers:{color:s,depth:c,stencil:u},enable:z,disable:U,useProgram:function(e){return h!==e&&(t.useProgram(e),h=e,!0)},setBlending:W,setMaterial:function(t,e){t.side===p?U(2884):z(2884);var n=t.side===f;e&&(n=!n),X(n),1===t.blending&&!1===t.transparent?W(0):W(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),c.setFunc(t.depthFunc),c.setTest(t.depthTest),c.setMask(t.depthWrite),s.setMask(t.colorWrite);var i=t.stencilWrite;u.setTest(i),i&&(u.setMask(t.stencilWriteMask),u.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),u.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),Y(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},setFlipSided:X,setCullFace:q,setLineWidth:function(e){e!==A&&(P&&t.lineWidth(e),A=e)},setPolygonOffset:Y,setScissorTest:function(t){t?z(3089):U(3089)},activeTexture:Q,bindTexture:function(e,n){null===R&&Q();var i=I[R];void 0===i&&(i={type:void 0,texture:void 0},I[R]=i),i.type===e&&i.texture===n||(t.bindTexture(e,n||B[e]),i.type=e,i.texture=n)},unbindTexture:function(){var e=I[R];void 0!==e&&void 0!==e.type&&(t.bindTexture(e.type,null),e.type=void 0,e.texture=void 0)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(e){!1===L.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),L.copy(e))},viewport:function(e){!1===N.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),N.copy(e))},reset:function(){l={},R=null,I={},h=null,d=null,g=null,y=null,b=null,_=null,w=null,x=null,k=null,O=!1,S=null,C=null,A=null,M=null,T=null,s.reset(),c.reset(),u.reset()}}}function aa(t,e,n,i,r,a,s){var c,u,l,h=r.isWebGL2,d=r.maxTextures,f=r.maxCubemapSize,p=r.maxTextureSize,v=r.maxSamples,m=new WeakMap,g=!1;try{g="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(at){}function y(t,e){return g?new OffscreenCanvas(t,e):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function b(t,e,n,i){var r=1;if((t.width>i||t.height>i)&&(r=i/Math.max(t.width,t.height)),r<1||!0===e){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){var a=e?gt.floorPowerOfTwo:Math.floor,o=a(r*t.width),s=a(r*t.height);void 0===l&&(l=y(o,s));var c=n?y(o,s):l;return c.width=o,c.height=s,c.getContext("2d").drawImage(t,0,0,o,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+t.width+"x"+t.height+") to ("+o+"x"+s+")."),c}return"data"in t&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+t.width+"x"+t.height+")."),t}return t}function _(t){return gt.isPowerOfTwo(t.width)&&gt.isPowerOfTwo(t.height)}function w(t,e){return t.generateMipmaps&&e&&t.minFilter!==C&&t.minFilter!==T}function x(e,n,r,a){t.generateMipmap(e),i.get(n).__maxMipLevel=Math.log(Math.max(r,a))*Math.LOG2E}function D(n,i,r){if(!1===h)return i;if(null!==n){if(void 0!==t[n])return t[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var a=i;return 6403===i&&(5126===r&&(a=33326),5131===r&&(a=33325),5121===r&&(a=33321)),6407===i&&(5126===r&&(a=34837),5131===r&&(a=34843),5121===r&&(a=32849)),6408===i&&(5126===r&&(a=34836),5131===r&&(a=34842),5121===r&&(a=32856)),33325!==a&&33326!==a&&34842!==a&&34836!==a||e.get("EXT_color_buffer_float"),a}function j(t){return t===C||t===A||t===M?9728:9729}function U(e){var n=e.target;n.removeEventListener("dispose",U),function(e){var n=i.get(e);if(void 0===n.__webglInit)return;t.deleteTexture(n.__webglTexture),i.remove(e)}(n),n.isVideoTexture&&m.delete(n),s.memory.textures--}function G(e){var n=e.target;n.removeEventListener("dispose",G),function(e){var n=i.get(e),r=i.get(e.texture);if(!e)return;void 0!==r.__webglTexture&&t.deleteTexture(r.__webglTexture);e.depthTexture&&e.depthTexture.dispose();if(e.isWebGLCubeRenderTarget)for(var a=0;a<6;a++)t.deleteFramebuffer(n.__webglFramebuffer[a]),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer[a]);else t.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&t.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer&&t.deleteRenderbuffer(n.__webglColorRenderbuffer),n.__webglDepthRenderbuffer&&t.deleteRenderbuffer(n.__webglDepthRenderbuffer);i.remove(e.texture),i.remove(e)}(n),s.memory.textures--}var W=0;function X(t,e){var r=i.get(t);if(t.isVideoTexture&&function(t){var e=s.render.frame;m.get(t)!==e&&(m.set(t,e),t.update())}(t),t.version>0&&r.__version!==t.version){var a=t.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==a.complete)return void J(r,t,e);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+e),n.bindTexture(3553,r.__webglTexture)}function q(e,r){var o=i.get(e);e.version>0&&o.__version!==e.version?function(e,i,r){if(6!==i.image.length)return;Z(e,i),n.activeTexture(33984+r),n.bindTexture(34067,e.__webglTexture),t.pixelStorei(37440,i.flipY);for(var o=i&&(i.isCompressedTexture||i.image[0].isCompressedTexture),s=i.image[0]&&i.image[0].isDataTexture,c=[],u=0;u<6;u++)c[u]=o||s?s?i.image[u].image:i.image[u]:b(i.image[u],!1,!0,f);var l,d=c[0],p=_(d)||h,v=a.convert(i.format),m=a.convert(i.type),g=D(i.internalFormat,v,m);if(K(34067,i,p),o){for(var y=0;y<6;y++){l=c[y].mipmaps;for(var k=0;k<l.length;k++){var O=l[k];i.format!==z&&i.format!==B?null!==v?n.compressedTexImage2D(34069+y,k,g,O.width,O.height,0,O.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+y,k,g,O.width,O.height,0,v,m,O.data)}}e.__maxMipLevel=l.length-1}else{l=i.mipmaps;for(var S=0;S<6;S++)if(s){n.texImage2D(34069+S,0,g,c[S].width,c[S].height,0,v,m,c[S].data);for(var C=0;C<l.length;C++){var A=l[C].image[S].image;n.texImage2D(34069+S,C+1,g,A.width,A.height,0,v,m,A.data)}}else{n.texImage2D(34069+S,0,g,v,m,c[S]);for(var M=0;M<l.length;M++){var T=l[M];n.texImage2D(34069+S,M+1,g,v,m,T.image[S])}}e.__maxMipLevel=l.length}w(i,p)&&x(34067,i,d.width,d.height);e.__version=i.version,i.onUpdate&&i.onUpdate(i)}(o,e,r):(n.activeTexture(33984+r),n.bindTexture(34067,o.__webglTexture))}var Y=(c={},Object(o.a)(c,k,10497),Object(o.a)(c,O,33071),Object(o.a)(c,S,33648),c),Q=(u={},Object(o.a)(u,C,9728),Object(o.a)(u,A,9984),Object(o.a)(u,M,9986),Object(o.a)(u,T,9729),Object(o.a)(u,E,9985),Object(o.a)(u,P,9987),u);function K(n,a,o){o?(t.texParameteri(n,10242,Y[a.wrapS]),t.texParameteri(n,10243,Y[a.wrapT]),32879!==n&&35866!==n||t.texParameteri(n,32882,Y[a.wrapR]),t.texParameteri(n,10240,Q[a.magFilter]),t.texParameteri(n,10241,Q[a.minFilter])):(t.texParameteri(n,10242,33071),t.texParameteri(n,10243,33071),32879!==n&&35866!==n||t.texParameteri(n,32882,33071),a.wrapS===O&&a.wrapT===O||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(n,10240,j(a.magFilter)),t.texParameteri(n,10241,j(a.minFilter)),a.minFilter!==C&&a.minFilter!==T&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));var s=e.get("EXT_texture_filter_anisotropic");if(s){if(a.type===L&&null===e.get("OES_texture_float_linear"))return;if(a.type===N&&null===(h||e.get("OES_texture_half_float_linear")))return;(a.anisotropy>1||i.get(a).__currentAnisotropy)&&(t.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,r.getMaxAnisotropy())),i.get(a).__currentAnisotropy=a.anisotropy)}}function Z(e,n){void 0===e.__webglInit&&(e.__webglInit=!0,n.addEventListener("dispose",U),e.__webglTexture=t.createTexture(),s.memory.textures++)}function J(e,i,r){var o=3553;i.isDataTexture2DArray&&(o=35866),i.isDataTexture3D&&(o=32879),Z(e,i),n.activeTexture(33984+r),n.bindTexture(o,e.__webglTexture),t.pixelStorei(37440,i.flipY),t.pixelStorei(37441,i.premultiplyAlpha),t.pixelStorei(3317,i.unpackAlignment);var s,c=function(t){return!h&&(t.wrapS!==O||t.wrapT!==O||t.minFilter!==C&&t.minFilter!==T)}(i)&&!1===_(i.image),u=b(i.image,c,!1,p),l=_(u)||h,d=a.convert(i.format),f=a.convert(i.type),v=D(i.internalFormat,d,f);K(o,i,l);var m=i.mipmaps;if(i.isDepthTexture)v=6402,h?v=i.type===L?36012:i.type===I?33190:i.type===F?35056:33189:i.type===L&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),i.format===H&&6402===v&&i.type!==R&&i.type!==I&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=R,f=a.convert(i.type)),i.format===V&&6402===v&&(v=34041,i.type!==F&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=F,f=a.convert(i.type))),n.texImage2D(3553,0,v,u.width,u.height,0,d,f,null);else if(i.isDataTexture)if(m.length>0&&l){for(var g=0,y=m.length;g<y;g++)s=m[g],n.texImage2D(3553,g,v,s.width,s.height,0,d,f,s.data);i.generateMipmaps=!1,e.__maxMipLevel=m.length-1}else n.texImage2D(3553,0,v,u.width,u.height,0,d,f,u.data),e.__maxMipLevel=0;else if(i.isCompressedTexture){for(var k=0,S=m.length;k<S;k++)s=m[k],i.format!==z&&i.format!==B?null!==d?n.compressedTexImage2D(3553,k,v,s.width,s.height,0,s.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,k,v,s.width,s.height,0,d,f,s.data);e.__maxMipLevel=m.length-1}else if(i.isDataTexture2DArray)n.texImage3D(35866,0,v,u.width,u.height,u.depth,0,d,f,u.data),e.__maxMipLevel=0;else if(i.isDataTexture3D)n.texImage3D(32879,0,v,u.width,u.height,u.depth,0,d,f,u.data),e.__maxMipLevel=0;else if(m.length>0&&l){for(var A=0,M=m.length;A<M;A++)s=m[A],n.texImage2D(3553,A,v,d,f,s);i.generateMipmaps=!1,e.__maxMipLevel=m.length-1}else n.texImage2D(3553,0,v,d,f,u),e.__maxMipLevel=0;w(i,l)&&x(o,i,u.width,u.height),e.__version=i.version,i.onUpdate&&i.onUpdate(i)}function $(e,r,o,s){var c=a.convert(r.texture.format),u=a.convert(r.texture.type),l=D(r.texture.internalFormat,c,u);n.texImage2D(s,0,l,r.width,r.height,0,c,u,null),t.bindFramebuffer(36160,e),t.framebufferTexture2D(36160,o,s,i.get(r.texture).__webglTexture,0),t.bindFramebuffer(36160,null)}function tt(e,n,i){if(t.bindRenderbuffer(36161,e),n.depthBuffer&&!n.stencilBuffer){var r=33189;if(i){var o=n.depthTexture;o&&o.isDepthTexture&&(o.type===L?r=36012:o.type===I&&(r=33190));var s=nt(n);t.renderbufferStorageMultisample(36161,s,r,n.width,n.height)}else t.renderbufferStorage(36161,r,n.width,n.height);t.framebufferRenderbuffer(36160,36096,36161,e)}else if(n.depthBuffer&&n.stencilBuffer){if(i){var c=nt(n);t.renderbufferStorageMultisample(36161,c,35056,n.width,n.height)}else t.renderbufferStorage(36161,34041,n.width,n.height);t.framebufferRenderbuffer(36160,33306,36161,e)}else{var u=a.convert(n.texture.format),l=a.convert(n.texture.type),h=D(n.texture.internalFormat,u,l);if(i){var d=nt(n);t.renderbufferStorageMultisample(36161,d,h,n.width,n.height)}else t.renderbufferStorage(36161,h,n.width,n.height)}t.bindRenderbuffer(36161,null)}function et(e){var n=i.get(e),r=!0===e.isWebGLCubeRenderTarget;if(e.depthTexture){if(r)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,n){if(n&&n.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,e),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");i.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),X(n.depthTexture,0);var r=i.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===H)t.framebufferTexture2D(36160,36096,3553,r,0);else{if(n.depthTexture.format!==V)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(36160,33306,3553,r,0)}}(n.__webglFramebuffer,e)}else if(r){n.__webglDepthbuffer=[];for(var a=0;a<6;a++)t.bindFramebuffer(36160,n.__webglFramebuffer[a]),n.__webglDepthbuffer[a]=t.createRenderbuffer(),tt(n.__webglDepthbuffer[a],e,!1)}else t.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=t.createRenderbuffer(),tt(n.__webglDepthbuffer,e,!1);t.bindFramebuffer(36160,null)}function nt(t){return h&&t.isWebGLMultisampleRenderTarget?Math.min(v,t.samples):0}var it=!1,rt=!1;this.allocateTextureUnit=function(){var t=W;return t>=d&&console.warn("THREE.WebGLTextures: Trying to use "+t+" texture units while this GPU supports only "+d),W+=1,t},this.resetTextureUnits=function(){W=0},this.setTexture2D=X,this.setTexture2DArray=function(t,e){var r=i.get(t);t.version>0&&r.__version!==t.version?J(r,t,e):(n.activeTexture(33984+e),n.bindTexture(35866,r.__webglTexture))},this.setTexture3D=function(t,e){var r=i.get(t);t.version>0&&r.__version!==t.version?J(r,t,e):(n.activeTexture(33984+e),n.bindTexture(32879,r.__webglTexture))},this.setTextureCube=q,this.setupRenderTarget=function(e){var r=i.get(e),o=i.get(e.texture);e.addEventListener("dispose",G),o.__webglTexture=t.createTexture(),s.memory.textures++;var c=!0===e.isWebGLCubeRenderTarget,u=!0===e.isWebGLMultisampleRenderTarget,l=_(e)||h;if(!h||e.texture.format!==B||e.texture.type!==L&&e.texture.type!==N||(e.texture.format=z,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),c){r.__webglFramebuffer=[];for(var d=0;d<6;d++)r.__webglFramebuffer[d]=t.createFramebuffer()}else if(r.__webglFramebuffer=t.createFramebuffer(),u)if(h){r.__webglMultisampledFramebuffer=t.createFramebuffer(),r.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,r.__webglColorRenderbuffer);var f=a.convert(e.texture.format),p=a.convert(e.texture.type),v=D(e.texture.internalFormat,f,p),m=nt(e);t.renderbufferStorageMultisample(36161,m,v,e.width,e.height),t.bindFramebuffer(36160,r.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,r.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),e.depthBuffer&&(r.__webglDepthRenderbuffer=t.createRenderbuffer(),tt(r.__webglDepthRenderbuffer,e,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(c){n.bindTexture(34067,o.__webglTexture),K(34067,e.texture,l);for(var g=0;g<6;g++)$(r.__webglFramebuffer[g],e,36064,34069+g);w(e.texture,l)&&x(34067,e.texture,e.width,e.height),n.bindTexture(34067,null)}else n.bindTexture(3553,o.__webglTexture),K(3553,e.texture,l),$(r.__webglFramebuffer,e,36064,3553),w(e.texture,l)&&x(3553,e.texture,e.width,e.height),n.bindTexture(3553,null);e.depthBuffer&&et(e)},this.updateRenderTargetMipmap=function(t){var e=t.texture;if(w(e,_(t)||h)){var r=t.isWebGLCubeRenderTarget?34067:3553,a=i.get(e).__webglTexture;n.bindTexture(r,a),x(r,e,t.width,t.height),n.bindTexture(r,null)}},this.updateMultisampleRenderTarget=function(e){if(e.isWebGLMultisampleRenderTarget)if(h){var n=i.get(e);t.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,n.__webglFramebuffer);var r=e.width,a=e.height,o=16384;e.depthBuffer&&(o|=256),e.stencilBuffer&&(o|=1024),t.blitFramebuffer(0,0,r,a,0,0,r,a,o,9728),t.bindFramebuffer(36160,n.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(t,e){t&&t.isWebGLRenderTarget&&(!1===it&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),it=!0),t=t.texture),X(t,e)},this.safeSetTextureCube=function(t,e){t&&t.isWebGLCubeRenderTarget&&(!1===rt&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),rt=!0),t=t.texture),q(t,e)}}function oa(t,e,n){var i=n.isWebGL2;return{convert:function(t){var n;if(t===j)return 5121;if(1017===t)return 32819;if(1018===t)return 32820;if(1019===t)return 33635;if(1010===t)return 5120;if(1011===t)return 5122;if(t===R)return 5123;if(1013===t)return 5124;if(t===I)return 5125;if(t===L)return 5126;if(t===N)return i?5131:null!==(n=e.get("OES_texture_half_float"))?n.HALF_FLOAT_OES:null;if(1021===t)return 6406;if(t===B)return 6407;if(t===z)return 6408;if(t===U)return 6409;if(1025===t)return 6410;if(t===H)return 6402;if(t===V)return 34041;if(t===G)return 6403;if(1029===t)return 36244;if(t===W)return 33319;if(1031===t)return 33320;if(1032===t)return 36248;if(1033===t)return 36249;if(33776===t||33777===t||33778===t||33779===t){if(null===(n=e.get("WEBGL_compressed_texture_s3tc")))return null;if(33776===t)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===t)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===t)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===t)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===t||35841===t||35842===t||35843===t){if(null===(n=e.get("WEBGL_compressed_texture_pvrtc")))return null;if(35840===t)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===t)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===t)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===t)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===t)return null!==(n=e.get("WEBGL_compressed_texture_etc1"))?n.COMPRESSED_RGB_ETC1_WEBGL:null;if((37492===t||37496===t)&&null!==(n=e.get("WEBGL_compressed_texture_etc"))){if(37492===t)return n.COMPRESSED_RGB8_ETC2;if(37496===t)return n.COMPRESSED_RGBA8_ETC2_EAC}return 37808===t||37809===t||37810===t||37811===t||37812===t||37813===t||37814===t||37815===t||37816===t||37817===t||37818===t||37819===t||37820===t||37821===t||37840===t||37841===t||37842===t||37843===t||37844===t||37845===t||37846===t||37847===t||37848===t||37849===t||37850===t||37851===t||37852===t||37853===t?null!==(n=e.get("WEBGL_compressed_texture_astc"))?t:null:36492===t?null!==(n=e.get("EXT_texture_compression_bptc"))?t:null:t===F?i?34042:null!==(n=e.get("WEBGL_depth_texture"))?n.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}function sa(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Jn.call(this),this.cameras=t}function ca(){Ae.call(this),this.type="Group"}function ua(){this._targetRay=null,this._grip=null,this._hand=null}function la(t,e){var n=this,i=null,r=1,a=null,o="local-floor",s=null,c=[],u=new Map,l=new Jn;l.layers.enable(1),l.viewport=new Ot;var h=new Jn;h.layers.enable(2),h.viewport=new Ot;var d=[l,h],f=new sa;f.layers.enable(1),f.layers.enable(2);var p=null,v=null;function m(t){var e=u.get(t.inputSource);e&&e.dispatchEvent({type:t.type,data:t.inputSource})}function g(){u.forEach((function(t,e){t.disconnect(e)})),u.clear(),t.setFramebuffer(null),t.setRenderTarget(t.getRenderTarget()),O.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function y(t){a=t,O.setContext(i),O.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}function b(t){for(var e=i.inputSources,n=0;n<c.length;n++)u.set(e[n],c[n]);for(var r=0;r<t.removed.length;r++){var a=t.removed[r],o=u.get(a);o&&(o.dispatchEvent({type:"disconnected",data:a}),u.delete(a))}for(var s=0;s<t.added.length;s++){var l=t.added[s],h=u.get(l);h&&h.dispatchEvent({type:"connected",data:l})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(t){var e=c[t];return void 0===e&&(e=new ua,c[t]=e),e.getTargetRaySpace()},this.getControllerGrip=function(t){var e=c[t];return void 0===e&&(e=new ua,c[t]=e),e.getGripSpace()},this.getHand=function(t){var e=c[t];return void 0===e&&(e=new ua,c[t]=e),e.getHandSpace()},this.setFramebufferScaleFactor=function(t){r=t,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(t){o=t,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return a},this.getSession=function(){return i},this.setSession=function(t){if(null!==(i=t)){i.addEventListener("select",m),i.addEventListener("selectstart",m),i.addEventListener("selectend",m),i.addEventListener("squeeze",m),i.addEventListener("squeezestart",m),i.addEventListener("squeezeend",m),i.addEventListener("end",g);var n=e.getContextAttributes();!0!==n.xrCompatible&&e.makeXRCompatible();var a={antialias:n.antialias,alpha:n.alpha,depth:n.depth,stencil:n.stencil,framebufferScaleFactor:r},s=new XRWebGLLayer(i,e,a);i.updateRenderState({baseLayer:s}),i.requestReferenceSpace(o).then(y),i.addEventListener("inputsourceschange",b)}};var _=new Mt,w=new Mt;function x(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.copy(t.matrixWorld).invert()}this.getCamera=function(t){f.near=h.near=l.near=t.near,f.far=h.far=l.far=t.far,p===f.near&&v===f.far||(i.updateRenderState({depthNear:f.near,depthFar:f.far}),p=f.near,v=f.far);var e=t.parent,n=f.cameras;x(f,e);for(var r=0;r<n.length;r++)x(n[r],e);t.matrixWorld.copy(f.matrixWorld);for(var a=t.children,o=0,s=a.length;o<s;o++)a[o].updateMatrixWorld(!0);return 2===n.length?function(t,e,n){_.setFromMatrixPosition(e.matrixWorld),w.setFromMatrixPosition(n.matrixWorld);var i=_.distanceTo(w),r=e.projectionMatrix.elements,a=n.projectionMatrix.elements,o=r[14]/(r[10]-1),s=r[14]/(r[10]+1),c=(r[9]+1)/r[5],u=(r[9]-1)/r[5],l=(r[8]-1)/r[0],h=(a[8]+1)/a[0],d=o*l,f=o*h,p=i/(-l+h),v=p*-l;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(v),t.translateZ(p),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.copy(t.matrixWorld).invert();var m=o+p,g=s+p,y=d-v,b=f+(i-v),x=c*s/g*m,k=u*s/g*m;t.projectionMatrix.makePerspective(y,b,x,k,m,g)}(f,l,h):f.projectionMatrix.copy(l.projectionMatrix),f};var k=null;var O=new si;O.setAnimationLoop((function(e,n){if(null!==(s=n.getViewerPose(a))){var r=s.views,o=i.renderState.baseLayer;t.setFramebuffer(o.framebuffer);var u=!1;r.length!==f.cameras.length&&(f.cameras.length=0,u=!0);for(var l=0;l<r.length;l++){var h=r[l],p=o.getViewport(h),v=d[l];v.matrix.fromArray(h.transform.matrix),v.projectionMatrix.fromArray(h.projectionMatrix),v.viewport.set(p.x,p.y,p.width,p.height),0===l&&f.matrix.copy(v.matrix),!0===u&&f.cameras.push(v)}}for(var m=i.inputSources,g=0;g<c.length;g++){var y=c[g],b=m[g];y.update(b,n,a)}k&&k(e,n)})),this.setAnimationLoop=function(t){k=t},this.dispose=function(){}}function ha(t){function e(e,n){e.opacity.value=n.opacity,n.color&&e.diffuse.value.copy(n.color),n.emissive&&e.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&&(e.map.value=n.map),n.alphaMap&&(e.alphaMap.value=n.alphaMap),n.specularMap&&(e.specularMap.value=n.specularMap);var i,r,a=t.get(n).envMap;if(a){e.envMap.value=a,e.flipEnvMap.value=a.isCubeTexture&&a._needsFlipEnvMap?-1:1,e.reflectivity.value=n.reflectivity,e.refractionRatio.value=n.refractionRatio;var o=t.get(a).__maxMipLevel;void 0!==o&&(e.maxMipLevel.value=o)}n.lightMap&&(e.lightMap.value=n.lightMap,e.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&&(e.aoMap.value=n.aoMap,e.aoMapIntensity.value=n.aoMapIntensity),n.map?i=n.map:n.specularMap?i=n.specularMap:n.displacementMap?i=n.displacementMap:n.normalMap?i=n.normalMap:n.bumpMap?i=n.bumpMap:n.roughnessMap?i=n.roughnessMap:n.metalnessMap?i=n.metalnessMap:n.alphaMap?i=n.alphaMap:n.emissiveMap?i=n.emissiveMap:n.clearcoatMap?i=n.clearcoatMap:n.clearcoatNormalMap?i=n.clearcoatNormalMap:n.clearcoatRoughnessMap&&(i=n.clearcoatRoughnessMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix)),n.aoMap?r=n.aoMap:n.lightMap&&(r=n.lightMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),e.uv2Transform.value.copy(r.matrix))}function n(e,n){e.roughness.value=n.roughness,e.metalness.value=n.metalness,n.roughnessMap&&(e.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(e.metalnessMap.value=n.metalnessMap),n.emissiveMap&&(e.emissiveMap.value=n.emissiveMap),n.bumpMap&&(e.bumpMap.value=n.bumpMap,e.bumpScale.value=n.bumpScale,n.side===f&&(e.bumpScale.value*=-1)),n.normalMap&&(e.normalMap.value=n.normalMap,e.normalScale.value.copy(n.normalScale),n.side===f&&e.normalScale.value.negate()),n.displacementMap&&(e.displacementMap.value=n.displacementMap,e.displacementScale.value=n.displacementScale,e.displacementBias.value=n.displacementBias),t.get(n).envMap&&(e.envMapIntensity.value=n.envMapIntensity)}return{refreshFogUniforms:function(t,e){t.fogColor.value.copy(e.color),e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)},refreshMaterialUniforms:function(t,i,r,a){i.isMeshBasicMaterial?e(t,i):i.isMeshLambertMaterial?(e(t,i),function(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}(t,i)):i.isMeshToonMaterial?(e(t,i),function(t,e){e.gradientMap&&(t.gradientMap.value=e.gradientMap);e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap);e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===f&&(t.bumpScale.value*=-1));e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===f&&t.normalScale.value.negate());e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshPhongMaterial?(e(t,i),function(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap);e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===f&&(t.bumpScale.value*=-1));e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===f&&t.normalScale.value.negate());e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshStandardMaterial?(e(t,i),i.isMeshPhysicalMaterial?function(t,e){n(t,e),t.reflectivity.value=e.reflectivity,t.clearcoat.value=e.clearcoat,t.clearcoatRoughness.value=e.clearcoatRoughness,e.sheen&&t.sheen.value.copy(e.sheen);e.clearcoatMap&&(t.clearcoatMap.value=e.clearcoatMap);e.clearcoatRoughnessMap&&(t.clearcoatRoughnessMap.value=e.clearcoatRoughnessMap);e.clearcoatNormalMap&&(t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),t.clearcoatNormalMap.value=e.clearcoatNormalMap,e.side===f&&t.clearcoatNormalScale.value.negate());t.transmission.value=e.transmission,e.transmissionMap&&(t.transmissionMap.value=e.transmissionMap)}(t,i):n(t,i)):i.isMeshMatcapMaterial?(e(t,i),function(t,e){e.matcap&&(t.matcap.value=e.matcap);e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===f&&(t.bumpScale.value*=-1));e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===f&&t.normalScale.value.negate());e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshDepthMaterial?(e(t,i),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshDistanceMaterial?(e(t,i),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias);t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(t,i)):i.isMeshNormalMaterial?(e(t,i),function(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===f&&(t.bumpScale.value*=-1));e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===f&&t.normalScale.value.negate());e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isLineBasicMaterial?(function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity}(t,i),i.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(t,i)):i.isPointsMaterial?function(t,e,n,i){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*n,t.scale.value=.5*i,e.map&&(t.map.value=e.map);e.alphaMap&&(t.alphaMap.value=e.alphaMap);var r;e.map?r=e.map:e.alphaMap&&(r=e.alphaMap);void 0!==r&&(!0===r.matrixAutoUpdate&&r.updateMatrix(),t.uvTransform.value.copy(r.matrix))}(t,i,r,a):i.isSpriteMaterial?function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,e.map&&(t.map.value=e.map);e.alphaMap&&(t.alphaMap.value=e.alphaMap);var n;e.map?n=e.map:e.alphaMap&&(n=e.alphaMap);void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),t.uvTransform.value.copy(n.matrix))}(t,i):i.isShadowMaterial?(t.color.value.copy(i.color),t.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function da(t){var e,n=void 0!==(t=t||{}).canvas?t.canvas:((e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")).style.display="block",e),i=void 0!==t.context?t.context:null,r=void 0!==t.alpha&&t.alpha,a=void 0===t.depth||t.depth,o=void 0===t.stencil||t.stencil,s=void 0!==t.antialias&&t.antialias,c=void 0===t.premultipliedAlpha||t.premultipliedAlpha,u=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,l=void 0!==t.powerPreference?t.powerPreference:"default",h=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat,d=null,f=null;this.domElement=n,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=nt,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var p=this,v=!1,m=null,g=0,y=0,b=null,_=null,w=-1,x=null,k=null,O=new Ot,S=new Ot,C=null,A=n.width,M=n.height,T=1,E=null,P=null,D=new Ot(0,0,A,M),R=new Ot(0,0,A,M),I=!1,F=new oi,B=!1,U=!1,H=new ne,V=new Mt,G={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function W(){return null===b?T:1}var X,q,Y,Q,K,Z,J,$,tt,et,it,rt,at,ot,st,ct,ut,lt,ht,dt,ft,pt=i;function vt(t,e){for(var i=0;i<t.length;i++){var r=t[i],a=n.getContext(r,e);if(null!==a)return a}return null}try{var mt={alpha:r,depth:a,stencil:o,antialias:s,premultipliedAlpha:c,preserveDrawingBuffer:u,powerPreference:l,failIfMajorPerformanceCaveat:h};if(n.addEventListener("webglcontextlost",kt,!1),n.addEventListener("webglcontextrestored",St,!1),null===pt){var bt=["webgl2","webgl","experimental-webgl"];if(!0===p.isWebGL1Renderer&&bt.shift(),null===(pt=vt(bt,mt)))throw vt(bt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===pt.getShaderPrecisionFormat&&(pt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Lt){throw console.error("THREE.WebGLRenderer: "+Lt.message),Lt}function _t(){X=new bi(pt),!1===(q=new mi(pt,X,t)).isWebGL2&&(X.get("WEBGL_depth_texture"),X.get("OES_texture_float"),X.get("OES_texture_half_float"),X.get("OES_texture_half_float_linear"),X.get("OES_standard_derivatives"),X.get("OES_element_index_uint"),X.get("OES_vertex_array_object"),X.get("ANGLE_instanced_arrays")),X.get("OES_texture_float_linear"),dt=new oa(pt,X,q),(Y=new ra(pt,X,q)).scissor(S.copy(R).multiplyScalar(T).floor()),Y.viewport(O.copy(D).multiplyScalar(T).floor()),Q=new xi(pt),K=new Gr,Z=new aa(pt,X,Y,K,q,dt,Q),J=new yi(p),$=new ci(pt,q),ft=new pi(pt,X,$,q),tt=new _i(pt,$,Q,ft),et=new Ci(pt,tt,$,Q),ut=new Si(pt),st=new gi(K),it=new Vr(p,J,X,q,ft,st),rt=new ha(K),at=new Yr(K),ot=new ta(X,q),ct=new fi(p,J,Y,et,c),lt=new vi(pt,X,Q,q),ht=new wi(pt,X,Q,q),Q.programs=it.programs,p.capabilities=q,p.extensions=X,p.properties=K,p.renderLists=at,p.state=Y,p.info=Q}_t();var wt=new la(p,pt);this.xr=wt;var xt=new ia(p,et,q.maxTextureSize);function kt(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),v=!0}function St(){console.log("THREE.WebGLRenderer: Context Restored."),v=!1,_t()}function Ct(t){var e=t.target;e.removeEventListener("dispose",Ct),function(t){At(t),K.remove(t)}(e)}function At(t){var e=K.get(t).program;void 0!==e&&it.releaseProgram(e)}this.shadowMap=xt,this.getContext=function(){return pt},this.getContextAttributes=function(){return pt.getContextAttributes()},this.forceContextLoss=function(){var t=X.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){var t=X.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return T},this.setPixelRatio=function(t){void 0!==t&&(T=t,this.setSize(A,M,!1))},this.getSize=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),t=new yt),t.set(A,M)},this.setSize=function(t,e,i){wt.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(A=t,M=e,n.width=Math.floor(t*T),n.height=Math.floor(e*T),!1!==i&&(n.style.width=t+"px",n.style.height=e+"px"),this.setViewport(0,0,t,e))},this.getDrawingBufferSize=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),t=new yt),t.set(A*T,M*T).floor()},this.setDrawingBufferSize=function(t,e,i){A=t,M=e,T=i,n.width=Math.floor(t*i),n.height=Math.floor(e*i),this.setViewport(0,0,t,e)},this.getCurrentViewport=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),t=new Ot),t.copy(O)},this.getViewport=function(t){return t.copy(D)},this.setViewport=function(t,e,n,i){t.isVector4?D.set(t.x,t.y,t.z,t.w):D.set(t,e,n,i),Y.viewport(O.copy(D).multiplyScalar(T).floor())},this.getScissor=function(t){return t.copy(R)},this.setScissor=function(t,e,n,i){t.isVector4?R.set(t.x,t.y,t.z,t.w):R.set(t,e,n,i),Y.scissor(S.copy(R).multiplyScalar(T).floor())},this.getScissorTest=function(){return I},this.setScissorTest=function(t){Y.setScissorTest(I=t)},this.setOpaqueSort=function(t){E=t},this.setTransparentSort=function(t){P=t},this.getClearColor=function(){return ct.getClearColor()},this.setClearColor=function(){ct.setClearColor.apply(ct,arguments)},this.getClearAlpha=function(){return ct.getClearAlpha()},this.setClearAlpha=function(){ct.setClearAlpha.apply(ct,arguments)},this.clear=function(t,e,n){var i=0;(void 0===t||t)&&(i|=16384),(void 0===e||e)&&(i|=256),(void 0===n||n)&&(i|=1024),pt.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",kt,!1),n.removeEventListener("webglcontextrestored",St,!1),at.dispose(),ot.dispose(),K.dispose(),J.dispose(),et.dispose(),ft.dispose(),wt.dispose(),Et.stop()},this.renderBufferImmediate=function(t,e){ft.initAttributes();var n=K.get(t);t.hasPositions&&!n.position&&(n.position=pt.createBuffer()),t.hasNormals&&!n.normal&&(n.normal=pt.createBuffer()),t.hasUvs&&!n.uv&&(n.uv=pt.createBuffer()),t.hasColors&&!n.color&&(n.color=pt.createBuffer());var i=e.getAttributes();t.hasPositions&&(pt.bindBuffer(34962,n.position),pt.bufferData(34962,t.positionArray,35048),ft.enableAttribute(i.position),pt.vertexAttribPointer(i.position,3,5126,!1,0,0)),t.hasNormals&&(pt.bindBuffer(34962,n.normal),pt.bufferData(34962,t.normalArray,35048),ft.enableAttribute(i.normal),pt.vertexAttribPointer(i.normal,3,5126,!1,0,0)),t.hasUvs&&(pt.bindBuffer(34962,n.uv),pt.bufferData(34962,t.uvArray,35048),ft.enableAttribute(i.uv),pt.vertexAttribPointer(i.uv,2,5126,!1,0,0)),t.hasColors&&(pt.bindBuffer(34962,n.color),pt.bufferData(34962,t.colorArray,35048),ft.enableAttribute(i.color),pt.vertexAttribPointer(i.color,3,5126,!1,0,0)),ft.disableUnusedAttributes(),pt.drawArrays(4,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,n,i,r,a){null===e&&(e=G);var o=r.isMesh&&r.matrixWorld.determinant()<0,s=It(t,e,i,r);Y.setMaterial(i,o);var c=n.index,u=n.attributes.position;if(null===c){if(void 0===u||0===u.count)return}else if(0===c.count)return;var l,h=1;!0===i.wireframe&&(c=tt.getWireframeAttribute(n),h=2),(i.morphTargets||i.morphNormals)&&ut.update(r,n,i,s),ft.setup(r,i,s,n,c);var d=lt;null!==c&&(l=$.get(c),(d=ht).setIndex(l));var f=null!==c?c.count:u.count,p=n.drawRange.start*h,v=n.drawRange.count*h,m=null!==a?a.start*h:0,g=null!==a?a.count*h:1/0,y=Math.max(p,m),b=Math.min(f,p+v,m+g)-1,_=Math.max(0,b-y+1);if(0!==_){if(r.isMesh)!0===i.wireframe?(Y.setLineWidth(i.wireframeLinewidth*W()),d.setMode(1)):d.setMode(4);else if(r.isLine){var w=i.linewidth;void 0===w&&(w=1),Y.setLineWidth(w*W()),r.isLineSegments?d.setMode(1):r.isLineLoop?d.setMode(2):d.setMode(3)}else r.isPoints?d.setMode(0):r.isSprite&&d.setMode(4);if(r.isInstancedMesh)d.renderInstances(y,_,r.count);else if(n.isInstancedBufferGeometry){var x=Math.min(n.instanceCount,n._maxInstanceCount);d.renderInstances(y,_,x)}else d.render(y,_)}},this.compile=function(t,e){(f=ot.get(t,e)).init(),t.traverseVisible((function(t){t.isLight&&t.layers.test(e.layers)&&(f.pushLight(t),t.castShadow&&f.pushShadow(t))})),f.setupLights(e);var n=new WeakMap;t.traverse((function(e){var i=e.material;if(i)if(Array.isArray(i))for(var r=0;r<i.length;r++){var a=i[r];!1===n.has(a)&&(Rt(a,t,e),n.set(a))}else!1===n.has(i)&&(Rt(i,t,e),n.set(i))}))};var Tt=null;var Et=new si;function Pt(t,e,n,i){if(!1!==t.visible){if(t.layers.test(e.layers))if(t.isGroup)n=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(e);else if(t.isLight)f.pushLight(t),t.castShadow&&f.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||F.intersectsSprite(t)){i&&V.setFromMatrixPosition(t.matrixWorld).applyMatrix4(H);var r=et.update(t),a=t.material;a.visible&&d.push(t,r,a,n,V.z,null)}}else if(t.isImmediateRenderObject)i&&V.setFromMatrixPosition(t.matrixWorld).applyMatrix4(H),d.push(t,null,t.material,n,V.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.frame!==Q.render.frame&&(t.skeleton.update(),t.skeleton.frame=Q.render.frame),!t.frustumCulled||F.intersectsObject(t))){i&&V.setFromMatrixPosition(t.matrixWorld).applyMatrix4(H);var o=et.update(t),s=t.material;if(Array.isArray(s))for(var c=o.groups,u=0,l=c.length;u<l;u++){var h=c[u],p=s[h.materialIndex];p&&p.visible&&d.push(t,o,p,n,V.z,h)}else s.visible&&d.push(t,o,s,n,V.z,null)}for(var v=t.children,m=0,g=v.length;m<g;m++)Pt(v[m],e,n,i)}}function Dt(t,e,n){for(var i=!0===e.isScene?e.overrideMaterial:null,r=0,a=t.length;r<a;r++){var o=t[r],s=o.object,c=o.geometry,u=null===i?o.material:i,l=o.group;if(n.isArrayCamera){k=n;for(var h=n.cameras,d=0,p=h.length;d<p;d++){var v=h[d];s.layers.test(v.layers)&&(Y.viewport(O.copy(v.viewport)),f.setupLights(v),jt(s,e,v,c,u,l))}}else k=null,jt(s,e,n,c,u,l)}}function jt(t,e,n,i,r,a){if(t.onBeforeRender(p,e,n,i,r,a),f=ot.get(e,k||n),t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){var o=It(n,e,r,t);Y.setMaterial(r),ft.reset(),function(t,e){t.render((function(t){p.renderBufferImmediate(t,e)}))}(t,o)}else p.renderBufferDirect(n,e,i,r,t,a);t.onAfterRender(p,e,n,i,r,a),f=ot.get(e,k||n)}function Rt(t,e,n){!0!==e.isScene&&(e=G);var i=K.get(t),r=f.state.lights,a=f.state.shadowsArray,o=r.state.version,s=it.getParameters(t,r.state,a,e,n),c=it.getProgramCacheKey(s),u=i.program,l=!0;if(void 0===u)t.addEventListener("dispose",Ct);else if(u.cacheKey!==c)At(t);else if(i.lightsStateVersion!==o)l=!1;else{if(void 0!==s.shaderID){var h=t.isMeshStandardMaterial?e.environment:null;return void(i.envMap=J.get(t.envMap||h))}l=!1}l&&(s.uniforms=it.getUniforms(t),t.onBeforeCompile(s,p),u=it.acquireProgram(s,c),i.program=u,i.uniforms=s.uniforms,i.outputEncoding=s.outputEncoding);var d=i.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(i.numClippingPlanes=st.numPlanes,i.numIntersection=st.numIntersection,d.clippingPlanes=st.uniform),i.environment=t.isMeshStandardMaterial?e.environment:null,i.fog=e.fog,i.envMap=J.get(t.envMap||i.environment),i.needsLights=function(t){return t.isMeshLambertMaterial||t.isMeshToonMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.isShadowMaterial||t.isShaderMaterial&&!0===t.lights}(t),i.lightsStateVersion=o,i.needsLights&&(d.ambientLightColor.value=r.state.ambient,d.lightProbe.value=r.state.probe,d.directionalLights.value=r.state.directional,d.directionalLightShadows.value=r.state.directionalShadow,d.spotLights.value=r.state.spot,d.spotLightShadows.value=r.state.spotShadow,d.rectAreaLights.value=r.state.rectArea,d.ltc_1.value=r.state.rectAreaLTC1,d.ltc_2.value=r.state.rectAreaLTC2,d.pointLights.value=r.state.point,d.pointLightShadows.value=r.state.pointShadow,d.hemisphereLights.value=r.state.hemi,d.directionalShadowMap.value=r.state.directionalShadowMap,d.directionalShadowMatrix.value=r.state.directionalShadowMatrix,d.spotShadowMap.value=r.state.spotShadowMap,d.spotShadowMatrix.value=r.state.spotShadowMatrix,d.pointShadowMap.value=r.state.pointShadowMap,d.pointShadowMatrix.value=r.state.pointShadowMatrix);var v=i.program.getUniforms(),m=kr.seqWithValue(v.seq,d);i.uniformsList=m}function It(t,e,n,i){!0!==e.isScene&&(e=G),Z.resetTextureUnits();var r=e.fog,a=n.isMeshStandardMaterial?e.environment:null,o=null===b?p.outputEncoding:b.texture.encoding,s=J.get(n.envMap||a),c=K.get(n),u=f.state.lights;if(!0===B&&(!0===U||t!==x)){var l=t===x&&n.id===w;st.setState(n,t,l)}n.version===c.__version?n.fog&&c.fog!==r||c.environment!==a||c.needsLights&&c.lightsStateVersion!==u.state.version?Rt(n,e,i):void 0===c.numClippingPlanes||c.numClippingPlanes===st.numPlanes&&c.numIntersection===st.numIntersection?(c.outputEncoding!==o||c.envMap!==s)&&Rt(n,e,i):Rt(n,e,i):(Rt(n,e,i),c.__version=n.version);var h,d,v=!1,m=!1,g=!1,y=c.program,_=y.getUniforms(),k=c.uniforms;if(Y.useProgram(y.program)&&(v=!0,m=!0,g=!0),n.id!==w&&(w=n.id,m=!0),v||x!==t){if(_.setValue(pt,"projectionMatrix",t.projectionMatrix),q.logarithmicDepthBuffer&&_.setValue(pt,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),x!==t&&(x=t,m=!0,g=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){var O=_.map.cameraPosition;void 0!==O&&O.setValue(pt,V.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&_.setValue(pt,"isOrthographic",!0===t.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||n.skinning)&&_.setValue(pt,"viewMatrix",t.matrixWorldInverse)}if(n.skinning){_.setOptional(pt,i,"bindMatrix"),_.setOptional(pt,i,"bindMatrixInverse");var S=i.skeleton;if(S){var C=S.bones;if(q.floatVertexTextures){if(null===S.boneTexture){var A=Math.sqrt(4*C.length);A=gt.ceilPowerOfTwo(A),A=Math.max(A,4);var E=new Float32Array(A*A*4);E.set(S.boneMatrices);var P=new ii(E,A,A,z,L);S.boneMatrices=E,S.boneTexture=P,S.boneTextureSize=A}_.setValue(pt,"boneTexture",S.boneTexture,Z),_.setValue(pt,"boneTextureSize",S.boneTextureSize)}else _.setOptional(pt,S,"boneMatrices")}}return(m||c.receiveShadow!==i.receiveShadow)&&(c.receiveShadow=i.receiveShadow,_.setValue(pt,"receiveShadow",i.receiveShadow)),m&&(_.setValue(pt,"toneMappingExposure",p.toneMappingExposure),c.needsLights&&(d=g,(h=k).ambientLightColor.needsUpdate=d,h.lightProbe.needsUpdate=d,h.directionalLights.needsUpdate=d,h.directionalLightShadows.needsUpdate=d,h.pointLights.needsUpdate=d,h.pointLightShadows.needsUpdate=d,h.spotLights.needsUpdate=d,h.spotLightShadows.needsUpdate=d,h.rectAreaLights.needsUpdate=d,h.hemisphereLights.needsUpdate=d),r&&n.fog&&rt.refreshFogUniforms(k,r),rt.refreshMaterialUniforms(k,n,T,M),kr.upload(pt,c.uniformsList,k,Z)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(kr.upload(pt,c.uniformsList,k,Z),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&_.setValue(pt,"center",i.center),_.setValue(pt,"modelViewMatrix",i.modelViewMatrix),_.setValue(pt,"normalMatrix",i.normalMatrix),_.setValue(pt,"modelMatrix",i.matrixWorld),y}Et.setAnimationLoop((function(t){wt.isPresenting||Tt&&Tt(t)})),"undefined"!=typeof window&&Et.setContext(window),this.setAnimationLoop=function(t){Tt=t,wt.setAnimationLoop(t),null===t?Et.stop():Et.start()},this.render=function(t,e){var n,i;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),n=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),i=arguments[3]),void 0===e||!0===e.isCamera){if(!0!==v){ft.resetDefaultState(),w=-1,x=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),!0===wt.enabled&&!0===wt.isPresenting&&(e=wt.getCamera(e)),!0===t.isScene&&t.onBeforeRender(p,t,e,n||b),(f=ot.get(t,e)).init(),H.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),F.setFromProjectionMatrix(H),U=this.localClippingEnabled,B=st.init(this.clippingPlanes,U,e),(d=at.get(t,e)).init(),Pt(t,e,0,p.sortObjects),d.finish(),!0===p.sortObjects&&d.sort(E,P),!0===B&&st.beginShadows();var r=f.state.shadowsArray;xt.render(r,t,e),f.setupLights(e),!0===B&&st.endShadows(),!0===this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),ct.render(d,t,e,i);var a=d.opaque,o=d.transparent;a.length>0&&Dt(a,t,e),o.length>0&&Dt(o,t,e),!0===t.isScene&&t.onAfterRender(p,t,e),null!==b&&(Z.updateRenderTargetMipmap(b),Z.updateMultisampleRenderTarget(b)),Y.buffers.depth.setTest(!0),Y.buffers.depth.setMask(!0),Y.buffers.color.setMask(!0),Y.setPolygonOffset(!1),d=null,f=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFramebuffer=function(t){m!==t&&null===b&&pt.bindFramebuffer(36160,t),m=t},this.getActiveCubeFace=function(){return g},this.getActiveMipmapLevel=function(){return y},this.getRenderList=function(){return d},this.setRenderList=function(t){d=t},this.getRenderState=function(){return f},this.setRenderState=function(t){f=t},this.getRenderTarget=function(){return b},this.setRenderTarget=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;b=t,g=e,y=n,t&&void 0===K.get(t).__webglFramebuffer&&Z.setupRenderTarget(t);var i=m,r=!1;if(t){var a=K.get(t).__webglFramebuffer;t.isWebGLCubeRenderTarget?(i=a[e],r=!0):i=t.isWebGLMultisampleRenderTarget?K.get(t).__webglMultisampledFramebuffer:a,O.copy(t.viewport),S.copy(t.scissor),C=t.scissorTest}else O.copy(D).multiplyScalar(T).floor(),S.copy(R).multiplyScalar(T).floor(),C=I;if(_!==i&&(pt.bindFramebuffer(36160,i),_=i),Y.viewport(O),Y.scissor(S),Y.setScissorTest(C),r){var o=K.get(t.texture);pt.framebufferTexture2D(36160,36064,34069+e,o.__webglTexture,n)}},this.readRenderTargetPixels=function(t,e,n,i,r,a,o){if(t&&t.isWebGLRenderTarget){var s=K.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){var c=!1;s!==_&&(pt.bindFramebuffer(36160,s),c=!0);try{var u=t.texture,l=u.format,h=u.type;if(l!==z&&dt.convert(l)!==pt.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(h===j||dt.convert(h)===pt.getParameter(35738)||h===L&&(q.isWebGL2||X.get("OES_texture_float")||X.get("WEBGL_color_buffer_float"))||h===N&&(q.isWebGL2?X.get("EXT_color_buffer_float"):X.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===pt.checkFramebufferStatus(36160)?e>=0&&e<=t.width-i&&n>=0&&n<=t.height-r&&pt.readPixels(e,n,i,r,dt.convert(l),dt.convert(h),a):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{c&&pt.bindFramebuffer(36160,_)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=Math.pow(2,-n),r=Math.floor(e.image.width*i),a=Math.floor(e.image.height*i),o=dt.convert(e.format);Z.setTexture2D(e,0),pt.copyTexImage2D(3553,n,o,t.x,t.y,r,a,0),Y.unbindTexture()},this.copyTextureToTexture=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=e.image.width,a=e.image.height,o=dt.convert(n.format),s=dt.convert(n.type);Z.setTexture2D(n,0),pt.pixelStorei(37440,n.flipY),pt.pixelStorei(37441,n.premultiplyAlpha),pt.pixelStorei(3317,n.unpackAlignment),e.isDataTexture?pt.texSubImage2D(3553,i,t.x,t.y,r,a,o,s,e.image.data):e.isCompressedTexture?pt.compressedTexSubImage2D(3553,i,t.x,t.y,e.mipmaps[0].width,e.mipmaps[0].height,o,e.mipmaps[0].data):pt.texSubImage2D(3553,i,t.x,t.y,o,s,e.image),0===i&&n.generateMipmaps&&pt.generateMipmap(3553),Y.unbindTexture()},this.initTexture=function(t){Z.setTexture2D(t,0),Y.unbindTexture()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function fa(t){da.call(this,t)}sa.prototype=Object.assign(Object.create(Jn.prototype),{constructor:sa,isArrayCamera:!0}),ca.prototype=Object.assign(Object.create(Ae.prototype),{constructor:ca,isGroup:!0}),Object.assign(ua.prototype,{constructor:ua,getHandSpace:function(){if(null===this._hand&&(this._hand=new ca,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints=[],this._hand.inputState={pinching:!1},window.XRHand))for(var t=0;t<=window.XRHand.LITTLE_PHALANX_TIP;t++){var e=new ca;e.matrixAutoUpdate=!1,e.visible=!1,this._hand.joints.push(e),this._hand.add(e)}return this._hand},getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new ca,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return null===this._grip&&(this._grip=new ca,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this},disconnect:function(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this},update:function(t,e,n){var i=null,r=null,a=null,o=this._targetRay,s=this._grip,c=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState)if(c&&t.hand){a=!0;for(var u=0;u<=window.XRHand.LITTLE_PHALANX_TIP;u++)if(t.hand[u]){var l=e.getJointPose(t.hand[u],n),h=c.joints[u];null!==l&&(h.matrix.fromArray(l.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.jointRadius=l.radius),h.visible=null!==l;var d=c.joints[window.XRHand.INDEX_PHALANX_TIP],f=c.joints[window.XRHand.THUMB_PHALANX_TIP],p=d.position.distanceTo(f.position);c.inputState.pinching&&p>.025?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!c.inputState.pinching&&p<=.015&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}}else null!==o&&null!==(i=e.getPose(t.targetRaySpace,n))&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale)),null!==s&&t.gripSpace&&null!==(r=e.getPose(t.gripSpace,n))&&(s.matrix.fromArray(r.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale));return null!==o&&(o.visible=null!==i),null!==s&&(s.visible=null!==r),null!==c&&(c.visible=null!==a),this}}),Object.assign(la.prototype,dt.prototype),fa.prototype=Object.assign(Object.create(da.prototype),{constructor:fa,isWebGL1Renderer:!0});var pa=function(){function t(e,n){Object(l.a)(this,t),Object.defineProperty(this,"isFogExp2",{value:!0}),this.name="",this.color=new Qe(e),this.density=void 0!==n?n:25e-5}return Object(h.a)(t,[{key:"clone",value:function(){return new t(this.color,this.density)}},{key:"toJSON",value:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}]),t}(),va=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(){var t;return Object(l.a)(this,n),t=e.call(this),Object.defineProperty(Object(s.a)(t),"isScene",{value:!0}),t.type="Scene",t.background=null,t.environment=null,t.fog=null,t.overrideMaterial=null,t.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:Object(s.a)(t)})),t}return Object(h.a)(n,[{key:"copy",value:function(t,e){return Object(r.a)(Object(a.a)(n.prototype),"copy",this).call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this}},{key:"toJSON",value:function(t){var e=Object(r.a)(Object(a.a)(n.prototype),"toJSON",this).call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.environment&&(e.object.environment=this.environment.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e}}]),n}(Ae);function ma(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=ut,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=gt.generateUUID()}Object.defineProperty(ma.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(ma.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(var i=0,r=this.stride;i<r;i++)this.array[t+i]=e.array[n+i];return this},set:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(t,e),this},clone:function(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=gt.generateUUID()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var e=new ma(new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),this.stride);return e.setUsage(this.usage),e},onUpload:function(t){return this.onUploadCallback=t,this},toJSON:function(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=gt.generateUUID()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});var ga,ya=new Mt;function ba(t,e,n,i){this.name="",this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===i}function _a(t){Je.call(this),this.type="SpriteMaterial",this.color=new Qe(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(t)}Object.defineProperties(ba.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(t){this.data.needsUpdate=t}}}),Object.assign(ba.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(t){for(var e=0,n=this.data.count;e<n;e++)ya.x=this.getX(e),ya.y=this.getY(e),ya.z=this.getZ(e),ya.applyMatrix4(t),this.setXYZ(e,ya.x,ya.y,ya.z);return this},setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this},setXYZW:function(t,e,n,i,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this.data.array[t+3]=r,this},clone:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");for(var e=[],n=0;n<this.count;n++)for(var i=n*this.data.stride+this.offset,r=0;r<this.itemSize;r++)e.push(this.data.array[i+r]);return new nn(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new ba(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");for(var e=[],n=0;n<this.count;n++)for(var i=n*this.data.stride+this.offset,r=0;r<this.itemSize;r++)e.push(this.data.array[i+r]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}),_a.prototype=Object.create(Je.prototype),_a.prototype.constructor=_a,_a.prototype.isSpriteMaterial=!0,_a.prototype.copy=function(t){return Je.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this};var wa=new Mt,xa=new Mt,ka=new Mt,Oa=new yt,Sa=new yt,Ca=new ne,Aa=new Mt,Ma=new Mt,Ta=new Mt,Ea=new yt,Pa=new yt,Da=new yt;function ja(t){if(Ae.call(this),this.type="Sprite",void 0===ga){ga=new Sn;var e=new ma(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);ga.setIndex([0,1,2,0,2,3]),ga.setAttribute("position",new ba(e,3,0,!1)),ga.setAttribute("uv",new ba(e,2,3,!1))}this.geometry=ga,this.material=void 0!==t?t:new _a,this.center=new yt(.5,.5)}function Ra(t,e,n,i,r,a){Oa.subVectors(t,n).addScalar(.5).multiply(i),void 0!==r?(Sa.x=a*Oa.x-r*Oa.y,Sa.y=r*Oa.x+a*Oa.y):Sa.copy(Oa),t.copy(e),t.x+=Sa.x,t.y+=Sa.y,t.applyMatrix4(Ca)}ja.prototype=Object.assign(Object.create(Ae.prototype),{constructor:ja,isSprite:!0,raycast:function(t,e){null===t.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),xa.setFromMatrixScale(this.matrixWorld),Ca.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),ka.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&xa.multiplyScalar(-ka.z);var n,i,r=this.material.rotation;0!==r&&(i=Math.cos(r),n=Math.sin(r));var a=this.center;Ra(Aa.set(-.5,-.5,0),ka,a,xa,n,i),Ra(Ma.set(.5,-.5,0),ka,a,xa,n,i),Ra(Ta.set(.5,.5,0),ka,a,xa,n,i),Ea.set(0,0),Pa.set(1,0),Da.set(1,1);var o=t.ray.intersectTriangle(Aa,Ma,Ta,!1,wa);if(null!==o||(Ra(Ma.set(-.5,.5,0),ka,a,xa,n,i),Pa.set(0,1),null!==(o=t.ray.intersectTriangle(Aa,Ta,Ma,!1,wa)))){var s=t.ray.origin.distanceTo(wa);s<t.near||s>t.far||e.push({distance:s,point:wa.clone(),uv:He.getUV(wa,Aa,Ma,Ta,Ea,Pa,Da,new yt),face:null,object:this})}},copy:function(t){return Ae.prototype.copy.call(this,t),void 0!==t.center&&this.center.copy(t.center),this.material=t.material,this}});var Ia,La,Na,Fa,Ba,za=new Mt,Ua=new Mt;function Ha(){Ae.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function Va(t,e){t&&t.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Vn.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ne,this.bindMatrixInverse=new ne}function Ga(){Ae.call(this),this.type="Bone"}Ha.prototype=Object.assign(Object.create(Ae.prototype),{constructor:Ha,isLOD:!0,copy:function(t){Ae.prototype.copy.call(this,t,!1);for(var e=t.levels,n=0,i=e.length;n<i;n++){var r=e[n];this.addLevel(r.object.clone(),r.distance)}return this.autoUpdate=t.autoUpdate,this},addLevel:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e=Math.abs(e);var n,i=this.levels;for(n=0;n<i.length&&!(e<i[n].distance);n++);return i.splice(n,0,{distance:e,object:t}),this.add(t),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(t){var e=this.levels;if(e.length>0){var n,i;for(n=1,i=e.length;n<i&&!(t<e[n].distance);n++);return e[n-1].object}return null},raycast:function(t,e){if(this.levels.length>0){za.setFromMatrixPosition(this.matrixWorld);var n=t.ray.origin.distanceTo(za);this.getObjectForDistance(n).raycast(t,e)}},update:function(t){var e=this.levels;if(e.length>1){za.setFromMatrixPosition(t.matrixWorld),Ua.setFromMatrixPosition(this.matrixWorld);var n,i,r=za.distanceTo(Ua)/t.zoom;for(e[0].object.visible=!0,n=1,i=e.length;n<i&&r>=e[n].distance;n++)e[n-1].object.visible=!1,e[n].object.visible=!0;for(this._currentLevel=n-1;n<i;n++)e[n].object.visible=!1}},toJSON:function(t){var e=Ae.prototype.toJSON.call(this,t);!1===this.autoUpdate&&(e.object.autoUpdate=!1),e.object.levels=[];for(var n=this.levels,i=0,r=n.length;i<r;i++){var a=n[i];e.object.levels.push({object:a.object.uuid,distance:a.distance})}return e}}),Va.prototype=Object.assign(Object.create(Vn.prototype),{constructor:Va,isSkinnedMesh:!0,copy:function(t){return Vn.prototype.copy.call(this,t),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,this},bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var t=new Ot,e=this.geometry.attributes.skinWeight,n=0,i=e.count;n<i;n++){t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.w=e.getW(n);var r=1/t.manhattanLength();r!==1/0?t.multiplyScalar(r):t.set(1,0,0,0),e.setXYZW(n,t.x,t.y,t.z,t.w)}},updateMatrixWorld:function(t){Vn.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:(Ia=new Mt,La=new Ot,Na=new Ot,Fa=new Mt,Ba=new ne,function(t,e){var n=this.skeleton,i=this.geometry;La.fromBufferAttribute(i.attributes.skinIndex,t),Na.fromBufferAttribute(i.attributes.skinWeight,t),Ia.fromBufferAttribute(i.attributes.position,t).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(var r=0;r<4;r++){var a=Na.getComponent(r);if(0!==a){var o=La.getComponent(r);Ba.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),e.addScaledVector(Fa.copy(Ia).applyMatrix4(Ba),a)}}return e.applyMatrix4(this.bindMatrixInverse)})}),Ga.prototype=Object.assign(Object.create(Ae.prototype),{constructor:Ga,isBone:!0});var Wa=new ne,Xa=new ne;function qa(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.uuid=gt.generateUUID(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}Object.assign(qa.prototype,{init:function(){var t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(16*t.length),0===e.length)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(var n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new ne)}},calculateInverses:function(){this.boneInverses.length=0;for(var t=0,e=this.bones.length;t<e;t++){var n=new ne;this.bones[t]&&n.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(n)}},pose:function(){for(var t=0,e=this.bones.length;t<e;t++){var n=this.bones[t];n&&n.matrixWorld.copy(this.boneInverses[t]).invert()}for(var i=0,r=this.bones.length;i<r;i++){var a=this.bones[i];a&&(a.parent&&a.parent.isBone?(a.matrix.copy(a.parent.matrixWorld).invert(),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale))}},update:function(){for(var t=this.bones,e=this.boneInverses,n=this.boneMatrices,i=this.boneTexture,r=0,a=t.length;r<a;r++){var o=t[r]?t[r].matrixWorld:Xa;Wa.multiplyMatrices(o,e[r]),Wa.toArray(n,16*r)}null!==i&&(i.needsUpdate=!0)},clone:function(){return new qa(this.bones,this.boneInverses)},getBoneByName:function(t){for(var e=0,n=this.bones.length;e<n;e++){var i=this.bones[e];if(i.name===t)return i}},dispose:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)},fromJSON:function(t,e){this.uuid=t.uuid;for(var n=0,i=t.bones.length;n<i;n++){var r=t.bones[n],a=e[r];void 0===a&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),a=new Ga),this.bones.push(a),this.boneInverses.push((new ne).fromArray(t.boneInverses[n]))}return this.init(),this},toJSON:function(){var t={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;for(var e=this.bones,n=this.boneInverses,i=0,r=e.length;i<r;i++){var a=e[i];t.bones.push(a.uuid);var o=n[i];t.boneInverses.push(o.toArray())}return t}});var Ya=new ne,Qa=new ne,Ka=[],Za=new Vn;function Ja(t,e,n){Vn.call(this,t,e),this.instanceMatrix=new nn(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}function $a(t){Je.call(this),this.type="LineBasicMaterial",this.color=new Qe(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(t)}Ja.prototype=Object.assign(Object.create(Vn.prototype),{constructor:Ja,isInstancedMesh:!0,copy:function(t){return Vn.prototype.copy.call(this,t),this.instanceMatrix.copy(t.instanceMatrix),this.count=t.count,this},getColorAt:function(t,e){e.fromArray(this.instanceColor.array,3*t)},getMatrixAt:function(t,e){e.fromArray(this.instanceMatrix.array,16*t)},raycast:function(t,e){var n=this.matrixWorld,i=this.count;if(Za.geometry=this.geometry,Za.material=this.material,void 0!==Za.material)for(var r=0;r<i;r++){this.getMatrixAt(r,Ya),Qa.multiplyMatrices(n,Ya),Za.matrixWorld=Qa,Za.raycast(t,Ka);for(var a=0,o=Ka.length;a<o;a++){var s=Ka[a];s.instanceId=r,s.object=this,e.push(s)}Ka.length=0}},setColorAt:function(t,e){null===this.instanceColor&&(this.instanceColor=new nn(new Float32Array(3*this.count),3)),e.toArray(this.instanceColor.array,3*t)},setMatrixAt:function(t,e){e.toArray(this.instanceMatrix.array,16*t)},updateMorphTargets:function(){}}),$a.prototype=Object.create(Je.prototype),$a.prototype.constructor=$a,$a.prototype.isLineBasicMaterial=!0,$a.prototype.copy=function(t){return Je.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.morphTargets=t.morphTargets,this};var to=new Mt,eo=new Mt,no=new ne,io=new ee,ro=new qt;function ao(t,e,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),Ae.call(this),this.type="Line",this.geometry=void 0!==t?t:new Sn,this.material=void 0!==e?e:new $a,this.updateMorphTargets()}ao.prototype=Object.assign(Object.create(Ae.prototype),{constructor:ao,isLine:!0,copy:function(t){return Ae.prototype.copy.call(this,t),this.material=t.material,this.geometry=t.geometry,this},computeLineDistances:function(){var t=this.geometry;if(t.isBufferGeometry)if(null===t.index){for(var e=t.attributes.position,n=[0],i=1,r=e.count;i<r;i++)to.fromBufferAttribute(e,i-1),eo.fromBufferAttribute(e,i),n[i]=n[i-1],n[i]+=to.distanceTo(eo);t.setAttribute("lineDistance",new dn(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry){var a=t.vertices,o=t.lineDistances;o[0]=0;for(var s=1,c=a.length;s<c;s++)o[s]=o[s-1],o[s]+=a[s-1].distanceTo(a[s])}return this},raycast:function(t,e){var n=this.geometry,i=this.matrixWorld,r=t.params.Line.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),ro.copy(n.boundingSphere),ro.applyMatrix4(i),ro.radius+=r,!1!==t.ray.intersectsSphere(ro)){no.copy(i).invert(),io.copy(t.ray).applyMatrix4(no);var a=r/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a,s=new Mt,c=new Mt,u=new Mt,l=new Mt,h=this.isLineSegments?2:1;if(n.isBufferGeometry){var d=n.index,f=n.attributes.position;if(null!==d)for(var p=d.array,v=0,m=p.length-1;v<m;v+=h){var g=p[v],y=p[v+1];if(s.fromBufferAttribute(f,g),c.fromBufferAttribute(f,y),!(io.distanceSqToSegment(s,c,l,u)>o)){l.applyMatrix4(this.matrixWorld);var b=t.ray.origin.distanceTo(l);b<t.near||b>t.far||e.push({distance:b,point:u.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}else for(var _=0,w=f.count-1;_<w;_+=h){if(s.fromBufferAttribute(f,_),c.fromBufferAttribute(f,_+1),!(io.distanceSqToSegment(s,c,l,u)>o)){l.applyMatrix4(this.matrixWorld);var x=t.ray.origin.distanceTo(l);x<t.near||x>t.far||e.push({distance:x,point:u.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}else if(n.isGeometry)for(var k=n.vertices,O=k.length,S=0;S<O-1;S+=h){if(!(io.distanceSqToSegment(k[S],k[S+1],l,u)>o)){l.applyMatrix4(this.matrixWorld);var C=t.ray.origin.distanceTo(l);C<t.near||C>t.far||e.push({distance:C,point:u.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}}},updateMorphTargets:function(){var t=this.geometry;if(t.isBufferGeometry){var e=t.morphAttributes,n=Object.keys(e);if(n.length>0){var i=e[n[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,a=i.length;r<a;r++){var o=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}else{var s=t.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});var oo=new Mt,so=new Mt;function co(t,e){ao.call(this,t,e),this.type="LineSegments"}function uo(t,e){ao.call(this,t,e),this.type="LineLoop"}function lo(t){Je.call(this),this.type="PointsMaterial",this.color=new Qe(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(t)}co.prototype=Object.assign(Object.create(ao.prototype),{constructor:co,isLineSegments:!0,computeLineDistances:function(){var t=this.geometry;if(t.isBufferGeometry)if(null===t.index){for(var e=t.attributes.position,n=[],i=0,r=e.count;i<r;i+=2)oo.fromBufferAttribute(e,i),so.fromBufferAttribute(e,i+1),n[i]=0===i?0:n[i-1],n[i+1]=n[i]+oo.distanceTo(so);t.setAttribute("lineDistance",new dn(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry)for(var a=t.vertices,o=t.lineDistances,s=0,c=a.length;s<c;s+=2)oo.copy(a[s]),so.copy(a[s+1]),o[s]=0===s?0:o[s-1],o[s+1]=o[s]+oo.distanceTo(so);return this}}),uo.prototype=Object.assign(Object.create(ao.prototype),{constructor:uo,isLineLoop:!0}),lo.prototype=Object.create(Je.prototype),lo.prototype.constructor=lo,lo.prototype.isPointsMaterial=!0,lo.prototype.copy=function(t){return Je.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.morphTargets=t.morphTargets,this};var ho=new ne,fo=new ee,po=new qt,vo=new Mt;function mo(t,e){Ae.call(this),this.type="Points",this.geometry=void 0!==t?t:new Sn,this.material=void 0!==e?e:new lo,this.updateMorphTargets()}function go(t,e,n,i,r,a,o){var s=fo.distanceSqToPoint(t);if(s<n){var c=new Mt;fo.closestPointToPoint(t,c),c.applyMatrix4(i);var u=r.ray.origin.distanceTo(c);if(u<r.near||u>r.far)return;a.push({distance:u,distanceToRay:Math.sqrt(s),point:c,index:e,face:null,object:o})}}function yo(t,e,n,i,r,a,o,s,c){xt.call(this,t,e,n,i,r,a,o,s,c),this.format=void 0!==o?o:B,this.minFilter=void 0!==a?a:T,this.magFilter=void 0!==r?r:T,this.generateMipmaps=!1;var u=this;"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback((function e(){u.needsUpdate=!0,t.requestVideoFrameCallback(e)}))}function bo(t,e,n,i,r,a,o,s,c,u,l,h){xt.call(this,null,a,o,s,c,u,i,r,l,h),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function _o(t,e,n,i,r,a,o,s,c){xt.call(this,t,e,n,i,r,a,o,s,c),this.needsUpdate=!0}function wo(t,e,n,i,r,a,o,s,c,u){if((u=void 0!==u?u:H)!==H&&u!==V)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&u===H&&(n=R),void 0===n&&u===V&&(n=F),xt.call(this,null,i,r,a,o,s,u,n,c),this.image={width:t,height:e},this.magFilter=void 0!==o?o:C,this.minFilter=void 0!==s?s:C,this.flipY=!1,this.generateMipmaps=!1}mo.prototype=Object.assign(Object.create(Ae.prototype),{constructor:mo,isPoints:!0,copy:function(t){return Ae.prototype.copy.call(this,t),this.material=t.material,this.geometry=t.geometry,this},raycast:function(t,e){var n=this.geometry,i=this.matrixWorld,r=t.params.Points.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),po.copy(n.boundingSphere),po.applyMatrix4(i),po.radius+=r,!1!==t.ray.intersectsSphere(po)){ho.copy(i).invert(),fo.copy(t.ray).applyMatrix4(ho);var a=r/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a;if(n.isBufferGeometry){var s=n.index,c=n.attributes.position;if(null!==s)for(var u=s.array,l=0,h=u.length;l<h;l++){var d=u[l];vo.fromBufferAttribute(c,d),go(vo,d,o,i,t,e,this)}else for(var f=0,p=c.count;f<p;f++)vo.fromBufferAttribute(c,f),go(vo,f,o,i,t,e,this)}else for(var v=n.vertices,m=0,g=v.length;m<g;m++)go(v[m],m,o,i,t,e,this)}},updateMorphTargets:function(){var t=this.geometry;if(t.isBufferGeometry){var e=t.morphAttributes,n=Object.keys(e);if(n.length>0){var i=e[n[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,a=i.length;r<a;r++){var o=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}else{var s=t.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}),yo.prototype=Object.assign(Object.create(xt.prototype),{constructor:yo,clone:function(){return new this.constructor(this.image).copy(this)},isVideoTexture:!0,update:function(){var t=this.image;!1==="requestVideoFrameCallback"in t&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),bo.prototype=Object.create(xt.prototype),bo.prototype.constructor=bo,bo.prototype.isCompressedTexture=!0,_o.prototype=Object.create(xt.prototype),_o.prototype.constructor=_o,_o.prototype.isCanvasTexture=!0,wo.prototype=Object.create(xt.prototype),wo.prototype.constructor=wo,wo.prototype.isDepthTexture=!0;var xo=0,ko=new ne,Oo=new Ae,So=new Mt;function Co(){Object.defineProperty(this,"id",{value:xo+=2}),this.uuid=gt.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}Co.prototype=Object.assign(Object.create(dt.prototype),{constructor:Co,isGeometry:!0,applyMatrix4:function(t){for(var e=(new bt).getNormalMatrix(t),n=0,i=this.vertices.length;n<i;n++){this.vertices[n].applyMatrix4(t)}for(var r=0,a=this.faces.length;r<a;r++){var o=this.faces[r];o.normal.applyMatrix3(e).normalize();for(var s=0,c=o.vertexNormals.length;s<c;s++)o.vertexNormals[s].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(t){return ko.makeRotationX(t),this.applyMatrix4(ko),this},rotateY:function(t){return ko.makeRotationY(t),this.applyMatrix4(ko),this},rotateZ:function(t){return ko.makeRotationZ(t),this.applyMatrix4(ko),this},translate:function(t,e,n){return ko.makeTranslation(t,e,n),this.applyMatrix4(ko),this},scale:function(t,e,n){return ko.makeScale(t,e,n),this.applyMatrix4(ko),this},lookAt:function(t){return Oo.lookAt(t),Oo.updateMatrix(),this.applyMatrix4(Oo.matrix),this},fromBufferGeometry:function(t){var e=this,n=null!==t.index?t.index:void 0,i=t.attributes;if(void 0===i.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var r=i.position,a=i.normal,o=i.color,s=i.uv,c=i.uv2;void 0!==c&&(this.faceVertexUvs[1]=[]);for(var u=0;u<r.count;u++)e.vertices.push((new Mt).fromBufferAttribute(r,u)),void 0!==o&&e.colors.push((new Qe).fromBufferAttribute(o,u));function l(t,n,i,r){var u=void 0===o?[]:[e.colors[t].clone(),e.colors[n].clone(),e.colors[i].clone()],l=void 0===a?[]:[(new Mt).fromBufferAttribute(a,t),(new Mt).fromBufferAttribute(a,n),(new Mt).fromBufferAttribute(a,i)],h=new Ke(t,n,i,l,u,r);e.faces.push(h),void 0!==s&&e.faceVertexUvs[0].push([(new yt).fromBufferAttribute(s,t),(new yt).fromBufferAttribute(s,n),(new yt).fromBufferAttribute(s,i)]),void 0!==c&&e.faceVertexUvs[1].push([(new yt).fromBufferAttribute(c,t),(new yt).fromBufferAttribute(c,n),(new yt).fromBufferAttribute(c,i)])}var h=t.groups;if(h.length>0)for(var d=0;d<h.length;d++)for(var f=h[d],p=f.start,v=p,m=p+f.count;v<m;v+=3)void 0!==n?l(n.getX(v),n.getX(v+1),n.getX(v+2),f.materialIndex):l(v,v+1,v+2,f.materialIndex);else if(void 0!==n)for(var g=0;g<n.count;g+=3)l(n.getX(g),n.getX(g+1),n.getX(g+2));else for(var y=0;y<r.count;y+=3)l(y,y+1,y+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(So).negate(),this.translate(So.x,So.y,So.z),this},normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,n=0===e?1:1/e,i=new ne;return i.set(n,0,0,-n*t.x,0,n,0,-n*t.y,0,0,n,-n*t.z,0,0,0,1),this.applyMatrix4(i),this},computeFaceNormals:function(){for(var t=new Mt,e=new Mt,n=0,i=this.faces.length;n<i;n++){var r=this.faces[n],a=this.vertices[r.a],o=this.vertices[r.b],s=this.vertices[r.c];t.subVectors(s,o),e.subVectors(a,o),t.cross(e),t.normalize(),r.normal.copy(t)}},computeVertexNormals:function(){for(var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=new Array(this.vertices.length),n=0,i=this.vertices.length;n<i;n++)e[n]=new Mt;if(t)for(var r=new Mt,a=new Mt,o=0,s=this.faces.length;o<s;o++){var c=this.faces[o],u=this.vertices[c.a],l=this.vertices[c.b],h=this.vertices[c.c];r.subVectors(h,l),a.subVectors(u,l),r.cross(a),e[c.a].add(r),e[c.b].add(r),e[c.c].add(r)}else{this.computeFaceNormals();for(var d=0,f=this.faces.length;d<f;d++){var p=this.faces[d];e[p.a].add(p.normal),e[p.b].add(p.normal),e[p.c].add(p.normal)}}for(var v=0,m=this.vertices.length;v<m;v++)e[v].normalize();for(var g=0,y=this.faces.length;g<y;g++){var b=this.faces[g],_=b.vertexNormals;3===_.length?(_[0].copy(e[b.a]),_[1].copy(e[b.b]),_[2].copy(e[b.c])):(_[0]=e[b.a].clone(),_[1]=e[b.b].clone(),_[2]=e[b.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(var t=0,e=this.faces.length;t<e;t++){var n=this.faces[t],i=n.vertexNormals;3===i.length?(i[0].copy(n.normal),i[1].copy(n.normal),i[2].copy(n.normal)):(i[0]=n.normal.clone(),i[1]=n.normal.clone(),i[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(var t=0,e=this.faces.length;t<e;t++){var n=this.faces[t];n.__originalFaceNormal?n.__originalFaceNormal.copy(n.normal):n.__originalFaceNormal=n.normal.clone(),n.__originalVertexNormals||(n.__originalVertexNormals=[]);for(var i=0,r=n.vertexNormals.length;i<r;i++)n.__originalVertexNormals[i]?n.__originalVertexNormals[i].copy(n.vertexNormals[i]):n.__originalVertexNormals[i]=n.vertexNormals[i].clone()}var a=new Co;a.faces=this.faces;for(var o=0,s=this.morphTargets.length;o<s;o++){if(!this.morphNormals[o]){this.morphNormals[o]={},this.morphNormals[o].faceNormals=[],this.morphNormals[o].vertexNormals=[];for(var c=this.morphNormals[o].faceNormals,u=this.morphNormals[o].vertexNormals,l=0,h=this.faces.length;l<h;l++){var d=new Mt,f={a:new Mt,b:new Mt,c:new Mt};c.push(d),u.push(f)}}var p=this.morphNormals[o];a.vertices=this.morphTargets[o].vertices,a.computeFaceNormals(),a.computeVertexNormals();for(var v=0,m=this.faces.length;v<m;v++){var g=this.faces[v],y=p.faceNormals[v],b=p.vertexNormals[v];y.copy(g.normal),b.a.copy(g.vertexNormals[0]),b.b.copy(g.vertexNormals[1]),b.c.copy(g.vertexNormals[2])}}for(var _=0,w=this.faces.length;_<w;_++){var x=this.faces[_];x.normal=x.__originalFaceNormal,x.vertexNormals=x.__originalVertexNormals}},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Pt),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new qt),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(t&&t.isGeometry){var i,r=this.vertices.length,a=this.vertices,o=t.vertices,s=this.faces,c=t.faces,u=this.colors,l=t.colors;void 0!==e&&(i=(new bt).getNormalMatrix(e));for(var h=0,d=o.length;h<d;h++){var f=o[h],p=f.clone();void 0!==e&&p.applyMatrix4(e),a.push(p)}for(var v=0,m=l.length;v<m;v++)u.push(l[v].clone());for(var g=0,y=c.length;g<y;g++){var b=c[g],_=void 0,w=void 0,x=b.vertexNormals,k=b.vertexColors,O=new Ke(b.a+r,b.b+r,b.c+r);O.normal.copy(b.normal),void 0!==i&&O.normal.applyMatrix3(i).normalize();for(var S=0,C=x.length;S<C;S++)_=x[S].clone(),void 0!==i&&_.applyMatrix3(i).normalize(),O.vertexNormals.push(_);O.color.copy(b.color);for(var A=0,M=k.length;A<M;A++)w=k[A],O.vertexColors.push(w.clone());O.materialIndex=b.materialIndex+n,s.push(O)}for(var T=0,E=t.faceVertexUvs.length;T<E;T++){var P=t.faceVertexUvs[T];void 0===this.faceVertexUvs[T]&&(this.faceVertexUvs[T]=[]);for(var D=0,j=P.length;D<j;D++){for(var R=P[D],I=[],L=0,N=R.length;L<N;L++)I.push(R[L].clone());this.faceVertexUvs[T].push(I)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t)},mergeMesh:function(t){t&&t.isMesh?(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t)},mergeVertices:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,e={},n=[],i=[],r=Math.pow(10,t),a=0,o=this.vertices.length;a<o;a++){var s=this.vertices[a],c=Math.round(s.x*r)+"_"+Math.round(s.y*r)+"_"+Math.round(s.z*r);void 0===e[c]?(e[c]=a,n.push(this.vertices[a]),i[a]=n.length-1):i[a]=i[e[c]]}for(var u=[],l=0,h=this.faces.length;l<h;l++){var d=this.faces[l];d.a=i[d.a],d.b=i[d.b],d.c=i[d.c];for(var f=[d.a,d.b,d.c],p=0;p<3;p++)if(f[p]===f[(p+1)%3]){u.push(l);break}}for(var v=u.length-1;v>=0;v--){var m=u[v];this.faces.splice(m,1);for(var g=0,y=this.faceVertexUvs.length;g<y;g++)this.faceVertexUvs[g].splice(m,1)}var b=this.vertices.length-n.length;return this.vertices=n,b},setFromPoints:function(t){this.vertices=[];for(var e=0,n=t.length;e<n;e++){var i=t[e];this.vertices.push(new Mt(i.x,i.y,i.z||0))}return this},sortFacesByMaterialIndex:function(){for(var t=this.faces,e=t.length,n=0;n<e;n++)t[n]._id=n;t.sort((function(t,e){return t.materialIndex-e.materialIndex}));var i,r,a=this.faceVertexUvs[0],o=this.faceVertexUvs[1];a&&a.length===e&&(i=[]),o&&o.length===e&&(r=[]);for(var s=0;s<e;s++){var c=t[s]._id;i&&i.push(a[c]),r&&r.push(o[c])}i&&(this.faceVertexUvs[0]=i),r&&(this.faceVertexUvs[1]=r)},toJSON:function(){var t={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}for(var i=[],r=0;r<this.vertices.length;r++){var a=this.vertices[r];i.push(a.x,a.y,a.z)}for(var o=[],s=[],c={},u=[],l={},h=[],d={},f=0;f<this.faces.length;f++){var p=this.faces[f],v=void 0!==this.faceVertexUvs[0][f],m=p.normal.length()>0,g=p.vertexNormals.length>0,y=1!==p.color.r||1!==p.color.g||1!==p.color.b,b=p.vertexColors.length>0,_=0;if(_=O(_,0,0),_=O(_,1,!0),_=O(_,2,!1),_=O(_,3,v),_=O(_,4,m),_=O(_,5,g),_=O(_,6,y),_=O(_,7,b),o.push(_),o.push(p.a,p.b,p.c),o.push(p.materialIndex),v){var w=this.faceVertexUvs[0][f];o.push(A(w[0]),A(w[1]),A(w[2]))}if(m&&o.push(S(p.normal)),g){var x=p.vertexNormals;o.push(S(x[0]),S(x[1]),S(x[2]))}if(y&&o.push(C(p.color)),b){var k=p.vertexColors;o.push(C(k[0]),C(k[1]),C(k[2]))}}function O(t,e,n){return n?t|1<<e:t&~(1<<e)}function S(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==c[e]||(c[e]=s.length/3,s.push(t.x,t.y,t.z)),c[e]}function C(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==l[e]||(l[e]=u.length,u.push(t.getHex())),l[e]}function A(t){var e=t.x.toString()+t.y.toString();return void 0!==d[e]||(d[e]=h.length/2,h.push(t.x,t.y)),d[e]}return t.data={},t.data.vertices=i,t.data.normals=s,u.length>0&&(t.data.colors=u),h.length>0&&(t.data.uvs=[h]),t.data.faces=o,t},clone:function(){return(new Co).copy(this)},copy:function(t){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;for(var e=t.vertices,n=0,i=e.length;n<i;n++)this.vertices.push(e[n].clone());for(var r=t.colors,a=0,o=r.length;a<o;a++)this.colors.push(r[a].clone());for(var s=t.faces,c=0,u=s.length;c<u;c++)this.faces.push(s[c].clone());for(var l=0,h=t.faceVertexUvs.length;l<h;l++){var d=t.faceVertexUvs[l];void 0===this.faceVertexUvs[l]&&(this.faceVertexUvs[l]=[]);for(var f=0,p=d.length;f<p;f++){for(var v=d[f],m=[],g=0,y=v.length;g<y;g++){var b=v[g];m.push(b.clone())}this.faceVertexUvs[l].push(m)}}for(var _=t.morphTargets,w=0,x=_.length;w<x;w++){var k={};if(k.name=_[w].name,void 0!==_[w].vertices){k.vertices=[];for(var O=0,S=_[w].vertices.length;O<S;O++)k.vertices.push(_[w].vertices[O].clone())}if(void 0!==_[w].normals){k.normals=[];for(var C=0,A=_[w].normals.length;C<A;C++)k.normals.push(_[w].normals[C].clone())}this.morphTargets.push(k)}for(var M=t.morphNormals,T=0,E=M.length;T<E;T++){var P={};if(void 0!==M[T].vertexNormals){P.vertexNormals=[];for(var D=0,j=M[T].vertexNormals.length;D<j;D++){var R=M[T].vertexNormals[D],I={};I.a=R.a.clone(),I.b=R.b.clone(),I.c=R.c.clone(),P.vertexNormals.push(I)}}if(void 0!==M[T].faceNormals){P.faceNormals=[];for(var L=0,N=M[T].faceNormals.length;L<N;L++)P.faceNormals.push(M[T].faceNormals[L].clone())}this.morphNormals.push(P)}for(var F=t.skinWeights,B=0,z=F.length;B<z;B++)this.skinWeights.push(F[B].clone());for(var U=t.skinIndices,H=0,V=U.length;H<V;H++)this.skinIndices.push(U[H].clone());for(var G=t.lineDistances,W=0,X=G.length;W<X;W++)this.lineDistances.push(G[W]);var q=t.boundingBox;null!==q&&(this.boundingBox=q.clone());var Y=t.boundingSphere;return null!==Y&&(this.boundingSphere=Y.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Ao=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t,i,r,a,o,s){var c;return Object(l.a)(this,n),(c=e.call(this)).type="BoxGeometry",c.parameters={width:t,height:i,depth:r,widthSegments:a,heightSegments:o,depthSegments:s},c.fromBufferGeometry(new Xn(t,i,r,a,o,s)),c.mergeVertices(),c}return n}(Co),Mo=(new Mt,new Mt,new Mt,new He,function(t,e,n){n=n||2;var i,r,a,o,s,c,u,l=e&&e.length,h=l?e[0]*n:t.length,d=To(t,0,h,n,!0),f=[];if(!d||d.next===d.prev)return f;if(l&&(d=function(t,e,n,i){var r,a,o,s=[];for(r=0,a=e.length;r<a;r++)(o=To(t,e[r]*i,r<a-1?e[r+1]*i:t.length,i,!1))===o.next&&(o.steiner=!0),s.push(zo(o));for(s.sort(Lo),r=0;r<s.length;r++)No(s[r],n),n=Eo(n,n.next);return n}(t,e,d,n)),t.length>80*n){i=a=t[0],r=o=t[1];for(var p=n;p<h;p+=n)(s=t[p])<i&&(i=s),(c=t[p+1])<r&&(r=c),s>a&&(a=s),c>o&&(o=c);u=0!==(u=Math.max(a-i,o-r))?1/u:0}return Po(d,f,n,i,r,u),f});function To(t,e,n,i,r){var a,o;if(r===function(t,e,n,i){for(var r=0,a=e,o=n-i;a<n;a+=i)r+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return r}(t,e,n,i)>0)for(a=e;a<n;a+=i)o=Ko(a,t[a],t[a+1],o);else for(a=n-i;a>=e;a-=i)o=Ko(a,t[a],t[a+1],o);return o&&Go(o,o.next)&&(Zo(o),o=o.next),o}function Eo(t,e){if(!t)return t;e||(e=t);var n,i=t;do{if(n=!1,i.steiner||!Go(i,i.next)&&0!==Vo(i.prev,i,i.next))i=i.next;else{if(Zo(i),(i=e=i.prev)===i.next)break;n=!0}}while(n||i!==e);return e}function Po(t,e,n,i,r,a,o){if(t){!o&&a&&function(t,e,n,i){var r=t;do{null===r.z&&(r.z=Bo(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,n,i,r,a,o,s,c,u=1;do{for(n=t,t=null,a=null,o=0;n;){for(o++,i=n,s=0,e=0;e<u&&(s++,i=i.nextZ);e++);for(c=u;s>0||c>0&&i;)0!==s&&(0===c||!i||n.z<=i.z)?(r=n,n=n.nextZ,s--):(r=i,i=i.nextZ,c--),a?a.nextZ=r:t=r,r.prevZ=a,a=r;n=i}a.nextZ=null,u*=2}while(o>1)}(r)}(t,i,r,a);for(var s,c,u=t;t.prev!==t.next;)if(s=t.prev,c=t.next,a?jo(t,i,r,a):Do(t))e.push(s.i/n),e.push(t.i/n),e.push(c.i/n),Zo(t),t=c.next,u=c.next;else if((t=c)===u){o?1===o?Po(t=Ro(Eo(t),e,n),e,n,i,r,a,2):2===o&&Io(t,e,n,i,r,a):Po(Eo(t),e,n,i,r,a,1);break}}}function Do(t){var e=t.prev,n=t,i=t.next;if(Vo(e,n,i)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(Uo(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&Vo(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function jo(t,e,n,i){var r=t.prev,a=t,o=t.next;if(Vo(r,a,o)>=0)return!1;for(var s=r.x<a.x?r.x<o.x?r.x:o.x:a.x<o.x?a.x:o.x,c=r.y<a.y?r.y<o.y?r.y:o.y:a.y<o.y?a.y:o.y,u=r.x>a.x?r.x>o.x?r.x:o.x:a.x>o.x?a.x:o.x,l=r.y>a.y?r.y>o.y?r.y:o.y:a.y>o.y?a.y:o.y,h=Bo(s,c,e,n,i),d=Bo(u,l,e,n,i),f=t.prevZ,p=t.nextZ;f&&f.z>=h&&p&&p.z<=d;){if(f!==t.prev&&f!==t.next&&Uo(r.x,r.y,a.x,a.y,o.x,o.y,f.x,f.y)&&Vo(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,p!==t.prev&&p!==t.next&&Uo(r.x,r.y,a.x,a.y,o.x,o.y,p.x,p.y)&&Vo(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;f&&f.z>=h;){if(f!==t.prev&&f!==t.next&&Uo(r.x,r.y,a.x,a.y,o.x,o.y,f.x,f.y)&&Vo(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;p&&p.z<=d;){if(p!==t.prev&&p!==t.next&&Uo(r.x,r.y,a.x,a.y,o.x,o.y,p.x,p.y)&&Vo(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function Ro(t,e,n){var i=t;do{var r=i.prev,a=i.next.next;!Go(r,a)&&Wo(r,i,i.next,a)&&Yo(r,a)&&Yo(a,r)&&(e.push(r.i/n),e.push(i.i/n),e.push(a.i/n),Zo(i),Zo(i.next),i=t=a),i=i.next}while(i!==t);return Eo(i)}function Io(t,e,n,i,r,a){var o=t;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Ho(o,s)){var c=Qo(o,s);return o=Eo(o,o.next),c=Eo(c,c.next),Po(o,e,n,i,r,a),void Po(c,e,n,i,r,a)}s=s.next}o=o.next}while(o!==t)}function Lo(t,e){return t.x-e.x}function No(t,e){if(e=function(t,e){var n,i=e,r=t.x,a=t.y,o=-1/0;do{if(a<=i.y&&a>=i.next.y&&i.next.y!==i.y){var s=i.x+(a-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=r&&s>o){if(o=s,s===r){if(a===i.y)return i;if(a===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!n)return null;if(r===o)return n;var c,u=n,l=n.x,h=n.y,d=1/0;i=n;do{r>=i.x&&i.x>=l&&r!==i.x&&Uo(a<h?r:o,a,l,h,a<h?o:r,a,i.x,i.y)&&(c=Math.abs(a-i.y)/(r-i.x),Yo(i,t)&&(c<d||c===d&&(i.x>n.x||i.x===n.x&&Fo(n,i)))&&(n=i,d=c)),i=i.next}while(i!==u);return n}(t,e)){var n=Qo(e,t);Eo(e,e.next),Eo(n,n.next)}}function Fo(t,e){return Vo(t.prev,t,e.prev)<0&&Vo(e.next,t,t.next)<0}function Bo(t,e,n,i,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function zo(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function Uo(t,e,n,i,r,a,o,s){return(r-o)*(e-s)-(t-o)*(a-s)>=0&&(t-o)*(i-s)-(n-o)*(e-s)>=0&&(n-o)*(a-s)-(r-o)*(i-s)>=0}function Ho(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Wo(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(Yo(t,e)&&Yo(e,t)&&function(t,e){var n=t,i=!1,r=(t.x+e.x)/2,a=(t.y+e.y)/2;do{n.y>a!=n.next.y>a&&n.next.y!==n.y&&r<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==t);return i}(t,e)&&(Vo(t.prev,t,e.prev)||Vo(t,e.prev,e))||Go(t,e)&&Vo(t.prev,t,t.next)>0&&Vo(e.prev,e,e.next)>0)}function Vo(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Go(t,e){return t.x===e.x&&t.y===e.y}function Wo(t,e,n,i){var r=qo(Vo(t,e,n)),a=qo(Vo(t,e,i)),o=qo(Vo(n,i,t)),s=qo(Vo(n,i,e));return r!==a&&o!==s||(!(0!==r||!Xo(t,n,e))||(!(0!==a||!Xo(t,i,e))||(!(0!==o||!Xo(n,t,i))||!(0!==s||!Xo(n,e,i)))))}function Xo(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function qo(t){return t>0?1:t<0?-1:0}function Yo(t,e){return Vo(t.prev,t,t.next)<0?Vo(t,e,t.next)>=0&&Vo(t,t.prev,e)>=0:Vo(t,e,t.prev)<0||Vo(t,t.next,e)<0}function Qo(t,e){var n=new Jo(t.i,t.x,t.y),i=new Jo(e.i,e.x,e.y),r=t.next,a=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,a.next=i,i.prev=a,i}function Ko(t,e,n,i){var r=new Jo(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Zo(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Jo(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var $o={area:function(t){for(var e=t.length,n=0,i=e-1,r=0;r<e;i=r++)n+=t[i].x*t[r].y-t[r].x*t[i].y;return.5*n},isClockWise:function(t){return $o.area(t)<0},triangulateShape:function(t,e){var n=[],i=[],r=[];ts(t),es(n,t);var a=t.length;e.forEach(ts);for(var o=0;o<e.length;o++)i.push(a),a+=e[o].length,es(n,e[o]);for(var s=Mo(n,i),c=0;c<s.length;c+=3)r.push(s.slice(c,c+3));return r}};function ts(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function es(t,e){for(var n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}var ns=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t,i){var r;Object(l.a)(this,n),(r=e.call(this)).type="ExtrudeBufferGeometry",r.parameters={shapes:t,options:i},t=Array.isArray(t)?t:[t];for(var a=Object(s.a)(r),o=[],c=[],u=0,h=t.length;u<h;u++){d(t[u])}function d(t){var e=[],n=void 0!==i.curveSegments?i.curveSegments:12,r=void 0!==i.steps?i.steps:1,s=void 0!==i.depth?i.depth:100,u=void 0===i.bevelEnabled||i.bevelEnabled,l=void 0!==i.bevelThickness?i.bevelThickness:6,h=void 0!==i.bevelSize?i.bevelSize:l-2,d=void 0!==i.bevelOffset?i.bevelOffset:0,f=void 0!==i.bevelSegments?i.bevelSegments:3,p=i.extrudePath,v=void 0!==i.UVGenerator?i.UVGenerator:is;void 0!==i.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),s=i.amount);var m,g,y,b,_,w=!1;p&&(m=p.getSpacedPoints(r),w=!0,u=!1,g=p.computeFrenetFrames(r,!1),y=new Mt,b=new Mt,_=new Mt),u||(f=0,l=0,h=0,d=0);var x=t.extractPoints(n),k=x.shape,O=x.holes;if(!$o.isClockWise(k)){k=k.reverse();for(var S=0,C=O.length;S<C;S++){var A=O[S];$o.isClockWise(A)&&(O[S]=A.reverse())}}for(var M=$o.triangulateShape(k,O),T=k,E=0,P=O.length;E<P;E++){var D=O[E];k=k.concat(D)}function j(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(n).add(t)}var R=k.length,I=M.length;function L(t,e,n){var i,r,a,o=t.x-e.x,s=t.y-e.y,c=n.x-t.x,u=n.y-t.y,l=o*o+s*s,h=o*u-s*c;if(Math.abs(h)>Number.EPSILON){var d=Math.sqrt(l),f=Math.sqrt(c*c+u*u),p=e.x-s/d,v=e.y+o/d,m=((n.x-u/f-p)*u-(n.y+c/f-v)*c)/(o*u-s*c),g=(i=p+o*m-t.x)*i+(r=v+s*m-t.y)*r;if(g<=2)return new yt(i,r);a=Math.sqrt(g/2)}else{var y=!1;o>Number.EPSILON?c>Number.EPSILON&&(y=!0):o<-Number.EPSILON?c<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(u)&&(y=!0),y?(i=-s,r=o,a=Math.sqrt(l)):(i=o,r=s,a=Math.sqrt(l/2))}return new yt(i/a,r/a)}for(var N=[],F=0,B=T.length,z=B-1,U=F+1;F<B;F++,z++,U++)z===B&&(z=0),U===B&&(U=0),N[F]=L(T[F],T[z],T[U]);for(var H,V=[],G=N.concat(),W=0,X=O.length;W<X;W++){var q=O[W];H=[];for(var Y=0,Q=q.length,K=Q-1,Z=Y+1;Y<Q;Y++,K++,Z++)K===Q&&(K=0),Z===Q&&(Z=0),H[Y]=L(q[Y],q[K],q[Z]);V.push(H),G=G.concat(H)}for(var J=0;J<f;J++){for(var $=J/f,tt=l*Math.cos($*Math.PI/2),et=h*Math.sin($*Math.PI/2)+d,nt=0,it=T.length;nt<it;nt++){var rt=j(T[nt],N[nt],et);jt(rt.x,rt.y,-tt)}for(var at=0,ot=O.length;at<ot;at++){var st=O[at];H=V[at];for(var ct=0,ut=st.length;ct<ut;ct++){var lt=j(st[ct],H[ct],et);jt(lt.x,lt.y,-tt)}}}for(var ht=h+d,dt=0;dt<R;dt++){var ft=u?j(k[dt],G[dt],ht):k[dt];w?(b.copy(g.normals[0]).multiplyScalar(ft.x),y.copy(g.binormals[0]).multiplyScalar(ft.y),_.copy(m[0]).add(b).add(y),jt(_.x,_.y,_.z)):jt(ft.x,ft.y,0)}for(var pt=1;pt<=r;pt++)for(var vt=0;vt<R;vt++){var mt=u?j(k[vt],G[vt],ht):k[vt];w?(b.copy(g.normals[pt]).multiplyScalar(mt.x),y.copy(g.binormals[pt]).multiplyScalar(mt.y),_.copy(m[pt]).add(b).add(y),jt(_.x,_.y,_.z)):jt(mt.x,mt.y,s/r*pt)}for(var gt=f-1;gt>=0;gt--){for(var bt=gt/f,_t=l*Math.cos(bt*Math.PI/2),wt=h*Math.sin(bt*Math.PI/2)+d,xt=0,kt=T.length;xt<kt;xt++){var Ot=j(T[xt],N[xt],wt);jt(Ot.x,Ot.y,s+_t)}for(var St=0,Ct=O.length;St<Ct;St++){var At=O[St];H=V[St];for(var Tt=0,Et=At.length;Tt<Et;Tt++){var Pt=j(At[Tt],H[Tt],wt);w?jt(Pt.x,Pt.y+m[r-1].y,m[r-1].x+_t):jt(Pt.x,Pt.y,s+_t)}}}function Dt(t,e){for(var n=t.length;--n>=0;){var i=n,a=n-1;a<0&&(a=t.length-1);for(var o=0,s=r+2*f;o<s;o++){var c=R*o,u=R*(o+1);It(e+i+c,e+a+c,e+a+u,e+i+u)}}}function jt(t,n,i){e.push(t),e.push(n),e.push(i)}function Rt(t,e,n){Lt(t),Lt(e),Lt(n);var i=o.length/3,r=v.generateTopUV(a,o,i-3,i-2,i-1);Nt(r[0]),Nt(r[1]),Nt(r[2])}function It(t,e,n,i){Lt(t),Lt(e),Lt(i),Lt(e),Lt(n),Lt(i);var r=o.length/3,s=v.generateSideWallUV(a,o,r-6,r-3,r-2,r-1);Nt(s[0]),Nt(s[1]),Nt(s[3]),Nt(s[1]),Nt(s[2]),Nt(s[3])}function Lt(t){o.push(e[3*t+0]),o.push(e[3*t+1]),o.push(e[3*t+2])}function Nt(t){c.push(t.x),c.push(t.y)}!function(){var t=o.length/3;if(u){for(var e=0,n=R*e,i=0;i<I;i++){var s=M[i];Rt(s[2]+n,s[1]+n,s[0]+n)}n=R*(e=r+2*f);for(var c=0;c<I;c++){var l=M[c];Rt(l[0]+n,l[1]+n,l[2]+n)}}else{for(var h=0;h<I;h++){var d=M[h];Rt(d[2],d[1],d[0])}for(var p=0;p<I;p++){var v=M[p];Rt(v[0]+R*r,v[1]+R*r,v[2]+R*r)}}a.addGroup(t,o.length/3-t,0)}(),function(){var t=o.length/3,e=0;Dt(T,e),e+=T.length;for(var n=0,i=O.length;n<i;n++){var r=O[n];Dt(r,e),e+=r.length}a.addGroup(t,o.length/3-t,1)}()}return r.setAttribute("position",new dn(o,3)),r.setAttribute("uv",new dn(c,2)),r.computeVertexNormals(),r}return Object(h.a)(n,[{key:"toJSON",value:function(){var t=Sn.prototype.toJSON.call(this);return function(t,e,n){if(n.shapes=[],Array.isArray(t))for(var i=0,r=t.length;i<r;i++){var a=t[i];n.shapes.push(a.uuid)}else n.shapes.push(t.uuid);void 0!==e.extrudePath&&(n.options.extrudePath=e.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,t)}}]),n}(Sn),is={generateTopUV:function(t,e,n,i,r){var a=e[3*n],o=e[3*n+1],s=e[3*i],c=e[3*i+1],u=e[3*r],l=e[3*r+1];return[new yt(a,o),new yt(s,c),new yt(u,l)]},generateSideWallUV:function(t,e,n,i,r,a){var o=e[3*n],s=e[3*n+1],c=e[3*n+2],u=e[3*i],l=e[3*i+1],h=e[3*i+2],d=e[3*r],f=e[3*r+1],p=e[3*r+2],v=e[3*a],m=e[3*a+1],g=e[3*a+2];return Math.abs(s-l)<.01?[new yt(o,1-c),new yt(u,1-h),new yt(d,1-p),new yt(v,1-g)]:[new yt(s,1-c),new yt(l,1-h),new yt(f,1-p),new yt(m,1-g)]}};var rs=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t,i){var r;return Object(l.a)(this,n),(r=e.call(this)).type="ExtrudeGeometry",r.parameters={shapes:t,options:i},r.fromBufferGeometry(new ns(t,i)),r.mergeVertices(),r}return Object(h.a)(n,[{key:"toJSON",value:function(){var t=Object(r.a)(Object(a.a)(n.prototype),"toJSON",this).call(this);return function(t,e,n){if(n.shapes=[],Array.isArray(t))for(var i=0,r=t.length;i<r;i++){var a=t[i];n.shapes.push(a.uuid)}else n.shapes.push(t.uuid);void 0!==e.extrudePath&&(n.options.extrudePath=e.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,t)}}]),n}(Co);function as(t,e,n){Sn.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:n};var i=[],r=[],a=[],o=[],s=1e-5,c=new Mt,u=new Mt,l=new Mt,h=new Mt,d=new Mt;t.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");for(var f=e+1,p=0;p<=n;p++)for(var v=p/n,m=0;m<=e;m++){var g=m/e;t(g,v,u),r.push(u.x,u.y,u.z),g-s>=0?(t(g-s,v,l),h.subVectors(u,l)):(t(g+s,v,l),h.subVectors(l,u)),v-s>=0?(t(g,v-s,l),d.subVectors(u,l)):(t(g,v+s,l),d.subVectors(l,u)),c.crossVectors(h,d).normalize(),a.push(c.x,c.y,c.z),o.push(g,v)}for(var y=0;y<n;y++)for(var b=0;b<e;b++){var _=y*f+b,w=y*f+b+1,x=(y+1)*f+b+1,k=(y+1)*f+b;i.push(_,w,k),i.push(w,x,k)}this.setIndex(i),this.setAttribute("position",new dn(r,3)),this.setAttribute("normal",new dn(a,3)),this.setAttribute("uv",new dn(o,2))}function os(t,e,n){Co.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n},this.fromBufferGeometry(new as(t,e,n)),this.mergeVertices()}as.prototype=Object.create(Sn.prototype),as.prototype.constructor=as,os.prototype=Object.create(Co.prototype),os.prototype.constructor=os;var ss=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t,i,r,a){var o;return Object(l.a)(this,n),(o=e.call(this)).type="PlaneGeometry",o.parameters={width:t,height:i,widthSegments:r,heightSegments:a},o.fromBufferGeometry(new ui(t,i,r,a)),o.mergeVertices(),o}return n}(Co),cs=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;Object(l.a)(this,n),(i=e.call(this)).type="ShapeBufferGeometry",i.parameters={shapes:t,curveSegments:r};var a=[],o=[],s=[],c=[],u=0,h=0;if(!1===Array.isArray(t))f(t);else for(var d=0;d<t.length;d++)f(t[d]),i.addGroup(u,h,d),u+=h,h=0;function f(t){var e=o.length/3,n=t.extractPoints(r),i=n.shape,u=n.holes;!1===$o.isClockWise(i)&&(i=i.reverse());for(var l=0,d=u.length;l<d;l++){var f=u[l];!0===$o.isClockWise(f)&&(u[l]=f.reverse())}for(var p=$o.triangulateShape(i,u),v=0,m=u.length;v<m;v++){var g=u[v];i=i.concat(g)}for(var y=0,b=i.length;y<b;y++){var _=i[y];o.push(_.x,_.y,0),s.push(0,0,1),c.push(_.x,_.y)}for(var w=0,x=p.length;w<x;w++){var k=p[w],O=k[0]+e,S=k[1]+e,C=k[2]+e;a.push(O,S,C),h+=3}}return i.setIndex(a),i.setAttribute("position",new dn(o,3)),i.setAttribute("normal",new dn(s,3)),i.setAttribute("uv",new dn(c,2)),i}return Object(h.a)(n,[{key:"toJSON",value:function(){var t=Sn.prototype.toJSON.call(this);return function(t,e){if(e.shapes=[],Array.isArray(t))for(var n=0,i=t.length;n<i;n++){var r=t[n];e.shapes.push(r.uuid)}else e.shapes.push(t.uuid);return e}(this.parameters.shapes,t)}}]),n}(Sn);var us=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t,i){var r;return Object(l.a)(this,n),(r=e.call(this)).type="ShapeGeometry","object"==typeof i&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),i=i.curveSegments),r.parameters={shapes:t,curveSegments:i},r.fromBufferGeometry(new cs(t,i)),r.mergeVertices(),r}return Object(h.a)(n,[{key:"toJSON",value:function(){var t=Co.prototype.toJSON.call(this);return function(t,e){if(e.shapes=[],Array.isArray(t))for(var n=0,i=t.length;n<i;n++){var r=t[n];e.shapes.push(r.uuid)}else e.shapes.push(t.uuid);return e}(this.parameters.shapes,t)}}]),n}(Co);var ls=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;Object(l.a)(this,n),(t=e.call(this)).type="SphereBufferGeometry",t.parameters={radius:i,widthSegments:r,heightSegments:a,phiStart:o,phiLength:s,thetaStart:c,thetaLength:u},r=Math.max(3,Math.floor(r)),a=Math.max(2,Math.floor(a));for(var h=Math.min(c+u,Math.PI),d=0,f=[],p=new Mt,v=new Mt,m=[],g=[],y=[],b=[],_=0;_<=a;_++){var w=[],x=_/a,k=0;0==_&&0==c?k=.5/r:_==a&&h==Math.PI&&(k=-.5/r);for(var O=0;O<=r;O++){var S=O/r;p.x=-i*Math.cos(o+S*s)*Math.sin(c+x*u),p.y=i*Math.cos(c+x*u),p.z=i*Math.sin(o+S*s)*Math.sin(c+x*u),g.push(p.x,p.y,p.z),v.copy(p).normalize(),y.push(v.x,v.y,v.z),b.push(S+k,1-x),w.push(d++)}f.push(w)}for(var C=0;C<a;C++)for(var A=0;A<r;A++){var M=f[C][A+1],T=f[C][A],E=f[C+1][A],P=f[C+1][A+1];(0!==C||c>0)&&m.push(M,T,P),(C!==a-1||h<Math.PI)&&m.push(T,E,P)}return t.setIndex(m),t.setAttribute("position",new dn(g,3)),t.setAttribute("normal",new dn(y,3)),t.setAttribute("uv",new dn(b,2)),t}return n}(Sn);function hs(t){Je.call(this),this.type="ShadowMaterial",this.color=new Qe(0),this.transparent=!0,this.setValues(t)}function ds(t){Kn.call(this,t),this.type="RawShaderMaterial"}function fs(t){Je.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Qe(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Qe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=st,this.normalScale=new yt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(t)}function ps(t){fs.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new yt(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(t){this.reflectivity=gt.clamp(2.5*(t-1)/(t+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(t)}function vs(t){Je.call(this),this.type="MeshPhongMaterial",this.color=new Qe(16777215),this.specular=new Qe(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Qe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=st,this.normalScale=new yt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function ms(t){Je.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Qe(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Qe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=st,this.normalScale=new yt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function gs(t){Je.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=st,this.normalScale=new yt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function ys(t){Je.call(this),this.type="MeshLambertMaterial",this.color=new Qe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Qe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function bs(t){Je.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Qe(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=st,this.normalScale=new yt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function _s(t){$a.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}hs.prototype=Object.create(Je.prototype),hs.prototype.constructor=hs,hs.prototype.isShadowMaterial=!0,hs.prototype.copy=function(t){return Je.prototype.copy.call(this,t),this.color.copy(t.color),this},ds.prototype=Object.create(Kn.prototype),ds.prototype.constructor=ds,ds.prototype.isRawShaderMaterial=!0,fs.prototype=Object.create(Je.prototype),fs.prototype.constructor=fs,fs.prototype.isMeshStandardMaterial=!0,fs.prototype.copy=function(t){return Je.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.vertexTangents=t.vertexTangents,this},ps.prototype=Object.create(fs.prototype),ps.prototype.constructor=ps,ps.prototype.isMeshPhysicalMaterial=!0,ps.prototype.copy=function(t){return fs.prototype.copy.call(this,t),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.reflectivity=t.reflectivity,t.sheen?this.sheen=(this.sheen||new Qe).copy(t.sheen):this.sheen=null,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this},vs.prototype=Object.create(Je.prototype),vs.prototype.constructor=vs,vs.prototype.isMeshPhongMaterial=!0,vs.prototype.copy=function(t){return Je.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},ms.prototype=Object.create(Je.prototype),ms.prototype.constructor=ms,ms.prototype.isMeshToonMaterial=!0,ms.prototype.copy=function(t){return Je.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},gs.prototype=Object.create(Je.prototype),gs.prototype.constructor=gs,gs.prototype.isMeshNormalMaterial=!0,gs.prototype.copy=function(t){return Je.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},ys.prototype=Object.create(Je.prototype),ys.prototype.constructor=ys,ys.prototype.isMeshLambertMaterial=!0,ys.prototype.copy=function(t){return Je.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},bs.prototype=Object.create(Je.prototype),bs.prototype.constructor=bs,bs.prototype.isMeshMatcapMaterial=!0,bs.prototype.copy=function(t){return Je.prototype.copy.call(this,t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},_s.prototype=Object.create($a.prototype),_s.prototype.constructor=_s,_s.prototype.isLineDashedMaterial=!0,_s.prototype.copy=function(t){return $a.prototype.copy.call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var ws=Object.freeze({__proto__:null,ShadowMaterial:hs,SpriteMaterial:_a,RawShaderMaterial:ds,ShaderMaterial:Kn,PointsMaterial:lo,MeshPhysicalMaterial:ps,MeshStandardMaterial:fs,MeshPhongMaterial:vs,MeshToonMaterial:ms,MeshNormalMaterial:gs,MeshLambertMaterial:ys,MeshDepthMaterial:ea,MeshDistanceMaterial:na,MeshBasicMaterial:$e,MeshMatcapMaterial:bs,LineDashedMaterial:_s,LineBasicMaterial:$a,Material:Je}),xs={arraySlice:function(t,e,n){return xs.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==n?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){for(var e=t.length,n=new Array(e),i=0;i!==e;++i)n[i]=i;return n.sort((function(e,n){return t[e]-t[n]})),n},sortedArray:function(t,e,n){for(var i=t.length,r=new t.constructor(i),a=0,o=0;o!==i;++a)for(var s=n[a]*e,c=0;c!==e;++c)r[o++]=t[s+c];return r},flattenJSON:function(t,e,n,i){for(var r=1,a=t[0];void 0!==a&&void 0===a[i];)a=t[r++];if(void 0!==a){var o=a[i];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[i])&&(e.push(a.time),n.push.apply(n,o)),a=t[r++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[i])&&(e.push(a.time),o.toArray(n,n.length)),a=t[r++]}while(void 0!==a);else do{void 0!==(o=a[i])&&(e.push(a.time),n.push(o)),a=t[r++]}while(void 0!==a)}},subclip:function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30,a=t.clone();a.name=e;for(var o=[],s=0;s<a.tracks.length;++s){for(var c=a.tracks[s],u=c.getValueSize(),l=[],h=[],d=0;d<c.times.length;++d){var f=c.times[d]*r;if(!(f<n||f>=i)){l.push(c.times[d]);for(var p=0;p<u;++p)h.push(c.values[d*u+p])}}0!==l.length&&(c.times=xs.convertArray(l,c.times.constructor),c.values=xs.convertArray(h,c.values.constructor),o.push(c))}a.tracks=o;for(var v=1/0,m=0;m<a.tracks.length;++m)v>a.tracks[m].times[0]&&(v=a.tracks[m].times[0]);for(var g=0;g<a.tracks.length;++g)a.tracks[g].shift(-1*v);return a.resetDuration(),a},makeClipAdditive:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;i<=0&&(i=30);for(var r=n.tracks.length,a=e/i,o=function(e){var i=n.tracks[e],r=i.ValueTypeName;if("bool"===r||"string"===r)return"continue";var o=t.tracks.find((function(t){return t.name===i.name&&t.ValueTypeName===r}));if(void 0===o)return"continue";var s=0,c=i.getValueSize();i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=c/3);var u=0,l=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=l/3);var h=i.times.length-1,d=void 0;if(a<=i.times[0]){var f=s,p=c-s;d=xs.arraySlice(i.values,f,p)}else if(a>=i.times[h]){var v=h*c+s,m=v+c-s;d=xs.arraySlice(i.values,v,m)}else{var g=i.createInterpolant(),y=s,b=c-s;g.evaluate(a),d=xs.arraySlice(g.resultBuffer,y,b)}"quaternion"===r&&(new At).fromArray(d).normalize().conjugate().toArray(d);for(var _=o.times.length,w=0;w<_;++w){var x=w*l+u;if("quaternion"===r)At.multiplyQuaternionsFlat(o.values,x,d,0,o.values,x);else for(var k=l-2*u,O=0;O<k;++O)o.values[x+O]-=d[O]}},s=0;s<r;++s)o(s);return t.blendMode=$,t}};function ks(t,e,n,i){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new e.constructor(n),this.sampleValues=e,this.valueSize=n}function Os(t,e,n,i){ks.call(this,t,e,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Ss(t,e,n,i){ks.call(this,t,e,n,i)}function Cs(t,e,n,i){ks.call(this,t,e,n,i)}function As(t,e,n,i){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=xs.convertArray(e,this.TimeBufferType),this.values=xs.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}function Ms(t,e,n){As.call(this,t,e,n)}function Ts(t,e,n,i){As.call(this,t,e,n,i)}function Es(t,e,n,i){As.call(this,t,e,n,i)}function Ps(t,e,n,i){ks.call(this,t,e,n,i)}function Ds(t,e,n,i){As.call(this,t,e,n,i)}function js(t,e,n,i){As.call(this,t,e,n,i)}function Rs(t,e,n,i){As.call(this,t,e,n,i)}function Is(t,e,n,i){this.name=t,this.tracks=n,this.duration=void 0!==e?e:-1,this.blendMode=void 0!==i?i:J,this.uuid=gt.generateUUID(),this.duration<0&&this.resetDuration()}function Ls(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var e=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Es;case"vector":case"vector2":case"vector3":case"vector4":return Rs;case"color":return Ts;case"quaternion":return Ds;case"bool":case"boolean":return Ms;case"string":return js}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){var n=[],i=[];xs.flattenJSON(t.keys,n,i,"value"),t.times=n,t.values=i}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}Object.assign(ks.prototype,{evaluate:function(t){var e=this.parameterPositions,n=this._cachedIndex,i=e[n],r=e[n-1];t:{e:{var a;n:{i:if(!(t<i)){for(var o=n+2;;){if(void 0===i){if(t<r)break i;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,r)}if(n===o)break;if(r=i,t<(i=e[++n]))break e}a=e.length;break n}if(t>=r)break t;var s=e[1];t<s&&(n=2,r=s);for(var c=n-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,i);if(n===c)break;if(i=r,t>=(r=e[--n-1]))break e}a=n,n=0}for(;n<a;){var u=n+a>>>1;t<e[u]?a=u:n=u+1}if(i=e[n],void 0===(r=e[n-1]))return this._cachedIndex=0,this.beforeStart_(0,t,i);if(void 0===i)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,r,t)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,t,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=t*i,a=0;a!==i;++a)e[a]=n[r+a];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(ks.prototype,{beforeStart_:ks.prototype.copySampleValue_,afterEnd_:ks.prototype.copySampleValue_}),Os.prototype=Object.assign(Object.create(ks.prototype),{constructor:Os,DefaultSettings_:{endingStart:Q,endingEnd:Q},intervalChanged_:function(t,e,n){var i=this.parameterPositions,r=t-2,a=t+1,o=i[r],s=i[a];if(void 0===o)switch(this.getSettings_().endingStart){case K:r=t,o=2*e-n;break;case Z:o=e+i[r=i.length-2]-i[r+1];break;default:r=t,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case K:a=t,s=2*n-e;break;case Z:a=1,s=n+i[1]-i[0];break;default:a=t-1,s=e}var c=.5*(n-e),u=this.valueSize;this._weightPrev=c/(e-o),this._weightNext=c/(s-n),this._offsetPrev=r*u,this._offsetNext=a*u},interpolate_:function(t,e,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,c=s-o,u=this._offsetPrev,l=this._offsetNext,h=this._weightPrev,d=this._weightNext,f=(n-e)/(i-e),p=f*f,v=p*f,m=-h*v+2*h*p-h*f,g=(1+h)*v+(-1.5-2*h)*p+(-.5+h)*f+1,y=(-1-d)*v+(1.5+d)*p+.5*f,b=d*v-d*p,_=0;_!==o;++_)r[_]=m*a[u+_]+g*a[c+_]+y*a[s+_]+b*a[l+_];return r}}),Ss.prototype=Object.assign(Object.create(ks.prototype),{constructor:Ss,interpolate_:function(t,e,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,c=s-o,u=(n-e)/(i-e),l=1-u,h=0;h!==o;++h)r[h]=a[c+h]*l+a[s+h]*u;return r}}),Cs.prototype=Object.assign(Object.create(ks.prototype),{constructor:Cs,interpolate_:function(t){return this.copySampleValue_(t-1)}}),Object.assign(As,{toJSON:function(t){var e,n=t.constructor;if(void 0!==n.toJSON)e=n.toJSON(t);else{e={name:t.name,times:xs.convertArray(t.times,Array),values:xs.convertArray(t.values,Array)};var i=t.getInterpolation();i!==t.DefaultInterpolation&&(e.interpolation=i)}return e.type=t.ValueTypeName,e}}),Object.assign(As.prototype,{constructor:As,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:q,InterpolantFactoryMethodDiscrete:function(t){return new Cs(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new Ss(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new Os(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case X:e=this.InterpolantFactoryMethodDiscrete;break;case q:e=this.InterpolantFactoryMethodLinear;break;case Y:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=e,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return X;case this.InterpolantFactoryMethodLinear:return q;case this.InterpolantFactoryMethodSmooth:return Y}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,n=0,i=e.length;n!==i;++n)e[n]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,n=0,i=e.length;n!==i;++n)e[n]*=t;return this},trim:function(t,e){for(var n=this.times,i=n.length,r=0,a=i-1;r!==i&&n[r]<t;)++r;for(;-1!==a&&n[a]>e;)--a;if(++a,0!==r||a!==i){r>=a&&(r=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=xs.arraySlice(n,r,a),this.values=xs.arraySlice(this.values,r*o,a*o)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);var n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);for(var a=null,o=0;o!==r;o++){var s=n[o];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),t=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),t=!1;break}a=s}if(void 0!==i&&xs.isTypedArray(i))for(var c=0,u=i.length;c!==u;++c){var l=i[c];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,c,l),t=!1;break}}return t},optimize:function(){for(var t=xs.arraySlice(this.times),e=xs.arraySlice(this.values),n=this.getValueSize(),i=this.getInterpolation()===Y,r=t.length-1,a=1,o=1;o<r;++o){var s=!1,c=t[o];if(c!==t[o+1]&&(1!==o||c!==c[0]))if(i)s=!0;else for(var u=o*n,l=u-n,h=u+n,d=0;d!==n;++d){var f=e[u+d];if(f!==e[l+d]||f!==e[h+d]){s=!0;break}}if(s){if(o!==a){t[a]=t[o];for(var p=o*n,v=a*n,m=0;m!==n;++m)e[v+m]=e[p+m]}++a}}if(r>0){t[a]=t[r];for(var g=r*n,y=a*n,b=0;b!==n;++b)e[y+b]=e[g+b];++a}return a!==t.length?(this.times=xs.arraySlice(t,0,a),this.values=xs.arraySlice(e,0,a*n)):(this.times=t,this.values=e),this},clone:function(){var t=xs.arraySlice(this.times,0),e=xs.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,t,e);return n.createInterpolant=this.createInterpolant,n}}),Ms.prototype=Object.assign(Object.create(As.prototype),{constructor:Ms,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:X,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Ts.prototype=Object.assign(Object.create(As.prototype),{constructor:Ts,ValueTypeName:"color"}),Es.prototype=Object.assign(Object.create(As.prototype),{constructor:Es,ValueTypeName:"number"}),Ps.prototype=Object.assign(Object.create(ks.prototype),{constructor:Ps,interpolate_:function(t,e,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-e)/(i-e),c=t*o,u=c+o;c!==u;c+=4)At.slerpFlat(r,0,a,c-o,a,c,s);return r}}),Ds.prototype=Object.assign(Object.create(As.prototype),{constructor:Ds,ValueTypeName:"quaternion",DefaultInterpolation:q,InterpolantFactoryMethodLinear:function(t){return new Ps(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),js.prototype=Object.assign(Object.create(As.prototype),{constructor:js,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:X,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Rs.prototype=Object.assign(Object.create(As.prototype),{constructor:Rs,ValueTypeName:"vector"}),Object.assign(Is,{parse:function(t){for(var e=[],n=t.tracks,i=1/(t.fps||1),r=0,a=n.length;r!==a;++r)e.push(Ls(n[r]).scale(i));var o=new Is(t.name,t.duration,e,t.blendMode);return o.uuid=t.uuid,o},toJSON:function(t){for(var e=[],n=t.tracks,i={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode},r=0,a=n.length;r!==a;++r)e.push(As.toJSON(n[r]));return i},CreateFromMorphTargetSequence:function(t,e,n,i){for(var r=e.length,a=[],o=0;o<r;o++){var s=[],c=[];s.push((o+r-1)%r,o,(o+1)%r),c.push(0,1,0);var u=xs.getKeyframeOrder(s);s=xs.sortedArray(s,1,u),c=xs.sortedArray(c,1,u),i||0!==s[0]||(s.push(r),c.push(c[0])),a.push(new Es(".morphTargetInfluences["+e[o].name+"]",s,c).scale(1/n))}return new Is(t,-1,a)},findByName:function(t,e){var n=t;if(!Array.isArray(t)){var i=t;n=i.geometry&&i.geometry.animations||i.animations}for(var r=0;r<n.length;r++)if(n[r].name===e)return n[r];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){for(var i={},r=/^([\w-]*?)([\d]+)$/,a=0,o=t.length;a<o;a++){var s=t[a],c=s.name.match(r);if(c&&c.length>1){var u=c[1],l=i[u];l||(i[u]=l=[]),l.push(s)}}var h=[];for(var d in i)h.push(Is.CreateFromMorphTargetSequence(d,i[d],e,n));return h},parseAnimation:function(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(t,e,n,i,r){if(0!==n.length){var a=[],o=[];xs.flattenJSON(n,a,o,i),0!==a.length&&r.push(new t(e,a,o))}},i=[],r=t.name||"default",a=t.fps||30,o=t.blendMode,s=t.length||-1,c=t.hierarchy||[],u=0;u<c.length;u++){var l=c[u].keys;if(l&&0!==l.length)if(l[0].morphTargets){var h={},d=void 0;for(d=0;d<l.length;d++)if(l[d].morphTargets)for(var f=0;f<l[d].morphTargets.length;f++)h[l[d].morphTargets[f]]=-1;for(var p in h){for(var v=[],m=[],g=0;g!==l[d].morphTargets.length;++g){var y=l[d];v.push(y.time),m.push(y.morphTarget===p?1:0)}i.push(new Es(".morphTargetInfluence["+p+"]",v,m))}s=h.length*(a||1)}else{var b=".bones["+e[u].name+"]";n(Rs,b+".position",l,"pos",i),n(Ds,b+".quaternion",l,"rot",i),n(Rs,b+".scale",l,"scl",i)}}return 0===i.length?null:new Is(r,s,i,o)}}),Object.assign(Is.prototype,{resetDuration:function(){for(var t=0,e=0,n=this.tracks.length;e!==n;++e){var i=this.tracks[e];t=Math.max(t,i.times[i.times.length-1])}return this.duration=t,this},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},validate:function(){for(var t=!0,e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this},clone:function(){for(var t=[],e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new Is(this.name,this.duration,t,this.blendMode)},toJSON:function(){return Is.toJSON(this)}});var Ns={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};function Fs(t,e,n){var i=this,r=!1,a=0,o=0,s=void 0,c=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){o++,!1===r&&void 0!==i.onStart&&i.onStart(t,a,o),r=!0},this.itemEnd=function(t){a++,void 0!==i.onProgress&&i.onProgress(t,a,o),a===o&&(r=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(t){void 0!==i.onError&&i.onError(t)},this.resolveURL=function(t){return s?s(t):t},this.setURLModifier=function(t){return s=t,this},this.addHandler=function(t,e){return c.push(t,e),this},this.removeHandler=function(t){var e=c.indexOf(t);return-1!==e&&c.splice(e,2),this},this.getHandler=function(t){for(var e=0,n=c.length;e<n;e+=2){var i=c[e],r=c[e+1];if(i.global&&(i.lastIndex=0),i.test(t))return r}return null}}var Bs=new Fs;function zs(t){this.manager=void 0!==t?t:Bs,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(zs.prototype,{load:function(){},loadAsync:function(t,e){var n=this;return new Promise((function(i,r){n.load(t,i,e,r)}))},parse:function(){},setCrossOrigin:function(t){return this.crossOrigin=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setPath:function(t){return this.path=t,this},setResourcePath:function(t){return this.resourcePath=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}});var Us={};function Hs(t){zs.call(this,t)}function Vs(t){zs.call(this,t)}function Gs(t){zs.call(this,t)}function Ws(t){zs.call(this,t)}function Xs(t){zs.call(this,t)}function qs(t){zs.call(this,t)}function Ys(t){zs.call(this,t)}function Qs(){this.type="Curve",this.arcLengthDivisions=200}function Ks(t,e,n,i,r,a,o,s){Qs.call(this),this.type="EllipseCurve",this.aX=t||0,this.aY=e||0,this.xRadius=n||1,this.yRadius=i||1,this.aStartAngle=r||0,this.aEndAngle=a||2*Math.PI,this.aClockwise=o||!1,this.aRotation=s||0}function Zs(t,e,n,i,r,a){Ks.call(this,t,e,n,n,i,r,a),this.type="ArcCurve"}function Js(){var t=0,e=0,n=0,i=0;function r(r,a,o,s){t=r,e=o,n=-3*r+3*a-2*o-s,i=2*r-2*a+o+s}return{initCatmullRom:function(t,e,n,i,a){r(e,n,a*(n-t),a*(i-e))},initNonuniformCatmullRom:function(t,e,n,i,a,o,s){var c=(e-t)/a-(n-t)/(a+o)+(n-e)/o,u=(n-e)/o-(i-e)/(o+s)+(i-n)/s;r(e,n,c*=o,u*=o)},calc:function(r){var a=r*r;return t+e*r+n*a+i*(a*r)}}}Hs.prototype=Object.assign(Object.create(zs.prototype),{constructor:Hs,load:function(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var r=this,a=Ns.get(t);if(void 0!==a)return r.manager.itemStart(t),setTimeout((function(){e&&e(a),r.manager.itemEnd(t)}),0),a;if(void 0===Us[t]){var o,s=t.match(/^data:(.*?)(;base64)?,(.*)$/);if(s){var c=s[1],u=!!s[2],l=s[3];l=decodeURIComponent(l),u&&(l=atob(l));try{var h,d=(this.responseType||"").toLowerCase();switch(d){case"arraybuffer":case"blob":for(var f=new Uint8Array(l.length),p=0;p<l.length;p++)f[p]=l.charCodeAt(p);h="blob"===d?new Blob([f.buffer],{type:c}):f.buffer;break;case"document":var v=new DOMParser;h=v.parseFromString(l,c);break;case"json":h=JSON.parse(l);break;default:h=l}setTimeout((function(){e&&e(h),r.manager.itemEnd(t)}),0)}catch(g){setTimeout((function(){i&&i(g),r.manager.itemError(t),r.manager.itemEnd(t)}),0)}}else{for(var m in Us[t]=[],Us[t].push({onLoad:e,onProgress:n,onError:i}),(o=new XMLHttpRequest).open("GET",t,!0),o.addEventListener("load",(function(e){var n=this.response,i=Us[t];if(delete Us[t],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),Ns.add(t,n);for(var a=0,o=i.length;a<o;a++){var s=i[a];s.onLoad&&s.onLoad(n)}r.manager.itemEnd(t)}else{for(var c=0,u=i.length;c<u;c++){var l=i[c];l.onError&&l.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}}),!1),o.addEventListener("progress",(function(e){for(var n=Us[t],i=0,r=n.length;i<r;i++){var a=n[i];a.onProgress&&a.onProgress(e)}}),!1),o.addEventListener("error",(function(e){var n=Us[t];delete Us[t];for(var i=0,a=n.length;i<a;i++){var o=n[i];o.onError&&o.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}),!1),o.addEventListener("abort",(function(e){var n=Us[t];delete Us[t];for(var i=0,a=n.length;i<a;i++){var o=n[i];o.onError&&o.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}),!1),void 0!==this.responseType&&(o.responseType=this.responseType),void 0!==this.withCredentials&&(o.withCredentials=this.withCredentials),o.overrideMimeType&&o.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)o.setRequestHeader(m,this.requestHeader[m]);o.send(null)}return r.manager.itemStart(t),o}Us[t].push({onLoad:e,onProgress:n,onError:i})},setResponseType:function(t){return this.responseType=t,this},setMimeType:function(t){return this.mimeType=t,this}}),Vs.prototype=Object.assign(Object.create(zs.prototype),{constructor:Vs,load:function(t,e,n,i){var r=this,a=new Hs(r.manager);a.setPath(r.path),a.setRequestHeader(r.requestHeader),a.setWithCredentials(r.withCredentials),a.load(t,(function(n){try{e(r.parse(JSON.parse(n)))}catch(a){i?i(a):console.error(a),r.manager.itemError(t)}}),n,i)},parse:function(t){for(var e=[],n=0;n<t.length;n++){var i=Is.parse(t[n]);e.push(i)}return e}}),Gs.prototype=Object.assign(Object.create(zs.prototype),{constructor:Gs,load:function(t,e,n,i){var r=this,a=[],o=new bo;o.image=a;var s=new Hs(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(r.withCredentials);var c=0;function u(u){s.load(t[u],(function(t){var n=r.parse(t,!0);a[u]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(c+=1)&&(1===n.mipmapCount&&(o.minFilter=T),o.format=n.format,o.needsUpdate=!0,e&&e(o))}),n,i)}if(Array.isArray(t))for(var l=0,h=t.length;l<h;++l)u(l);else s.load(t,(function(t){var n=r.parse(t,!0);if(n.isCubemap)for(var i=n.mipmaps.length/n.mipmapCount,s=0;s<i;s++){a[s]={mipmaps:[]};for(var c=0;c<n.mipmapCount;c++)a[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+c]),a[s].format=n.format,a[s].width=n.width,a[s].height=n.height}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=T),o.format=n.format,o.needsUpdate=!0,e&&e(o)}),n,i);return o}}),Ws.prototype=Object.assign(Object.create(zs.prototype),{constructor:Ws,load:function(t,e,n,i){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var r=this,a=Ns.get(t);if(void 0!==a)return r.manager.itemStart(t),setTimeout((function(){e&&e(a),r.manager.itemEnd(t)}),0),a;var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){o.removeEventListener("load",s,!1),o.removeEventListener("error",c,!1),Ns.add(t,this),e&&e(this),r.manager.itemEnd(t)}function c(e){o.removeEventListener("load",s,!1),o.removeEventListener("error",c,!1),i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)}return o.addEventListener("load",s,!1),o.addEventListener("error",c,!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),r.manager.itemStart(t),o.src=t,o}}),Xs.prototype=Object.assign(Object.create(zs.prototype),{constructor:Xs,load:function(t,e,n,i){var r=new ei,a=new Ws(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(n){a.load(t[n],(function(t){r.images[n]=t,6===++o&&(r.needsUpdate=!0,e&&e(r))}),void 0,i)}for(var c=0;c<t.length;++c)s(c);return r}}),qs.prototype=Object.assign(Object.create(zs.prototype),{constructor:qs,load:function(t,e,n,i){var r=this,a=new ii,o=new Hs(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(r.withCredentials),o.load(t,(function(t){var n=r.parse(t);n&&(void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:O,a.wrapT=void 0!==n.wrapT?n.wrapT:O,a.magFilter=void 0!==n.magFilter?n.magFilter:T,a.minFilter=void 0!==n.minFilter?n.minFilter:T,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps,a.minFilter=P),1===n.mipmapCount&&(a.minFilter=T),a.needsUpdate=!0,e&&e(a,n))}),n,i),a}}),Ys.prototype=Object.assign(Object.create(zs.prototype),{constructor:Ys,load:function(t,e,n,i){var r=new xt,a=new Ws(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(t,(function(n){r.image=n;var i=t.search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/);r.format=i?B:z,r.needsUpdate=!0,void 0!==e&&e(r)}),n,i),r}}),Object.assign(Qs.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(t,e){var n=this.getUtoTmapping(t);return this.getPoint(n,e)},getPoints:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e=[],n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,n=[],i=this.getPoint(0),r=0;n.push(0);for(var a=1;a<=t;a++)r+=(e=this.getPoint(a/t)).distanceTo(i),n.push(r),i=e;return this.cacheArcLengths=n,n},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var n,i=this.getLengths(),r=0,a=i.length;n=e||t*i[a-1];for(var o,s=0,c=a-1;s<=c;)if((o=i[r=Math.floor(s+(c-s)/2)]-n)<0)s=r+1;else{if(!(o>0)){c=r;break}c=r-1}if(i[r=c]===n)return r/(a-1);var u=i[r];return(r+(n-u)/(i[r+1]-u))/(a-1)},getTangent:function(t,e){var n=1e-4,i=t-n,r=t+n;i<0&&(i=0),r>1&&(r=1);var a=this.getPoint(i),o=this.getPoint(r),s=e||(a.isVector2?new yt:new Mt);return s.copy(o).sub(a).normalize(),s},getTangentAt:function(t,e){var n=this.getUtoTmapping(t);return this.getTangent(n,e)},computeFrenetFrames:function(t,e){for(var n=new Mt,i=[],r=[],a=[],o=new Mt,s=new ne,c=0;c<=t;c++){var u=c/t;i[c]=this.getTangentAt(u,new Mt),i[c].normalize()}r[0]=new Mt,a[0]=new Mt;var l=Number.MAX_VALUE,h=Math.abs(i[0].x),d=Math.abs(i[0].y),f=Math.abs(i[0].z);h<=l&&(l=h,n.set(1,0,0)),d<=l&&(l=d,n.set(0,1,0)),f<=l&&n.set(0,0,1),o.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],o),a[0].crossVectors(i[0],r[0]);for(var p=1;p<=t;p++){if(r[p]=r[p-1].clone(),a[p]=a[p-1].clone(),o.crossVectors(i[p-1],i[p]),o.length()>Number.EPSILON){o.normalize();var v=Math.acos(gt.clamp(i[p-1].dot(i[p]),-1,1));r[p].applyMatrix4(s.makeRotationAxis(o,v))}a[p].crossVectors(i[p],r[p])}if(!0===e){var m=Math.acos(gt.clamp(r[0].dot(r[t]),-1,1));m/=t,i[0].dot(o.crossVectors(r[0],r[t]))>0&&(m=-m);for(var g=1;g<=t;g++)r[g].applyMatrix4(s.makeRotationAxis(i[g],m*g)),a[g].crossVectors(i[g],r[g])}return{tangents:i,normals:r,binormals:a}},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){var t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}),Ks.prototype=Object.create(Qs.prototype),Ks.prototype.constructor=Ks,Ks.prototype.isEllipseCurve=!0,Ks.prototype.getPoint=function(t,e){for(var n=e||new yt,i=2*Math.PI,r=this.aEndAngle-this.aStartAngle,a=Math.abs(r)<Number.EPSILON;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(r=a?0:i),!0!==this.aClockwise||a||(r===i?r=-i:r-=i);var o=this.aStartAngle+t*r,s=this.aX+this.xRadius*Math.cos(o),c=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var u=Math.cos(this.aRotation),l=Math.sin(this.aRotation),h=s-this.aX,d=c-this.aY;s=h*u-d*l+this.aX,c=h*l+d*u+this.aY}return n.set(s,c)},Ks.prototype.copy=function(t){return Qs.prototype.copy.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},Ks.prototype.toJSON=function(){var t=Qs.prototype.toJSON.call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t},Ks.prototype.fromJSON=function(t){return Qs.prototype.fromJSON.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},Zs.prototype=Object.create(Ks.prototype),Zs.prototype.constructor=Zs,Zs.prototype.isArcCurve=!0;var $s=new Mt,tc=new Js,ec=new Js,nc=new Js;function ic(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;Qs.call(this),this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=n,this.tension=i}function rc(t,e,n,i,r){var a=.5*(i-e),o=.5*(r-n),s=t*t;return(2*n-2*i+a+o)*(t*s)+(-3*n+3*i-2*a-o)*s+a*t+n}function ac(t,e,n,i){return function(t,e){var n=1-t;return n*n*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,n)+function(t,e){return t*t*e}(t,i)}function oc(t,e,n,i,r){return function(t,e){var n=1-t;return n*n*n*e}(t,e)+function(t,e){var n=1-t;return 3*n*n*t*e}(t,n)+function(t,e){return 3*(1-t)*t*t*e}(t,i)+function(t,e){return t*t*t*e}(t,r)}function sc(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new yt,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new yt,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new yt,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new yt;Qs.call(this),this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=n,this.v3=i}function cc(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Mt,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Mt,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Mt,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Mt;Qs.call(this),this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=n,this.v3=i}function uc(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new yt,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new yt;Qs.call(this),this.type="LineCurve",this.v1=t,this.v2=e}function lc(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Mt,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Mt;Qs.call(this),this.type="LineCurve3",this.v1=t,this.v2=e}function hc(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new yt,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new yt,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new yt;Qs.call(this),this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=n}function dc(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Mt,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Mt,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Mt;Qs.call(this),this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=n}function fc(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Qs.call(this),this.type="SplineCurve",this.points=t}ic.prototype=Object.create(Qs.prototype),ic.prototype.constructor=ic,ic.prototype.isCatmullRomCurve3=!0,ic.prototype.getPoint=function(t){var e,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Mt,r=i,a=this.points,o=a.length,s=(o-(this.closed?0:1))*t,c=Math.floor(s),u=s-c;this.closed?c+=c>0?0:(Math.floor(Math.abs(c)/o)+1)*o:0===u&&c===o-1&&(c=o-2,u=1),this.closed||c>0?e=a[(c-1)%o]:($s.subVectors(a[0],a[1]).add(a[0]),e=$s);var l=a[c%o],h=a[(c+1)%o];if(this.closed||c+2<o?n=a[(c+2)%o]:($s.subVectors(a[o-1],a[o-2]).add(a[o-1]),n=$s),"centripetal"===this.curveType||"chordal"===this.curveType){var d="chordal"===this.curveType?.5:.25,f=Math.pow(e.distanceToSquared(l),d),p=Math.pow(l.distanceToSquared(h),d),v=Math.pow(h.distanceToSquared(n),d);p<1e-4&&(p=1),f<1e-4&&(f=p),v<1e-4&&(v=p),tc.initNonuniformCatmullRom(e.x,l.x,h.x,n.x,f,p,v),ec.initNonuniformCatmullRom(e.y,l.y,h.y,n.y,f,p,v),nc.initNonuniformCatmullRom(e.z,l.z,h.z,n.z,f,p,v)}else"catmullrom"===this.curveType&&(tc.initCatmullRom(e.x,l.x,h.x,n.x,this.tension),ec.initCatmullRom(e.y,l.y,h.y,n.y,this.tension),nc.initCatmullRom(e.z,l.z,h.z,n.z,this.tension));return r.set(tc.calc(u),ec.calc(u),nc.calc(u)),r},ic.prototype.copy=function(t){Qs.prototype.copy.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var i=t.points[e];this.points.push(i.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},ic.prototype.toJSON=function(){var t=Qs.prototype.toJSON.call(this);t.points=[];for(var e=0,n=this.points.length;e<n;e++){var i=this.points[e];t.points.push(i.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t},ic.prototype.fromJSON=function(t){Qs.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var i=t.points[e];this.points.push((new Mt).fromArray(i))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},sc.prototype=Object.create(Qs.prototype),sc.prototype.constructor=sc,sc.prototype.isCubicBezierCurve=!0,sc.prototype.getPoint=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new yt,n=e,i=this.v0,r=this.v1,a=this.v2,o=this.v3;return n.set(oc(t,i.x,r.x,a.x,o.x),oc(t,i.y,r.y,a.y,o.y)),n},sc.prototype.copy=function(t){return Qs.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},sc.prototype.toJSON=function(){var t=Qs.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},sc.prototype.fromJSON=function(t){return Qs.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},cc.prototype=Object.create(Qs.prototype),cc.prototype.constructor=cc,cc.prototype.isCubicBezierCurve3=!0,cc.prototype.getPoint=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Mt,n=e,i=this.v0,r=this.v1,a=this.v2,o=this.v3;return n.set(oc(t,i.x,r.x,a.x,o.x),oc(t,i.y,r.y,a.y,o.y),oc(t,i.z,r.z,a.z,o.z)),n},cc.prototype.copy=function(t){return Qs.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},cc.prototype.toJSON=function(){var t=Qs.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},cc.prototype.fromJSON=function(t){return Qs.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},uc.prototype=Object.create(Qs.prototype),uc.prototype.constructor=uc,uc.prototype.isLineCurve=!0,uc.prototype.getPoint=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new yt,n=e;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},uc.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},uc.prototype.getTangent=function(t,e){var n=e||new yt;return n.copy(this.v2).sub(this.v1).normalize(),n},uc.prototype.copy=function(t){return Qs.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},uc.prototype.toJSON=function(){var t=Qs.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},uc.prototype.fromJSON=function(t){return Qs.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},lc.prototype=Object.create(Qs.prototype),lc.prototype.constructor=lc,lc.prototype.isLineCurve3=!0,lc.prototype.getPoint=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Mt,n=e;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},lc.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},lc.prototype.copy=function(t){return Qs.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},lc.prototype.toJSON=function(){var t=Qs.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},lc.prototype.fromJSON=function(t){return Qs.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},hc.prototype=Object.create(Qs.prototype),hc.prototype.constructor=hc,hc.prototype.isQuadraticBezierCurve=!0,hc.prototype.getPoint=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new yt,n=e,i=this.v0,r=this.v1,a=this.v2;return n.set(ac(t,i.x,r.x,a.x),ac(t,i.y,r.y,a.y)),n},hc.prototype.copy=function(t){return Qs.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},hc.prototype.toJSON=function(){var t=Qs.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},hc.prototype.fromJSON=function(t){return Qs.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},dc.prototype=Object.create(Qs.prototype),dc.prototype.constructor=dc,dc.prototype.isQuadraticBezierCurve3=!0,dc.prototype.getPoint=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Mt,n=e,i=this.v0,r=this.v1,a=this.v2;return n.set(ac(t,i.x,r.x,a.x),ac(t,i.y,r.y,a.y),ac(t,i.z,r.z,a.z)),n},dc.prototype.copy=function(t){return Qs.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},dc.prototype.toJSON=function(){var t=Qs.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},dc.prototype.fromJSON=function(t){return Qs.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},fc.prototype=Object.create(Qs.prototype),fc.prototype.constructor=fc,fc.prototype.isSplineCurve=!0,fc.prototype.getPoint=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new yt,n=e,i=this.points,r=(i.length-1)*t,a=Math.floor(r),o=r-a,s=i[0===a?a:a-1],c=i[a],u=i[a>i.length-2?i.length-1:a+1],l=i[a>i.length-3?i.length-1:a+2];return n.set(rc(o,s.x,c.x,u.x,l.x),rc(o,s.y,c.y,u.y,l.y)),n},fc.prototype.copy=function(t){Qs.prototype.copy.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var i=t.points[e];this.points.push(i.clone())}return this},fc.prototype.toJSON=function(){var t=Qs.prototype.toJSON.call(this);t.points=[];for(var e=0,n=this.points.length;e<n;e++){var i=this.points[e];t.points.push(i.toArray())}return t},fc.prototype.fromJSON=function(t){Qs.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var i=t.points[e];this.points.push((new yt).fromArray(i))}return this};var pc=Object.freeze({__proto__:null,ArcCurve:Zs,CatmullRomCurve3:ic,CubicBezierCurve:sc,CubicBezierCurve3:cc,EllipseCurve:Ks,LineCurve:uc,LineCurve3:lc,QuadraticBezierCurve:hc,QuadraticBezierCurve3:dc,SplineCurve:fc});function vc(){Qs.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function mc(t){vc.call(this),this.type="Path",this.currentPoint=new yt,t&&this.setFromPoints(t)}function gc(t){mc.call(this,t),this.uuid=gt.generateUUID(),this.type="Shape",this.holes=[]}function yc(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Ae.call(this),this.type="Light",this.color=new Qe(t),this.intensity=e}function bc(t,e,n){yc.call(this,t,n),this.type="HemisphereLight",this.position.copy(Ae.DefaultUp),this.updateMatrix(),this.groundColor=new Qe(e)}function _c(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new yt(512,512),this.map=null,this.mapPass=null,this.matrix=new ne,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new oi,this._frameExtents=new yt(1,1),this._viewportCount=1,this._viewports=[new Ot(0,0,1,1)]}function wc(){_c.call(this,new Jn(50,1,.5,500)),this.focus=1}function xc(t,e,n,i,r,a){yc.call(this,t,e),this.type="SpotLight",this.position.copy(Ae.DefaultUp),this.updateMatrix(),this.target=new Ae,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==i?i:Math.PI/3,this.penumbra=void 0!==r?r:0,this.decay=void 0!==a?a:1,this.shadow=new wc}function kc(){_c.call(this,new Jn(90,1,.5,500)),this._frameExtents=new yt(4,2),this._viewportCount=6,this._viewports=[new Ot(2,1,1,1),new Ot(0,1,1,1),new Ot(3,1,1,1),new Ot(1,1,1,1),new Ot(3,0,1,1),new Ot(1,0,1,1)],this._cubeDirections=[new Mt(1,0,0),new Mt(-1,0,0),new Mt(0,0,1),new Mt(0,0,-1),new Mt(0,1,0),new Mt(0,-1,0)],this._cubeUps=[new Mt(0,1,0),new Mt(0,1,0),new Mt(0,1,0),new Mt(0,1,0),new Mt(0,0,1),new Mt(0,0,-1)]}function Oc(t,e,n,i){yc.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==i?i:1,this.shadow=new kc}function Sc(t,e,n,i,r,a){Zn.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==t?t:-1,this.right=void 0!==e?e:1,this.top=void 0!==n?n:1,this.bottom=void 0!==i?i:-1,this.near=void 0!==r?r:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}function Cc(){_c.call(this,new Sc(-5,5,5,-5,.5,500))}function Ac(t,e){yc.call(this,t,e),this.type="DirectionalLight",this.position.copy(Ae.DefaultUp),this.updateMatrix(),this.target=new Ae,this.shadow=new Cc}function Mc(t,e){yc.call(this,t,e),this.type="AmbientLight"}function Tc(t,e,n,i){yc.call(this,t,e),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==i?i:10}vc.prototype=Object.assign(Object.create(Qs.prototype),{constructor:vc,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new uc(e,t))},getPoint:function(t){for(var e=t*this.getLength(),n=this.getCurveLengths(),i=0;i<n.length;){if(n[i]>=e){var r=n[i]-e,a=this.curves[i],o=a.getLength(),s=0===o?0:1-r/o;return a.getPointAt(s)}i++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,n=0,i=this.curves.length;n<i;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(){for(var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,n=[],i=0,r=this.curves;i<r.length;i++)for(var a=r[i],o=a&&a.isEllipseCurve?2*e:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?e*a.points.length:e,s=a.getPoints(o),c=0;c<s.length;c++){var u=s[c];t&&t.equals(u)||(n.push(u),t=u)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(t){Qs.prototype.copy.call(this,t),this.curves=[];for(var e=0,n=t.curves.length;e<n;e++){var i=t.curves[e];this.curves.push(i.clone())}return this.autoClose=t.autoClose,this},toJSON:function(){var t=Qs.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(var e=0,n=this.curves.length;e<n;e++){var i=this.curves[e];t.curves.push(i.toJSON())}return t},fromJSON:function(t){Qs.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(var e=0,n=t.curves.length;e<n;e++){var i=t.curves[e];this.curves.push((new pc[i.type]).fromJSON(i))}return this}}),mc.prototype=Object.assign(Object.create(vc.prototype),{constructor:mc,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y);return this},moveTo:function(t,e){return this.currentPoint.set(t,e),this},lineTo:function(t,e){var n=new uc(this.currentPoint.clone(),new yt(t,e));return this.curves.push(n),this.currentPoint.set(t,e),this},quadraticCurveTo:function(t,e,n,i){var r=new hc(this.currentPoint.clone(),new yt(t,e),new yt(n,i));return this.curves.push(r),this.currentPoint.set(n,i),this},bezierCurveTo:function(t,e,n,i,r,a){var o=new sc(this.currentPoint.clone(),new yt(t,e),new yt(n,i),new yt(r,a));return this.curves.push(o),this.currentPoint.set(r,a),this},splineThru:function(t){var e=new fc([this.currentPoint.clone()].concat(t));return this.curves.push(e),this.currentPoint.copy(t[t.length-1]),this},arc:function(t,e,n,i,r,a){var o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(t+o,e+s,n,i,r,a),this},absarc:function(t,e,n,i,r,a){return this.absellipse(t,e,n,n,i,r,a),this},ellipse:function(t,e,n,i,r,a,o,s){var c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(t+c,e+u,n,i,r,a,o,s),this},absellipse:function(t,e,n,i,r,a,o,s){var c=new Ks(t,e,n,i,r,a,o,s);if(this.curves.length>0){var u=c.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(c);var l=c.getPoint(1);return this.currentPoint.copy(l),this},copy:function(t){return vc.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:function(){var t=vc.prototype.toJSON.call(this);return t.currentPoint=this.currentPoint.toArray(),t},fromJSON:function(t){return vc.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}),gc.prototype=Object.assign(Object.create(mc.prototype),{constructor:gc,getPointsHoles:function(t){for(var e=[],n=0,i=this.holes.length;n<i;n++)e[n]=this.holes[n].getPoints(t);return e},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(t){mc.prototype.copy.call(this,t),this.holes=[];for(var e=0,n=t.holes.length;e<n;e++){var i=t.holes[e];this.holes.push(i.clone())}return this},toJSON:function(){var t=mc.prototype.toJSON.call(this);t.uuid=this.uuid,t.holes=[];for(var e=0,n=this.holes.length;e<n;e++){var i=this.holes[e];t.holes.push(i.toJSON())}return t},fromJSON:function(t){mc.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(var e=0,n=t.holes.length;e<n;e++){var i=t.holes[e];this.holes.push((new mc).fromJSON(i))}return this}}),yc.prototype=Object.assign(Object.create(Ae.prototype),{constructor:yc,isLight:!0,copy:function(t){return Ae.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=Ae.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),bc.prototype=Object.assign(Object.create(yc.prototype),{constructor:bc,isHemisphereLight:!0,copy:function(t){return yc.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(_c.prototype,{_projScreenMatrix:new ne,_lightPositionWorld:new Mt,_lookTarget:new Mt,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(t){var e=this.camera,n=this.matrix,i=this._projScreenMatrix,r=this._lookTarget,a=this._lightPositionWorld;a.setFromMatrixPosition(t.matrixWorld),e.position.copy(a),r.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(r),e.updateMatrixWorld(),i.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(i),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(e.projectionMatrix),n.multiply(e.matrixWorldInverse)},getViewport:function(t){return this._viewports[t]},getFrameExtents:function(){return this._frameExtents},copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),wc.prototype=Object.assign(Object.create(_c.prototype),{constructor:wc,isSpotLightShadow:!0,updateMatrices:function(t){var e=this.camera,n=2*gt.RAD2DEG*t.angle*this.focus,i=this.mapSize.width/this.mapSize.height,r=t.distance||e.far;n===e.fov&&i===e.aspect&&r===e.far||(e.fov=n,e.aspect=i,e.far=r,e.updateProjectionMatrix()),_c.prototype.updateMatrices.call(this,t)}}),xc.prototype=Object.assign(Object.create(yc.prototype),{constructor:xc,isSpotLight:!0,copy:function(t){return yc.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),kc.prototype=Object.assign(Object.create(_c.prototype),{constructor:kc,isPointLightShadow:!0,updateMatrices:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.camera,i=this.matrix,r=this._lightPositionWorld,a=this._lookTarget,o=this._projScreenMatrix;r.setFromMatrixPosition(t.matrixWorld),n.position.copy(r),a.copy(n.position),a.add(this._cubeDirections[e]),n.up.copy(this._cubeUps[e]),n.lookAt(a),n.updateMatrixWorld(),i.makeTranslation(-r.x,-r.y,-r.z),o.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(o)}}),Oc.prototype=Object.assign(Object.create(yc.prototype),{constructor:Oc,isPointLight:!0,copy:function(t){return yc.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),Sc.prototype=Object.assign(Object.create(Zn.prototype),{constructor:Sc,isOrthographicCamera:!0,copy:function(t,e){return Zn.prototype.copy.call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,n,i,r,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2,r=n-t,a=n+t,o=i+e,s=i-e;if(null!==this.view&&this.view.enabled){var c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a=(r+=c*this.view.offsetX)+c*this.view.width,s=(o-=u*this.view.offsetY)-u*this.view.height}this.projectionMatrix.makeOrthographic(r,a,o,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(t){var e=Ae.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}),Cc.prototype=Object.assign(Object.create(_c.prototype),{constructor:Cc,isDirectionalLightShadow:!0,updateMatrices:function(t){_c.prototype.updateMatrices.call(this,t)}}),Ac.prototype=Object.assign(Object.create(yc.prototype),{constructor:Ac,isDirectionalLight:!0,copy:function(t){return yc.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Mc.prototype=Object.assign(Object.create(yc.prototype),{constructor:Mc,isAmbientLight:!0}),Tc.prototype=Object.assign(Object.create(yc.prototype),{constructor:Tc,isRectAreaLight:!0,copy:function(t){return yc.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){var e=yc.prototype.toJSON.call(this,t);return e.object.width=this.width,e.object.height=this.height,e}});var Ec=function(){function t(){Object(l.a)(this,t),Object.defineProperty(this,"isSphericalHarmonics3",{value:!0}),this.coefficients=[];for(var e=0;e<9;e++)this.coefficients.push(new Mt)}return Object(h.a)(t,[{key:"set",value:function(t){for(var e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}},{key:"zero",value:function(){for(var t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}},{key:"getAt",value:function(t,e){var n=t.x,i=t.y,r=t.z,a=this.coefficients;return e.copy(a[0]).multiplyScalar(.282095),e.addScaledVector(a[1],.488603*i),e.addScaledVector(a[2],.488603*r),e.addScaledVector(a[3],.488603*n),e.addScaledVector(a[4],n*i*1.092548),e.addScaledVector(a[5],i*r*1.092548),e.addScaledVector(a[6],.315392*(3*r*r-1)),e.addScaledVector(a[7],n*r*1.092548),e.addScaledVector(a[8],.546274*(n*n-i*i)),e}},{key:"getIrradianceAt",value:function(t,e){var n=t.x,i=t.y,r=t.z,a=this.coefficients;return e.copy(a[0]).multiplyScalar(.886227),e.addScaledVector(a[1],1.023328*i),e.addScaledVector(a[2],1.023328*r),e.addScaledVector(a[3],1.023328*n),e.addScaledVector(a[4],.858086*n*i),e.addScaledVector(a[5],.858086*i*r),e.addScaledVector(a[6],.743125*r*r-.247708),e.addScaledVector(a[7],.858086*n*r),e.addScaledVector(a[8],.429043*(n*n-i*i)),e}},{key:"add",value:function(t){for(var e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}},{key:"addScaledSH",value:function(t,e){for(var n=0;n<9;n++)this.coefficients[n].addScaledVector(t.coefficients[n],e);return this}},{key:"scale",value:function(t){for(var e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}},{key:"lerp",value:function(t,e){for(var n=0;n<9;n++)this.coefficients[n].lerp(t.coefficients[n],e);return this}},{key:"equals",value:function(t){for(var e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}},{key:"copy",value:function(t){return this.set(t.coefficients)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,i=0;i<9;i++)n[i].fromArray(t,e+3*i);return this}},{key:"toArray",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,i=0;i<9;i++)n[i].toArray(t,e+3*i);return t}}],[{key:"getBasisAt",value:function(t,e){var n=t.x,i=t.y,r=t.z;e[0]=.282095,e[1]=.488603*i,e[2]=.488603*r,e[3]=.488603*n,e[4]=1.092548*n*i,e[5]=1.092548*i*r,e[6]=.315392*(3*r*r-1),e[7]=1.092548*n*r,e[8]=.546274*(n*n-i*i)}}]),t}();function Pc(t,e){yc.call(this,void 0,e),this.type="LightProbe",this.sh=void 0!==t?t:new Ec}function Dc(t){zs.call(this,t),this.textures={}}Pc.prototype=Object.assign(Object.create(yc.prototype),{constructor:Pc,isLightProbe:!0,copy:function(t){return yc.prototype.copy.call(this,t),this.sh.copy(t.sh),this},fromJSON:function(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this},toJSON:function(t){var e=yc.prototype.toJSON.call(this,t);return e.object.sh=this.sh.toArray(),e}}),Dc.prototype=Object.assign(Object.create(zs.prototype),{constructor:Dc,load:function(t,e,n,i){var r=this,a=new Hs(r.manager);a.setPath(r.path),a.setRequestHeader(r.requestHeader),a.setWithCredentials(r.withCredentials),a.load(t,(function(n){try{e(r.parse(JSON.parse(n)))}catch(a){i?i(a):console.error(a),r.manager.itemError(t)}}),n,i)},parse:function(t){var e=this.textures;function n(t){return void 0===e[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),e[t]}var i=new ws[t.type];if(void 0!==t.uuid&&(i.uuid=t.uuid),void 0!==t.name&&(i.name=t.name),void 0!==t.color&&void 0!==i.color&&i.color.setHex(t.color),void 0!==t.roughness&&(i.roughness=t.roughness),void 0!==t.metalness&&(i.metalness=t.metalness),void 0!==t.sheen&&(i.sheen=(new Qe).setHex(t.sheen)),void 0!==t.emissive&&void 0!==i.emissive&&i.emissive.setHex(t.emissive),void 0!==t.specular&&void 0!==i.specular&&i.specular.setHex(t.specular),void 0!==t.shininess&&(i.shininess=t.shininess),void 0!==t.clearcoat&&(i.clearcoat=t.clearcoat),void 0!==t.clearcoatRoughness&&(i.clearcoatRoughness=t.clearcoatRoughness),void 0!==t.fog&&(i.fog=t.fog),void 0!==t.flatShading&&(i.flatShading=t.flatShading),void 0!==t.blending&&(i.blending=t.blending),void 0!==t.combine&&(i.combine=t.combine),void 0!==t.side&&(i.side=t.side),void 0!==t.opacity&&(i.opacity=t.opacity),void 0!==t.transparent&&(i.transparent=t.transparent),void 0!==t.alphaTest&&(i.alphaTest=t.alphaTest),void 0!==t.depthTest&&(i.depthTest=t.depthTest),void 0!==t.depthWrite&&(i.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(i.colorWrite=t.colorWrite),void 0!==t.stencilWrite&&(i.stencilWrite=t.stencilWrite),void 0!==t.stencilWriteMask&&(i.stencilWriteMask=t.stencilWriteMask),void 0!==t.stencilFunc&&(i.stencilFunc=t.stencilFunc),void 0!==t.stencilRef&&(i.stencilRef=t.stencilRef),void 0!==t.stencilFuncMask&&(i.stencilFuncMask=t.stencilFuncMask),void 0!==t.stencilFail&&(i.stencilFail=t.stencilFail),void 0!==t.stencilZFail&&(i.stencilZFail=t.stencilZFail),void 0!==t.stencilZPass&&(i.stencilZPass=t.stencilZPass),void 0!==t.wireframe&&(i.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(i.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(i.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(i.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(i.rotation=t.rotation),1!==t.linewidth&&(i.linewidth=t.linewidth),void 0!==t.dashSize&&(i.dashSize=t.dashSize),void 0!==t.gapSize&&(i.gapSize=t.gapSize),void 0!==t.scale&&(i.scale=t.scale),void 0!==t.polygonOffset&&(i.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(i.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(i.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.skinning&&(i.skinning=t.skinning),void 0!==t.morphTargets&&(i.morphTargets=t.morphTargets),void 0!==t.morphNormals&&(i.morphNormals=t.morphNormals),void 0!==t.dithering&&(i.dithering=t.dithering),void 0!==t.vertexTangents&&(i.vertexTangents=t.vertexTangents),void 0!==t.visible&&(i.visible=t.visible),void 0!==t.toneMapped&&(i.toneMapped=t.toneMapped),void 0!==t.userData&&(i.userData=t.userData),void 0!==t.vertexColors&&("number"==typeof t.vertexColors?i.vertexColors=t.vertexColors>0:i.vertexColors=t.vertexColors),void 0!==t.uniforms)for(var r in t.uniforms){var a=t.uniforms[r];switch(i.uniforms[r]={},a.type){case"t":i.uniforms[r].value=n(a.value);break;case"c":i.uniforms[r].value=(new Qe).setHex(a.value);break;case"v2":i.uniforms[r].value=(new yt).fromArray(a.value);break;case"v3":i.uniforms[r].value=(new Mt).fromArray(a.value);break;case"v4":i.uniforms[r].value=(new Ot).fromArray(a.value);break;case"m3":i.uniforms[r].value=(new bt).fromArray(a.value);break;case"m4":i.uniforms[r].value=(new ne).fromArray(a.value);break;default:i.uniforms[r].value=a.value}}if(void 0!==t.defines&&(i.defines=t.defines),void 0!==t.vertexShader&&(i.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(i.fragmentShader=t.fragmentShader),void 0!==t.extensions)for(var o in t.extensions)i.extensions[o]=t.extensions[o];if(void 0!==t.shading&&(i.flatShading=1===t.shading),void 0!==t.size&&(i.size=t.size),void 0!==t.sizeAttenuation&&(i.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(i.map=n(t.map)),void 0!==t.matcap&&(i.matcap=n(t.matcap)),void 0!==t.alphaMap&&(i.alphaMap=n(t.alphaMap)),void 0!==t.bumpMap&&(i.bumpMap=n(t.bumpMap)),void 0!==t.bumpScale&&(i.bumpScale=t.bumpScale),void 0!==t.normalMap&&(i.normalMap=n(t.normalMap)),void 0!==t.normalMapType&&(i.normalMapType=t.normalMapType),void 0!==t.normalScale){var s=t.normalScale;!1===Array.isArray(s)&&(s=[s,s]),i.normalScale=(new yt).fromArray(s)}return void 0!==t.displacementMap&&(i.displacementMap=n(t.displacementMap)),void 0!==t.displacementScale&&(i.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(i.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(i.roughnessMap=n(t.roughnessMap)),void 0!==t.metalnessMap&&(i.metalnessMap=n(t.metalnessMap)),void 0!==t.emissiveMap&&(i.emissiveMap=n(t.emissiveMap)),void 0!==t.emissiveIntensity&&(i.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(i.specularMap=n(t.specularMap)),void 0!==t.envMap&&(i.envMap=n(t.envMap)),void 0!==t.envMapIntensity&&(i.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(i.reflectivity=t.reflectivity),void 0!==t.refractionRatio&&(i.refractionRatio=t.refractionRatio),void 0!==t.lightMap&&(i.lightMap=n(t.lightMap)),void 0!==t.lightMapIntensity&&(i.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(i.aoMap=n(t.aoMap)),void 0!==t.aoMapIntensity&&(i.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(i.gradientMap=n(t.gradientMap)),void 0!==t.clearcoatMap&&(i.clearcoatMap=n(t.clearcoatMap)),void 0!==t.clearcoatRoughnessMap&&(i.clearcoatRoughnessMap=n(t.clearcoatRoughnessMap)),void 0!==t.clearcoatNormalMap&&(i.clearcoatNormalMap=n(t.clearcoatNormalMap)),void 0!==t.clearcoatNormalScale&&(i.clearcoatNormalScale=(new yt).fromArray(t.clearcoatNormalScale)),void 0!==t.transmission&&(i.transmission=t.transmission),void 0!==t.transmissionMap&&(i.transmissionMap=n(t.transmissionMap)),i},setTextures:function(t){return this.textures=t,this}});var jc={decodeText:function(t){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);for(var e="",n=0,i=t.length;n<i;n++)e+=String.fromCharCode(t[n]);try{return decodeURIComponent(escape(e))}catch(r){return e}},extractUrlBase:function(t){var e=t.lastIndexOf("/");return-1===e?"./":t.substr(0,e+1)}};function Rc(){Sn.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}function Ic(t,e,n,i){"number"==typeof n&&(i=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),nn.call(this,t,e,n),this.meshPerAttribute=i||1}function Lc(t){zs.call(this,t)}Rc.prototype=Object.assign(Object.create(Sn.prototype),{constructor:Rc,isInstancedBufferGeometry:!0,copy:function(t){return Sn.prototype.copy.call(this,t),this.instanceCount=t.instanceCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t=Sn.prototype.toJSON.call(this);return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}),Ic.prototype=Object.assign(Object.create(nn.prototype),{constructor:Ic,isInstancedBufferAttribute:!0,copy:function(t){return nn.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},toJSON:function(){var t=nn.prototype.toJSON.call(this);return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}),Lc.prototype=Object.assign(Object.create(zs.prototype),{constructor:Lc,load:function(t,e,n,i){var r=this,a=new Hs(r.manager);a.setPath(r.path),a.setRequestHeader(r.requestHeader),a.setWithCredentials(r.withCredentials),a.load(t,(function(n){try{e(r.parse(JSON.parse(n)))}catch(a){i?i(a):console.error(a),r.manager.itemError(t)}}),n,i)},parse:function(t){var e={},n={};function i(t,i){if(void 0!==e[i])return e[i];var r=t.interleavedBuffers[i],a=function(t,e){if(void 0!==n[e])return n[e];var i=t.arrayBuffers[e],r=new Uint32Array(i).buffer;return n[e]=r,r}(t,r.buffer),o=new ma(gn(r.type,a),r.stride);return o.uuid=r.uuid,e[i]=o,o}var r=t.isInstancedBufferGeometry?new Rc:new Sn,a=t.data.index;if(void 0!==a){var o=gn(a.type,a.array);r.setIndex(new nn(o,1))}var s=t.data.attributes;for(var c in s){var u=s[c],l=void 0;if(u.isInterleavedBufferAttribute){l=new ba(i(t.data,u.data),u.itemSize,u.offset,u.normalized)}else{var h=gn(u.type,u.array);l=new(u.isInstancedBufferAttribute?Ic:nn)(h,u.itemSize,u.normalized)}void 0!==u.name&&(l.name=u.name),r.setAttribute(c,l)}var d=t.data.morphAttributes;if(d)for(var f in d){for(var p=d[f],v=[],m=0,g=p.length;m<g;m++){var y=p[m],b=void 0;if(y.isInterleavedBufferAttribute)b=new ba(i(t.data,y.data),y.itemSize,y.offset,y.normalized);else b=new nn(gn(y.type,y.array),y.itemSize,y.normalized);void 0!==y.name&&(b.name=y.name),v.push(b)}r.morphAttributes[f]=v}t.data.morphTargetsRelative&&(r.morphTargetsRelative=!0);var _=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==_)for(var w=0,x=_.length;w!==x;++w){var k=_[w];r.addGroup(k.start,k.count,k.materialIndex)}var O=t.data.boundingSphere;if(void 0!==O){var S=new Mt;void 0!==O.center&&S.fromArray(O.center),r.boundingSphere=new qt(S,O.radius)}return t.name&&(r.name=t.name),t.userData&&(r.userData=t.userData),r}});var Nc;function Fc(t){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),zs.call(this,t),this.options={premultiplyAlpha:"none"}}function Bc(){this.type="ShapePath",this.color=new Qe,this.subPaths=[],this.currentPath=null}function zc(t){this.type="Font",this.data=t}function Uc(t,e,n){for(var i=Array.from?Array.from(t):String(t).split(""),r=e/n.resolution,a=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*r,o=[],s=0,c=0,u=0;u<i.length;u++){var l=i[u];if("\n"===l)s=0,c-=a;else{var h=Hc(l,r,s,c,n);s+=h.offsetX,o.push(h.path)}}return o}function Hc(t,e,n,i,r){var a=r.glyphs[t]||r.glyphs["?"];if(a){var o,s,c,u,l,h,d,f,p=new Bc;if(a.o)for(var v=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),m=0,g=v.length;m<g;){switch(v[m++]){case"m":o=v[m++]*e+n,s=v[m++]*e+i,p.moveTo(o,s);break;case"l":o=v[m++]*e+n,s=v[m++]*e+i,p.lineTo(o,s);break;case"q":c=v[m++]*e+n,u=v[m++]*e+i,l=v[m++]*e+n,h=v[m++]*e+i,p.quadraticCurveTo(l,h,c,u);break;case"b":c=v[m++]*e+n,u=v[m++]*e+i,l=v[m++]*e+n,h=v[m++]*e+i,d=v[m++]*e+n,f=v[m++]*e+i,p.bezierCurveTo(l,h,d,f,c,u)}}return{offsetX:a.ha*e,path:p}}console.error('THREE.Font: character "'+t+'" does not exists in font family '+r.familyName+".")}function Vc(t){zs.call(this,t)}Fc.prototype=Object.assign(Object.create(zs.prototype),{constructor:Fc,isImageBitmapLoader:!0,setOptions:function(t){return this.options=t,this},load:function(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var r=this,a=Ns.get(t);if(void 0!==a)return r.manager.itemStart(t),setTimeout((function(){e&&e(a),r.manager.itemEnd(t)}),0),a;var o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",fetch(t,o).then((function(t){return t.blob()})).then((function(t){return createImageBitmap(t,r.options)})).then((function(n){Ns.add(t,n),e&&e(n),r.manager.itemEnd(t)})).catch((function(e){i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)})),r.manager.itemStart(t)}}),Object.assign(Bc.prototype,{moveTo:function(t,e){return this.currentPath=new mc,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this},lineTo:function(t,e){return this.currentPath.lineTo(t,e),this},quadraticCurveTo:function(t,e,n,i){return this.currentPath.quadraticCurveTo(t,e,n,i),this},bezierCurveTo:function(t,e,n,i,r,a){return this.currentPath.bezierCurveTo(t,e,n,i,r,a),this},splineThru:function(t){return this.currentPath.splineThru(t),this},toShapes:function(t,e){function n(t){for(var e=[],n=0,i=t.length;n<i;n++){var r=t[n],a=new gc;a.curves=r.curves,e.push(a)}return e}function i(t,e){for(var n=e.length,i=!1,r=n-1,a=0;a<n;r=a++){var o=e[r],s=e[a],c=s.x-o.x,u=s.y-o.y;if(Math.abs(u)>Number.EPSILON){if(u<0&&(o=e[a],c=-c,s=e[r],u=-u),t.y<o.y||t.y>s.y)continue;if(t.y===o.y){if(t.x===o.x)return!0}else{var l=u*(t.x-o.x)-c*(t.y-o.y);if(0===l)return!0;if(l<0)continue;i=!i}}else{if(t.y!==o.y)continue;if(s.x<=t.x&&t.x<=o.x||o.x<=t.x&&t.x<=s.x)return!0}}return i}var r,a,o,s=$o.isClockWise,c=this.subPaths;if(0===c.length)return[];if(!0===e)return n(c);var u=[];if(1===c.length)return a=c[0],(o=new gc).curves=a.curves,u.push(o),u;var l=!s(c[0].getPoints());l=t?!l:l;var h,d,f=[],p=[],v=[],m=0;p[m]=void 0,v[m]=[];for(var g=0,y=c.length;g<y;g++)r=s(h=(a=c[g]).getPoints()),(r=t?!r:r)?(!l&&p[m]&&m++,p[m]={s:new gc,p:h},p[m].s.curves=a.curves,l&&m++,v[m]=[]):v[m].push({h:a,p:h[0]});if(!p[0])return n(c);if(p.length>1){for(var b=!1,_=[],w=0,x=p.length;w<x;w++)f[w]=[];for(var k=0,O=p.length;k<O;k++)for(var S=v[k],C=0;C<S.length;C++){for(var A=S[C],M=!0,T=0;T<p.length;T++)i(A.p,p[T].p)&&(k!==T&&_.push({froms:k,tos:T,hole:C}),M?(M=!1,f[T].push(A)):b=!0);M&&f[k].push(A)}_.length>0&&(b||(v=f))}for(var E=0,P=p.length;E<P;E++){o=p[E].s,u.push(o);for(var D=0,j=(d=v[E]).length;D<j;D++)o.holes.push(d[D].h)}return u}}),Object.assign(zc.prototype,{isFont:!0,generateShapes:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=[],i=Uc(t,e,this.data),r=0,a=i.length;r<a;r++)Array.prototype.push.apply(n,i[r].toShapes());return n}}),Vc.prototype=Object.assign(Object.create(zs.prototype),{constructor:Vc,load:function(t,e,n,i){var r=this,a=new Hs(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(r.withCredentials),a.load(t,(function(t){var n;try{n=JSON.parse(t)}catch(a){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(t.substring(65,t.length-2))}var i=r.parse(n);e&&e(i)}),n,i)},parse:function(t){return new zc(t)}});var Gc=function(){return void 0===Nc&&(Nc=new(window.AudioContext||window.webkitAudioContext)),Nc};function Wc(t){zs.call(this,t)}function Xc(t,e,n){Pc.call(this,void 0,n);var i=(new Qe).set(t),r=(new Qe).set(e),a=new Mt(i.r,i.g,i.b),o=new Mt(r.r,r.g,r.b),s=Math.sqrt(Math.PI),c=s*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(o).multiplyScalar(s),this.sh.coefficients[1].copy(a).sub(o).multiplyScalar(c)}function qc(t,e){Pc.call(this,void 0,e);var n=(new Qe).set(t);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}Wc.prototype=Object.assign(Object.create(zs.prototype),{constructor:Wc,load:function(t,e,n,i){var r=this,a=new Hs(r.manager);a.setResponseType("arraybuffer"),a.setPath(r.path),a.setRequestHeader(r.requestHeader),a.setWithCredentials(r.withCredentials),a.load(t,(function(n){try{var a=n.slice(0);Gc().decodeAudioData(a,(function(t){e(t)}))}catch(o){i?i(o):console.error(o),r.manager.itemError(t)}}),n,i)}}),Xc.prototype=Object.assign(Object.create(Pc.prototype),{constructor:Xc,isHemisphereLightProbe:!0,copy:function(t){return Pc.prototype.copy.call(this,t),this},toJSON:function(t){return Pc.prototype.toJSON.call(this,t)}}),qc.prototype=Object.assign(Object.create(Pc.prototype),{constructor:qc,isAmbientLightProbe:!0,copy:function(t){return Pc.prototype.copy.call(this,t),this},toJSON:function(t){return Pc.prototype.toJSON.call(this,t)}});var Yc=new ne,Qc=new ne;Object.assign((function(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Jn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Jn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}).prototype,{update:function(t){var e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep;var n,i,r=t.projectionMatrix.clone(),a=e.eyeSep/2,o=a*e.near/e.focus,s=e.near*Math.tan(gt.DEG2RAD*e.fov*.5)/e.zoom;Qc.elements[12]=-a,Yc.elements[12]=a,n=-s*e.aspect+o,i=s*e.aspect+o,r.elements[0]=2*e.near/(i-n),r.elements[8]=(i+n)/(i-n),this.cameraL.projectionMatrix.copy(r),n=-s*e.aspect-o,i=s*e.aspect-o,r.elements[0]=2*e.near/(i-n),r.elements[8]=(i+n)/(i-n),this.cameraR.projectionMatrix.copy(r)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(Qc),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(Yc)}});var Kc=function(){function t(e){Object(l.a)(this,t),this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}return Object(h.a)(t,[{key:"start",value:function(){this.startTime=Zc(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var e=Zc();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}]),t}();function Zc(){return("undefined"==typeof performance?Date:performance).now()}var Jc=new Mt,$c=new At,tu=new Mt,eu=new Mt,nu=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(){var t;return Object(l.a)(this,n),(t=e.call(this)).type="AudioListener",t.context=Gc(),t.gain=t.context.createGain(),t.gain.connect(t.context.destination),t.filter=null,t.timeDelta=0,t._clock=new Kc,t}return Object(h.a)(n,[{key:"getInput",value:function(){return this.gain}},{key:"removeFilter",value:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}},{key:"getFilter",value:function(){return this.filter}},{key:"setFilter",value:function(t){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}},{key:"getMasterVolume",value:function(){return this.gain.gain.value}},{key:"setMasterVolume",value:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}},{key:"updateMatrixWorld",value:function(t){Object(r.a)(Object(a.a)(n.prototype),"updateMatrixWorld",this).call(this,t);var e=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Jc,$c,tu),eu.set(0,0,-1).applyQuaternion($c),e.positionX){var o=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(Jc.x,o),e.positionY.linearRampToValueAtTime(Jc.y,o),e.positionZ.linearRampToValueAtTime(Jc.z,o),e.forwardX.linearRampToValueAtTime(eu.x,o),e.forwardY.linearRampToValueAtTime(eu.y,o),e.forwardZ.linearRampToValueAtTime(eu.z,o),e.upX.linearRampToValueAtTime(i.x,o),e.upY.linearRampToValueAtTime(i.y,o),e.upZ.linearRampToValueAtTime(i.z,o)}else e.setPosition(Jc.x,Jc.y,Jc.z),e.setOrientation(eu.x,eu.y,eu.z,i.x,i.y,i.z)}}]),n}(Ae),iu=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t){var i;return Object(l.a)(this,n),(i=e.call(this)).type="Audio",i.listener=t,i.context=t.context,i.gain=i.context.createGain(),i.gain.connect(t.getInput()),i.autoplay=!1,i.buffer=null,i.detune=0,i.loop=!1,i.loopStart=0,i.loopEnd=0,i.offset=0,i.duration=void 0,i.playbackRate=1,i.isPlaying=!1,i.hasPlaybackControl=!0,i.source=null,i.sourceType="empty",i._startedAt=0,i._progress=0,i._connected=!1,i.filters=[],i}return Object(h.a)(n,[{key:"getOutput",value:function(){return this.gain}},{key:"setNodeSource",value:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}},{key:"setMediaElementSource",value:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}},{key:"setMediaStreamSource",value:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}},{key:"setBuffer",value:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}},{key:"play",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+t;var e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")}},{key:"pause",value:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"stop",value:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"connect",value:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}},{key:"disconnect",value:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}},{key:"getFilters",value:function(){return this.filters}},{key:"setFilters",value:function(t){return t||(t=[]),!0===this._connected?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}},{key:"setDetune",value:function(t){if(this.detune=t,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}},{key:"getDetune",value:function(){return this.detune}},{key:"getFilter",value:function(){return this.getFilters()[0]}},{key:"setFilter",value:function(t){return this.setFilters(t?[t]:[])}},{key:"setPlaybackRate",value:function(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"onEnded",value:function(){this.isPlaying=!1}},{key:"getLoop",value:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}},{key:"setLoop",value:function(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"setLoopStart",value:function(t){return this.loopStart=t,this}},{key:"setLoopEnd",value:function(t){return this.loopEnd=t,this}},{key:"getVolume",value:function(){return this.gain.gain.value}},{key:"setVolume",value:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}]),n}(Ae),ru=new Mt,au=new At,ou=new Mt,su=new Mt,cu=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t){var i;return Object(l.a)(this,n),(i=e.call(this,t)).panner=i.context.createPanner(),i.panner.panningModel="HRTF",i.panner.connect(i.gain),i}return Object(h.a)(n,[{key:"getOutput",value:function(){return this.panner}},{key:"getRefDistance",value:function(){return this.panner.refDistance}},{key:"setRefDistance",value:function(t){return this.panner.refDistance=t,this}},{key:"getRolloffFactor",value:function(){return this.panner.rolloffFactor}},{key:"setRolloffFactor",value:function(t){return this.panner.rolloffFactor=t,this}},{key:"getDistanceModel",value:function(){return this.panner.distanceModel}},{key:"setDistanceModel",value:function(t){return this.panner.distanceModel=t,this}},{key:"getMaxDistance",value:function(){return this.panner.maxDistance}},{key:"setMaxDistance",value:function(t){return this.panner.maxDistance=t,this}},{key:"setDirectionalCone",value:function(t,e,n){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=n,this}},{key:"updateMatrixWorld",value:function(t){if(Object(r.a)(Object(a.a)(n.prototype),"updateMatrixWorld",this).call(this,t),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(ru,au,ou),su.set(0,0,1).applyQuaternion(au);var e=this.panner;if(e.positionX){var i=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(ru.x,i),e.positionY.linearRampToValueAtTime(ru.y,i),e.positionZ.linearRampToValueAtTime(ru.z,i),e.orientationX.linearRampToValueAtTime(su.x,i),e.orientationY.linearRampToValueAtTime(su.y,i),e.orientationZ.linearRampToValueAtTime(su.z,i)}else e.setPosition(ru.x,ru.y,ru.z),e.setOrientation(su.x,su.y,su.z)}}}]),n}(iu),uu=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048;Object(l.a)(this,t),this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}return Object(h.a)(t,[{key:"getFrequencyData",value:function(){return this.analyser.getByteFrequencyData(this.data),this.data}},{key:"getAverageFrequency",value:function(){for(var t=0,e=this.getFrequencyData(),n=0;n<e.length;n++)t+=e[n];return t/e.length}}]),t}();function lu(t,e,n){var i,r,a;switch(this.binding=t,this.valueSize=n,e){case"quaternion":i=this._slerp,r=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":i=this._select,r=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:i=this._lerp,r=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=r,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}Object.assign(lu.prototype,{accumulate:function(t,e){var n=this.buffer,i=this.valueSize,r=t*i+i,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==i;++o)n[r+o]=n[o];a=e}else{var s=e/(a+=e);this._mixBufferRegion(n,r,0,s,i)}this.cumulativeWeight=a},accumulateAdditive:function(t){var e=this.buffer,n=this.valueSize,i=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(e,i,0,t,n),this.cumulativeWeightAdditive+=t},apply:function(t){var e=this.valueSize,n=this.buffer,i=t*e+e,r=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){var s=e*this._origIndex;this._mixBufferRegion(n,i,s,1-r,e)}a>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*e,1,e);for(var c=e,u=e+e;c!==u;++c)if(n[c]!==n[c+e]){o.setValue(n,i);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,n=this.valueSize,i=n*this._origIndex;t.getValue(e,i);for(var r=n,a=i;r!==a;++r)e[r]=e[i+r%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_setAdditiveIdentityNumeric:function(){for(var t=this._addIndex*this.valueSize,e=t+this.valueSize,n=t;n<e;n++)this.buffer[n]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1},_setAdditiveIdentityOther:function(){for(var t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize,n=0;n<this.valueSize;n++)this.buffer[e+n]=this.buffer[t+n]},_select:function(t,e,n,i,r){if(i>=.5)for(var a=0;a!==r;++a)t[e+a]=t[n+a]},_slerp:function(t,e,n,i){At.slerpFlat(t,e,t,e,t,n,i)},_slerpAdditive:function(t,e,n,i,r){var a=this._workIndex*r;At.multiplyQuaternionsFlat(t,a,t,e,t,n),At.slerpFlat(t,e,t,e,t,a,i)},_lerp:function(t,e,n,i,r){for(var a=1-i,o=0;o!==r;++o){var s=e+o;t[s]=t[s]*a+t[n+o]*i}},_lerpAdditive:function(t,e,n,i,r){for(var a=0;a!==r;++a){var o=e+a;t[o]=t[o]+t[n+a]*i}}});var hu="\\[\\]\\.:\\/",du=new RegExp("[\\[\\]\\.:\\/]","g"),fu="[^\\[\\]\\.:\\/]",pu="[^"+hu.replace("\\.","")+"]",vu=/((?:WC+[\/:])*)/.source.replace("WC",fu),mu=/(WCOD+)?/.source.replace("WCOD",pu),gu=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",fu),yu=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",fu),bu=new RegExp("^"+vu+mu+gu+yu+"$"),_u=["material","materials","bones"];function wu(t,e,n){var i=n||xu.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,i)}function xu(t,e,n){this.path=e,this.parsedPath=n||xu.parseTrackName(e),this.node=xu.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}Object.assign(wu.prototype,{getValue:function(t,e){this.bind();var n=this._targetGroup.nCachedObjects_,i=this._bindings[n];void 0!==i&&i.getValue(t,e)},setValue:function(t,e){for(var n=this._bindings,i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}),Object.assign(xu,{Composite:wu,create:function(t,e,n){return t&&t.isAnimationObjectGroup?new xu.Composite(t,e,n):new xu(t,e,n)},sanitizeNodeName:function(t){return t.replace(/\s/g,"_").replace(du,"")},parseTrackName:function(t){var e=bu.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);var n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){var r=n.nodeName.substring(i+1);-1!==_u.indexOf(r)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=r)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n},findNode:function(t,e){if(!e||""===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var n=t.skeleton.getBoneByName(e);if(void 0!==n)return n}if(t.children){var i=function t(n){for(var i=0;i<n.length;i++){var r=n[i];if(r.name===e||r.uuid===e)return r;var a=t(r.children);if(a)return a}return null}(t.children);if(i)return i}return null}}),Object.assign(xu.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)t[e++]=n[i]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=t[e++]},function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,n=e.objectName,i=e.propertyName,r=e.propertyIndex;if(t||(t=xu.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(n){var a=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var o=0;o<t.length;o++)if(t[o].name===a){a=o;break}break;default:if(void 0===t[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[n]}if(void 0!==a){if(void 0===t[a])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[a]}}var s=t[i];if(void 0!==s){var c=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?c=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate);var u=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[r]&&(r=t.morphTargetDictionary[r])}u=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=r}else void 0!==s.fromArray&&void 0!==s.toArray?(u=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(u=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][c]}else{var l=e.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+l+"."+i+" but it wasn't found.",t)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(xu.prototype,{_getValue_unbound:xu.prototype.getValue,_setValue_unbound:xu.prototype.setValue}),Object.assign((function(){this.uuid=gt.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var e=0,n=arguments.length;e!==n;++e)t[arguments[e].uuid]=e;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}).prototype,{isAnimationObjectGroup:!0,add:function(){for(var t=this._objects,e=this._indicesByUUID,n=this._paths,i=this._parsedPaths,r=this._bindings,a=r.length,o=void 0,s=t.length,c=this.nCachedObjects_,u=0,l=arguments.length;u!==l;++u){var h=arguments[u],d=h.uuid,f=e[d];if(void 0===f){f=s++,e[d]=f,t.push(h);for(var p=0,v=a;p!==v;++p)r[p].push(new xu(h,n[p],i[p]))}else if(f<c){o=t[f];var m=--c,g=t[m];e[g.uuid]=f,t[f]=g,e[d]=m,t[m]=h;for(var y=0,b=a;y!==b;++y){var _=r[y],w=_[m],x=_[f];_[f]=w,void 0===x&&(x=new xu(h,n[y],i[y])),_[m]=x}}else t[f]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c},remove:function(){for(var t=this._objects,e=this._indicesByUUID,n=this._bindings,i=n.length,r=this.nCachedObjects_,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],c=s.uuid,u=e[c];if(void 0!==u&&u>=r){var l=r++,h=t[l];e[h.uuid]=u,t[u]=h,e[c]=l,t[l]=s;for(var d=0,f=i;d!==f;++d){var p=n[d],v=p[l],m=p[u];p[u]=v,p[l]=m}}}this.nCachedObjects_=r},uncache:function(){for(var t=this._objects,e=this._indicesByUUID,n=this._bindings,i=n.length,r=this.nCachedObjects_,a=t.length,o=0,s=arguments.length;o!==s;++o){var c=arguments[o],u=c.uuid,l=e[u];if(void 0!==l)if(delete e[u],l<r){var h=--r,d=t[h],f=--a,p=t[f];e[d.uuid]=l,t[l]=d,e[p.uuid]=h,t[h]=p,t.pop();for(var v=0,m=i;v!==m;++v){var g=n[v],y=g[h],b=g[f];g[l]=y,g[h]=b,g.pop()}}else{var _=--a,w=t[_];_>0&&(e[w.uuid]=l),t[l]=w,t.pop();for(var x=0,k=i;x!==k;++x){var O=n[x];O[l]=O[_],O.pop()}}}this.nCachedObjects_=r},subscribe_:function(t,e){var n=this._bindingsIndicesByPath,i=n[t],r=this._bindings;if(void 0!==i)return r[i];var a=this._paths,o=this._parsedPaths,s=this._objects,c=s.length,u=this.nCachedObjects_,l=new Array(c);i=r.length,n[t]=i,a.push(t),o.push(e),r.push(l);for(var h=u,d=s.length;h!==d;++h){var f=s[h];l[h]=new xu(f,t,e)}return l},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,n=e[t];if(void 0!==n){var i=this._paths,r=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];e[t[o]]=n,a[n]=s,a.pop(),r[n]=r[o],r.pop(),i[n]=i[o],i.pop()}}});var ku=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.blendMode;Object(l.a)(this,t),this._mixer=e,this._clip=n,this._localRoot=i,this.blendMode=r;for(var a=n.tracks,o=a.length,s=new Array(o),c={endingStart:Q,endingEnd:Q},u=0;u!==o;++u){var h=a[u].createInterpolant(null);s[u]=h,h.settings=c}this._interpolantSettings=c,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}return Object(h.a)(t,[{key:"play",value:function(){return this._mixer._activateAction(this),this}},{key:"stop",value:function(){return this._mixer._deactivateAction(this),this.reset()}},{key:"reset",value:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}},{key:"isRunning",value:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}},{key:"isScheduled",value:function(){return this._mixer._isActiveAction(this)}},{key:"startAt",value:function(t){return this._startTime=t,this}},{key:"setLoop",value:function(t,e){return this.loop=t,this.repetitions=e,this}},{key:"setEffectiveWeight",value:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}},{key:"getEffectiveWeight",value:function(){return this._effectiveWeight}},{key:"fadeIn",value:function(t){return this._scheduleFading(t,0,1)}},{key:"fadeOut",value:function(t){return this._scheduleFading(t,1,0)}},{key:"crossFadeFrom",value:function(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){var i=this._clip.duration,r=t._clip.duration,a=r/i,o=i/r;t.warp(1,a,e),this.warp(o,1,e)}return this}},{key:"crossFadeTo",value:function(t,e,n){return t.crossFadeFrom(this,e,n)}},{key:"stopFading",value:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}},{key:"setEffectiveTimeScale",value:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}},{key:"getEffectiveTimeScale",value:function(){return this._effectiveTimeScale}},{key:"setDuration",value:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}},{key:"syncWith",value:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}},{key:"halt",value:function(t){return this.warp(this._effectiveTimeScale,0,t)}},{key:"warp",value:function(t,e,n){var i=this._mixer,r=i.time,a=this.timeScale,o=this._timeScaleInterpolant;null===o&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,c=o.sampleValues;return s[0]=r,s[1]=r+n,c[0]=t/a,c[1]=e/a,this}},{key:"stopWarping",value:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}},{key:"getMixer",value:function(){return this._mixer}},{key:"getClip",value:function(){return this._clip}},{key:"getRoot",value:function(){return this._localRoot||this._mixer._root}},{key:"_update",value:function(t,e,n,i){if(this.enabled){var r=this._startTime;if(null!==r){var a=(t-r)*n;if(a<0||0===n)return;this._startTime=null,e=n*a}e*=this._updateTimeScale(t);var o=this._updateTime(e),s=this._updateWeight(t);if(s>0){var c=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case $:for(var l=0,h=c.length;l!==h;++l)c[l].evaluate(o),u[l].accumulateAdditive(s);break;case J:default:for(var d=0,f=c.length;d!==f;++d)c[d].evaluate(o),u[d].accumulate(i,s)}}}else this._updateWeight(t)}},{key:"_updateWeight",value:function(t){var e=0;if(this.enabled){e=this.weight;var n=this._weightInterpolant;if(null!==n){var i=n.evaluate(t)[0];e*=i,t>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=e,e}},{key:"_updateTimeScale",value:function(t){var e=0;if(!this.paused){e=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}return this._effectiveTimeScale=e,e}},{key:"_updateTime",value:function(t){var e=this._clip.duration,n=this.loop,i=this.time+t,r=this._loopCount,a=2202===n;if(0===t)return-1===r?i:a&&1==(1&r)?e-i:i;if(2200===n){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(i>=e)i=e;else{if(!(i<0)){this.time=i;break t}i=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===r&&(t>=0?(r=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),i>=e||i<0){var o=Math.floor(i/e);i-=e*o,r+=Math.abs(o);var s=this.repetitions-r;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=t>0?e:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===s){var c=t<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=r,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=i;if(a&&1==(1&r))return e-i}return i}},{key:"_setEndings",value:function(t,e,n){var i=this._interpolantSettings;n?(i.endingStart=K,i.endingEnd=K):(i.endingStart=t?this.zeroSlopeAtStart?K:Q:Z,i.endingEnd=e?this.zeroSlopeAtEnd?K:Q:Z)}},{key:"_scheduleFading",value:function(t,e,n){var i=this._mixer,r=i.time,a=this._weightInterpolant;null===a&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=r,s[0]=e,o[1]=r+t,s[1]=n,this}}]),t}();function Ou(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}Ou.prototype=Object.assign(Object.create(dt.prototype),{constructor:Ou,_bindAction:function(t,e){var n=t._localRoot||this._root,i=t._clip.tracks,r=i.length,a=t._propertyBindings,o=t._interpolants,s=n.uuid,c=this._bindingsByRootAndName,u=c[s];void 0===u&&(u={},c[s]=u);for(var l=0;l!==r;++l){var h=i[l],d=h.name,f=u[d];if(void 0!==f)a[l]=f;else{if(void 0!==(f=a[l])){null===f._cacheIndex&&(++f.referenceCount,this._addInactiveBinding(f,s,d));continue}var p=e&&e._propertyBindings[l].binding.parsedPath;++(f=new lu(xu.create(n,d,p),h.ValueTypeName,h.getValueSize())).referenceCount,this._addInactiveBinding(f,s,d),a[l]=f}o[l].resultBuffer=f.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,n=t._clip.uuid,i=this._actionsByClip[n];this._bindAction(t,i&&i.knownActions[0]),this._addInactiveAction(t,n,e)}for(var r=t._propertyBindings,a=0,o=r.length;a!==o;++a){var s=r[a];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,n=0,i=e.length;n!==i;++n){var r=e[n];0==--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,n){var i=this._actions,r=this._actionsByClip,a=r[e];if(void 0===a)a={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,r[e]=a;else{var o=a.knownActions;t._byClipCacheIndex=o.length,o.push(t)}t._cacheIndex=i.length,i.push(t),a.actionByRoot[n]=t},_removeInactiveAction:function(t){var e=this._actions,n=e[e.length-1],i=t._cacheIndex;n._cacheIndex=i,e[i]=n,e.pop(),t._cacheIndex=null;var r=t._clip.uuid,a=this._actionsByClip,o=a[r],s=o.knownActions,c=s[s.length-1],u=t._byClipCacheIndex;c._byClipCacheIndex=u,s[u]=c,s.pop(),t._byClipCacheIndex=null,delete o.actionByRoot[(t._localRoot||this._root).uuid],0===s.length&&delete a[r],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,n=0,i=e.length;n!==i;++n){var r=e[n];0==--r.referenceCount&&this._removeInactiveBinding(r)}},_lendAction:function(t){var e=this._actions,n=t._cacheIndex,i=this._nActiveActions++,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_takeBackAction:function(t){var e=this._actions,n=t._cacheIndex,i=--this._nActiveActions,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_addInactiveBinding:function(t,e,n){var i=this._bindingsByRootAndName,r=this._bindings,a=i[e];void 0===a&&(a={},i[e]=a),a[n]=t,t._cacheIndex=r.length,r.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,n=t.binding,i=n.rootNode.uuid,r=n.path,a=this._bindingsByRootAndName,o=a[i],s=e[e.length-1],c=t._cacheIndex;s._cacheIndex=c,e[c]=s,e.pop(),delete o[r],0===Object.keys(o).length&&delete a[i]},_lendBinding:function(t){var e=this._bindings,n=t._cacheIndex,i=this._nActiveBindings++,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_takeBackBinding:function(t){var e=this._bindings,n=t._cacheIndex,i=--this._nActiveBindings,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,n=t[e];return void 0===n&&((n=new Ss(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=e,t[e]=n),n},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,n=t.__cacheIndex,i=--this._nActiveControlInterpolants,r=e[i];t.__cacheIndex=i,e[i]=t,r.__cacheIndex=n,e[n]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e,n){var i=e||this._root,r=i.uuid,a="string"==typeof t?Is.findByName(i,t):t,o=null!==a?a.uuid:t,s=this._actionsByClip[o],c=null;if(void 0===n&&(n=null!==a?a.blendMode:J),void 0!==s){var u=s.actionByRoot[r];if(void 0!==u&&u.blendMode===n)return u;c=s.knownActions[0],null===a&&(a=c._clip)}if(null===a)return null;var l=new ku(this,a,e,n);return this._bindAction(l,c),this._addInactiveAction(l,o,r),l},existingAction:function(t,e){var n=e||this._root,i=n.uuid,r="string"==typeof t?Is.findByName(n,t):t,a=r?r.uuid:t,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[i]||null},stopAllAction:function(){for(var t=this._actions,e=this._nActiveActions-1;e>=0;--e)t[e].stop();return this},update:function(t){t*=this.timeScale;for(var e=this._actions,n=this._nActiveActions,i=this.time+=t,r=Math.sign(t),a=this._accuIndex^=1,o=0;o!==n;++o){e[o]._update(i,t,r,a)}for(var s=this._bindings,c=this._nActiveBindings,u=0;u!==c;++u)s[u].apply(a);return this},setTime:function(t){this.time=0;for(var e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,n=t.uuid,i=this._actionsByClip,r=i[n];if(void 0!==r){for(var a=r.knownActions,o=0,s=a.length;o!==s;++o){var c=a[o];this._deactivateAction(c);var u=c._cacheIndex,l=e[e.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,l._cacheIndex=u,e[u]=l,e.pop(),this._removeInactiveBindingsForAction(c)}delete i[n]}},uncacheRoot:function(t){var e=t.uuid,n=this._actionsByClip;for(var i in n){var r=n[i].actionByRoot[e];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}var a=this._bindingsByRootAndName[e];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(t,e){var n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}});var Su=function(){function t(e){Object(l.a)(this,t),"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}return Object(h.a)(t,[{key:"clone",value:function(){return new t(void 0===this.value.clone?this.value:this.value.clone())}}]),t}();function Cu(t,e,n){ma.call(this,t,e),this.meshPerAttribute=n||1}function Au(t,e,n,i,r){this.buffer=t,this.type=e,this.itemSize=n,this.elementSize=i,this.count=r,this.version=0}function Mu(t,e,n,i){this.ray=new ee(t,e),this.near=n||0,this.far=i||1/0,this.camera=null,this.layers=new fe,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Tu(t,e){return t.distance-e.distance}function Eu(t,e,n,i){if(t.layers.test(e.layers)&&t.raycast(e,n),!0===i)for(var r=t.children,a=0,o=r.length;a<o;a++)Eu(r[a],e,n,!0)}Cu.prototype=Object.assign(Object.create(ma.prototype),{constructor:Cu,isInstancedInterleavedBuffer:!0,copy:function(t){return ma.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},clone:function(t){var e=ma.prototype.clone.call(this,t);return e.meshPerAttribute=this.meshPerAttribute,e},toJSON:function(t){var e=ma.prototype.toJSON.call(this,t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}),Object.defineProperty(Au.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Au.prototype,{isGLBufferAttribute:!0,setBuffer:function(t){return this.buffer=t,this},setType:function(t,e){return this.type=t,this.elementSize=e,this},setItemSize:function(t){return this.itemSize=t,this},setCount:function(t){return this.count=t,this}}),Object.assign(Mu.prototype,{set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,e,n){var i=n||[];return Eu(t,this,i,e),i.sort(Tu),i},intersectObjects:function(t,e,n){var i=n||[];if(!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(var r=0,a=t.length;r<a;r++)Eu(t[r],this,i,e);return i.sort(Tu),i}});var Pu=new yt,Du=function(){function t(e,n){Object(l.a)(this,t),Object.defineProperty(this,"isBox2",{value:!0}),this.min=void 0!==e?e:new yt(1/0,1/0),this.max=void 0!==n?n:new yt(-1/0,-1/0)}return Object(h.a)(t,[{key:"set",value:function(t,e){return this.min.copy(t),this.max.copy(e),this}},{key:"setFromPoints",value:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}},{key:"setFromCenterAndSize",value:function(t,e){var n=Pu.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.min.copy(t.min),this.max.copy(t.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(t){return void 0===t&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new yt),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(t){return void 0===t&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new yt),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(t){return this.min.min(t),this.max.max(t),this}},{key:"expandByVector",value:function(t){return this.min.sub(t),this.max.add(t),this}},{key:"expandByScalar",value:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this}},{key:"containsPoint",value:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}},{key:"containsBox",value:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}},{key:"getParameter",value:function(t,e){return void 0===e&&(console.warn("THREE.Box2: .getParameter() target is now required"),e=new yt),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}},{key:"intersectsBox",value:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}},{key:"clampPoint",value:function(t,e){return void 0===e&&(console.warn("THREE.Box2: .clampPoint() target is now required"),e=new yt),e.copy(t).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(t){return Pu.copy(t).clamp(this.min,this.max).sub(t).length()}},{key:"intersect",value:function(t){return this.min.max(t.min),this.max.min(t.max),this}},{key:"union",value:function(t){return this.min.min(t.min),this.max.max(t.max),this}},{key:"translate",value:function(t){return this.min.add(t),this.max.add(t),this}},{key:"equals",value:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}]),t}(),ju=new Mt,Ru=new Mt,Iu=function(){function t(e,n){Object(l.a)(this,t),this.start=void 0!==e?e:new Mt,this.end=void 0!==n?n:new Mt}return Object(h.a)(t,[{key:"set",value:function(t,e){return this.start.copy(t),this.end.copy(e),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.start.copy(t.start),this.end.copy(t.end),this}},{key:"getCenter",value:function(t){return void 0===t&&(console.warn("THREE.Line3: .getCenter() target is now required"),t=new Mt),t.addVectors(this.start,this.end).multiplyScalar(.5)}},{key:"delta",value:function(t){return void 0===t&&(console.warn("THREE.Line3: .delta() target is now required"),t=new Mt),t.subVectors(this.end,this.start)}},{key:"distanceSq",value:function(){return this.start.distanceToSquared(this.end)}},{key:"distance",value:function(){return this.start.distanceTo(this.end)}},{key:"at",value:function(t,e){return void 0===e&&(console.warn("THREE.Line3: .at() target is now required"),e=new Mt),this.delta(e).multiplyScalar(t).add(this.start)}},{key:"closestPointToPointParameter",value:function(t,e){ju.subVectors(t,this.start),Ru.subVectors(this.end,this.start);var n=Ru.dot(Ru),i=Ru.dot(ju)/n;return e&&(i=gt.clamp(i,0,1)),i}},{key:"closestPointToPoint",value:function(t,e,n){var i=this.closestPointToPointParameter(t,e);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new Mt),this.delta(n).multiplyScalar(i).add(this.start)}},{key:"applyMatrix4",value:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}},{key:"equals",value:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}}]),t}();function Lu(t){Ae.call(this),this.material=t,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}Lu.prototype=Object.create(Ae.prototype),Lu.prototype.constructor=Lu,Lu.prototype.isImmediateRenderObject=!0;var Nu=new Mt,Fu=new ne,Bu=new ne,zu=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t){var i;Object(l.a)(this,n);for(var r=function t(e){var n=[];e&&e.isBone&&n.push(e);for(var i=0;i<e.children.length;i++)n.push.apply(n,t(e.children[i]));return n}(t),a=new Sn,o=[],s=[],c=new Qe(0,0,1),u=new Qe(0,1,0),h=0;h<r.length;h++){var d=r[h];d.parent&&d.parent.isBone&&(o.push(0,0,0),o.push(0,0,0),s.push(c.r,c.g,c.b),s.push(u.r,u.g,u.b))}a.setAttribute("position",new dn(o,3)),a.setAttribute("color",new dn(s,3));var f=new $a({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});return(i=e.call(this,a,f)).type="SkeletonHelper",i.isSkeletonHelper=!0,i.root=t,i.bones=r,i.matrix=t.matrixWorld,i.matrixAutoUpdate=!1,i}return Object(h.a)(n,[{key:"updateMatrixWorld",value:function(t){var e=this.bones,i=this.geometry,o=i.getAttribute("position");Bu.copy(this.root.matrixWorld).invert();for(var s=0,c=0;s<e.length;s++){var u=e[s];u.parent&&u.parent.isBone&&(Fu.multiplyMatrices(Bu,u.matrixWorld),Nu.setFromMatrixPosition(Fu),o.setXYZ(c,Nu.x,Nu.y,Nu.z),Fu.multiplyMatrices(Bu,u.parent.matrixWorld),Nu.setFromMatrixPosition(Fu),o.setXYZ(c+1,Nu.x,Nu.y,Nu.z),c+=2)}i.getAttribute("position").needsUpdate=!0,Object(r.a)(Object(a.a)(n.prototype),"updateMatrixWorld",this).call(this,t)}}]),n}(co);var Uu=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;Object(l.a)(this,n),a=new Qe(a),o=new Qe(o);for(var s=r/2,c=i/r,u=i/2,h=[],d=[],f=0,p=0,v=-u;f<=r;f++,v+=c){h.push(-u,0,v,u,0,v),h.push(v,0,-u,v,0,u);var m=f===s?a:o;m.toArray(d,p),p+=3,m.toArray(d,p),p+=3,m.toArray(d,p),p+=3,m.toArray(d,p),p+=3}var g=new Sn;g.setAttribute("position",new dn(h,3)),g.setAttribute("color",new dn(d,3));var y=new $a({vertexColors:!0,toneMapped:!1});return(t=e.call(this,g,y)).type="GridHelper",t}return n}(co);var Hu=new Float32Array(1),Vu=(new Int32Array(Hu.buffer),Math.pow(2,8),[.125,.215,.35,.446,.526,.582]),Gu=5+Vu.length,Wu=(i={},Object(o.a)(i,nt,0),Object(o.a)(i,it,1),Object(o.a)(i,at,2),Object(o.a)(i,3004,3),Object(o.a)(i,3005,4),Object(o.a)(i,3006,5),Object(o.a)(i,rt,6),Xu());Wu._lodPlanes,Wu._sizeLods,Wu._sigmas,Math.sqrt(5);function Xu(){for(var t=[],e=[],n=[],i=8,r=0;r<Gu;r++){var a=Math.pow(2,i);e.push(a);var o=1/a;r>4?o=Vu[r-8+4-1]:0==r&&(o=0),n.push(o);for(var s=1/(a-1),c=-s/2,u=1+s/2,l=[c,c,u,c,u,u,c,c,u,u,c,u],h=new Float32Array(108),d=new Float32Array(72),f=new Float32Array(36),p=0;p<6;p++){var v=p%3*2/3-1,m=p>2?0:-1,g=[v,m,0,v+2/3,m,0,v+2/3,m+1,0,v,m,0,v+2/3,m+1,0,v,m+1,0];h.set(g,18*p),d.set(l,12*p);var y=[p,p,p,p,p,p];f.set(y,6*p)}var b=new Sn;b.setAttribute("position",new nn(h,3)),b.setAttribute("uv",new nn(d,2)),b.setAttribute("faceIndex",new nn(f,1)),t.push(b),i>4&&i--}return{_lodPlanes:t,_sizeLods:e,_sigmas:n}}function qu(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),ic.call(this,t),this.type="catmullrom"}Qs.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(Qs.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},Object.assign(vc.prototype,{createPointsGeometry:function(t){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var e=new Co,n=0,i=t.length;n<i;n++){var r=t[n];e.vertices.push(new Mt(r.x,r.y,r.z||0))}return e}}),Object.assign(mc.prototype,{fromPoints:function(t){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)}}),(function(t){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),ic.call(this,t),this.type="catmullrom",this.closed=!0}).prototype=Object.create(ic.prototype),(function(t){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),ic.call(this,t),this.type="catmullrom"}).prototype=Object.create(ic.prototype),qu.prototype=Object.create(ic.prototype),Object.assign(qu.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),Uu.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},zu.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(zs.prototype,{extractUrlBase:function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),jc.extractUrlBase(t)}}),zs.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(Du.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(Pt.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(qt.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}}),oi.prototype.setFromMatrix=function(t){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(t)},Iu.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},Object.assign(gt,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(t){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),gt.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),gt.ceilPowerOfTwo(t)}}),Object.assign(bt.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},getInverse:function(t){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()}}),Object.assign(ne.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new Mt).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,n,i,r,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,i,n,r,a)},getInverse:function(t){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()}}),Pe.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},Object.assign(At.prototype,{multiplyVector3:function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},inverse:function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()}}),Object.assign(ee.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(He.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)},midpoint:function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},normal:function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},plane:function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)}}),Object.assign(He,{barycoordFromPoint:function(t,e,n,i,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),He.getBarycoord(t,e,n,i,r)},normal:function(t,e,n,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),He.getNormal(t,e,n,i)}}),Object.assign(gc.prototype,{extractAllPoints:function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new rs(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new us(this,t)}}),Object.assign(yt.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Mt.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Ot.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Co.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(t){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.assign(Ae.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(t){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.defineProperties(Ae.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(Vn.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(Vn.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(Ha.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(qa.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Va.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(Qs.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}}),Jn.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(yc.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(nn.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===lt},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(lt)}}}),Object.assign(nn.prototype,{setDynamic:function(t){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?lt:ut),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(Sn.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addAttribute:function(t,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(t,e):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(t,new nn(arguments[1],arguments[2])))},addDrawCall:function(t,e,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(t){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(t)},applyMatrix:function(t){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.defineProperties(Sn.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Rc.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(t){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=t}}}),Object.defineProperties(Mu.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(t){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=t}}}),Object.defineProperties(ma.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===lt},set:function(t){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(t)}}}),Object.assign(ma.prototype,{setDynamic:function(t){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?lt:ut),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(ns.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.assign(va.prototype,{dispose:function(){console.error("THREE.Scene: .dispose() has been removed.")}}),Object.defineProperties(Su.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Je.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Qe}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===t}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(t){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=t}}}),Object.defineProperties(vs.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(ps.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:function(t){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=t}}}),Object.defineProperties(Kn.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(da.prototype,{clearTarget:function(t,e,n,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(e,n,i)},animate:function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(da.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(t){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===t?it:nt}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(ia.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(St.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Object.defineProperties(iu.prototype,{load:{value:function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var e=this;return(new Wc).load(t,(function(t){e.setBuffer(t)})),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),uu.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},ti.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)},ti.prototype.clear=function(t,e,n,i){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(t,e,n,i)};_t.crossOrigin=void 0,_t.loadTexture=function(t,e,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var r=new Ys;r.setCrossOrigin(this.crossOrigin);var a=r.load(t,n,void 0,i);return e&&(a.mapping=e),a},_t.loadTextureCube=function(t,e,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var r=new Xs;r.setCrossOrigin(this.crossOrigin);var a=r.load(t,n,void 0,i);return e&&(a.mapping=e),a},_t.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},_t.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"123"}}))},XDbj:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n("Ji7U"),r=n("LK+K"),a=n("1OyB"),o=n("vuIU"),s=n("sVev"),c=n("7o/Q");function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return function(e){return e.lift(new l(t))}}var l=function(){function t(e){Object(a.a)(this,t),this.errorFactory=e}return Object(o.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new h(t,this.errorFactory))}}]),t}(),h=function(t){Object(i.a)(n,t);var e=Object(r.a)(n);function n(t,i){var r;return Object(a.a)(this,n),(r=e.call(this,t)).errorFactory=i,r.hasValue=!1,r}return Object(o.a)(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}]),n}(c.a);function d(){return new s.a}},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return v})),n.d(e,"a",(function(){return m}));var i=n("vuIU"),r=n("ReuC"),a=n("foSv"),o=n("1OyB"),s=n("Ji7U"),c=n("LK+K"),u=n("HDdC"),l=n("7o/Q"),h=n("quSY"),d=n("9ppp"),f=n("Ylt2"),p=n("2QA8"),v=function(t){Object(s.a)(n,t);var e=Object(c.a)(n);function n(t){var i;return Object(o.a)(this,n),(i=e.call(this,t)).destination=t,i}return n}(l.a),m=function(t){Object(s.a)(n,t);var e=Object(c.a)(n);function n(){var t;return Object(o.a)(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return Object(i.a)(n,[{key:p.a,value:function(){return new v(this)}},{key:"lift",value:function(t){var e=new g(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new d.a;if(!this.isStopped)for(var e=this.observers,n=e.length,i=e.slice(),r=0;r<n;r++)i[r].next(t)}},{key:"error",value:function(t){if(this.closed)throw new d.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,i=e.slice(),r=0;r<n;r++)i[r].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new d.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),i=0;i<e;i++)n[i].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new d.a;return Object(r.a)(Object(a.a)(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new d.a;return this.hasError?(t.error(this.thrownError),h.a.EMPTY):this.isStopped?(t.complete(),h.a.EMPTY):(this.observers.push(t),new f.a(this,t))}},{key:"asObservable",value:function(){var t=new u.a;return t.source=this,t}}]),n}(u.a);m.create=function(t,e){return new g(t,e)};var g=function(t){Object(s.a)(n,t);var e=Object(c.a)(n);function n(t,i){var r;return Object(o.a)(this,n),(r=e.call(this)).destination=t,r.source=i,r}return Object(i.a)(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):h.a.EMPTY}}]),n}(m)},XTTE:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("foSv");function r(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Object(i.a)(t)););return t}},Xa2L:function(t,e,n){"use strict";n.d(e,"a",(function(){return _})),n.d(e,"b",(function(){return x}));var i=n("vuIU"),r=n("Ji7U"),a=n("LK+K"),o=n("1OyB"),s=n("fXoL"),c=n("ofXK"),u=n("FKr1"),l=n("8LU1"),h=n("nLfN"),d=n("R1ws");function f(t,e){if(1&t&&(s.pc(),s.bc(0,"circle",3)),2&t){var n=s.qc();s.Ic("animation-name","mat-progress-spinner-stroke-rotate-"+n._spinnerAnimationLabel)("stroke-dashoffset",n._getStrokeDashOffset(),"px")("stroke-dasharray",n._getStrokeCircumference(),"px")("stroke-width",n._getCircleStrokeWidth(),"%"),s.Rb("r",n._getCircleRadius())}}function p(t,e){if(1&t&&(s.pc(),s.bc(0,"circle",3)),2&t){var n=s.qc();s.Ic("stroke-dashoffset",n._getStrokeDashOffset(),"px")("stroke-dasharray",n._getStrokeCircumference(),"px")("stroke-width",n._getCircleStrokeWidth(),"%"),s.Rb("r",n._getCircleRadius())}}function v(t,e){if(1&t&&(s.pc(),s.bc(0,"circle",3)),2&t){var n=s.qc();s.Ic("animation-name","mat-progress-spinner-stroke-rotate-"+n._spinnerAnimationLabel)("stroke-dashoffset",n._getStrokeDashOffset(),"px")("stroke-dasharray",n._getStrokeCircumference(),"px")("stroke-width",n._getCircleStrokeWidth(),"%"),s.Rb("r",n._getCircleRadius())}}function m(t,e){if(1&t&&(s.pc(),s.bc(0,"circle",3)),2&t){var n=s.qc();s.Ic("stroke-dashoffset",n._getStrokeDashOffset(),"px")("stroke-dasharray",n._getStrokeCircumference(),"px")("stroke-width",n._getCircleStrokeWidth(),"%"),s.Rb("r",n._getCircleRadius())}}var g=".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n",y=Object(u.h)((function t(e){Object(o.a)(this,t),this._elementRef=e}),"primary"),b=new s.A("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});var _=function(t){Object(r.a)(n,t);var e=Object(a.a)(n);function n(t,i,r,a,s){var c;Object(o.a)(this,n),(c=e.call(this,t))._elementRef=t,c._document=r,c._diameter=100,c._value=0,c._fallbackAnimation=!1,c.mode="determinate";var u=n._diameters;return c._spinnerAnimationLabel=c._getSpinnerAnimationLabel(),u.has(r.head)||u.set(r.head,new Set([100])),c._fallbackAnimation=i.EDGE||i.TRIDENT,c._noopAnimations="NoopAnimations"===a&&!!s&&!s._forceAnimations,s&&(s.diameter&&(c.diameter=s.diameter),s.strokeWidth&&(c.strokeWidth=s.strokeWidth)),c}return Object(i.a)(n,[{key:"ngOnInit",value:function(){var t=this._elementRef.nativeElement;this._styleRoot=Object(h.c)(t)||this._document.head,this._attachStyleNode();var e="mat-progress-spinner-indeterminate".concat(this._fallbackAnimation?"-fallback":"","-animation");t.classList.add(e)}},{key:"_getCircleRadius",value:function(){return(this.diameter-10)/2}},{key:"_getViewBox",value:function(){var t=2*this._getCircleRadius()+this.strokeWidth;return"0 0 ".concat(t," ").concat(t)}},{key:"_getStrokeCircumference",value:function(){return 2*Math.PI*this._getCircleRadius()}},{key:"_getStrokeDashOffset",value:function(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}},{key:"_getCircleStrokeWidth",value:function(){return this.strokeWidth/this.diameter*100}},{key:"_attachStyleNode",value:function(){var t=this._styleRoot,e=this._diameter,i=n._diameters,r=i.get(t);if(!r||!r.has(e)){var a=this._document.createElement("style");a.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),a.textContent=this._getAnimationText(),t.appendChild(a),r||(r=new Set,i.set(t,r)),r.add(e)}}},{key:"_getAnimationText",value:function(){var t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,"".concat(.95*t)).replace(/END_VALUE/g,"".concat(.2*t)).replace(/DIAMETER/g,"".concat(this._spinnerAnimationLabel))}},{key:"_getSpinnerAnimationLabel",value:function(){return this.diameter.toString().replace(".","_")}},{key:"diameter",get:function(){return this._diameter},set:function(t){this._diameter=Object(l.e)(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}},{key:"strokeWidth",get:function(){return this._strokeWidth||this.diameter/10},set:function(t){this._strokeWidth=Object(l.e)(t)}},{key:"value",get:function(){return"determinate"===this.mode?this._value:0},set:function(t){this._value=Math.max(0,Math.min(100,Object(l.e)(t)))}}]),n}(y);_.\u0275fac=function(t){return new(t||_)(s.ac(s.r),s.ac(h.a),s.ac(c.d,8),s.ac(d.a,8),s.ac(b))},_.\u0275cmp=s.Ub({type:_,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(s.Rb("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),s.Ic("width",e.diameter,"px")("height",e.diameter,"px"),s.Sb("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[s.Nb],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(s.pc(),s.fc(0,"svg",0),s.Lc(1,f,1,9,"circle",1),s.Lc(2,p,1,7,"circle",2),s.ec()),2&t&&(s.Ic("width",e.diameter,"px")("height",e.diameter,"px"),s.vc("ngSwitch","indeterminate"===e.mode),s.Rb("viewBox",e._getViewBox()),s.Qb(1),s.vc("ngSwitchCase",!0),s.Qb(1),s.vc("ngSwitchCase",!1))},directives:[c.m,c.n],styles:[g],encapsulation:2,changeDetection:0}),_._diameters=new WeakMap,_.ctorParameters=function(){return[{type:s.r},{type:h.a},{type:void 0,decorators:[{type:s.M},{type:s.y,args:[c.d]}]},{type:String,decorators:[{type:s.M},{type:s.y,args:[d.a]}]},{type:void 0,decorators:[{type:s.y,args:[b]}]}]},_.propDecorators={diameter:[{type:s.C}],strokeWidth:[{type:s.C}],mode:[{type:s.C}],value:[{type:s.C}]};var w=function(t){Object(r.a)(n,t);var e=Object(a.a)(n);function n(t,i,r,a,s){var c;return Object(o.a)(this,n),(c=e.call(this,t,i,r,a,s)).mode="indeterminate",c}return n}(_);w.\u0275fac=function(t){return new(t||w)(s.ac(s.r),s.ac(h.a),s.ac(c.d,8),s.ac(d.a,8),s.ac(b))},w.\u0275cmp=s.Ub({type:w,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(t,e){2&t&&(s.Ic("width",e.diameter,"px")("height",e.diameter,"px"),s.Sb("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color"},features:[s.Nb],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(s.pc(),s.fc(0,"svg",0),s.Lc(1,v,1,9,"circle",1),s.Lc(2,m,1,7,"circle",2),s.ec()),2&t&&(s.Ic("width",e.diameter,"px")("height",e.diameter,"px"),s.vc("ngSwitch","indeterminate"===e.mode),s.Rb("viewBox",e._getViewBox()),s.Qb(1),s.vc("ngSwitchCase",!0),s.Qb(1),s.vc("ngSwitchCase",!1))},directives:[c.m,c.n],styles:[g],encapsulation:2,changeDetection:0}),w.ctorParameters=function(){return[{type:s.r},{type:h.a},{type:void 0,decorators:[{type:s.M},{type:s.y,args:[c.d]}]},{type:String,decorators:[{type:s.M},{type:s.y,args:[d.a]}]},{type:void 0,decorators:[{type:s.y,args:[b]}]}]};var x=function t(){Object(o.a)(this,t)};x.\u0275mod=s.Yb({type:x}),x.\u0275inj=s.Xb({factory:function(t){return new(t||x)},imports:[[u.c,c.c],u.c]})},XoHu:function(t,e,n){"use strict";function i(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return i}))},XqMk:function(t,e,n){"use strict";var i="object"==typeof global&&global&&global.Object===Object&&global;e.a=i},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("1OyB"),r=n("vuIU"),a=n("Ji7U"),o=n("LK+K"),s=function(t){Object(a.a)(n,t);var e=Object(o.a)(n);function n(t,r){var a;return Object(i.a)(this,n),(a=e.call(this)).subject=t,a.subscriber=r,a.closed=!1,a}return Object(r.a)(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(n("quSY").a)},a3WO:function(t,e,n){"use strict";function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}n.d(e,"a",(function(){return i}))},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("5+tZ"),r=n("SpAZ");function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(i.a)(r.a,t)}},bOdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("5+tZ");function r(t,e){return Object(i.a)(t,e,1)}},bTqV:function(t,e,n){"use strict";n.d(e,"a",(function(){return m})),n.d(e,"b",(function(){return y}));var i=n("uFwe"),r=n("vuIU"),a=n("Ji7U"),o=n("LK+K"),s=n("1OyB"),c=n("fXoL"),u=n("FKr1"),l=n("u47x"),h=n("R1ws"),d=["mat-button",""],f=["*"],p=".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n",v=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],m=function(t){Object(a.a)(n,t);var e=Object(o.a)(n);function n(t,r,a){var o;Object(s.a)(this,n),(o=e.call(this,t))._focusMonitor=r,o._animationMode=a,o.isRoundButton=o._hasHostAttributes("mat-fab","mat-mini-fab"),o.isIconButton=o._hasHostAttributes("mat-icon-button");var c,u=Object(i.a)(v);try{for(u.s();!(c=u.n()).done;){var l=c.value;o._hasHostAttributes(l)&&o._getHostElement().classList.add(l)}}catch(h){u.e(h)}finally{u.f()}return t.nativeElement.classList.add("mat-button-base"),o.isRoundButton&&(o.color="accent"),o}return Object(r.a)(n,[{key:"ngAfterViewInit",value:function(){this._focusMonitor.monitor(this._elementRef,!0)}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef)}},{key:"focus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",e=arguments.length>1?arguments[1]:void 0;this._focusMonitor.focusVia(this._getHostElement(),t,e)}},{key:"_getHostElement",value:function(){return this._elementRef.nativeElement}},{key:"_isRippleDisabled",value:function(){return this.disableRipple||this.disabled}},{key:"_hasHostAttributes",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.some((function(e){return t._getHostElement().hasAttribute(e)}))}}]),n}(Object(u.h)(Object(u.j)(Object(u.i)((function t(e){Object(s.a)(this,t),this._elementRef=e})))));m.\u0275fac=function(t){return new(t||m)(c.ac(c.r),c.ac(l.c),c.ac(h.a,8))},m.\u0275cmp=c.Ub({type:m,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){var n;(1&t&&c.Pc(u.f,!0),2&t)&&(c.yc(n=c.nc())&&(e.ripple=n.first))},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(c.Rb("disabled",e.disabled||null),c.Sb("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.Nb],attrs:d,ngContentSelectors:f,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(c.uc(),c.fc(0,"span",0),c.tc(1),c.ec(),c.bc(2,"span",1),c.bc(3,"span",2)),2&t&&(c.Qb(2),c.Sb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),c.vc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[u.f],styles:[p],encapsulation:2,changeDetection:0}),m.ctorParameters=function(){return[{type:c.r},{type:l.c},{type:String,decorators:[{type:c.M},{type:c.y,args:[h.a]}]}]},m.propDecorators={ripple:[{type:c.eb,args:[u.f]}]};var g=function(t){Object(a.a)(n,t);var e=Object(o.a)(n);function n(t,i,r){return Object(s.a)(this,n),e.call(this,i,t,r)}return Object(r.a)(n,[{key:"_haltDisabledEvents",value:function(t){this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}}]),n}(m);g.\u0275fac=function(t){return new(t||g)(c.ac(l.c),c.ac(c.r),c.ac(h.a,8))},g.\u0275cmp=c.Ub({type:g,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(t,e){1&t&&c.mc("click",(function(t){return e._haltDisabledEvents(t)})),2&t&&(c.Rb("tabindex",e.disabled?-1:e.tabIndex||0)("disabled",e.disabled||null)("aria-disabled",e.disabled.toString()),c.Sb("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[c.Nb],attrs:d,ngContentSelectors:f,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(c.uc(),c.fc(0,"span",0),c.tc(1),c.ec(),c.bc(2,"span",1),c.bc(3,"span",2)),2&t&&(c.Qb(2),c.Sb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),c.vc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[u.f],styles:[p],encapsulation:2,changeDetection:0}),g.ctorParameters=function(){return[{type:l.c},{type:c.r},{type:String,decorators:[{type:c.M},{type:c.y,args:[h.a]}]}]},g.propDecorators={tabIndex:[{type:c.C}]};var y=function t(){Object(s.a)(this,t)};y.\u0275mod=c.Yb({type:y}),y.\u0275inj=c.Xb({factory:function(t){return new(t||y)},imports:[[u.g,u.c],u.c]})},c2HN:function(t,e,n){"use strict";function i(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return i}))},cH1L:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return c}));var i=n("1OyB"),r=n("vuIU"),a=n("fXoL"),o=n("ofXK"),s=new a.A("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(a.kb)(o.d)}});var c=function(){function t(e){if(Object(i.a)(this,t),this.value="ltr",this.change=new a.t,e){var n=e.body?e.body.dir:null,r=e.documentElement?e.documentElement.dir:null,o=n||r;this.value="ltr"===o||"rtl"===o?o:"ltr"}}return Object(r.a)(t,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),t}();c.\u0275fac=function(t){return new(t||c)(a.jc(s,8))},c.\u0275prov=Object(a.Wb)({factory:function(){return new c(Object(a.jc)(s,8))},token:c,providedIn:"root"}),c.ctorParameters=function(){return[{type:void 0,decorators:[{type:a.M},{type:a.y,args:[s]}]}]};var u=function(){function t(){Object(i.a)(this,t),this._dir="ltr",this._isInitialized=!1,this.change=new a.t}return Object(r.a)(t,[{key:"ngAfterContentInit",value:function(){this._isInitialized=!0}},{key:"ngOnDestroy",value:function(){this.change.complete()}},{key:"dir",get:function(){return this._dir},set:function(t){var e=this._dir,n=t?t.toLowerCase():t;this._rawDir=t,this._dir="ltr"===n||"rtl"===n?n:"ltr",e!==this._dir&&this._isInitialized&&this.change.emit(this._dir)}},{key:"value",get:function(){return this.dir}}]),t}();u.\u0275fac=function(t){return new(t||u)},u.\u0275dir=a.Vb({type:u,selectors:[["","dir",""]],hostVars:1,hostBindings:function(t,e){2&t&&a.Rb("dir",e._rawDir)},inputs:{dir:"dir"},outputs:{change:"dirChange"},exportAs:["dir"],features:[a.Pb([{provide:c,useExisting:u}])]}),u.propDecorators={change:[{type:a.N,args:["dirChange"]}],dir:[{type:a.C}]};var l=function t(){Object(i.a)(this,t)};l.\u0275mod=a.Yb({type:l}),l.\u0275inj=a.Xb({factory:function(t){return new(t||l)}})},cp0P:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n("KQm4"),r=n("HDdC"),a=n("DH7j"),o=n("lJxs"),s=n("XoHu"),c=n("Cfvw");function u(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){var r=e[0];if(Object(a.a)(r))return l(r,null);if(Object(s.a)(r)&&Object.getPrototypeOf(r)===Object.prototype){var c=Object.keys(r);return l(c.map((function(t){return r[t]})),c)}}if("function"==typeof e[e.length-1]){var u=e.pop();return l(e=1===e.length&&Object(a.a)(e[0])?e[0]:e,null).pipe(Object(o.a)((function(t){return u.apply(void 0,Object(i.a)(t))})))}return l(e,null)}function l(t,e){return new r.a((function(n){var i=t.length;if(0!==i)for(var r=new Array(i),a=0,o=0,s=function(s){var u=Object(c.a)(t[s]),l=!1;n.add(u.subscribe({next:function(t){l||(l=!0,o++),r[s]=t},error:function(t){return n.error(t)},complete:function(){++a!==i&&l||(o===i&&n.next(e?e.reduce((function(t,e,n){return t[e]=r[n],t}),{}):r),n.complete())}}))},u=0;u<i;u++)s(u);else n.complete()}))}},crnd:function(t,e,n){var i={"./core/core.module":"pKmL"};function r(t){return Promise.resolve().then((function(){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}var r=i[t];return n(r)}))}r.keys=function(){return Object.keys(i)},r.id="crnd",t.exports=r},eIep:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n("ReuC"),r=n("foSv"),a=n("Ji7U"),o=n("LK+K"),s=n("1OyB"),c=n("vuIU"),u=n("lJxs"),l=n("Cfvw"),h=n("zx2A");function d(t,e){return"function"==typeof e?function(n){return n.pipe(d((function(n,i){return Object(l.a)(t(n,i)).pipe(Object(u.a)((function(t,r){return e(n,t,i,r)})))})))}:function(e){return e.lift(new f(t))}}var f=function(){function t(e){Object(s.a)(this,t),this.project=e}return Object(c.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new p(t,this.project))}}]),t}(),p=function(t){Object(a.a)(n,t);var e=Object(o.a)(n);function n(t,i){var r;return Object(s.a)(this,n),(r=e.call(this,t)).project=i,r.index=0,r}return Object(c.a)(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=this.innerSubscription;e&&e.unsubscribe();var n=new h.a(this),i=this.destination;i.add(n),this.innerSubscription=Object(h.c)(t,n),this.innerSubscription!==n&&i.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||Object(i.a)(Object(r.a)(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&Object(i.a)(Object(r.a)(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t){this.destination.next(t)}}]),n}(h.b)},ez49:function(t,e,n){"use strict";var i,r=n("o97j");r.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),t.exports=function(t,e){if(!r.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,a=n in document;if(!a){var o=document.createElement("div");o.setAttribute(n,"return;"),a="function"==typeof o[n]}return!a&&i&&"wheel"===t&&(a=document.implementation.hasFeature("Events.wheel","3.0")),a}},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return Ps})),n.d(e,"b",(function(){return Dp})),n.d(e,"c",(function(){return Ap})),n.d(e,"d",(function(){return Sp})),n.d(e,"e",(function(){return Cp})),n.d(e,"f",(function(){return Ev})),n.d(e,"g",(function(){return yv})),n.d(e,"h",(function(){return j})),n.d(e,"i",(function(){return Lt})),n.d(e,"j",(function(){return Ao})),n.d(e,"k",(function(){return Gp})),n.d(e,"l",(function(){return pp})),n.d(e,"m",(function(){return ed})),n.d(e,"n",(function(){return Rs})),n.d(e,"o",(function(){return js})),n.d(e,"p",(function(){return Lp})),n.d(e,"q",(function(){return fp})),n.d(e,"r",(function(){return nd})),n.d(e,"s",(function(){return Ci})),n.d(e,"t",(function(){return vf})),n.d(e,"u",(function(){return D})),n.d(e,"v",(function(){return yp})),n.d(e,"w",(function(){return bp})),n.d(e,"x",(function(){return yt})),n.d(e,"y",(function(){return M})),n.d(e,"z",(function(){return Xo})),n.d(e,"A",(function(){return gt})),n.d(e,"B",(function(){return us})),n.d(e,"C",(function(){return mp})),n.d(e,"D",(function(){return wd})),n.d(e,"E",(function(){return xd})),n.d(e,"F",(function(){return Ip})),n.d(e,"G",(function(){return kp})),n.d(e,"H",(function(){return zt})),n.d(e,"I",(function(){return wv})),n.d(e,"J",(function(){return Bt})),n.d(e,"K",(function(){return hv})),n.d(e,"L",(function(){return Yp})),n.d(e,"M",(function(){return T})),n.d(e,"N",(function(){return gp})),n.d(e,"O",(function(){return Pp})),n.d(e,"P",(function(){return Ep})),n.d(e,"Q",(function(){return vp})),n.d(e,"R",(function(){return gf})),n.d(e,"S",(function(){return od})),n.d(e,"T",(function(){return ad})),n.d(e,"U",(function(){return id})),n.d(e,"V",(function(){return cd})),n.d(e,"W",(function(){return er})),n.d(e,"X",(function(){return E})),n.d(e,"Y",(function(){return P})),n.d(e,"Z",(function(){return Ov})),n.d(e,"ab",(function(){return Ad})),n.d(e,"bb",(function(){return nv})),n.d(e,"cb",(function(){return To})),n.d(e,"db",(function(){return ud})),n.d(e,"eb",(function(){return Is})),n.d(e,"fb",(function(){return Td})),n.d(e,"gb",(function(){return Ft})),n.d(e,"hb",(function(){return fv})),n.d(e,"ib",(function(){return Gi})),n.d(e,"jb",(function(){return Q})),n.d(e,"kb",(function(){return Tt})),n.d(e,"lb",(function(){return Vi})),n.d(e,"mb",(function(){return Av})),n.d(e,"nb",(function(){return rv})),n.d(e,"ob",(function(){return jp})),n.d(e,"pb",(function(){return Yo})),n.d(e,"qb",(function(){return jl})),n.d(e,"rb",(function(){return br})),n.d(e,"sb",(function(){return Ki})),n.d(e,"tb",(function(){return Ri})),n.d(e,"ub",(function(){return Li})),n.d(e,"vb",(function(){return zi})),n.d(e,"wb",(function(){return Fi})),n.d(e,"xb",(function(){return Ni})),n.d(e,"yb",(function(){return Bi})),n.d(e,"zb",(function(){return Nl})),n.d(e,"Ab",(function(){return Cv})),n.d(e,"Bb",(function(){return Fl})),n.d(e,"Cb",(function(){return Bl})),n.d(e,"Db",(function(){return Ii})),n.d(e,"Eb",(function(){return at})),n.d(e,"Fb",(function(){return rc})),n.d(e,"Gb",(function(){return qc})),n.d(e,"Hb",(function(){return Xc})),n.d(e,"Ib",(function(){return Ll})),n.d(e,"Jb",(function(){return Bd})),n.d(e,"Kb",(function(){return Re})),n.d(e,"Lb",(function(){return X})),n.d(e,"Mb",(function(){return ji})),n.d(e,"Nb",(function(){return qs})),n.d(e,"Ob",(function(){return Se})),n.d(e,"Pb",(function(){return Qh})),n.d(e,"Qb",(function(){return Xr})),n.d(e,"Rb",(function(){return dc})),n.d(e,"Sb",(function(){return Eu})),n.d(e,"Tb",(function(){return Ef})),n.d(e,"Ub",(function(){return te})),n.d(e,"Vb",(function(){return ce})),n.d(e,"Wb",(function(){return L})),n.d(e,"Xb",(function(){return N})),n.d(e,"Yb",(function(){return ae})),n.d(e,"Zb",(function(){return ue})),n.d(e,"ac",(function(){return jc})),n.d(e,"bc",(function(){return Uc})),n.d(e,"cc",(function(){return Vc})),n.d(e,"dc",(function(){return Hc})),n.d(e,"ec",(function(){return zc})),n.d(e,"fc",(function(){return Bc})),n.d(e,"gc",(function(){return Wc})),n.d(e,"hc",(function(){return xi})),n.d(e,"ic",(function(){return El})),n.d(e,"jc",(function(){return At})),n.d(e,"kc",(function(){return Rc})),n.d(e,"lc",(function(){return Ff})),n.d(e,"mc",(function(){return Yc})),n.d(e,"nc",(function(){return jf})),n.d(e,"oc",(function(){return Rn})),n.d(e,"pc",(function(){return Dn})),n.d(e,"qc",(function(){return tu})),n.d(e,"rc",(function(){return sf})),n.d(e,"sc",(function(){return cf})),n.d(e,"tc",(function(){return au})),n.d(e,"uc",(function(){return nu})),n.d(e,"vc",(function(){return Lc})),n.d(e,"wc",(function(){return Wd})),n.d(e,"xc",(function(){return Xd})),n.d(e,"yc",(function(){return Cf})),n.d(e,"zc",(function(){return Dc})),n.d(e,"Ac",(function(){return ni})),n.d(e,"Bc",(function(){return ei})),n.d(e,"Cc",(function(){return ti})),n.d(e,"Dc",(function(){return rn})),n.d(e,"Ec",(function(){return kr})),n.d(e,"Fc",(function(){return oe})),n.d(e,"Gc",(function(){return Pf})),n.d(e,"Hc",(function(){return Af})),n.d(e,"Ic",(function(){return Tu})),n.d(e,"Jc",(function(){return Qc})),n.d(e,"Kc",(function(){return Pl})),n.d(e,"Lc",(function(){return Pc})),n.d(e,"Mc",(function(){return Xu})),n.d(e,"Nc",(function(){return qu})),n.d(e,"Oc",(function(){return Yu})),n.d(e,"Pc",(function(){return Mf}));var i=n("ReuC"),r=n("foSv"),a=n("JX7q"),o=n("ODXe"),s=n("KQm4"),c=(n("rePB"),n("T5bk"),n("uFwe")),u=n("Ji7U"),l=n("LK+K"),h=n("1OyB"),d=n("vuIU"),f=n("RHh3"),p=n("quSY"),v=n("XNiG"),m=n("HDdC"),g=n("VRyK"),y=n("w1tV");function b(t){return{toString:t}.toString()}var _="__annotations__",w="__parameters__",x="__prop__metadata__";function k(t,e,n,i,r){return b((function(){var a=O(e);function o(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof o)return a.call.apply(a,[this].concat(e)),this;var s=Object(f.a)(o,e);return function(t){return r&&r.apply(void 0,[t].concat(e)),(t.hasOwnProperty(_)?t[_]:Object.defineProperty(t,_,{value:[]})[_]).push(s),i&&i(t),t}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o}))}function O(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}function S(t,e,n){return b((function(){var i=O(e);function r(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof r)return i.apply(this,e),this;var a=Object(f.a)(r,e);return o.annotation=a,o;function o(t,e,n){for(var i=t.hasOwnProperty(w)?t[w]:Object.defineProperty(t,w,{value:[]})[w];i.length<=n;)i.push(null);return(i[n]=i[n]||[]).push(a),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r}))}function C(t,e,n,i){return b((function(){var r=O(e);function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof a)return r.apply(this,e),this;var o=Object(f.a)(a,e);function s(t,n){var r=t.constructor,a=r.hasOwnProperty(x)?r[x]:Object.defineProperty(r,x,{value:{}})[x];a[n]=a.hasOwnProperty(n)&&a[n]||[],a[n].unshift(o),i&&i.apply(void 0,[t,n].concat(e))}return s}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=t,a.annotationCls=a,a}))}var A,M=S("Inject",(function(t){return{token:t}})),T=S("Optional"),E=S("Self"),P=S("SkipSelf"),D=S("Host"),j=S("Attribute",(function(t){return{attributeName:t}}));function R(t){for(var e in t)if(t[e]===R)return e;throw Error("Could not find renamed property on target object.")}function I(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function L(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}!function(t){t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional"}(A||(A={}));function N(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function F(t){return B(t,t[U])||B(t,t[G])}function B(t,e){return e&&e.token===t?e:null}function z(t){return t&&(t.hasOwnProperty(H)||t.hasOwnProperty(W))?t[H]:null}var U=R({"\u0275prov":R}),H=R({"\u0275inj":R}),V=R({"\u0275provFallback":R}),G=R({ngInjectableDef:R}),W=R({ngInjectorDef:R});function X(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(X).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return"".concat(t.overriddenName);if(t.name)return"".concat(t.name);var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function q(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var Y=R({__forward_ref__:R});function Q(t){return t.__forward_ref__=Q,t.toString=function(){return X(this())},t}function K(t){return Z(t)?t():t}function Z(t){return"function"==typeof t&&t.hasOwnProperty(Y)&&t.__forward_ref__===Q}var J,$,tt,et="undefined"!=typeof globalThis&&globalThis,nt="undefined"!=typeof window&&window,it="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,rt="undefined"!=typeof global&&global,at=et||rt||nt||it;function ot(){var t=at.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}!function(t){t[t.Token=0]="Token",t[t.Attribute=1]="Attribute",t[t.ChangeDetectorRef=2]="ChangeDetectorRef",t[t.Invalid=3]="Invalid"}(J||(J={})),function(t){t[t.Directive=0]="Directive",t[t.Component=1]="Component",t[t.Injectable=2]="Injectable",t[t.Pipe=3]="Pipe",t[t.NgModule=4]="NgModule"}($||($={})),function(t){t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom"}(tt||(tt={}));var st=R({"\u0275cmp":R}),ct=R({"\u0275dir":R}),ut=R({"\u0275pipe":R}),lt=R({"\u0275mod":R}),ht=R({"\u0275loc":R}),dt=R({"\u0275fac":R}),ft=R({__NG_ELEMENT_ID__:R});function pt(t,e){null==t&&vt(e,t,null,"!=")}function vt(t,e,n,i){throw new Error("ASSERTION ERROR: ".concat(t)+(null==i?"":" [Expected=> ".concat(n," ").concat(i," ").concat(e," <=Actual]")))}var mt,gt=function(){function t(e,n){Object(h.a)(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=L({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return Object(d.a)(t,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),t}(),yt=new gt("INJECTOR",-1),bt={},_t=/\n/gm,wt="__source",xt=R({provide:String,useValue:R}),kt=void 0;function Ot(t){var e=kt;return kt=t,e}function St(t){var e=mt;return mt=t,e}function Ct(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A.Default;if(void 0===kt)throw new Error("inject() must be called from an injection context");return null===kt?Et(t,void 0,e):kt.get(t,e&A.Optional?null:void 0,e)}function At(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A.Default;return(mt||Ct)(K(t),e)}function Mt(t){throw new Error("invalid")}var Tt=At;function Et(t,e,n){var i=F(t);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&A.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND [".concat(X(t),"]"))}function Pt(t){for(var e=[],n=0;n<t.length;n++){var i=K(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");for(var r=void 0,a=A.Default,o=0;o<i.length;o++){var s=i[o];s instanceof T||"Optional"===s.ngMetadataName||s===T?a|=A.Optional:s instanceof P||"SkipSelf"===s.ngMetadataName||s===P?a|=A.SkipSelf:s instanceof E||"Self"===s.ngMetadataName||s===E?a|=A.Self:r=s instanceof M||s===M?s.token:s}e.push(At(r,a))}else e.push(At(i))}return e}var Dt=function(){function t(){Object(h.a)(this,t)}return Object(d.a)(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bt;if(e===bt){var n=new Error("NullInjectorError: No provider for ".concat(X(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}();function jt(t,e,n,i){var r=t.ngTempTokenPath;throw e[wt]&&r.unshift(e[wt]),t.message=Rt("\n"+t.message,r,n,i),t.ngTokenPath=r,t.ngTempTokenPath=null,t}function Rt(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var r=X(e);if(Array.isArray(e))r=e.map(X).join(" -> ");else if("object"==typeof e){var a=[];for(var o in e)if(e.hasOwnProperty(o)){var s=e[o];a.push(o+":"+("string"==typeof s?JSON.stringify(s):X(s)))}r="{".concat(a.join(", "),"}")}return"".concat(n).concat(i?"("+i+")":"","[").concat(r,"]: ").concat(t.replace(_t,"\n  "))}var It={"\u0275\u0275defineInjectable":L,"\u0275\u0275defineInjector":N,"\u0275\u0275inject":At,"\u0275\u0275getFactoryOf":function t(e){var n=e;if(Z(e))return function(){var e=t(K(n));return e?e():null};var i=F(n)||z(n);if(!i||void 0===i.factory)return null;return i.factory},"\u0275\u0275invalidFactoryDep":Mt};var Lt,Nt,Ft,Bt=function t(){Object(h.a)(this,t)},zt=function t(){Object(h.a)(this,t)};function Ut(t,e){for(var n=0;n<t.length;n++)e.push(t[n])}function Ht(t,e){void 0===e&&(e=t);for(var n=0;n<t.length;n++){var i=t[n];Array.isArray(i)?(e===t&&(e=t.slice(0,n)),Ht(i,e)):e!==t&&e.push(i)}return e}function Vt(t,e){t.forEach((function(t){return Array.isArray(t)?Vt(t,e):e(t)}))}function Gt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Wt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Xt(t,e){for(var n=[],i=0;i<t;i++)n.push(e);return n}function qt(t,e,n){var i=Qt(t,e);return i>=0?t[1|i]=n:function(t,e,n,i){var r=t.length;if(r==e)t.push(n,i);else if(1===r)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){var a=r-2;t[r]=t[a],r--}t[e]=n,t[e+1]=i}}(t,i=~i,e,n),i}function Yt(t,e){var n=Qt(t,e);if(n>=0)return t[1|n]}function Qt(t,e){return Kt(t,e,1)}function Kt(t,e,n){for(var i=0,r=t.length>>n;r!==i;){var a=i+(r-i>>1),o=t[a<<n];if(e===o)return a<<n;o>e?r=a:i=a+1}return~(r<<n)}!function(t){t[t.OnPush=0]="OnPush",t[t.Default=1]="Default"}(Lt||(Lt={})),function(t){t[t.CheckOnce=0]="CheckOnce",t[t.Checked=1]="Checked",t[t.CheckAlways=2]="CheckAlways",t[t.Detached=3]="Detached",t[t.Errored=4]="Errored",t[t.Destroyed=5]="Destroyed"}(Nt||(Nt={})),function(t){t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom"}(Ft||(Ft={}));var Zt={},Jt=[];var $t=0;function te(t){return b((function(){var e=t.type,n=(e.prototype,{}),i={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Lt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Jt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Ft.Emulated,id:"c",styles:t.styles||Jt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,a=t.features,o=t.pipes;return i.id+=$t++,i.inputs=se(t.inputs,n),i.outputs=se(t.outputs),a&&a.forEach((function(t){return t(i)})),i.directiveDefs=r?function(){return("function"==typeof r?r():r).map(ne)}:null,i.pipeDefs=o?function(){return("function"==typeof o?o():o).map(ie)}:null,i}))}function ee(t,e,n){var i=t.\u0275cmp;i.directiveDefs=function(){return e.map(ne)},i.pipeDefs=function(){return n.map(ie)}}function ne(t){var e=le(t)||he(t);return e}function ie(t){var e=de(t);return e}var re={};function ae(t){var e={type:t.type,bootstrap:t.bootstrap||Jt,declarations:t.declarations||Jt,imports:t.imports||Jt,exports:t.exports||Jt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&b((function(){re[t.id]=t.type})),e}function oe(t,e){return b((function(){var n=pe(t,!0);n.declarations=e.declarations||Jt,n.imports=e.imports||Jt,n.exports=e.exports||Jt}))}function se(t,e){if(null==t)return Zt;var n={};for(var i in t)if(t.hasOwnProperty(i)){var r=t[i],a=r;Array.isArray(r)&&(a=r[1],r=r[0]),n[r]=i,e&&(e[r]=a)}return n}var ce=te;function ue(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function le(t){return t[st]||null}function he(t){return t[ct]||null}function de(t){return t[ut]||null}function fe(t,e){var n=t.hasOwnProperty(dt);return n?t[dt]:null}function pe(t,e){var n=t[lt]||null;if(!n&&!0===e)throw new Error("Type ".concat(X(t)," does not have '\u0275mod' property."));return n}var ve=20,me=10;function ge(t){return Array.isArray(t)&&"object"==typeof t[1]}function ye(t){return Array.isArray(t)&&!0===t[1]}function be(t){return 0!=(8&t.flags)}function _e(t){return 2==(2&t.flags)}function we(t){return 1==(1&t.flags)}function xe(t){return null!==t.template}function ke(t){return 0!=(512&t[2])}var Oe=function(){function t(e,n,i){Object(h.a)(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=i}return Object(d.a)(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function Se(){return Ce}function Ce(t){return t.type.prototype.ngOnChanges&&(t.setInput=Me),Ae}function Ae(){var t=Te(this),e=null==t?void 0:t.current;if(e){var n=t.previous;if(n===Zt)t.previous=e;else for(var i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function Me(t,e,n,i){var r=Te(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Zt,current:null}),a=r.current||(r.current={}),o=r.previous,s=this.declaredInputs[n],c=o[s];a[s]=new Oe(c&&c.currentValue,e,o===Zt),t[i]=e}Se.ngInherit=!0;function Te(t){return t.__ngSimpleChanges__||null}var Ee,Pe="http://www.w3.org/2000/svg",De="http://www.w3.org/1998/MathML/",je=void 0;function Re(t){je=t}function Ie(){return void 0!==je?je:"undefined"!=typeof document?document:void 0}function Le(t){return!!t.listen}!function(t){t[t.Important=1]="Important",t[t.DashCase=2]="DashCase"}(Ee||(Ee={}));var Ne={createRenderer:function(t,e){return Ie()}};function Fe(t){for(;Array.isArray(t);)t=t[0];return t}function Be(t,e){return Fe(e[t+ve])}function ze(t,e){var n=Fe(e[t.index]);return n}function Ue(t,e){return t.data[e+ve]}function He(t,e){return t[e+ve]}function Ve(t,e){var n=e[t];return ge(n)?n:n[0]}function Ge(t){return t.__ngContext__||null}function We(t){var e=Ge(t);return e?Array.isArray(e)?e:e.lView:null}function Xe(t){return 4==(4&t[2])}function qe(t){return 128==(128&t[2])}function Ye(t,e){return null===t||null==e?null:t[e]}function Qe(t){t[18]=0}function Ke(t,e){t[5]+=e;for(var n=t,i=t[3];null!==i&&(1===e&&1===n[5]||-1===e&&0===n[5]);)i[5]+=e,n=i,i=i[3]}var Ze={lFrame:On(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Je(){return Ze.bindingsEnabled}function $e(){Ze.bindingsEnabled=!0}function tn(){Ze.bindingsEnabled=!1}function en(){return Ze.lFrame.lView}function nn(){return Ze.lFrame.tView}function rn(t){Ze.lFrame.contextLView=t}function an(){return Ze.lFrame.currentTNode}function on(t,e){Ze.lFrame.currentTNode=t,Ze.lFrame.isParent=e}function sn(){return Ze.lFrame.isParent}function cn(){Ze.lFrame.isParent=!1}function un(){return Ze.isInCheckNoChangesMode}function ln(t){Ze.isInCheckNoChangesMode=t}function hn(){var t=Ze.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function dn(){return Ze.lFrame.bindingIndex}function fn(t){return Ze.lFrame.bindingIndex=t}function pn(){return Ze.lFrame.bindingIndex++}function vn(t){var e=Ze.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function mn(t,e){var n=Ze.lFrame;n.bindingIndex=n.bindingRootIndex=t,gn(e)}function gn(t){Ze.lFrame.currentDirectiveIndex=t}function yn(t){var e=Ze.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function bn(){return Ze.lFrame.currentQueryIndex}function _n(t){Ze.lFrame.currentQueryIndex=t}function wn(t,e){var n=kn();Ze.lFrame=n,n.currentTNode=e,n.lView=t}function xn(t){var e=kn();var n=t[1];Ze.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex}function kn(){var t=Ze.lFrame,e=null===t?null:t.child;return null===e?On(t):e}function On(t){var e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Sn(){var t=Ze.lFrame;return Ze.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Cn=Sn;function An(){var t=Sn();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Mn(t){return(Ze.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ze.lFrame.contextLView))[8]}function Tn(){return Ze.lFrame.selectedIndex}function En(t){Ze.lFrame.selectedIndex=t}function Pn(){var t=Ze.lFrame;return Ue(t.tView,t.selectedIndex)}function Dn(){Ze.lFrame.currentNamespace=Pe}function jn(){Ze.lFrame.currentNamespace=De}function Rn(){Ze.lFrame.currentNamespace=null}function In(t,e){for(var n=e.directiveStart,i=e.directiveEnd;n<i;n++){var r=t.data[n].type.prototype,a=r.ngAfterContentInit,o=r.ngAfterContentChecked,s=r.ngAfterViewInit,c=r.ngAfterViewChecked,u=r.ngOnDestroy;a&&(t.contentHooks||(t.contentHooks=[])).push(-n,a),o&&((t.contentHooks||(t.contentHooks=[])).push(n,o),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,o)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=u&&(t.destroyHooks||(t.destroyHooks=[])).push(n,u)}}function Ln(t,e,n){Bn(t,e,3,n)}function Nn(t,e,n,i){(3&t[2])===n&&Bn(t,e,n,i)}function Fn(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Bn(t,e,n,i){for(var r=null!=i?i:-1,a=0,o=void 0!==i?65535&t[18]:0;o<e.length;o++){if("number"==typeof e[o+1]){if(a=e[o],null!=i&&a>=i)break}else e[o]<0&&(t[18]+=65536),(a<r||-1==r)&&(zn(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}}function zn(t,e,n,i){var r=n[i]<0,a=n[i+1],o=t[r?-n[i]:n[i]];r?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,a.call(o)):a.call(o)}var Un=-1,Hn=function t(e,n,i){Object(h.a)(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i};function Vn(t,e,n){for(var i=Le(t),r=0;r<n.length;){var a=n[r];if("number"==typeof a){if(0!==a)break;r++;var o=n[r++],s=n[r++],c=n[r++];i?t.setAttribute(e,s,c,o):e.setAttributeNS(o,s,c)}else{var u=a,l=n[++r];Wn(u)?i&&t.setProperty(e,u,l):i?t.setAttribute(e,u,l):e.setAttribute(u,l),r++}}return r}function Gn(t){return 3===t||4===t||6===t}function Wn(t){return 64===t.charCodeAt(0)}function Xn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,i=0;i<e.length;i++){var r=e[i];"number"==typeof r?n=r:0===n||qn(t,n,r,null,-1===n||2===n?e[++i]:null)}return t}function qn(t,e,n,i,r){var a=0,o=t.length;if(-1===e)o=-1;else for(;a<t.length;){var s=t[a++];if("number"==typeof s){if(s===e){o=-1;break}if(s>e){o=a-1;break}}}for(;a<t.length;){var c=t[a];if("number"==typeof c)break;if(c===n){if(null===i)return void(null!==r&&(t[a+1]=r));if(i===t[a+1])return void(t[a+2]=r)}a++,null!==i&&a++,null!==r&&a++}-1!==o&&(t.splice(o,0,e),a=o+1),t.splice(a++,0,n),null!==i&&t.splice(a++,0,i),null!==r&&t.splice(a++,0,r)}function Yn(t){return t!==Un}function Qn(t){return 32767&t}function Kn(t,e){for(var n=t>>16,i=e;n>0;)i=i[15],n--;return i}function Zn(t){return"string"==typeof t?t:null==t?"":""+t}function Jn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Zn(t)}var $n=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(at);function ti(t){return{name:"window",target:t.ownerDocument.defaultView}}function ei(t){return{name:"document",target:t.ownerDocument}}function ni(t){return{name:"body",target:t.ownerDocument.body}}function ii(t){return t instanceof Function?t():t}var ri=!0;function ai(t){var e=ri;return ri=t,e}var oi=0;function si(t,e){var n=ui(t,e);if(-1!==n)return n;var i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,ci(i.data,t),ci(e,null),ci(i.blueprint,null));var r=li(t,e),a=t.injectorIndex;if(Yn(r))for(var o=Qn(r),s=Kn(r,e),c=s[1].data,u=0;u<8;u++)e[a+u]=s[o+u]|c[o+u];return e[a+8]=r,a}function ci(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ui(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function li(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=0,i=null,r=e;null!==r;){var a=r[1],o=a.type;if(null===(i=2===o?a.declTNode:1===o?r[6]:null))return Un;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return Un}function hi(t,e,n){!function(t,e,n){var i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(ft)&&(i=n[ft]),null==i&&(i=n[ft]=oi++);var r=255&i,a=1<<r,o=128&r,s=64&r,c=32&r,u=e.data;o?s?c?u[t+7]|=a:u[t+6]|=a:c?u[t+5]|=a:u[t+4]|=a:s?c?u[t+3]|=a:u[t+2]|=a:c?u[t+1]|=a:u[t]|=a}(t,e,n)}function di(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:A.Default,r=arguments.length>4?arguments[4]:void 0;if(null!==t){var a=gi(n);if("function"==typeof a){wn(e,t);try{var o=a();if(null!=o||i&A.Optional)return o;throw new Error("No provider for ".concat(Jn(n),"!"))}finally{Cn()}}else if("number"==typeof a){if(-1===a)return new _i(t,e);var s=null,c=ui(t,e),u=Un,l=i&A.Host?e[16][6]:null;for((-1===c||i&A.SkipSelf)&&((u=-1===c?li(t,e):e[c+8])!==Un&&bi(i,!1)?(s=e[1],c=Qn(u),e=Kn(u,e)):c=-1);-1!==c;){var h=e[1];if(yi(a,c,h.data)){var d=pi(c,e,n,s,i,l);if(d!==fi)return d}(u=e[c+8])!==Un&&bi(i,e[1].data[c+8]===l)&&yi(a,c,e)?(s=h,c=Qn(u),e=Kn(u,e)):c=-1}}}if(i&A.Optional&&void 0===r&&(r=null),0==(i&(A.Self|A.Host))){var f=e[9],p=St(void 0);try{return f?f.get(n,r,i&A.Optional):Et(n,r,i&A.Optional)}finally{St(p)}}if(i&A.Optional)return r;throw new Error("NodeInjector: NOT_FOUND [".concat(Jn(n),"]"))}var fi={};function pi(t,e,n,i,r,a){var o=e[1],s=o.data[t+8],c=vi(s,o,n,null==i?_e(s)&&ri:i!=o&&2===s.type,r&A.Host&&a===s);return null!==c?mi(e,o,c,s):fi}function vi(t,e,n,i,r){for(var a=t.providerIndexes,o=e.data,s=1048575&a,c=t.directiveStart,u=t.directiveEnd,l=a>>20,h=r?s+l:u,d=i?s:s+l;d<h;d++){var f=o[d];if(d<c&&n===f||d>=c&&f.type===n)return d}if(r){var p=o[c];if(p&&xe(p)&&p.type===n)return c}return null}function mi(t,e,n,i){var r=t[n],a=e.data;if(r instanceof Hn){var o=r;if(o.resolving)throw new Error("Circular dep for ".concat(Jn(a[n])));var s=ai(o.canSeeViewProviders);o.resolving=!0;var c=o.injectImpl?St(o.injectImpl):null;wn(t,i);try{r=t[n]=o.factory(void 0,a,t,i),e.firstCreatePass&&n>=i.directiveStart&&function(t,e,n){var i=e.type.prototype,r=i.ngOnChanges,a=i.ngOnInit,o=i.ngDoCheck;if(r){var s=Ce(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s)}a&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,a),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,a[n],e)}finally{null!==c&&St(c),ai(s),o.resolving=!1,Cn()}}return r}function gi(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t.hasOwnProperty(ft)?t[ft]:void 0;return"number"==typeof e&&e>0?255&e:e}function yi(t,e,n){var i=1<<t,r=64&t,a=32&t;return!!((128&t?r?a?n[e+7]:n[e+6]:a?n[e+5]:n[e+4]:r?a?n[e+3]:n[e+2]:a?n[e+1]:n[e])&i)}function bi(t,e){return!(t&A.Self||t&A.Host&&e)}var _i=function(){function t(e,n){Object(h.a)(this,t),this._tNode=e,this._lView=n}return Object(d.a)(t,[{key:"get",value:function(t,e){return di(this._tNode,this._lView,t,void 0,e)}}]),t}();function wi(t){var e=t;if(Z(t))return function(){var t=wi(K(e));return t?t():null};var n=fe(e);if(null===n){var i=z(e);n=i&&i.factory}return n||null}function xi(t){return b((function(){for(var e=t.prototype.constructor,n=e[dt]||wi(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;r&&r!==i;){var a=r[dt]||wi(r);if(a&&a!==n)return a;r=Object.getPrototypeOf(r)}return function(t){return new t}}))}function ki(t){return t.ngDebugContext}function Oi(t){return t.ngOriginalError}function Si(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];t.error.apply(t,n)}var Ci=function(){function t(){Object(h.a)(this,t),this._console=console}return Object(d.a)(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t.ngErrorLogger||Si}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?ki(t)?ki(t):this._findContext(Oi(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=Oi(t);e&&Oi(e);)e=Oi(e);return e}}]),t}(),Ai=function(){function t(e){Object(h.a)(this,t),this.changingThisBreaksApplicationSecurity=e}return Object(d.a)(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see http://g.co/ng/security#xss)"}}]),t}(),Mi=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(h.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Ai),Ti=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(h.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Ai),Ei=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(h.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Ai),Pi=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(h.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Ai),Di=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(h.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Ai);function ji(t){return t instanceof Ai?t.changingThisBreaksApplicationSecurity:t}function Ri(t,e){var n=Ii(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return n===e}function Ii(t){return t instanceof Ai&&t.getTypeName()||null}function Li(t){return new Mi(t)}function Ni(t){return new Ti(t)}function Fi(t){return new Ei(t)}function Bi(t){return new Pi(t)}function zi(t){return new Di(t)}var Ui=!0,Hi=!1;function Vi(){return Hi=!0,Ui}function Gi(){if(Hi)throw new Error("Cannot enable prod mode after platform setup.");Ui=!1}function Wi(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new Xi:new qi(t)}var Xi=function(){function t(){Object(h.a)(this,t)}return Object(d.a)(t,[{key:"getInertBodyElement",value:function(t){t="<body><remove></remove>"+t;try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}}}]),t}(),qi=function(){function t(e){if(Object(h.a)(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var i=this.inertDocument.createElement("body");n.appendChild(i)}}return Object(d.a)(t,[{key:"getInertBodyElement",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;var n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var i=e.item(n).name;"xmlns:ns1"!==i&&0!==i.indexOf("ns1:")||t.removeAttribute(i)}for(var r=t.firstChild;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}]),t}();var Yi=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Qi=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ki(t){return(t=String(t)).match(Yi)||t.match(Qi)?t:(Vi()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(t," (see http://g.co/ng/security#xss)")),"unsafe:"+t)}function Zi(t){return(t=String(t)).split(",").map((function(t){return Ki(t.trim())})).join(", ")}function Ji(t){var e,n={},i=Object(c.a)(t.split(","));try{for(i.s();!(e=i.n()).done;){n[e.value]=!0}}catch(r){i.e(r)}finally{i.f()}return n}function $i(){for(var t={},e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(var r=0,a=n;r<a.length;r++){var o=a[r];for(var s in o)o.hasOwnProperty(s)&&(t[s]=!0)}return t}var tr,er,nr=Ji("area,br,col,hr,img,wbr"),ir=Ji("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),rr=Ji("rp,rt"),ar=$i(rr,ir),or=$i(ir,Ji("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),sr=$i(rr,Ji("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),cr=$i(nr,or,sr,ar),ur=Ji("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lr=Ji("srcset"),hr=Ji("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),dr=Ji("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),fr=$i(ur,lr,hr,dr),pr=Ji("script,style,template"),vr=function(){function t(){Object(h.a)(this,t),this.sanitizedSomething=!1,this.buf=[]}return Object(d.a)(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!cr.hasOwnProperty(e))return this.sanitizedSomething=!0,!pr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n=t.attributes,i=0;i<n.length;i++){var r=n.item(i),a=r.name,o=a.toLowerCase();if(fr.hasOwnProperty(o)){var s=r.value;ur[o]&&(s=Ki(s)),lr[o]&&(s=Zi(s)),this.buf.push(" ",a,'="',yr(s),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();cr.hasOwnProperty(e)&&!nr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(yr(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(t.outerHTML));return e}}]),t}(),mr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gr=/([^\#-~ |!])/g;function yr(t){return t.replace(/&/g,"&amp;").replace(mr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(gr,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function br(t,e){var n=null;try{tr=tr||Wi(t);var i=e?String(e):"";n=tr.getInertBodyElement(i);var r=5,a=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=a,a=n.innerHTML,n=tr.getInertBodyElement(i)}while(i!==a);var o=new vr,s=o.sanitizeChildren(_r(n)||n);return Vi()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var c=_r(n)||n;c.firstChild;)c.removeChild(c.firstChild)}}function _r(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}function wr(t){var e=Ar();return e?e.sanitize(er.HTML,t)||"":Ri(t,"HTML")?ji(t):br(Ie(),Zn(t))}function xr(t){var e=Ar();return e?e.sanitize(er.STYLE,t)||"":Ri(t,"Style")?ji(t):Zn(t)}function kr(t){var e=Ar();return e?e.sanitize(er.URL,t)||"":Ri(t,"URL")?ji(t):Ki(Zn(t))}function Or(t){var e=Ar();if(e)return e.sanitize(er.RESOURCE_URL,t)||"";if(Ri(t,"ResourceURL"))return ji(t);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}function Sr(t){var e=Ar();if(e)return e.sanitize(er.SCRIPT,t)||"";if(Ri(t,"Script"))return ji(t);throw new Error("unsafe value used in a script context")}function Cr(t,e,n){return function(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?Or:kr}(e,n)(t)}function Ar(){var t=en();return t&&t[12]}!function(t){t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL"}(er||(er={}));function Mr(t,e){t.__ngContext__=e}function Tr(t,e,n){for(var i=t.length;;){var r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){var a=e.length;if(r+a===i||t.charCodeAt(r+a)<=32)return r}n=r+1}}var Er="ng-template";function Pr(t,e,n){for(var i=0;i<t.length;){var r=t[i++];if(n&&"class"===r){if(-1!==Tr((r=t[i]).toLowerCase(),e,0))return!0}else if(1===r){for(;i<t.length&&"string"==typeof(r=t[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function Dr(t){return 0===t.type&&t.tagName!==Er}function jr(t,e,n){return e===(0!==t.type||n?t.tagName:Er)}function Rr(t,e,n){for(var i=4,r=t.attrs||[],a=function(t){for(var e=0;e<t.length;e++){if(Gn(t[e]))return e}return t.length}(r),o=!1,s=0;s<e.length;s++){var c=e[s];if("number"!=typeof c){if(!o)if(4&i){if(i=2|1&i,""!==c&&!jr(t,c,n)||""===c&&1===e.length){if(Ir(i))return!1;o=!0}}else{var u=8&i?c:e[++s];if(8&i&&null!==t.attrs){if(!Pr(t.attrs,u,n)){if(Ir(i))return!1;o=!0}continue}var l=Lr(8&i?"class":c,r,Dr(t),n);if(-1===l){if(Ir(i))return!1;o=!0;continue}if(""!==u){var h=void 0;h=l>a?"":r[l+1].toLowerCase();var d=8&i?h:null;if(d&&-1!==Tr(d,u,0)||2&i&&u!==h){if(Ir(i))return!1;o=!0}}}}else{if(!o&&!Ir(i)&&!Ir(c))return!1;if(o&&Ir(c))continue;o=!1,i=c|1&i}}return Ir(i)||o}function Ir(t){return 0==(1&t)}function Lr(t,e,n,i){if(null===e)return-1;var r=0;if(i||!n){for(var a=!1;r<e.length;){var o=e[r];if(o===t)return r;if(3===o||6===o)a=!0;else{if(1===o||2===o){for(var s=e[++r];"string"==typeof s;)s=e[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=a?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var i=t[n];if("number"==typeof i)return-1;if(i===e)return n;n++}return-1}(e,t)}function Nr(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=0;i<e.length;i++)if(Rr(t,e[i],n))return!0;return!1}function Fr(t,e){t:for(var n=0;n<e.length;n++){var i=e[n];if(t.length===i.length){for(var r=0;r<t.length;r++)if(t[r]!==i[r])continue t;return!0}}return!1}function Br(t,e){return t?":not("+e.trim()+")":e}function zr(t){for(var e=t[0],n=1,i=2,r="",a=!1;n<t.length;){var o=t[n];if("string"==typeof o)if(2&i){var s=t[++n];r+="["+o+(s.length>0?'="'+s+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""===r||Ir(o)||(e+=Br(a,r),r=""),i=o,a=a||!Ir(i);n++}return""!==r&&(e+=Br(a,r)),e}var Ur={};function Hr(t){var e=t[3];return ye(e)?e[3]:e}function Vr(t){return Wr(t[13])}function Gr(t){return Wr(t[4])}function Wr(t){for(;null!==t&&!ye(t);)t=t[4];return t}function Xr(t){qr(nn(),en(),Tn()+t,un())}function qr(t,e,n,i){if(!i)if(3==(3&e[2])){var r=t.preOrderCheckHooks;null!==r&&Ln(e,r,n)}else{var a=t.preOrderHooks;null!==a&&Nn(e,a,0,n)}En(n)}function Yr(t,e){return t<<17|e<<2}function Qr(t){return t>>17&32767}function Kr(t){return 2==(2&t)}function Zr(t){return 2|t}function Jr(t){return(131068&t)>>2}function $r(t,e){return-131069&t|e<<2}function ta(t){return 1==(1&t)}function ea(t){return 1|t}var na=Promise.resolve(null);function ia(t,e){var n=t.contentQueries;if(null!==n)for(var i=0;i<n.length;i+=2){var r=n[i],a=n[i+1];if(-1!==a){var o=t.data[a];_n(r),o.contentQueries(2,e[a],a)}}}function ra(t,e,n){return Le(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function aa(t,e,n,i,r,a,o,s,c,u){var l=e.blueprint.slice();return l[0]=r,l[2]=140|i,Qe(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=s||t&&t[11],l[12]=c||t&&t[12]||null,l[9]=u||t&&t[9]||null,l[6]=a,l[16]=2==e.type?t[16]:l,l}function oa(t,e,n,i,r){var a=e+ve,o=t.data[a]||function(t,e,n,i,r){var a=an(),o=sn(),s=o?a:a&&a.parent,c=t.data[e]=function(t,e,n,i,r,a){var o=e?e.injectorIndex:-1,s={type:n,index:i,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:r,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0};0;return s}(0,s,n,e,i,r);null===t.firstChild&&(t.firstChild=c);null!==a&&(o&&null==a.child&&null!==c.parent?a.child=c:o||(a.next=c));return c}(t,a,n,i,r);return on(o,!0),o}function sa(t,e,n){xn(e);try{var i=t.viewQuery;null!==i&&Ua(1,i,n);var r=t.template;null!==r&&la(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ia(t,e),t.staticViewQueries&&Ua(2,t.viewQuery,n);var a=t.components;null!==a&&function(t,e){for(var n=0;n<e.length;n++)Ia(t,e[n])}(e,a)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),o}finally{e[2]&=-5,An()}}function ca(t,e,n,i){var r=e[2];if(256!=(256&r)){xn(e);var a=un();try{Qe(e),fn(t.bindingStartIndex),null!==n&&la(t,e,n,2,i);var o=3==(3&r);if(!a)if(o){var s=t.preOrderCheckHooks;null!==s&&Ln(e,s,null)}else{var c=t.preOrderHooks;null!==c&&Nn(e,c,0,null),Fn(e,0)}if(function(t){for(var e=Vr(t);null!==e;e=Gr(e))if(e[2])for(var n=e[9],i=0;i<n.length;i++){var r=n[i],a=r[3];0==(1024&r[2])&&Ke(a,1),r[2]|=1024}}(e),function(t){for(var e=Vr(t);null!==e;e=Gr(e))for(var n=me;n<e.length;n++){var i=e[n],r=i[1];qe(i)&&ca(r,i,r.template,i[8])}}(e),null!==t.contentQueries&&ia(t,e),!a)if(o){var u=t.contentCheckHooks;null!==u&&Ln(e,u)}else{var l=t.contentHooks;null!==l&&Nn(e,l,1),Fn(e,1)}!function(t,e){try{var n=t.expandoInstructions;if(null!==n)for(var i=t.expandoStartIndex,r=-1,a=0;a<n.length;a++){var o=n[a];"number"==typeof o?o<=0?(En(0-o),r=i+=9+n[++a]):i+=o:(null!==o&&(mn(i,r),o(2,e[r])),r++)}}finally{En(-1)}}(t,e);var h=t.components;null!==h&&function(t,e){for(var n=0;n<e.length;n++)Ra(t,e[n])}(e,h);var d=t.viewQuery;if(null!==d&&Ua(2,d,i),!a)if(o){var f=t.viewCheckHooks;null!==f&&Ln(e,f)}else{var p=t.viewHooks;null!==p&&Nn(e,p,2),Fn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),a||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ke(e[3],-1))}finally{An()}}}function ua(t,e,n,i){var r=e[10],a=!un(),o=Xe(e);try{a&&!o&&r.begin&&r.begin(),o&&sa(t,e,i),ca(t,e,n,i)}finally{a&&!o&&r.end&&r.end()}}function la(t,e,n,i,r){var a=Tn();try{En(-1),2&i&&e.length>ve&&qr(t,e,0,un()),n(i,r)}finally{En(a)}}function ha(t,e,n){if(be(e))for(var i=e.directiveStart,r=e.directiveEnd,a=i;a<r;a++){var o=t.data[a];o.contentQueries&&o.contentQueries(1,n[a],a)}}function da(t,e,n){Je()&&(function(t,e,n,i){var r=n.directiveStart,a=n.directiveEnd;t.firstCreatePass||si(n,e);Mr(i,e);for(var o=n.initialInputs,s=r;s<a;s++){var c=t.data[s],u=xe(c);u&&Ta(e,n,c);var l=mi(e,t,s,n);if(Mr(l,e),null!==o&&Pa(e,s-r,l,c,n,o),u)Ve(n.index,e)[8]=l}}(t,e,n,ze(n,e)),128==(128&n.flags)&&function(t,e,n){var i=n.directiveStart,r=n.directiveEnd,a=t.expandoInstructions,o=t.firstCreatePass,s=n.index-ve,c=Ze.lFrame.currentDirectiveIndex;try{En(s);for(var u=i;u<r;u++){var l=t.data[u],h=e[u];gn(u),null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs?ka(l,h):o&&a.push(null)}}finally{En(-1),gn(c)}}(t,e,n))}function fa(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ze,i=e.localNames;if(null!==i)for(var r=e.index+1,a=0;a<i.length;a+=2){var o=i[a+1],s=-1===o?n(e,t):t[o];t[r++]=s}}function pa(t){var e=t.tView;if(null===e||e.incompleteFirstPass){return t.tView=va(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts)}return e}function va(t,e,n,i,r,a,o,s,c,u){var l=ve+i,h=l+r,d=function(t,e){for(var n=[],i=0;i<e;i++)n.push(i<t?null:Ur);return n}(l,h),f="function"==typeof u?u():u,p=d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:s,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1};return p}function ma(t,e,n){if(Le(t)){var i=n===Ft.ShadowDom;return t.selectRootElement(e,i)}var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}function ga(t,e,n,i){var r=Va(e);r.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(i,r.length-1)}function ya(t,e,n){for(var i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;var r=t[i];n.hasOwnProperty(i)?n[i].push(e,r):n[i]=[e,r]}return n}function ba(t,e,n,i,r,a,o,s){var c,u,l=ze(e,n),h=e.inputs;!s&&null!=h&&(c=h[i])?(Xa(t,n,c,i,r),_e(e)&&function(t,e){var n=Ve(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):2===e.type?(i="class"===(u=i)?"className":"for"===u?"htmlFor":"formaction"===u?"formAction":"innerHtml"===u?"innerHTML":"readonly"===u?"readOnly":"tabindex"===u?"tabIndex":u,r=null!=o?o(r,e.tagName||"",i):r,Le(a)?a.setProperty(l,i,r):Wn(i)||(l.setProperty?l.setProperty(i,r):l[i]=r)):0!==e.type&&e.type}function _a(t,e,n,i){var r=!1;if(Je()){var a=function(t,e,n){var i=t.directiveRegistry,r=null;if(i)for(var a=0;a<i.length;a++){var o=i[a];Nr(n,o.selectors,!1)&&(r||(r=[]),hi(si(n,e),t,o.type),xe(o)?(Sa(t,n),r.unshift(o)):r.push(o))}return r}(t,e,n),o=null===i?null:{"":-1};if(null!==a){var s=0;r=!0,Aa(n,t.data.length,a.length);for(var c=0;c<a.length;c++){var u=a[c];u.providersResolver&&u.providersResolver(u)}Oa(t,n,a.length);for(var l=!1,h=!1,d=0;d<a.length;d++){var f=a[d];n.mergedAttrs=Xn(n.mergedAttrs,f.hostAttrs),Ma(t,e,f),Ca(t.data.length-1,f,o),null!==f.contentQueries&&(n.flags|=8),null===f.hostBindings&&null===f.hostAttrs&&0===f.hostVars||(n.flags|=128);var p=f.type.prototype;!l&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-ve),l=!0),h||!p.ngOnChanges&&!p.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-ve),h=!0),wa(t,f),s+=f.hostVars}!function(t,e){for(var n=e.directiveStart,i=e.directiveEnd,r=t.data,a=e.attrs,o=[],s=null,c=null,u=n;u<i;u++){var l=r[u],h=l.inputs,d=null===a||Dr(e)?null:Da(h,a);o.push(d),s=ya(h,u,s),c=ya(l.outputs,u,c)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=c}(t,n),xa(t,e,s)}o&&function(t,e,n){if(e)for(var i=t.localNames=[],r=0;r<e.length;r+=2){var a=n[e[r+1]];if(null==a)throw new Error("Export of name '".concat(e[r+1],"' not found!"));i.push(e[r],a)}}(n,i,o)}return n.mergedAttrs=Xn(n.mergedAttrs,n.attrs),r}function wa(t,e){var n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function xa(t,e,n){for(var i=0;i<n;i++)e.push(Ur),t.blueprint.push(Ur),t.data.push(null)}function ka(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Oa(t,e,n){var i=ve-e.index,r=1048575&e.providerIndexes,a=t.data.length-r;(t.expandoInstructions||(t.expandoInstructions=[])).push(i,a,n)}function Sa(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Ca(t,e,n){if(n){if(e.exportAs)for(var i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;xe(e)&&(n[""]=t)}}function Aa(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ma(t,e,n){t.data.push(n);var i=n.factory||(n.factory=fe(n.type)),r=new Hn(i,xe(n),null);t.blueprint.push(r),e.push(r)}function Ta(t,e,n){var i=ze(e,t),r=pa(n),a=t[10],o=La(t,aa(t,r,null,n.onPush?64:16,i,e,a,a.createRenderer(i,n),null,null));t[e.index]=o}function Ea(t,e,n,i,r,a){var o=ze(t,e),s=e[11];if(null==i)Le(s)?s.removeAttribute(o,n,a):o.removeAttribute(n);else{var c=null==r?Zn(i):r(i,t.tagName||"",n);Le(s)?s.setAttribute(o,n,c,a):a?o.setAttributeNS(a,n,c):o.setAttribute(n,c)}}function Pa(t,e,n,i,r,a){var o=a[e];if(null!==o)for(var s=i.setInput,c=0;c<o.length;){var u=o[c++],l=o[c++],h=o[c++];null!==s?i.setInput(n,h,u,l):n[l]=h}}function Da(t,e){for(var n=null,i=0;i<e.length;){var r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,t[r],e[i+1])),i+=2}else i+=2;else i+=4}return n}function ja(t,e,n,i){var r=new Array(t,!0,!1,e,null,0,i,n,null,null);return r}function Ra(t,e){var n=Ve(e,t);if(qe(n)){var i=n[1];80&n[2]?ca(i,n,i.template,n[8]):n[5]>0&&function t(e){for(var n=Vr(e);null!==n;n=Gr(n))for(var i=me;i<n.length;i++){var r=n[i];if(1024&r[2]){var a=r[1];ca(a,r,a.template,r[8])}else r[5]>0&&t(r)}var o=e[1].components;if(null!==o)for(var s=0;s<o.length;s++){var c=Ve(o[s],e);qe(c)&&c[5]>0&&t(c)}}(n)}}function Ia(t,e){var n=Ve(e,t),i=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(i,n),sa(i,n,n[8])}function La(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Na(t){for(;t;){t[2]|=64;var e=Hr(t);if(ke(t)&&!e)return t;t=e}return null}function Fa(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],i=We(n),r=i[1];ua(r,i,r.template,n)}}function Ba(t,e,n){var i=e[10];i.begin&&i.begin();try{ca(t,e,t.template,n)}catch(r){throw Wa(e,r),r}finally{i.end&&i.end()}}function za(t){Fa(t[8])}function Ua(t,e,n){_n(0),e(t,n)}var Ha=na;function Va(t){return t[7]||(t[7]=[])}function Ga(t,e,n){return(null===t||xe(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function Wa(t,e){var n=t[9],i=n?n.get(Ci,null):null;i&&i.handleError(e)}function Xa(t,e,n,i,r){for(var a=0;a<n.length;){var o=n[a++],s=n[a++],c=e[o],u=t.data[o];null!==u.setInput?u.setInput(c,r,i,s):c[s]=r}}function qa(t,e,n){var i=Be(e,t),r=t[11];Le(r)?r.setValue(i,n):i.textContent=n}function Ya(t,e,n,i,r){if(null!=i){var a,o=!1;ye(i)?a=i:ge(i)&&(o=!0,i=i[0]);var s=Fe(i);0===t&&null!==n?null==r?io(e,n,s):no(e,n,s,r||null):1===t&&null!==n?no(e,n,s,r||null):2===t?uo(e,s,o):3===t&&e.destroyNode(s),null!=a&&function(t,e,n,i,r){var a=n[7],o=Fe(n);a!==o&&Ya(e,t,i,a,r);for(var s=me;s<n.length;s++){var c=n[s];ho(c[1],c,t,e,i,a)}}(e,t,a,n,r)}}function Qa(t,e){return Le(e)?e.createText(t):e.createTextNode(t)}function Ka(t,e,n,i){var r=me+i,a=n.length;i>0&&(n[r-1][4]=e),i<a-me?(e[4]=n[r],Gt(n,me+i,e)):(n.push(e),e[4]=null),e[3]=n;var o=e[17];null!==o&&n!==o&&function(t,e){var n=t[9],i=e[3];var r=i[3][16];var a=e[16];a!==r&&(t[2]=!0);null===n?t[9]=[e]:n.push(e)}(o,e);var s=e[19];null!==s&&s.insertView(t),e[2]|=128}function Za(t,e){var n=t[9],i=n.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,Ke(r,-1)),n.splice(i,1)}function Ja(t,e){if(!(t.length<=me)){var n,i=me+e,r=t[i];if(r){var a=r[17];null!==a&&a!==t&&Za(a,r),e>0&&(t[i-1][4]=r[4]);var o=Wt(t,me+e);ho(r[1],n=r,n[11],2,null,null),n[0]=null,n[6]=null;var s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function $a(t,e){if(!(256&e[2])){var n=e[11];Le(n)&&n.destroyNode&&ho(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return to(t[1],t);for(;e;){var n=null;if(ge(e))n=e[13];else{var i=e[10];i&&(n=i)}if(!n){for(;e&&!e[4]&&e!==t;)ge(e)&&to(e[1],e),e=e[3];null===e&&(e=t),ge(e)&&to(e[1],e),n=e&&e[4]}e=n}}(e)}}function to(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var i=0;i<n.length;i+=2){var r=e[n[i]];if(!(r instanceof Hn)){var a=n[i+1];if(Array.isArray(a))for(var o=0;o<a.length;o+=2)a[o+1].call(r[a[o]]);else a.call(r)}}}(t,e),function(t,e){var n=t.cleanup;if(null!==n){for(var i=e[7],r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){var a=n[r+1],o="function"==typeof a?a(e):Fe(e[a]),s=i[n[r+2]],c=n[r+3];"boolean"==typeof c?o.removeEventListener(n[r],s,c):c>=0?i[c]():i[-c].unsubscribe(),r+=2}else{var u=i[n[r+1]];n[r].call(u)}e[7]=null}}(t,e),1===e[1].type&&Le(e[11])&&e[11].destroy();var n=e[17];if(null!==n&&ye(e[3])){n!==e[3]&&Za(n,e);var i=e[19];null!==i&&i.detachView(t)}}}function eo(t,e,n){for(var i=e.parent;null!=i&&(3===i.type||4===i.type);)i=(e=i).parent;if(null===i)return n[0];if(e&&4===e.type&&4&e.flags)return ze(e,n).parentNode;if(2&i.flags){var r=t.data,a=r[r[i.index].directiveStart].encapsulation;if(a!==Ft.ShadowDom&&a!==Ft.Native)return null}return ze(i,n)}function no(t,e,n,i){Le(t)?t.insertBefore(e,n,i):e.insertBefore(n,i,!0)}function io(t,e,n){Le(t)?t.appendChild(e,n):e.appendChild(n)}function ro(t,e,n,i){null!==i?no(t,e,n,i):io(t,e,n)}function ao(t,e){return Le(t)?t.parentNode(e):e.parentNode}function oo(t,e){return 3===t.type||4===t.type?ze(t,e):null}function so(t,e,n,i){var r=eo(t,i,e);if(null!=r){var a=e[11],o=oo(i.parent||e[6],e);if(Array.isArray(n))for(var s=0;s<n.length;s++)ro(a,r,n[s],o);else ro(a,r,n,o)}}function co(t,e){var n=me+t+1;if(n<e.length){var i=e[n],r=i[1].firstChild;if(null!==r)return function t(e,n){if(null!==n){var i=n.type;if(2===i)return ze(n,e);if(0===i)return co(-1,e[n.index]);if(3===i||4===i){var r=n.child;if(null!==r)return t(e,r);var a=e[n.index];return ye(a)?co(-1,a):Fe(a)}var o=e[16],s=o[6],c=Hr(o),u=s.projection[n.projection];return null!=u?t(c,u):t(e,n.next)}return null}(i,r)}return e[7]}function uo(t,e,n){var i=ao(t,e);i&&function(t,e,n,i){Le(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}function lo(t,e,n,i,r,a,o){for(;null!=n;){var s=i[n.index],c=n.type;o&&0===e&&(s&&Mr(Fe(s),i),n.flags|=4),64!=(64&n.flags)&&(3===c||4===c?(lo(t,e,n.child,i,r,a,!1),Ya(e,t,r,s,a)):1===c?po(t,e,i,n,r,a):Ya(e,t,r,s,a)),n=o?n.projectionNext:n.next}}function ho(t,e,n,i,r,a){lo(n,i,t.firstChild,e,r,a,!1)}function fo(t,e,n){po(e[11],0,e,n,eo(t,n,e),oo(n.parent||e[6],e))}function po(t,e,n,i,r,a){var o=n[16],s=o[6].projection[i.projection];if(Array.isArray(s))for(var c=0;c<s.length;c++){Ya(e,t,r,s[c],a)}else lo(t,e,s,o[3],r,a,!0)}function vo(t,e,n){Le(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function mo(t,e,n){Le(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}var go,yo,bo,_o=function(){function t(e,n){Object(h.a)(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return Object(d.a)(t,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}$a(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){ga(this._lView[1],this._lView,null,t)}},{key:"markForCheck",value:function(){Na(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){Ba(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){ln(!0);try{Ba(t,e,n)}finally{ln(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}},{key:"detachFromAppRef",value:function(){var t,e;this._appRef=null,t=this._lView[1],e=this._lView,ho(t,e,e[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}},{key:"rootNodes",get:function(){var t=this._lView,e=t[1];return function t(e,n,i,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];for(;null!==i;){var o=n[i.index];if(null!==o&&r.push(Fe(o)),ye(o))for(var c=me;c<o.length;c++){var u=o[c],l=u[1].firstChild;null!==l&&t(u[1],u,l,r)}var h=i.type;if(3===h||4===h)t(e,n,i.child,r);else if(1===h){var d=n[16],f=d[6],p=i.projection,v=f.projection[p];if(Array.isArray(v))r.push.apply(r,Object(s.a)(v));else{var m=Hr(d);t(m[1],m,v,r,!0)}}i=a?i.projectionNext:i.next}return r}(e,t,e.firstChild,[])}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),t}(),wo=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var i;return Object(h.a)(this,n),(i=e.call(this,t))._view=t,i}return Object(d.a)(n,[{key:"detectChanges",value:function(){za(this._view)}},{key:"checkNoChanges",value:function(){!function(t){ln(!0);try{za(t)}finally{ln(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(_o);function xo(t,e,n){return go||(go=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(h.a)(this,n),e.apply(this,arguments)}return n}(t)),new go(ze(e,n))}function ko(t,e,n,i){return yo||(yo=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t,i,r){var a;return Object(h.a)(this,n),(a=e.call(this))._declarationView=t,a._declarationTContainer=i,a.elementRef=r,a}return Object(d.a)(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=aa(this._declarationView,e,t,16,null,e.declTNode,null,null,null,null),i=this._declarationView[this._declarationTContainer.index];n[17]=i;var r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),sa(e,n,t),new _o(n)}}]),n}(t)),0===n.type?new yo(i,n,xo(e,n,i)):null}function Oo(t,e,n,i){var r;bo||(bo=function(t){Object(u.a)(i,t);var n=Object(l.a)(i);function i(t,e,r){var a;return Object(h.a)(this,i),(a=n.call(this))._lContainer=t,a._hostTNode=e,a._hostView=r,a}return Object(d.a)(i,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}},{key:"createEmbeddedView",value:function(t,e,n){var i=t.createEmbeddedView(e||{});return this.insert(i,n),i}},{key:"createComponent",value:function(t,e,n,i,r){var a=n||this.parentInjector;if(!r&&null==t.ngModule&&a){var o=a.get(Bt,null);o&&(r=o)}var s=t.create(a,i,void 0,r);return this.insert(s.hostView,e),s}},{key:"insert",value:function(t,e){var n=t._lView,i=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),ye(n[3])){var r=this.indexOf(t);if(-1!==r)this.detach(r);else{var a=n[3],o=new bo(a,a[6],a[3]);o.detach(o.indexOf(t))}}var s=this._adjustIndex(e),c=this._lContainer;Ka(i,n,c,s);var u=co(s,c),l=n[11],h=ao(l,c[7]);return null!==h&&function(t,e,n,i,r,a){i[0]=r,i[6]=e,ho(t,i,n,1,r,a)}(i,c[6],l,n,h,u),t.attachToViewContainerRef(this),Gt(c[8],s,t),t}},{key:"move",value:function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=this._lContainer[8];return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1),n=Ja(this._lContainer,e);n&&(Wt(this._lContainer[8],e),$a(n[1],n))}},{key:"detach",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1),n=Ja(this._lContainer,e);return n&&null!=Wt(this._lContainer[8],e)?new _o(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}},{key:"element",get:function(){return xo(e,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new _i(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var t=li(this._hostTNode,this._hostView);if(Yn(t)){var e=Kn(t,this._hostView),n=Qn(t),i=e[1].data[n+8];return new _i(i,e)}return new _i(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-me}}]),i}(t));var a=i[n.index];if(ye(a))r=a;else{var o;if(3===n.type)o=Fe(a);else if(o=i[11].createComment(""),ke(i)){var s=i[11],c=ze(n,i);no(s,ao(s,c),o,function(t,e){return Le(t)?t.nextSibling(e):e.nextSibling}(s,c))}else so(i[1],i,o,n);i[n.index]=r=ja(a,i,o,n),La(i,r)}return new bo(r,n,i)}function So(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Co(an(),en(),t)}function Co(t,e,n){if(!n&&_e(t)){var i=Ve(t.index,e);return new _o(i,i)}if(2===t.type||0===t.type||3===t.type||4===t.type){var r=e[16];return new _o(r,e)}return null}var Ao=function t(){Object(h.a)(this,t)};Ao.__NG_ELEMENT_ID__=function(){return Mo()};var Mo=So,To=Function;function Eo(t){return"function"==typeof t}var Po=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|[^()]+\(arguments\))\)/,Do=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,jo=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Ro=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/;var Io=function(){function t(e){Object(h.a)(this,t),this._reflect=e||at.Reflect}return Object(d.a)(t,[{key:"isReflectionEnabled",value:function(){return!0}},{key:"factory",value:function(t){return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return Object(f.a)(t,n)}}},{key:"_zipTypesAndAnnotations",value:function(t,e){var n;n=Xt(void 0===t?e.length:t.length);for(var i=0;i<n.length;i++)void 0===t?n[i]=[]:t[i]&&t[i]!=Object?n[i]=[t[i]]:n[i]=[],e&&null!=e[i]&&(n[i]=n[i].concat(e[i]));return n}},{key:"_ownParameters",value:function(t,e){if(function(t){return Po.test(t)||Ro.test(t)||Do.test(t)&&!jo.test(t)}(t.toString()))return null;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;var n=t.ctorParameters;if(n&&n!==e.ctorParameters){var i="function"==typeof n?n():n,r=i.map((function(t){return t&&t.type})),a=i.map((function(t){return t&&Lo(t.decorators)}));return this._zipTypesAndAnnotations(r,a)}var o=t.hasOwnProperty(w)&&t[w],s=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return s||o?this._zipTypesAndAnnotations(s,o):Xt(t.length)}},{key:"parameters",value:function(t){if(!Eo(t))return[];var e=No(t),n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]}},{key:"_ownAnnotations",value:function(t,e){if(t.annotations&&t.annotations!==e.annotations){var n=t.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return t.decorators&&t.decorators!==e.decorators?Lo(t.decorators):t.hasOwnProperty(_)?t[_]:null}},{key:"annotations",value:function(t){if(!Eo(t))return[];var e=No(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)}},{key:"_ownPropMetadata",value:function(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){var n=t.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(t.propDecorators&&t.propDecorators!==e.propDecorators){var i=t.propDecorators,r={};return Object.keys(i).forEach((function(t){r[t]=Lo(i[t])})),r}return t.hasOwnProperty(x)?t[x]:null}},{key:"propMetadata",value:function(t){if(!Eo(t))return{};var e=No(t),n={};if(e!==Object){var i=this.propMetadata(e);Object.keys(i).forEach((function(t){n[t]=i[t]}))}var r=this._ownPropMetadata(t,e);return r&&Object.keys(r).forEach((function(t){var e=[];n.hasOwnProperty(t)&&e.push.apply(e,Object(s.a)(n[t])),e.push.apply(e,Object(s.a)(r[t])),n[t]=e})),n}},{key:"ownPropMetadata",value:function(t){return Eo(t)&&this._ownPropMetadata(t,No(t))||{}}},{key:"hasLifecycleHook",value:function(t,e){return t instanceof To&&e in t.prototype}},{key:"guards",value:function(t){return{}}},{key:"getter",value:function(t){return new Function("o","return o."+t+";")}},{key:"setter",value:function(t){return new Function("o","v","return o."+t+" = v;")}},{key:"method",value:function(t){var e="if (!o.".concat(t,") throw new Error('\"").concat(t,"\" is undefined');\n        return o.").concat(t,".apply(o, args);");return new Function("o","args",e)}},{key:"importUri",value:function(t){return"object"==typeof t&&t.filePath?t.filePath:"./".concat(X(t))}},{key:"resourceUri",value:function(t){return"./".concat(X(t))}},{key:"resolveIdentifier",value:function(t,e,n,i){return i}},{key:"resolveEnum",value:function(t,e){return t[e]}}]),t}();function Lo(t){return t?t.map((function(t){var e=t.type.annotationCls,n=t.args?t.args:[];return Object(f.a)(e,Object(s.a)(n))})):[]}function No(t){var e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}var Fo=null;function Bo(){return Fo=Fo||new Io}function zo(t){return Uo(Bo().parameters(t))}function Uo(t){var e=ot();return t.map((function(t){return function(t,e){var n={token:null,host:!1,optional:!1,resolved:t.R3ResolvedDependencyType.Token,self:!1,skipSelf:!1};function i(e){n.resolved=t.R3ResolvedDependencyType.Token,n.token=e}if(Array.isArray(e)&&e.length>0)for(var r=0;r<e.length;r++){var a=e[r];if(void 0!==a){var o=Object.getPrototypeOf(a);if(a instanceof T||"Optional"===o.ngMetadataName)n.optional=!0;else if(a instanceof P||"SkipSelf"===o.ngMetadataName)n.skipSelf=!0;else if(a instanceof E||"Self"===o.ngMetadataName)n.self=!0;else if(a instanceof D||"Host"===o.ngMetadataName)n.host=!0;else if(a instanceof M)n.token=a.token;else if(a instanceof j){if(void 0===a.attributeName)throw new Error("Attribute name must be defined.");n.token=a.attributeName,n.resolved=t.R3ResolvedDependencyType.Attribute}else a===Ao?(n.token=a,n.resolved=t.R3ResolvedDependencyType.ChangeDetectorRef):i(a)}}else void 0===e||Array.isArray(e)&&0===e.length?(n.token=void 0,n.resolved=J.Invalid):i(e);return n}(e,t)}))}var Ho=R({provide:String,useValue:R});function Vo(t){return void 0!==t.useClass}function Go(t){return void 0!==t.useFactory}function Wo(t,e){var n=e||{providedIn:null},i={name:t.name,type:t,typeArgumentCount:0,providedIn:n.providedIn,userDeps:void 0};return(Vo(n)||Go(n))&&void 0!==n.deps&&(i.userDeps=Uo(n.deps)),Vo(n)?i.useClass=K(n.useClass):!function(t){return Ho in t}(n)?Go(n)?i.useFactory=n.useFactory:function(t){return void 0!==t.useExisting}(n)&&(i.useExisting=K(n.useExisting)):i.useValue=K(n.useValue),i}R({provide:String,useValue:R});var Xo=k("Injectable",void 0,void 0,void 0,(function(t,e){return qo(t,e)}));var qo=function(t,e){var n=null,i=null;t.hasOwnProperty(U)||(Object.defineProperty(t,U,{get:function(){return null===n&&(n=ot().compileInjectable(It,"ng:///".concat(t.name,"/\u0275prov.js"),Wo(t,e))),n}}),t.hasOwnProperty(V)||(t[V]=function(){return t[U]})),t.hasOwnProperty(dt)||Object.defineProperty(t,dt,{get:function(){if(null===i){var n=Wo(t,e),r=ot();i=r.compileFactory(It,"ng:///".concat(t.name,"/\u0275fac.js"),{name:n.name,type:n.type,typeArgumentCount:n.typeArgumentCount,deps:zo(t),injectFn:"inject",target:r.R3FactoryTarget.Injectable})}return i},configurable:!0})},Yo=new gt("Set Injector scope."),Qo={},Ko={},Zo=[],Jo=void 0;function $o(){return void 0===Jo&&(Jo=new Dt),Jo}function ts(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return new es(t,n,e||$o(),i)}var es=function(){function t(e,n,i){var r=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(h.a)(this,t),this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var o=[];n&&Vt(n,(function(t){return r.processProvider(t,e,n)})),Vt([e],(function(t){return r.processInjectorType(t,[],o)})),this.records.set(yt,rs(void 0,this));var s=this.records.get(Yo);this.scope=null!=s?s.value:null,this.source=a||("object"==typeof e?null:X(e))}return Object(d.a)(t,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(t){return t.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bt,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A.Default;this.assertNotDestroyed();var i=Ot(this);try{if(!(n&A.SkipSelf)){var r=this.records.get(t);if(void 0===r){var a=ss(t)&&F(t);r=a&&this.injectableDefInScope(a)?rs(ns(t),Qo):null,this.records.set(t,r)}if(null!=r)return this.hydrate(t,r)}var o=n&A.Self?$o():this.parent;return e=n&A.Optional&&e===bt?null:e,o.get(t,e)}catch(c){if("NullInjectorError"===c.name){var s=c.ngTempTokenPath=c.ngTempTokenPath||[];if(s.unshift(X(t)),i)throw c;return jt(c,t,"R3InjectorError",this.source)}throw c}finally{Ot(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach((function(e){return t.get(e)}))}},{key:"toString",value:function(){var t=[];return this.records.forEach((function(e,n){return t.push(X(n))})),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var i=this;if(!(t=K(t)))return!1;var r=z(t),a=null==r&&t.ngModule||void 0,o=void 0===a?t:a,s=-1!==n.indexOf(o);if(void 0!==a&&(r=z(a)),null==r)return!1;if(null!=r.imports&&!s){var c;n.push(o);try{Vt(r.imports,(function(t){i.processInjectorType(t,e,n)&&(void 0===c&&(c=[]),c.push(t))}))}finally{}if(void 0!==c)for(var u=function(t){var e=c[t],n=e.ngModule,r=e.providers;Vt(r,(function(t){return i.processProvider(t,n,r||Zo)}))},l=0;l<c.length;l++)u(l)}this.injectorDefTypes.add(o),this.records.set(o,rs(r.factory,Qo));var h=r.providers;if(null!=h&&!s){var d=t;Vt(h,(function(t){return i.processProvider(t,d,h)}))}return void 0!==a&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var i=os(t=K(t))?t:K(t&&t.provide),r=function(t,e,n){return as(t)?rs(void 0,t.useValue):rs(is(t,e,n),Qo)}(t,e,n);if(os(t)||!0!==t.multi){this.records.get(i);0}else{var a=this.records.get(i);a||((a=rs(void 0,Qo,!0)).factory=function(){return Pt(a.multi)},this.records.set(i,a)),i=t,a.multi.push(t)}this.records.set(i,r)}},{key:"hydrate",value:function(t,e){var n;return e.value===Qo&&(e.value=Ko,e.value=e.factory()),"object"==typeof e.value&&e.value&&(null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy)&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();function ns(t){var e=F(t),n=null!==e?e.factory:fe(t);if(null!==n)return n;var i=z(t);if(null!==i)return i.factory;if(t instanceof gt)throw new Error("Token ".concat(X(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=Xt(e,"?");throw new Error("Can't resolve all parameters for ".concat(X(t),": (").concat(n.join(", "),")."))}var i=function(t){var e=t&&(t[U]||t[G]||t[V]&&t[V]());if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\n')+'This will become an error in a future version of Angular. Please add @Injectable() to the "'.concat(n,'" class.')),e}return null}(t);return null!==i?function(){return i.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function is(t,e,n){var i,r=void 0;if(os(t)){var a=K(t);return fe(a)||ns(a)}if(as(t))r=function(){return K(t.useValue)};else if((i=t)&&i.useFactory)r=function(){return t.useFactory.apply(t,Object(s.a)(Pt(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))r=function(){return At(K(t.useExisting))};else{var o=K(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return fe(o)||ns(o);r=function(){return Object(f.a)(o,Object(s.a)(Pt(t.deps)))}}return r}function rs(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function as(t){return null!==t&&"object"==typeof t&&xt in t}function os(t){return"function"==typeof t}function ss(t){return"function"==typeof t||"object"==typeof t&&t instanceof gt}var cs=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0,r=ts(t,e,n,i);return r._resolveInjectorDefTypes(),r}({name:n},e,t,n)},us=function(){function t(){Object(h.a)(this,t)}return Object(d.a)(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?cs(t,e,""):cs(t.providers,t.parent,t.name||"")}}]),t}();us.THROW_IF_NOT_FOUND=bt,us.NULL=new Dt,us.\u0275prov=L({token:us,providedIn:"any",factory:function(){return At(yt)}}),us.__NG_ELEMENT_ID__=-1;function ls(t){return t.length>1?" ("+function(t){for(var e=[],n=0;n<t.length;++n){if(e.indexOf(t[n])>-1)return e.push(t[n]),e;e.push(t[n])}return e}(t.slice().reverse()).map((function(t){return X(t.token)})).join(" -> ")+")":""}function hs(t,e,n,i){var r=[e],a=n(r),o=i?function(t,e){var n="".concat(t," caused by: ").concat(e instanceof Error?e.message:e),i=Error(n);return i.ngOriginalError=e,i}(a,i):Error(a);return o.addKey=ds,o.keys=r,o.injectors=[t],o.constructResolvingMessage=n,o.ngOriginalError=i,o}function ds(t,e){this.injectors.push(t),this.keys.push(e),this.message=this.constructResolvingMessage(this.keys)}function fs(t,e){for(var n=[],i=0,r=e.length;i<r;i++){var a=e[i];a&&0!=a.length?n.push(a.map(X).join(" ")):n.push("?")}return Error("Cannot resolve all parameters for '"+X(t)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+X(t)+"' is decorated with Injectable.")}function ps(t,e){return Error("Cannot mix multi providers and regular providers, got: ".concat(t," ").concat(e))}var vs=function(){function t(e,n){if(Object(h.a)(this,t),this.token=e,this.id=n,!e)throw new Error("Token must be defined!");this.displayName=X(this.token)}return Object(d.a)(t,null,[{key:"get",value:function(t){return ms.get(K(t))}},{key:"numberOfKeys",get:function(){return ms.numberOfKeys}}]),t}(),ms=new(function(){function t(){Object(h.a)(this,t),this._allKeys=new Map}return Object(d.a)(t,[{key:"get",value:function(t){if(t instanceof vs)return t;if(this._allKeys.has(t))return this._allKeys.get(t);var e=new vs(t,vs.numberOfKeys);return this._allKeys.set(t,e),e}},{key:"numberOfKeys",get:function(){return this._allKeys.size}}]),t}()),gs=new(function(){function t(e){Object(h.a)(this,t),this.reflectionCapabilities=e}return Object(d.a)(t,[{key:"updateCapabilities",value:function(t){this.reflectionCapabilities=t}},{key:"factory",value:function(t){return this.reflectionCapabilities.factory(t)}},{key:"parameters",value:function(t){return this.reflectionCapabilities.parameters(t)}},{key:"annotations",value:function(t){return this.reflectionCapabilities.annotations(t)}},{key:"propMetadata",value:function(t){return this.reflectionCapabilities.propMetadata(t)}},{key:"hasLifecycleHook",value:function(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)}},{key:"getter",value:function(t){return this.reflectionCapabilities.getter(t)}},{key:"setter",value:function(t){return this.reflectionCapabilities.setter(t)}},{key:"method",value:function(t){return this.reflectionCapabilities.method(t)}},{key:"importUri",value:function(t){return this.reflectionCapabilities.importUri(t)}},{key:"resourceUri",value:function(t){return this.reflectionCapabilities.resourceUri(t)}},{key:"resolveIdentifier",value:function(t,e,n,i){return this.reflectionCapabilities.resolveIdentifier(t,e,n,i)}},{key:"resolveEnum",value:function(t,e){return this.reflectionCapabilities.resolveEnum(t,e)}}]),t}())(new Io),ys=function(){function t(e,n,i){Object(h.a)(this,t),this.key=e,this.optional=n,this.visibility=i}return Object(d.a)(t,null,[{key:"fromKey",value:function(e){return new t(e,!1,null)}}]),t}(),bs=[],_s=function t(e,n,i){Object(h.a)(this,t),this.key=e,this.resolvedFactories=n,this.multiProvider=i,this.resolvedFactory=this.resolvedFactories[0]},ws=function t(e,n){Object(h.a)(this,t),this.factory=e,this.dependencies=n};function xs(t){var e,n;if(t.useClass){var i=K(t.useClass);e=gs.factory(i),n=Ss(i)}else t.useExisting?(e=function(t){return t},n=[ys.fromKey(vs.get(t.useExisting))]):t.useFactory?(e=t.useFactory,n=function(t,e){if(e){var n=e.map((function(t){return[t]}));return e.map((function(e){return Cs(t,e,n)}))}return Ss(t)}(t.useFactory,t.deps)):(e=function(){return t.useValue},n=bs);return new ws(e,n)}function ks(t){return new _s(vs.get(t.provide),[xs(t)],t.multi||!1)}function Os(t){var e=function(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=e.get(i.key.id);if(r){if(i.multiProvider!==r.multiProvider)throw ps(r,i);if(i.multiProvider)for(var a=0;a<i.resolvedFactories.length;a++)r.resolvedFactories.push(i.resolvedFactories[a]);else e.set(i.key.id,i)}else{var o=void 0;o=i.multiProvider?new _s(i.key,i.resolvedFactories.slice(),i.multiProvider):i,e.set(i.key.id,o)}}return e}(function t(e,n){return e.forEach((function(e){if(e instanceof To)n.push({provide:e,useClass:e});else if(e&&"object"==typeof e&&void 0!==e.provide)n.push(e);else{if(!Array.isArray(e))throw i=e,Error("Invalid provider - only instances of Provider and Type are allowed, got: ".concat(i));t(e,n)}var i})),n}(t,[]).map(ks),new Map);return Array.from(e.values())}function Ss(t){var e=gs.parameters(t);if(!e)return[];if(e.some((function(t){return null==t})))throw fs(t,e);return e.map((function(n){return Cs(t,n,e)}))}function Cs(t,e,n){var i=null,r=!1;if(!Array.isArray(e))return As(e instanceof M?e.token:e,r,null);for(var a=null,o=0;o<e.length;++o){var s=e[o];s instanceof To?i=s:s instanceof M?i=s.token:s instanceof T?r=!0:s instanceof E||s instanceof P?a=s:s instanceof gt&&(i=s)}if(null!=(i=K(i)))return As(i,r,a);throw fs(t,n)}function As(t,e,n){return new ys(vs.get(t),e,n)}var Ms={},Ts=function(){function t(){Object(h.a)(this,t)}return Object(d.a)(t,null,[{key:"resolve",value:function(t){return Os(t)}},{key:"resolveAndCreate",value:function(e,n){var i=t.resolve(e);return t.fromResolvedProviders(i,n)}},{key:"fromResolvedProviders",value:function(t,e){return new Es(t,e)}}]),t}(),Es=function(){function t(e,n){Object(h.a)(this,t),this._constructionCounter=0,this._providers=e,this.parent=n||null;var i=e.length;this.keyIds=[],this.objs=[];for(var r=0;r<i;r++)this.keyIds[r]=e[r].key.id,this.objs[r]=Ms}return Object(d.a)(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bt;return this._getByKey(vs.get(t),null,e)}},{key:"resolveAndCreateChild",value:function(t){var e=Ts.resolve(t);return this.createChildFromResolved(e)}},{key:"createChildFromResolved",value:function(e){var n=new t(e);return n.parent=this,n}},{key:"resolveAndInstantiate",value:function(t){return this.instantiateResolved(Ts.resolve([t])[0])}},{key:"instantiateResolved",value:function(t){return this._instantiateProvider(t)}},{key:"getProviderAtIndex",value:function(t){if(t<0||t>=this._providers.length)throw function(t){return Error("Index ".concat(t," is out-of-bounds."))}(t);return this._providers[t]}},{key:"_new",value:function(t){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw e=this,n=t.key,hs(e,n,(function(t){return"Cannot instantiate cyclic dependency!".concat(ls(t))}));var e,n;return this._instantiateProvider(t)}},{key:"_getMaxNumberOfObjects",value:function(){return this.objs.length}},{key:"_instantiateProvider",value:function(t){if(t.multiProvider){for(var e=[],n=0;n<t.resolvedFactories.length;++n)e[n]=this._instantiate(t,t.resolvedFactories[n]);return e}return this._instantiate(t,t.resolvedFactories[0])}},{key:"_instantiate",value:function(t,e){var n,i,r,a,o,c=this,u=e.factory;try{n=e.dependencies.map((function(t){return c._getByReflectiveDependency(t)}))}catch(l){throw l.addKey&&l.addKey(this,t.key),l}try{i=u.apply(void 0,Object(s.a)(n))}catch(l){throw r=this,a=l,l.stack,o=t.key,hs(r,o,(function(t){var e=X(t[0].token);return"".concat(a.message,": Error during instantiation of ").concat(e,"!").concat(ls(t),".")}),a)}return i}},{key:"_getByReflectiveDependency",value:function(t){return this._getByKey(t.key,t.visibility,t.optional?null:bt)}},{key:"_getByKey",value:function(e,n,i){return e===t.INJECTOR_KEY?this:n instanceof E?this._getByKeySelf(e,i):this._getByKeyDefault(e,i,n)}},{key:"_getObjByKeyId",value:function(t){for(var e=0;e<this.keyIds.length;e++)if(this.keyIds[e]===t)return this.objs[e]===Ms&&(this.objs[e]=this._new(this._providers[e])),this.objs[e];return Ms}},{key:"_throwOrNull",value:function(t,e){if(e!==bt)return e;throw function(t,e){return hs(t,e,(function(t){var e=X(t[0].token);return"No provider for ".concat(e,"!").concat(ls(t))}))}(this,t)}},{key:"_getByKeySelf",value:function(t,e){var n=this._getObjByKeyId(t.id);return n!==Ms?n:this._throwOrNull(t,e)}},{key:"_getByKeyDefault",value:function(e,n,i){var r;for(r=i instanceof P?this.parent:this;r instanceof t;){var a=r,o=a._getObjByKeyId(e.id);if(o!==Ms)return o;r=a.parent}return null!==r?r.get(e.token,n):this._throwOrNull(e,n)}},{key:"toString",value:function(){return this.displayName}},{key:"displayName",get:function(){var t=function(t,e){for(var n=[],i=0;i<t._providers.length;++i)n[i]=e(t.getProviderAtIndex(i));return n}(this,(function(t){return' "'+t.key.displayName+'" '})).join(", ");return"ReflectiveInjector(providers: [".concat(t,"])")}}]),t}();Es.INJECTOR_KEY=vs.get(us);var Ps=new gt("AnalyzeForEntryComponents"),Ds=function t(){Object(h.a)(this,t)},js=C("ContentChildren",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign({selector:t,first:!1,isViewQuery:!1,descendants:!1},e)}),Ds),Rs=C("ContentChild",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign({selector:t,first:!0,isViewQuery:!1,descendants:!0},e)}),Ds),Is=(C("ViewChildren",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign({selector:t,first:!1,isViewQuery:!0,descendants:!0},e)}),Ds),C("ViewChild",(function(t,e){return Object.assign({selector:t,first:!0,isViewQuery:!0,descendants:!0},e)}),Ds));function Ls(t){var e=[],n=new Map;function i(e){var i=n.get(e);if(!i){var r=t(e);n.set(e,i=r.then(zs))}return i}return Ns.forEach((function(t,n){var r=[];t.templateUrl&&r.push(i(t.templateUrl).then((function(e){t.template=e})));var a=t.styleUrls,o=t.styles||(t.styles=[]),s=t.styles.length;a&&a.forEach((function(e,n){o.push(""),r.push(i(e).then((function(i){o[s+n]=i,a.splice(a.indexOf(e),1),0==a.length&&(t.styleUrls=void 0)})))}));var c=Promise.all(r).then((function(){return function(t){Fs.delete(t)}(n)}));e.push(c)})),Ns,Ns=new Map,Promise.all(e).then((function(){}))}var Ns=new Map,Fs=new Set;function Bs(t){return!!(t.templateUrl&&!t.hasOwnProperty("template")||t.styleUrls&&t.styleUrls.length)}function zs(t){return"string"==typeof t?t:t.text()}function Us(t,e,n){var i=n?t.styles:null,r=n?t.classes:null,a=0;if(null!==e)for(var o=0;o<e.length;o++){var s=e[o];if("number"==typeof s)a=s;else if(1==a)r=q(r,s);else if(2==a){i=q(i,s+": "+e[++o]+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}function Hs(t,e,n,i,r,a){var o=n[1];n[20]=t;var s=oa(o,0,2,null,null),c=s.mergedAttrs=e.hostAttrs;null!==c&&(Us(s,c,!0),null!==t&&(Vn(r,t,c),null!==s.classes&&mo(r,t,s.classes),null!==s.styles&&vo(r,t,s.styles)));var u=i.createRenderer(t,e),l=aa(n,pa(e),null,e.onPush?64:16,n[20],s,i,u,a||null,null);return o.firstCreatePass&&(hi(si(s,n),o,e.type),Sa(o,s),Aa(s,n.length,1)),La(n,l),n[20]=l}function Vs(t,e,n,i,r){var a=n[1],o=function(t,e,n){var i=an();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Oa(t,i,1),Ma(t,e,n));var r=mi(e,t,e.length-1,i);Mr(r,e);var a=ze(i,e);return a&&Mr(a,e),r}(a,n,e);i.components.push(o),t[8]=o,r&&r.forEach((function(t){return t(o,e)})),e.contentQueries&&e.contentQueries(1,o,n.length-1);var s=an();if(a.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){En(s.index-ve);var c=n[1];wa(c,e),xa(c,n,e.hostVars),ka(e,o)}return o}function Gs(t,e){return{components:[],scheduler:t||$n,clean:Ha,playerHandler:e||null,flags:0}}function Ws(t,e){var n=We(t)[1],i=n.data.length-1;In(n,{directiveStart:i,directiveEnd:i+1})}function Xs(t){return Object.getPrototypeOf(t.prototype).constructor}function qs(t){for(var e=Xs(t.type),n=!0,i=[t];e;){var r=void 0;if(xe(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(n){i.push(r);var a=t;a.inputs=Ys(t.inputs),a.declaredInputs=Ys(t.declaredInputs),a.outputs=Ys(t.outputs);var o=r.hostBindings;o&&Zs(t,o);var s=r.viewQuery,c=r.contentQueries;if(s&&Qs(t,s),c&&Ks(t,c),I(t.inputs,r.inputs),I(t.declaredInputs,r.declaredInputs),I(t.outputs,r.outputs),xe(r)&&r.data.animation){var u=t.data;u.animation=(u.animation||[]).concat(r.data.animation)}}var l=r.features;if(l)for(var h=0;h<l.length;h++){var d=l[h];d&&d.ngInherit&&d(t),d===qs&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,i=t.length-1;i>=0;i--){var r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Xn(r.hostAttrs,n=Xn(n,r.hostAttrs))}}(i)}function Ys(t){return t===Zt?{}:t===Jt?[]:t}function Qs(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,i){e(t,i),n(t,i)}:e}function Ks(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,i,r){e(t,i,r),n(t,i,r)}:e}function Zs(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,i){e(t,i),n(t,i)}:e}var Js=["providersResolver"],$s=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function tc(t){var e=Xs(t.type),n=void 0;n=xe(t)?e.\u0275cmp:e.\u0275dir;var i,r=t,a=Object(c.a)(Js);try{for(a.s();!(i=a.n()).done;){var o=i.value;r[o]=n[o]}}catch(h){a.e(h)}finally{a.f()}if(xe(n)){var s,u=Object(c.a)($s);try{for(u.s();!(s=u.n()).done;){var l=s.value;r[l]=n[l]}}catch(h){u.e(h)}finally{u.f()}}}var ec=null;function nc(){if(!ec){var t=at.Symbol;if(t&&t.iterator)ec=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var i=e[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(ec=i)}}return ec}var ic=function(){function t(e){Object(h.a)(this,t),this.wrapped=e}return Object(d.a)(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function rc(t){return!!ac(t)&&(Array.isArray(t)||!(t instanceof Map)&&nc()in t)}function ac(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function oc(t,e,n){return t[e]=n}function sc(t,e){return t[e]}function cc(t,e,n){var i=t[e];return!Object.is(i,n)&&(t[e]=n,!0)}function uc(t,e,n,i){var r=cc(t,e,n);return cc(t,e+1,i)||r}function lc(t,e,n,i,r){var a=uc(t,e,n,i);return cc(t,e+2,r)||a}function hc(t,e,n,i,r,a){var o=uc(t,e,n,i);return uc(t,e+2,r,a)||o}function dc(t,e,n,i){var r=en(),a=pn();if(cc(r,a,e)){nn();var o=Pn();Ea(o,r,t,e,n,i)}return dc}function fc(t,e){for(var n=!1,i=dn(),r=1;r<e.length;r+=2)n=cc(t,i++,e[r])||n;if(fn(i),!n)return Ur;for(var a=e[0],o=1;o<e.length;o+=2)a+=Zn(e[o])+e[o+1];return a}function pc(t,e,n,i){return cc(t,pn(),n)?e+Zn(n)+i:Ur}function vc(t,e,n,i,r,a){var o=uc(t,dn(),n,r);return vn(2),o?e+Zn(n)+i+Zn(r)+a:Ur}function mc(t,e,n,i,r,a,o,s){var c=lc(t,dn(),n,r,o);return vn(3),c?e+Zn(n)+i+Zn(r)+a+Zn(o)+s:Ur}function gc(t,e,n,i,r,a,o,s,c,u){var l=hc(t,dn(),n,r,o,c);return vn(4),l?e+Zn(n)+i+Zn(r)+a+Zn(o)+s+Zn(c)+u:Ur}function yc(t,e,n,i,r,a,o,s,c,u,l,h){var d=dn(),f=hc(t,d,n,r,o,c);return f=cc(t,d+4,l)||f,vn(5),f?e+Zn(n)+i+Zn(r)+a+Zn(o)+s+Zn(c)+u+Zn(l)+h:Ur}function bc(t,e,n,i,r,a,o,s,c,u,l,h,d,f){var p=dn(),v=hc(t,p,n,r,o,c);return v=uc(t,p+4,l,d)||v,vn(6),v?e+Zn(n)+i+Zn(r)+a+Zn(o)+s+Zn(c)+u+Zn(l)+h+Zn(d)+f:Ur}function _c(t,e,n,i,r,a,o,s,c,u,l,h,d,f,p,v){var m=dn(),g=hc(t,m,n,r,o,c);return g=lc(t,m+4,l,d,p)||g,vn(7),g?e+Zn(n)+i+Zn(r)+a+Zn(o)+s+Zn(c)+u+Zn(l)+h+Zn(d)+f+Zn(p)+v:Ur}function wc(t,e,n,i,r,a,o,s,c,u,l,h,d,f,p,v,m,g){var y=dn(),b=hc(t,y,n,r,o,c);return b=hc(t,y+4,l,d,p,m)||b,vn(8),b?e+Zn(n)+i+Zn(r)+a+Zn(o)+s+Zn(c)+u+Zn(l)+h+Zn(d)+f+Zn(p)+v+Zn(m)+g:Ur}function xc(t,e,n,i,r,a){var o=en(),s=pc(o,e,n,i);if(s!==Ur){var c=Pn();Ea(c,o,t,s,r,a)}return xc}function kc(t,e,n,i,r,a,o,s){var c=en(),u=vc(c,e,n,i,r,a);if(u!==Ur){var l=Pn();Ea(l,c,t,u,o,s)}return kc}function Oc(t,e,n,i,r,a,o,s,c,u){var l=en(),h=mc(l,e,n,i,r,a,o,s);if(h!==Ur){var d=Pn();Ea(d,l,t,h,c,u)}return Oc}function Sc(t,e,n,i,r,a,o,s,c,u,l,h){var d=en(),f=gc(d,e,n,i,r,a,o,s,c,u);if(f!==Ur){var p=Pn();Ea(p,d,t,f,l,h)}return Sc}function Cc(t,e,n,i,r,a,o,s,c,u,l,h,d,f){var p=en(),v=yc(p,e,n,i,r,a,o,s,c,u,l,h);if(v!==Ur){var m=Pn();Ea(m,p,t,v,d,f)}return Cc}function Ac(t,e,n,i,r,a,o,s,c,u,l,h,d,f,p,v){var m=en(),g=bc(m,e,n,i,r,a,o,s,c,u,l,h,d,f);if(g!==Ur){var y=Pn();Ea(y,m,t,g,p,v)}return Ac}function Mc(t,e,n,i,r,a,o,s,c,u,l,h,d,f,p,v,m,g){var y=en(),b=_c(y,e,n,i,r,a,o,s,c,u,l,h,d,f,p,v);if(b!==Ur){var _=Pn();Ea(_,y,t,b,m,g)}return Mc}function Tc(t,e,n,i,r,a,o,s,c,u,l,h,d,f,p,v,m,g,y,b){var _=en(),w=wc(_,e,n,i,r,a,o,s,c,u,l,h,d,f,p,v,m,g);if(w!==Ur){var x=Pn();Ea(x,_,t,w,y,b)}return Tc}function Ec(t,e,n,i){var r=en(),a=fc(r,e);if(a!==Ur){var o=Pn();Ea(o,r,t,a,n,i)}return Ec}function Pc(t,e,n,i,r,a,o,s){var c=en(),u=nn(),l=t+ve,h=u.firstCreatePass?function(t,e,n,i,r,a,o,s,c){var u=e.consts,l=oa(e,t,0,o||null,Ye(u,s));_a(e,n,l,Ye(u,c)),In(e,l);var h=l.tViews=va(2,l,i,r,a,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,u,c,e,n,i,r,a,o):u.data[l];on(h,!1);var d=c[11].createComment("");so(u,c,d,h),Mr(d,c),La(c,c[l]=ja(d,c,d,h)),we(h)&&da(u,c,h),null!=o&&fa(c,h,s)}function Dc(t){return He(Ze.lFrame.contextLView,t)}function jc(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A.Default,n=en();if(null===n)return At(t,e);var i=an();return di(i,n,K(t),e)}function Rc(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var i=n.length,r=0;r<i;){var a=n[r];if(Gn(a))break;if(0===a)r+=2;else if("number"==typeof a)for(r++;r<i&&"string"==typeof n[r];)r++;else{if(a===e)return n[r+1];r+=2}}return null}(an(),t)}function Ic(){throw new Error("invalid")}function Lc(t,e,n){var i=en(),r=pn();if(cc(i,r,e)){var a=nn(),o=Pn();ba(a,o,i,t,e,i[11],n,!1)}return Lc}function Nc(t,e,n,i,r){var a=r?"class":"style";Xa(t,n,e.inputs[a],a,i)}function Fc(t,e,n,i,r,a,o){var s=e.consts,c=oa(e,t,2,r,Ye(s,a));_a(e,n,c,Ye(s,o));return null!==c.attrs&&Us(c,c.attrs,!1),null!==c.mergedAttrs&&Us(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}function Bc(t,e,n,i){var r=en(),a=nn(),o=ve+t,s=r[11],c=r[o]=ra(e,s,Ze.lFrame.currentNamespace),u=a.firstCreatePass?Fc(t,a,r,0,e,n,i):a.data[o];on(u,!0);var l=u.mergedAttrs;null!==l&&Vn(s,c,l);var h=u.classes;null!==h&&mo(s,c,h);var d=u.styles;null!==d&&vo(s,c,d),so(a,r,c,u),0===Ze.lFrame.elementDepthCount&&Mr(c,r),Ze.lFrame.elementDepthCount++,we(u)&&(da(a,r,u),ha(a,u,r)),null!==i&&fa(r,u)}function zc(){var t=an();sn()?cn():on(t=t.parent,!1);var e=t;Ze.lFrame.elementDepthCount--;var n=nn();n.firstCreatePass&&(In(n,t),be(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Nc(n,e,en(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Nc(n,e,en(),e.stylesWithoutHost,!1)}function Uc(t,e,n,i){Bc(t,e,n,i),zc()}function Hc(t,e,n){var i=en(),r=nn(),a=t+ve,o=r.firstCreatePass?function(t,e,n,i,r){var a=e.consts,o=Ye(a,i),s=oa(e,t,3,"ng-container",o);return null!==o&&Us(s,o,!0),_a(e,n,s,Ye(a,r)),null!==e.queries&&e.queries.elementStart(e,s),s}(t,r,i,e,n):r.data[a];on(o,!0);var s=i[a]=i[11].createComment("");so(r,i,s,o),Mr(s,i),we(o)&&(da(r,i,o),ha(r,o,i)),null!=n&&fa(i,o)}function Vc(){var t=an(),e=nn();sn()?cn():on(t=t.parent,!1),e.firstCreatePass&&(In(e,t),be(t)&&e.queries.elementEnd(t))}function Gc(t,e,n){Hc(t,e,n),Vc()}function Wc(){return en()}function Xc(t){return!!t&&"function"==typeof t.then}function qc(t){return!!t&&"function"==typeof t.subscribe}function Yc(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,r=en(),a=nn(),o=an();return Zc(a,r,r[11],o,t,e,n,i),Yc}function Qc(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,r=an(),a=en(),o=nn(),s=yn(o.data),c=Ga(s,r,a);return Zc(o,a,c,r,t,e,n,i),Qc}function Kc(t,e,n,i){var r=t.cleanup;if(null!=r)for(var a=0;a<r.length-1;a+=2){var o=r[a];if(o===n&&r[a+1]===i){var s=e[7],c=r[a+2];return s.length>c?s[c]:null}"string"==typeof o&&(a+=2)}return null}function Zc(t,e,n,i,r,a){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,c=we(i),u=t.firstCreatePass,l=u&&(t.cleanup||(t.cleanup=[])),h=Va(e),d=!0;if(2===i.type){var f=ze(i,e),p=s?s(f):Zt,v=p.target||f,m=h.length,g=s?function(t){return s(Fe(t[i.index])).target}:i.index;if(Le(n)){var y=null;if(!s&&c&&(y=Kc(t,e,r,i.index)),null!==y){var b=y.__ngLastListenerFn__||y;b.__ngNextListenerFn__=a,y.__ngLastListenerFn__=a,d=!1}else{a=$c(i,e,a,!1);var _=n.listen(p.name||v,r,a);h.push(a,_),l&&l.push(r,g,m,m+1)}}else a=$c(i,e,a,!0),v.addEventListener(r,a,o),h.push(a),l&&l.push(r,g,m,o)}var w,x=i.outputs;if(d&&null!==x&&(w=x[r])){var k=w.length;if(k)for(var O=0;O<k;O+=2){var S=w[O],C=w[O+1],A=e[S],M=A[C];0;var T=M.subscribe(a),E=h.length;h.push(a,T),l&&l.push(r,i.index,E,-(E+1))}}}function Jc(t,e,n){try{return!1!==e(n)}catch(i){return Wa(t,i),!1}}function $c(t,e,n,i){return function r(a){if(a===Function)return n;var o=2&t.flags?Ve(t.index,e):e;0==(32&e[2])&&Na(o);for(var s=Jc(e,n,a),c=r.__ngNextListenerFn__;c;)s=Jc(e,c,a)&&s,c=c.__ngNextListenerFn__;return i&&!1===s&&(a.preventDefault(),a.returnValue=!1),s}}function tu(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Mn(t)}function eu(t,e){for(var n=null,i=function(t){var e=t.attrs;if(null!=e){var n=e.indexOf(5);if(0==(1&n))return e[n+1]}return null}(t),r=0;r<e.length;r++){var a=e[r];if("*"!==a){if(null===i?Nr(t,a,!0):Fr(i,a))return r}else n=r}return n}function nu(t){var e=en()[16][6];if(!e.projection)for(var n=t?t.length:1,i=e.projection=Xt(n,null),r=i.slice(),a=e.child;null!==a;){var o=t?eu(a,t):0;null!==o&&(r[o]?r[o].projectionNext=a:i[o]=a,r[o]=a),a=a.next}}var iu=!1;function ru(t){iu=t}function au(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=en(),r=nn(),a=oa(r,t,1,null,n||null);null===a.projection&&(a.projection=e),cn(),iu||fo(r,i,a)}function ou(t,e,n){return su(t,"",e,"",n),ou}function su(t,e,n,i,r){var a=en(),o=pc(a,e,n,i);if(o!==Ur){var s=nn(),c=Pn();ba(s,c,a,t,o,a[11],r,!1)}return su}function cu(t,e,n,i,r,a,o){var s=en(),c=vc(s,e,n,i,r,a);if(c!==Ur){var u=nn(),l=Pn();ba(u,l,s,t,c,s[11],o,!1)}return cu}function uu(t,e,n,i,r,a,o,s,c){var u=en(),l=mc(u,e,n,i,r,a,o,s);if(l!==Ur){var h=nn(),d=Pn();ba(h,d,u,t,l,u[11],c,!1)}return uu}function lu(t,e,n,i,r,a,o,s,c,u,l){var h=en(),d=gc(h,e,n,i,r,a,o,s,c,u);if(d!==Ur){var f=nn(),p=Pn();ba(f,p,h,t,d,h[11],l,!1)}return lu}function hu(t,e,n,i,r,a,o,s,c,u,l,h,d){var f=en(),p=yc(f,e,n,i,r,a,o,s,c,u,l,h);if(p!==Ur){var v=nn(),m=Pn();ba(v,m,f,t,p,f[11],d,!1)}return hu}function du(t,e,n,i,r,a,o,s,c,u,l,h,d,f,p){var v=en(),m=bc(v,e,n,i,r,a,o,s,c,u,l,h,d,f);if(m!==Ur){var g=nn(),y=Pn();ba(g,y,v,t,m,v[11],p,!1)}return du}function fu(t,e,n,i,r,a,o,s,c,u,l,h,d,f,p,v,m){var g=en(),y=_c(g,e,n,i,r,a,o,s,c,u,l,h,d,f,p,v);if(y!==Ur){var b=nn(),_=Pn();ba(b,_,g,t,y,g[11],m,!1)}return fu}function pu(t,e,n,i,r,a,o,s,c,u,l,h,d,f,p,v,m,g,y){var b=en(),_=wc(b,e,n,i,r,a,o,s,c,u,l,h,d,f,p,v,m,g);if(_!==Ur){var w=nn(),x=Pn();ba(w,x,b,t,_,b[11],y,!1)}return pu}function vu(t,e,n){var i=en(),r=fc(i,e);if(r!==Ur){var a=nn(),o=Pn();ba(a,o,i,t,r,i[11],n,!1)}return vu}var mu=[];function gu(t,e,n,i,r,a){var o=a?e.classBindings:e.styleBindings,s=Qr(o),c=Jr(o);t[i]=n;var u,l=!1;if(Array.isArray(n)){var h=n;(null===(u=h[1])||Qt(h,u)>0)&&(l=!0)}else u=n;if(r)if(0!==c){var d=Qr(t[s+1]);t[i+1]=Yr(d,s),0!==d&&(t[d+1]=$r(t[d+1],i)),t[s+1]=131071&t[s+1]|i<<17}else t[i+1]=Yr(s,0),0!==s&&(t[s+1]=$r(t[s+1],i)),s=i;else t[i+1]=Yr(c,0),0===s?s=i:t[c+1]=$r(t[c+1],i),c=i;l&&(t[i+1]=Zr(t[i+1])),yu(t,u,i,!0,a),yu(t,u,i,!1,a),function(t,e,n,i,r){var a=r?t.residualClasses:t.residualStyles;null!=a&&"string"==typeof e&&Qt(a,e)>=0&&(n[i+1]=ea(n[i+1]))}(e,u,t,i,a),o=Yr(s,c),a?e.classBindings=o:e.styleBindings=o}function yu(t,e,n,i,r){for(var a=t[n+1],o=null===e,s=i?Qr(a):Jr(a),c=!1;0!==s&&(!1===c||o);){var u=t[s],l=t[s+1];bu(u,e)&&(c=!0,t[s+1]=i?ea(l):Zr(l)),s=i?Qr(l):Jr(l)}c&&(t[n+1]=i?Zr(a):ea(a))}function bu(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Qt(t,e)>=0}var _u={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function wu(t){return t.substring(_u.key,_u.keyEnd)}function xu(t){return t.substring(_u.value,_u.valueEnd)}function ku(t,e){var n=_u.textEnd;return n===e?-1:(e=_u.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,_u.key=e,n),Cu(t,e,n))}function Ou(t,e){var n=_u.textEnd,i=_u.key=Cu(t,e,n);return n===i?-1:(i=_u.keyEnd=function(t,e,n){var i;for(;e<n&&(45===(i=t.charCodeAt(e))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)e++;return e}(t,i,n),i=Au(t,i,n,58),i=_u.value=Cu(t,i,n),i=_u.valueEnd=function(t,e,n){var i=-1,r=-1,a=-1,o=e,s=o;for(;o<n;){var c=t.charCodeAt(o++);if(59===c)return s;34===c||39===c?s=o=Mu(t,c,o,n):e===o-4&&85===a&&82===r&&76===i&&40===c?s=o=Mu(t,41,o,n):c>32&&(s=o),a=r,r=i,i=-33&c}return s}(t,i,n),Au(t,i,n,59))}function Su(t){_u.key=0,_u.keyEnd=0,_u.value=0,_u.valueEnd=0,_u.textEnd=t.length}function Cu(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Au(t,e,n,i){return(e=Cu(t,e,n))<n&&e++,e}function Mu(t,e,n,i){for(var r=-1,a=n;a<i;){var o=t.charCodeAt(a++);if(o==e&&92!==r)return a;r=92==o&&92===r?0:o}throw new Error}function Tu(t,e,n){return Iu(t,e,n,!1),Tu}function Eu(t,e){return Iu(t,e,null,!0),Eu}function Pu(t){Lu(Uu,Du,t,!1)}function Du(t,e){for(var n=function(t){return Su(t),Ou(t,Cu(t,0,_u.textEnd))}(e);n>=0;n=Ou(e,n))Uu(t,wu(e),xu(e))}function ju(t){Lu(qt,Ru,t,!0)}function Ru(t,e){for(var n=function(t){return Su(t),ku(t,Cu(t,0,_u.textEnd))}(e);n>=0;n=ku(e,n))qt(t,wu(e),!0)}function Iu(t,e,n,i){var r=en(),a=nn(),o=vn(2);(a.firstUpdatePass&&Fu(a,t,o,i),e!==Ur&&cc(r,o,e))&&Hu(a,a.data[Tn()+ve],r,r[11],t,r[o+1]=function(t,e){null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=X(ji(t))));return t}(e,n),i,o)}function Lu(t,e,n,i){var r=nn(),a=vn(2);r.firstUpdatePass&&Fu(r,null,a,i);var o=en();if(n!==Ur&&cc(o,a,n)){var s=r.data[Tn()+ve];if(Wu(s,i)&&!Nu(r,a)){var c=i?s.classesWithoutHost:s.stylesWithoutHost;null!==c&&(n=q(c,n||"")),Nc(r,s,o,n,i)}else!function(t,e,n,i,r,a,o,s){r===Ur&&(r=mu);var c=0,u=0,l=0<r.length?r[0]:null,h=0<a.length?a[0]:null;for(;null!==l||null!==h;){var d=c<r.length?r[c+1]:void 0,f=u<a.length?a[u+1]:void 0,p=null,v=void 0;l===h?(c+=2,u+=2,d!==f&&(p=h,v=f)):null===h||null!==l&&l<h?(c+=2,p=l):(u+=2,p=h,v=f),null!==p&&Hu(t,e,n,i,p,v,o,s),l=c<r.length?r[c]:null,h=u<a.length?a[u]:null}}(r,s,o,o[11],o[a+1],o[a+1]=function(t,e,n){if(null==n||""===n)return mu;var i=[],r=ji(n);if(Array.isArray(r))for(var a=0;a<r.length;a++)t(i,r[a],!0);else if("object"==typeof r)for(var o in r)r.hasOwnProperty(o)&&t(i,o,r[o]);else"string"==typeof r&&e(i,r);return i}(t,e,n),i,a)}}function Nu(t,e){return e>=t.expandoStartIndex}function Fu(t,e,n,i){var r=t.data;if(null===r[n+1]){var a=r[Tn()+ve],o=Nu(t,n);Wu(a,i)&&null===e&&!o&&(e=!1),e=function(t,e,n,i){var r=yn(t),a=i?e.residualClasses:e.residualStyles;if(null===r){0===(i?e.classBindings:e.styleBindings)&&(n=zu(n=Bu(null,t,e,n,i),e.attrs,i),a=null)}else{var o=e.directiveStylingLast;if(-1===o||t[o]!==r)if(n=Bu(r,t,e,n,i),null===a){var s=function(t,e,n){var i=n?e.classBindings:e.styleBindings;if(0===Jr(i))return;return t[Qr(i)]}(t,e,i);void 0!==s&&Array.isArray(s)&&function(t,e,n,i){var r=n?e.classBindings:e.styleBindings;t[Qr(r)]=i}(t,e,i,s=zu(s=Bu(null,t,e,s[1],i),e.attrs,i))}else a=function(t,e,n){var i=void 0,r=e.directiveEnd;for(var a=1+e.directiveStylingLast;a<r;a++){i=zu(i,t[a].hostAttrs,n)}return zu(i,e.attrs,n)}(t,e,i)}void 0!==a&&(i?e.residualClasses=a:e.residualStyles=a);return n}(r,a,e,i),gu(r,a,e,n,o,i)}}function Bu(t,e,n,i,r){var a=null,o=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<o&&(i=zu(i,(a=e[s]).hostAttrs,r),a!==t);)s++;return null!==t&&(n.directiveStylingLast=s),i}function zu(t,e,n){var i=n?1:2,r=-1;if(null!==e)for(var a=0;a<e.length;a++){var o=e[a];"number"==typeof o?r=o:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),qt(t,o,!!n||e[++a]))}return void 0===t?null:t}function Uu(t,e,n){qt(t,e,ji(n))}function Hu(t,e,n,i,r,a,o,s){if(2===e.type){var c=t.data,u=c[s+1];if(!Gu(ta(u)?Vu(c,e,n,r,Jr(u),o):void 0))Gu(a)||Kr(u)&&(a=Vu(c,null,n,r,s,o)),function(t,e,n,i,r){var a=Le(t);if(e)r?a?t.addClass(n,i):n.classList.add(i):a?t.removeClass(n,i):n.classList.remove(i);else{var o=-1==i.indexOf("-")?void 0:2;null==r?a?t.removeStyle(n,i,o):n.style.removeProperty(i):a?t.setStyle(n,i,r,o):n.style.setProperty(i,r)}}(i,o,Be(Tn(),n),r,a)}}function Vu(t,e,n,i,r,a){for(var o=null===e,s=void 0;r>0;){var c=t[r],u=Array.isArray(c),l=u?c[1]:c,h=null===l,d=n[r+1];d===Ur&&(d=h?mu:void 0);var f=h?Yt(d,i):l===i?d:void 0;if(u&&!Gu(f)&&(f=Yt(c,i)),Gu(f)&&(s=f,o))return s;var p=t[r+1];r=o?Qr(p):Jr(p)}if(null!==e){var v=a?e.residualClasses:e.residualStyles;null!=v&&(s=Yt(v,i))}return s}function Gu(t){return void 0!==t}function Wu(t,e){return 0!=(t.flags&(e?16:32))}function Xu(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=en(),i=nn(),r=t+ve,a=i.firstCreatePass?oa(i,t,2,null,null):i.data[r],o=n[r]=Qa(e,n[11]);so(i,n,o,a),on(a,!1)}function qu(t){return Yu("",t,""),qu}function Yu(t,e,n){var i=en(),r=pc(i,t,e,n);return r!==Ur&&qa(i,Tn(),r),Yu}function Qu(t,e,n,i,r){var a=en(),o=vc(a,t,e,n,i,r);return o!==Ur&&qa(a,Tn(),o),Qu}function Ku(t,e,n,i,r,a,o){var s=en(),c=mc(s,t,e,n,i,r,a,o);return c!==Ur&&qa(s,Tn(),c),Ku}function Zu(t,e,n,i,r,a,o,s,c){var u=en(),l=gc(u,t,e,n,i,r,a,o,s,c);return l!==Ur&&qa(u,Tn(),l),Zu}function Ju(t,e,n,i,r,a,o,s,c,u,l){var h=en(),d=yc(h,t,e,n,i,r,a,o,s,c,u,l);return d!==Ur&&qa(h,Tn(),d),Ju}function $u(t,e,n,i,r,a,o,s,c,u,l,h,d){var f=en(),p=bc(f,t,e,n,i,r,a,o,s,c,u,l,h,d);return p!==Ur&&qa(f,Tn(),p),$u}function tl(t,e,n,i,r,a,o,s,c,u,l,h,d,f,p){var v=en(),m=_c(v,t,e,n,i,r,a,o,s,c,u,l,h,d,f,p);return m!==Ur&&qa(v,Tn(),m),tl}function el(t,e,n,i,r,a,o,s,c,u,l,h,d,f,p,v,m){var g=en(),y=wc(g,t,e,n,i,r,a,o,s,c,u,l,h,d,f,p,v,m);return y!==Ur&&qa(g,Tn(),y),el}function nl(t){var e=en(),n=fc(e,t);return n!==Ur&&qa(e,Tn(),n),nl}function il(t,e,n){Lu(qt,Ru,pc(en(),t,e,n),!0)}function rl(t,e,n,i,r){Lu(qt,Ru,vc(en(),t,e,n,i,r),!0)}function al(t,e,n,i,r,a,o){Lu(qt,Ru,mc(en(),t,e,n,i,r,a,o),!0)}function ol(t,e,n,i,r,a,o,s,c){Lu(qt,Ru,gc(en(),t,e,n,i,r,a,o,s,c),!0)}function sl(t,e,n,i,r,a,o,s,c,u,l){Lu(qt,Ru,yc(en(),t,e,n,i,r,a,o,s,c,u,l),!0)}function cl(t,e,n,i,r,a,o,s,c,u,l,h,d){Lu(qt,Ru,bc(en(),t,e,n,i,r,a,o,s,c,u,l,h,d),!0)}function ul(t,e,n,i,r,a,o,s,c,u,l,h,d,f,p){Lu(qt,Ru,_c(en(),t,e,n,i,r,a,o,s,c,u,l,h,d,f,p),!0)}function ll(t,e,n,i,r,a,o,s,c,u,l,h,d,f,p,v,m){Lu(qt,Ru,wc(en(),t,e,n,i,r,a,o,s,c,u,l,h,d,f,p,v,m),!0)}function hl(t){Lu(qt,Ru,fc(en(),t),!0)}function dl(t,e,n){Pu(pc(en(),t,e,n))}function fl(t,e,n,i,r){Pu(vc(en(),t,e,n,i,r))}function pl(t,e,n,i,r,a,o){Pu(mc(en(),t,e,n,i,r,a,o))}function vl(t,e,n,i,r,a,o,s,c){Pu(gc(en(),t,e,n,i,r,a,o,s,c))}function ml(t,e,n,i,r,a,o,s,c,u,l){Pu(yc(en(),t,e,n,i,r,a,o,s,c,u,l))}function gl(t,e,n,i,r,a,o,s,c,u,l,h,d){Pu(bc(en(),t,e,n,i,r,a,o,s,c,u,l,h,d))}function yl(t,e,n,i,r,a,o,s,c,u,l,h,d,f,p){Pu(_c(en(),t,e,n,i,r,a,o,s,c,u,l,h,d,f,p))}function bl(t,e,n,i,r,a,o,s,c,u,l,h,d,f,p,v,m){Pu(wc(en(),t,e,n,i,r,a,o,s,c,u,l,h,d,f,p,v,m))}function _l(t){Pu(fc(en(),t))}function wl(t,e,n,i,r){return Iu(t,pc(en(),e,n,i),r,!1),wl}function xl(t,e,n,i,r,a,o){return Iu(t,vc(en(),e,n,i,r,a),o,!1),xl}function kl(t,e,n,i,r,a,o,s,c){return Iu(t,mc(en(),e,n,i,r,a,o,s),c,!1),kl}function Ol(t,e,n,i,r,a,o,s,c,u,l){return Iu(t,gc(en(),e,n,i,r,a,o,s,c,u),l,!1),Ol}function Sl(t,e,n,i,r,a,o,s,c,u,l,h,d){return Iu(t,yc(en(),e,n,i,r,a,o,s,c,u,l,h),d,!1),Sl}function Cl(t,e,n,i,r,a,o,s,c,u,l,h,d,f,p){return Iu(t,bc(en(),e,n,i,r,a,o,s,c,u,l,h,d,f),p,!1),Cl}function Al(t,e,n,i,r,a,o,s,c,u,l,h,d,f,p,v,m){return Iu(t,_c(en(),e,n,i,r,a,o,s,c,u,l,h,d,f,p,v),m,!1),Al}function Ml(t,e,n,i,r,a,o,s,c,u,l,h,d,f,p,v,m,g,y){return Iu(t,wc(en(),e,n,i,r,a,o,s,c,u,l,h,d,f,p,v,m,g),y,!1),Ml}function Tl(t,e,n){return Iu(t,fc(en(),e),n,!1),Tl}function El(t,e,n){var i=en(),r=pn();if(cc(i,r,e)){var a=nn(),o=Pn();ba(a,o,i,t,e,i[11],n,!0)}return El}function Pl(t,e,n){var i=en(),r=pn();if(cc(i,r,e)){var a=nn(),o=Pn();ba(a,o,i,t,e,Ga(yn(a.data),o,i),n,!0)}return Pl}var Dl=void 0;var jl,Rl=["en",[["a","p"],["AM","PM"],Dl],[["AM","PM"],Dl,Dl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Dl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Dl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Dl,"{1} 'at' {0}",Dl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],Il={};function Ll(t,e,n){"string"!=typeof e&&(n=e,e=t[jl.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Il[e]=t,n&&(Il[e][jl.ExtraData]=n)}function Nl(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=zl(e);if(n)return n;var i=e.split("-")[0];if(n=zl(i))return n;if("en"===i)return Rl;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function Fl(t){return Nl(t)[jl.CurrencyCode]||null}function Bl(t){return Nl(t)[jl.PluralCase]}function zl(t){return t in Il||(Il[t]=at.ng&&at.ng.common&&at.ng.common.locales&&at.ng.common.locales[t]),Il[t]}!function(t){t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData"}(jl||(jl={}));var Ul=["zero","one","two","few","many"];var Hl="en-US";var Vl={marker:"element"},Gl={marker:"comment"},Wl=Hl;function Xl(t){pt(t,"Expected localeId to be defined"),"string"==typeof t&&(Wl=t.toLowerCase().replace(/_/g,"-"))}var ql=[],Yl=-1;var Ql=0,Kl=0;function Zl(t,e,n,i){for(var r=i[11],a=null,o=null,s=[],c=0;c<n.length;c++){var u=n[c];if("string"==typeof u){var l=Qa(u,r),h=n[++c];o=a,a=rh(t,i,h,2,l,null),s.push(h),cn()}else if("number"==typeof u)switch(7&u){case 1:var d=u>>>17;o=eh(t,a,d===e?i[6]:Ue(t,d),o,i);break;case 0:var f=u>=0,p=(f?u:~u)>>>3;s.push(p),o=a,(a=Ue(t,p))&&on(a,f);break;case 5:o=a=Ue(t,u>>>3),on(a,!1);break;case 4:var v=u>>>3,m=n[++c],g=n[++c];Ea(Ue(t,v),i,m,g,null,null);break;default:throw new Error('Unable to determine the type of mutate operation for "'.concat(u,'"'))}else switch(u){case Gl:var y=n[++c],b=n[++c],_=r.createComment(y);o=a,a=rh(t,i,b,4,_,null),s.push(b),Mr(_,i),cn();break;case Vl:var w=n[++c],x=n[++c];o=a,a=rh(t,i,x,2,r.createElement(w),w),s.push(x);break;default:throw new Error('Unable to determine the type of mutate operation for "'.concat(u,'"'))}}return cn(),s}function Jl(t,e,n,i,r,a){for(var o=!1,s=0;s<i.length;s++){var c=i[s],u=i[++s];if(c&a)for(var l="",h=s+1;h<=s+u;h++){var d=i[h];if("string"==typeof d)l+=d;else if("number"==typeof d)if(d<0)l+=Zn(n[r-d]);else{var f=d>>>2;switch(3&d){case 1:var p=i[++h],v=i[++h];ba(t,Ue(t,f),n,p,l,n[11],v,!1);break;case 0:qa(n,f,l);break;case 2:o=th(t,e,i[++h],n,l);break;case 3:$l(t,e,i[++h],r,n,o)}}}s+=u}}function $l(t,e,n,i,r,a){var o=e[n],s=r[o.currentCaseLViewIndex];if(null!==s){var c=a?-1:Ql;Jl(t,e,r,o.update[s],i,c)}}function th(t,e,n,i,r){!function t(e,n,i,r){var a=n[i],o=r[a.currentCaseLViewIndex];if(null!==o)for(var s=a.remove[o],c=0;c<s.length;c++){var u=s[c],l=u>>>3;switch(7&u){case 3:ih(e,r,l,!1);break;case 6:t(e,n,l,r)}}}(t,e,n,i);var a=!1,o=e[n],s=function(t,e){var n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:var i=function(t,e){var n=Bl(e)(parseInt(t,10)),i=Ul[n];return void 0!==i?i:"other"}(e,Wl);-1===(n=t.cases.indexOf(i))&&"other"!==i&&(n=t.cases.indexOf("other"));break;case 0:n=t.cases.indexOf("other")}return n}(o,r);return i[o.currentCaseLViewIndex]=-1!==s?s:null,s>-1&&(Zl(t,-1,o.create[s],i),a=!0),a}function eh(t,e,n,i,r){var a=e.next;i||(i=n),i===n&&e!==n.child?(e.next=n.child,null===e.parent?t.firstChild=e:n.child=e):i!==n&&e!==i.next?(e.next=i.next,i.next=e):e.next=null,n!==r[6]&&(e.parent=n);for(var o=e.next;o;)o.next===e&&(o.next=a),o=o.next;if(1===e.type)return fo(t,r,e),e;so(t,r,ze(e,r),e);var s=r[e.index];return 0!==e.type&&ye(s)&&so(t,r,s[7],e),e}function nh(t,e){for(var n=ql[Yl--],i=t.data[n+ve],r=an(),a=Zl(t,n,i.create,e),o=n+1;null!==r&&o<=r.index-ve;){-1===a.indexOf(o)&&ih(t,e,o,!0);var s=Ue(t,o);!s||0!==s.type&&2!==s.type&&3!==s.type||null===s.localNames||(o+=s.localNames.length>>1),o++}}function ih(t,e,n,i){var r=Ue(t,n),a=Be(n,e);a&&uo(e[11],a);var o=He(e,n);if(ye(o)){var s=o;0!==r.type&&uo(e[11],s[7])}i&&r&&(r.flags|=64)}function rh(t,e,n,i,r,a){var o=an();e[n+ve]=r;var s=oa(t,n,i,a,null);return o&&o.next===s&&(o.next=null),s}var ah,oh=/\ufffd(\d+):?\d*\ufffd/gi,sh=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,ch=/\ufffd(\d+)\ufffd/,uh=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,lh=[],hh="\ufffd",dh=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,fh=/\ufffd(\/?[#*!]\d+):?\d*\ufffd/gi,ph=/\uE500/g;function vh(t,e,n,i,r){var a=e.blueprint.length-ve;ah=0;var o=an(),s=sn()?o:o&&o.parent,c=s&&s!==t[6]?s.index-ve:n,u=0;lh[u]=c;var l=[];if(n>0&&o!==s){var h=o.index-ve;sn()||(h=~h),l.push(h<<3|0)}var d=[];var f=[];if(""===i&&_h(r))l.push(i,yh(a),c<<17|1);else for(var p=function(t,e){if(_h(e))return wh(t);var n=t.indexOf(":".concat(e).concat(hh))+2+e.toString().length,i=t.search(new RegExp("".concat(hh,"\\/\\*\\d+:").concat(e).concat(hh)));return wh(t.substring(n,i))}(i,r),v=function(t){return t.replace(ph," ")}(p).split(fh),m=0;m<v.length;m++){var g=v[m];if(1&m)if("/"===g.charAt(0)){if("#"===g.charAt(1)){var y=parseInt(g.substr(2),10);c=lh[--u],l.push(y<<3|5)}}else{var b=parseInt(g.substr(1),10),_="#"===g.charAt(0);l.push((_?b:~b)<<3|0,c<<17|1),_&&(lh[++u]=c=b)}else for(var w=Sh(g),x=0;x<w.length;x++)if(1&x){var k=w[x];if("object"!=typeof k)throw new Error('Unable to parse ICU expression in "'.concat(p,'" message.'));var O=yh(a);l.push(Gl,"",O,c<<17|1);var S=gh(k);xh(f,k,O,O);var C=f.length-1;d.push(bh(k.mainBinding),3,-1-k.mainBinding,O<<2|2,C,S,2,O<<2|3,C)}else if(""!==w[x]){var A=w[x],M=A.match(oh),T=yh(a);l.push(M?"":A,T,c<<17|1),M&&Ut(mh(A,T),d)}}ah>0&&function(t,e,n){if(n>0&&t.firstCreatePass){for(var i=0;i<n;i++)t.blueprint.push(null),t.data.push(null),e.push(null);t.expandoInstructions?t.expandoInstructions.push(n):t.expandoStartIndex+=n}}(e,t,ah);var E={vars:ah,create:l,update:d,icus:f.length?f:null};e.data[n+ve]=E}function mh(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=[null,null];for(var a=t.split(oh),o=0,s=0;s<a.length;s++){var c=a[s];if(1&s){var u=parseInt(c,10);r.push(-1-u),o|=bh(u)}else""!==c&&r.push(c)}return r.push(e<<2|(n?1:0)),n&&r.push(n,i),r[0]=o,r[1]=r.length-2,r}function gh(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n|=bh(t.mainBinding);for(var i=0;i<t.values.length;i++)for(var r=t.values[i],a=0;a<r.length;a++){var o=r[a];if("string"==typeof o)for(;e=oh.exec(o);)n|=bh(parseInt(e[1],10));else n=gh(o,n)}return n}function yh(t){return t+ah++}function bh(t){return 1<<Math.min(t,31)}function _h(t){return void 0===t}function wh(t){for(var e,n,i="",r=0,a=!1;null!==(e=dh.exec(t));)a?e[0]==="".concat(hh,"/*").concat(n).concat(hh)&&(r=e.index,a=!1):(i+=t.substring(r,e.index+e[0].length),n=e[1],a=!0);return i+=t.substr(r)}function xh(t,e,n,i){for(var r=[],a=[],o=[],s=[],c=[],u=e.values,l=0;l<u.length;l++){for(var h=u[l],d=[],f=0;f<h.length;f++){var p=h[f];if("string"!=typeof p){var v=d.push(p)-1;h[f]="\x3c!--\ufffd".concat(v,"\ufffd--\x3e")}}var m=Oh(h.join(""),n,d,t,i);r.push(m.create),a.push(m.remove),o.push(m.update),s.push(m.vars),c.push(m.childIcus)}var g={type:e.type,vars:s,currentCaseLViewIndex:ve+i+1,childIcus:c,cases:e.cases,create:r,remove:a,update:o};t.push(g),ah+=Math.max.apply(Math,s)}function kh(t){for(var e=[],n=[],i=1,r=0,a=Sh(t=t.replace(uh,(function(t,e,n){return i="select"===n?0:1,r=parseInt(e.substr(1),10),""}))),o=0;o<a.length;){var s=a[o++].trim();1===i&&(s=s.replace(/\s*(?:=)?(\w+)\s*/,"$1")),s.length&&e.push(s);var c=Sh(a[o++]);e.length>n.length&&n.push(c)}return{type:i,mainBinding:r,cases:e,values:n}}function Oh(t,e,n,i,r){var a=Wi(Ie()).getInertBodyElement(t);if(!a)throw new Error("Unable to generate inert body element");var o={vars:1,childIcus:[],create:[],remove:[],update:[]};return function t(e,n,i,r,a,o){if(e){for(var c=[];e;){var u=e.nextSibling,l=o+ ++n.vars;switch(e.nodeType){case Node.ELEMENT_NODE:var h=e,d=h.tagName.toLowerCase();if(cr.hasOwnProperty(d)){n.create.push(Vl,d,l,i<<17|1);for(var f=h.attributes,p=0;p<f.length;p++){var v=f.item(p),m=v.name.toLowerCase();!!v.value.match(oh)?fr.hasOwnProperty(m)&&(ur[m]?Ut(mh(v.value,l,v.name,Ki),n.update):lr[m]?Ut(mh(v.value,l,v.name,Zi),n.update):Ut(mh(v.value,l,v.name),n.update)):n.create.push(l<<3|4,v.name,v.value)}t(e.firstChild,n,l,r,a,o),n.remove.push(l<<3|3)}else n.vars--;break;case Node.TEXT_NODE:var g=e.textContent||"",y=g.match(oh);n.create.push(y?"":g,l,i<<17|1),n.remove.push(l<<3|3),y&&Ut(mh(g,l),n.update);break;case Node.COMMENT_NODE:var b=ch.exec(e.textContent||"");if(b){var _=parseInt(b[1],10),w="";n.create.push(Gl,w,l,i<<17|1);var x=r[_];c.push([x,l])}else n.vars--;break;default:n.vars--}e=u}for(var k=0;k<c.length;k++){var O=c[k][0],S=c[k][1];xh(a,O,S,o+n.vars);var C=a.length-1;n.vars+=Math.max.apply(Math,Object(s.a)(a[C].vars)),n.childIcus.push(C);var A=gh(O);n.update.push(bh(O.mainBinding),3,-1-O.mainBinding,S<<2|2,C,A,2,S<<2|3,C),n.remove.push(C<<3|6,S<<3|3)}}}((_r(a)||a).firstChild,o,e,n,i,r),o}function Sh(t){if(!t)return[];var e,n=0,i=[],r=[],a=/[{}]/g;for(a.lastIndex=0;e=a.exec(t);){var o=e.index;if("}"==e[0]){if(i.pop(),0==i.length){var s=t.substring(n,o);uh.test(s)?r.push(kh(s)):r.push(s),n=o+1}}else{if(0==i.length){var c=t.substring(n,o);r.push(c),n=o+1}i.push("{")}}var u=t.substring(n);return r.push(u),r}var Ch=/\[(\ufffd.+?\ufffd?)\]/,Ah=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,Mh=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,Th=/{([A-Z0-9_]+)}/g,Eh=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,Ph=/\/\*/,Dh=/\d+\:(\d+)/;function jh(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t;if(Ch.test(t)){var i={},r=[0];n=n.replace(Ah,(function(t,e,n){var a=e||n,s=i[a]||[];if(s.length||(a.split("|").forEach((function(t){var e=t.match(Dh),n=e?parseInt(e[1],10):0,i=Ph.test(t);s.push([n,i,t])})),i[a]=s),!s.length)throw new Error("i18n postprocess: unmatched placeholder - ".concat(a));for(var c=r[r.length-1],u=0,l=0;l<s.length;l++)if(s[l][0]===c){u=l;break}var h=Object(o.a)(s[u],3),d=h[0],f=h[1],p=h[2];return f?r.pop():c!==d&&r.push(d),s.splice(u,1),p}))}return Object.keys(e).length?n=(n=(n=n.replace(Mh,(function(t,n,i,r,a,o){return e.hasOwnProperty(i)?"".concat(n).concat(e[i]).concat(o):t}))).replace(Th,(function(t,n){return e.hasOwnProperty(n)?e[n]:t}))).replace(Eh,(function(t,n){if(e.hasOwnProperty(n)){var i=e[n];if(!i.length)throw new Error("i18n postprocess: unmatched ICU - ".concat(t," with key: ").concat(n));return i.shift()}return t})):n}function Rh(t,e,n){var i=nn(),r=Ye(i.consts,e);!function(t){ql[++Yl]=t}(t),ru(!0),i.firstCreatePass&&null===i.data[t+ve]&&vh(en(),i,t,r,n)}function Ih(){var t=en(),e=nn();nh(e,t),ru(!1)}function Lh(t,e,n){Rh(t,e,n),Ih()}function Nh(t,e){var n=en(),i=nn();!function(t,e,n,i){for(var r=an().index-ve,a=[],o=0;o<i.length;o+=2)for(var s=i[o],c=i[o+1].split(sh),u=0;u<c.length;u++){var l=c[u];if(1&u)throw new Error("ICU expressions are not yet supported in attributes");if(""!==l)if(l.match(oh))e.firstCreatePass&&null===e.data[n+ve]&&Ut(mh(l,r,s),a);else{var h=Ue(e,r);2===h.type&&Ea(h,t,s,l,null,null);var d=null!==h.inputs&&h.inputs[s];d&&Xa(e,t,d,s,l)}}e.firstCreatePass&&null===e.data[n+ve]&&(e.data[n+ve]=a)}(n,i,t,Ye(i.consts,e))}function Fh(t){var e=en();return cc(e,pn(),t)&&(Ql|=1<<Kl),Kl++,Fh}function Bh(t){!function(t,e,n){if(Kl>0){var i,r=t.data[n+ve],a=null;Array.isArray(r)?i=r:(i=r.update,a=r.icus),Jl(t,a,e,i,dn()-Kl-1,Ql),Ql=0,Kl=0}}(nn(),en(),t)}function zh(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return jh(t,e)}function Uh(t,e,n){var i=nn();if(i.firstCreatePass){var r=xe(t);Hh(n,i.data,i.blueprint,r,!0),Hh(e,i.data,i.blueprint,r,!1)}}function Hh(t,e,n,i,r){if(t=K(t),Array.isArray(t))for(var a=0;a<t.length;a++)Hh(t[a],e,n,i,r);else{var o=nn(),s=en(),c=os(t)?t:K(t.provide),u=is(t),l=an(),h=1048575&l.providerIndexes,d=l.directiveStart,f=l.providerIndexes>>20;if(os(t)||!t.multi){var p=new Hn(u,r,jc),v=Wh(c,e,r?h:h+f,d);-1===v?(hi(si(l,s),o,c),Vh(o,t,e.length),e.push(c),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{var m=Wh(c,e,h+f,d),g=Wh(c,e,h,h+f),y=m>=0&&n[m],b=g>=0&&n[g];if(r&&!b||!r&&!y){hi(si(l,s),o,c);var _=function(t,e,n,i,r){var a=new Hn(t,n,jc);return a.multi=[],a.index=e,a.componentProviders=0,Gh(a,r,i&&!n),a}(r?qh:Xh,n.length,r,i,u);!r&&b&&(n[g].providerFactory=_),Vh(o,t,e.length,0),e.push(c),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),n.push(_),s.push(_)}else{Vh(o,t,m>-1?m:g,Gh(n[r?g:m],u,!r&&i))}!r&&i&&b&&n[g].componentProviders++}}}function Vh(t,e,n,i){var r=os(e);if(r||e.useClass){var a=(e.useClass||e).prototype.ngOnDestroy;if(a){var o=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){var s=o.indexOf(n);-1===s?o.push(n,[i,a]):o[s+1].push(i,a)}else o.push(n,a)}}}function Gh(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Wh(t,e,n,i){for(var r=n;r<i;r++)if(e[r]===t)return r;return-1}function Xh(t,e,n,i){return Yh(this.multi,[])}function qh(t,e,n,i){var r,a=this.multi;if(this.providerFactory){var o=this.providerFactory.componentProviders,s=mi(n,n[1],this.providerFactory.index,i);Yh(a,r=s.slice(0,o));for(var c=o;c<s.length;c++)r.push(s[c])}else Yh(a,r=[]);return r}function Yh(t,e){for(var n=0;n<t.length;n++){var i=t[n];e.push(i())}return e}function Qh(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,i){return Uh(n,i?i(t):t,e)}}}var Kh=function t(){Object(h.a)(this,t)},Zh=function t(){Object(h.a)(this,t)};function Jh(t){var e=Error("No component factory found for ".concat(X(t),". Did you add it to @NgModule.entryComponents?"));return e[$h]=t,e}var $h="ngComponent";var td=function(){function t(){Object(h.a)(this,t)}return Object(d.a)(t,[{key:"resolveComponentFactory",value:function(t){throw Jh(t)}}]),t}(),ed=function t(){Object(h.a)(this,t)};ed.NULL=new td;var nd=function t(e){Object(h.a)(this,t),this.nativeElement=e};nd.__NG_ELEMENT_ID__=function(){return rd(nd)};var id,rd=function(t){return xo(t,an(),en())},ad=(new gt("Renderer2Interceptor"),function t(){Object(h.a)(this,t)});!function(t){t[t.Important=1]="Important",t[t.DashCase=2]="DashCase"}(id||(id={}));var od=function t(){Object(h.a)(this,t)};od.__NG_ELEMENT_ID__=function(){return sd()};var sd=function(){var t=en(),e=Ve(an().index,t);return function(t){var e=t[11];if(Le(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(ge(e)?e:t)},cd=function t(){Object(h.a)(this,t)};cd.\u0275prov=L({token:cd,providedIn:"root",factory:function(){return null}});var ud=function t(e){Object(h.a)(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},ld=new ud("10.2.0"),hd=function(){function t(){Object(h.a)(this,t)}return Object(d.a)(t,[{key:"supports",value:function(t){return rc(t)}},{key:"create",value:function(t){return new fd(t)}}]),t}(),dd=function(t,e){return e},fd=function(){function t(e){Object(h.a)(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||dd}return Object(d.a)(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,i=0,r=null;e||n;){var a=!n||e&&e.currentIndex<gd(n,i,r)?e:n,o=gd(a,i,r),s=a.currentIndex;if(a===n)i--,n=n._nextRemoved;else if(e=e._next,null==a.previousIndex)i++;else{r||(r=[]);var c=o-i,u=s-i;if(c!=u){for(var l=0;l<c;l++){var h=l<r.length?r[l]:r[l]=0,d=h+l;u<=d&&d<c&&(r[l]=h+1)}r[a.previousIndex]=u-c}}o!==s&&t(a,o,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!rc(t))throw new Error("Error trying to diff '".concat(X(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,i,r,a=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)i=t[s],r=this._trackByFn(s,i),null!==a&&Object.is(a.trackById,r)?(o&&(a=this._verifyReinsertion(a,i,r,s)),Object.is(a.item,i)||this._addIdentityChange(a,i)):(a=this._mismatch(a,i,r,s),o=!0),a=a._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var i,r=t[nc()]();!(i=r.next()).done;)e(i.value)}(t,(function(t){r=e._trackByFn(n,t),null!==a&&Object.is(a.trackById,r)?(o&&(a=e._verifyReinsertion(a,t,r,n)),Object.is(a.item,t)||e._addIdentityChange(a,t)):(a=e._mismatch(a,t,r,n),o=!0),a=a._next,n++})),this.length=n;return this._truncate(a),this.collection=t,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,i){var r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):t=this._addAfter(new pd(e,n),r,i),t}},{key:"_verifyReinsertion",value:function(t,e,n,i){var r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),null===this._additionsTail?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new md),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(null===this._movesTail?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new md),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),t}(),pd=function t(e,n){Object(h.a)(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},vd=function(){function t(){Object(h.a)(this,t),this._head=null,this._tail=null}return Object(d.a)(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),md=function(){function t(){Object(h.a)(this,t),this.map=new Map}return Object(d.a)(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new vd,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=t,i=this.map.get(n);return i?i.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),t}();function gd(t,e,n){var i=t.previousIndex;if(null===i)return i;var r=0;return n&&i<n.length&&(r=n[i]),i+e+r}var yd=function(){function t(){Object(h.a)(this,t)}return Object(d.a)(t,[{key:"supports",value:function(t){return t instanceof Map||ac(t)}},{key:"create",value:function(){return new bd}}]),t}(),bd=function(){function t(){Object(h.a)(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object(d.a)(t,[{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||ac(t)))throw new Error("Error trying to diff '".concat(X(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(function(t,i){if(n&&n.key===i)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var r=e._getOrCreateRecordForKey(i,t);n=e._insertBeforeOrAppend(n,r)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}var a=new _d(t);return this._records.set(t,a),a.currentValue=e,this._addToAdditions(a),a}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach((function(n){return e(t[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),t}(),_d=function t(e){Object(h.a)(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},wd=function(){function t(e){Object(h.a)(this,t),this.factories=e}return Object(d.a)(t,[{key:"find",value:function(t){var e,n=this.factories.find((function(e){return e.supports(t)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var i=n.factories.slice();e=e.concat(i)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new P,new T]]}}}]),t}();wd.\u0275prov=L({token:wd,providedIn:"root",factory:function(){return new wd([new hd])}});var xd=function(){function t(e){Object(h.a)(this,t),this.factories=e}return Object(d.a)(t,[{key:"find",value:function(t){var e=this.factories.find((function(e){return e.supports(t)}));if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var i=n.factories.slice();e=e.concat(i)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new P,new T]]}}}]),t}();xd.\u0275prov=L({token:xd,providedIn:"root",factory:function(){return new xd([new yd])}});var kd=[new yd],Od=[new hd],Sd=new wd(Od),Cd=new xd(kd),Ad=function t(){Object(h.a)(this,t)};Ad.__NG_ELEMENT_ID__=function(){return Md(Ad,nd)};var Md=function(t,e){return ko(t,e,an(),en())},Td=function t(){Object(h.a)(this,t)};Td.__NG_ELEMENT_ID__=function(){return Ed(Td,nd)};var Ed=function(t,e){return Oo(t,e,an(),en())};var Pd=new Map;function Dd(t){var e=Pd.get(t);return e||(e=X(t)+"_"+Pd.size,Pd.set(t,e)),e}new WeakMap;Dd(us),Dd(yt),Dd(Bt);Dd(od),Dd(nd),Dd(Td),Dd(Ad),Dd(Ao),Dd(us),Dd(yt);var jd={};var Rd=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var i;return Object(h.a)(this,n),(i=e.call(this)).ngModule=t,i}return Object(d.a)(n,[{key:"resolveComponentFactory",value:function(t){var e=le(t);return new Nd(e,this.ngModule)}}]),n}(ed);function Id(t){var e=[];for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];e.push({propName:i,templateName:n})}return e}var Ld=new gt("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return $n}});var Nd=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t,i){var r;return Object(h.a)(this,n),(r=e.call(this)).componentDef=t,r.ngModule=i,r.componentType=t.type,r.selector=t.selectors.map(zr).join(","),r.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],r.isBoundToModule=!!i,r}return Object(d.a)(n,[{key:"create",value:function(t,e,n,i){var r,a,o=(i=i||this.ngModule)?function(t,e){return{get:function(n,i,r){var a=t.get(n,jd,r);return a!==jd||i===jd?a:e.get(n,i,r)}}}(t,i.injector):t,s=o.get(ad,Ne),c=o.get(cd,null),u=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?ma(u,n,this.componentDef.encapsulation):ra(l,s.createRenderer(null,this.componentDef),function(t){var e=t.toLowerCase();return"svg"===e?Pe:"math"===e?De:null}(l)),d=this.componentDef.onPush?576:528,f=Gs(),p=va(0,null,null,1,0,null,null,null,null,null),v=aa(null,p,f,d,null,null,s,u,c,o);xn(v);try{var m=Hs(h,this.componentDef,v,s,u);if(h)if(n)Vn(u,h,["ng-version",ld.full]);else{var g=function(t){for(var e=[],n=[],i=1,r=2;i<t.length;){var a=t[i];if("string"==typeof a)2===r?""!==a&&e.push(a,t[++i]):8===r&&n.push(a);else{if(!Ir(r))break;r=a}i++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),y=g.attrs,b=g.classes;y&&Vn(u,h,y),b&&b.length>0&&mo(u,h,b.join(" "))}if(a=Ue(p,0),void 0!==e)for(var _=a.projection=[],w=0;w<this.ngContentSelectors.length;w++){var x=e[w];_.push(null!=x?Array.from(x):null)}r=Vs(m,this.componentDef,v,f,[Ws]),sa(p,v,null)}finally{An()}return new Fd(this.componentType,r,xo(nd,a,v),v,a)}},{key:"inputs",get:function(){return Id(this.componentDef.inputs)}},{key:"outputs",get:function(){return Id(this.componentDef.outputs)}}]),n}(Zh);new Rd;var Fd=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t,i,r,a,o){var s;return Object(h.a)(this,n),(s=e.call(this)).location=r,s._rootLView=a,s._tNode=o,s.destroyCbs=[],s.instance=i,s.hostView=s.changeDetectorRef=new wo(a),s.componentType=t,s}return Object(d.a)(n,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(t){this.destroyCbs&&this.destroyCbs.push(t)}},{key:"injector",get:function(){return new _i(this._tNode,this._rootLView)}}]),n}(Kh);function Bd(t,e,n,i){return b((function(){var r,a=t,o=a.prototype?Object.getPrototypeOf(a.prototype):null,c=o&&o.constructor;null!==e&&(void 0===a.decorators||c&&c.decorators===a.decorators?a.decorators=e:(r=a.decorators).push.apply(r,Object(s.a)(e)));null!==n&&(a.ctorParameters=n),null!==i&&(void 0===a.propDecorators||c&&c.propDecorators===a.propDecorators?a.propDecorators=i:a.propDecorators=Object.assign(Object.assign({},a.propDecorators),i))}))}var zd=new Map;function Ud(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(X(e)," vs ").concat(X(e.name)))}var Hd=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t,i){var r;Object(h.a)(this,n),(r=e.call(this))._parent=i,r._bootstrapComponents=[],r.injector=Object(a.a)(r),r.destroyCbs=[],r.componentFactoryResolver=new Rd(Object(a.a)(r));var o=pe(t),s=t[ht]||null;return s&&Xl(s),r._bootstrapComponents=ii(o.bootstrap),r._r3Injector=ts(t,i,[{provide:Bt,useValue:Object(a.a)(r)},{provide:ed,useValue:r.componentFactoryResolver}],X(t)),r._r3Injector._resolveInjectorDefTypes(),r.instance=r.get(t),r}return Object(d.a)(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:us.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A.Default;return t===us||t===Bt||t===yt?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(Bt),Vd=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var i;return Object(h.a)(this,n),(i=e.call(this)).moduleType=t,null!==pe(t)&&function t(e){if(null!==e.\u0275mod.id){var n=e.\u0275mod.id;Ud(n,zd.get(n),e),zd.set(n,e)}var i=e.\u0275mod.imports;i instanceof Function&&(i=i()),i&&i.forEach((function(e){return t(e)}))}(t),i}return Object(d.a)(n,[{key:"create",value:function(t){return new Hd(this.moduleType,t)}}]),n}(zt);function Gd(t,e,n){var i=hn()+t,r=en();return r[i]===Ur?oc(r,i,n?e.call(n):e()):sc(r,i)}function Wd(t,e,n,i){return ef(en(),hn(),t,e,n,i)}function Xd(t,e,n,i,r){return nf(en(),hn(),t,e,n,i,r)}function qd(t,e,n,i,r,a){return rf(en(),hn(),t,e,n,i,r,a)}function Yd(t,e,n,i,r,a,o){return af(en(),hn(),t,e,n,i,r,a,o)}function Qd(t,e,n,i,r,a,o,s){var c=hn()+t,u=en(),l=hc(u,c,n,i,r,a);return cc(u,c+4,o)||l?oc(u,c+5,s?e.call(s,n,i,r,a,o):e(n,i,r,a,o)):sc(u,c+5)}function Kd(t,e,n,i,r,a,o,s,c){var u=hn()+t,l=en(),h=hc(l,u,n,i,r,a);return uc(l,u+4,o,s)||h?oc(l,u+6,c?e.call(c,n,i,r,a,o,s):e(n,i,r,a,o,s)):sc(l,u+6)}function Zd(t,e,n,i,r,a,o,s,c,u){var l=hn()+t,h=en(),d=hc(h,l,n,i,r,a);return lc(h,l+4,o,s,c)||d?oc(h,l+7,u?e.call(u,n,i,r,a,o,s,c):e(n,i,r,a,o,s,c)):sc(h,l+7)}function Jd(t,e,n,i,r,a,o,s,c,u,l){var h=hn()+t,d=en(),f=hc(d,h,n,i,r,a);return hc(d,h+4,o,s,c,u)||f?oc(d,h+8,l?e.call(l,n,i,r,a,o,s,c,u):e(n,i,r,a,o,s,c,u)):sc(d,h+8)}function $d(t,e,n,i){return of(en(),hn(),t,e,n,i)}function tf(t,e){var n=t[e];return n===Ur?void 0:n}function ef(t,e,n,i,r,a){var o=e+n;return cc(t,o,r)?oc(t,o+1,a?i.call(a,r):i(r)):tf(t,o+1)}function nf(t,e,n,i,r,a,o){var s=e+n;return uc(t,s,r,a)?oc(t,s+2,o?i.call(o,r,a):i(r,a)):tf(t,s+2)}function rf(t,e,n,i,r,a,o,s){var c=e+n;return lc(t,c,r,a,o)?oc(t,c+3,s?i.call(s,r,a,o):i(r,a,o)):tf(t,c+3)}function af(t,e,n,i,r,a,o,s,c){var u=e+n;return hc(t,u,r,a,o,s)?oc(t,u+4,c?i.call(c,r,a,o,s):i(r,a,o,s)):tf(t,u+4)}function of(t,e,n,i,r,a){for(var o=e+n,s=!1,c=0;c<r.length;c++)cc(t,o++,r[c])&&(s=!0);return s?oc(t,o,i.apply(a,r)):tf(t,o)}function sf(t,e){var n,i=nn(),r=t+ve;i.firstCreatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var i=e[n];if(t===i.name)return i}throw new Error("The pipe '".concat(t,"' could not be found!"))}(e,i.pipeRegistry),i.data[r]=n,n.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(r,n.onDestroy)):n=i.data[r];var a=n.factory||(n.factory=fe(n.type)),o=St(jc);try{var s=ai(!1),c=a();return ai(s),function(t,e,n,i){var r=n+ve;r>=t.data.length&&(t.data[r]=null,t.blueprint[r]=null),e[r]=i}(i,en(),t,c),c}finally{St(o)}}function cf(t,e,n){var i=en(),r=He(i,t);return pf(i,ff(i,t)?ef(i,hn(),e,r.transform,n,r):r.transform(n))}function uf(t,e,n,i){var r=en(),a=He(r,t);return pf(r,ff(r,t)?nf(r,hn(),e,a.transform,n,i,a):a.transform(n,i))}function lf(t,e,n,i,r){var a=en(),o=He(a,t);return pf(a,ff(a,t)?rf(a,hn(),e,o.transform,n,i,r,o):o.transform(n,i,r))}function hf(t,e,n,i,r,a){var o=en(),s=He(o,t);return pf(o,ff(o,t)?af(o,hn(),e,s.transform,n,i,r,a,s):s.transform(n,i,r,a))}function df(t,e,n){var i=en(),r=He(i,t);return pf(i,ff(i,t)?of(i,hn(),e,r.transform,n,r):r.transform.apply(r,n))}function ff(t,e){return t[1].data[e+ve].pure}function pf(t,e){ic.isWrapped(e)&&(e=ic.unwrap(e),t[dn()]=Ur);return e}var vf=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(h.a)(this,n),(t=e.call(this)).__isAsync=i,t}return Object(d.a)(n,[{key:"emit",value:function(t){Object(i.a)(Object(r.a)(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,a){var o,s=function(t){return null},c=function(){return null};t&&"object"==typeof t?(o=this.__isAsync?function(e){setTimeout((function(){return t.next(e)}))}:function(e){t.next(e)},t.error&&(s=this.__isAsync?function(e){setTimeout((function(){return t.error(e)}))}:function(e){t.error(e)}),t.complete&&(c=this.__isAsync?function(){setTimeout((function(){return t.complete()}))}:function(){t.complete()})):(o=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)},e&&(s=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)}),a&&(c=this.__isAsync?function(){setTimeout((function(){return a()}))}:function(){a()}));var u=Object(i.a)(Object(r.a)(n.prototype),"subscribe",this).call(this,o,s,c);return t instanceof p.a&&t.add(u),u}}]),n}(v.a);function mf(){return this._results[nc()]()}var gf=function(){function t(){Object(h.a)(this,t),this.dirty=!0,this._results=[],this.changes=new vf,this.length=0;var e=nc(),n=t.prototype;n[e]||(n[e]=mf)}return Object(d.a)(t,[{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t){this._results=Ht(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),yf=function(){function t(e){Object(h.a)(this,t),this.queryList=e,this.matches=null}return Object(d.a)(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),bf=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(h.a)(this,t),this.queries=e}return Object(d.a)(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var i=null!==e.contentQueries?e.contentQueries[0]:n.length,r=[],a=0;a<i;a++){var o=n.getByIndex(a),s=this.queries[o.indexInDeclarationView];r.push(s.clone())}return new t(r)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==Lf(t,e).matches&&this.queries[e].setDirty()}}]),t}(),_f=function t(e,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(h.a)(this,t),this.predicate=e,this.descendants=n,this.isStatic=i,this.read=r},wf=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(h.a)(this,t),this.queries=e}return Object(d.a)(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,i=0;i<this.length;i++){var r=null!==n?n.length:0,a=this.getByIndex(i).embeddedTView(e,r);a&&(a.indexInDeclarationView=i,null!==n?n.push(a):n=[a])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"track",value:function(t){this.queries.push(t)}},{key:"length",get:function(){return this.queries.length}}]),t}(),xf=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;Object(h.a)(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return Object(d.a)(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&3===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){var n=this.metadata.predicate;if(Array.isArray(n))for(var i=0;i<n.length;i++){var r=n[i];this.matchTNodeWithReadOption(t,e,kf(e,r)),this.matchTNodeWithReadOption(t,e,vi(e,t,r,!1,!1))}else n===Ad?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,vi(e,t,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var i=this.metadata.read;if(null!==i)if(i===nd||i===Td||i===Ad&&0===e.type)this.addMatch(e.index,-2);else{var r=vi(e,t,i,!1,!1);null!==r&&this.addMatch(e.index,r)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function kf(t,e){var n=t.localNames;if(null!==n)for(var i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1];return null}function Of(t,e,n,i){return-1===n?function(t,e){return 2===t.type||3===t.type?xo(nd,t,e):0===t.type?ko(Ad,nd,t,e):null}(e,t):-2===n?function(t,e,n){if(n===nd)return xo(nd,e,t);if(n===Ad)return ko(Ad,nd,e,t);if(n===Td)return Oo(Td,nd,e,t)}(t,e,i):mi(t,t[1],n,e)}function Sf(t,e,n,i){var r=e[19].queries[i];if(null===r.matches){for(var a=t.data,o=n.matches,s=[],c=0;c<o.length;c+=2){var u=o[c];if(u<0)s.push(null);else{var l=a[u];s.push(Of(e,l,o[c+1],n.metadata.read))}}r.matches=s}return r.matches}function Cf(t){var e=en(),n=nn(),i=bn();_n(i+1);var r=Lf(n,i);if(t.dirty&&Xe(e)===r.metadata.isStatic){if(null===r.matches)t.reset([]);else{var a=r.crossesNgTemplate?function t(e,n,i,r){var a=e.queries.getByIndex(i),o=a.matches;if(null!==o)for(var s=Sf(e,n,a,i),c=0;c<o.length;c+=2){var u=o[c];if(u>0)r.push(s[c/2]);else{for(var l=o[c+1],h=n[-u],d=me;d<h.length;d++){var f=h[d];f[17]===f[3]&&t(f[1],f,l,r)}if(null!==h[9])for(var p=h[9],v=0;v<p.length;v++){var m=p[v];t(m[1],m,l,r)}}}return r}(n,e,i,[]):Sf(n,e,r,i);t.reset(a),t.notifyOnChanges()}return!0}return!1}function Af(t,e,n){Tf(nn(),en(),t,e,n,!0)}function Mf(t,e,n){Tf(nn(),en(),t,e,n,!1)}function Tf(t,e,n,i,r,a){t.firstCreatePass&&(If(t,new _f(n,i,a,r),-1),a&&(t.staticViewQueries=!0)),Rf(t,e)}function Ef(t,e,n,i){Df(nn(),en(),e,n,i,!1,an(),t)}function Pf(t,e,n,i){Df(nn(),en(),e,n,i,!0,an(),t)}function Df(t,e,n,i,r,a,o,s){t.firstCreatePass&&(If(t,new _f(n,i,a,r),o.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]),i=t.contentQueries.length?n[n.length-1]:-1;e!==i&&n.push(t.queries.length-1,e)}(t,s),a&&(t.staticContentQueries=!0)),Rf(t,e)}function jf(){return t=en(),e=bn(),t[19].queries[e].queryList;var t,e}function Rf(t,e){var n=new gf;ga(t,e,n,n.destroy),null===e[19]&&(e[19]=new bf),e[19].queries.push(new yf(n))}function If(t,e,n){null===t.queries&&(t.queries=new wf),t.queries.track(new xf(e,n))}function Lf(t,e){return t.queries.getByIndex(e)}function Nf(t,e){return ko(Ad,nd,t,e)}function Ff(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A.Default,e=So(!0);if(null!=e||t&A.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}var Bf={"\u0275\u0275attribute":dc,"\u0275\u0275attributeInterpolate1":xc,"\u0275\u0275attributeInterpolate2":kc,"\u0275\u0275attributeInterpolate3":Oc,"\u0275\u0275attributeInterpolate4":Sc,"\u0275\u0275attributeInterpolate5":Cc,"\u0275\u0275attributeInterpolate6":Ac,"\u0275\u0275attributeInterpolate7":Mc,"\u0275\u0275attributeInterpolate8":Tc,"\u0275\u0275attributeInterpolateV":Ec,"\u0275\u0275defineComponent":te,"\u0275\u0275defineDirective":ce,"\u0275\u0275defineInjectable":L,"\u0275\u0275defineInjector":N,"\u0275\u0275defineNgModule":ae,"\u0275\u0275definePipe":ue,"\u0275\u0275directiveInject":jc,"\u0275\u0275getFactoryOf":wi,"\u0275\u0275getInheritedFactory":xi,"\u0275\u0275inject":At,"\u0275\u0275injectAttribute":Rc,"\u0275\u0275invalidFactory":Ic,"\u0275\u0275invalidFactoryDep":Mt,"\u0275\u0275injectPipeChangeDetectorRef":Ff,"\u0275\u0275templateRefExtractor":Nf,"\u0275\u0275NgOnChangesFeature":Se,"\u0275\u0275ProvidersFeature":Qh,"\u0275\u0275CopyDefinitionFeature":tc,"\u0275\u0275InheritDefinitionFeature":qs,"\u0275\u0275nextContext":tu,"\u0275\u0275namespaceHTML":Rn,"\u0275\u0275namespaceMathML":jn,"\u0275\u0275namespaceSVG":Dn,"\u0275\u0275enableBindings":$e,"\u0275\u0275disableBindings":tn,"\u0275\u0275elementStart":Bc,"\u0275\u0275elementEnd":zc,"\u0275\u0275element":Uc,"\u0275\u0275elementContainerStart":Hc,"\u0275\u0275elementContainerEnd":Vc,"\u0275\u0275elementContainer":Gc,"\u0275\u0275pureFunction0":Gd,"\u0275\u0275pureFunction1":Wd,"\u0275\u0275pureFunction2":Xd,"\u0275\u0275pureFunction3":qd,"\u0275\u0275pureFunction4":Yd,"\u0275\u0275pureFunction5":Qd,"\u0275\u0275pureFunction6":Kd,"\u0275\u0275pureFunction7":Zd,"\u0275\u0275pureFunction8":Jd,"\u0275\u0275pureFunctionV":$d,"\u0275\u0275getCurrentView":Wc,"\u0275\u0275restoreView":rn,"\u0275\u0275listener":Yc,"\u0275\u0275projection":au,"\u0275\u0275syntheticHostProperty":Pl,"\u0275\u0275syntheticHostListener":Qc,"\u0275\u0275pipeBind1":cf,"\u0275\u0275pipeBind2":uf,"\u0275\u0275pipeBind3":lf,"\u0275\u0275pipeBind4":hf,"\u0275\u0275pipeBindV":df,"\u0275\u0275projectionDef":nu,"\u0275\u0275hostProperty":El,"\u0275\u0275property":Lc,"\u0275\u0275propertyInterpolate":ou,"\u0275\u0275propertyInterpolate1":su,"\u0275\u0275propertyInterpolate2":cu,"\u0275\u0275propertyInterpolate3":uu,"\u0275\u0275propertyInterpolate4":lu,"\u0275\u0275propertyInterpolate5":hu,"\u0275\u0275propertyInterpolate6":du,"\u0275\u0275propertyInterpolate7":fu,"\u0275\u0275propertyInterpolate8":pu,"\u0275\u0275propertyInterpolateV":vu,"\u0275\u0275pipe":sf,"\u0275\u0275queryRefresh":Cf,"\u0275\u0275viewQuery":Mf,"\u0275\u0275staticViewQuery":Af,"\u0275\u0275staticContentQuery":Pf,"\u0275\u0275loadQuery":jf,"\u0275\u0275contentQuery":Ef,"\u0275\u0275reference":Dc,"\u0275\u0275classMap":ju,"\u0275\u0275classMapInterpolate1":il,"\u0275\u0275classMapInterpolate2":rl,"\u0275\u0275classMapInterpolate3":al,"\u0275\u0275classMapInterpolate4":ol,"\u0275\u0275classMapInterpolate5":sl,"\u0275\u0275classMapInterpolate6":cl,"\u0275\u0275classMapInterpolate7":ul,"\u0275\u0275classMapInterpolate8":ll,"\u0275\u0275classMapInterpolateV":hl,"\u0275\u0275styleMap":Pu,"\u0275\u0275styleMapInterpolate1":dl,"\u0275\u0275styleMapInterpolate2":fl,"\u0275\u0275styleMapInterpolate3":pl,"\u0275\u0275styleMapInterpolate4":vl,"\u0275\u0275styleMapInterpolate5":ml,"\u0275\u0275styleMapInterpolate6":gl,"\u0275\u0275styleMapInterpolate7":yl,"\u0275\u0275styleMapInterpolate8":bl,"\u0275\u0275styleMapInterpolateV":_l,"\u0275\u0275styleProp":Tu,"\u0275\u0275stylePropInterpolate1":wl,"\u0275\u0275stylePropInterpolate2":xl,"\u0275\u0275stylePropInterpolate3":kl,"\u0275\u0275stylePropInterpolate4":Ol,"\u0275\u0275stylePropInterpolate5":Sl,"\u0275\u0275stylePropInterpolate6":Cl,"\u0275\u0275stylePropInterpolate7":Al,"\u0275\u0275stylePropInterpolate8":Ml,"\u0275\u0275stylePropInterpolateV":Tl,"\u0275\u0275classProp":Eu,"\u0275\u0275advance":Xr,"\u0275\u0275template":Pc,"\u0275\u0275text":Xu,"\u0275\u0275textInterpolate":qu,"\u0275\u0275textInterpolate1":Yu,"\u0275\u0275textInterpolate2":Qu,"\u0275\u0275textInterpolate3":Ku,"\u0275\u0275textInterpolate4":Zu,"\u0275\u0275textInterpolate5":Ju,"\u0275\u0275textInterpolate6":$u,"\u0275\u0275textInterpolate7":tl,"\u0275\u0275textInterpolate8":el,"\u0275\u0275textInterpolateV":nl,"\u0275\u0275i18n":Lh,"\u0275\u0275i18nAttributes":Nh,"\u0275\u0275i18nExp":Fh,"\u0275\u0275i18nStart":Rh,"\u0275\u0275i18nEnd":Ih,"\u0275\u0275i18nApply":Bh,"\u0275\u0275i18nPostprocess":zh,"\u0275\u0275resolveWindow":ti,"\u0275\u0275resolveDocument":ei,"\u0275\u0275resolveBody":ni,"\u0275\u0275setComponentScope":ee,"\u0275\u0275setNgModuleScope":oe,"\u0275\u0275sanitizeHtml":wr,"\u0275\u0275sanitizeStyle":xr,"\u0275\u0275sanitizeResourceUrl":Or,"\u0275\u0275sanitizeScript":Sr,"\u0275\u0275sanitizeUrl":kr,"\u0275\u0275sanitizeUrlOrResourceUrl":Cr},zf=null;var Uf=[],Hf=[];function Vf(t,e){Hf.push({moduleType:t,ngModule:e})}var Gf=!1;function Wf(t){return Array.isArray(t)?t.every(Wf):!!K(t)}function Xf(t,e){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n=Ht(e.declarations||Uf),i=null;Object.defineProperty(t,lt,{configurable:!0,get:function(){return null===i&&((i=ot().compileNgModule(Bf,"ng:///".concat(t.name,"/\u0275mod.js"),{type:t,bootstrap:Ht(e.bootstrap||Uf).map(K),declarations:n.map(K),imports:Ht(e.imports||Uf).map(K).map(Kf),exports:Ht(e.exports||Uf).map(K).map(Kf),schemas:e.schemas?Ht(e.schemas):null,id:e.id||null})).schemas||(i.schemas=[])),i}});var r=null;Object.defineProperty(t,H,{get:function(){if(null===r){var n={name:t.name,type:t,deps:zo(t),providers:e.providers||Uf,imports:[(e.imports||Uf).map(K),(e.exports||Uf).map(K)]};r=ot().compileInjector(Bf,"ng:///".concat(t.name,"/\u0275inj.js"),n)}return r},configurable:!1})}new Map,new Map;function qf(t,e){var n=Ht(e.declarations||Uf),i=Qf(t);n.forEach((function(e){e.hasOwnProperty(st)?Yf(le(e),i):e.hasOwnProperty(ct)||e.hasOwnProperty(ut)||(e.ngSelectorScope=t)}))}function Yf(t,e){t.directiveDefs=function(){return Array.from(e.compilation.directives).map((function(t){return t.hasOwnProperty(st)?le(t):he(t)})).filter((function(t){return!!t}))},t.pipeDefs=function(){return Array.from(e.compilation.pipes).map((function(t){return de(t)}))},t.schemas=e.schemas,t.tView=null}function Qf(t){if(!Zf(t))throw new Error("".concat(t.name," does not have a module def (\u0275mod property)"));var e=pe(t);if(null!==e.transitiveCompileScopes)return e.transitiveCompileScopes;var n={schemas:e.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return ii(e.imports).forEach((function(t){var e=t;if(!Zf(e))throw new Error("Importing ".concat(e.name," which does not have a \u0275mod property"));var i=Qf(e);i.exported.directives.forEach((function(t){return n.compilation.directives.add(t)})),i.exported.pipes.forEach((function(t){return n.compilation.pipes.add(t)}))})),ii(e.declarations).forEach((function(t){de(t)?n.compilation.pipes.add(t):n.compilation.directives.add(t)})),ii(e.exports).forEach((function(t){var e=t;if(Zf(e)){var i=Qf(e);i.exported.directives.forEach((function(t){n.compilation.directives.add(t),n.exported.directives.add(t)})),i.exported.pipes.forEach((function(t){n.compilation.pipes.add(t),n.exported.pipes.add(t)}))}else de(e)?n.exported.pipes.add(e):n.exported.directives.add(e)})),e.transitiveCompileScopes=n,n}function Kf(t){return function(t){return void 0!==t.ngModule}(t)?t.ngModule:t}function Zf(t){return!!pe(t)}var Jf=0;function $f(t,e){var n=null;ep(t,e||{}),Object.defineProperty(t,ct,{get:function(){if(null===n){var i=tp(t,e||{});n=ot().compileDirective(Bf,i.sourceMapUrl,i.metadata)}return n},configurable:!1})}function tp(t,e){var n=t&&t.name,i="ng:///".concat(n,"/\u0275dir.js"),r=ot(),a=ip(t,e);return a.typeSourceSpan=r.createParseSourceSpan("Directive",n,i),a.usesInheritance&&rp(t),{metadata:a,sourceMapUrl:i}}function ep(t,e){var n=null;Object.defineProperty(t,dt,{get:function(){if(null===n){var i=tp(t,e),r=ot();n=r.compileFactory(Bf,"ng:///".concat(t.name,"/\u0275fac.js"),Object.assign(Object.assign({},i.metadata),{injectFn:"directiveInject",target:r.R3FactoryTarget.Directive}))}return n},configurable:!1})}function np(t){return Object.getPrototypeOf(t.prototype)===Object.prototype}function ip(t,e){var n,i=Bo(),r=i.ownPropMetadata(t);return{name:t.name,type:t,typeArgumentCount:0,selector:void 0!==e.selector?e.selector:null,deps:zo(t),host:e.host||Zt,propMetadata:r,inputs:e.inputs||Jt,outputs:e.outputs||Jt,queries:ap(t,r,op),lifecycle:{usesOnChanges:i.hasLifecycleHook(t,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!np(t),exportAs:(n=e.exportAs,void 0===n?null:up(n)),providers:e.providers||null,viewQueries:ap(t,r,sp)}}function rp(t){for(var e=Object.prototype,n=Object.getPrototypeOf(t.prototype).constructor;n&&n!==e;)he(n)||le(n)||!hp(n)||$f(n,null),n=Object.getPrototypeOf(n)}function ap(t,e,n){var i=[],r=function(r){if(e.hasOwnProperty(r)){var a=e[r];a.forEach((function(e){if(n(e)){if(!e.selector)throw new Error("Can't construct a query for the property \"".concat(r,'" of ')+'"'.concat(Jn(t),"\" since the query selector wasn't defined."));if(a.some(cp))throw new Error("Cannot combine @Input decorators with query decorators");i.push(function(t,e){return{propertyName:t,predicate:(n=e.selector,"string"==typeof n?up(n):K(n)),descendants:e.descendants,first:e.first,read:e.read?e.read:null,static:!!e.static};var n}(r,e))}}))}};for(var a in e)r(a);return i}function op(t){var e=t.ngMetadataName;return"ContentChild"===e||"ContentChildren"===e}function sp(t){var e=t.ngMetadataName;return"ViewChild"===e||"ViewChildren"===e}function cp(t){return"Input"===t.ngMetadataName}function up(t){return t.split(",").map((function(t){return t.trim()}))}var lp=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function hp(t){var e=Bo();if(lp.some((function(n){return e.hasLifecycleHook(t,n)})))return!0;var n=e.propMetadata(t);for(var i in n)for(var r=n[i],a=0;a<r.length;a++){var o=r[a],s=o.ngMetadataName;if(cp(o)||op(o)||sp(o)||"Output"===s||"HostBinding"===s||"HostListener"===s)return!0}return!1}function dp(t,e){return{type:t,typeArgumentCount:0,name:t.name,deps:zo(t),pipeName:e.name,pure:void 0===e.pure||e.pure}}var fp=k("Directive",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t}),void 0,void 0,(function(t,e){return wp(t,e)})),pp=k("Component",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({changeDetection:Lt.Default},t)}),fp,void 0,(function(t,e){return _p(t,e)})),vp=k("Pipe",(function(t){return Object.assign({pure:!0},t)}),void 0,void 0,(function(t,e){return xp(t,e)})),mp=C("Input",(function(t){return{bindingPropertyName:t}})),gp=C("Output",(function(t){return{bindingPropertyName:t}})),yp=C("HostBinding",(function(t){return{hostPropertyName:t}})),bp=C("HostListener",(function(t,e){return{eventName:t,args:e}})),_p=function(t,e){var n=null;!function(t,e){Bs(e)&&(Ns.set(t,e),Fs.add(t))}(t,e),ep(t,e),Object.defineProperty(t,st,{get:function(){if(null===n){var i=ot();if(Bs(e)){var r=["Component '".concat(t.name,"' is not resolved:")];throw e.templateUrl&&r.push(" - templateUrl: ".concat(e.templateUrl)),e.styleUrls&&e.styleUrls.length&&r.push(" - styleUrls: ".concat(JSON.stringify(e.styleUrls))),r.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(r.join("\n"))}var a=zf,o=e.preserveWhitespaces;void 0===o&&(o=null!==a&&void 0!==a.preserveWhitespaces&&a.preserveWhitespaces);var s=e.encapsulation;void 0===s&&(s=null!==a&&void 0!==a.defaultEncapsulation?a.defaultEncapsulation:Ft.Emulated);var c=e.templateUrl||"ng:///".concat(t.name,"/template.html"),u=Object.assign(Object.assign({},ip(t,e)),{typeSourceSpan:i.createParseSourceSpan("Component",t.name,c),template:e.template||"",preserveWhitespaces:o,styles:e.styles||Jt,animations:e.animations,directives:[],changeDetection:e.changeDetection,pipes:new Map,encapsulation:s,interpolation:e.interpolation,viewProviders:e.viewProviders||null});Jf++;try{u.usesInheritance&&rp(t),n=i.compileComponent(Bf,c,u)}finally{Jf--}if(0===Jf&&function(){if(!Gf){Gf=!0;try{for(var t=Hf.length-1;t>=0;t--){var e=Hf[t],n=e.moduleType,i=e.ngModule;i.declarations&&i.declarations.every(Wf)&&(Hf.splice(t,1),qf(n,i))}}finally{Gf=!1}}}(),void 0!==t.ngSelectorScope){var l=Qf(t.ngSelectorScope);Yf(n,l)}}return n},configurable:!1})},wp=$f,xp=function(t,e){var n=null,i=null;Object.defineProperty(t,dt,{get:function(){if(null===i){var n=dp(t,e),r=ot();i=r.compileFactory(Bf,"ng:///".concat(n.name,"/\u0275fac.js"),Object.assign(Object.assign({},n),{injectFn:"directiveInject",target:r.R3FactoryTarget.Pipe}))}return i},configurable:!1}),Object.defineProperty(t,ut,{get:function(){if(null===n){var i=dp(t,e);n=ot().compilePipe(Bf,"ng:///".concat(i.name,"/\u0275pipe.js"),i)}return n},configurable:!1})},kp=k("NgModule",(function(t){return t}),void 0,void 0,(function(t,e){return Op(t,e)}));var Op=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Xf(t,e),Vf(t,e)},Sp=new gt("Application Initializer"),Cp=function(){function t(e){var n=this;Object(h.a)(this,t),this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(t,e){n.resolve=t,n.reject=e}))}return Object(d.a)(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var i=0;i<this.appInits.length;i++){var r=this.appInits[i]();Xc(r)&&e.push(r)}Promise.all(e).then((function(){n()})).catch((function(e){t.reject(e)})),0===e.length&&n(),this.initialized=!0}}}]),t}();Cp.\u0275fac=function(t){return new(t||Cp)(At(Sp,8))},Cp.\u0275prov=L({token:Cp,factory:Cp.\u0275fac}),Cp.ctorParameters=function(){return[{type:Array,decorators:[{type:M,args:[Sp]},{type:T}]}]};var Ap=new gt("AppId");var Mp={provide:Ap,useFactory:function(){return"".concat(Tp()).concat(Tp()).concat(Tp())},deps:[]};function Tp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Ep=new gt("Platform Initializer"),Pp=new gt("Platform ID"),Dp=new gt("appBootstrapListener"),jp=(new gt("Application Packages Root URL"),function(){function t(){Object(h.a)(this,t)}return Object(d.a)(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}());jp.\u0275fac=function(t){return new(t||jp)},jp.\u0275prov=L({token:jp,factory:jp.\u0275fac});var Rp,Ip=new gt("LocaleId"),Lp=new gt("DefaultCurrencyCode");new gt("Translations"),new gt("TranslationsFormat");!function(t){t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Ignore=2]="Ignore"}(Rp||(Rp={}));var Np=function t(e,n){Object(h.a)(this,t),this.ngModuleFactory=e,this.componentFactories=n};var Fp=function(t){return new Vd(t)},Bp=Fp,zp=function(t){return Promise.resolve(Fp(t))},Up=function(t){var e=Fp(t),n=ii(pe(t).declarations).reduce((function(t,e){var n=le(e);return n&&t.push(new Nd(n)),t}),[]);return new Np(e,n)},Hp=Up,Vp=function(t){return Promise.resolve(Up(t))},Gp=function(){function t(){Object(h.a)(this,t),this.compileModuleSync=Bp,this.compileModuleAsync=zp,this.compileModuleAndAllComponentsSync=Hp,this.compileModuleAndAllComponentsAsync=Vp}return Object(d.a)(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();Gp.\u0275fac=function(t){return new(t||Gp)},Gp.\u0275prov=L({token:Gp,factory:Gp.\u0275fac});var Wp=new gt("compilerOptions"),Xp=Promise.resolve(0);function qp(t){"undefined"==typeof Zone?Xp.then((function(){t&&t.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var Yp=function(){function t(e){var n=e.enableLongStackTrace,i=void 0!==n&&n,r=e.shouldCoalesceEventChangeDetection,a=void 0!==r&&r;if(Object(h.a)(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vf(!1),this.onMicrotaskEmpty=new vf(!1),this.onStable=new vf(!1),this.onError=new vf(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();var o,s,c,u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.wtfZoneSpec&&(u._inner=u._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function(){var t=at.requestAnimationFrame,e=at.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,s=function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(at,(function(){t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",(function(){t.lastRequestAnimationFrameId=-1,Jp(t),Zp(t)}),void 0,(function(){}),(function(){}))),t.fakeTopEventTask.invoke()})),Jp(t))}(o)},c=!!(o=u).shouldCoalesceEventChangeDetection&&o.nativeRequestAnimationFrame&&s,o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:c},onInvokeTask:function(t,e,n,i,r,a){try{return $p(o),t.invokeTask(n,i,r,a)}finally{c&&"eventTask"===i.type&&c(),tv(o)}},onInvoke:function(t,e,n,i,r,a,s){try{return $p(o),t.invoke(n,i,r,a,s)}finally{tv(o)}},onHasTask:function(t,e,n,i){t.hasTask(n,i),e===n&&("microTask"==i.change?(o._hasPendingMicrotasks=i.microTask,Jp(o),Zp(o)):"macroTask"==i.change&&(o.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,n,i){return t.handleError(n,i),o.runOutsideAngular((function(){return o.onError.emit(i)})),!1}})}return Object(d.a)(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,i){var r=this._inner,a=r.scheduleEventTask("NgZoneEvent: "+i,t,Kp,Qp,Qp);try{return r.runTask(a,e,n)}finally{r.cancelTask(a)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}();function Qp(){}var Kp={};function Zp(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular((function(){return t.onStable.emit(null)}))}finally{t.isStable=!0}}}function Jp(t){t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function $p(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function tv(t){t._nesting--,Zp(t)}var ev=function(){function t(){Object(h.a)(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vf,this.onMicrotaskEmpty=new vf,this.onStable=new vf,this.onError=new vf}return Object(d.a)(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,i){return t.apply(e,n)}}]),t}(),nv=function(){function t(e){var n=this;Object(h.a)(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return Object(d.a)(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.subscribe({next:function(){Yp.assertNotInAngularZone(),qp((function(){t._isZoneStable=!0,t._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())qp((function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1}));else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}})):[]}},{key:"addCallback",value:function(t,e,n){var i=this,r=-1;e&&e>0&&(r=setTimeout((function(){i._callbacks=i._callbacks.filter((function(t){return t.timeoutId!==r})),t(i._didWork,i.getPendingTasks())}),e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();nv.\u0275fac=function(t){return new(t||nv)(At(Yp))},nv.\u0275prov=L({token:nv,factory:nv.\u0275fac}),nv.ctorParameters=function(){return[{type:Yp}]};var iv=function(){function t(){Object(h.a)(this,t),this._applications=new Map,ov.addToWindow(this)}return Object(d.a)(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return ov.findTestabilityInTree(this,t,e)}}]),t}();function rv(t){ov=t}iv.\u0275fac=function(t){return new(t||iv)},iv.\u0275prov=L({token:iv,factory:iv.\u0275fac}),iv.ctorParameters=function(){return[]};var av,ov=new(function(){function t(){Object(h.a)(this,t)}return Object(d.a)(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),sv=function(t,e,n){var i=new Vd(n);return Promise.resolve(i);var r=t.get(Wp,[]).concat(e);if(function(t){if(null!==zf){if(t.defaultEncapsulation!==zf.defaultEncapsulation)return;if(t.preserveWhitespaces!==zf.preserveWhitespaces)return}zf=t}({defaultEncapsulation:_v(r.map((function(t){return t.defaultEncapsulation}))),preserveWhitespaces:_v(r.map((function(t){return t.preserveWhitespaces})))}),function(){return 0===Ns.size}())return Promise.resolve(i);var a=(o=r.map((function(t){return t.providers})),c=[],o.forEach((function(t){return t&&c.push.apply(c,Object(s.a)(t))})),c);var o,c;if(0===a.length)return Promise.resolve(i);var u=ot(),l=us.create({providers:a}).get(u.ResourceLoader);return Ls((function(t){return Promise.resolve(l.get(t))})).then((function(){return i}))};var cv=function(){},uv=function(t){return t.isBoundToModule};var lv=new gt("AllowMultipleToken"),hv=function t(e,n){Object(h.a)(this,t),this.name=e,this.token=n};function dv(t){if(av&&!av.destroyed&&!av.injector.get(lv,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");cv(),av=t.get(mv);var e=t.get(Ep,null);return e&&e.forEach((function(t){return t()})),av}function fv(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i="Platform: ".concat(e),r=new gt(i);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=vv();if(!a||a.injector.get(lv,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{var o=n.concat(e).concat({provide:r,useValue:!0},{provide:Yo,useValue:"platform"});dv(us.create({providers:o,name:i}))}return pv(r)}}function pv(t){var e=vv();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}function vv(){return av&&!av.destroyed?av:null}var mv=function(){function t(e){Object(h.a)(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return Object(d.a)(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n=this,i=function(t,e){var n;n="noop"===t?new ev:("zone.js"===t?void 0:t)||new Yp({enableLongStackTrace:Vi(),shouldCoalesceEventChangeDetection:e});return n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Yp,useValue:i}];return i.run((function(){var e=us.create({providers:r,parent:n.injector,name:t.moduleType.name}),a=t.create(e),o=a.injector.get(Ci,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.onDestroy((function(){return bv(n._modules,a)})),i.runOutsideAngular((function(){return i.onError.subscribe({next:function(t){o.handleError(t)}})})),function(t,e,n){try{var i=n();return Xc(i)?i.catch((function(n){throw e.runOutsideAngular((function(){return t.handleError(n)})),n})):i}catch(r){throw e.runOutsideAngular((function(){return t.handleError(r)})),r}}(o,i,(function(){var t=a.injector.get(Cp);return t.runInitializers(),t.donePromise.then((function(){return Xl(a.injector.get(Ip,Hl)||Hl),n._moduleDoBootstrap(a),a}))}))}))}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=gv({},n);return sv(this.injector,i,t).then((function(t){return e.bootstrapModuleFactory(t,i)}))}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(yv);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach((function(t){return e.bootstrap(t)}));else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(X(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. ')+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(t){return t.destroy()})),this._destroyListeners.forEach((function(t){return t()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();function gv(t,e){return t=Array.isArray(e)?e.reduce(gv,t):Object.assign(Object.assign({},t),e)}mv.\u0275fac=function(t){return new(t||mv)(At(us))},mv.\u0275prov=L({token:mv,factory:mv.\u0275fac}),mv.ctorParameters=function(){return[{type:us}]};var yv=function(){function t(e,n,i,r,a,o){var s=this;Object(h.a)(this,t),this._zone=e,this._console=n,this._injector=i,this._exceptionHandler=r,this._componentFactoryResolver=a,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Vi(),this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run((function(){s.tick()}))}});var c=new m.a((function(t){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular((function(){t.next(s._stable),t.complete()}))})),u=new m.a((function(t){var e;s._zone.runOutsideAngular((function(){e=s._zone.onStable.subscribe((function(){Yp.assertNotInAngularZone(),qp((function(){s._stable||s._zone.hasPendingMacrotasks||s._zone.hasPendingMicrotasks||(s._stable=!0,t.next(!0))}))}))}));var n=s._zone.onUnstable.subscribe((function(){Yp.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular((function(){t.next(!1)})))}));return function(){e.unsubscribe(),n.unsubscribe()}}));this.isStable=Object(g.a)(c,u.pipe(Object(y.a)()))}return Object(d.a)(t,[{key:"bootstrap",value:function(t,e){var n,i=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof Zh?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var r=uv(n)?void 0:this._injector.get(Bt),a=e||n.selector,o=n.create(us.NULL,[],a,r);o.onDestroy((function(){i._unloadComponent(o)}));var s=o.injector.get(nv,null);return s&&o.injector.get(iv).registerApplication(o.location.nativeElement,s),this._loadComponent(o),Vi()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=Object(c.a)(this._views);try{for(n.s();!(e=n.n()).done;){e.value.detectChanges()}}catch(a){n.e(a)}finally{n.f()}if(this._enforceNoNewChanges){var i,r=Object(c.a)(this._views);try{for(r.s();!(i=r.n()).done;){i.value.checkNoChanges()}}catch(a){r.e(a)}finally{r.f()}}}catch(o){this._zone.runOutsideAngular((function(){return t._exceptionHandler.handleError(o)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;bv(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Dp,[]).concat(this._bootstrapListeners).forEach((function(e){return e(t)}))}},{key:"_unloadComponent",value:function(t){this.detachView(t.hostView),bv(this.components,t)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(t){return t.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),t}();function bv(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function _v(t){for(var e=t.length-1;e>=0;e--)if(void 0!==t[e])return t[e]}yv.\u0275fac=function(t){return new(t||yv)(At(Yp),At(jp),At(us),At(Ci),At(ed),At(Cp))},yv.\u0275prov=L({token:yv,factory:yv.\u0275fac}),yv.ctorParameters=function(){return[{type:Yp},{type:jp},{type:us},{type:Ci},{type:ed},{type:Cp}]};var wv=function t(){Object(h.a)(this,t)};var xv=function t(){Object(h.a)(this,t)},kv={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Ov=function(){function t(e,n){Object(h.a)(this,t),this._compiler=e,this._config=n||kv}return Object(d.a)(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var e=this,i=t.split("#"),r=Object(o.a)(i,2),a=r[0],s=r[1];return void 0===s&&(s="default"),n("crnd")(a).then((function(t){return t[s]})).then((function(t){return Sv(t,a,s)})).then((function(t){return e._compiler.compileModuleAsync(t)}))}},{key:"loadFactory",value:function(t){var e=t.split("#"),i=Object(o.a)(e,2),r=i[0],a=i[1],s="NgFactory";return void 0===a&&(a="default",s=""),n("crnd")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(t){return t[a+s]})).then((function(t){return Sv(t,r,a)}))}}]),t}();function Sv(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}Ov.\u0275fac=function(t){return new(t||Ov)(At(Gp),At(xv,8))},Ov.\u0275prov=L({token:Ov,factory:Ov.\u0275fac}),Ov.ctorParameters=function(){return[{type:Gp},{type:xv,decorators:[{type:T}]}]};new Map;var Cv=function(t){return null};var Av=fv(null,"core",[{provide:Pp,useValue:"unknown"},{provide:mv,deps:[us]},{provide:iv,deps:[]},{provide:jp,deps:[]}]);var Mv=[{provide:yv,useClass:yv,deps:[Yp,jp,us,Ci,ed,Cp]},{provide:Ld,deps:[Yp],useFactory:function(t){var e=[];return t.onStable.subscribe((function(){for(;e.length;)e.pop()()})),function(t){e.push(t)}}},{provide:Cp,useClass:Cp,deps:[[new T,Sp]]},{provide:Gp,useClass:Gp,deps:[]},Mp,{provide:wd,useFactory:function(){return Sd},deps:[]},{provide:xd,useFactory:function(){return Cd},deps:[]},{provide:Ip,useFactory:function(t){return Xl(t=t||"undefined"!=typeof $localize&&$localize.locale||Hl),t},deps:[[new M(Ip),new T,new P]]},{provide:Lp,useValue:"USD"}];var Tv,Ev=function t(e){Object(h.a)(this,t)};Ev.\u0275mod=ae({type:Ev}),Ev.\u0275inj=N({factory:function(t){return new(t||Ev)(At(yv))},providers:Mv}),Ev.ctorParameters=function(){return[{type:yv}]},function(t){t[t.CreateViewNodes=0]="CreateViewNodes",t[t.CheckNoChanges=1]="CheckNoChanges",t[t.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate=3]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",t[t.Destroy=5]="Destroy"}(Tv||(Tv={}));var Pv;new Map,new Map,new Map;!function(t){t[t.create=0]="create",t[t.detectChanges=1]="detectChanges",t[t.checkNoChanges=2]="checkNoChanges",t[t.destroy=3]="destroy",t[t.handleEvent=4]="handleEvent"}(Pv||(Pv={}))},foSv:function(t,e,n){"use strict";function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return i}))},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("2fFW"),r=n("NJ4a"),a={closed:!0,next:function(t){},error:function(t){if(i.a.useDeprecatedSynchronousErrorHandling)throw t;Object(r.a)(t)},complete:function(){}}},iiaH:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("2Vo4"),r=n("fXoL"),a=n("tk/3"),o=function(){function t(t){this.http=t,this.dataLoaded=new i.a(!1)}return t.prototype.getData=function(){var t=this;this.http.get("./assets/works/data.json").subscribe((function(e){t.projects=e,t.dataLoaded.next(!0)}))},t.\u0275fac=function(e){return new(e||t)(r.jc(a.a))},t.\u0275prov=r.Wb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},itXk:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var i=n("Ji7U"),r=n("LK+K"),a=n("1OyB"),o=n("vuIU"),s=n("z+Ro"),c=n("DH7j"),u=n("7o/Q"),l=function(t){Object(i.a)(n,t);var e=Object(r.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"notifyNext",value:function(t,e,n,i,r){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(u.a),h=function(t){Object(i.a)(n,t);var e=Object(r.a)(n);function n(t,i,r){var o;return Object(a.a)(this,n),(o=e.call(this)).parent=t,o.outerValue=i,o.outerIndex=r,o.index=0,o}return Object(o.a)(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(u.a),d=n("SeVD"),f=n("HDdC");function p(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new h(t,n,i);if(!r.closed)return e instanceof f.a?e.subscribe(r):Object(d.a)(e)(r)}var v=n("yCtX"),m={};function g(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=void 0,r=void 0;return Object(s.a)(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(i=e.pop()),1===e.length&&Object(c.a)(e[0])&&(e=e[0]),Object(v.a)(e,r).lift(new y(i))}var y=function(){function t(e){Object(a.a)(this,t),this.resultSelector=e}return Object(o.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new b(t,this.resultSelector))}}]),t}(),b=function(t){Object(i.a)(n,t);var e=Object(r.a)(n);function n(t,i){var r;return Object(a.a)(this,n),(r=e.call(this,t)).resultSelector=i,r.active=0,r.values=[],r.observables=[],r}return Object(o.a)(n,[{key:"_next",value:function(t){this.values.push(m),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var i=t[n];this.add(p(this,i,void 0,n))}}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n){var i=this.values,r=i[n],a=this.toRespond?r===m?--this.toRespond:this.toRespond:0;i[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(l)},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("HDdC"),r=n("quSY");function a(t,e){return new i.a((function(n){var i=new r.a,a=0;return i.add(e.schedule((function(){a!==t.length?(n.next(t[a++]),n.closed||i.add(this.schedule())):n.complete()}))),i}))}},jhN1:function(t,e,n){"use strict";n.d(e,"a",(function(){return ot})),n.d(e,"b",(function(){return J})),n.d(e,"c",(function(){return rt})),n.d(e,"d",(function(){return R}));var i,r=n("ReuC"),a=n("foSv"),o=n("1OyB"),s=n("vuIU"),c=n("Ji7U"),u=n("LK+K"),l=n("ofXK"),h=n("fXoL"),d=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(){return Object(o.a)(this,n),e.call(this)}return Object(s.a)(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(l.s),f=(function(){if(h.Eb.Node)h.Eb.Node.prototype.contains}(),function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e=function(){if(!p&&!(p=document.querySelector("base")))return null;return p.getAttribute("href")}();return null==e?null:function(t){i||(i=document.createElement("a"));return i.setAttribute("href",t),"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}(e)}},{key:"resetBaseElement",value:function(){p=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return Object(l.v)(document.cookie,t)}}],[{key:"makeCurrent",value:function(){Object(l.w)(new n)}}]),n}(d)),p=null;var v=new h.A("TRANSITION_ID");var m=[{provide:h.d,useFactory:function(t,e,n){return function(){n.get(h.e).donePromise.then((function(){var n=Object(l.u)();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter((function(e){return e.getAttribute("ng-transition")===t})).forEach((function(t){return n.remove(t)}))}))}},deps:[v,l.d,h.B],multi:!0}],g=function(){function t(){Object(o.a)(this,t)}return Object(s.a)(t,[{key:"addToWindow",value:function(t){h.Eb.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},h.Eb.getAllAngularTestabilities=function(){return t.getAllTestabilities()},h.Eb.getAllAngularRootElements=function(){return t.getAllRootElements()};h.Eb.frameworkStabilizers||(h.Eb.frameworkStabilizers=[]),h.Eb.frameworkStabilizers.push((function(t){var e=h.Eb.getAllAngularTestabilities(),n=e.length,i=!1,r=function(e){i=i||e,0==--n&&t(i)};e.forEach((function(t){t.whenStable(r)}))}))}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var i=t.getTestability(e);return null!=i?i:n?Object(l.u)().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){Object(h.nb)(new t)}}]),t}();function y(t,e){"undefined"!=typeof COMPILED&&COMPILED||((h.Eb.ng=h.Eb.ng||{})[t]=e)}var b={ApplicationRef:h.g,NgZone:h.L};function _(t){return Object(h.Ab)(t)}h.d,h.K,new h.M;var w=[],x=new h.A("EventManagerPlugins"),k=function(){function t(e,n){var i=this;Object(o.a)(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach((function(t){return t.manager=i})),this._plugins=e.slice().reverse()}return Object(s.a)(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,i=0;i<n.length;i++){var r=n[i];if(r.supports(t))return this._eventNameToPlugin.set(t,r),r}throw new Error("No event manager plugin found for event ".concat(t))}}]),t}();k.\u0275fac=function(t){return new(t||k)(h.jc(x),h.jc(h.L))},k.\u0275prov=h.Wb({token:k,factory:k.\u0275fac}),k.ctorParameters=function(){return[{type:Array,decorators:[{type:h.y,args:[x]}]},{type:h.L}]};var O=function(){function t(e){Object(o.a)(this,t),this._doc=e}return Object(s.a)(t,[{key:"addGlobalEventListener",value:function(t,e,n){var i=Object(l.u)().getGlobalEventTarget(this._doc,t);if(!i)throw new Error("Unsupported event target ".concat(i," for event ").concat(e));return this.addEventListener(i,e,n)}}]),t}(),S=function(){function t(){Object(o.a)(this,t),this._stylesSet=new Set}return Object(s.a)(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach((function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}();S.\u0275fac=function(t){return new(t||S)},S.\u0275prov=h.Wb({token:S,factory:S.\u0275fac});var C=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t){var i;return Object(o.a)(this,n),(i=e.call(this))._doc=t,i._hostNodes=new Set,i._styleNodes=new Set,i._hostNodes.add(t.head),i}return Object(s.a)(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach((function(t){var i=n._doc.createElement("style");i.textContent=t,n._styleNodes.add(e.appendChild(i))}))}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach((function(n){return e._addStylesToHost(t,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(t){return Object(l.u)().remove(t)}))}}]),n}(S);C.\u0275fac=function(t){return new(t||C)(h.jc(l.d))},C.\u0275prov=h.Wb({token:C,factory:C.\u0275fac}),C.ctorParameters=function(){return[{type:void 0,decorators:[{type:h.y,args:[l.d]}]}]};var A={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},M=/%COMP%/g,T="%COMP%",E="_nghost-".concat(T),P="_ngcontent-".concat(T);function D(t,e,n){for(var i=0;i<e.length;i++){var r=e[i];Array.isArray(r)?D(t,r,n):(r=r.replace(M,t),n.push(r))}return n}function j(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var R=function(){function t(e,n,i){Object(o.a)(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new I(e)}return Object(s.a)(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case h.gb.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new L(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case h.gb.Native:case h.gb.ShadowDom:return new N(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var i=D(e.id,e.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}();R.\u0275fac=function(t){return new(t||R)(h.jc(k),h.jc(C),h.jc(h.c))},R.\u0275prov=h.Wb({token:R,factory:R.\u0275fac}),R.ctorParameters=function(){return[{type:k},{type:C},{type:String,decorators:[{type:h.y,args:[h.c]}]}]};var I=function(){function t(e){Object(o.a)(this,t),this.eventManager=e,this.data=Object.create(null)}return Object(s.a)(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(A[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,i){if(i){e=i+":"+e;var r=A[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var i=A[n];i?t.removeAttributeNS(i,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,i){i&h.U.DashCase?t.style.setProperty(e,n,i&h.U.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&h.U.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,j(n)):this.eventManager.addEventListener(t,e,j(n))}}]),t}();"@".charCodeAt(0);var L=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t,i,r,a){var s;Object(o.a)(this,n),(s=e.call(this,t)).component=r;var c,u=D(a+"-"+r.id,r.styles,[]);return i.addStyles(u),s.contentAttr=(c=a+"-"+r.id,P.replace(M,c)),s.hostAttr=function(t){return E.replace(M,t)}(a+"-"+r.id),s}return Object(s.a)(n,[{key:"applyToHost",value:function(t){Object(r.a)(Object(a.a)(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var i=Object(r.a)(Object(a.a)(n.prototype),"createElement",this).call(this,t,e);return Object(r.a)(Object(a.a)(n.prototype),"setAttribute",this).call(this,i,this.contentAttr,""),i}}]),n}(I),N=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t,i,r,a){var s;Object(o.a)(this,n),(s=e.call(this,t)).sharedStylesHost=i,s.hostEl=r,s.component=a,a.encapsulation===h.gb.ShadowDom?s.shadowRoot=r.attachShadow({mode:"open"}):s.shadowRoot=r.createShadowRoot(),s.sharedStylesHost.addHost(s.shadowRoot);for(var c=D(a.id,a.styles,[]),u=0;u<c.length;u++){var l=document.createElement("style");l.textContent=c[u],s.shadowRoot.appendChild(l)}return s}return Object(s.a)(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return Object(r.a)(Object(a.a)(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,i){return Object(r.a)(Object(a.a)(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,i)}},{key:"removeChild",value:function(t,e){return Object(r.a)(Object(a.a)(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(Object(r.a)(Object(a.a)(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(I),F=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t){return Object(o.a)(this,n),e.call(this,t)}return Object(s.a)(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var i=this;return t.addEventListener(e,n,!1),function(){return i.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(O);F.\u0275fac=function(t){return new(t||F)(h.jc(l.d))},F.\u0275prov=h.Wb({token:F,factory:F.\u0275fac}),F.ctorParameters=function(){return[{type:void 0,decorators:[{type:h.y,args:[l.d]}]}]};var B={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},z=new h.A("HammerGestureConfig"),U=new h.A("HammerLoader"),H=function(){function t(){Object(o.a)(this,t),this.events=[],this.overrides={}}return Object(s.a)(t,[{key:"buildHammer",value:function(t){var e=new Hammer(t,this.options);for(var n in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(n).set(this.overrides[n]);return e}}]),t}();H.\u0275fac=function(t){return new(t||H)},H.\u0275prov=h.Wb({token:H,factory:H.\u0275fac});var V=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t,i,r,a){var s;return Object(o.a)(this,n),(s=e.call(this,t))._config=i,s.console=r,s.loader=a,s}return Object(s.a)(n,[{key:"supports",value:function(t){return!(!B.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t))&&(!(!window.Hammer&&!this.loader)||(this.console.warn('The "'.concat(t,'" event cannot be bound because Hammer.JS is not ')+"loaded and no custom loader has been specified."),!1))}},{key:"addEventListener",value:function(t,e,n){var i=this,r=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){var a=!1,o=function(){a=!0};return this.loader().then((function(){if(!window.Hammer)return i.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(o=function(){});a||(o=i.addEventListener(t,e,n))})).catch((function(){i.console.warn('The "'.concat(e,'" event cannot be bound because the custom ')+"Hammer.JS loader failed."),o=function(){}})),function(){o()}}return r.runOutsideAngular((function(){var a=i._config.buildHammer(t),o=function(t){r.runGuarded((function(){n(t)}))};return a.on(e,o),function(){a.off(e,o),"function"==typeof a.destroy&&a.destroy()}}))}},{key:"isCustomEvent",value:function(t){return this._config.events.indexOf(t)>-1}}]),n}(O);V.\u0275fac=function(t){return new(t||V)(h.jc(l.d),h.jc(z),h.jc(h.ob),h.jc(U,8))},V.\u0275prov=h.Wb({token:V,factory:V.\u0275fac}),V.ctorParameters=function(){return[{type:void 0,decorators:[{type:h.y,args:[l.d]}]},{type:H,decorators:[{type:h.y,args:[z]}]},{type:h.ob},{type:void 0,decorators:[{type:h.M},{type:h.y,args:[U]}]}]};var G=[{provide:x,useClass:V,multi:!0,deps:[l.d,z,h.ob,[new h.M,U]]},{provide:z,useClass:H,deps:[]}],W=[],X=function t(){Object(o.a)(this,t)};X.\u0275mod=h.Yb({type:X}),X.\u0275inj=h.Xb({factory:function(t){return new(t||X)},providers:G});var q=["alt","control","meta","shift"],Y={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Q={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},K={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Z=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t){return Object(o.a)(this,n),e.call(this,t)}return Object(s.a)(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,i){var r=n.parseEventName(e),a=n.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return Object(l.u)().onAndCancel(t,r.domEventName,a)}))}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),i=e.shift();if(0===e.length||"keydown"!==i&&"keyup"!==i)return null;var r=n._normalizeKey(e.pop()),a="";if(q.forEach((function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),a+=t+".")})),a+=r,0!=e.length||0===r.length)return null;var o={};return o.domEventName=i,o.fullKey=a,o}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Q.hasOwnProperty(e)&&(e=Q[e]))}return Y[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),q.forEach((function(i){i!=n&&((0,K[i])(t)&&(e+=i+"."))})),e+=n}},{key:"eventCallback",value:function(t,e,i){return function(r){n.getEventFullKey(r)===t&&i.runGuarded((function(){return e(r)}))}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(O);Z.\u0275fac=function(t){return new(t||Z)(h.jc(l.d))},Z.\u0275prov=h.Wb({token:Z,factory:Z.\u0275fac}),Z.ctorParameters=function(){return[{type:void 0,decorators:[{type:h.y,args:[l.d]}]}]};var J=function t(){Object(o.a)(this,t)};function $(t){return new tt(t.get(l.d))}J.\u0275fac=function(t){return new(t||J)},J.\u0275prov=Object(h.Wb)({factory:function(){return Object(h.jc)(tt)},token:J,providedIn:"root"});var tt=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t){var i;return Object(o.a)(this,n),(i=e.call(this))._doc=t,i}return Object(s.a)(n,[{key:"sanitize",value:function(t,e){if(null==e)return null;switch(t){case h.W.NONE:return e;case h.W.HTML:return Object(h.tb)(e,"HTML")?Object(h.Mb)(e):Object(h.rb)(this._doc,String(e));case h.W.STYLE:return Object(h.tb)(e,"Style")?Object(h.Mb)(e):e;case h.W.SCRIPT:if(Object(h.tb)(e,"Script"))return Object(h.Mb)(e);throw new Error("unsafe value used in a script context");case h.W.URL:Object(h.Db)(e);return Object(h.tb)(e,"URL")?Object(h.Mb)(e):Object(h.sb)(String(e));case h.W.RESOURCE_URL:if(Object(h.tb)(e,"ResourceURL"))return Object(h.Mb)(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(t," (see http://g.co/ng/security#xss)"))}}},{key:"bypassSecurityTrustHtml",value:function(t){return Object(h.ub)(t)}},{key:"bypassSecurityTrustStyle",value:function(t){return Object(h.xb)(t)}},{key:"bypassSecurityTrustScript",value:function(t){return Object(h.wb)(t)}},{key:"bypassSecurityTrustUrl",value:function(t){return Object(h.yb)(t)}},{key:"bypassSecurityTrustResourceUrl",value:function(t){return Object(h.vb)(t)}}]),n}(J);tt.\u0275fac=function(t){return new(t||tt)(h.jc(l.d))},tt.\u0275prov=Object(h.Wb)({factory:function(){return $(Object(h.jc)(h.x))},token:tt,providedIn:"root"}),tt.ctorParameters=function(){return[{type:void 0,decorators:[{type:h.y,args:[l.d]}]}]};var et=l.t,nt=[{provide:h.O,useValue:et},{provide:h.P,useValue:function(){f.makeCurrent(),g.init()},multi:!0},{provide:l.d,useFactory:function(){return Object(h.Kb)(document),document},deps:[]}],it=(h.V,l.d,[]),rt=Object(h.hb)(h.mb,"browser",nt),at=[it,{provide:h.pb,useValue:"root"},{provide:h.s,useFactory:function(){return new h.s},deps:[]},{provide:x,useClass:F,multi:!0,deps:[l.d,h.L,h.O]},{provide:x,useClass:Z,multi:!0,deps:[l.d]},W,{provide:R,useClass:R,deps:[k,C,h.c]},{provide:h.T,useExisting:R},{provide:S,useExisting:C},{provide:C,useClass:C,deps:[l.d]},{provide:h.bb,useClass:h.bb,deps:[h.L]},{provide:k,useClass:k,deps:[x,h.L]},w],ot=function(){function t(e){if(Object(o.a)(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return Object(s.a)(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:h.c,useValue:e.appId},{provide:v,useExisting:h.c},m]}}}]),t}();function st(){return new ct(Object(h.jc)(l.d))}ot.\u0275mod=h.Yb({type:ot}),ot.\u0275inj=h.Xb({factory:function(t){return new(t||ot)(h.jc(ot,12))},providers:at,imports:[l.c,h.f]}),ot.ctorParameters=function(){return[{type:ot,decorators:[{type:h.M},{type:h.Y},{type:h.y,args:[ot]}]}]};var ct=function(){function t(e){Object(o.a)(this,t),this._doc=e,this._dom=Object(l.u)()}return Object(s.a)(t,[{key:"addTag",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?this._getOrCreateElement(t,e):null}},{key:"addTags",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?t.reduce((function(t,i){return i&&t.push(e._getOrCreateElement(i,n)),t}),[]):[]}},{key:"getTag",value:function(t){return t&&this._doc.querySelector("meta[".concat(t,"]"))||null}},{key:"getTags",value:function(t){if(!t)return[];var e=this._doc.querySelectorAll("meta[".concat(t,"]"));return e?[].slice.call(e):[]}},{key:"updateTag",value:function(t,e){if(!t)return null;e=e||this._parseSelector(t);var n=this.getTag(e);return n?this._setMetaElementAttributes(t,n):this._getOrCreateElement(t,!0)}},{key:"removeTag",value:function(t){this.removeTagElement(this.getTag(t))}},{key:"removeTagElement",value:function(t){t&&this._dom.remove(t)}},{key:"_getOrCreateElement",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e){var n=this._parseSelector(t),i=this.getTag(n);if(i&&this._containsAttributes(t,i))return i}var r=this._dom.createElement("meta");this._setMetaElementAttributes(t,r);var a=this._doc.getElementsByTagName("head")[0];return a.appendChild(r),r}},{key:"_setMetaElementAttributes",value:function(t,e){return Object.keys(t).forEach((function(n){return e.setAttribute(n,t[n])})),e}},{key:"_parseSelector",value:function(t){var e=t.name?"name":"property";return"".concat(e,'="').concat(t[e],'"')}},{key:"_containsAttributes",value:function(t,e){return Object.keys(t).every((function(n){return e.getAttribute(n)===t[n]}))}}]),t}();function ut(){return new lt(Object(h.jc)(l.d))}ct.\u0275fac=function(t){return new(t||ct)(h.jc(l.d))},ct.\u0275prov=Object(h.Wb)({factory:st,token:ct,providedIn:"root"}),ct.ctorParameters=function(){return[{type:void 0,decorators:[{type:h.y,args:[l.d]}]}]};var lt=function(){function t(e){Object(o.a)(this,t),this._doc=e}return Object(s.a)(t,[{key:"getTitle",value:function(){return this._doc.title}},{key:"setTitle",value:function(t){this._doc.title=t||""}}]),t}();lt.\u0275fac=function(t){return new(t||lt)(h.jc(l.d))},lt.\u0275prov=Object(h.Wb)({factory:ut,token:lt,providedIn:"root"}),lt.ctorParameters=function(){return[{type:void 0,decorators:[{type:h.y,args:[l.d]}]}]};"undefined"!=typeof window&&window;var ht=function(){function t(){Object(o.a)(this,t),this.store={},this.onSerializeCallbacks={}}return Object(s.a)(t,[{key:"get",value:function(t,e){return void 0!==this.store[t]?this.store[t]:e}},{key:"set",value:function(t,e){this.store[t]=e}},{key:"remove",value:function(t){delete this.store[t]}},{key:"hasKey",value:function(t){return this.store.hasOwnProperty(t)}},{key:"onSerialize",value:function(t,e){this.onSerializeCallbacks[t]=e}},{key:"toJson",value:function(){for(var t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(e){console.warn("Exception in onSerialize callback: ",e)}return JSON.stringify(this.store)}}],[{key:"init",value:function(e){var n=new t;return n.store=e,n}}]),t}();function dt(t,e){var n,i,r=t.getElementById(e+"-state"),a={};if(r&&r.textContent)try{a=JSON.parse((n=r.textContent,i={"&a;":"&","&q;":'"',"&s;":"'","&l;":"<","&g;":">"},n.replace(/&[^;]+;/g,(function(t){return i[t]}))))}catch(o){console.warn("Exception while restoring TransferState for app "+e,o)}return ht.init(a)}ht.\u0275fac=function(t){return new(t||ht)},ht.\u0275prov=h.Wb({token:ht,factory:ht.\u0275fac});var ft=function t(){Object(o.a)(this,t)};ft.\u0275mod=h.Yb({type:ft}),ft.\u0275inj=h.Xb({factory:function(t){return new(t||ft)},providers:[{provide:ht,useFactory:dt,deps:[l.d,h.c]}]});new h.db("10.2.0")},jrfk:function(t,e){var n,i,r,a,o,s,c,u,l,h,d,f,p,v,m,g=!1;function y(){if(!g){g=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),y=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(f=/\b(iPhone|iP[ao]d)/.exec(t),p=/\b(iP[ao]d)/.exec(t),h=/Android/i.exec(t),v=/FBAN\/\w+;/i.exec(t),m=/Mobile/i.exec(t),d=!!/Win64/.exec(t),e){(n=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN)&&document&&document.documentMode&&(n=document.documentMode);var b=/(?:Trident\/(\d+.\d+))/.exec(t);s=b?parseFloat(b[1])+4:n,i=e[2]?parseFloat(e[2]):NaN,r=e[3]?parseFloat(e[3]):NaN,(a=e[4]?parseFloat(e[4]):NaN)?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),o=e&&e[1]?parseFloat(e[1]):NaN):o=NaN}else n=i=r=o=a=NaN;if(y){if(y[1]){var _=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);c=!_||parseFloat(_[1].replace("_","."))}else c=!1;u=!!y[2],l=!!y[3]}else c=u=l=!1}}var b={ie:function(){return y()||n},ieCompatibilityMode:function(){return y()||s>n},ie64:function(){return b.ie()&&d},firefox:function(){return y()||i},opera:function(){return y()||r},webkit:function(){return y()||a},safari:function(){return b.webkit()},chrome:function(){return y()||o},windows:function(){return y()||u},osx:function(){return y()||c},linux:function(){return y()||l},iphone:function(){return y()||f},mobile:function(){return y()||f||p||h||m},nativeApp:function(){return y()||v},android:function(){return y()||h},ipad:function(){return y()||p}};t.exports=b},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i="function"==typeof Symbol&&Symbol.observable||"@@observable"},kmnG:function(t,e,n){"use strict";n.d(e,"a",(function(){return nt})),n.d(e,"b",(function(){return U})),n.d(e,"c",(function(){return it})),n.d(e,"d",(function(){return V})),n.d(e,"e",(function(){return rt}));var i=n("KQm4"),r=n("vuIU"),a=n("Ji7U"),o=n("LK+K"),s=n("1OyB"),c=n("GU7r"),u=n("ofXK"),l=n("fXoL"),h=n("FKr1"),d=n("cH1L"),f=n("8LU1"),p=n("XNiG"),v=n("VRyK"),m=n("xgIS"),g=n("JX91"),y=n("1G5W"),b=n("IzEk"),_=n("R0Ic"),w=n("nLfN"),x=n("R1ws"),k=["underline"],O=["connectionContainer"],S=["inputContainer"],C=["label"];function A(t,e){1&t&&(l.dc(0),l.fc(1,"div",14),l.bc(2,"div",15),l.bc(3,"div",16),l.bc(4,"div",17),l.ec(),l.fc(5,"div",18),l.bc(6,"div",15),l.bc(7,"div",16),l.bc(8,"div",17),l.ec(),l.cc())}function M(t,e){1&t&&(l.fc(0,"div",19),l.tc(1,1),l.ec())}function T(t,e){if(1&t&&(l.dc(0),l.tc(1,2),l.fc(2,"span"),l.Mc(3),l.ec(),l.cc()),2&t){var n=l.qc(2);l.Qb(3),l.Nc(n._control.placeholder)}}function E(t,e){1&t&&l.tc(0,3,["*ngSwitchCase","true"])}function P(t,e){1&t&&(l.fc(0,"span",23),l.Mc(1," *"),l.ec())}function D(t,e){if(1&t){var n=l.gc();l.fc(0,"label",20,21),l.mc("cdkObserveContent",(function(){return l.Dc(n),l.qc().updateOutlineGap()})),l.Lc(2,T,4,1,"ng-container",12),l.Lc(3,E,1,0,"ng-content",12),l.Lc(4,P,2,0,"span",22),l.ec()}if(2&t){var i=l.qc();l.Sb("mat-empty",i._control.empty&&!i._shouldAlwaysFloat())("mat-form-field-empty",i._control.empty&&!i._shouldAlwaysFloat())("mat-accent","accent"==i.color)("mat-warn","warn"==i.color),l.vc("cdkObserveContentDisabled","outline"!=i.appearance)("id",i._labelId)("ngSwitch",i._hasLabel()),l.Rb("for",i._control.id)("aria-owns",i._control.id),l.Qb(2),l.vc("ngSwitchCase",!1),l.Qb(1),l.vc("ngSwitchCase",!0),l.Qb(1),l.vc("ngIf",!i.hideRequiredMarker&&i._control.required&&!i._control.disabled)}}function j(t,e){1&t&&(l.fc(0,"div",24),l.tc(1,4),l.ec())}function R(t,e){if(1&t&&(l.fc(0,"div",25,26),l.bc(2,"span",27),l.ec()),2&t){var n=l.qc();l.Qb(2),l.Sb("mat-accent","accent"==n.color)("mat-warn","warn"==n.color)}}function I(t,e){if(1&t&&(l.fc(0,"div"),l.tc(1,5),l.ec()),2&t){var n=l.qc();l.vc("@transitionMessages",n._subscriptAnimationState)}}function L(t,e){if(1&t&&(l.fc(0,"div",31),l.Mc(1),l.ec()),2&t){var n=l.qc(2);l.vc("id",n._hintLabelId),l.Qb(1),l.Nc(n.hintLabel)}}function N(t,e){if(1&t&&(l.fc(0,"div",28),l.Lc(1,L,2,2,"div",29),l.tc(2,6),l.bc(3,"div",30),l.tc(4,7),l.ec()),2&t){var n=l.qc();l.vc("@transitionMessages",n._subscriptAnimationState),l.Qb(1),l.vc("ngIf",n.hintLabel)}}var F=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],B=0,z=new l.A("MatError"),U=function t(){Object(s.a)(this,t),this.id="mat-error-".concat(B++)};U.\u0275fac=function(t){return new(t||U)},U.\u0275dir=l.Vb({type:U,selectors:[["mat-error"]],hostAttrs:["role","alert",1,"mat-error"],hostVars:1,hostBindings:function(t,e){2&t&&l.Rb("id",e.id)},inputs:{id:"id"},features:[l.Pb([{provide:z,useExisting:U}])]}),U.propDecorators={id:[{type:l.C}]};var H={transitionMessages:Object(_.k)("transitionMessages",[Object(_.h)("enter",Object(_.i)({opacity:1,transform:"translateY(0%)"})),Object(_.j)("void => enter",[Object(_.i)({opacity:0,transform:"translateY(-100%)"}),Object(_.e)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},V=function t(){Object(s.a)(this,t)};V.\u0275fac=function(t){return new(t||V)},V.\u0275dir=l.Vb({type:V});var G=0,W=new l.A("MatHint"),X=function t(){Object(s.a)(this,t),this.align="start",this.id="mat-hint-".concat(G++)};X.\u0275fac=function(t){return new(t||X)},X.\u0275dir=l.Vb({type:X,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(t,e){2&t&&(l.Rb("id",e.id)("align",null),l.Sb("mat-form-field-hint-end","end"===e.align))},inputs:{align:"align",id:"id"},features:[l.Pb([{provide:W,useExisting:X}])]}),X.propDecorators={align:[{type:l.C}],id:[{type:l.C}]};var q=function t(){Object(s.a)(this,t)};q.\u0275fac=function(t){return new(t||q)},q.\u0275dir=l.Vb({type:q,selectors:[["mat-label"]]});var Y=function t(){Object(s.a)(this,t)};Y.\u0275fac=function(t){return new(t||Y)},Y.\u0275dir=l.Vb({type:Y,selectors:[["mat-placeholder"]]});var Q=new l.A("MatPrefix"),K=function t(){Object(s.a)(this,t)};K.\u0275fac=function(t){return new(t||K)},K.\u0275dir=l.Vb({type:K,selectors:[["","matPrefix",""]],features:[l.Pb([{provide:Q,useExisting:K}])]});var Z=new l.A("MatSuffix"),J=function t(){Object(s.a)(this,t)};J.\u0275fac=function(t){return new(t||J)},J.\u0275dir=l.Vb({type:J,selectors:[["","matSuffix",""]],features:[l.Pb([{provide:Z,useExisting:J}])]});var $=0,tt=Object(h.h)((function t(e){Object(s.a)(this,t),this._elementRef=e}),"primary"),et=new l.A("MAT_FORM_FIELD_DEFAULT_OPTIONS"),nt=new l.A("MatFormField"),it=function(t){Object(a.a)(n,t);var e=Object(o.a)(n);function n(t,i,r,a,o,c,u,l){var h;return Object(s.a)(this,n),(h=e.call(this,t))._elementRef=t,h._changeDetectorRef=i,h._dir=a,h._defaults=o,h._platform=c,h._ngZone=u,h._outlineGapCalculationNeededImmediately=!1,h._outlineGapCalculationNeededOnStable=!1,h._destroyed=new p.a,h._showAlwaysAnimate=!1,h._subscriptAnimationState="",h._hintLabel="",h._hintLabelId="mat-hint-".concat($++),h._labelId="mat-form-field-label-".concat($++),h._labelOptions=r||{},h.floatLabel=h._getDefaultFloatLabelState(),h._animationsEnabled="NoopAnimations"!==l,h.appearance=o&&o.appearance?o.appearance:"legacy",h._hideRequiredMarker=!(!o||null==o.hideRequiredMarker)&&o.hideRequiredMarker,h}return Object(r.a)(n,[{key:"_shouldAlwaysFloat",value:function(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}},{key:"_canLabelFloat",value:function(){return"never"!==this.floatLabel}},{key:"getLabelId",value:function(){return this._hasFloatingLabel()?this._labelId:null}},{key:"getConnectedOverlayOrigin",value:function(){return this._connectionContainerRef||this._elementRef}},{key:"ngAfterContentInit",value:function(){var t=this;this._validateControlChild();var e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-".concat(e.controlType)),e.stateChanges.pipe(Object(g.a)(null)).subscribe((function(){t._validatePlaceholders(),t._syncDescribedByIds(),t._changeDetectorRef.markForCheck()})),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Object(y.a)(this._destroyed)).subscribe((function(){return t._changeDetectorRef.markForCheck()})),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.pipe(Object(y.a)(t._destroyed)).subscribe((function(){t._outlineGapCalculationNeededOnStable&&t.updateOutlineGap()}))})),Object(v.a)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe((function(){t._outlineGapCalculationNeededOnStable=!0,t._changeDetectorRef.markForCheck()})),this._hintChildren.changes.pipe(Object(g.a)(null)).subscribe((function(){t._processHints(),t._changeDetectorRef.markForCheck()})),this._errorChildren.changes.pipe(Object(g.a)(null)).subscribe((function(){t._syncDescribedByIds(),t._changeDetectorRef.markForCheck()})),this._dir&&this._dir.change.pipe(Object(y.a)(this._destroyed)).subscribe((function(){"function"==typeof requestAnimationFrame?t._ngZone.runOutsideAngular((function(){requestAnimationFrame((function(){return t.updateOutlineGap()}))})):t.updateOutlineGap()}))}},{key:"ngAfterContentChecked",value:function(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}},{key:"ngAfterViewInit",value:function(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete()}},{key:"_shouldForward",value:function(t){var e=this._control?this._control.ngControl:null;return e&&e[t]}},{key:"_hasPlaceholder",value:function(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}},{key:"_hasLabel",value:function(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}},{key:"_shouldLabelFloat",value:function(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}},{key:"_hideControlPlaceholder",value:function(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}},{key:"_hasFloatingLabel",value:function(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}},{key:"_getDisplayedMessages",value:function(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}},{key:"_animateAndLockLabel",value:function(){var t=this;this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Object(m.a)(this._label.nativeElement,"transitionend").pipe(Object(b.a)(1)).subscribe((function(){t._showAlwaysAnimate=!1}))),this.floatLabel="always",this._changeDetectorRef.markForCheck())}},{key:"_validatePlaceholders",value:function(){this._control.placeholder&&this._placeholderChild,0}},{key:"_processHints",value:function(){this._validateHints(),this._syncDescribedByIds()}},{key:"_validateHints",value:function(){this._hintChildren}},{key:"_getDefaultFloatLabelState",value:function(){return this._defaults&&this._defaults.floatLabel||this._labelOptions.float||"auto"}},{key:"_syncDescribedByIds",value:function(){if(this._control){var t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push.apply(t,Object(i.a)(this._control.userAriaDescribedBy.split(" "))),"hint"===this._getDisplayedMessages()){var e=this._hintChildren?this._hintChildren.find((function(t){return"start"===t.align})):null,n=this._hintChildren?this._hintChildren.find((function(t){return"end"===t.align})):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&t.push.apply(t,Object(i.a)(this._errorChildren.map((function(t){return t.id}))));this._control.setDescribedByIds(t)}}},{key:"_validateControlChild",value:function(){this._control,0}},{key:"updateOutlineGap",value:function(){var t=this._label?this._label.nativeElement:null;if("outline"===this.appearance&&t&&t.children.length&&t.textContent.trim()&&this._platform.isBrowser)if(this._isAttachedToDOM()){var e=0,n=0,i=this._connectionContainerRef.nativeElement,r=i.querySelectorAll(".mat-form-field-outline-start"),a=i.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){var o=i.getBoundingClientRect();if(0===o.width&&0===o.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);for(var s=this._getStartEnd(o),c=t.children,u=this._getStartEnd(c[0].getBoundingClientRect()),l=0,h=0;h<c.length;h++)l+=c[h].offsetWidth;e=Math.abs(u-s)-5,n=l>0?.75*l+10:0}for(var d=0;d<r.length;d++)r[d].style.width="".concat(e,"px");for(var f=0;f<a.length;f++)a[f].style.width="".concat(n,"px");this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}else this._outlineGapCalculationNeededImmediately=!0}},{key:"_getStartEnd",value:function(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}},{key:"_isAttachedToDOM",value:function(){var t=this._elementRef.nativeElement;if(t.getRootNode){var e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}},{key:"appearance",get:function(){return this._appearance},set:function(t){var e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}},{key:"hideRequiredMarker",get:function(){return this._hideRequiredMarker},set:function(t){this._hideRequiredMarker=Object(f.b)(t)}},{key:"hintLabel",get:function(){return this._hintLabel},set:function(t){this._hintLabel=t,this._processHints()}},{key:"floatLabel",get:function(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel},set:function(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}},{key:"_control",get:function(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic},set:function(t){this._explicitFormFieldControl=t}}]),n}(tt);it.\u0275fac=function(t){return new(t||it)(l.ac(l.r),l.ac(l.j),l.ac(h.b,8),l.ac(d.b,8),l.ac(et,8),l.ac(w.a),l.ac(l.L),l.ac(x.a,8))},it.\u0275cmp=l.Ub({type:it,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){var i;(1&t&&(l.Tb(n,V,!0),l.Gc(n,V,!0),l.Tb(n,q,!0),l.Gc(n,q,!0),l.Tb(n,Y,!0),l.Tb(n,z,!0),l.Tb(n,W,!0),l.Tb(n,Q,!0),l.Tb(n,Z,!0)),2&t)&&(l.yc(i=l.nc())&&(e._controlNonStatic=i.first),l.yc(i=l.nc())&&(e._controlStatic=i.first),l.yc(i=l.nc())&&(e._labelChildNonStatic=i.first),l.yc(i=l.nc())&&(e._labelChildStatic=i.first),l.yc(i=l.nc())&&(e._placeholderChild=i.first),l.yc(i=l.nc())&&(e._errorChildren=i),l.yc(i=l.nc())&&(e._hintChildren=i),l.yc(i=l.nc())&&(e._prefixChildren=i),l.yc(i=l.nc())&&(e._suffixChildren=i))},viewQuery:function(t,e){var n;(1&t&&(l.Pc(k,!0),l.Hc(O,!0),l.Pc(S,!0),l.Pc(C,!0)),2&t)&&(l.yc(n=l.nc())&&(e.underlineRef=n.first),l.yc(n=l.nc())&&(e._connectionContainerRef=n.first),l.yc(n=l.nc())&&(e._inputContainerRef=n.first),l.yc(n=l.nc())&&(e._label=n.first))},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(t,e){2&t&&l.Sb("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat())("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[l.Pb([{provide:nt,useExisting:it}]),l.Nb],ngContentSelectors:["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(l.uc(F),l.fc(0,"div",0),l.fc(1,"div",1,2),l.mc("click",(function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)})),l.Lc(3,A,9,0,"ng-container",3),l.Lc(4,M,2,0,"div",4),l.fc(5,"div",5,6),l.tc(7),l.fc(8,"span",7),l.Lc(9,D,5,16,"label",8),l.ec(),l.ec(),l.Lc(10,j,2,0,"div",9),l.ec(),l.Lc(11,R,3,4,"div",10),l.fc(12,"div",11),l.Lc(13,I,2,1,"div",12),l.Lc(14,N,5,2,"div",13),l.ec(),l.ec()),2&t&&(l.Qb(3),l.vc("ngIf","outline"==e.appearance),l.Qb(1),l.vc("ngIf",e._prefixChildren.length),l.Qb(5),l.vc("ngIf",e._hasFloatingLabel()),l.Qb(1),l.vc("ngIf",e._suffixChildren.length),l.Qb(1),l.vc("ngIf","outline"!=e.appearance),l.Qb(1),l.vc("ngSwitch",e._getDisplayedMessages()),l.Qb(1),l.vc("ngSwitchCase","error"),l.Qb(1),l.vc("ngSwitchCase","hint"))},directives:[u.k,u.m,u.n,c.a],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[H.transitionMessages]},changeDetection:0}),it.ctorParameters=function(){return[{type:l.r},{type:l.j},{type:void 0,decorators:[{type:l.M},{type:l.y,args:[h.b]}]},{type:d.b,decorators:[{type:l.M}]},{type:void 0,decorators:[{type:l.M},{type:l.y,args:[et]}]},{type:w.a},{type:l.L},{type:String,decorators:[{type:l.M},{type:l.y,args:[x.a]}]}]},it.propDecorators={appearance:[{type:l.C}],hideRequiredMarker:[{type:l.C}],hintLabel:[{type:l.C}],floatLabel:[{type:l.C}],underlineRef:[{type:l.eb,args:["underline"]}],_connectionContainerRef:[{type:l.eb,args:["connectionContainer",{static:!0}]}],_inputContainerRef:[{type:l.eb,args:["inputContainer"]}],_label:[{type:l.eb,args:["label"]}],_controlNonStatic:[{type:l.n,args:[V]}],_controlStatic:[{type:l.n,args:[V,{static:!0}]}],_labelChildNonStatic:[{type:l.n,args:[q]}],_labelChildStatic:[{type:l.n,args:[q,{static:!0}]}],_placeholderChild:[{type:l.n,args:[Y]}],_errorChildren:[{type:l.o,args:[z,{descendants:!0}]}],_hintChildren:[{type:l.o,args:[W,{descendants:!0}]}],_prefixChildren:[{type:l.o,args:[Q,{descendants:!0}]}],_suffixChildren:[{type:l.o,args:[Z,{descendants:!0}]}]};var rt=function t(){Object(s.a)(this,t)};rt.\u0275mod=l.Yb({type:rt}),rt.\u0275inj=l.Xb({factory:function(t){return new(t||rt)},imports:[[u.c,h.c,c.c],h.c]})},lCAa:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var i,r,a,o,s,c,u,l=function(){return"undefined"!=typeof window},h=function(){return i||l()&&(i=window.gsap)&&i.registerPlugin&&i},d=function(t){return"string"==typeof t},f=function(t){return"function"==typeof t},p=function(t,e){var n="x"===e?"Width":"Height",i="scroll"+n,r="client"+n;return t===a||t===o||t===s?Math.max(o[i],s[i])-(a["inner"+n]||o[r]||s[r]):t[i]-t["offset"+n]},v=function(t,e){var n="scroll"+("x"===e?"Left":"Top");return t===a&&(null!=t.pageXOffset?n="page"+e.toUpperCase()+"Offset":t=null!=o[n]?o:s),function(){return t[n]}},m=function(t,e){if(!(t=c(t)[0])||!t.getBoundingClientRect)return console.warn("scrollTo target doesn't exist. Using 0")||{x:0,y:0};var n=t.getBoundingClientRect(),i=!e||e===a||e===s,r=i?{top:o.clientTop-(a.pageYOffset||o.scrollTop||s.scrollTop||0),left:o.clientLeft-(a.pageXOffset||o.scrollLeft||s.scrollLeft||0)}:e.getBoundingClientRect(),u={x:n.left-r.left,y:n.top-r.top};return!i&&e&&(u.x+=v(e,"x")(),u.y+=v(e,"y")()),u},g=function(t,e,n,i,r){return isNaN(t)||"object"==typeof t?d(t)&&"="===t.charAt(1)?parseFloat(t.substr(2))*("-"===t.charAt(0)?-1:1)+i-r:"max"===t?p(e,n)-r:Math.min(p(e,n),m(t,e)[n]-r):parseFloat(t)-r},y=function(){i=h(),l()&&i&&document.body&&(a=window,s=document.body,o=document.documentElement,c=i.utils.toArray,i.config({autoKillThreshold:7}),u=i.config(),r=1)},b={version:"3.6.0",name:"scrollTo",rawVars:1,register:function(t){i=t,y()},init:function(t,e,n,i,o){r||y();var s=this;s.isWin=t===a,s.target=t,s.tween=n,e=function(t,e,n,i){if(f(t)&&(t=t(e,n,i)),"object"!=typeof t)return d(t)&&"max"!==t&&"="!==t.charAt(1)?{x:t,y:t}:{y:t};if(t.nodeType)return{y:t,x:t};var r,a={};for(r in t)"onAutoKill"!==r&&(a[r]=f(t[r])?t[r](e,n,i):t[r]);return a}(e,i,t,o),s.vars=e,s.autoKill=!!e.autoKill,s.getX=v(t,"x"),s.getY=v(t,"y"),s.x=s.xPrev=s.getX(),s.y=s.yPrev=s.getY(),null!=e.x?(s.add(s,"x",s.x,g(e.x,t,"x",s.x,e.offsetX||0),i,o,Math.round),s._props.push("scrollTo_x")):s.skipX=1,null!=e.y?(s.add(s,"y",s.y,g(e.y,t,"y",s.y,e.offsetY||0),i,o,Math.round),s._props.push("scrollTo_y")):s.skipY=1},render:function(t,e){for(var n,i,r,o,s,c=e._pt,l=e.target,h=e.tween,d=e.autoKill,f=e.xPrev,v=e.yPrev,m=e.isWin;c;)c.r(t,c.d),c=c._next;n=m||!e.skipX?e.getX():f,r=(i=m||!e.skipY?e.getY():v)-v,o=n-f,s=u.autoKillThreshold,e.x<0&&(e.x=0),e.y<0&&(e.y=0),d&&(!e.skipX&&(o>s||o<-s)&&n<p(l,"x")&&(e.skipX=1),!e.skipY&&(r>s||r<-s)&&i<p(l,"y")&&(e.skipY=1),e.skipX&&e.skipY&&(h.kill(),e.vars.onAutoKill&&e.vars.onAutoKill.apply(h,e.vars.onAutoKillParams||[]))),m?a.scrollTo(e.skipX?n:e.x,e.skipY?i:e.y):(e.skipY||(l.scrollTop=e.y),e.skipX||(l.scrollLeft=e.x)),e.xPrev=e.x,e.yPrev=e.y},kill:function(t){var e="scrollTo"===t;(e||"scrollTo_x"===t)&&(this.skipX=1),(e||"scrollTo_y"===t)&&(this.skipY=1)}};b.max=p,b.getOffset=m,b.buildGetter=v,h()&&i.registerPlugin(b)},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n("JX7q"),r=n("Ji7U"),a=n("LK+K"),o=n("1OyB"),s=n("vuIU"),c=n("7o/Q");function u(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new l(t,e))}}var l=function(){function t(e,n){Object(o.a)(this,t),this.project=e,this.thisArg=n}return Object(s.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new h(t,this.project,this.thisArg))}}]),t}(),h=function(t){Object(r.a)(n,t);var e=Object(a.a)(n);function n(t,r,a){var s;return Object(o.a)(this,n),(s=e.call(this,t)).project=r,s.count=0,s.thisArg=a||Object(i.a)(s),s}return Object(s.a)(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(c.a)},ls82:function(t,e,n){var i=function(t){"use strict";var e,n=Object.prototype,i=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(P){c=function(t,e,n){return t[e]=n}}function u(t,e,n,i){var r=e&&e.prototype instanceof m?e:m,a=Object.create(r.prototype),o=new M(i||[]);return a._invoke=function(t,e,n){var i=h;return function(r,a){if(i===f)throw new Error("Generator is already running");if(i===p){if("throw"===r)throw a;return E()}for(n.method=r,n.arg=a;;){var o=n.delegate;if(o){var s=S(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=f;var c=l(t,e,n);if("normal"===c.type){if(i=n.done?p:d,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=p,n.method="throw",n.arg=c.arg)}}}(t,n,o),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(P){return{type:"throw",arg:P}}}t.wrap=u;var h="suspendedStart",d="suspendedYield",f="executing",p="completed",v={};function m(){}function g(){}function y(){}var b={};b[a]=function(){return this};var _=Object.getPrototypeOf,w=_&&_(_(T([])));w&&w!==n&&i.call(w,a)&&(b=w);var x=y.prototype=m.prototype=Object.create(b);function k(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){var n;this._invoke=function(r,a){function o(){return new e((function(n,o){!function n(r,a,o,s){var c=l(t[r],t,a);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==typeof h&&i.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(h).then((function(t){u.value=t,o(u)}),(function(t){return n("throw",t,o,s)}))}s(c.arg)}(r,a,n,o)}))}return n=n?n.then(o,o):o()}}function S(t,n){var i=t.iterator[n.method];if(i===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var r=l(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,v;var a=r.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function T(t){if(t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}return{next:E}}function E(){return{value:e,done:!0}}return g.prototype=x.constructor=y,y.constructor=g,g.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,s,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},k(O.prototype),O.prototype[o]=function(){return this},t.AsyncIterator=O,t.async=function(e,n,i,r,a){void 0===a&&(a=Promise);var o=new O(u(e,n,i,r),a);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},k(x),c(x,s,"Generator"),x[a]=function(){return this},x.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=T,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=i.call(o,"catchLoc"),u=i.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:T(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=i}catch(r){Function("r","regeneratorRuntime = r")(i)}},md7G:function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.d(e,"a",(function(){return a}));var r=n("JX7q");function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?Object(r.a)(t):e}},mrSG:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return a})),n.d(e,"e",(function(){return o})),n.d(e,"a",(function(){return s})),n.d(e,"d",(function(){return c}));var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function a(t,e,n,i){var r,a=arguments.length,o=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(o=(a<3?r(o):a>3?r(e,n,o):r(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o}function o(t,e){return function(n,i){e(n,i,t)}}function s(t,e,n,i){return new(n||(n=Promise))((function(r,a){function o(t){try{c(i.next(t))}catch(e){a(e)}}function s(t){try{c(i.throw(t))}catch(e){a(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}c((i=i.apply(t,e||[])).next())}))}function c(t,e){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(s){a=[6,s],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}Object.create;Object.create},n6bG:function(t,e,n){"use strict";function i(t){return"function"==typeof t}n.d(e,"a",(function(){return i}))},nLfN:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return b})),n.d(e,"d",(function(){return y})),n.d(e,"e",(function(){return v})),n.d(e,"f",(function(){return m})),n.d(e,"g",(function(){return g}));var i,r=n("1OyB"),a=n("fXoL"),o=n("ofXK");try{i="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(_){i=!1}var s=function t(e){Object(r.a)(this,t),this._platformId=e,this.isBrowser=this._platformId?Object(o.r)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!i)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT};s.\u0275fac=function(t){return new(t||s)(a.jc(a.O))},s.\u0275prov=Object(a.Wb)({factory:function(){return new s(Object(a.jc)(a.O))},token:s,providedIn:"root"}),s.ctorParameters=function(){return[{type:Object,decorators:[{type:a.y,args:[a.O]}]}]};var c,u=function t(){Object(r.a)(this,t)};u.\u0275mod=a.Yb({type:u}),u.\u0275inj=a.Xb({factory:function(t){return new(t||u)}});var l,h,d,f,p=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function v(){if(c)return c;if("object"!=typeof document||!document)return c=new Set(p);var t=document.createElement("input");return c=new Set(p.filter((function(e){return t.setAttribute("type",e),t.type===e})))}function m(t){return function(){if(null==l&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return l=!0}}))}finally{l=l||!1}return l}()?t:!!t.capture}function g(){if(null==d)if("object"==typeof document&&document||(d=!1),"scrollBehavior"in document.documentElement.style)d=!0;else{var t=Element.prototype.scrollTo;d=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}return d}function y(){if("object"!=typeof document||!document)return 0;if(null==h){var t=document.createElement("div"),e=t.style;t.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";var n=document.createElement("div"),i=n.style;i.width="2px",i.height="1px",t.appendChild(n),document.body.appendChild(t),h=0,0===t.scrollLeft&&(t.scrollLeft=1,h=0===t.scrollLeft?1:2),t.parentNode.removeChild(t)}return h}function b(t){if(function(){if(null==f){var t="undefined"!=typeof document?document.head:null;f=!(!t||!t.createShadowRoot&&!t.attachShadow)}return f}()){var e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}},nOaX:function(t,e,n){"use strict";n.d(e,"a",(function(){return yt})),n.d(e,"b",(function(){return yt}));var i,r,a,o,s,c,u,l,h=n("pc+1"),d={},f=180/Math.PI,p=Math.PI/180,v=Math.atan2,m=/([A-Z])/g,g=/(?:left|right|width|margin|padding|x)/i,y=/[\s,\(]\S/,b={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},_=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},w=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},x=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},k=function(t,e){var n=e.s+e.c*t;e.set(e.t,e.p,~~(n+(n<0?-.5:.5))+e.u,e)},O=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},S=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},C=function(t,e,n){return t.style[e]=n},A=function(t,e,n){return t.style.setProperty(e,n)},M=function(t,e,n){return t._gsap[e]=n},T=function(t,e,n){return t._gsap.scaleX=t._gsap.scaleY=n},E=function(t,e,n,i,r){var a=t._gsap;a.scaleX=a.scaleY=n,a.renderTransform(r,a)},P=function(t,e,n,i,r){var a=t._gsap;a[e]=n,a.renderTransform(r,a)},D="transform",j=D+"Origin",R=function(t,e){var n=r.createElementNS?r.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):r.createElement(t);return n.style?n:r.createElement(t)},I=function t(e,n,i){var r=getComputedStyle(e);return r[n]||r.getPropertyValue(n.replace(m,"-$1").toLowerCase())||r.getPropertyValue(n)||!i&&t(e,N(n)||n,1)||""},L="O,Moz,ms,Ms,Webkit".split(","),N=function(t,e,n){var i=(e||s).style,r=5;if(t in i&&!n)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);r--&&!(L[r]+t in i););return r<0?null:(3===r?"ms":r>=0?L[r]:"")+t},F=function(){"undefined"!=typeof window&&window.document&&(i=window,r=i.document,a=r.documentElement,s=R("div")||{style:{}},c=R("div"),D=N(D),j=D+"Origin",s.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",l=!!N("perspective"),o=1)},B=function t(e){var n,i=R("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,o=this.nextSibling,s=this.style.cssText;if(a.appendChild(i),i.appendChild(this),this.style.display="block",e)try{n=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch(c){}else this._gsapBBox&&(n=this._gsapBBox());return r&&(o?r.insertBefore(this,o):r.appendChild(this)),a.removeChild(i),this.style.cssText=s,n},z=function(t,e){for(var n=e.length;n--;)if(t.hasAttribute(e[n]))return t.getAttribute(e[n])},U=function(t){var e;try{e=t.getBBox()}catch(n){e=B.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===B||(e=B.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+z(t,["x","cx","x1"])||0,y:+z(t,["y","cy","y1"])||0,width:0,height:0}},H=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!U(t))},V=function(t,e){if(e){var n=t.style;e in d&&e!==j&&(e=D),n.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),n.removeProperty(e.replace(m,"-$1").toLowerCase())):n.removeAttribute(e)}},G=function(t,e,n,i,r,a){var o=new h.e(t._pt,e,n,0,1,a?S:O);return t._pt=o,o.b=i,o.e=r,t._props.push(n),o},W={deg:1,rad:1,turn:1},X=function t(e,n,i,a){var o,c,u,l,f=parseFloat(i)||0,p=(i+"").trim().substr((f+"").length)||"px",v=s.style,m=g.test(n),y="svg"===e.tagName.toLowerCase(),b=(y?"client":"offset")+(m?"Width":"Height"),_=100,w="px"===a,x="%"===a;return a===p||!f||W[a]||W[p]?f:("px"!==p&&!w&&(f=t(e,n,i,"px")),l=e.getCTM&&H(e),!x&&"%"!==p||!d[n]&&!~n.indexOf("adius")?(v[m?"width":"height"]=_+(w?p:a),c=~n.indexOf("adius")||"em"===a&&e.appendChild&&!y?e:e.parentNode,l&&(c=(e.ownerSVGElement||{}).parentNode),c&&c!==r&&c.appendChild||(c=r.body),(u=c._gsap)&&x&&u.width&&m&&u.time===h.x.time?Object(h.v)(f/u.width*_):((x||"%"===p)&&(v.position=I(e,"position")),c===e&&(v.position="static"),c.appendChild(s),o=s[b],c.removeChild(s),v.position="absolute",m&&x&&((u=Object(h.j)(c)).time=h.x.time,u.width=c[b]),Object(h.v)(w?o*f/_:o&&f?_/o*f:0))):(o=l?e.getBBox()[m?"width":"height"]:e[b],Object(h.v)(x?f/o*_:f/100*o)))},q=function(t,e,n,i){var r;return o||F(),e in b&&"transform"!==e&&~(e=b[e]).indexOf(",")&&(e=e.split(",")[0]),d[e]&&"transform"!==e?(r=rt(t,i),r="transformOrigin"!==e?r[e]:at(I(t,j))+" "+r.zOrigin+"px"):(!(r=t.style[e])||"auto"===r||i||~(r+"").indexOf("calc("))&&(r=Z[e]&&Z[e](t,e,n)||I(t,e)||Object(h.k)(t,e)||("opacity"===e?1:0)),n&&!~(r+"").trim().indexOf(" ")?X(t,e,r,n)+n:r},Y=function(t,e,n,i){if(!n||"none"===n){var r=N(e,t,1),a=r&&I(t,r,1);a&&a!==n?(e=r,n=a):"borderColor"===e&&(n=I(t,"borderTopColor"))}var o,s,c,u,l,d,f,p,v,m,g,y,b=new h.e(this._pt,t.style,e,0,1,h.t),_=0,w=0;if(b.b=n,b.e=i,n+="","auto"===(i+="")&&(t.style[e]=i,i=I(t,e)||i,t.style[e]=n),o=[n,i],Object(h.g)(o),n=o[0],i=o[1],c=n.match(h.q)||[],(i.match(h.q)||[]).length){for(;s=h.q.exec(i);)f=s[0],v=i.substring(_,s.index),l?l=(l+1)%5:"rgba("!==v.substr(-5)&&"hsla("!==v.substr(-5)||(l=1),f!==(d=c[w++]||"")&&(u=parseFloat(d)||0,g=d.substr((u+"").length),(y="="===f.charAt(1)?+(f.charAt(0)+"1"):0)&&(f=f.substr(2)),p=parseFloat(f),m=f.substr((p+"").length),_=h.q.lastIndex-m.length,m||(m=m||h.h.units[e]||g,_===i.length&&(i+=m,b.e+=m)),g!==m&&(u=X(t,e,d,m)||0),b._pt={_next:b._pt,p:v||1===w?v:",",s:u,c:y?y*p:p-u,m:l&&l<4||"zIndex"===e?Math.round:0});b.c=_<i.length?i.substring(_,i.length):""}else b.r="display"===e&&"none"===i?S:O;return h.s.test(i)&&(b.e=0),this._pt=b,b},Q={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},K=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var n,i,r,a=e.t,o=a.style,s=e.u,c=a._gsap;if("all"===s||!0===s)o.cssText="",i=1;else for(r=(s=s.split(",")).length;--r>-1;)n=s[r],d[n]&&(i=1,n="transformOrigin"===n?j:D),V(a,n);i&&(V(a,D),c&&(c.svg&&a.removeAttribute("transform"),rt(a,1),c.uncache=1))}},Z={clearProps:function(t,e,n,i,r){if("isFromStart"!==r.data){var a=t._pt=new h.e(t._pt,e,n,0,0,K);return a.u=i,a.pr=-10,a.tween=r,t._props.push(n),1}}},J=[1,0,0,1,0,0],$={},tt=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},et=function(t){var e=I(t,D);return tt(e)?J:e.substr(7).match(h.p).map(h.v)},nt=function(t,e){var n,i,r,o,s=t._gsap||Object(h.j)(t),c=t.style,u=et(t);return s.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(u=[(r=t.transform.baseVal.consolidate().matrix).a,r.b,r.c,r.d,r.e,r.f]).join(",")?J:u:(u!==J||t.offsetParent||t===a||s.svg||(r=c.display,c.display="block",(n=t.parentNode)&&t.offsetParent||(o=1,i=t.nextSibling,a.appendChild(t)),u=et(t),r?c.display=r:V(t,"display"),o&&(i?n.insertBefore(t,i):n?n.appendChild(t):a.removeChild(t))),e&&u.length>6?[u[0],u[1],u[4],u[5],u[12],u[13]]:u)},it=function(t,e,n,i,r,a){var o,s,c,u=t._gsap,l=r||nt(t,!0),h=u.xOrigin||0,d=u.yOrigin||0,f=u.xOffset||0,p=u.yOffset||0,v=l[0],m=l[1],g=l[2],y=l[3],b=l[4],_=l[5],w=e.split(" "),x=parseFloat(w[0])||0,k=parseFloat(w[1])||0;n?l!==J&&(s=v*y-m*g)&&(c=x*(-m/s)+k*(v/s)-(v*_-m*b)/s,x=x*(y/s)+k*(-g/s)+(g*_-y*b)/s,k=c):(x=(o=U(t)).x+(~w[0].indexOf("%")?x/100*o.width:x),k=o.y+(~(w[1]||w[0]).indexOf("%")?k/100*o.height:k)),i||!1!==i&&u.smooth?(b=x-h,_=k-d,u.xOffset=f+(b*v+_*g)-b,u.yOffset=p+(b*m+_*y)-_):u.xOffset=u.yOffset=0,u.xOrigin=x,u.yOrigin=k,u.smooth=!!i,u.origin=e,u.originIsAbsolute=!!n,t.style[j]="0px 0px",a&&(G(a,u,"xOrigin",h,x),G(a,u,"yOrigin",d,k),G(a,u,"xOffset",f,u.xOffset),G(a,u,"yOffset",p,u.yOffset)),t.setAttribute("data-svg-origin",x+" "+k)},rt=function(t,e){var n=t._gsap||new h.c(t);if("x"in n&&!e&&!n.uncache)return n;var i,r,a,o,s,c,u,d,m,g,y,b,_,w,x,k,O,S,C,A,M,T,E,P,R,L,N,F,B,z,U,V,G=t.style,W=n.scaleX<0,X="px",q="deg",Y=I(t,j)||"0";return i=r=a=c=u=d=m=g=y=0,o=s=1,n.svg=!(!t.getCTM||!H(t)),w=nt(t,n.svg),n.svg&&(P=!n.uncache&&t.getAttribute("data-svg-origin"),it(t,P||Y,!!P||n.originIsAbsolute,!1!==n.smooth,w)),b=n.xOrigin||0,_=n.yOrigin||0,w!==J&&(S=w[0],C=w[1],A=w[2],M=w[3],i=T=w[4],r=E=w[5],6===w.length?(o=Math.sqrt(S*S+C*C),s=Math.sqrt(M*M+A*A),c=S||C?v(C,S)*f:0,(m=A||M?v(A,M)*f+c:0)&&(s*=Math.cos(m*p)),n.svg&&(i-=b-(b*S+_*A),r-=_-(b*C+_*M))):(V=w[6],z=w[7],N=w[8],F=w[9],B=w[10],U=w[11],i=w[12],r=w[13],a=w[14],u=(x=v(V,B))*f,x&&(P=T*(k=Math.cos(-x))+N*(O=Math.sin(-x)),R=E*k+F*O,L=V*k+B*O,N=T*-O+N*k,F=E*-O+F*k,B=V*-O+B*k,U=z*-O+U*k,T=P,E=R,V=L),d=(x=v(-A,B))*f,x&&(k=Math.cos(-x),U=M*(O=Math.sin(-x))+U*k,S=P=S*k-N*O,C=R=C*k-F*O,A=L=A*k-B*O),c=(x=v(C,S))*f,x&&(P=S*(k=Math.cos(x))+C*(O=Math.sin(x)),R=T*k+E*O,C=C*k-S*O,E=E*k-T*O,S=P,T=R),u&&Math.abs(u)+Math.abs(c)>359.9&&(u=c=0,d=180-d),o=Object(h.v)(Math.sqrt(S*S+C*C+A*A)),s=Object(h.v)(Math.sqrt(E*E+V*V)),x=v(T,E),m=Math.abs(x)>2e-4?x*f:0,y=U?1/(U<0?-U:U):0),n.svg&&(P=t.getAttribute("transform"),n.forceCSS=t.setAttribute("transform","")||!tt(I(t,D)),P&&t.setAttribute("transform",P))),Math.abs(m)>90&&Math.abs(m)<270&&(W?(o*=-1,m+=c<=0?180:-180,c+=c<=0?180:-180):(s*=-1,m+=m<=0?180:-180)),n.x=i-((n.xPercent=i&&(n.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-i)?-50:0)))?t.offsetWidth*n.xPercent/100:0)+X,n.y=r-((n.yPercent=r&&(n.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-r)?-50:0)))?t.offsetHeight*n.yPercent/100:0)+X,n.z=a+X,n.scaleX=Object(h.v)(o),n.scaleY=Object(h.v)(s),n.rotation=Object(h.v)(c)+q,n.rotationX=Object(h.v)(u)+q,n.rotationY=Object(h.v)(d)+q,n.skewX=m+q,n.skewY=g+q,n.transformPerspective=y+X,(n.zOrigin=parseFloat(Y.split(" ")[2])||0)&&(G[j]=at(Y)),n.xOffset=n.yOffset=0,n.force3D=h.h.force3D,n.renderTransform=n.svg?dt:l?ht:st,n.uncache=0,n},at=function(t){return(t=t.split(" "))[0]+" "+t[1]},ot=function(t,e,n){var i=Object(h.z)(e);return Object(h.v)(parseFloat(e)+parseFloat(X(t,"x",n+"px",i)))+i},st=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,ht(t,e)},ct="0deg",ut="0px",lt=") ",ht=function(t,e){var n=e||this,i=n.xPercent,r=n.yPercent,a=n.x,o=n.y,s=n.z,c=n.rotation,u=n.rotationY,l=n.rotationX,h=n.skewX,d=n.skewY,f=n.scaleX,v=n.scaleY,m=n.transformPerspective,g=n.force3D,y=n.target,b=n.zOrigin,_="",w="auto"===g&&t&&1!==t||!0===g;if(b&&(l!==ct||u!==ct)){var x,k=parseFloat(u)*p,O=Math.sin(k),S=Math.cos(k);k=parseFloat(l)*p,x=Math.cos(k),a=ot(y,a,O*x*-b),o=ot(y,o,-Math.sin(k)*-b),s=ot(y,s,S*x*-b+b)}m!==ut&&(_+="perspective("+m+lt),(i||r)&&(_+="translate("+i+"%, "+r+"%) "),(w||a!==ut||o!==ut||s!==ut)&&(_+=s!==ut||w?"translate3d("+a+", "+o+", "+s+") ":"translate("+a+", "+o+lt),c!==ct&&(_+="rotate("+c+lt),u!==ct&&(_+="rotateY("+u+lt),l!==ct&&(_+="rotateX("+l+lt),h===ct&&d===ct||(_+="skew("+h+", "+d+lt),1===f&&1===v||(_+="scale("+f+", "+v+lt),y.style[D]=_||"translate(0, 0)"},dt=function(t,e){var n,i,r,a,o,s=e||this,c=s.xPercent,u=s.yPercent,l=s.x,d=s.y,f=s.rotation,v=s.skewX,m=s.skewY,g=s.scaleX,y=s.scaleY,b=s.target,_=s.xOrigin,w=s.yOrigin,x=s.xOffset,k=s.yOffset,O=s.forceCSS,S=parseFloat(l),C=parseFloat(d);f=parseFloat(f),v=parseFloat(v),(m=parseFloat(m))&&(v+=m=parseFloat(m),f+=m),f||v?(f*=p,v*=p,n=Math.cos(f)*g,i=Math.sin(f)*g,r=Math.sin(f-v)*-y,a=Math.cos(f-v)*y,v&&(m*=p,o=Math.tan(v-m),r*=o=Math.sqrt(1+o*o),a*=o,m&&(o=Math.tan(m),n*=o=Math.sqrt(1+o*o),i*=o)),n=Object(h.v)(n),i=Object(h.v)(i),r=Object(h.v)(r),a=Object(h.v)(a)):(n=g,a=y,i=r=0),(S&&!~(l+"").indexOf("px")||C&&!~(d+"").indexOf("px"))&&(S=X(b,"x",l,"px"),C=X(b,"y",d,"px")),(_||w||x||k)&&(S=Object(h.v)(S+_-(_*n+w*r)+x),C=Object(h.v)(C+w-(_*i+w*a)+k)),(c||u)&&(o=b.getBBox(),S=Object(h.v)(S+c/100*o.width),C=Object(h.v)(C+u/100*o.height)),o="matrix("+n+","+i+","+r+","+a+","+S+","+C+")",b.setAttribute("transform",o),O&&(b.style[D]=o)},ft=function(t,e,n,i,r,a){var o,s,c=360,u=Object(h.m)(r),l=parseFloat(r)*(u&&~r.indexOf("rad")?f:1),d=a?l*a:l-i,p=i+d+"deg";return u&&("short"===(o=r.split("_")[1])&&(d%=c)!==d%180&&(d+=d<0?c:-360),"cw"===o&&d<0?d=(d+36e9)%c-~~(d/c)*c:"ccw"===o&&d>0&&(d=(d-36e9)%c-~~(d/c)*c)),t._pt=s=new h.e(t._pt,e,n,i,d,w),s.e=p,s.u="deg",t._props.push(n),s},pt=function(t,e,n){var i,a,o,s,u,l,f,p=c.style,v=n._gsap;for(a in p.cssText=getComputedStyle(n).cssText+";position:absolute;display:block;",p[D]=e,r.body.appendChild(c),i=rt(c,1),d)(o=v[a])!==(s=i[a])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(a)<0&&(u=Object(h.z)(o)!==(f=Object(h.z)(s))?X(n,a,o,f):parseFloat(o),l=parseFloat(s),t._pt=new h.e(t._pt,v,a,u,l-u,_),t._pt.u=f||0,t._props.push(a));r.body.removeChild(c)};Object(h.i)("padding,margin,Width,Radius",(function(t,e){var n="Top",i="Right",r="Bottom",a="Left",o=(e<3?[n,i,r,a]:[n+a,n+i,r+i,r+a]).map((function(n){return e<2?t+n:"border"+n+t}));Z[e>1?"border"+t:t]=function(t,e,n,i,r){var a,s;if(arguments.length<4)return a=o.map((function(e){return q(t,e,n)})),5===(s=a.join(" ")).split(a[0]).length?a[0]:s;a=(i+"").split(" "),s={},o.forEach((function(t,e){return s[t]=a[e]=a[e]||a[(e-1)/2|0]})),t.init(e,s,r)}}));var vt,mt,gt,yt={name:"css",register:F,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,n,i,r){var a,s,c,u,l,f,p,v,m,g,w,O,S,C,A,M,T,E,P,j=this._props,R=t.style,I=n.vars.startAt;for(p in o||F(),e)if("autoRound"!==p&&(s=e[p],!h.r[p]||!Object(h.f)(p,e,n,i,t,r)))if(l=typeof s,f=Z[p],"function"===l&&(l=typeof(s=s.call(n,i,t,r))),"string"===l&&~s.indexOf("random(")&&(s=Object(h.u)(s)),f)f(this,t,p,s,n)&&(A=1);else if("--"===p.substr(0,2))a=(getComputedStyle(t).getPropertyValue(p)+"").trim(),s+="",v=Object(h.z)(a),(m=Object(h.z)(s))?v!==m&&(a=X(t,p,a,m)+m):v&&(s+=v),this.add(R,"setProperty",a,s,i,r,0,0,p);else if("undefined"!==l){if(I&&p in I?(a="function"==typeof I[p]?I[p].call(n,i,t,r):I[p],p in h.h.units&&!Object(h.z)(a)&&(a+=h.h.units[p]),"="===(a+"").charAt(1)&&(a=q(t,p))):a=q(t,p),u=parseFloat(a),(g="string"===l&&"="===s.charAt(1)?+(s.charAt(0)+"1"):0)&&(s=s.substr(2)),c=parseFloat(s),p in b&&("autoAlpha"===p&&(1===u&&"hidden"===q(t,"visibility")&&c&&(u=0),G(this,R,"visibility",u?"inherit":"hidden",c?"inherit":"hidden",!c)),"scale"!==p&&"transform"!==p&&~(p=b[p]).indexOf(",")&&(p=p.split(",")[0])),w=p in d)if(O||((S=t._gsap).renderTransform&&!e.parseTransform||rt(t,e.parseTransform),C=!1!==e.smoothOrigin&&S.smooth,(O=this._pt=new h.e(this._pt,R,D,0,1,S.renderTransform,S,0,-1)).dep=1),"scale"===p)this._pt=new h.e(this._pt,S,"scaleY",S.scaleY,g?g*c:c-S.scaleY),j.push("scaleY",p),p+="X";else{if("transformOrigin"===p){T=void 0,E=void 0,P=void 0,T=(M=s).split(" "),E=T[0],P=T[1]||"50%","top"!==E&&"bottom"!==E&&"left"!==P&&"right"!==P||(M=E,E=P,P=M),T[0]=Q[E]||E,T[1]=Q[P]||P,s=T.join(" "),S.svg?it(t,s,0,C,0,this):((m=parseFloat(s.split(" ")[2])||0)!==S.zOrigin&&G(this,S,"zOrigin",S.zOrigin,m),G(this,R,p,at(a),at(s)));continue}if("svgOrigin"===p){it(t,s,1,C,0,this);continue}if(p in $){ft(this,S,p,u,s,g);continue}if("smoothOrigin"===p){G(this,S,"smooth",S.smooth,s);continue}if("force3D"===p){S[p]=s;continue}if("transform"===p){pt(this,s,t);continue}}else p in R||(p=N(p)||p);if(w||(c||0===c)&&(u||0===u)&&!y.test(s)&&p in R)c||(c=0),(v=(a+"").substr((u+"").length))!==(m=Object(h.z)(s)||(p in h.h.units?h.h.units[p]:v))&&(u=X(t,p,a,m)),this._pt=new h.e(this._pt,w?S:R,p,u,g?g*c:c-u,w||"px"!==m&&"zIndex"!==p||!1===e.autoRound?_:k),this._pt.u=m||0,v!==m&&(this._pt.b=a,this._pt.r=x);else if(p in R)Y.call(this,t,p,a,s);else{if(!(p in t)){Object(h.o)(p,s);continue}this.add(t,p,t[p],s,i,r)}j.push(p)}A&&Object(h.w)(this)},get:q,aliases:b,getSetter:function(t,e,n){var i=b[e];return i&&i.indexOf(",")<0&&(e=i),e in d&&e!==j&&(t._gsap.x||q(t,"x"))?n&&u===n?"scale"===e?T:M:(u=n||{})&&("scale"===e?E:P):t.style&&!Object(h.n)(t.style[e])?C:~e.indexOf("-")?A:Object(h.l)(t,e)},core:{_removeProperty:V,_getMatrix:nt}};h.A.utils.checkPrefix=N,vt="x,y,z,scale,scaleX,scaleY,xPercent,yPercent",mt="rotation,rotationX,rotationY,skewX,skewY",gt=Object(h.i)(vt+","+mt+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(t){d[t]=1})),Object(h.i)(mt,(function(t){h.h.units[t]="deg",$[t]=1})),b[gt[13]]=vt+","+mt,Object(h.i)("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(t){var e=t.split(":");b[e[1]]=gt[e[0]]})),Object(h.i)("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(t){h.h.units[t]="px"})),h.A.registerPlugin(yt)},nYR2:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n("Ji7U"),r=n("LK+K"),a=n("1OyB"),o=n("vuIU"),s=n("7o/Q"),c=n("quSY");function u(t){return function(e){return e.lift(new l(t))}}var l=function(){function t(e){Object(a.a)(this,t),this.callback=e}return Object(o.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new h(t,this.callback))}}]),t}(),h=function(t){Object(i.a)(n,t);var e=Object(r.a)(n);function n(t,i){var r;return Object(a.a)(this,n),(r=e.call(this,t)).add(new c.a(i)),r}return n}(s.a)},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=function(t){return function(e){for(var n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()}}},o0o1:function(t,e,n){t.exports=n("ls82")},o97j:function(t,e,n){"use strict";var i=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:i,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen,isInWorker:!i};t.exports=r},oB13:function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var i,r=n("1OyB"),a=n("vuIU"),o=n("ReuC"),s=n("foSv"),c=n("Ji7U"),u=n("LK+K"),l=n("XNiG"),h=n("HDdC"),d=n("7o/Q"),f=n("quSY"),p=n("x+ZX"),v=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t,i){var a;return Object(r.a)(this,n),(a=e.call(this)).source=t,a.subjectFactory=i,a._refCount=0,a._isComplete=!1,a}return Object(a.a)(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new f.a).add(this.source.subscribe(new g(this.getSubject(),this))),t.closed&&(this._connection=null,t=f.a.EMPTY)),t}},{key:"refCount",value:function(){return Object(p.a)()(this)}}]),n}(h.a),m={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(i=v.prototype)._subscribe},_isComplete:{value:i._isComplete,writable:!0},getSubject:{value:i.getSubject},connect:{value:i.connect},refCount:{value:i.refCount}},g=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t,i){var a;return Object(r.a)(this,n),(a=e.call(this,t)).connectable=i,a}return Object(a.a)(n,[{key:"_error",value:function(t){this._unsubscribe(),Object(o.a)(Object(s.a)(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),Object(o.a)(Object(s.a)(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(l.b);d.a;function y(t,e){return function(n){var i;if(i="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new b(i,e));var r=Object.create(n,m);return r.source=n,r.subjectFactory=i,r}}var b=function(){function t(e,n){Object(r.a)(this,t),this.subjectFactory=e,this.selector=n}return Object(a.a)(t,[{key:"call",value:function(t,e){var n=this.selector,i=this.subjectFactory(),r=n(i).subscribe(t);return r.add(e.subscribe(i)),r}}]),t}()},ofXK:function(t,e,n){"use strict";n.d(e,"a",(function(){return C})),n.d(e,"b",(function(){return $t})),n.d(e,"c",(function(){return ye})),n.d(e,"d",(function(){return p})),n.d(e,"e",(function(){return M})),n.d(e,"f",(function(){return g})),n.d(e,"g",(function(){return T})),n.d(e,"h",(function(){return O})),n.d(e,"i",(function(){return jt})),n.d(e,"j",(function(){return Lt})),n.d(e,"k",(function(){return Ft})),n.d(e,"l",(function(){return qt})),n.d(e,"m",(function(){return Ht})),n.d(e,"n",(function(){return Vt})),n.d(e,"o",(function(){return A})),n.d(e,"p",(function(){return v})),n.d(e,"q",(function(){return we})),n.d(e,"r",(function(){return _e})),n.d(e,"s",(function(){return f})),n.d(e,"t",(function(){return be})),n.d(e,"u",(function(){return h})),n.d(e,"v",(function(){return Dt})),n.d(e,"w",(function(){return d}));var i=n("uFwe"),r=n("ODXe"),a=n("vuIU"),o=n("Ji7U"),s=n("LK+K"),c=n("1OyB"),u=n("fXoL"),l=null;function h(){return l}function d(t){l||(l=t)}var f=function t(){Object(c.a)(this,t)},p=new u.A("DocumentToken"),v=function t(){Object(c.a)(this,t)};function m(){return Object(u.jc)(y)}v.\u0275fac=function(t){return new(t||v)},v.\u0275prov=Object(u.Wb)({factory:m,token:v,providedIn:"platform"});var g=new u.A("Location Initialized"),y=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(t){var i;return Object(c.a)(this,n),(i=e.call(this))._doc=t,i._init(),i}return Object(a.a)(n,[{key:"_init",value:function(){this.location=h().getLocation(),this._history=h().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return h().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){h().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){h().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"pushState",value:function(t,e,n){b()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){b()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}(v);function b(){return!!window.history.pushState}function _(){return new y(Object(u.jc)(p))}function w(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function x(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-("/"===t[n-1]?1:0);return t.slice(0,i)+t.slice(n)}function k(t){return t&&"?"!==t[0]?"?"+t:t}y.\u0275fac=function(t){return new(t||y)(u.jc(p))},y.\u0275prov=Object(u.Wb)({factory:_,token:y,providedIn:"platform"}),y.ctorParameters=function(){return[{type:void 0,decorators:[{type:u.y,args:[p]}]}]};var O=function t(){Object(c.a)(this,t)};function S(t){var e=Object(u.jc)(p).location;return new A(Object(u.jc)(v),e&&e.origin||"")}O.\u0275fac=function(t){return new(t||O)},O.\u0275prov=Object(u.Wb)({factory:S,token:O,providedIn:"root"});var C=new u.A("appBaseHref"),A=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(t,i){var r;if(Object(c.a)(this,n),(r=e.call(this))._platformLocation=t,null==i&&(i=r._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=i,r}return Object(a.a)(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return w(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+k(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,i){var r=this.prepareExternalUrl(n+k(i));this._platformLocation.pushState(t,e,r)}},{key:"replaceState",value:function(t,e,n,i){var r=this.prepareExternalUrl(n+k(i));this._platformLocation.replaceState(t,e,r)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(O);A.\u0275fac=function(t){return new(t||A)(u.jc(v),u.jc(C,8))},A.\u0275prov=u.Wb({token:A,factory:A.\u0275fac}),A.ctorParameters=function(){return[{type:v},{type:String,decorators:[{type:u.M},{type:u.y,args:[C]}]}]};var M=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(t,i){var r;return Object(c.a)(this,n),(r=e.call(this))._platformLocation=t,r._baseHref="",null!=i&&(r._baseHref=i),r}return Object(a.a)(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=w(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,i){var r=this.prepareExternalUrl(n+k(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}},{key:"replaceState",value:function(t,e,n,i){var r=this.prepareExternalUrl(n+k(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(O);M.\u0275fac=function(t){return new(t||M)(u.jc(v),u.jc(C,8))},M.\u0275prov=u.Wb({token:M,factory:M.\u0275fac}),M.ctorParameters=function(){return[{type:v},{type:String,decorators:[{type:u.M},{type:u.y,args:[C]}]}]};var T=function(){function t(e,n){var i=this;Object(c.a)(this,t),this._subject=new u.t,this._urlChangeListeners=[],this._platformStrategy=e;var r=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=x(P(r)),this._platformStrategy.onPopState((function(t){i._subject.emit({url:i.path(!0),pop:!0,state:t.state,type:t.type})}))}return Object(a.a)(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+k(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,P(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+k(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+k(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe((function(t){e._notifyUrlChangeListeners(t.url,t.state)})))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(t,e)}))}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}();function E(){return new T(Object(u.jc)(O),Object(u.jc)(v))}function P(t){return t.replace(/\/index.html$/,"")}T.\u0275fac=function(t){return new(t||T)(u.jc(O),u.jc(v))},T.normalizeQueryParams=k,T.joinWithSlash=w,T.stripTrailingSlash=x,T.\u0275prov=Object(u.Wb)({factory:E,token:T,providedIn:"root"}),T.ctorParameters=function(){return[{type:O},{type:v}]};var D,j,R,I,L,N,F,B={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};function z(t,e){return Y(Object(u.zb)(t)[u.qb.DateFormat],e)}function U(t,e){return Y(Object(u.zb)(t)[u.qb.TimeFormat],e)}function H(t,e){return Y(Object(u.zb)(t)[u.qb.DateTimeFormat],e)}function V(t,e){var n=Object(u.zb)(t),i=n[u.qb.NumberSymbols][e];if(void 0===i){if(e===N.CurrencyDecimal)return n[u.qb.NumberSymbols][N.Decimal];if(e===N.CurrencyGroup)return n[u.qb.NumberSymbols][N.Group]}return i}function G(t,e){return Object(u.zb)(t)[u.qb.NumberFormats][e]}function W(t){return Object(u.zb)(t)[u.qb.Currencies]}!function(t){t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific"}(D||(D={})),function(t){t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other"}(j||(j={})),function(t){t[t.Format=0]="Format",t[t.Standalone=1]="Standalone"}(R||(R={})),function(t){t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short"}(I||(I={})),function(t){t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full"}(L||(L={})),function(t){t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup"}(N||(N={})),function(t){t[t.Sunday=0]="Sunday",t[t.Monday=1]="Monday",t[t.Tuesday=2]="Tuesday",t[t.Wednesday=3]="Wednesday",t[t.Thursday=4]="Thursday",t[t.Friday=5]="Friday",t[t.Saturday=6]="Saturday"}(F||(F={}));var X=u.Cb;function q(t){if(!t[u.qb.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(t[u.qb.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function Y(t,e){for(var n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function Q(t){var e=t.split(":"),n=Object(r.a)(e,2);return{hours:+n[0],minutes:+n[1]}}function K(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en",i=W(n)[t]||B[t]||[],r=i[1];return"narrow"===e&&"string"==typeof r?r:i[0]||t}var Z,J,$,tt=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,et={},nt=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function it(t,e,n,i){var a=function(t){if(gt(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();var e,n=parseFloat(t);if(!isNaN(t-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){var i=t.split("-").map((function(t){return+t})),a=Object(r.a)(i,3),o=a[0],s=a[1],c=a[2];return new Date(o,s-1,c)}if(e=t.match(tt))return function(t){var e=new Date(0),n=0,i=0,r=t[8]?e.setUTCFullYear:e.setFullYear,a=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),i=Number(t[9]+t[11]));r.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));var o=Number(t[4]||0)-n,s=Number(t[5]||0)-i,c=Number(t[6]||0),u=Math.round(1e3*parseFloat("0."+(t[7]||0)));return a.call(e,o,s,c,u),e}(e)}var u=new Date(t);if(!gt(u))throw new Error('Unable to convert "'.concat(t,'" into a date'));return u}(t);e=function t(e,n){var i=function(t){return Object(u.zb)(t)[u.qb.LocaleId]}(e);if(et[i]=et[i]||{},et[i][n])return et[i][n];var r="";switch(n){case"shortDate":r=z(e,L.Short);break;case"mediumDate":r=z(e,L.Medium);break;case"longDate":r=z(e,L.Long);break;case"fullDate":r=z(e,L.Full);break;case"shortTime":r=U(e,L.Short);break;case"mediumTime":r=U(e,L.Medium);break;case"longTime":r=U(e,L.Long);break;case"fullTime":r=U(e,L.Full);break;case"short":var a=t(e,"shortTime"),o=t(e,"shortDate");r=rt(H(e,L.Short),[a,o]);break;case"medium":var s=t(e,"mediumTime"),c=t(e,"mediumDate");r=rt(H(e,L.Medium),[s,c]);break;case"long":var l=t(e,"longTime"),h=t(e,"longDate");r=rt(H(e,L.Long),[l,h]);break;case"full":var d=t(e,"fullTime"),f=t(e,"fullDate");r=rt(H(e,L.Full),[d,f])}r&&(et[i][n]=r);return r}(n,e)||e;for(var o,s=[];e;){if(!(o=nt.exec(e))){s.push(e);break}var c=(s=s.concat(o.slice(1))).pop();if(!c)break;e=c}var l=a.getTimezoneOffset();i&&(l=mt(i,l),a=function(t,e,n){var i=n?-1:1,r=t.getTimezoneOffset(),a=mt(e,r);return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,i*(a-r))}(a,i,!0));var h="";return s.forEach((function(t){var e=function(t){if(vt[t])return vt[t];var e;switch(t){case"G":case"GG":case"GGG":e=ut($.Eras,I.Abbreviated);break;case"GGGG":e=ut($.Eras,I.Wide);break;case"GGGGG":e=ut($.Eras,I.Narrow);break;case"y":e=st(J.FullYear,1,0,!1,!0);break;case"yy":e=st(J.FullYear,2,0,!0,!0);break;case"yyy":e=st(J.FullYear,3,0,!1,!0);break;case"yyyy":e=st(J.FullYear,4,0,!1,!0);break;case"M":case"L":e=st(J.Month,1,1);break;case"MM":case"LL":e=st(J.Month,2,1);break;case"MMM":e=ut($.Months,I.Abbreviated);break;case"MMMM":e=ut($.Months,I.Wide);break;case"MMMMM":e=ut($.Months,I.Narrow);break;case"LLL":e=ut($.Months,I.Abbreviated,R.Standalone);break;case"LLLL":e=ut($.Months,I.Wide,R.Standalone);break;case"LLLLL":e=ut($.Months,I.Narrow,R.Standalone);break;case"w":e=pt(1);break;case"ww":e=pt(2);break;case"W":e=pt(1,!0);break;case"d":e=st(J.Date,1);break;case"dd":e=st(J.Date,2);break;case"E":case"EE":case"EEE":e=ut($.Days,I.Abbreviated);break;case"EEEE":e=ut($.Days,I.Wide);break;case"EEEEE":e=ut($.Days,I.Narrow);break;case"EEEEEE":e=ut($.Days,I.Short);break;case"a":case"aa":case"aaa":e=ut($.DayPeriods,I.Abbreviated);break;case"aaaa":e=ut($.DayPeriods,I.Wide);break;case"aaaaa":e=ut($.DayPeriods,I.Narrow);break;case"b":case"bb":case"bbb":e=ut($.DayPeriods,I.Abbreviated,R.Standalone,!0);break;case"bbbb":e=ut($.DayPeriods,I.Wide,R.Standalone,!0);break;case"bbbbb":e=ut($.DayPeriods,I.Narrow,R.Standalone,!0);break;case"B":case"BB":case"BBB":e=ut($.DayPeriods,I.Abbreviated,R.Format,!0);break;case"BBBB":e=ut($.DayPeriods,I.Wide,R.Format,!0);break;case"BBBBB":e=ut($.DayPeriods,I.Narrow,R.Format,!0);break;case"h":e=st(J.Hours,1,-12);break;case"hh":e=st(J.Hours,2,-12);break;case"H":e=st(J.Hours,1);break;case"HH":e=st(J.Hours,2);break;case"m":e=st(J.Minutes,1);break;case"mm":e=st(J.Minutes,2);break;case"s":e=st(J.Seconds,1);break;case"ss":e=st(J.Seconds,2);break;case"S":e=st(J.FractionalSeconds,1);break;case"SS":e=st(J.FractionalSeconds,2);break;case"SSS":e=st(J.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=ht(Z.Short);break;case"ZZZZZ":e=ht(Z.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=ht(Z.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=ht(Z.Long);break;default:return null}return vt[t]=e,e}(t);h+=e?e(a,n,l):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),h}function rt(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function at(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,a="";(t<0||r&&t<=0)&&(r?t=1-t:(t=-t,a=n));for(var o=String(t);o.length<e;)o="0"+o;return i&&(o=o.substr(o.length-e)),a+o}function ot(t,e){return at(t,3).substr(0,e)}function st(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(a,o){var s=ct(t,a);if((n>0||s>-n)&&(s+=n),t===J.Hours)0===s&&-12===n&&(s=12);else if(t===J.FractionalSeconds)return ot(s,e);var c=V(o,N.MinusSign);return at(s,e,c,i,r)}}function ct(t,e){switch(t){case J.FullYear:return e.getFullYear();case J.Month:return e.getMonth();case J.Date:return e.getDate();case J.Hours:return e.getHours();case J.Minutes:return e.getMinutes();case J.Seconds:return e.getSeconds();case J.FractionalSeconds:return e.getMilliseconds();case J.Day:return e.getDay();default:throw new Error('Unknown DateType value "'.concat(t,'".'))}}function ut(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:R.Format,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(r,a){return lt(r,a,t,e,n,i)}}function lt(t,e,n,i,a,o){switch(n){case $.Months:return function(t,e,n){var i=Object(u.zb)(t),r=Y([i[u.qb.MonthsFormat],i[u.qb.MonthsStandalone]],e);return Y(r,n)}(e,a,i)[t.getMonth()];case $.Days:return function(t,e,n){var i=Object(u.zb)(t),r=Y([i[u.qb.DaysFormat],i[u.qb.DaysStandalone]],e);return Y(r,n)}(e,a,i)[t.getDay()];case $.DayPeriods:var s=t.getHours(),c=t.getMinutes();if(o){var l=function(t){var e=Object(u.zb)(t);return q(e),(e[u.qb.ExtraData][2]||[]).map((function(t){return"string"==typeof t?Q(t):[Q(t[0]),Q(t[1])]}))}(e),h=function(t,e,n){var i=Object(u.zb)(t);q(i);var r=Y([i[u.qb.ExtraData][0],i[u.qb.ExtraData][1]],e)||[];return Y(r,n)||[]}(e,a,i),d=l.findIndex((function(t){if(Array.isArray(t)){var e=Object(r.a)(t,2),n=e[0],i=e[1],a=s>=n.hours&&c>=n.minutes,o=s<i.hours||s===i.hours&&c<i.minutes;if(n.hours<i.hours){if(a&&o)return!0}else if(a||o)return!0}else if(t.hours===s&&t.minutes===c)return!0;return!1}));if(-1!==d)return h[d]}return function(t,e,n){var i=Object(u.zb)(t),r=Y([i[u.qb.DayPeriodsFormat],i[u.qb.DayPeriodsStandalone]],e);return Y(r,n)}(e,a,i)[s<12?0:1];case $.Eras:return function(t,e){return Y(Object(u.zb)(t)[u.qb.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:var f=n;throw new Error("unexpected translation type ".concat(f))}}function ht(t){return function(e,n,i){var r=-1*i,a=V(n,N.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case Z.Short:return(r>=0?"+":"")+at(o,2,a)+at(Math.abs(r%60),2,a);case Z.ShortGMT:return"GMT"+(r>=0?"+":"")+at(o,1,a);case Z.Long:return"GMT"+(r>=0?"+":"")+at(o,2,a)+":"+at(Math.abs(r%60),2,a);case Z.Extended:return 0===i?"Z":(r>=0?"+":"")+at(o,2,a)+":"+at(Math.abs(r%60),2,a);default:throw new Error('Unknown zone width "'.concat(t,'"'))}}}!function(t){t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended"}(Z||(Z={})),function(t){t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day"}(J||(J={})),function(t){t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras"}($||($={}));function dt(t){var e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}function ft(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function pt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,i){var r;if(e){var a=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();r=1+Math.floor((o+a)/7)}else{var s=ft(n),c=dt(s.getFullYear()),u=s.getTime()-c.getTime();r=1+Math.round(u/6048e5)}return at(r,t,V(i,N.MinusSign))}}var vt={};function mt(t,e){t=t.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function gt(t){return t instanceof Date&&!isNaN(t.valueOf())}var yt=/^(\d+)?\.((\d+)(-(\d+))?)?$/,bt=".",_t="0",wt="#";function xt(t,e,n,i,r,a){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s="",c=!1;if(isFinite(t)){var u=Ct(t);o&&(u=St(u));var l=e.minInt,h=e.minFrac,d=e.maxFrac;if(a){var f=a.match(yt);if(null===f)throw new Error("".concat(a," is not a valid digit info"));var p=f[1],v=f[3],m=f[5];null!=p&&(l=Mt(p)),null!=v&&(h=Mt(v)),null!=m?d=Mt(m):null!=v&&h>d&&(d=h)}At(u,h,d);var g=u.digits,y=u.integerLen,b=u.exponent,_=[];for(c=g.every((function(t){return!t}));y<l;y++)g.unshift(0);for(;y<0;y++)g.unshift(0);y>0?_=g.splice(y,g.length):(_=g,g=[0]);var w=[];for(g.length>=e.lgSize&&w.unshift(g.splice(-e.lgSize,g.length).join(""));g.length>e.gSize;)w.unshift(g.splice(-e.gSize,g.length).join(""));g.length&&w.unshift(g.join("")),s=w.join(V(n,i)),_.length&&(s+=V(n,r)+_.join("")),b&&(s+=V(n,N.Exponential)+"+"+b)}else s=V(n,N.Infinity);return s=t<0&&!c?e.negPre+s+e.negSuf:e.posPre+s+e.posSuf}function kt(t,e,n,i,r){var a=Ot(G(e,D.Currency),V(e,N.MinusSign));return a.minFrac=function(t){var e,n=B[t];return n&&(e=n[2]),"number"==typeof e?e:2}(i),a.maxFrac=a.minFrac,xt(t,a,e,N.CurrencyGroup,N.CurrencyDecimal,r).replace("\xa4",n).replace("\xa4","").trim()}function Ot(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=t.split(";"),r=i[0],a=i[1],o=-1!==r.indexOf(bt)?r.split(bt):[r.substring(0,r.lastIndexOf(_t)+1),r.substring(r.lastIndexOf(_t)+1)],s=o[0],c=o[1]||"";n.posPre=s.substr(0,s.indexOf(wt));for(var u=0;u<c.length;u++){var l=c.charAt(u);l===_t?n.minFrac=n.maxFrac=u+1:l===wt?n.maxFrac=u+1:n.posSuf+=l}var h=s.split(",");if(n.gSize=h[1]?h[1].length:0,n.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,a){var d=r.length-n.posPre.length-n.posSuf.length,f=a.indexOf(wt);n.negPre=a.substr(0,f).replace(/'/g,""),n.negSuf=a.substr(f+d).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function St(t){if(0===t.digits[0])return t;var e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}function Ct(t){var e,n,i,r,a,o=Math.abs(t)+"",s=0;for((n=o.indexOf(bt))>-1&&(o=o.replace(bt,"")),(i=o.search(/e/i))>0?(n<0&&(n=i),n+=+o.slice(i+1),o=o.substring(0,i)):n<0&&(n=o.length),i=0;o.charAt(i)===_t;i++);if(i===(a=o.length))e=[0],n=1;else{for(a--;o.charAt(a)===_t;)a--;for(n-=i,e=[],r=0;i<=a;i++,r++)e[r]=Number(o.charAt(i))}return n>22&&(e=e.splice(0,21),s=n-1,n=1),{digits:e,exponent:s,integerLen:n}}function At(t,e,n){if(e>n)throw new Error("The minimum number of digits after fraction (".concat(e,") is higher than the maximum (").concat(n,")."));var i=t.digits,r=i.length-t.integerLen,a=Math.min(Math.max(e,r),n),o=a+t.integerLen,s=i[o];if(o>0){i.splice(Math.max(t.integerLen,o));for(var c=o;c<i.length;c++)i[c]=0}else{r=Math.max(0,r),t.integerLen=1,i.length=Math.max(1,o=a+1),i[0]=0;for(var u=1;u<o;u++)i[u]=0}if(s>=5)if(o-1<0){for(var l=0;l>o;l--)i.unshift(0),t.integerLen++;i.unshift(1),t.integerLen++}else i[o-1]++;for(;r<Math.max(0,a);r++)i.push(0);var h=0!==a,d=e+t.integerLen,f=i.reduceRight((function(t,e,n,i){return e+=t,i[n]=e<10?e:e-10,h&&(0===i[n]&&n>=d?i.pop():h=!1),e>=10?1:0}),0);f&&(i.unshift(f),t.integerLen++)}function Mt(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}var Tt=function t(){Object(c.a)(this,t)};function Et(t,e,n,i){var r="=".concat(t);if(e.indexOf(r)>-1)return r;if(r=n.getPluralCategory(t,i),e.indexOf(r)>-1)return r;if(e.indexOf("other")>-1)return"other";throw new Error('No plural message found for value "'.concat(t,'"'))}var Pt=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(t){var i;return Object(c.a)(this,n),(i=e.call(this)).locale=t,i}return Object(a.a)(n,[{key:"getPluralCategory",value:function(t,e){switch(X(e||this.locale)(t)){case j.Zero:return"zero";case j.One:return"one";case j.Two:return"two";case j.Few:return"few";case j.Many:return"many";default:return"other"}}}]),n}(Tt);function Dt(t,e){e=encodeURIComponent(e);var n,a=Object(i.a)(t.split(";"));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.indexOf("="),c=-1==s?[o,""]:[o.slice(0,s),o.slice(s+1)],u=Object(r.a)(c,2),l=u[0],h=u[1];if(l.trim()===e)return decodeURIComponent(h)}}catch(d){a.e(d)}finally{a.f()}return null}Pt.\u0275fac=function(t){return new(t||Pt)(u.jc(u.F))},Pt.\u0275prov=u.Wb({token:Pt,factory:Pt.\u0275fac}),Pt.ctorParameters=function(){return[{type:String,decorators:[{type:u.y,args:[u.F]}]}]};var jt=function(){function t(e,n,i,r){Object(c.a)(this,t),this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=i,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return Object(a.a)(t,[{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}},{key:"_applyKeyValueChanges",value:function(t){var e=this;t.forEachAddedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachChangedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachRemovedItem((function(t){t.previousValue&&e._toggleClass(t.key,!1)}))}},{key:"_applyIterableChanges",value:function(t){var e=this;t.forEachAddedItem((function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(Object(u.Lb)(t.item)));e._toggleClass(t.item,!0)})),t.forEachRemovedItem((function(t){return e._toggleClass(t.item,!1)}))}},{key:"_applyClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!0)})):Object.keys(t).forEach((function(n){return e._toggleClass(n,!!t[n])})))}},{key:"_removeClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!1)})):Object.keys(t).forEach((function(t){return e._toggleClass(t,!1)})))}},{key:"_toggleClass",value:function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach((function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)}))}},{key:"klass",set:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(u.Fb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}}]),t}();jt.\u0275fac=function(t){return new(t||jt)(u.ac(u.D),u.ac(u.E),u.ac(u.r),u.ac(u.S))},jt.\u0275dir=u.Vb({type:jt,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),jt.ctorParameters=function(){return[{type:u.D},{type:u.E},{type:u.r},{type:u.S}]},jt.propDecorators={klass:[{type:u.C,args:["class"]}],ngClass:[{type:u.C,args:["ngClass"]}]};var Rt=function(){function t(e){Object(c.a)(this,t),this._viewContainerRef=e,this._componentRef=null,this._moduleRef=null}return Object(a.a)(t,[{key:"ngOnChanges",value:function(t){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){var e=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(t.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){var n=e.get(u.J);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(n.injector)}else this._moduleRef=null;var i=(this._moduleRef?this._moduleRef.componentFactoryResolver:e.get(u.m)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(i,this._viewContainerRef.length,e,this.ngComponentOutletContent)}}},{key:"ngOnDestroy",value:function(){this._moduleRef&&this._moduleRef.destroy()}}]),t}();Rt.\u0275fac=function(t){return new(t||Rt)(u.ac(u.fb))},Rt.\u0275dir=u.Vb({type:Rt,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},features:[u.Ob]}),Rt.ctorParameters=function(){return[{type:u.fb}]},Rt.propDecorators={ngComponentOutlet:[{type:u.C}],ngComponentOutletInjector:[{type:u.C}],ngComponentOutletContent:[{type:u.C}],ngComponentOutletNgModuleFactory:[{type:u.C}]};var It=function(){function t(e,n,i,r){Object(c.a)(this,t),this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}return Object(a.a)(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),Lt=function(){function t(e,n,i){Object(c.a)(this,t),this._viewContainer=e,this._template=n,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return Object(a.a)(t,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(i){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation((function(t,i,r){if(null==t.previousIndex){var a=e._viewContainer.createEmbeddedView(e._template,new It(null,e._ngForOf,-1,-1),null===r?void 0:r),o=new Nt(t,a);n.push(o)}else if(null==r)e._viewContainer.remove(null===i?void 0:i);else if(null!==i){var s=e._viewContainer.get(i);e._viewContainer.move(s,r);var c=new Nt(t,s);n.push(c)}}));for(var i=0;i<n.length;i++)this._perViewChange(n[i].view,n[i].record);for(var r=0,a=this._viewContainer.length;r<a;r++){var o=this._viewContainer.get(r);o.context.index=r,o.context.count=a,o.context.ngForOf=this._ngForOf}t.forEachIdentityChange((function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item}))}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}},{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(t){Object(u.lb)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(t),". ")+"See https://angular.io/api/common/NgForOf#change-propagation for more information."),this._trackByFn=t},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}();Lt.\u0275fac=function(t){return new(t||Lt)(u.ac(u.fb),u.ac(u.ab),u.ac(u.D))},Lt.\u0275dir=u.Vb({type:Lt,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),Lt.ctorParameters=function(){return[{type:u.fb},{type:u.ab},{type:u.D}]},Lt.propDecorators={ngForOf:[{type:u.C}],ngForTrackBy:[{type:u.C}],ngForTemplate:[{type:u.C}]};var Nt=function t(e,n){Object(c.a)(this,t),this.record=e,this.view=n};var Ft=function(){function t(e,n){Object(c.a)(this,t),this._viewContainer=e,this._context=new Bt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return Object(a.a)(t,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){zt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){zt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}();Ft.\u0275fac=function(t){return new(t||Ft)(u.ac(u.fb),u.ac(u.ab))},Ft.\u0275dir=u.Vb({type:Ft,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),Ft.ctorParameters=function(){return[{type:u.fb},{type:u.ab}]},Ft.propDecorators={ngIf:[{type:u.C}],ngIfThen:[{type:u.C}],ngIfElse:[{type:u.C}]};var Bt=function t(){Object(c.a)(this,t),this.$implicit=null,this.ngIf=null};function zt(t,e){if(!!(e&&!e.createEmbeddedView))throw new Error("".concat(t," must be a TemplateRef, but received '").concat(Object(u.Lb)(e),"'."))}var Ut=function(){function t(e,n){Object(c.a)(this,t),this._viewContainerRef=e,this._templateRef=n,this._created=!1}return Object(a.a)(t,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}]),t}(),Ht=function(){function t(){Object(c.a)(this,t),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return Object(a.a)(t,[{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}},{key:"_matchCase",value:function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}},{key:"_updateDefaultCases",value:function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++){this._defaultViews[e].enforceState(t)}}}},{key:"ngSwitch",set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}}]),t}();Ht.\u0275fac=function(t){return new(t||Ht)},Ht.\u0275dir=u.Vb({type:Ht,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),Ht.propDecorators={ngSwitch:[{type:u.C}]};var Vt=function(){function t(e,n,i){Object(c.a)(this,t),this.ngSwitch=i,i._addCase(),this._view=new Ut(e,n)}return Object(a.a)(t,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),t}();Vt.\u0275fac=function(t){return new(t||Vt)(u.ac(u.fb),u.ac(u.ab),u.ac(Ht,1))},Vt.\u0275dir=u.Vb({type:Vt,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),Vt.ctorParameters=function(){return[{type:u.fb},{type:u.ab},{type:Ht,decorators:[{type:u.u}]}]},Vt.propDecorators={ngSwitchCase:[{type:u.C}]};var Gt=function t(e,n,i){Object(c.a)(this,t),i._addDefault(new Ut(e,n))};Gt.\u0275fac=function(t){return new(t||Gt)(u.ac(u.fb),u.ac(u.ab),u.ac(Ht,1))},Gt.\u0275dir=u.Vb({type:Gt,selectors:[["","ngSwitchDefault",""]]}),Gt.ctorParameters=function(){return[{type:u.fb},{type:u.ab},{type:Ht,decorators:[{type:u.u}]}]};var Wt=function(){function t(e){Object(c.a)(this,t),this._localization=e,this._caseViews={}}return Object(a.a)(t,[{key:"addCase",value:function(t,e){this._caseViews[t]=e}},{key:"_updateView",value:function(){this._clearViews();var t=Object.keys(this._caseViews),e=Et(this._switchValue,t,this._localization);this._activateView(this._caseViews[e])}},{key:"_clearViews",value:function(){this._activeView&&this._activeView.destroy()}},{key:"_activateView",value:function(t){t&&(this._activeView=t,this._activeView.create())}},{key:"ngPlural",set:function(t){this._switchValue=t,this._updateView()}}]),t}();Wt.\u0275fac=function(t){return new(t||Wt)(u.ac(Tt))},Wt.\u0275dir=u.Vb({type:Wt,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"}}),Wt.ctorParameters=function(){return[{type:Tt}]},Wt.propDecorators={ngPlural:[{type:u.C}]};var Xt=function t(e,n,i,r){Object(c.a)(this,t),this.value=e;var a=!isNaN(Number(e));r.addCase(a?"=".concat(e):e,new Ut(i,n))};Xt.\u0275fac=function(t){return new(t||Xt)(u.kc("ngPluralCase"),u.ac(u.ab),u.ac(u.fb),u.ac(Wt,1))},Xt.\u0275dir=u.Vb({type:Xt,selectors:[["","ngPluralCase",""]]}),Xt.ctorParameters=function(){return[{type:String,decorators:[{type:u.h,args:["ngPluralCase"]}]},{type:u.ab},{type:u.fb},{type:Wt,decorators:[{type:u.u}]}]};var qt=function(){function t(e,n,i){Object(c.a)(this,t),this._ngEl=e,this._differs=n,this._renderer=i,this._ngStyle=null,this._differ=null}return Object(a.a)(t,[{key:"ngDoCheck",value:function(){if(this._differ){var t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}},{key:"_setStyle",value:function(t,e){var n=t.split("."),i=Object(r.a)(n,2),a=i[0],o=i[1];null!=(e=null!=e&&o?"".concat(e).concat(o):e)?this._renderer.setStyle(this._ngEl.nativeElement,a,e):this._renderer.removeStyle(this._ngEl.nativeElement,a)}},{key:"_applyChanges",value:function(t){var e=this;t.forEachRemovedItem((function(t){return e._setStyle(t.key,null)})),t.forEachAddedItem((function(t){return e._setStyle(t.key,t.currentValue)})),t.forEachChangedItem((function(t){return e._setStyle(t.key,t.currentValue)}))}},{key:"ngStyle",set:function(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}}]),t}();qt.\u0275fac=function(t){return new(t||qt)(u.ac(u.r),u.ac(u.E),u.ac(u.S))},qt.\u0275dir=u.Vb({type:qt,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),qt.ctorParameters=function(){return[{type:u.r},{type:u.E},{type:u.S}]},qt.propDecorators={ngStyle:[{type:u.C,args:["ngStyle"]}]};var Yt=function(){function t(e){Object(c.a)(this,t),this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return Object(a.a)(t,[{key:"ngOnChanges",value:function(t){if(this._shouldRecreateView(t)){var e=this._viewContainerRef;this._viewRef&&e.remove(e.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?e.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}},{key:"_shouldRecreateView",value:function(t){var e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}},{key:"_hasContextShapeChanged",value:function(t){var e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){var r,a=Object(i.a)(n);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(-1===e.indexOf(o))return!0}}catch(s){a.e(s)}finally{a.f()}return!1}return!0}},{key:"_updateExistingContext",value:function(t){for(var e=0,n=Object.keys(t);e<n.length;e++){var i=n[e];this._viewRef.context[i]=this.ngTemplateOutletContext[i]}}}]),t}();Yt.\u0275fac=function(t){return new(t||Yt)(u.ac(u.fb))},Yt.\u0275dir=u.Vb({type:Yt,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[u.Ob]}),Yt.ctorParameters=function(){return[{type:u.fb}]},Yt.propDecorators={ngTemplateOutletContext:[{type:u.C}],ngTemplateOutlet:[{type:u.C}]};function Qt(t,e){return Error("InvalidPipeArgument: '".concat(e,"' for pipe '").concat(Object(u.Lb)(t),"'"))}var Kt=function(){function t(){Object(c.a)(this,t)}return Object(a.a)(t,[{key:"createSubscription",value:function(t,e){return t.subscribe({next:e,error:function(t){throw t}})}},{key:"dispose",value:function(t){t.unsubscribe()}},{key:"onDestroy",value:function(t){t.unsubscribe()}}]),t}(),Zt=new(function(){function t(){Object(c.a)(this,t)}return Object(a.a)(t,[{key:"createSubscription",value:function(t,e){return t.then(e,(function(t){throw t}))}},{key:"dispose",value:function(t){}},{key:"onDestroy",value:function(t){}}]),t}()),Jt=new Kt,$t=function(){function t(e){Object(c.a)(this,t),this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}return Object(a.a)(t,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}},{key:"_subscribe",value:function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,(function(n){return e._updateLatestValue(t,n)}))}},{key:"_selectStrategy",value:function(e){if(Object(u.Hb)(e))return Zt;if(Object(u.Gb)(e))return Jt;throw Qt(t,e)}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}]),t}();$t.\u0275fac=function(t){return new(t||$t)(u.lc())},$t.\u0275pipe=u.Zb({name:"async",type:$t,pure:!1}),$t.ctorParameters=function(){return[{type:u.j}]};var te=function(){function t(){Object(c.a)(this,t)}return Object(a.a)(t,[{key:"transform",value:function(e){if(!e)return e;if("string"!=typeof e)throw Qt(t,e);return e.toLowerCase()}}]),t}();te.\u0275fac=function(t){return new(t||te)},te.\u0275pipe=u.Zb({name:"lowercase",type:te,pure:!0});var ee=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g,ne=function(){function t(){Object(c.a)(this,t)}return Object(a.a)(t,[{key:"transform",value:function(e){if(!e)return e;if("string"!=typeof e)throw Qt(t,e);return e.replace(ee,(function(t){return t[0].toUpperCase()+t.substr(1).toLowerCase()}))}}]),t}();ne.\u0275fac=function(t){return new(t||ne)},ne.\u0275pipe=u.Zb({name:"titlecase",type:ne,pure:!0});var ie=function(){function t(){Object(c.a)(this,t)}return Object(a.a)(t,[{key:"transform",value:function(e){if(!e)return e;if("string"!=typeof e)throw Qt(t,e);return e.toUpperCase()}}]),t}();ie.\u0275fac=function(t){return new(t||ie)},ie.\u0275pipe=u.Zb({name:"uppercase",type:ie,pure:!0});var re=function(){function t(e){Object(c.a)(this,t),this.locale=e}return Object(a.a)(t,[{key:"transform",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(null==e||""===e||e!=e)return null;try{return it(e,n,r||this.locale,i)}catch(a){throw Qt(t,a.message)}}}]),t}();re.\u0275fac=function(t){return new(t||re)(u.ac(u.F))},re.\u0275pipe=u.Zb({name:"date",type:re,pure:!0}),re.ctorParameters=function(){return[{type:String,decorators:[{type:u.y,args:[u.F]}]}]};var ae=/#/g,oe=function(){function t(e){Object(c.a)(this,t),this._localization=e}return Object(a.a)(t,[{key:"transform",value:function(e,n,i){if(null==e)return"";if("object"!=typeof n||null===n)throw Qt(t,n);return n[Et(e,Object.keys(n),this._localization,i)].replace(ae,e.toString())}}]),t}();oe.\u0275fac=function(t){return new(t||oe)(u.ac(Tt))},oe.\u0275pipe=u.Zb({name:"i18nPlural",type:oe,pure:!0}),oe.ctorParameters=function(){return[{type:Tt}]};var se=function(){function t(){Object(c.a)(this,t)}return Object(a.a)(t,[{key:"transform",value:function(e,n){if(null==e)return"";if("object"!=typeof n||"string"!=typeof e)throw Qt(t,n);return n.hasOwnProperty(e)?n[e]:n.hasOwnProperty("other")?n.other:""}}]),t}();se.\u0275fac=function(t){return new(t||se)},se.\u0275pipe=u.Zb({name:"i18nSelect",type:se,pure:!0});var ce=function(){function t(){Object(c.a)(this,t)}return Object(a.a)(t,[{key:"transform",value:function(t){return JSON.stringify(t,null,2)}}]),t}();function ue(t,e){return{key:t,value:e}}ce.\u0275fac=function(t){return new(t||ce)},ce.\u0275pipe=u.Zb({name:"json",type:ce,pure:!1});var le=function(){function t(e){Object(c.a)(this,t),this.differs=e,this.keyValues=[]}return Object(a.a)(t,[{key:"transform",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he;if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());var i=this.differ.diff(t);return i&&(this.keyValues=[],i.forEachItem((function(t){e.keyValues.push(ue(t.key,t.currentValue))})),this.keyValues.sort(n)),this.keyValues}}]),t}();function he(t,e){var n=t.key,i=e.key;if(n===i)return 0;if(void 0===n)return 1;if(void 0===i)return-1;if(null===n)return 1;if(null===i)return-1;if("string"==typeof n&&"string"==typeof i)return n<i?-1:1;if("number"==typeof n&&"number"==typeof i)return n-i;if("boolean"==typeof n&&"boolean"==typeof i)return n<i?-1:1;var r=String(n),a=String(i);return r==a?0:r<a?-1:1}le.\u0275fac=function(t){return new(t||le)(u.ac(u.E))},le.\u0275pipe=u.Zb({name:"keyvalue",type:le,pure:!1}),le.ctorParameters=function(){return[{type:u.E}]};var de=function(){function t(e){Object(c.a)(this,t),this._locale=e}return Object(a.a)(t,[{key:"transform",value:function(e,n,i){if(ve(e))return null;i=i||this._locale;try{return function(t,e,n){return xt(t,Ot(G(e,D.Decimal),V(e,N.MinusSign)),e,N.Group,N.Decimal,n)}(me(e),i,n)}catch(r){throw Qt(t,r.message)}}}]),t}();de.\u0275fac=function(t){return new(t||de)(u.ac(u.F))},de.\u0275pipe=u.Zb({name:"number",type:de,pure:!0}),de.ctorParameters=function(){return[{type:String,decorators:[{type:u.y,args:[u.F]}]}]};var fe=function(){function t(e){Object(c.a)(this,t),this._locale=e}return Object(a.a)(t,[{key:"transform",value:function(e,n,i){if(ve(e))return null;i=i||this._locale;try{return function(t,e,n){return xt(t,Ot(G(e,D.Percent),V(e,N.MinusSign)),e,N.Group,N.Decimal,n,!0).replace(new RegExp("%","g"),V(e,N.PercentSign))}(me(e),i,n)}catch(r){throw Qt(t,r.message)}}}]),t}();fe.\u0275fac=function(t){return new(t||fe)(u.ac(u.F))},fe.\u0275pipe=u.Zb({name:"percent",type:fe,pure:!0}),fe.ctorParameters=function(){return[{type:String,decorators:[{type:u.y,args:[u.F]}]}]};var pe=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";Object(c.a)(this,t),this._locale=e,this._defaultCurrencyCode=n}return Object(a.a)(t,[{key:"transform",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"symbol",r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(ve(e))return null;a=a||this._locale,"boolean"==typeof i&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),i=i?"symbol":"code");var o=n||this._defaultCurrencyCode;"code"!==i&&(o="symbol"===i||"symbol-narrow"===i?K(o,"symbol"===i?"wide":"narrow",a):i);try{var s=me(e);return kt(s,a,o,n,r)}catch(c){throw Qt(t,c.message)}}}]),t}();function ve(t){return null==t||""===t||t!=t}function me(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error("".concat(t," is not a number"));return t}pe.\u0275fac=function(t){return new(t||pe)(u.ac(u.F),u.ac(u.p))},pe.\u0275pipe=u.Zb({name:"currency",type:pe,pure:!0}),pe.ctorParameters=function(){return[{type:String,decorators:[{type:u.y,args:[u.F]}]},{type:String,decorators:[{type:u.y,args:[u.p]}]}]};var ge=function(){function t(){Object(c.a)(this,t)}return Object(a.a)(t,[{key:"transform",value:function(e,n,i){if(null==e)return e;if(!this.supports(e))throw Qt(t,e);return e.slice(n,i)}},{key:"supports",value:function(t){return"string"==typeof t||Array.isArray(t)}}]),t}();ge.\u0275fac=function(t){return new(t||ge)},ge.\u0275pipe=u.Zb({name:"slice",type:ge,pure:!1});var ye=function t(){Object(c.a)(this,t)};ye.\u0275mod=u.Yb({type:ye}),ye.\u0275inj=u.Xb({factory:function(t){return new(t||ye)},providers:[{provide:Tt,useClass:Pt}]});var be="browser";function _e(t){return t===be}new u.db("10.2.0");var we=function t(){Object(c.a)(this,t)};we.\u0275prov=Object(u.Wb)({token:we,providedIn:"root",factory:function(){return new xe(Object(u.jc)(p),window,Object(u.jc)(u.s))}});var xe=function(){function t(e,n,i){Object(c.a)(this,t),this.document=e,this.window=n,this.errorHandler=i,this.offset=function(){return[0,0]}}return Object(a.a)(t,[{key:"setOffset",value:function(t){Array.isArray(t)?this.offset=function(){return t}:this.offset=t}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){if(this.supportsScrolling()){var e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}},{key:"supportScrollRestoration",value:function(){try{if(!this.window||!this.window.scrollTo)return!1;var t=ke(this.window.history)||ke(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(e){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window.scrollTo}catch(t){return!1}}}]),t}();function ke(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}},pKmL:function(t,e,n){"use strict";n.r(e),n.d(e,"CoreModule",(function(){return hn}));var i=n("ofXK"),r=n("fXoL"),a=function(){function t(){}return t.\u0275mod=r.Yb({type:t}),t.\u0275inj=r.Xb({factory:function(e){return new(e||t)},imports:[[i.c]]}),t}(),o=function(){function t(){}return t.\u0275mod=r.Yb({type:t}),t.\u0275inj=r.Xb({factory:function(e){return new(e||t)},imports:[[i.c]]}),t}(),s=n("+O9J"),c=n("xu0b"),u=n("iiaH"),l=n("0IaG"),h=n("8mYk"),d=n("bTqV"),f=n("NFeN"),p=["videoRef"];function v(t,e){1&t&&(r.fc(0,"div",12),r.fc(1,"button",13),r.fc(2,"mat-icon"),r.Mc(3,"play_circle"),r.ec(),r.ec(),r.ec())}var m=function(t){return{"pointer-events":t}},g=function(){function t(t,e,n){this.dialogRef=t,this.ga=e,this.ts=n,this.showPlay=!1}return t.prototype.ngOnInit=function(){var t=this,e=this.videoRef.nativeElement.play();void 0!==e&&e.then((function(e){t.showPlay=!1})).catch((function(e){t.showPlay=!0}))},t.prototype.playClicked=function(){this.ga.event("slow_notice_playprev","slow_notice","Play preview clicked"),this.showPlay=!1,this.videoRef.nativeElement.play()},t.prototype.continue=function(){this.ga.event("slow_notice_continue","slow_notice","Continue anyway clicked"),this.dialogRef.close(),this.ts.resumeRender()},t.\u0275fac=function(e){return new(e||t)(r.ac(l.d),r.ac(h.a),r.ac(c.a))},t.\u0275cmp=r.Ub({type:t,selectors:[["app-slownotice"]],viewQuery:function(t,e){var n;(1&t&&r.Hc(p,!0),2&t)&&(r.yc(n=r.nc())&&(e.videoRef=n.first))},decls:25,vars:4,consts:[[1,"mb-4","mt-4"],[1,"vid",3,"ngStyle","click"],["class","playbtn",4,"ngIf"],["width","250","height","250","poster","assets/prev.jpg","autoplay","autoplay","loop","loop","muted",""],["videoRef",""],["src","assets/prev.mp4","type","video/mp4"],[1,"mb-2"],[1,"mb-4"],[1,"div"],[1,""],[1,"div","mb-4"],["mat-stroked-button","",1,"custom-button","dark","ml-auto","mt-3","d-inline-block",3,"click"],[1,"playbtn"],["mat-fab","","aria-label","Example icon button with a delete icon"]],template:function(t,e){1&t&&(r.fc(0,"div",0),r.fc(1,"div",1),r.mc("click",(function(){return e.playClicked()})),r.Lc(2,v,4,0,"div",2),r.fc(3,"video",3,4),r.bc(5,"source",5),r.Mc(6," Your browser does not support the video tag. "),r.ec(),r.ec(),r.ec(),r.fc(7,"h3",6),r.Mc(8,"Your browser seems to run slow"),r.ec(),r.fc(9,"p",7),r.Mc(10,"This is an experimental website using WebGL and requires hardware acceleration."),r.ec(),r.fc(11,"div",8),r.fc(12,"h4"),r.Mc(13,"If you are using a laptop with dual graphics"),r.ec(),r.fc(14,"p",9),r.Mc(15,"Allow chrome to use the dedicated graphics card."),r.ec(),r.ec(),r.fc(16,"div",10),r.fc(17,"h4"),r.Mc(18,"If hardware acceleration is disabled in your browser"),r.ec(),r.fc(19,"p",9),r.Mc(20,"Browser settings > Use hardware acceleration when available"),r.ec(),r.ec(),r.fc(21,"p"),r.Mc(22,"If you are still experiencing problems, your device might not meet the minimum requirements"),r.ec(),r.fc(23,"button",11),r.mc("click",(function(){return e.continue()})),r.Mc(24,"Continue anyways"),r.ec()),2&t&&(r.Qb(1),r.vc("ngStyle",r.wc(2,m,e.showPlay?"all":"none")),r.Qb(1),r.vc("ngIf",e.showPlay))},directives:[i.l,i.k,d.a,f.a],styles:["[_nghost-%COMP%]{text-align:center;display:block}[_nghost-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em}@media (min-width:1199px){[_nghost-%COMP%]   p[_ngcontent-%COMP%]{font-size:.7em}}[_nghost-%COMP%]   .mat-fab[_ngcontent-%COMP%]{background-color:#fff!important}[_nghost-%COMP%]   .mat-fab[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#000}[_nghost-%COMP%]   .vid[_ngcontent-%COMP%]{cursor:pointer;position:relative;display:inline-block;vertical-align:bottom;border-radius:50%;overflow:hidden;line-height:0;margin:0;padding:0;background-color:#d0d0d0}[_nghost-%COMP%]   .vid[_ngcontent-%COMP%]   .playbtn[_ngcontent-%COMP%]{position:absolute;z-index:10;top:50%;left:50%;transform:translateX(-50%) translateY(-50%)}"]}),t}(),y=n("tyNb"),b=n("XNiG"),_=n("1G5W"),w=n("7u5G");function x(t,e){if(1&t){var n=r.gc();r.fc(0,"label",1),r.fc(1,"input",2),r.mc("change",(function(){r.Dc(n);var t=e.index;return r.qc().radioChange(t)})),r.ec(),r.bc(2,"span",3),r.Mc(3),r.ec()}if(2&t){var i=e.$implicit;r.Qb(3),r.Oc(" ",i.label,"\n")}}var k=function(){function t(){this.options=[{label:"Hazy morning"},{label:"Early sunrise"},{label:"Summer evening"},{label:"Starry night"},{label:"Rainy day"},{label:"Velvet sky"},{label:"Cotton candy"},{label:"Winter night"},{label:"Bright day"},{label:"Pastel dreams"},{label:"Midnight thunder"},{label:"Warm days"}],this.moodChange=new r.t}return t.prototype.ngOnInit=function(){},t.prototype.radioChange=function(t){this.moodChange.next(t)},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ub({type:t,selectors:[["app-moodselector"]],outputs:{moodChange:"moodChange"},decls:1,vars:1,consts:[["class","container",4,"ngFor","ngForOf"],[1,"container"],["type","radio","name","radio",3,"change"],[1,"checkdot"]],template:function(t,e){1&t&&r.Lc(0,x,4,1,"label",0),2&t&&r.vc("ngForOf",e.options)},directives:[i.j],styles:['[_nghost-%COMP%]{overflow:hidden;overflow-y:auto;display:block;flex:1}.container[_ngcontent-%COMP%], [_nghost-%COMP%]{position:relative}.container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;margin-bottom:12px;cursor:pointer;font-size:22px;-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 1s}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer}.container[_ngcontent-%COMP%]   .checkdot[_ngcontent-%COMP%]{position:relative;top:0;left:0;height:25px;width:25px;border:3px solid #000;border-radius:50%;margin-right:7px;transition:border-color 1s}.container[_ngcontent-%COMP%]   .checkdot[_ngcontent-%COMP%]:after{transition:background-color 1s;content:"";position:absolute;display:none}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkdot[_ngcontent-%COMP%]:after{display:block}.container[_ngcontent-%COMP%]   .checkdot[_ngcontent-%COMP%]:after{top:4px;left:4px;width:11px;height:11px;border-radius:50%;background:#000}']}),t}();function O(t,e){1&t&&(r.fc(0,"mat-icon"),r.Mc(1,"settings"),r.ec())}function S(t,e){1&t&&(r.fc(0,"mat-icon"),r.Mc(1,"expand_more"),r.ec())}var C=function(t){return{show:t}},A=function(t,e){return{open:t,dark:e}},M=function(){function t(t,e,n,i,r){this.ts=t,this.site=e,this.cd=n,this.ns=i,this.ga=r,this.panelOpen=!1,this.delayed=!1,this.dotTop=0,this.dotLeft=0,this.angle=0,this.transform="",this.destroy=new b.a}return t.prototype.ngOnInit=function(){var t=this;this.ts.onRender.pipe(Object(_.a)(this.destroy)).subscribe((function(e){t.cd.markForCheck()}))},t.prototype.ngAfterViewInit=function(){var t=this;setTimeout((function(){t.delayed=!0,t.site.isMobile||(t.panelOpen=!0),t.cd.detectChanges()}),10)},t.prototype.panelToggle=function(){this.panelOpen=!this.panelOpen,this.panelOpen?this.ga.event("button_click_panelOpen","button_click","Panel open clicked"):this.ga.event("button_click_panelClose","button_click","Panel close clicked")},t.prototype.autoFlyChange=function(t){this.ts.autofly=t.target.checked,this.ga.event("button_click_autofly","button_click","Autofly start clicked")},t.prototype.moodChange=function(t){this.ga.event("mood_selected_"+t,"mood_select","Mood selected: "+t),this.ts.anim.setState(null,!0,4,this.ts.anim.stateOverrides[t])},t.prototype.ngOnDestroy=function(){this.destroy.next(),this.destroy.complete()},t.\u0275fac=function(e){return new(e||t)(r.ac(c.a),r.ac(s.a),r.ac(r.j),r.ac(w.a),r.ac(h.a))},t.\u0275cmp=r.Ub({type:t,selectors:[["app-flycontrols"]],decls:15,vars:16,consts:[[1,"cd",3,"ngClass"],[1,"panel",3,"ngClass"],["mat-icon-button","","aria-label","Settings button",1,"settingsbutton",3,"click"],[4,"ngIf"],[1,"container"],["type","checkbox",3,"checked","checkedChange","change"],[1,"checkmark"],[1,"w-100"],[3,"moodChange"]],template:function(t,e){1&t&&(r.fc(0,"p",0),r.rc(1,"async"),r.rc(2,"async"),r.Mc(3,"Click & Drag"),r.ec(),r.fc(4,"div",1),r.rc(5,"async"),r.fc(6,"button",2),r.mc("click",(function(){return e.panelToggle()})),r.Lc(7,O,2,0,"mat-icon",3),r.Lc(8,S,2,0,"mat-icon",3),r.ec(),r.fc(9,"label",4),r.fc(10,"input",5),r.mc("checkedChange",(function(t){return e.ts.autofly=t}))("change",(function(t){return e.autoFlyChange(t)})),r.ec(),r.bc(11,"span",6),r.Mc(12," Autofly "),r.ec(),r.bc(13,"hr",7),r.fc(14,"app-moodselector",8),r.mc("moodChange",(function(t){return e.moodChange(t)})),r.ec(),r.ec()),2&t&&(r.vc("ngClass",r.wc(11,C,r.sc(1,5,e.ts.isFreeFlight)&&!r.sc(2,7,e.ns.firstInteraction)&&e.delayed)),r.Qb(4),r.vc("ngClass",r.xc(13,A,e.panelOpen,r.sc(5,9,e.ts.darkChange)>.5)),r.Qb(3),r.vc("ngIf",!e.panelOpen),r.Qb(1),r.vc("ngIf",e.panelOpen),r.Qb(2),r.vc("checked",e.ts.autofly))},directives:[i.i,d.a,i.k,k,f.a],pipes:[i.b],styles:['[_nghost-%COMP%]{position:fixed;top:0;left:0;height:100%;width:100%;display:block;z-index:1000;pointer-events:none}[_nghost-%COMP%]   .panel[_ngcontent-%COMP%]{max-height:70%;display:flex;flex-direction:column}[_nghost-%COMP%]   .dirind[_ngcontent-%COMP%]{border-radius:50%;position:fixed;bottom:15px;left:50%;transform:translateX(-50%);pointer-events:none}[_nghost-%COMP%]   .dirind[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{border:solid #000;border-width:0 3px 3px 0;display:inline-block;padding:3px;left:50%;top:50%;transform:rotate(-135deg)}[_nghost-%COMP%]   .dirind[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{background-color:green;border-radius:50%;height:10px;width:10px;position:absolute}[_nghost-%COMP%]   .cd[_ngcontent-%COMP%], [_nghost-%COMP%]   .dirind[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{transform:translateX(-50%) translateY(-50%)}[_nghost-%COMP%]   .cd[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transition:opacity 1s;opacity:0;pointer-events:none}[_nghost-%COMP%]   .cd.show[_ngcontent-%COMP%]{transition:opacity 1s 1s;opacity:1}[_nghost-%COMP%]   .panel[_ngcontent-%COMP%]{padding:1em;background-color:rgba(0,0,0,.1);position:fixed;top:100%;transition:transform .3s ease-in-out;right:0}[_nghost-%COMP%]   .panel.dark[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.1);color:#fff}[_nghost-%COMP%]   .panel.dark[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.1)}[_nghost-%COMP%]   .panel.dark[_ngcontent-%COMP%]   .settingsbutton[_ngcontent-%COMP%]{color:#fff}[_nghost-%COMP%]   .panel.dark[_ngcontent-%COMP%]    .container .checkdot, [_nghost-%COMP%]   .panel.dark[_ngcontent-%COMP%]    .container .checkmark, [_nghost-%COMP%]   .panel.dark[_ngcontent-%COMP%]    .container .checkmark:after{border-color:#fff!important}[_nghost-%COMP%]   .panel.dark[_ngcontent-%COMP%]    .container .checkdot:after{background-color:#fff!important}[_nghost-%COMP%]   .panel.open[_ngcontent-%COMP%]{pointer-events:all;transform:translateY(-100%)}[_nghost-%COMP%]   .panel[_ngcontent-%COMP%]   .settingsbutton[_ngcontent-%COMP%]{position:absolute;top:-55px;right:15px;pointer-events:all}[_nghost-%COMP%]   .panel[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.1)}[_nghost-%COMP%]   .panel[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;position:relative;margin-bottom:12px;cursor:pointer;font-size:22px;-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 1s}[_nghost-%COMP%]   .panel[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}[_nghost-%COMP%]   .panel[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{height:25px;width:25px;border:3px solid #000;transition:border-color 1s;border-radius:5px;position:relative;margin-right:7px}[_nghost-%COMP%]   .panel[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{content:"";display:none}[_nghost-%COMP%]   .panel[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}[_nghost-%COMP%]   .panel[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{position:absolute;left:5px;top:1px;width:8px;height:14px;transition:border-color 1s;border:solid #000;border-width:0 3px 3px 0;transform:rotate(45deg)}@-webkit-keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}']}),t}();function T(t,e){1&t&&r.bc(0,"app-flycontrols")}var E=function(){function t(t,e,n,i,r,a){var o=this;this.site=t,this.ts=e,this.cd=n,this.ga=i,this.data=r,this.dialog=a,this.isInited=!1,this.data.getData(),this.site.focus.subscribe((function(t){t&&(o.ts.slowTicks=0)}));var s=setInterval((function(){o.ts.slowTicks>5&&o.ts.average10>.2&&o.site.focus.value&&(o.ga.event("slow_notice_shown","slow_notice","Browser running slow notice shown"),o.dialog.open(g,{maxWidth:"600px",closeOnNavigation:!1,disableClose:!0,panelClass:"notice-modal"}),o.ts.pauseRender(),clearInterval(s))}),1e3);this.ts.onInited.subscribe((function(t){t&&(o.isInited=!0,o.cd.markForCheck())}))}return t.prototype.ngOnInit=function(){var t=this;this.data.dataLoaded.subscribe((function(e){e&&(t.images=t.data.projects.categories[1].projects)}))},t.prototype.ngAfterViewInit=function(){},t.\u0275fac=function(e){return new(e||t)(r.ac(s.a),r.ac(c.a),r.ac(r.j),r.ac(h.a),r.ac(u.a),r.ac(l.b))},t.\u0275cmp=r.Ub({type:t,selectors:[["app-main"]],decls:3,vars:3,consts:[[4,"ngIf"]],template:function(t,e){1&t&&(r.Lc(0,T,1,0,"app-flycontrols",0),r.rc(1,"async"),r.bc(2,"router-outlet")),2&t&&r.vc("ngIf",r.sc(1,1,e.ts.isFreeFlight))},directives:[i.k,y.e,M],pipes:[i.b],styles:["[_nghost-%COMP%]  router-outlet+*{display:block;z-index:499}.scene[_ngcontent-%COMP%], [_nghost-%COMP%]  router-outlet+*{width:100%;height:100%;position:fixed;top:0}.scene[_ngcontent-%COMP%]{left:0;z-index:10}"],changeDetection:0}),t}(),P=n("rDax"),D=["imagesRef"],j=function(t){return{height:t}};function R(t,e){if(1&t&&r.bc(0,"img",8),2&t){var n=r.qc(),i=n.$implicit,a=n.index,o=r.qc();r.vc("src",i.src,r.Ec)("alt",i.alt)("srcset",i.srcset,r.Ec)("sizes",i.sizes)("ngStyle",r.wc(5,j,o.heights[a]+"px"))}}function I(t,e){if(1&t&&r.bc(0,"img",9),2&t){var n=r.qc(),i=n.$implicit,a=n.index,o=r.qc();r.vc("src",i.gifSrc,r.Ec)("ngStyle",r.wc(2,j,o.heights[a]+"px"))}}function L(t,e){if(1&t&&(r.dc(0),r.Lc(1,R,1,7,"img",6),r.Lc(2,I,1,4,"img",7),r.cc()),2&t){var n=e.$implicit;r.Qb(1),r.vc("ngIf",!n.gifSrc),r.Qb(1),r.vc("ngIf",n.gifSrc)}}var N=function(t){return{"background-color":t}},F=function(){function t(t,e,n,i){this.data=t,this.el=e,this.dialogRef=n,this.cd=i,this.heights=[],this.timeouts=[]}return t.prototype.resize=function(){this.updateSize()},t.prototype.click=function(){this.close()},t.prototype.calculateHeights=function(){for(var t=0;t<this.data.images.length;t++){var e=this.data.images[t].data;this.heights[t]=this.imagesRef.nativeElement.offsetWidth/e.width*e.height,this.heights[t]=this.heights[t]>e.height?e.height:this.heights[t]}},t.prototype.updateSize=function(){this.width=this.imagesRef.nativeElement.offsetWidth,this.calculateHeights()},t.prototype.ngAfterViewInit=function(){var t=this;this.updateSize(),this.cd.detectChanges(),this.timeouts.push(setTimeout((function(e){t.updateSize()}),50)),this.timeouts.push(setTimeout((function(e){t.updateSize()}),500))},t.prototype.ngOnInit=function(){},t.prototype.close=function(){this.dialogRef.close()},t.prototype.ngOnDestroy=function(){this.timeouts.forEach((function(t){clearTimeout(t)}))},t.\u0275fac=function(e){return new(e||t)(r.ac(l.a),r.ac(r.r),r.ac(l.d),r.ac(r.j))},t.\u0275cmp=r.Ub({type:t,selectors:[["app-grid-gallery-project"]],viewQuery:function(t,e){var n;(1&t&&r.Hc(D,!0),2&t)&&(r.yc(n=r.nc())&&(e.imagesRef=n.first))},hostBindings:function(t,e){1&t&&r.mc("resize",(function(){return e.resize()}),!1,r.Cc)("click",(function(){return e.click()}))},decls:10,vars:6,consts:[[1,"header"],[1,"title"],[1,"xmark",3,"click"],[1,"images",3,"ngStyle"],["imagesRef",""],[4,"ngFor","ngForOf"],["class","mb-5","alt","",3,"src","alt","srcset","sizes","ngStyle",4,"ngIf"],["class","mb-5",3,"src","ngStyle",4,"ngIf"],["alt","",1,"mb-5",3,"src","alt","srcset","sizes","ngStyle"],[1,"mb-5",3,"src","ngStyle"]],template:function(t,e){1&t&&(r.fc(0,"div",0),r.fc(1,"div",1),r.fc(2,"h2"),r.Mc(3),r.ec(),r.ec(),r.fc(4,"div",2),r.mc("click",(function(){return e.close()})),r.ec(),r.ec(),r.fc(5,"p"),r.Mc(6),r.ec(),r.fc(7,"div",3,4),r.Lc(9,L,3,2,"ng-container",5),r.ec()),2&t&&(r.Qb(3),r.Nc(e.data.title),r.Qb(3),r.Nc(e.data.description),r.Qb(1),r.vc("ngStyle",r.wc(4,N,e.data.bgColor)),r.Qb(2),r.vc("ngForOf",e.data.images))},directives:[i.l,i.j,i.k],styles:["[_nghost-%COMP%]{align-items:flex-start;justify-content:flex-start;max-width:100%;font-size:.8em}[_nghost-%COMP%], [_nghost-%COMP%]   .images[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;overflow:hidden;position:relative}[_nghost-%COMP%]   .header[_ngcontent-%COMP%], [_nghost-%COMP%]   .images[_ngcontent-%COMP%]{align-items:center;justify-content:center}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;width:100%}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;-o-object-fit:contain;object-fit:contain;transform:translateZ(0)}[_nghost-%COMP%]   p[_ngcontent-%COMP%]{display:block;color:#fff}[_nghost-%COMP%]   .title[_ngcontent-%COMP%]{position:relative;flex:1;min-width:0}[_nghost-%COMP%]   .title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:#fff;margin-bottom:0;display:inline-block}"]}),t}(),B=n("0MNC"),z=n("ReuC"),U=n("foSv"),H=n("Ji7U"),V=n("LK+K"),G=n("KQm4"),W=n("1OyB"),X=n("vuIU"),q=n("FKr1"),Y=n("8LU1"),Q=n("cH1L"),K=["*"],Z=[[["","mat-grid-avatar",""],["","matGridAvatar",""]],[["","mat-line",""],["","matLine",""]],"*"],J=".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-figure{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}\n",$=new r.A("MAT_GRID_LIST"),tt=function(){function t(e,n){Object(W.a)(this,t),this._element=e,this._gridList=n,this._rowspan=1,this._colspan=1}return Object(X.a)(t,[{key:"_setStyle",value:function(t,e){this._element.nativeElement.style[t]=e}},{key:"rowspan",get:function(){return this._rowspan},set:function(t){this._rowspan=Math.round(Object(Y.e)(t))}},{key:"colspan",get:function(){return this._colspan},set:function(t){this._colspan=Math.round(Object(Y.e)(t))}}]),t}();tt.\u0275fac=function(t){return new(t||tt)(r.ac(r.r),r.ac($,8))},tt.\u0275cmp=r.Ub({type:tt,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(t,e){2&t&&r.Rb("rowspan",e.rowspan)("colspan",e.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:K,decls:2,vars:0,consts:[[1,"mat-figure"]],template:function(t,e){1&t&&(r.uc(),r.fc(0,"figure",0),r.tc(1),r.ec())},styles:[J],encapsulation:2,changeDetection:0}),tt.ctorParameters=function(){return[{type:r.r},{type:void 0,decorators:[{type:r.M},{type:r.y,args:[$]}]}]},tt.propDecorators={rowspan:[{type:r.C}],colspan:[{type:r.C}]};var et=function(){function t(e){Object(W.a)(this,t),this._element=e}return Object(X.a)(t,[{key:"ngAfterContentInit",value:function(){Object(q.l)(this._lines,this._element)}}]),t}();et.\u0275fac=function(t){return new(t||et)(r.ac(r.r))},et.\u0275cmp=r.Ub({type:et,selectors:[["mat-grid-tile-header"],["mat-grid-tile-footer"]],contentQueries:function(t,e,n){var i;(1&t&&r.Tb(n,q.d,!0),2&t)&&(r.yc(i=r.nc())&&(e._lines=i))},ngContentSelectors:["[mat-grid-avatar], [matGridAvatar]","[mat-line], [matLine]","*"],decls:4,vars:0,consts:[[1,"mat-grid-list-text"]],template:function(t,e){1&t&&(r.uc(Z),r.tc(0),r.fc(1,"div",0),r.tc(2,1),r.ec(),r.tc(3,2))},encapsulation:2,changeDetection:0}),et.ctorParameters=function(){return[{type:r.r}]},et.propDecorators={_lines:[{type:r.o,args:[q.d,{descendants:!0}]}]};var nt=function t(){Object(W.a)(this,t)};nt.\u0275fac=function(t){return new(t||nt)},nt.\u0275dir=r.Vb({type:nt,selectors:[["","mat-grid-avatar",""],["","matGridAvatar",""]],hostAttrs:[1,"mat-grid-avatar"]});var it=function t(){Object(W.a)(this,t)};it.\u0275fac=function(t){return new(t||it)},it.\u0275dir=r.Vb({type:it,selectors:[["mat-grid-tile-header"]],hostAttrs:[1,"mat-grid-tile-header"]});var rt=function t(){Object(W.a)(this,t)};rt.\u0275fac=function(t){return new(t||rt)},rt.\u0275dir=r.Vb({type:rt,selectors:[["mat-grid-tile-footer"]],hostAttrs:[1,"mat-grid-tile-footer"]});var at=function(){function t(){Object(W.a)(this,t),this.columnIndex=0,this.rowIndex=0}return Object(X.a)(t,[{key:"update",value:function(t,e){var n=this;this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map((function(t){return n._trackTile(t)}))}},{key:"_trackTile",value:function(t){var e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new ot(this.rowIndex,e)}},{key:"_findMatchingGap",value:function(t){this.tracker.length;var e=-1,n=-1;do{this.columnIndex+t>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),n=this._findGapEndIndex(e)):-1!=(e=this.tracker.indexOf(0,this.columnIndex))?(n=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),n=this._findGapEndIndex(e))}while(n-e<t||0==n);return Math.max(e,0)}},{key:"_nextRow",value:function(){this.columnIndex=0,this.rowIndex++;for(var t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}},{key:"_findGapEndIndex",value:function(t){for(var e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}},{key:"_markTilePosition",value:function(t,e){for(var n=0;n<e.colspan;n++)this.tracker[t+n]=e.rowspan}},{key:"rowCount",get:function(){return this.rowIndex+1}},{key:"rowspan",get:function(){var t=Math.max.apply(Math,Object(G.a)(this.tracker));return t>1?this.rowCount+t-1:this.rowCount}}]),t}(),ot=function t(e,n){Object(W.a)(this,t),this.row=e,this.col=n},st=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/,ct=function(){function t(){Object(W.a)(this,t),this._rows=0,this._rowspan=0}return Object(X.a)(t,[{key:"init",value:function(t,e,n,i){this._gutterSize=ft(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=n,this._direction=i}},{key:"getBaseTileSize",value:function(t,e){return"(".concat(t,"% - (").concat(this._gutterSize," * ").concat(e,"))")}},{key:"getTilePosition",value:function(t,e){return 0===e?"0":dt("(".concat(t," + ").concat(this._gutterSize,") * ").concat(e))}},{key:"getTileSize",value:function(t,e){return"(".concat(t," * ").concat(e,") + (").concat(e-1," * ").concat(this._gutterSize,")")}},{key:"setStyle",value:function(t,e,n){var i=100/this._cols,r=(this._cols-1)/this._cols;this.setColStyles(t,n,i,r),this.setRowStyles(t,e,i,r)}},{key:"setColStyles",value:function(t,e,n,i){var r=this.getBaseTileSize(n,i),a="rtl"===this._direction?"right":"left";t._setStyle(a,this.getTilePosition(r,e)),t._setStyle("width",dt(this.getTileSize(r,t.colspan)))}},{key:"getGutterSpan",value:function(){return"".concat(this._gutterSize," * (").concat(this._rowspan," - 1)")}},{key:"getTileSpan",value:function(t){return"".concat(this._rowspan," * ").concat(this.getTileSize(t,1))}},{key:"getComputedHeight",value:function(){return null}}]),t}(),ut=function(t){Object(H.a)(n,t);var e=Object(V.a)(n);function n(t){var i;return Object(W.a)(this,n),(i=e.call(this)).fixedRowHeight=t,i}return Object(X.a)(n,[{key:"init",value:function(t,e,i,r){Object(z.a)(Object(U.a)(n.prototype),"init",this).call(this,t,e,i,r),this.fixedRowHeight=ft(this.fixedRowHeight),st.test(this.fixedRowHeight)}},{key:"setRowStyles",value:function(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",dt(this.getTileSize(this.fixedRowHeight,t.rowspan)))}},{key:"getComputedHeight",value:function(){return["height",dt("".concat(this.getTileSpan(this.fixedRowHeight)," + ").concat(this.getGutterSpan()))]}},{key:"reset",value:function(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach((function(t){t._setStyle("top",null),t._setStyle("height",null)}))}}]),n}(ct),lt=function(t){Object(H.a)(n,t);var e=Object(V.a)(n);function n(t){var i;return Object(W.a)(this,n),(i=e.call(this))._parseRatio(t),i}return Object(X.a)(n,[{key:"setRowStyles",value:function(t,e,n,i){var r=n/this.rowHeightRatio;this.baseTileHeight=this.getBaseTileSize(r,i),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",dt(this.getTileSize(this.baseTileHeight,t.rowspan)))}},{key:"getComputedHeight",value:function(){return["paddingBottom",dt("".concat(this.getTileSpan(this.baseTileHeight)," + ").concat(this.getGutterSpan()))]}},{key:"reset",value:function(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach((function(t){t._setStyle("marginTop",null),t._setStyle("paddingTop",null)}))}},{key:"_parseRatio",value:function(t){var e=t.split(":");e.length,this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}]),n}(ct),ht=function(t){Object(H.a)(n,t);var e=Object(V.a)(n);function n(){return Object(W.a)(this,n),e.apply(this,arguments)}return Object(X.a)(n,[{key:"setRowStyles",value:function(t,e){var n=100/this._rowspan,i=(this._rows-1)/this._rows,r=this.getBaseTileSize(n,i);t._setStyle("top",this.getTilePosition(r,e)),t._setStyle("height",dt(this.getTileSize(r,t.rowspan)))}},{key:"reset",value:function(t){t._tiles&&t._tiles.forEach((function(t){t._setStyle("top",null),t._setStyle("height",null)}))}}]),n}(ct);function dt(t){return"calc(".concat(t,")")}function ft(t){return t.match(/([A-Za-z%]+)$/)?t:"".concat(t,"px")}var pt=function(){function t(e,n){Object(W.a)(this,t),this._element=e,this._dir=n,this._gutter="1px"}return Object(X.a)(t,[{key:"ngOnInit",value:function(){this._checkCols(),this._checkRowHeight()}},{key:"ngAfterContentChecked",value:function(){this._layoutTiles()}},{key:"_checkCols",value:function(){this.cols,0}},{key:"_checkRowHeight",value:function(){this._rowHeight||this._setTileStyler("1:1")}},{key:"_setTileStyler",value:function(t){this._tileStyler&&this._tileStyler.reset(this),"fit"===t?this._tileStyler=new ht:t&&t.indexOf(":")>-1?this._tileStyler=new lt(t):this._tileStyler=new ut(t)}},{key:"_layoutTiles",value:function(){var t=this;this._tileCoordinator||(this._tileCoordinator=new at);var e=this._tileCoordinator,n=this._tiles.filter((function(e){return!e._gridList||e._gridList===t})),i=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,n),this._tileStyler.init(this.gutterSize,e,this.cols,i),n.forEach((function(n,i){var r=e.positions[i];t._tileStyler.setStyle(n,r.row,r.col)})),this._setListStyle(this._tileStyler.getComputedHeight())}},{key:"_setListStyle",value:function(t){t&&(this._element.nativeElement.style[t[0]]=t[1])}},{key:"cols",get:function(){return this._cols},set:function(t){this._cols=Math.max(1,Math.round(Object(Y.e)(t)))}},{key:"gutterSize",get:function(){return this._gutter},set:function(t){this._gutter="".concat(null==t?"":t)}},{key:"rowHeight",get:function(){return this._rowHeight},set:function(t){var e="".concat(null==t?"":t);e!==this._rowHeight&&(this._rowHeight=e,this._setTileStyler(this._rowHeight))}}]),t}();pt.\u0275fac=function(t){return new(t||pt)(r.ac(r.r),r.ac(Q.b,8))},pt.\u0275cmp=r.Ub({type:pt,selectors:[["mat-grid-list"]],contentQueries:function(t,e,n){var i;(1&t&&r.Tb(n,tt,!0),2&t)&&(r.yc(i=r.nc())&&(e._tiles=i))},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(t,e){2&t&&r.Rb("cols",e.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[r.Pb([{provide:$,useExisting:pt}])],ngContentSelectors:K,decls:2,vars:0,template:function(t,e){1&t&&(r.uc(),r.fc(0,"div"),r.tc(1),r.ec())},styles:[J],encapsulation:2,changeDetection:0}),pt.ctorParameters=function(){return[{type:r.r},{type:Q.b,decorators:[{type:r.M}]}]},pt.propDecorators={_tiles:[{type:r.o,args:[tt,{descendants:!0}]}],cols:[{type:r.C}],gutterSize:[{type:r.C}],rowHeight:[{type:r.C}]};var vt=function t(){Object(W.a)(this,t)};vt.\u0275mod=r.Yb({type:vt}),vt.\u0275inj=r.Xb({factory:function(t){return new(t||vt)},imports:[[q.e,q.c],q.e,q.c]});var mt=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ub({type:t,selectors:[["app-preloader"]],decls:5,vars:0,consts:[[1,"lds-ring"]],template:function(t,e){1&t&&(r.fc(0,"div",0),r.bc(1,"div"),r.bc(2,"div"),r.bc(3,"div"),r.bc(4,"div"),r.ec())},styles:[".lds-ring[_ngcontent-%COMP%]{display:inline-block;position:relative;width:40px;height:40px}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{box-sizing:border-box;display:block;position:absolute;width:32px;height:32px;margin:4px;border-radius:50%;-webkit-animation:lds-ring 1.2s cubic-bezier(.5,0,.5,1) infinite;animation:lds-ring 1.2s cubic-bezier(.5,0,.5,1) infinite;border:4px solid transparent;border-top-color:#fff}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-.45s;animation-delay:-.45s}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.3s;animation-delay:-.3s}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.15s;animation-delay:-.15s}@-webkit-keyframes lds-ring{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes lds-ring{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}"]}),t}(),gt=["img"];function yt(t,e){1&t&&r.bc(0,"app-preloader")}var bt=function(t){return{height:t}},_t=function(t){return{loaded:t}},wt=function(){function t(t,e,n){this.el=t,this.renderer=e,this.cd=n,this.rowHeight=1,this.gutterSize=1,this.rows=0,this.height=0,this.loaded=!1}return t.prototype.onResize=function(){var t=this;clearTimeout(this.timeout),this.timeout=setTimeout((function(){t.calculateHeight();var e=t.project.prevImage?t.project.prevImage:t.project.images[0];e&&(t.rows=Math.floor(t.el.nativeElement.offsetWidth/e.data.width*e.data.height/(t.rowHeight+t.gutterSize)),t.cd.markForCheck(),t.cd.detectChanges())}))},t.prototype.onLoad=function(){this.loaded=!0,this.onResize()},t.prototype.ngOnInit=function(){},t.prototype.ngAfterViewInit=function(){this.calculateHeight(),this.onResize(),this.cd.detectChanges()},t.prototype.calculateHeight=function(){var t=this.project.prevImage?this.project.prevImage:this.project.images[0];if(t){var e=t.data.width,n=t.data.height;this.height=this.el.nativeElement.offsetWidth/e*n,this.renderer.setStyle(this.el.nativeElement,"height",this.height+"px")}},t.prototype.ngOnDestroy=function(){clearTimeout(this.timeout)},t.\u0275fac=function(e){return new(e||t)(r.ac(r.r),r.ac(r.S),r.ac(r.j))},t.\u0275cmp=r.Ub({type:t,selectors:[["app-grid-gallery-item"]],viewQuery:function(t,e){var n;(1&t&&r.Pc(gt,!0),2&t)&&(r.yc(n=r.nc())&&(e.img=n.first))},hostBindings:function(t,e){1&t&&r.mc("resize",(function(){return e.onResize()}),!1,r.Cc)},inputs:{project:"project",rowHeight:"rowHeight",gutterSize:"gutterSize"},decls:4,vars:10,consts:[[1,"info",3,"ngStyle"],[3,"src","srcset","sizes","ngClass","load"],["img",""],[4,"ngIf"]],template:function(t,e){1&t&&(r.bc(0,"div",0),r.fc(1,"img",1,2),r.mc("load",(function(){return e.onLoad()})),r.ec(),r.Lc(3,yt,1,0,"app-preloader",3)),2&t&&(r.vc("ngStyle",r.wc(6,bt,e.height+"px")),r.Qb(1),r.vc("src",e.project.prevImage?e.project.prevImage.src:null==e.project||null==e.project.images[0]?null:e.project.images[0].src,r.Ec)("srcset",e.project.prevImage?e.project.prevImage.srcset:null==e.project||null==e.project.images[0]?null:e.project.images[0].srcset,r.Ec)("sizes",e.project.prevImage?e.project.prevImage.sizes:null==e.project||null==e.project.images[0]?null:e.project.images[0].sizes)("ngClass",r.wc(8,_t,e.loaded)),r.Qb(2),r.vc("ngIf",!e.loaded))},directives:[i.l,i.i,i.k,mt],styles:["[_nghost-%COMP%]{height:100%;-o-object-fit:cover;object-fit:cover;position:absolute;width:100%;min-width:1px;display:flex;cursor:pointer}[_nghost-%COMP%]   .info[_ngcontent-%COMP%]{position:absolute;width:5000px;background-color:hsla(0,0%,100%,.07)}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{width:100%;transition:transform .5s ease-in-out,opacity 1s;opacity:0;position:relative}[_nghost-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.3) rotate(2deg)}[_nghost-%COMP%]   img.loaded[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   app-preloader[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%);z-index:10}"]}),t}(),xt=["gridlistRef"];function kt(t,e){1&t&&(r.fc(0,"mat-icon",9),r.Mc(1,"filter"),r.ec())}function Ot(t,e){1&t&&(r.fc(0,"mat-icon",9),r.Mc(1,"gif"),r.ec())}function St(t,e){if(1&t){var n=r.gc();r.fc(0,"mat-grid-tile",3,4),r.fc(2,"div",5),r.Lc(3,kt,2,0,"mat-icon",6),r.Lc(4,Ot,2,0,"mat-icon",6),r.ec(),r.fc(5,"app-grid-gallery-item",7,8),r.mc("click",(function(){r.Dc(n);var t=e.$implicit;return r.qc().clicked(t)})),r.ec(),r.ec()}if(2&t){var i=e.$implicit,a=r.zc(6),o=r.qc();r.vc("rowspan",a.rows),r.Qb(3),r.vc("ngIf",i.images.length>1),r.Qb(1),r.vc("ngIf",i.hasGif),r.Qb(1),r.vc("project",i)("rowHeight",o.rowHeight)("gutterSize",o.gutterSize)}}var Ct=function(){function t(t,e,n){this.breakpointObserver=t,this.cd=e,this.dialog=n,this.cols=3,this.cols_xs=2,this.cols_sm=2,this.cols_md=3,this.cols_lg=3,this.cols_xl=3,this.rowHeight=1,this.gutterSize=10,this.openProject=new r.t}return t.prototype.onResize=function(){setTimeout((function(){}))},t.prototype.ngOnInit=function(){var t=this;this.breakpointObserver.observe([B.b.XSmall,B.b.Small,B.b.Medium,B.b.Large,B.b.XLarge]).subscribe((function(e){t.breakpointObserver.isMatched(B.b.XSmall)&&(t.cols=t.cols_xs),t.breakpointObserver.isMatched(B.b.Small)&&(t.cols=t.cols_sm),t.breakpointObserver.isMatched(B.b.Medium)&&(t.cols=t.cols_md),t.breakpointObserver.isMatched(B.b.Large)&&(t.cols=t.cols_lg),t.breakpointObserver.isMatched(B.b.XLarge)&&(t.cols=t.cols_xl),t.cd.detectChanges()}))},t.prototype.clicked=function(t){this.openProject.next(t)},t.prototype.ngOnDestroy=function(){this.mediaWatcher&&this.mediaWatcher.unsubscribe()},t.\u0275fac=function(e){return new(e||t)(r.ac(B.a),r.ac(r.j),r.ac(l.b))},t.\u0275cmp=r.Ub({type:t,selectors:[["app-grid-gallery"]],viewQuery:function(t,e){var n;(1&t&&r.Hc(xt,!0),2&t)&&(r.yc(n=r.nc())&&(e.gridlistRef=n.first))},hostBindings:function(t,e){1&t&&r.mc("resize",(function(){return e.onResize()}),!1,r.Cc)},inputs:{projects:"projects",cols:"cols",cols_xs:["cols.xs","cols_xs"],cols_sm:["cols.sm","cols_sm"],cols_md:["cols.md","cols_md"],cols_lg:["cols.lg","cols_lg"],cols_xl:["cols.xl","cols_xl"],rowHeight:"rowHeight",gutterSize:"gutterSize"},outputs:{openProject:"openProject"},decls:3,vars:4,consts:[[3,"cols","rowHeight","gutterSize"],["gridlistRef",""],[3,"rowspan",4,"ngFor","ngForOf"],[3,"rowspan"],["tile",""],[1,"icons"],["class","mr-3",4,"ngIf"],[3,"project","rowHeight","gutterSize","click"],["item",""],[1,"mr-3"]],template:function(t,e){1&t&&(r.fc(0,"mat-grid-list",0,1),r.Lc(2,St,7,6,"mat-grid-tile",2),r.ec()),2&t&&(r.vc("cols",e.cols)("rowHeight",e.rowHeight)("gutterSize",e.gutterSize+"px"),r.Qb(2),r.vc("ngForOf",e.projects))},directives:[pt,i.j,tt,i.k,wt,f.a],styles:["[_nghost-%COMP%]   mat-grid-list[_ngcontent-%COMP%]{margin:10px}[_nghost-%COMP%]   .icons[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;z-index:10;color:#fff}"]}),t}();function At(t,e){if(1&t){var n=r.gc();r.fc(0,"app-grid-gallery",10),r.mc("openProject",(function(t){return r.Dc(n),r.qc().openProject(t)})),r.ec()}if(2&t){var i=r.qc();r.vc("projects",i.projects)}}var Mt=function(){function t(t,e,n,i,r,a){var o=this;this.dialogData=t,this.dialogRef=e,this.data=n,this.router=i,this.route=r,this.dialog=a,this.destroy=new b.a,this.numOfImages=30,this.data.dataLoaded.subscribe((function(e){e&&(o.category=o.data.projects.categories[t.project],o.projects=o.data.projects.categories[t.project].projects,o.init())}))}return t.prototype.openProject=function(t){var e={project:t?encodeURIComponent(t.title):null};this.router.navigate([],{relativeTo:this.route,queryParams:e,queryParamsHandling:"merge"})},t.prototype.init=function(){var t=this;this.route.queryParams.pipe(Object(_.a)(this.destroy)).subscribe((function(e){var n=e.project;if(n&&t.projects){var i=t.projects.find((function(t){return encodeURIComponent(t.title)===n}));if(i)t.dialog.open(F,{maxWidth:"1200px",width:"100%",maxHeight:"100%",data:i,backdropClass:"gallery-backdrop",panelClass:"gallery-panel",scrollStrategy:new P.a}).afterClosed().subscribe((function(e){t.openProject(null)}))}}))},t.prototype.close=function(){this.dialogRef.close()},t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){this.destroy.next(),this.destroy.complete()},t.\u0275fac=function(e){return new(e||t)(r.ac(l.a),r.ac(l.d),r.ac(u.a),r.ac(y.c),r.ac(y.a),r.ac(l.b))},t.\u0275cmp=r.Ub({type:t,selectors:[["app-project-view"]],inputs:{projects:"projects"},decls:11,vars:2,consts:[[1,"images-wrap"],[1,"container-fluid"],[1,"xmark","abs","mt-2","mt-md-0","d-none","d-md-inline",3,"click"],[1,"row"],[1,"col-12","mb-2","mt-3","mb-md-5","mt-md-5","text-left","text-md-center"],[1,"d-flex","align-items-center","justify-content-center"],[1,"mb-0"],[1,"d-inline","d-md-none","spacer","flex-grow-1"],[1,"d-inline","d-md-none","xmark","ml-3",3,"click"],["class","gallery",3,"projects","openProject",4,"ngIf"],[1,"gallery",3,"projects","openProject"]],template:function(t,e){1&t&&(r.fc(0,"div",0),r.fc(1,"div",1),r.fc(2,"div",2),r.mc("click",(function(){return e.close()})),r.ec(),r.fc(3,"div",3),r.fc(4,"div",4),r.fc(5,"div",5),r.fc(6,"p",6),r.Mc(7),r.ec(),r.bc(8,"div",7),r.fc(9,"div",8),r.mc("click",(function(){return e.close()})),r.ec(),r.ec(),r.ec(),r.ec(),r.ec(),r.Lc(10,At,1,1,"app-grid-gallery",9),r.ec()),2&t&&(r.Qb(7),r.Nc(null==e.category?null:e.category.description),r.Qb(3),r.vc("ngIf",e.projects))},directives:[i.k,Ct],styles:["[_nghost-%COMP%]{height:100%;width:100%;position:relative;display:inline-block;color:#fff}[_nghost-%COMP%]   .xmark[_ngcontent-%COMP%]{font-size:.8em}[_nghost-%COMP%]   .xmark.abs[_ngcontent-%COMP%]{position:absolute;top:15px;right:15px;z-index:10}[_nghost-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff}[_nghost-%COMP%]   .vignette[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:radial-gradient(transparent 50%,#000);z-index:2;pointer-events:none}[_nghost-%COMP%]   .images-wrap[_ngcontent-%COMP%]{background:#000}[_nghost-%COMP%]   .images[_ngcontent-%COMP%], [_nghost-%COMP%]   .images-wrap[_ngcontent-%COMP%]{overflow:auto;position:relative;height:100%;width:100%}[_nghost-%COMP%]   .images[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:stretch;justify-content:space-around}[_nghost-%COMP%]   .images[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{flex:1 0 auto;height:100px;width:200px;position:relative;padding:3px}@media (min-width:1200px){[_nghost-%COMP%]   .images[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{height:300px;width:500px}}[_nghost-%COMP%]   .images[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   .image-content[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;background-color:grey}"]}),t}(),Tt=n("Haw6"),Et=n("lCAa"),Pt=n("RHZy"),Dt=n("pc+1"),jt=n("+rOU"),Rt=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ub({type:t,selectors:[["app-mano"]],decls:1,vars:0,consts:[[1,"img"]],template:function(t,e){1&t&&r.bc(0,"div",0)},styles:["[_nghost-%COMP%]{background-color:#000;width:100%;height:100%;border-radius:50%;-webkit-animation:fadeIn .5s linear forwards;animation:fadeIn .5s linear forwards;display:block;overflow:hidden;border:4px solid #d0d0d0}@media (min-width:767px){[_nghost-%COMP%]{border-bottom-left-radius:0}}[_nghost-%COMP%]   .img[_ngcontent-%COMP%]{width:100%;height:100%;background:#000;margin-bottom:1em;background-image:url(mano_bw.e94cdd317911265ba7c7.jpg);background-position:50% 50%;background-size:cover}@-webkit-keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}"]}),t}(),It=["circleRef"],Lt=["circRef"],Nt=["btnRef"],Ft=["btnRef2"],Bt=function(){function t(t,e,n,i,r){this.renderer=t,this.ga=e,this.site=n,this.router=i,this.overlay=r,this.destroy$=new b.a,this.isMobile=this.site.isMobile,this.circleSize=20,this.circleActualSize=20,this.scrollStartPos=0}return t.prototype.ngOnInit=function(){},t.prototype.click=function(){this.closeOverlay()},t.prototype.ngAfterViewInit=function(){var t=this;this.site.screenSizeChange.pipe(Object(_.a)(this.destroy$)).subscribe((function(e){t.updateSize()})),this.updateSize();this.site.scrollEvent.pipe().subscribe((function(e){t.overlayRef&&Math.abs(t.scrollStartPos-t.site.scrolledEl.scrollTop)>200&&t.closeOverlay()}))},t.prototype.openMe=function(){this.router.navigate(["/about"])},t.prototype.closeOverlay=function(){this.overlayRef&&(this.overlayRef.detach(),this.overlayRef.dispose(),this.overlayRef=null)},t.prototype.openMano=function(){var t=this;this.ga.event("button_click_mano","button_click","Mano image opened"),setTimeout((function(){if(!t.overlayRef){t.scrollStartPos=t.site.scrolledEl.scrollTop;var e=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),n=t.overlay.position().flexibleConnectedTo(t.btnRef2.nativeElement).withPositions([{originX:e<767?"center":"end",originY:"top",overlayX:e<767?"center":"start",overlayY:"bottom",offsetY:e<767?-10:0}]);t.overlayRef=t.overlay.create({positionStrategy:n,scrollStrategy:t.overlay.scrollStrategies.close({}),width:250,height:250});var i=new jt.c(Rt);t.overlayRef.attach(i)}}))},t.prototype.updateSize=function(){this.isMobile=this.site.isMobile;var t,e=this.site.screen,n=(this.site.screen.w,this.circleSize-4.2);e.aspect<1?(this.renderer.setAttribute(this.circleRef.nativeElement,"rx",(this.circleSize*e.aspect).toString()),this.renderer.setAttribute(this.circleRef.nativeElement,"ry",this.circleSize.toString()),this.circleActualSize=this.circleSize*e.aspect*1.5,t=n/100*this.site.screen.h):(this.circleActualSize=1.5*this.circleSize,this.renderer.setAttribute(this.circleRef.nativeElement,"rx",this.circleSize.toString()),this.renderer.setAttribute(this.circleRef.nativeElement,"ry",(this.circleSize*e.aspect2).toString()),t=n/100*this.site.screen.w),this.renderer.setStyle(this.btnRef.nativeElement,"left","calc(50% - "+t+"px)"),this.renderer.setStyle(this.btnRef2.nativeElement,"left","calc(50% + "+t+"px)"),this.renderer.setAttribute(this.circRef.nativeElement,"r",(n>0?n:0).toString())},t.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},t.\u0275fac=function(e){return new(e||t)(r.ac(r.S),r.ac(h.a),r.ac(s.a),r.ac(y.c),r.ac(P.b))},t.\u0275cmp=r.Ub({type:t,selectors:[["app-section2"]],viewQuery:function(t,e){var n;(1&t&&(r.Hc(It,!0),r.Hc(Lt,!0),r.Hc(Nt,!0,r.r),r.Hc(Ft,!0,r.r)),2&t)&&(r.yc(n=r.nc())&&(e.circleRef=n.first),r.yc(n=r.nc())&&(e.circRef=n.first),r.yc(n=r.nc())&&(e.btnRef=n.first),r.yc(n=r.nc())&&(e.btnRef2=n.first))},hostVars:2,hostBindings:function(t,e){1&t&&r.mc("click",(function(){return e.click()}),!1,r.Cc),2&t&&r.Sb("mobile",e.isMobile)},decls:68,vars:0,consts:[["viewBox","0 0 100 100","preserveAspectRatio","none","xmlns","http://www.w3.org/2000/svg"],["svgRef",""],["id","mask","x","0","y","0"],["x","0","y","0","width","100%","height","100%"],["cx","50","cy","50","rx","20","ry","20",1,"bgsvgcircle"],["circleRef",""],["x","0","points","0,100 0,100 0,100 100,0 100,0 100,100 0,100","mask","url(#mask)",1,"bgsvg","masked"],["maskedRef",""],["mat-flat-button","","aria-label","Open About",1,"custom-button","dark","me-button",3,"click"],["btnRef",""],["mat-flat-button","","aria-label","Open Cat Picture",1,"custom-button","dark","mano-button",3,"click"],["btnRef2",""],["viewBox","0 0 100 100","width","100%","height","100%"],["cx","50","cy","50","stroke","rgba(208,208,208,1)","stroke-width","0.3","stroke-dasharray","1000","stroke-dashoffset","900","fill","none","stroke-linejoin","round","stroke-linecap","round",1,"circle"],["circRef",""],[1,"cont-wrapper"],[1,"container","vcenter-container"],[1,"row"],[1,"col-12","text-right"],[1,"apptitle","t","mr-5"],[1,"col-12","col-lg-8","ml-auto","text-right"],[1,"t"],[1,"row","d-flex","d-lg-none","spacer"],[1,"col-12","text-left"],[1,"t2","mr-5","mr-lg-0"],[1,"col-12","col-lg-8","mr-0","mr-lg-auto","text-left"],[1,"ml-0","ml-lg-5","apptitle","t2"],[1,"cont-wrapper","mt-5","mt-md-0","pt-5","pt-md-0"],[1,"container","vcenter-container","mobcent"],[1,"t3"],[1,"apptitle","t3"],[1,"t4"],[1,"col-12","col-lg-8","mr-0","ml-lg-auto","text-right"],[1,"apptitle","t4"]],template:function(t,e){1&t&&(r.pc(),r.fc(0,"svg",0,1),r.fc(2,"defs"),r.fc(3,"mask",2),r.bc(4,"rect",3),r.bc(5,"ellipse",4,5),r.ec(),r.ec(),r.bc(7,"polygon",6,7),r.ec(),r.oc(),r.fc(9,"button",8,9),r.mc("click",(function(){return e.openMe()})),r.fc(11,"mat-icon"),r.Mc(12,"info"),r.ec(),r.ec(),r.fc(13,"button",10,11),r.mc("click",(function(){return e.openMano()})),r.fc(15,"mat-icon"),r.Mc(16,"remove_red_eye "),r.ec(),r.ec(),r.pc(),r.fc(17,"svg",12),r.bc(18,"circle",13,14),r.ec(),r.oc(),r.fc(20,"div",15),r.fc(21,"div",16),r.fc(22,"div",17),r.fc(23,"div",18),r.fc(24,"h1",19),r.Mc(25,"Hey"),r.ec(),r.ec(),r.ec(),r.fc(26,"div",17),r.fc(27,"div",20),r.fc(28,"h2"),r.fc(29,"div",21),r.Mc(30,"This is me."),r.ec(),r.ec(),r.ec(),r.ec(),r.bc(31,"div",22),r.ec(),r.ec(),r.fc(32,"div",15),r.fc(33,"div",16),r.fc(34,"div",17),r.fc(35,"div",23),r.fc(36,"h2"),r.fc(37,"div",24),r.Mc(38,"And this is my cat"),r.ec(),r.ec(),r.ec(),r.ec(),r.fc(39,"div",17),r.fc(40,"div",25),r.fc(41,"h1",26),r.Mc(42,"Mano."),r.ec(),r.ec(),r.ec(),r.bc(43,"div",22),r.ec(),r.ec(),r.fc(44,"div",27),r.fc(45,"div",28),r.fc(46,"div",17),r.fc(47,"div",23),r.fc(48,"h2"),r.fc(49,"div",29),r.Mc(50,"We are surrounded by"),r.ec(),r.ec(),r.ec(),r.ec(),r.fc(51,"div",17),r.fc(52,"div",25),r.fc(53,"h1",30),r.Mc(54,"nature"),r.ec(),r.ec(),r.ec(),r.bc(55,"div",22),r.ec(),r.ec(),r.fc(56,"div",27),r.fc(57,"div",28),r.fc(58,"div",17),r.fc(59,"div",18),r.fc(60,"h2"),r.fc(61,"div",31),r.Mc(62,"but connected through"),r.ec(),r.ec(),r.ec(),r.ec(),r.fc(63,"div",17),r.fc(64,"div",32),r.fc(65,"h1",33),r.Mc(66,"technology"),r.ec(),r.ec(),r.ec(),r.bc(67,"div",22),r.ec(),r.ec())},directives:[d.a,f.a],styles:["svg[_ngcontent-%COMP%]{pointer-events:none;position:absolute;top:0;width:100%;height:100%}svg[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%]{fill:#fff}svg[_ngcontent-%COMP%]   .masked[_ngcontent-%COMP%]{fill:#d0d0d0;fill-opacity:.97}[_nghost-%COMP%]{background:#d0d0d0}.mobile[_nghost-%COMP%]   .mobcent[_ngcontent-%COMP%]{justify-content:center!important}[_nghost-%COMP%]   .mano-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .me-button[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translateY(-50%) translateX(-50%);z-index:100;box-shadow:none;pointer-events:all;padding:6px;min-width:0;line-height:0;opacity:0;background-color:#d0d0d0!important}[_nghost-%COMP%]   .mano-button[_ngcontent-%COMP%]   .eye[_ngcontent-%COMP%], [_nghost-%COMP%]   .me-button[_ngcontent-%COMP%]   .eye[_ngcontent-%COMP%]{position:absolute;opacity:0}[_nghost-%COMP%]   .spacer[_ngcontent-%COMP%]{height:20%;background:red}"]}),t}(),zt=function(t,e){e.hasOwnProperty("words")||(e.words=1),e.hasOwnProperty("chars")||(e.chars=1),e.hasOwnProperty("spacing")||(e.spacing=5);var n=function(t){var e=[];if(null==t||null==t)return e;for(var i=0;i<=t.childNodes.length-1;i++){var r=t.childNodes[i];if("#text"==r.nodeName)e.push(r);else e=e.concat(n(r))}return e},i=function(t,n){var i=document.createElement("div"),r=document.createTextNode(t);return i.nodeText=r,i.appendChild(r),i.style.display="inline-block",i.style.position="relative",""==t.trim()&&(i.style.width=String(e.spacing)+"px"),n.parentNode.insertBefore(i,n),i},r=function(t){var e=t.nodeValue.toString(),n=[];if(""!=e.trim()){for(var r=0;r<=e.length-1;r++){var a=e.substr(r,1),o=i(a,t);r===e.length-1&&(o.style.letterSpacing=0),""!=a.trim()&&n.push(o)}t.parentNode.removeChild(t)}return n},a=function(t){for(var e=t.nodeValue.toString().split(" "),n=[],r=0;r<=e.length-1;r++){var a=e[r],o=i(a,t);""!=a.trim()&&n.push(o),r<e.length-1&&i(" ",t)}return t.parentNode.removeChild(t),n};return function(t){for(var n={words:[],chars:[]},i=0;i<=t.length-1;i++){var o=t[i];if(0==e.words)n.chars=n.chars.concat(r(o));else{var s=a(o);if(1==e.chars)for(var c=0;c<=s.length-1;c++){var u=s[c],l=r(u.nodeText);n.chars=n.chars.concat(l),u.chars=l}n.words=n.words.concat(s)}}return n}(n(t))},Ut=function(t){return{"free-flight":t}},Ht=function(){function t(t,e,n,i,r){this.ts=t,this.ns=e,this.renderer=n,this.ga=i,this.site=r,this.destroy$=new b.a,this.circleSize=20}return t.prototype.startFlight=function(){localStorage.setItem("freeflight","true"),this.ga.event("button_click_freeflight","button_click","Start freeflight clicked"),this.ts.startFreeFlight(),this.ts.autofly=!0},t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},t.\u0275fac=function(e){return new(e||t)(r.ac(c.a),r.ac(w.a),r.ac(r.S),r.ac(h.a),r.ac(s.a))},t.\u0275cmp=r.Ub({type:t,selectors:[["app-section5"]],decls:14,vars:5,consts:[[1,"wrap",3,"ngClass"],[1,"container","center-container"],[1,"row"],[1,"col-12","text-center"],[1,"t","t5"],[1,"apptitle","t","logofont","t5"],["mat-stroked-button","","color","inverted",1,"custom-button","dark","big",3,"click"]],template:function(t,e){1&t&&(r.fc(0,"div",0),r.rc(1,"async"),r.fc(2,"div",1),r.fc(3,"div",2),r.fc(4,"div",3),r.fc(5,"h2",4),r.Mc(6,"Let's explore"),r.ec(),r.ec(),r.ec(),r.fc(7,"div",2),r.fc(8,"div",3),r.fc(9,"h1",5),r.Mc(10,"It's time to fly!"),r.ec(),r.ec(),r.ec(),r.fc(11,"div",2),r.fc(12,"button",6),r.mc("click",(function(){return e.startFlight()})),r.Mc(13,"Start"),r.ec(),r.ec(),r.ec(),r.ec()),2&t&&r.vc("ngClass",r.wc(3,Ut,r.sc(1,1,e.ts.isFreeFlight)))},directives:[i.i,d.a],pipes:[i.b],styles:["svg[_ngcontent-%COMP%]{pointer-events:none;position:absolute;top:0;width:100%;height:100%}svg[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%]{fill:#fff}svg[_ngcontent-%COMP%]   .masked[_ngcontent-%COMP%]{fill:#d0d0d0;fill-opacity:1}[_nghost-%COMP%]{width:100%;height:100%;display:inline-block}[_nghost-%COMP%]   .wrap[_ngcontent-%COMP%]{height:100vh;width:100%;transition:opacity 1s}[_nghost-%COMP%]   .wrap[_ngcontent-%COMP%]   .custom-button[_ngcontent-%COMP%]{pointer-events:none}[_nghost-%COMP%]   .wrap.free-flight[_ngcontent-%COMP%]{opacity:0;pointer-events:none}[_nghost-%COMP%]   .wrap.free-flight[_ngcontent-%COMP%]   .custom-button[_ngcontent-%COMP%]{pointer-events:none}"]}),t}();function Vt(t,e){if(1&t&&(r.fc(0,"div",16),r.Mc(1),r.ec()),2&t){var n=e.$implicit;r.Qb(1),r.Nc(n.label)}}var Gt=function(){function t(t,e){this.dialogRef=t,this.ga=e,this.skills=[{label:"Three.js"},{label:"Next.js"},{label:"Firebase"},{label:"Angular"},{label:"React"},{label:"Node.js"},{label:"Typescript"},{label:"Photoshop"},{label:"After Effects"},{label:"Illustrator"},{label:"3ds max"},{label:"Blender"},{label:"Serverless"},{label:"Docker"},{label:"Nginx"}]}return t.prototype.gotoLink=function(t){this.ga.event("social_click","social_clicks","Social clicked "+t),window.open(t,"_blank")},t.prototype.ngOnInit=function(){},t.prototype.close=function(){this.dialogRef.close()},t.\u0275fac=function(e){return new(e||t)(r.ac(l.d),r.ac(h.a))},t.\u0275cmp=r.Ub({type:t,selectors:[["app-about"]],decls:36,vars:1,consts:[[1,"sideimg"],[1,"container"],[1,"row"],[1,"col-12","titlecol","mb-5"],[1,"spacer"],[1,"xmark","dark",3,"click"],[1,"col-12","col-md-6"],[1,"d-none","d-md-inline"],["mat-icon-button","","aria-label","Behance button",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24"],["d","M22 7h-7v-2h7v2zm1.726 10c-.442 1.297-2.029 3-5.101 3-3.074 0-5.564-1.729-5.564-5.675 0-3.91 2.325-5.92 5.466-5.92 3.082 0 4.964 1.782 5.375 4.426.078.506.109 1.188.095 2.14h-8.027c.13 3.211 3.483 3.312 4.588 2.029h3.168zm-7.686-4h4.965c-.105-1.547-1.136-2.219-2.477-2.219-1.466 0-2.277.768-2.488 2.219zm-9.574 6.988h-6.466v-14.967h6.953c5.476.081 5.58 5.444 2.72 6.906 3.461 1.26 3.577 8.061-3.207 8.061zm-3.466-8.988h3.584c2.508 0 2.906-3-.312-3h-3.272v3zm3.391 3h-3.391v3.016h3.341c3.055 0 2.868-3.016.05-3.016z"],["mat-icon-button","","aria-label","Facebook button",3,"click"],["mat-icon-button","","aria-label","Twitter button",3,"click"],["d","M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"],["class","skill",4,"ngFor","ngForOf"],[1,"col-12","d-md-none"],[1,"skill"]],template:function(t,e){1&t&&(r.bc(0,"div",0),r.fc(1,"div",1),r.fc(2,"div",2),r.fc(3,"div",3),r.fc(4,"h2"),r.Mc(5,"Gergely Gizella"),r.ec(),r.bc(6,"div",4),r.fc(7,"div",5),r.mc("click",(function(){return e.close()})),r.ec(),r.ec(),r.ec(),r.fc(8,"div",2),r.fc(9,"div",6),r.fc(10,"p"),r.Mc(11," Full stack developer and illustrator with more than a decade of experience in creating interactive content for the web."),r.bc(12,"br"),r.Mc(13," Lately focusing on WebGL, Next.js and serverless technologies. "),r.ec(),r.fc(14,"div",7),r.fc(15,"button",8),r.mc("click",(function(){return e.gotoLink("https://www.behance.net/logartis/")})),r.pc(),r.fc(16,"svg",9),r.bc(17,"path",10),r.ec(),r.ec(),r.oc(),r.fc(18,"button",11),r.mc("click",(function(){return e.gotoLink("https://www.facebook.com/logartis.info")})),r.fc(19,"mat-icon"),r.Mc(20,"facebook"),r.ec(),r.ec(),r.fc(21,"button",12),r.mc("click",(function(){return e.gotoLink("https://twitter.com/logartis")})),r.pc(),r.fc(22,"svg",9),r.bc(23,"path",13),r.ec(),r.ec(),r.ec(),r.ec(),r.oc(),r.fc(24,"div",6),r.Lc(25,Vt,2,1,"div",14),r.ec(),r.fc(26,"div",15),r.fc(27,"button",8),r.mc("click",(function(){return e.gotoLink("https://www.behance.net/logartis/")})),r.pc(),r.fc(28,"svg",9),r.bc(29,"path",10),r.ec(),r.ec(),r.oc(),r.fc(30,"button",11),r.mc("click",(function(){return e.gotoLink("https://www.facebook.com/logartis.info")})),r.fc(31,"mat-icon"),r.Mc(32,"facebook"),r.ec(),r.ec(),r.fc(33,"button",12),r.mc("click",(function(){return e.gotoLink("https://twitter.com/logartis")})),r.pc(),r.fc(34,"svg",9),r.bc(35,"path",13),r.ec(),r.ec(),r.ec(),r.ec(),r.ec()),2&t&&(r.Qb(25),r.vc("ngForOf",e.skills))},directives:[d.a,f.a,i.j],styles:['[_nghost-%COMP%]{display:flex;flex-direction:column;overflow:hidden;overflow-y:auto;max-height:100vh}@media (min-width:1199px){[_nghost-%COMP%]{flex-direction:row}[_nghost-%COMP%]   .sideimg[_ngcontent-%COMP%]{width:auto!important;margin-bottom:0!important}}[_nghost-%COMP%]   .skill[_ngcontent-%COMP%]{display:inline-block;margin-right:.5em;margin-bottom:.5em;border-radius:50px;position:relative}[_nghost-%COMP%]   .skill[_ngcontent-%COMP%]:after{position:relative;left:0;content:"";width:100px;height:3px;background-color:#000}[_nghost-%COMP%]   .sideimg[_ngcontent-%COMP%]{min-height:300px;min-width:300px;background:#000;width:100%;margin-bottom:1em;background-image:url(me.3966475956940fe5c474.jpg);background-position:50% 50%;background-size:cover}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{padding:2em;flex:1}[_nghost-%COMP%]   .imgcol[_ngcontent-%COMP%]{background-color:#000}[_nghost-%COMP%]   .titlecol[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   .titlecol[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   .photo[_ngcontent-%COMP%]{width:300px;height:300px;background-color:#000;border-radius:50%}']}),t}(),Wt=n("wJiJ"),Xt=n.n(Wt),qt=n("VRyK"),Yt=n("Kj3r");function Qt(t,e){1&t&&(r.dc(0),r.Mc(1," Scroll down "),r.cc())}function Kt(t,e){1&t&&(r.dc(0),r.Mc(1,"Keep swiping up"),r.bc(2,"br"),r.Mc(3," or use the arrows"),r.cc())}var Zt,Jt=function(t){return{dark:t}},$t=function(){function t(t,e){this.ts=t,this.site=e}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)(r.ac(c.a),r.ac(s.a))},t.\u0275cmp=r.Ub({type:t,selectors:[["app-scroll-indicator"]],decls:9,vars:7,consts:[[1,"wrap",3,"ngClass"],[1,"indicator"],[1,"dot","dot1"],[1,"dot","dot2"],[1,"dot","dot3"],[1,"scroll","mt-1","mt-md-3","text-center"],[4,"ngIf"]],template:function(t,e){1&t&&(r.fc(0,"div",0),r.rc(1,"async"),r.fc(2,"div",1),r.bc(3,"div",2),r.bc(4,"div",3),r.bc(5,"div",4),r.ec(),r.fc(6,"p",5),r.Lc(7,Qt,2,0,"ng-container",6),r.Lc(8,Kt,4,0,"ng-container",6),r.ec(),r.ec()),2&t&&(r.vc("ngClass",r.wc(5,Jt,r.sc(1,3,e.ts.darkChange)>.5)),r.Qb(7),r.vc("ngIf",!e.site.isMobile),r.Qb(1),r.vc("ngIf",e.site.isMobile))},directives:[i.i,i.k],pipes:[i.b],styles:["[_nghost-%COMP%]{pointer-events:none}[_nghost-%COMP%]   .wrap[_ngcontent-%COMP%]{position:fixed;z-index:500;bottom:.5em;left:50%;transform:translate(-50%)}@media (min-width:1199px){[_nghost-%COMP%]   .wrap[_ngcontent-%COMP%]{bottom:1em}[_nghost-%COMP%]   .wrap[_ngcontent-%COMP%]   .indicator[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:10px!important;height:10px!important;margin:3px!important}}[_nghost-%COMP%]   .wrap.dark[_ngcontent-%COMP%]{color:#fff}[_nghost-%COMP%]   .wrap.dark[_ngcontent-%COMP%]   .indicator[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{background-color:#fff}[_nghost-%COMP%]   .wrap[_ngcontent-%COMP%]   .indicator[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}[_nghost-%COMP%]   .wrap[_ngcontent-%COMP%]   .indicator[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:7px;height:7px;background-color:#000;border-radius:50%;margin:2px;opacity:0;-webkit-animation:dotAnim 1.5s ease-out 0s infinite;animation:dotAnim 1.5s ease-out 0s infinite}[_nghost-%COMP%]   .wrap[_ngcontent-%COMP%]   .indicator[_ngcontent-%COMP%]   .dot2[_ngcontent-%COMP%]{-webkit-animation:dotAnim 1.5s ease-out .2s infinite;animation:dotAnim 1.5s ease-out .2s infinite}[_nghost-%COMP%]   .wrap[_ngcontent-%COMP%]   .indicator[_ngcontent-%COMP%]   .dot3[_ngcontent-%COMP%]{-webkit-animation:dotAnim 1.5s ease-out .4s infinite;animation:dotAnim 1.5s ease-out .4s infinite}@-webkit-keyframes dotAnim{0%{opacity:0}50%{opacity:1}80%{opacity:0}to{opacity:0}}@keyframes dotAnim{0%{opacity:0}50%{opacity:1}80%{opacity:0}to{opacity:0}}"]}),t}(),te=n("Womt"),ee=function(t,e){var n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)},ne=function(t){return t*(Math.PI/180)},ie=function(t){return t*(180/Math.PI)},re=function(t,e,n){for(var i,r=e.split(/[ ,]+/g),a=0;a<r.length;a+=1)i=r[a],t.addEventListener?t.addEventListener(i,n,{passive:!1}):t.attachEvent&&t.attachEvent(i,n)},ae=function(t,e,n){for(var i,r=e.split(/[ ,]+/g),a=0;a<r.length;a+=1)i=r[a],t.removeEventListener?t.removeEventListener(i,n):t.detachEvent&&t.detachEvent(i,n)},oe=function(t){return t.type.match(/^touch/)?t.changedTouches:t},se=function(){return{x:void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}},ce=function(t,e){e.top||e.right||e.bottom||e.left?(t.style.top=e.top,t.style.right=e.right,t.style.bottom=e.bottom,t.style.left=e.left):(t.style.left=e.x+"px",t.style.top=e.y+"px")},ue=function(t,e,n){var i=le(t);for(var r in i)if(i.hasOwnProperty(r))if("string"==typeof e)i[r]=e+" "+n;else{for(var a="",o=0,s=e.length;o<s;o+=1)a+=e[o]+" "+n+", ";i[r]=a.slice(0,-2)}return i},le=function(t){var e={};e[t]="";return["webkit","Moz","o"].forEach((function(n){e[n+t.charAt(0).toUpperCase()+t.slice(1)]=""})),e},he=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},de=function(t,e){if(t.length)for(var n=0,i=t.length;n<i;n+=1)e(t[n]);else e(t)},fe=!!("ontouchstart"in window),pe=!!window.PointerEvent,ve=!!window.MSPointerEvent,me={start:"mousedown",move:"mousemove",end:"mouseup"},ge={};function ye(){}pe?Zt={start:"pointerdown",move:"pointermove",end:"pointerup, pointercancel"}:ve?Zt={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:fe?(Zt={start:"touchstart",move:"touchmove",end:"touchend, touchcancel"},ge=me):Zt=me,ye.prototype.on=function(t,e){var n,i=this,r=t.split(/[ ,]+/g);i._handlers_=i._handlers_||{};for(var a=0;a<r.length;a+=1)n=r[a],i._handlers_[n]=i._handlers_[n]||[],i._handlers_[n].push(e);return i},ye.prototype.off=function(t,e){var n=this;return n._handlers_=n._handlers_||{},void 0===t?n._handlers_={}:void 0===e?n._handlers_[t]=null:n._handlers_[t]&&n._handlers_[t].indexOf(e)>=0&&n._handlers_[t].splice(n._handlers_[t].indexOf(e),1),n},ye.prototype.trigger=function(t,e){var n,i=this,r=t.split(/[ ,]+/g);i._handlers_=i._handlers_||{};for(var a=0;a<r.length;a+=1)n=r[a],i._handlers_[n]&&i._handlers_[n].length&&i._handlers_[n].forEach((function(t){t.call(i,{type:n,target:i},e)}))},ye.prototype.config=function(t){var e=this;e.options=e.defaults||{},t&&(e.options=function(t,e){var n={};for(var i in t)t.hasOwnProperty(i)&&e.hasOwnProperty(i)?n[i]=e[i]:t.hasOwnProperty(i)&&(n[i]=t[i]);return n}(e.options,t))},ye.prototype.bindEvt=function(t,e){var n=this;return n._domHandlers_=n._domHandlers_||{},n._domHandlers_[e]=function(){"function"==typeof n["on"+e]?n["on"+e].apply(n,arguments):console.warn('[WARNING] : Missing "on'+e+'" handler.')},re(t,Zt[e],n._domHandlers_[e]),ge[e]&&re(t,ge[e],n._domHandlers_[e]),n},ye.prototype.unbindEvt=function(t,e){var n=this;return n._domHandlers_=n._domHandlers_||{},ae(t,Zt[e],n._domHandlers_[e]),ge[e]&&ae(t,ge[e],n._domHandlers_[e]),delete n._domHandlers_[e],this};var be=ye;function _e(t,e){return this.identifier=e.identifier,this.position=e.position,this.frontPosition=e.frontPosition,this.collection=t,this.defaults={size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5,mode:"dynamic",zone:document.body,lockX:!1,lockY:!1},this.config(e),"dynamic"===this.options.mode&&(this.options.restOpacity=0),this.id=_e.id,_e.id+=1,this.buildEl().stylize(),this.instance={el:this.ui.el,on:this.on.bind(this),off:this.off.bind(this),show:this.show.bind(this),hide:this.hide.bind(this),add:this.addToDom.bind(this),remove:this.removeFromDom.bind(this),destroy:this.destroy.bind(this),resetDirection:this.resetDirection.bind(this),computeDirection:this.computeDirection.bind(this),trigger:this.trigger.bind(this),position:this.position,frontPosition:this.frontPosition,ui:this.ui,identifier:this.identifier,id:this.id,options:this.options},this.instance}_e.prototype=new be,_e.constructor=_e,_e.id=0,_e.prototype.buildEl=function(t){return this.ui={},this.options.dataOnly||(this.ui.el=document.createElement("div"),this.ui.back=document.createElement("div"),this.ui.front=document.createElement("div"),this.ui.el.className="nipple collection_"+this.collection.id,this.ui.back.className="back",this.ui.front.className="front",this.ui.el.setAttribute("id","nipple_"+this.collection.id+"_"+this.id),this.ui.el.appendChild(this.ui.back),this.ui.el.appendChild(this.ui.front)),this},_e.prototype.stylize=function(){if(this.options.dataOnly)return this;var t=this.options.fadeTime+"ms",e=function(t,e){var n=le(t);for(var i in n)n.hasOwnProperty(i)&&(n[i]=e);return n}("borderRadius","50%"),n=ue("transition","opacity",t),i={};return i.el={position:"absolute",opacity:this.options.restOpacity,display:"block",zIndex:999},i.back={position:"absolute",display:"block",width:this.options.size+"px",height:this.options.size+"px",marginLeft:-this.options.size/2+"px",marginTop:-this.options.size/2+"px",background:this.options.color,opacity:".5"},i.front={width:this.options.size/2+"px",height:this.options.size/2+"px",position:"absolute",display:"block",marginLeft:-this.options.size/4+"px",marginTop:-this.options.size/4+"px",background:this.options.color,opacity:".5"},he(i.el,n),he(i.back,e),he(i.front,e),this.applyStyles(i),this},_e.prototype.applyStyles=function(t){for(var e in this.ui)if(this.ui.hasOwnProperty(e))for(var n in t[e])this.ui[e].style[n]=t[e][n];return this},_e.prototype.addToDom=function(){return this.options.dataOnly||document.body.contains(this.ui.el)||this.options.zone.appendChild(this.ui.el),this},_e.prototype.removeFromDom=function(){return this.options.dataOnly||!document.body.contains(this.ui.el)||this.options.zone.removeChild(this.ui.el),this},_e.prototype.destroy=function(){clearTimeout(this.removeTimeout),clearTimeout(this.showTimeout),clearTimeout(this.restTimeout),this.trigger("destroyed",this.instance),this.removeFromDom(),this.off()},_e.prototype.show=function(t){var e=this;return e.options.dataOnly||(clearTimeout(e.removeTimeout),clearTimeout(e.showTimeout),clearTimeout(e.restTimeout),e.addToDom(),e.restCallback(),setTimeout((function(){e.ui.el.style.opacity=1}),0),e.showTimeout=setTimeout((function(){e.trigger("shown",e.instance),"function"==typeof t&&t.call(this)}),e.options.fadeTime)),e},_e.prototype.hide=function(t){var e=this;return e.options.dataOnly||(e.ui.el.style.opacity=e.options.restOpacity,clearTimeout(e.removeTimeout),clearTimeout(e.showTimeout),clearTimeout(e.restTimeout),e.removeTimeout=setTimeout((function(){var n="dynamic"===e.options.mode?"none":"block";e.ui.el.style.display=n,"function"==typeof t&&t.call(e),e.trigger("hidden",e.instance)}),e.options.fadeTime),e.options.restJoystick&&e.restPosition()),e},_e.prototype.restPosition=function(t){var e=this;e.frontPosition={x:0,y:0};var n=e.options.fadeTime+"ms",i={};i.front=ue("transition",["top","left"],n);var r={front:{}};r.front={left:e.frontPosition.x+"px",top:e.frontPosition.y+"px"},e.applyStyles(i),e.applyStyles(r),e.restTimeout=setTimeout((function(){"function"==typeof t&&t.call(e),e.restCallback()}),e.options.fadeTime)},_e.prototype.restCallback=function(){var t=this,e={};e.front=ue("transition","none",""),t.applyStyles(e),t.trigger("rested",t.instance)},_e.prototype.resetDirection=function(){this.direction={x:!1,y:!1,angle:!1}},_e.prototype.computeDirection=function(t){var e,n,i,r=t.angle.radian,a=Math.PI/4,o=Math.PI/2;if(r>a&&r<3*a&&!t.lockX?e="up":r>-a&&r<=a&&!t.lockY?e="left":r>3*-a&&r<=-a&&!t.lockX?e="down":t.lockY||(e="right"),t.lockY||(n=r>-o&&r<o?"left":"right"),t.lockX||(i=r>0?"up":"down"),t.force>this.options.threshold){var s,c={};for(s in this.direction)this.direction.hasOwnProperty(s)&&(c[s]=this.direction[s]);var u={};for(s in this.direction={x:n,y:i,angle:e},t.direction=this.direction,c)c[s]===this.direction[s]&&(u[s]=!0);if(u.x&&u.y&&u.angle)return t;u.x&&u.y||this.trigger("plain",t),u.x||this.trigger("plain:"+n,t),u.y||this.trigger("plain:"+i,t),u.angle||this.trigger("dir dir:"+e,t)}return t};var we=_e;function xe(t,e){var n=this;return n.nipples=[],n.idles=[],n.actives=[],n.ids=[],n.pressureIntervals={},n.manager=t,n.id=xe.id,xe.id+=1,n.defaults={zone:document.body,multitouch:!1,maxNumberOfNipples:10,mode:"dynamic",position:{top:0,left:0},catchDistance:200,size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5,lockX:!1,lockY:!1},n.config(e),"static"!==n.options.mode&&"semi"!==n.options.mode||(n.options.multitouch=!1),n.options.multitouch||(n.options.maxNumberOfNipples=1),n.updateBox(),n.prepareNipples(),n.bindings(),n.begin(),n.nipples}xe.prototype=new be,xe.constructor=xe,xe.id=0,xe.prototype.prepareNipples=function(){var t=this,e=t.nipples;e.on=t.on.bind(t),e.off=t.off.bind(t),e.options=t.options,e.destroy=t.destroy.bind(t),e.ids=t.ids,e.id=t.id,e.processOnMove=t.processOnMove.bind(t),e.processOnEnd=t.processOnEnd.bind(t),e.get=function(t){if(void 0===t)return e[0];for(var n=0,i=e.length;n<i;n+=1)if(e[n].identifier===t)return e[n];return!1}},xe.prototype.bindings=function(){var t=this;t.bindEvt(t.options.zone,"start"),t.options.zone.style.touchAction="none",t.options.zone.style.msTouchAction="none"},xe.prototype.begin=function(){var t=this,e=t.options;if("static"===e.mode){var n=t.createNipple(e.position,t.manager.getIdentifier());n.add(),t.idles.push(n)}},xe.prototype.createNipple=function(t,e){var n=this,i=se(),r={},a=n.options;if(t.x&&t.y)r={x:t.x-(i.x+n.box.left),y:t.y-(i.y+n.box.top)};else if(t.top||t.right||t.bottom||t.left){var o=document.createElement("DIV");o.style.display="hidden",o.style.top=t.top,o.style.right=t.right,o.style.bottom=t.bottom,o.style.left=t.left,o.style.position="absolute",a.zone.appendChild(o);var s=o.getBoundingClientRect();a.zone.removeChild(o),r=t,t={x:s.left+i.x,y:s.top+i.y}}var c=new we(n,{color:a.color,size:a.size,threshold:a.threshold,fadeTime:a.fadeTime,dataOnly:a.dataOnly,restJoystick:a.restJoystick,restOpacity:a.restOpacity,mode:a.mode,identifier:e,position:t,zone:a.zone,frontPosition:{x:0,y:0}});return a.dataOnly||(ce(c.ui.el,r),ce(c.ui.front,c.frontPosition)),n.nipples.push(c),n.trigger("added "+c.identifier+":added",c),n.manager.trigger("added "+c.identifier+":added",c),n.bindNipple(c),c},xe.prototype.updateBox=function(){this.box=this.options.zone.getBoundingClientRect()},xe.prototype.bindNipple=function(t){var e,n=this,i=function(t,i){e=t.type+" "+i.id+":"+t.type,n.trigger(e,i)};t.on("destroyed",n.onDestroyed.bind(n)),t.on("shown hidden rested dir plain",i),t.on("dir:up dir:right dir:down dir:left",i),t.on("plain:up plain:right plain:down plain:left",i)},xe.prototype.pressureFn=function(t,e,n){var i=this,r=0;clearInterval(i.pressureIntervals[n]),i.pressureIntervals[n]=setInterval((function(){var n=t.force||t.pressure||t.webkitForce||0;n!==r&&(e.trigger("pressure",n),i.trigger("pressure "+e.identifier+":pressure",n),r=n)}).bind(i),100)},xe.prototype.onstart=function(t){var e=this,n=e.options;t=oe(t),e.updateBox();return de(t,(function(t){e.actives.length<n.maxNumberOfNipples&&e.processOnStart(t)})),e.manager.bindDocument(),!1},xe.prototype.processOnStart=function(t){var e,n=this,i=n.options,r=n.manager.getIdentifier(t),a=t.force||t.pressure||t.webkitForce||0,o={x:t.pageX,y:t.pageY},s=n.getOrCreate(r,o);s.identifier!==r&&n.manager.removeIdentifier(s.identifier),s.identifier=r;var c=function(e){e.trigger("start",e),n.trigger("start "+e.id+":start",e),e.show(),a>0&&n.pressureFn(t,e,e.identifier),n.processOnMove(t)};if((e=n.idles.indexOf(s))>=0&&n.idles.splice(e,1),n.actives.push(s),n.ids.push(s.identifier),"semi"!==i.mode)c(s);else{if(!(ee(o,s.position)<=i.catchDistance))return s.destroy(),void n.processOnStart(t);c(s)}return s},xe.prototype.getOrCreate=function(t,e){var n,i=this,r=i.options;return/(semi|static)/.test(r.mode)?(n=i.idles[0])?(i.idles.splice(0,1),n):"semi"===r.mode?i.createNipple(e,t):(console.warn("Coudln't find the needed nipple."),!1):n=i.createNipple(e,t)},xe.prototype.processOnMove=function(t){var e=this,n=e.options,i=e.manager.getIdentifier(t),r=e.nipples.get(i);if(!r)return console.error("Found zombie joystick with ID "+i),void e.manager.removeIdentifier(i);r.identifier=i;var a,o,s,c,u,l,h,d,f=r.options.size/2,p={x:t.pageX,y:t.pageY},v=ee(p,r.position),m=(a=p,o=r.position,s=o.x-a.x,c=o.y-a.y,ie(Math.atan2(c,s))),g=ne(m),y=v/f,b={dist:v,pos:p};v>f&&(v=f,u=r.position,l=v,d={x:0,y:0},h=ne(h=m),d.x=u.x-l*Math.cos(h),d.y=u.y-l*Math.sin(h),p=d);var _=p.x-r.position.x,w=p.y-r.position.y;n.lockX&&(w=0),n.lockY&&(_=0),r.frontPosition={x:_,y:w},n.dataOnly||ce(r.ui.front,r.frontPosition);var x={identifier:r.identifier,position:p,force:y,pressure:t.force||t.pressure||t.webkitForce||0,distance:v,angle:{radian:g,degree:m},raw:b,instance:r,lockX:n.lockX,lockY:n.lockY};(x=r.computeDirection(x)).angle={radian:ne(180-m),degree:180-m},r.trigger("move",x),e.trigger("move "+r.id+":move",x)},xe.prototype.processOnEnd=function(t){var e=this,n=e.options,i=e.manager.getIdentifier(t),r=e.nipples.get(i),a=e.manager.removeIdentifier(r.identifier);r&&(n.dataOnly||r.hide((function(){"dynamic"===n.mode&&(r.trigger("removed",r),e.trigger("removed "+r.id+":removed",r),e.manager.trigger("removed "+r.id+":removed",r),r.destroy())})),clearInterval(e.pressureIntervals[r.identifier]),r.resetDirection(),r.trigger("end",r),e.trigger("end "+r.id+":end",r),e.ids.indexOf(r.identifier)>=0&&e.ids.splice(e.ids.indexOf(r.identifier),1),e.actives.indexOf(r)>=0&&e.actives.splice(e.actives.indexOf(r),1),/(semi|static)/.test(n.mode)?e.idles.push(r):e.nipples.indexOf(r)>=0&&e.nipples.splice(e.nipples.indexOf(r),1),e.manager.unbindDocument(),/(semi|static)/.test(n.mode)&&(e.manager.ids[a.id]=a.identifier))},xe.prototype.onDestroyed=function(t,e){var n=this;n.nipples.indexOf(e)>=0&&n.nipples.splice(n.nipples.indexOf(e),1),n.actives.indexOf(e)>=0&&n.actives.splice(n.actives.indexOf(e),1),n.idles.indexOf(e)>=0&&n.idles.splice(n.idles.indexOf(e),1),n.ids.indexOf(e.identifier)>=0&&n.ids.splice(n.ids.indexOf(e.identifier),1),n.manager.removeIdentifier(e.identifier),n.manager.unbindDocument()},xe.prototype.destroy=function(){var t=this;for(var e in t.unbindEvt(t.options.zone,"start"),t.nipples.forEach((function(t){t.destroy()})),t.pressureIntervals)t.pressureIntervals.hasOwnProperty(e)&&clearInterval(t.pressureIntervals[e]);t.trigger("destroyed",t.nipples),t.manager.unbindDocument(),t.off()};var ke=xe;function Oe(t){var e,n=this;return n.ids={},n.index=0,n.collections=[],n.config(t),n.prepareCollections(),re(window,"resize",(function(t){clearTimeout(e),e=setTimeout((function(){var t,e=se();n.collections.forEach((function(n){n.forEach((function(n){t=n.el.getBoundingClientRect(),n.position={x:e.x+t.left,y:e.y+t.top}}))}))}),100)})),n.collections}Oe.prototype=new be,Oe.constructor=Oe,Oe.prototype.prepareCollections=function(){var t=this;t.collections.create=t.create.bind(t),t.collections.on=t.on.bind(t),t.collections.off=t.off.bind(t),t.collections.destroy=t.destroy.bind(t),t.collections.get=function(e){var n;return t.collections.every((function(t){return!(n=t.get(e))})),n}},Oe.prototype.create=function(t){return this.createCollection(t)},Oe.prototype.createCollection=function(t){var e=this,n=new ke(e,t);return e.bindCollection(n),e.collections.push(n),n},Oe.prototype.bindCollection=function(t){var e,n=this,i=function(t,i){e=t.type+" "+i.id+":"+t.type,n.trigger(e,i)};t.on("destroyed",n.onDestroyed.bind(n)),t.on("shown hidden rested dir plain",i),t.on("dir:up dir:right dir:down dir:left",i),t.on("plain:up plain:right plain:down plain:left",i)},Oe.prototype.bindDocument=function(){var t=this;t.binded||(t.bindEvt(document,"move").bindEvt(document,"end"),t.binded=!0)},Oe.prototype.unbindDocument=function(t){var e=this;Object.keys(e.ids).length&&!0!==t||(e.unbindEvt(document,"move").unbindEvt(document,"end"),e.binded=!1)},Oe.prototype.getIdentifier=function(t){var e;return t?void 0===(e=void 0===t.identifier?t.pointerId:t.identifier)&&(e=this.latest||0):e=this.index,void 0===this.ids[e]&&(this.ids[e]=this.index,this.index+=1),this.latest=e,this.ids[e]},Oe.prototype.removeIdentifier=function(t){var e={};for(var n in this.ids)if(this.ids[n]===t){e.id=n,e.identifier=this.ids[n],delete this.ids[n];break}return e},Oe.prototype.onmove=function(t){return this.onAny("move",t),!1},Oe.prototype.onend=function(t){return this.onAny("end",t),!1},Oe.prototype.oncancel=function(t){return this.onAny("end",t),!1},Oe.prototype.onAny=function(t,e){var n,i=this,r="processOn"+t.charAt(0).toUpperCase()+t.slice(1);e=oe(e);var a=function(t,e,n){n.ids.indexOf(e)>=0&&(n[r](t),t._found_=!0)};return de(e,(function(t){n=i.getIdentifier(t),de(i.collections,a.bind(null,t,n)),t._found_||i.removeIdentifier(n)})),!1},Oe.prototype.destroy=function(){var t=this;t.unbindDocument(!0),t.ids={},t.index=0,t.collections.forEach((function(t){t.destroy()})),t.off()},Oe.prototype.onDestroyed=function(t,e){var n=this;if(n.collections.indexOf(e)<0)return!1;n.collections.splice(n.collections.indexOf(e),1)};var Se=new Oe,Ce=function(t){return Se.create(t)},Ae=["nipRef"],Me=function(){function t(t,e){this.nippleService=t,this.zone=e}return t.prototype.ngOnInit=function(){var t=this,e={zone:this.zoneElement};this.zone.runOutsideAngular((function(){t.nipp=Ce(e),t.nipp.on("start",(function(e,n){t.nippleService.isActive=!0,t.nippleService.startX=n.position.x,t.nippleService.startY=n.position.y,t.nippleService.firstInteraction.next(!0),t.nippleService.userInteraction.next(!0)})).on("end",(function(e,n){t.nippleService.force=0,t.nippleService.distance=0,t.nippleService.isActive=!1,t.nippleService.speed.x=0,t.nippleService.speed.y=0})).on("move",(function(e,n){t.nippleService.speed.x=(n.position.x-t.nippleService.startX)/(t.nipp.options.size/2),t.nippleService.speed.y=-(n.position.y-t.nippleService.startY)/(t.nipp.options.size/2),t.nippleService.force=n.force,t.nippleService.angle=n.angle,t.nippleService.distance=n.distance})).on("dir:up plain:up dir:left plain:left dir:down plain:down dir:right plain:right",(function(t,e){})).on("pressure",(function(t,e){}))}))},t.prototype.ngOnDestroy=function(){this.nipp.destroy()},t.\u0275fac=function(e){return new(e||t)(r.ac(w.a),r.ac(r.L))},t.\u0275cmp=r.Ub({type:t,selectors:[["app-nipple"]],viewQuery:function(t,e){var n;(1&t&&r.Pc(Ae,!0),2&t)&&(r.yc(n=r.nc())&&(e.nipRef=n.first))},inputs:{zoneElement:"zoneElement"},decls:0,vars:0,template:function(t,e){},styles:[".nipple[_ngcontent-%COMP%]{height:100px;width:100px;pointer-events:none}.nipple[_ngcontent-%COMP%], .nipple[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:absolute}.nipple[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{height:100%;width:100%;opacity:.1}.nipple[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%], .nipple[_ngcontent-%COMP%]   .joystick[_ngcontent-%COMP%]{position:absolute;background:red;border-radius:50%}.nipple[_ngcontent-%COMP%]   .joystick[_ngcontent-%COMP%]{width:50%;height:50%;left:50%;top:50%;transform:translateX(-50%) translateY(-50%)}"]}),t}(),Te=["noiseCanvasRef"],Ee=["canvasRef"],Pe=["wrapperRef"];function De(t,e){if(1&t&&r.bc(0,"app-nipple",5),2&t){r.qc();var n=r.zc(1);r.vc("zoneElement",n)}}var je=function(){function t(t,e,n){var i=this;this.ts=t,this.ss=e,this.cd=n,this.obj=new te.wb,this.objects={},this.ss.isMobile?this.ts.qualityLevel=1:this.ts.qualityLevel=0,this.ts.onInited.subscribe((function(t){t&&i.cd.markForCheck()}))}return t.prototype.mouseClick=function(){this.ts.onFirstContact.next(!0),this.ts.firstContact=!0},t.prototype.ngOnInit=function(){var t=this;this.ts.create(this.wrapperRef,this.canvasRef,this.noiseCanvas),this.ts.onResize.subscribe((function(e){t.onResize(e)}))},t.prototype.onResize=function(t){var e=this;setTimeout((function(){e.cd.markForCheck()}))},t.\u0275fac=function(e){return new(e||t)(r.ac(c.a),r.ac(s.a),r.ac(r.j))},t.\u0275cmp=r.Ub({type:t,selectors:[["app-three"]],viewQuery:function(t,e){var n;(1&t&&(r.Hc(Te,!0),r.Hc(Ee,!0),r.Hc(Pe,!0)),2&t)&&(r.yc(n=r.nc())&&(e.noiseCanvas=n.first),r.yc(n=r.nc())&&(e.canvasRef=n.first),r.yc(n=r.nc())&&(e.wrapperRef=n.first))},hostBindings:function(t,e){1&t&&r.mc("click",(function(){return e.mouseClick()}),!1,r.Cc)},decls:6,vars:3,consts:[[1,"wrapper"],["wrapperRef",""],["class","nipple",3,"zoneElement",4,"ngIf"],[1,"mainCanvas"],["canvasRef",""],[1,"nipple",3,"zoneElement"]],template:function(t,e){1&t&&(r.fc(0,"div",0,1),r.Lc(2,De,1,1,"app-nipple",2),r.rc(3,"async"),r.bc(4,"canvas",3,4),r.ec()),2&t&&(r.Qb(2),r.vc("ngIf",r.sc(3,1,e.ts.isFreeFlight)))},directives:[i.k,Me],pipes:[i.b],styles:[".wrapper[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%;top:0;left:0}.wrapper[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{pointer-events:all;position:fixed;top:0;left:150px;color:#fff;z-index:40000;background-color:#000;font-size:12px}.wrapper[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .noiseCanvas[_ngcontent-%COMP%]{width:300px;height:300px;background:#fff;z-index:1000}.wrapper[_ngcontent-%COMP%]   .mainCanvas[_ngcontent-%COMP%]{width:100%;height:100%;position:fixed;top:0;left:0}.nipple[_ngcontent-%COMP%]{position:absolute;z-index:100;left:50%;top:50%}"],changeDetection:0}),t}();var Re=function(t){return null==t};function Ie(t,e){if(1&t&&(r.fc(0,"p"),r.Mc(1),r.ec()),2&t){var n=r.qc(2);r.Qb(1),r.Nc(n.currentQ.q)}}function Le(t,e){if(1&t){var n=r.gc();r.fc(0,"button",7),r.mc("click",(function(){r.Dc(n);var t=e.$implicit;return r.qc(2).clicked(t)})),r.Mc(1),r.ec()}if(2&t){var i=e.$implicit;r.vc("ngClass",i.c),r.Qb(1),r.Oc(" ",i.a," ")}}var Ne=function(t){return{transitioning:t}};function Fe(t,e){if(1&t&&(r.fc(0,"div",1),r.fc(1,"div",2,3),r.Lc(3,Ie,2,1,"p",4),r.fc(4,"div",5),r.Lc(5,Le,2,2,"button",6),r.ec(),r.ec(),r.ec()),2&t){var n=r.qc();r.vc("ngClass",r.wc(3,Ne,n.isTransitioning)),r.Qb(3),r.vc("ngIf",n.currentQ.q),r.Qb(2),r.vc("ngForOf",n.currentQ.options)}}var Be=function(){function t(t){this.cd=t,this.isTransitioning=!1,this.resultEvent=new r.t,this.qa={0:{options:[{a:"Explore",r:"0a",c:["big","mb-3","mb-md-0"],e:!0},{a:"Explore without sound",r:"0b",c:["small"],e:!1}]},"0a":{}}}return t.prototype.clicked=function(t){var e=this;this.isTransitioning=!0,this.cd.detectChanges(),Re(t.e)?setTimeout((function(n){e.currentQ=e.qa[t.r],e.isTransitioning=!1,e.cd.detectChanges()}),300):this.resultEvent.next(t.e)},t.prototype.ngOnInit=function(){this.currentQ=this.qa[0]},t.\u0275fac=function(e){return new(e||t)(r.ac(r.j))},t.\u0275cmp=r.Ub({type:t,selectors:[["app-qa"]],outputs:{resultEvent:"resultEvent"},decls:1,vars:1,consts:[["class","qa",3,"ngClass",4,"ngIf"],[1,"qa",3,"ngClass"],[1,"content"],["contentRef",""],[4,"ngIf"],[1,"options","mt-4"],["class","custom-button dark","mat-stroked-button","",3,"ngClass","click",4,"ngFor","ngForOf"],["mat-stroked-button","",1,"custom-button","dark",3,"ngClass","click"]],template:function(t,e){1&t&&r.Lc(0,Fe,6,5,"div",0),2&t&&r.vc("ngIf",e.currentQ)},directives:[i.k,i.i,i.j,d.a],styles:["[_nghost-%COMP%]   .qa[_ngcontent-%COMP%]{transition:opacity .3s}[_nghost-%COMP%]   .qa.transitioning[_ngcontent-%COMP%]{opacity:0;pointer-events:none}[_nghost-%COMP%]   .qa.transitioning[_ngcontent-%COMP%]   .custom-button[_ngcontent-%COMP%]{pointer-events:none!important}[_nghost-%COMP%]   .qa[_ngcontent-%COMP%]   .custom-button.small[_ngcontent-%COMP%]{border:0 solid!important;font-size:14px}"]}),t}(),ze=function(t){return{odd:t}},Ue=function(t,e){return{width:t,height:e}},He=function(t){return{white:t}};function Ve(t,e){if(1&t&&(r.fc(0,"div",2),r.pc(),r.fc(1,"svg",3),r.bc(2,"path",4),r.ec(),r.ec()),2&t){var n=e.index,i=r.qc();r.vc("ngClass",r.wc(3,ze,n%2==0)),r.Qb(1),r.vc("ngStyle",r.xc(5,Ue,i.size+"px",i.size+"px"))("ngClass",r.wc(8,He,-1===i.direction))}}var Ge=function(t){return{flip:t}},We=function(){function t(t){this.site=t,this.dashes=[],this._start=0,this._end=0,this.pinpos=0,this.space=0,this.size=20,this.pos=0,this.direction=1,this.flip=!1,this.points=[{label:"works",position:10}]}return t.prototype.ngOnInit=function(){var t=this;this.site.screenSizeChange.subscribe((function(e){t.resize()})),this.resize()},t.prototype.resize=function(){this.dashes=[];var t=this.site.screen.w>this.site.screen.h?this.site.screen.w:this.site.screen.h;this.space=t/15,this.size=45;for(var e=0;e<15;e++)this.dashes.push(e)},t.\u0275fac=function(e){return new(e||t)(r.ac(s.a))},t.\u0275cmp=r.Ub({type:t,selectors:[["app-progress"]],hostVars:2,hostBindings:function(t,e){2&t&&r.Sb("flip",e.flip)},inputs:{direction:"direction",flip:"flip",points:"points"},decls:2,vars:4,consts:[[1,"dashwrapper",3,"ngClass"],["class","dash",3,"ngClass",4,"ngFor","ngForOf"],[1,"dash",3,"ngClass"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 558.6 520.7",1,"dashcontent",3,"ngStyle","ngClass"],["d","M169.6 33.5c17.2-2.1 33.7 2.5 50.3 5.4 9.9 1.8 19.8 3.9 30 4.3 8.4.3 16.3-1.5 24.2-4.1 16.8-5.6 32.6-13.9 49.7-18.7 23.7-6.6 46.8-6.3 67.7 9 17.6 13 27.4 30.8 30.4 52.1 4.5 31.2-6.6 57.5-29.1 78-25.4 23.1-41.5 51.1-51.9 83.2-6.3 19.5-17.4 35.8-35.8 46-25.3 14-54.5 8.8-76.2-13.2-7-7.1-12.9-15.2-17.5-24-14.5-27.5-34.6-49.4-61.2-65.7-20.9-12.8-36.7-30.2-44-54.2-9.9-32.5 2.1-74.4 37-91.1 8.3-4.1 17.2-6.1 26.4-7zM435.4 384.6c1.5 21.6.8 42.7-7.1 63.1-1.9 4.9-4.3 9.7-7.2 14.1-15.1 23-41.5 28-64.1 12.1-13.4-9.5-23.1-22.1-30.3-36.6-11.8-23.9-19.6-48.7-16.2-75.9 1.6-12.4 5.7-23.9 13.3-33.9 20.2-26.6 57.4-29.3 82.7-6.2 18.8 17.2 26.2 39.2 28.9 63.3zM271 391.2c.8 28.4-3.6 58.9-22.3 85.8-8.2 11.7-18.8 20.4-33.4 22.6-18.8 2.8-32.7-6.1-43.8-20.2-9.6-12.2-15.1-26.3-18.9-41.2-4.6-18.2-6.8-36.6-3.9-55.4 2.7-17.5 9.4-33.2 22.4-45.6 25.9-24.8 64.6-20.7 85 8.8 8.7 12.6 12.9 26.7 14.9 45.2zM528.5 262c1.7 13.1 1.2 25.8-3.2 38.1-9 25.6-32.6 35.6-57.5 24.4-16.2-7.3-28.5-19.2-38.9-33.3-12.5-17-22.2-35.2-25-56.5-3.7-27.6 8.2-53.6 34.3-62.2 19.6-6.5 37.1-.9 52.9 11.2 16.6 12.7 25.8 30.3 31.7 49.9 2.9 9.4 5.2 18.9 5.7 28.4zM32.5 308c-1.1-21.3.3-44.3 11.2-65.6 9.4-18.4 23.1-31.9 43.9-36.7 19.4-4.5 39.7 3.5 51.1 20 10.2 14.7 13.1 31.1 11 48.4-3.3 27.8-13.7 52.9-32.3 74.1-9.2 10.5-20.2 18.4-34.7 20.1-14.7 1.7-26.2-4-35.1-15.2-9.8-12.6-13.2-27.6-15.1-45.1z"]],template:function(t,e){1&t&&(r.fc(0,"div",0),r.Lc(1,Ve,3,10,"div",1),r.ec()),2&t&&(r.vc("ngClass",r.wc(2,Ge,-1===e.direction)),r.Qb(1),r.vc("ngForOf",e.dashes))},directives:[i.i,i.j,i.l],styles:["[_nghost-%COMP%]{width:30px;height:100%;position:absolute;top:0;pointer-events:none;left:0;transform:rotate(-45deg);transform-origin:50% 0;top:40%;left:-50px;z-index:100}.flip[_nghost-%COMP%]{transform:scaleX(-1) rotate(-45deg);right:-50px;left:auto}[_nghost-%COMP%]   .dashwrapper[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column;justify-content:space-between;align-items:flex-end;padding-right:10px}[_nghost-%COMP%]   .dashwrapper[_ngcontent-%COMP%]   .dash[_ngcontent-%COMP%]{opacity:1;border-radius:1px;position:relative;width:50px;height:50px}[_nghost-%COMP%]   .dashwrapper[_ngcontent-%COMP%]   .dash[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:50px;height:50px;transform:rotate(0deg);-webkit-animation:fadeOut 1s linear forwards;animation:fadeOut 1s linear forwards}[_nghost-%COMP%]   .dashwrapper[_ngcontent-%COMP%]   .dash[_ngcontent-%COMP%]   svg.white[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#fff}[_nghost-%COMP%]   .dashwrapper[_ngcontent-%COMP%]   .dash.odd[_ngcontent-%COMP%]{transform:translateX(-40px)}[_nghost-%COMP%]   .dashwrapper[_ngcontent-%COMP%]   .dash.odd[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transform:scaleX(-1) rotate(-5deg)}[_nghost-%COMP%]   .dashwrapper[_ngcontent-%COMP%]   .dash.visible[_ngcontent-%COMP%]{opacity:1}@-webkit-keyframes fadeOut{0%{opacity:1}to{opacity:0}}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}"]}),t}(),Xe=function(){function t(t,e,n){this.data=t,this.dialog=e,this.router=n}return t.prototype.open=function(){this.router.navigate(["/illustration"])},t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)(r.ac(u.a),r.ac(l.b),r.ac(y.c))},t.\u0275cmp=r.Ub({type:t,selectors:[["app-section3"]],decls:13,vars:0,consts:[[1,"wrap"],[1,"container","center-container"],[1,"row"],[1,"col-12","text-center"],[1,"t"],[1,"apptitle","t","logofont","mb-0"],["mat-stroked-button","","color","inverted",1,"custom-button",3,"click"]],template:function(t,e){1&t&&(r.fc(0,"div",0),r.fc(1,"div",1),r.fc(2,"div",2),r.fc(3,"div",3),r.fc(4,"h2",4),r.Mc(5,"I create"),r.ec(),r.ec(),r.ec(),r.fc(6,"div",2),r.fc(7,"div",3),r.fc(8,"h1",5),r.Mc(9,"Illustrations"),r.ec(),r.ec(),r.ec(),r.fc(10,"div",2),r.fc(11,"button",6),r.mc("click",(function(){return e.open()})),r.Mc(12,"Open projects"),r.ec(),r.ec(),r.ec(),r.ec())},directives:[d.a],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:inline-block}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .subtext[_ngcontent-%COMP%]{color:#fff}[_nghost-%COMP%]   .wrap[_ngcontent-%COMP%]{height:100vh;width:100%}[_nghost-%COMP%]   h1[_ngcontent-%COMP%], [_nghost-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff}"]}),t}(),qe=function(){function t(t,e,n){this.data=t,this.dialog=e,this.router=n}return t.prototype.open=function(){this.router.navigate(["design-and-dev"])},t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)(r.ac(u.a),r.ac(l.b),r.ac(y.c))},t.\u0275cmp=r.Ub({type:t,selectors:[["app-section4"]],decls:13,vars:0,consts:[[1,"wrap"],[1,"container","center-container"],[1,"row"],[1,"col-12","text-center"],[1,"t"],[1,"apptitle","t","logofont"],["mat-stroked-button","","color","inverted",1,"custom-button",3,"click"]],template:function(t,e){1&t&&(r.fc(0,"div",0),r.fc(1,"div",1),r.fc(2,"div",2),r.fc(3,"div",3),r.fc(4,"h2",4),r.Mc(5,"I do"),r.ec(),r.ec(),r.ec(),r.fc(6,"div",2),r.fc(7,"div",3),r.fc(8,"h1",5),r.Mc(9,"Design & Development"),r.ec(),r.ec(),r.ec(),r.fc(10,"div",2),r.fc(11,"button",6),r.mc("click",(function(){return e.open()})),r.Mc(12,"Open projects"),r.ec(),r.ec(),r.ec(),r.ec())},directives:[d.a],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:inline-block}[_nghost-%COMP%]   .apptitle[_ngcontent-%COMP%]{font-size:3em}@media (min-width:1200px){[_nghost-%COMP%]   .apptitle[_ngcontent-%COMP%]{font-size:4em}}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .bgimg-wrap[_ngcontent-%COMP%]{width:20%;padding-bottom:20%;transform:translateX(-50%) translateY(-50%);display:flex}[_nghost-%COMP%]   .bgimg-wrap[_ngcontent-%COMP%], [_nghost-%COMP%]   .bgimg-wrap[_ngcontent-%COMP%]   .bgimg[_ngcontent-%COMP%]{-webkit-clip-path:polygon(50% 0,0 100%,100% 100%);clip-path:polygon(50% 0,0 100%,100% 100%);background:#000;top:50%;left:50%;position:absolute}[_nghost-%COMP%]   .bgimg-wrap[_ngcontent-%COMP%]   .bgimg[_ngcontent-%COMP%]{flex:1;width:calc(100% - 8px);height:calc(100% - 8px);transform:translateX(-50%) translateY(calc(-50% + 2px))}[_nghost-%COMP%]   .bgimg-wrap[_ngcontent-%COMP%]   .bgimg[_ngcontent-%COMP%]   .bgimg-inner[_ngcontent-%COMP%]{-webkit-clip-path:polygon(50% 100%,0 0,100% 0);clip-path:polygon(50% 100%,0 0,100% 0);background:red;flex:1;width:calc(100%);height:calc(100%)}[_nghost-%COMP%]   .wrap[_ngcontent-%COMP%]{height:100vh;width:100%}[_nghost-%COMP%]   h1[_ngcontent-%COMP%], [_nghost-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff}"]}),t}(),Ye=["wrapperRef"],Qe=["section2Ref"],Ke=["section5Ref"],Ze=function(t,e){return{dark:t,show:e}},Je=function(t){return{show:t}};function $e(t,e){if(1&t){var n=r.gc();r.fc(0,"div",21),r.rc(1,"async"),r.rc(2,"async"),r.fc(3,"button",22),r.mc("click",(function(){return r.Dc(n),r.qc().prevClicked()})),r.rc(4,"async"),r.rc(5,"async"),r.fc(6,"mat-icon"),r.Mc(7,"chevron_left"),r.ec(),r.ec(),r.bc(8,"div",23),r.fc(9,"button",24),r.mc("click",(function(){return r.Dc(n),r.qc().nextClicked()})),r.rc(10,"async"),r.rc(11,"async"),r.fc(12,"mat-icon"),r.Mc(13,"chevron_right"),r.ec(),r.ec(),r.ec()}if(2&t){var i=r.qc();r.vc("ngClass",r.xc(15,Ze,i.ts.dark>.5,!r.sc(1,3,i.ts.isFreeFlight)&&r.sc(2,5,i.ts.siteEntered))),r.Qb(3),r.vc("ngClass",r.wc(18,Je,i.currentIndex>0&&!r.sc(4,7,i.ts.isFreeFlight)&&r.sc(5,9,i.ts.siteEntered))),r.Qb(6),r.vc("ngClass",r.wc(20,Je,i.currentIndex<i.snapPositions.length-1&&!r.sc(10,11,i.ts.isFreeFlight)&&r.sc(11,13,i.ts.siteEntered)))}}var tn,en,nn,rn=function(t,e){return{show:t,mobile:e}},an=function(t,e){return{"free-flight":t,"site-not-entered":e}};tn=Pt.b.utils.checkPrefix("filter"),en=/blur\((.+)?px\)/,nn=function(t){return(Pt.b.getProperty(t,tn)||"").match(en)||[]},Pt.b.registerPlugin({name:"blur",get:function(t){return+nn(t)[1]||0},init:function(t,e){var n,i=Pt.b.getProperty(t,tn),r="blur("+e+"px)",a=nn(t)[0];"none"===i&&(i=""),a?(n=i.indexOf(a),e=i.substr(0,n)+r+i.substr(n+a.length)):(e=i+r,i+=i?" blur(0px)":"blur(0px)"),this.target=t,this.interp=Pt.b.utils.interpolate(i,e)},render:function(t,e){e.target.style[tn]=e.interp(t)}});var on=[{path:"**",component:E,children:[{path:"",component:function(){function t(t,e,n,i,r,a,o,s,c,u){var l,h=this;this.el=t,this.renderer=e,this.cd=n,this.ga=i,this.site=r,this.ts=a,this.zone=o,this.data=s,this.dialog=c,this.router=u,this.delta=0,this.startpos=0,this.speed=0,this.animRunning=!1,this.dif=0,this.startPos=0,this.snapPositions=[0,7,12,16.6,24,32.5,44,65,80,92.2],this.catprogress=0,this.showScrollIndicator=!0,this.atBottom=!1,this.scrollIndicatorDelay=2e3,this.initial=!0,this.splitTexts={},this.currentIndex=0,this.site.scrolledEl=this.el.nativeElement,Object(qt.a)(this.ts.isFreeFlight,this.ts.siteEntered).subscribe((function(t){!h.ts.isFreeFlight.value&&h.ts.siteEntered.value?h.site.enableScroll():h.site.disableScroll()})),this.ts.isFreeFlight.subscribe((function(t){h.ts.isFreeFlight.value||(h.currentIndex=0)})),this.site.scrollEvent.pipe(Object(Yt.a)(50)).subscribe((function(t){var e=function(t,e){for(var n,i=0,r=e.length-1;r-i>1;)e[n=Math.floor((i+r)/2)]<t?i=n:r=n;return t-e[i]<=e[r]-t?i:r}(h.dur*h.progress,h.snapPositions);h.currentIndex=e,h.cd.markForCheck()})),u.events.subscribe((function(t){if(t instanceof y.b){var e=h.router.url.split("/")[1].split("?")[0];if(l===e)return;h.dialogRef&&h.dialogRef.close(),l=e,"illustration"===e?(h.ts.isTempMuteOff.next(!1),h.ts.pauseRender(),h.dialogRef=h.dialog.open(Mt,{width:"100%",height:"100%",maxHeight:"100%",maxWidth:"1440px",backdropClass:"dark-backdrop",panelClass:"full-screen-modal",data:{project:1},closeOnNavigation:!1}),h.dialogRef.afterClosed().subscribe((function(){h.router.navigate(["/"])}))):"design-and-dev"===e?(h.ts.isTempMuteOff.next(!1),h.ts.pauseRender(),h.dialogRef=h.dialog.open(Mt,{width:"100%",height:"100%",maxHeight:"100%",maxWidth:"1440px",backdropClass:"dark-backdrop",panelClass:"full-screen-modal",data:{project:0},closeOnNavigation:!1}),h.dialogRef.afterClosed().subscribe((function(){h.router.navigate(["/"])}))):"about"===e?(h.ts.isTempMuteOff.next(!0),h.dialogRef=h.dialog.open(Gt,{width:"100%",maxHeight:"100%",maxWidth:"1440px",panelClass:"about-modal",data:{},autoFocus:!1}),h.dialogRef.afterClosed().subscribe((function(){h.router.navigate(["/"])}))):(h.ts.isTempMuteOff.next(!0),h.ts.resumeRender())}}))}return t.prototype.winFocus=function(){this.site.scrollEvent.next()},t.prototype.swipeLeft=function(){this.prevClicked()},t.prototype.swipeRight=function(){this.nextClicked()},t.prototype.swipe=function(){this.nextClicked()},t.prototype.prevClicked=function(){this.resetIndicator();var t=this.currentIndex-1>=0?this.currentIndex-1:0,e=this.snapPositions[t]/this.dur*(this.el.nativeElement.scrollHeight-this.el.nativeElement.offsetHeight),n=this.snapPositions[t]/this.dur,i=10*Math.abs(n-this.progress);Pt.b.to(this.el.nativeElement,{ease:Dt.d.easeInOut,duration:i,scrollTop:e})},t.prototype.nextClicked=function(){this.resetIndicator();var t=this.currentIndex+1<this.snapPositions.length?this.currentIndex+1:this.snapPositions.length-1,e=this.snapPositions[t]/this.dur*(this.el.nativeElement.scrollHeight-this.el.nativeElement.offsetHeight),n=this.snapPositions[t]/this.dur,i=10*Math.abs(n-this.progress);Pt.b.to(this.el.nativeElement,{ease:Dt.d.easeInOut,duration:i,scrollTop:e})},t.prototype.qaResult=function(t){t?(this.ts.isSoundOn.next(!0),this.ts.isMusicOn.next(!0),this.ga.event("button_click_exploreWithSound","button_click","Explore with sound clicked")):(this.ts.isSoundOn.next(!1),this.ts.isMusicOn.next(!1),this.ga.event("button_click_exploreWithoutSound","button_click","Explore without sound clicked")),this.ts.siteEntered.next(!0)},t.prototype.ngOnInit=function(){var t=this.wrapperRef.nativeElement;this.site.isMobile?(t.addEventListener("touchstart",this.touchStart.bind(this),{passive:!0}),t.addEventListener("touchmove",this.touchMove.bind(this),{passive:!0}),t.addEventListener("touchend",this.touchEnd.bind(this),{passive:!0})):t.addEventListener("wheel",this.wheelEvt.bind(this),{passive:!0})},t.prototype.toggleSound=function(){this.ts.isSoundOn.next(!this.ts.isSoundOn.value)},t.prototype.toggleMusic=function(){this.ts.isMusicOn.next(!this.ts.isMusicOn.value)},t.prototype.resetIndicator=function(){var t=this;clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout((function(){t.showScrollIndicator=!0,t.cd.detectChanges(),t.scrollIndicatorDelay+=3e3}),this.scrollIndicatorDelay),this.showScrollIndicator=!1},t.prototype.wheelEvt=function(t){if(!this.ts.isFreeFlight.value&&this.ts.siteEntered.value){var e=Xt()(t);this.resetIndicator(),this.dif+=e.pixelY,this.animRunning||(this.dif+=this.el.nativeElement.scrollTop,this.startAnim())}},t.prototype.startAnim=function(){var t=this;this.startPos=this.el.nativeElement.scrollTop,this.animRunning=!0,this.zone.runOutsideAngular((function(){t.animFunc()}))},t.prototype.animFunc=function(){var t=this;this.dif<0&&(this.dif=0);var e=this.el.nativeElement.scrollHeight-this.el.nativeElement.offsetHeight;this.dif>e&&(this.dif=e);var n=this.dif-this.el.nativeElement.scrollTop;this.el.nativeElement.scrollTop+=n/5,Math.abs(n/5)<1&&!this.touching?this.stopAnim():this.frameId=requestAnimationFrame((function(){t.animFunc()}))},t.prototype.stopAnim=function(){this.dif=0,window.cancelAnimationFrame(this.frameId),this.animRunning=!1},t.prototype.touchStart=function(t){!this.ts.isFreeFlight.value&&this.ts.siteEntered.value&&(this.start=t.changedTouches[0],this.touching=!0,this.startpos=this.el.nativeElement.scrollTop,this.resetIndicator(),this.dif=this.el.nativeElement.scrollTop)},t.prototype.touchMove=function(t){!this.ts.isFreeFlight.value&&this.ts.siteEntered.value&&(this.end=t.changedTouches[0],this.delta=this.start.screenY-this.end.screenY,this.dif=this.startpos+this.start.screenY-this.end.screenY,this.speed=this.startpos+this.start.screenY-this.end.screenY-this.el.nativeElement.scrollTop,this.el.nativeElement.scrollTop=this.dif)},t.prototype.touchEnd=function(){!this.ts.isFreeFlight.value&&this.ts.siteEntered.value&&(this.resetIndicator(),this.touching=!1)},t.prototype.setupSplitTexts=function(){if(!this.site.isMobile&&this.initial){var t=this.el.nativeElement.querySelector(".section1 .t"),e=this.el.nativeElement.querySelectorAll(".section1 .t")[1];this.splitTexts.s1_splitText1=zt(t,{words:1,chars:1,spacing:10}),this.splitTexts.s1_splitText2=zt(e,{words:1,chars:1,spacing:10});var n=this.el.nativeElement.querySelectorAll(".section2 .t")[0],i=this.el.nativeElement.querySelectorAll(".section2 .t")[1];this.splitTexts.s2_splitText1=zt(n,{words:1,chars:1,spacing:10}),this.splitTexts.s2_splitText2=zt(i,{words:1,chars:1,spacing:10});var r=this.el.nativeElement.querySelectorAll(".section2 .t2")[0],a=this.el.nativeElement.querySelectorAll(".section2 .t2")[1];this.splitTexts.s2_splitText3=zt(r,{words:1,chars:1,spacing:10}),this.splitTexts.s2_splitText4=zt(a,{words:1,chars:1,spacing:10});var o=this.el.nativeElement.querySelectorAll(".section2 .t3")[0],s=this.el.nativeElement.querySelectorAll(".section2 .t3")[1];this.splitTexts.s2_splitText5=zt(o,{words:1,chars:1,spacing:10}),this.splitTexts.s2_splitText6=zt(s,{words:1,chars:1,spacing:10});var c=this.el.nativeElement.querySelectorAll(".section2 .t4")[0],u=this.el.nativeElement.querySelectorAll(".section2 .t4")[1];this.splitTexts.s2_splitText7=zt(c,{words:1,chars:1,spacing:10}),this.splitTexts.s2_splitText8=zt(u,{words:1,chars:1,spacing:10});var l=this.el.nativeElement.querySelectorAll(".section5 .t5")[0],h=this.el.nativeElement.querySelectorAll(".section5 .t5")[1];this.splitTexts.s5_splitText7=zt(l,{words:1,chars:1,spacing:10}),this.splitTexts.s5_splitText8=zt(h,{words:1,chars:1,spacing:10}),this.initial=!0}},t.prototype.setupTL=function(){var t=this;this.tl=Pt.b.timeline();var e=this.tl;e.to(".section1 .btnwrap",{duration:.2,opacity:0,ease:Dt.d.easeInOut}),e.set(".section1 .btnwrap",{"pointer-events":"none"}),e.set(".section1",{"pointer-events":"none"}),this.site.isMobile?e.to(".section1 .t",{ease:Dt.b.easeIn,y:-50,opacity:0,rotation:-2,textShadow:"0px 0px 10px #000",stagger:{from:"random",ease:Dt.d.easeOut,amount:.6},delay:0}):(e.to(this.splitTexts.s1_splitText1.chars,{ease:Dt.b.easeIn,y:-50,opacity:0,rotation:-20,textShadow:"0px 0px 30px #000",stagger:{from:"random",ease:Dt.d.easeIn,amount:.6}}),e.to(this.splitTexts.s1_splitText2.chars,{ease:Dt.b.easeIn,y:-50,opacity:0,rotation:-20,textShadow:"0px 0px 30px #000",stagger:{from:"random",ease:Dt.d.easeIn,amount:.6}},"<")),e.from(".section2",{ease:Dt.b.easeOut,duration:1.5,xPercent:100,yPercent:100,onStart:function(){t.section2Ref.updateSize()}}),e.from(".section2 .bgsvg",{ease:"none",attr:{points:"0,100 0,100 100,100 100,100 100,100 100,100"}},"<"),e.from(".section2 .circle",{ease:"none",strokeDashoffset:1e3},"<+0.6"),e.set(".section2 .mano-button",{opacity:0,scale:.01,pointerEvents:"none"}),e.set(".section2 .me-button",{opacity:0,scale:.01}),e.to(".section2 .me-button",{opacity:1,ease:Dt.b.easeInOut,scale:1},"<+0.6"),this.site.isMobile?(e.from(".section2 .t",{ease:Dt.b.easeIn,y:50,opacity:0,rotation:0,textShadow:"0px 0px 10px #000",stagger:{from:"random",ease:Dt.d.easeOut,amount:.6}},"<+0.7"),e.to(".section2 .t",{ease:Dt.b.easeIn,y:-50,opacity:0,rotation:-20,textShadow:"0px 0px 10px #000",stagger:{from:"random",ease:Dt.d.easeOut,amount:.6},delay:2})):(e.from(this.splitTexts.s2_splitText1.chars,{ease:Dt.b.easeIn,y:50,opacity:0,rotation:20,textShadow:"0px 0px 30px #000",stagger:{from:"random",ease:Dt.d.easeOut,amount:.6}},"<+0.2"),e.from(this.splitTexts.s2_splitText2.chars,{ease:Dt.b.easeIn,y:50,opacity:0,rotation:20,textShadow:"0px 0px 30px #000",stagger:{from:"random",ease:Dt.d.easeOut,amount:.6}},"<+0.5"),e.to(this.splitTexts.s2_splitText1.chars,{ease:Dt.b.easeIn,y:-50,opacity:0,rotation:-20,textShadow:"0px 0px 30px #000",stagger:{from:"random",ease:Dt.d.easeOut,amount:.6},delay:2}),e.to(this.splitTexts.s2_splitText2.chars,{ease:Dt.b.easeIn,y:-50,opacity:0,rotation:-20,textShadow:"0px 0px 30px #000",stagger:{from:"random",ease:Dt.d.easeOut,amount:.6}},"<")),e.set(".section2 .mano-button",{pointerEvents:"all"},"<"),e.set(".section2 .me-button",{pointerEvents:"none"},"<+2"),e.to(".section2 .bgsvg",{duration:2,ease:Dt.b.easeInOut,attr:{points:"0,0 0,0 0,0 100,100 100,100 100,100 0,100"}},"<-2"),e.to(".section2 .me-button",{duration:2,ease:Dt.b.easeInOut,scale:0,opacity:0},"<"),e.to(".section2 .mano-button",{duration:2,opacity:1,ease:Dt.b.easeInOut,scale:1},"<"),e.to(this.section2Ref,{ease:Dt.b.easeInOut,circleSize:13,duration:2,onUpdate:function(){t.section2Ref.updateSize()}},"<"),this.site.isMobile?(e.from(".section2 .t2",{ease:Dt.b.easeIn,y:50,opacity:0,rotation:0,textShadow:"0px 0px 10px #000",stagger:{amount:.6,from:"random",ease:Dt.d.easeOut}},"<+0.9"),e.to(".section2 .t2",{ease:Dt.b.easeIn,y:-50,opacity:0,rotation:-20,textShadow:"0px 0px 10px #000",stagger:{amount:.9,from:"random",ease:Dt.d.easeOut},delay:1})):(e.from(this.splitTexts.s2_splitText3.chars,{ease:Dt.b.easeIn,y:-50,opacity:0,rotation:20,textShadow:"0px 0px 30px #000",stagger:{amount:.6,from:"random",ease:Dt.d.easeOut}},"<+0.5"),e.from(this.splitTexts.s2_splitText4.chars,{ease:Dt.b.easeIn,y:-50,opacity:0,rotation:20,textShadow:"0px 0px 30px #000",stagger:{amount:.6,from:"random",ease:Dt.d.easeOut}},"<"),e.to(this.splitTexts.s2_splitText3.chars,{ease:Dt.b.easeIn,y:-50,opacity:0,rotation:20,textShadow:"0px 0px 30px #000",stagger:{amount:.9,from:"random",ease:Dt.d.easeOut},delay:1.4}),e.to(this.splitTexts.s2_splitText4.chars,{ease:Dt.b.easeIn,y:-50,opacity:0,rotation:20,textShadow:"0px 0px 30px #000",stagger:{amount:.9,from:"random",ease:Dt.d.easeOut}},"<")),e.to(".section2 .mano-button",{duration:2,opacity:0,ease:Dt.b.easeInOut,scale:0},"<+0.2"),e.set(".section2 .mano-button",{pointerEvents:"none"},"<+2"),e.to(".section2 .circle",{duration:2,ease:"none",strokeDashoffset:1e3},"<-1.8"),e.from(".section2 .dashcontent",{duration:.001,display:"none",stagger:{amount:4}},"<-5"),e.set(".section2 .bgsvg",{attr:{points:"0,0 0,0 50,50 100,100 100,100 100,100 0,100"}}),e.to(".section2 .bgsvg",{duration:1,attr:{points:"0,0 100,0 50,50 100,0 100,0 100,100 0,100"}}),e.to(this.section2Ref,{circleSize:this.site.isMobile?60:30,duration:1,onUpdate:function(){t.section2Ref.updateSize()}}),this.site.isMobile?(e.from(".section2 .t3",{ease:Dt.b.easeIn,y:50,opacity:0,rotation:0,textShadow:"0px 0px 10px #000",stagger:{amount:.6,from:"random",ease:Dt.d.easeOut},duration:1.4},"<-1"),e.to(".section2 .t3",{ease:Dt.b.easeIn,y:-50,opacity:0,rotation:-20,textShadow:"0px 0px 10px #000",stagger:{amount:.6,from:"random",ease:Dt.d.easeOut},duration:2,delay:1.5}),e.from(".section2 .t4",{ease:Dt.b.easeIn,y:50,opacity:0,rotation:0,textShadow:"0px 0px 10px #000",stagger:{amount:.6,from:"random",ease:Dt.d.easeOut},duration:1.4},"<+0.9"),e.to(".section2 .t4",{ease:Dt.b.easeIn,y:-50,opacity:0,rotation:-20,textShadow:"0px 0px 10px #000",stagger:{amount:.6,from:"random",ease:Dt.d.easeOut},duration:2.9,delay:2.5})):(e.from(this.splitTexts.s2_splitText5.chars,{ease:Dt.b.easeIn,y:50,opacity:0,rotation:20,textShadow:"0px 0px 30px #000",stagger:{amount:.6,from:"random",ease:Dt.d.easeOut}},"<-1"),e.from(this.splitTexts.s2_splitText6.chars,{ease:Dt.b.easeIn,y:50,opacity:0,rotation:20,textShadow:"0px 0px 30px #000",stagger:{amount:.6,from:"random",ease:Dt.d.easeOut}},"<+0.5"),e.to(this.splitTexts.s2_splitText5.chars,{delay:4.2,ease:Dt.b.easeIn,y:-50,opacity:0,rotation:20,textShadow:"0px 0px 30px #000",stagger:{amount:.6,from:"random",ease:Dt.d.easeOut}},"<+0.2"),e.to(this.splitTexts.s2_splitText6.chars,{ease:Dt.b.easeIn,y:-50,opacity:0,rotation:20,textShadow:"0px 0px 30px #000",stagger:{amount:.6,from:"random",ease:Dt.d.easeOut}},"<+0.5"),e.from(this.splitTexts.s2_splitText7.chars,{ease:Dt.b.easeIn,y:50,opacity:0,rotation:20,textShadow:"0px 0px 30px #000",stagger:{amount:.6,from:"random",ease:Dt.d.easeOut}},"<+0.2"),e.from(this.splitTexts.s2_splitText8.chars,{ease:Dt.b.easeIn,y:50,opacity:0,rotation:20,textShadow:"0px 0px 30px #000",stagger:{amount:.6,from:"random",ease:Dt.d.easeOut}},"<+0.5"),e.to(this.splitTexts.s2_splitText7.chars,{delay:4,ease:Dt.b.easeIn,y:-50,opacity:0,rotation:20,textShadow:"0px 0px 30px #000",stagger:{amount:.6,from:"random",ease:Dt.d.easeOut}},"<+0.2"),e.to(this.splitTexts.s2_splitText8.chars,{ease:Dt.b.easeIn,y:-50,opacity:0,rotation:20,textShadow:"0px 0px 30px #000",stagger:{amount:.6,from:"random",ease:Dt.d.easeOut}},"<+0.5")),e.to(this.section2Ref,{circleSize:0,duration:1,onUpdate:function(){t.section2Ref.updateSize()}}),e.to(".section2 .masked",{fill:"#000000"},"<"),e.from(".section3",{duration:2,ease:Dt.b.easeOut,yPercent:100},"<+0.5"),e.from(".section3 .apptitle",{duration:2,ease:Dt.b.easeOut,y:200},"<+0.5"),e.from(".section3 .custom-button ",{ease:Dt.b.easeOut,duration:2,opacity:0,y:40},"<+2"),e.from(".section3prog .dashcontent",{duration:.001,display:"none",stagger:{amount:4}},"<-1"),e.to(".section2",{opacity:0},"<+2"),e.to(".section3",{ease:Dt.b.easeInOut,duration:4,yPercent:-100},"<+6"),e.from(".section4",{ease:Dt.b.easeInOut,duration:4,yPercent:100},"<"),e.from(".section4 .apptitle",{duration:4,ease:Dt.b.easeInOut,y:400},"<"),e.from(".section4 .custom-button ",{ease:Dt.b.easeInOut,duration:4,opacity:0,y:40},"<+2"),e.to(".section4",{delay:2,duration:4,ease:Dt.b.easeInOut,yPercent:-100}),this.site.isMobile?e.from(".section5 .t5",{ease:Dt.b.easeIn,y:50,opacity:0,rotation:0,textShadow:"0px 0px 10px #000",stagger:{each:.03,from:"random",ease:Dt.d.easeOut},duration:15.33},"<+25"):(e.from(this.splitTexts.s5_splitText7.chars,{ease:Dt.b.easeIn,y:-50,opacity:0,rotation:0,textShadow:"0px 0px 30px #000",stagger:{each:.03,from:"random",ease:Dt.d.easeOut},duration:10},"<+27"),e.from(this.splitTexts.s5_splitText8.chars,{ease:Dt.b.easeIn,y:-50,opacity:0,rotation:0,textShadow:"0px 0px 30px #000",stagger:{each:.03,from:"random",ease:Dt.d.easeOut},duration:10},"<+3")),e.to({},{duration:.1,onComplete:function(){t.atBottom=!0,t.cd.detectChanges()}}),e.set(" .section5 .custom-button",{"pointer-events":"all"}),e.from(".section5 .custom-button",{opacity:0,duration:4},"<-2"),this.dur=e.duration()},t.prototype.createTrigger=function(){var t=this;this.trigger=Tt.a.create({animation:this.tl,scroller:this.el.nativeElement,trigger:this.wrapperRef.nativeElement,pin:!0,scrub:1,anticipatePin:3,pinType:"fixed",start:"top top",onUpdate:function(e){if(t.progress=Math.floor(1e3*e.progress)/1e3,t.timelines){var n=e.progress*t.tl.duration();Object.keys(t.timelines).forEach((function(e){t.timelines[e].seek(n,!1)}))}},end:function(){return 17*t.site.screen.h}})},t.prototype.ngAfterViewInit=function(){var t=this;this.ts.onInited.subscribe((function(e){e&&(t.setupThreeTimelines(),t.tdur=t.timelines[Object.keys(t.timelines)[0]].duration(),Pt.b.registerPlugin(Tt.a),Pt.b.registerPlugin(Et.a),Pt.b.defaults({duration:1,ease:"none"}),t.el.nativeElement.scrollTop=0,t.setupSplitTexts(),t.setupTL(),t.ts.isFreeFlight.subscribe((function(e){e||t.trigger?e&&t.trigger&&(t.trigger.disable(),t.trigger.kill(),t.trigger=null,t.renderer.setStyle(t.el.nativeElement,"overflow","hidden")):t.createTrigger()})))}))},t.prototype.setupThreeTimelines=function(){var t=this;this.timelines=this.ts.anim.createTimeline(),Object.keys(this.timelines).forEach((function(e){t.timelines[e].pause()}))},t.prototype.setFreeFlight=function(){this.ts.control.damping=40},t.\u0275fac=function(e){return new(e||t)(r.ac(r.r),r.ac(r.S),r.ac(r.j),r.ac(h.a),r.ac(s.a),r.ac(c.a),r.ac(r.L),r.ac(u.a),r.ac(l.b),r.ac(y.c))},t.\u0275cmp=r.Ub({type:t,selectors:[["app-content"]],viewQuery:function(t,e){var n;(1&t&&(r.Hc(Ye,!0),r.Hc(Qe,!0),r.Hc(Ke,!0)),2&t)&&(r.yc(n=r.nc())&&(e.wrapperRef=n.first),r.yc(n=r.nc())&&(e.section2Ref=n.first),r.yc(n=r.nc())&&(e.section5Ref=n.first))},hostBindings:function(t,e){1&t&&r.mc("scroll",(function(){return e.winFocus()}))},decls:34,vars:19,consts:[[1,"prog"],["class","mobilecontrols",3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"content-wrapper",3,"ngClass"],["wrapperRef",""],[1,"scene"],[1,"section1"],[1,"container","center-container"],[1,"row"],[1,"col-12","text-center"],[1,"apptitle","t","logofont"],[1,"t"],[1,"btnwrap"],[3,"resultEvent"],[1,"section2"],["section2Ref",""],[1,"section3prog",3,"direction","flip"],[1,"section3"],[1,"section4"],[1,"section5"],["section5Ref",""],[1,"mobilecontrols",3,"ngClass"],["mat-icon-button","","color","primary","aria-label","Previous section",3,"ngClass","click"],[1,"flex-grow-1"],["mat-icon-button","","color","primary","aria-label","Next section",3,"ngClass","click"]],template:function(t,e){1&t&&(r.bc(0,"div",0),r.Lc(1,$e,14,22,"div",1),r.bc(2,"app-scroll-indicator",2),r.rc(3,"async"),r.rc(4,"async"),r.fc(5,"div",3,4),r.rc(7,"async"),r.rc(8,"async"),r.bc(9,"app-three",5),r.fc(10,"section",6),r.fc(11,"div",7),r.fc(12,"div",8),r.fc(13,"div",9),r.fc(14,"h1",10),r.Mc(15,"Gergely Gizella"),r.ec(),r.ec(),r.ec(),r.fc(16,"div",8),r.fc(17,"div",9),r.fc(18,"h2",11),r.Mc(19,"Illustration and Development"),r.ec(),r.fc(20,"div",12),r.fc(21,"app-qa",13),r.mc("resultEvent",(function(t){return e.qaResult(t)})),r.ec(),r.ec(),r.ec(),r.ec(),r.ec(),r.ec(),r.fc(22,"section",14),r.bc(23,"app-progress"),r.bc(24,"app-section2",null,15),r.ec(),r.bc(26,"app-progress",16),r.fc(27,"section",17),r.bc(28,"app-section3"),r.ec(),r.fc(29,"section",18),r.bc(30,"app-section4"),r.ec(),r.fc(31,"section",19),r.bc(32,"app-section5",null,20),r.ec(),r.ec()),2&t&&(r.Qb(1),r.vc("ngIf",e.site.isMobile),r.Qb(1),r.vc("ngClass",r.xc(13,rn,e.showScrollIndicator&&!r.sc(3,5,e.ts.isFreeFlight)&&r.sc(4,7,e.ts.siteEntered)&&!e.atBottom,e.site.isMobile)),r.Qb(3),r.vc("ngClass",r.xc(16,an,r.sc(7,9,e.ts.isFreeFlight),!r.sc(8,11,e.ts.siteEntered))),r.Qb(21),r.vc("direction",-1)("flip",!0))},directives:[i.k,$t,i.i,je,Be,We,Bt,Xe,qe,Ht,d.a,f.a],pipes:[i.b],styles:["[_nghost-%COMP%]{width:100%;height:100%;position:fixed;overscroll-behavior:none;overflow:hidden}[_nghost-%COMP%]   .mobilecontrols[_ngcontent-%COMP%]{display:flex;position:fixed;z-index:1000000;bottom:0;padding:15px;pointer-events:none;width:100%;opacity:0;transition:opacity 1s}[_nghost-%COMP%]   .mobilecontrols.dark[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{color:#fff!important}[_nghost-%COMP%]   .mobilecontrols[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{opacity:0;font-size:2em;color:#000!important;width:60px;height:60px;transition:color 1s;transition:opacity .5s;pointer-events:none!important}[_nghost-%COMP%]   .mobilecontrols[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:50px;height:50px;line-height:50px;font-size:50px}[_nghost-%COMP%]   .mobilecontrols[_ngcontent-%COMP%]   .mat-icon-button.show[_ngcontent-%COMP%]{opacity:1;pointer-events:all!important}[_nghost-%COMP%]   .mobilecontrols.show[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   .mobilecontrols.show[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{pointer-events:all}[_nghost-%COMP%]   .custom-button[_ngcontent-%COMP%]{transition:opacity 1s}[_nghost-%COMP%]   .custom-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{transform:translateY(-2px)}[_nghost-%COMP%]   .custom-button.hide[_ngcontent-%COMP%], [_nghost-%COMP%]   app-scroll-indicator[_ngcontent-%COMP%]{opacity:0;pointer-events:none}[_nghost-%COMP%]   app-scroll-indicator[_ngcontent-%COMP%]{transition:opacity 1s;position:fixed;z-index:100;display:flex;width:100%;height:100%}[_nghost-%COMP%]   app-scroll-indicator.show[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   .prog[_ngcontent-%COMP%]{position:fixed;bottom:0;z-index:1000000;text-shadow:2px 2px 5px #fff}[_nghost-%COMP%]   .scene[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;height:100%}[_nghost-%COMP%]   .path[_ngcontent-%COMP%]{width:100%;height:600%;position:absolute;top:0;z-index:100}[_nghost-%COMP%]   .path[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{height:100%;width:100%;overflow:hidden;overscroll-behavior:none}[_nghost-%COMP%]   .content-wrapper.free-flight[_ngcontent-%COMP%], [_nghost-%COMP%]   .content-wrapper.site-not-entered[_ngcontent-%COMP%]{width:100%!important;max-width:100%!important}[_nghost-%COMP%]   .content-wrapper.free-flight[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{opacity:0!important}[_nghost-%COMP%]   .content-wrapper.free-flight[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], [_nghost-%COMP%]   .content-wrapper.free-flight[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]     button{pointer-events:none!important}[_nghost-%COMP%]     .center-container{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%}[_nghost-%COMP%]     .vcenter-container{display:flex;flex-direction:column;height:100%;justify-content:flex-end;align-items:center}[_nghost-%COMP%]     .cont-wrapper{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .cont-wrapper .text-left, [_nghost-%COMP%]     .cont-wrapper .text-right{text-align:center!important}@media (min-width:991px){[_nghost-%COMP%]     .cont-wrapper .text-right{text-align:right!important}[_nghost-%COMP%]     .cont-wrapper .text-left{text-align:left!important}[_nghost-%COMP%]     .cont-wrapper .vcenter-container{justify-content:center;align-items:stretch}}[_nghost-%COMP%]   section[_ngcontent-%COMP%]{transition:opacity 1s;position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}"]}),t}()}]}],sn=function(){function t(){}return t.\u0275mod=r.Yb({type:t}),t.\u0275inj=r.Xb({factory:function(e){return new(e||t)},imports:[[y.d.forChild(on)],y.d]}),t}(),cn=n("qFsG"),un=n("3Pt+"),ln=n("Xa2L"),hn=function(){function t(){}return t.\u0275mod=r.Yb({type:t}),t.\u0275inj=r.Xb({factory:function(e){return new(e||t)},imports:[[i.c,a,o,sn,d.b,f.b,l.c,cn.b,ln.b,un.l,vt]]}),t}()},pLZG:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("Ji7U"),r=n("LK+K"),a=n("1OyB"),o=n("vuIU"),s=n("7o/Q");function c(t,e){return function(n){return n.lift(new u(t,e))}}var u=function(){function t(e,n){Object(a.a)(this,t),this.predicate=e,this.thisArg=n}return Object(o.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new l(t,this.predicate,this.thisArg))}}]),t}(),l=function(t){Object(i.a)(n,t);var e=Object(r.a)(n);function n(t,i,r){var o;return Object(a.a)(this,n),(o=e.call(this,t)).predicate=i,o.thisArg=r,o.count=0,o}return Object(o.a)(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(s.a)},"pc+1":function(t,e,n){"use strict";function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}n.d(e,"c",(function(){return He})),n.d(e,"e",(function(){return pn})),n.d(e,"A",(function(){return yn})),n.d(e,"d",(function(){return bn})),n.d(e,"a",(function(){return _n})),n.d(e,"b",(function(){return wn})),n.d(e,"y",(function(){return yn})),n.d(e,"z",(function(){return ie})),n.d(e,"k",(function(){return kt})),n.d(e,"p",(function(){return tt})),n.d(e,"q",(function(){return et})),n.d(e,"m",(function(){return V})),n.d(e,"n",(function(){return X})),n.d(e,"t",(function(){return cn})),n.d(e,"s",(function(){return it})),n.d(e,"i",(function(){return Ot})),n.d(e,"w",(function(){return fn})),n.d(e,"g",(function(){return Me})),n.d(e,"u",(function(){return pe})),n.d(e,"f",(function(){return Ye})),n.d(e,"r",(function(){return mt})),n.d(e,"x",(function(){return Te})),n.d(e,"h",(function(){return j})),n.d(e,"v",(function(){return St})),n.d(e,"o",(function(){return ut})),n.d(e,"l",(function(){return an})),n.d(e,"j",(function(){return xt}));var a,o,s,c,u,l,h,d,f,p,v,m,g,y,b,_,w,x,k,O,S,C,A,M,T,E,P,D,j={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},R={duration:.5,overwrite:!1,delay:0},I=1e8,L=1e-8,N=2*Math.PI,F=N/4,B=0,z=Math.sqrt,U=Math.cos,H=Math.sin,V=function(t){return"string"==typeof t},G=function(t){return"function"==typeof t},W=function(t){return"number"==typeof t},X=function(t){return void 0===t},q=function(t){return"object"==typeof t},Y=function(t){return!1!==t},Q=function(){return"undefined"!=typeof window},K=function(t){return G(t)||V(t)},Z="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},J=Array.isArray,$=/(?:-?\.?\d|\.)+/gi,tt=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,et=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,nt=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,it=/[+-]=-?[.\d]+/,rt=/[#\-+.]*\b[a-z\d-=+%.]+/gi,at=/[\d.+\-=]+(?:e[-+]\d*)*/i,ot={},st={},ct=function(t){return(st=Rt(t,ot))&&yn},ut=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},lt=function(t,e){return!e&&console.warn(t)},ht=function(t,e){return t&&(ot[t]=e)&&st&&(st[t]=e)||ot},dt=function(){return 0},ft={},pt=[],vt={},mt={},gt={},yt=30,bt=[],_t="",wt=function(t){var e,n,i=t[0];if(q(i)||G(i)||(t=[t]),!(e=(i._gsap||{}).harness)){for(n=bt.length;n--&&!bt[n].targetTest(i););e=bt[n]}for(n=t.length;n--;)t[n]&&(t[n]._gsap||(t[n]._gsap=new He(t[n],e)))||t.splice(n,1);return t},xt=function(t){return t._gsap||wt(se(t))[0]._gsap},kt=function(t,e,n){return(n=t[e])&&G(n)?t[e]():X(n)&&t.getAttribute&&t.getAttribute(e)||n},Ot=function(t,e){return(t=t.split(",")).forEach(e)||t},St=function(t){return Math.round(1e5*t)/1e5||0},Ct=function(t,e){for(var n=e.length,i=0;t.indexOf(e[i])<0&&++i<n;);return i<n},At=function(t,e,n){var i,r=W(t[1]),a=(r?2:1)+(e<2?0:1),o=t[a];if(r&&(o.duration=t[1]),o.parent=n,e){for(i=o;n&&!("immediateRender"in i);)i=n.vars.defaults||{},n=Y(n.vars.inherit)&&n.parent;o.immediateRender=Y(i.immediateRender),e<2?o.runBackwards=1:o.startAt=t[a-1]}return o},Mt=function(){var t,e,n=pt.length,i=pt.slice(0);for(vt={},pt.length=0,t=0;t<n;t++)(e=i[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)},Tt=function(t,e,n,i){pt.length&&Mt(),t.render(e,n,i),pt.length&&Mt()},Et=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(rt).length<2?e:V(t)?t.trim():t},Pt=function(t){return t},Dt=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},jt=function(t,e){for(var n in e)n in t||"duration"===n||"ease"===n||(t[n]=e[n])},Rt=function(t,e){for(var n in e)t[n]=e[n];return t},It=function t(e,n){for(var i in n)"__proto__"!==i&&"constructor"!==i&&"prototype"!==i&&(e[i]=q(n[i])?t(e[i]||(e[i]={}),n[i]):n[i]);return e},Lt=function(t,e){var n,i={};for(n in t)n in e||(i[n]=t[n]);return i},Nt=function(t){var e=t.parent||o,n=t.keyframes?jt:Dt;if(Y(t.inherit))for(;e;)n(t,e.vars.defaults),e=e.parent||e._dp;return t},Ft=function(t,e,n,i){void 0===n&&(n="_first"),void 0===i&&(i="_last");var r=e._prev,a=e._next;r?r._next=a:t[n]===e&&(t[n]=a),a?a._prev=r:t[i]===e&&(t[i]=r),e._next=e._prev=e.parent=null},Bt=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove(t),t._act=0},zt=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var n=t;n;)n._dirty=1,n=n.parent;return t},Ut=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},Ht=function(t){return t._repeat?Vt(t._tTime,t=t.duration()+t._rDelay)*t:0},Vt=function(t,e){var n=Math.floor(t/=e);return t&&n===t?n-1:n},Gt=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},Wt=function(t){return t._end=St(t._start+(t._tDur/Math.abs(t._ts||t._rts||L)||0))},Xt=function(t,e){var n=t._dp;return n&&n.smoothChildTiming&&t._ts&&(t._start=St(n._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),Wt(t),n._dirty||zt(n,t)),t},qt=function(t,e){var n;if((e._time||e._initted&&!e._dur)&&(n=Gt(t.rawTime(),e),(!e._dur||ne(0,e.totalDuration(),n)-e._tTime>L)&&e.render(n,!0)),zt(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(n=t;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;t._zTime=-1e-8}},Yt=function(t,e,n,i){return e.parent&&Bt(e),e._start=St(n+e._delay),e._end=St(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),function(t,e,n,i,r){void 0===n&&(n="_first"),void 0===i&&(i="_last");var a,o=t[i];if(r)for(a=e[r];o&&o[r]>a;)o=o._prev;o?(e._next=o._next,o._next=e):(e._next=t[n],t[n]=e),e._next?e._next._prev=e:t[i]=e,e._prev=o,e.parent=e._dp=t}(t,e,"_first","_last",t._sort?"_start":0),t._recent=e,i||qt(t,e),t},Qt=function(t,e){return(ot.ScrollTrigger||ut("scrollTrigger",e))&&ot.ScrollTrigger.create(e,t)},Kt=function(t,e,n,i){return Qe(t,e),t._initted?!n&&t._pt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&h!==Te.frame?(pt.push(t),t._lazy=[e,i],1):void 0:1},Zt=function(t,e,n,i){var r=t._repeat,a=St(e)||0,o=t._tTime/t._tDur;return o&&!i&&(t._time*=a/t._dur),t._dur=a,t._tDur=r?r<0?1e10:St(a*(r+1)+t._rDelay*r):a,o&&!i?Xt(t,t._tTime=t._tDur*o):t.parent&&Wt(t),n||zt(t.parent,t),t},Jt=function(t){return t instanceof Ge?zt(t):Zt(t,t._dur)},$t={_start:0,endTime:dt},te=function t(e,n){var i,r,a=e.labels,o=e._recent||$t,s=e.duration()>=I?o.endTime(!1):e._dur;return V(n)&&(isNaN(n)||n in a)?"<"===(i=n.charAt(0))||">"===i?("<"===i?o._start:o.endTime(o._repeat>=0))+(parseFloat(n.substr(1))||0):(i=n.indexOf("="))<0?(n in a||(a[n]=s),a[n]):(r=+(n.charAt(i-1)+n.substr(i+1)),i>1?t(e,n.substr(0,i-1))+r:s+r):null==n?s:+n},ee=function(t,e){return t||0===t?e(t):e},ne=function(t,e,n){return n<t?t:n>e?e:n},ie=function(t){if("string"!=typeof t)return"";var e=at.exec(t);return e?t.substr(e.index+e[0].length):""},re=[].slice,ae=function(t,e){return t&&q(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&q(t[0]))&&!t.nodeType&&t!==s},oe=function(t,e,n){return void 0===n&&(n=[]),t.forEach((function(t){var i;return V(t)&&!e||ae(t,1)?(i=n).push.apply(i,se(t)):n.push(t)}))||n},se=function(t,e){return!V(t)||e||!c&&Ee()?J(t)?oe(t,e):ae(t)?re.call(t,0):t?[t]:[]:re.call(u.querySelectorAll(t),0)},ce=function(t){return t.sort((function(){return.5-Math.random()}))},ue=function(t){if(G(t))return t;var e=q(t)?t:{each:t},n=Ne(e.ease),i=e.from||0,r=parseFloat(e.base)||0,a={},o=i>0&&i<1,s=isNaN(i)||o,c=e.axis,u=i,l=i;return V(i)?u=l={center:.5,edges:.5,end:1}[i]||0:!o&&s&&(u=i[0],l=i[1]),function(t,o,h){var d,f,p,v,m,g,y,b,_,w=(h||e).length,x=a[w];if(!x){if(!(_="auto"===e.grid?0:(e.grid||[1,I])[1])){for(y=-I;y<(y=h[_++].getBoundingClientRect().left)&&_<w;);_--}for(x=a[w]=[],d=s?Math.min(_,w)*u-.5:i%_,f=s?w*l/_-.5:i/_|0,y=0,b=I,g=0;g<w;g++)p=g%_-d,v=f-(g/_|0),x[g]=m=c?Math.abs("y"===c?v:p):z(p*p+v*v),m>y&&(y=m),m<b&&(b=m);"random"===i&&ce(x),x.max=y-b,x.min=b,x.v=w=(parseFloat(e.amount)||parseFloat(e.each)*(_>w?w-1:c?"y"===c?w/_:_:Math.max(_,w/_))||0)*("edges"===i?-1:1),x.b=w<0?r-w:r,x.u=ie(e.amount||e.each)||0,n=n&&w<0?Ie(n):n}return w=(x[t]-x.min)/x.max||0,St(x.b+(n?n(w):w)*x.v)+x.u}},le=function(t){var e=t<1?Math.pow(10,(t+"").length-2):1;return function(n){var i=Math.round(parseFloat(n)/t)*t*e;return(i-i%1)/e+(W(n)?0:ie(n))}},he=function(t,e){var n,i,r=J(t);return!r&&q(t)&&(n=r=t.radius||I,t.values?(t=se(t.values),(i=!W(t[0]))&&(n*=n)):t=le(t.increment)),ee(e,r?G(t)?function(e){return i=t(e),Math.abs(i-e)<=n?i:e}:function(e){for(var r,a,o=parseFloat(i?e.x:e),s=parseFloat(i?e.y:0),c=I,u=0,l=t.length;l--;)(r=i?(r=t[l].x-o)*r+(a=t[l].y-s)*a:Math.abs(t[l]-o))<c&&(c=r,u=l);return u=!n||c<=n?t[u]:e,i||u===e||W(e)?u:u+ie(e)}:le(t))},de=function(t,e,n,i){return ee(J(t)?!e:!0===n?!!(n=0):!i,(function(){return J(t)?t[~~(Math.random()*t.length)]:(n=n||1e-5)&&(i=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((t-n/2+Math.random()*(e-t+.99*n))/n)*n*i)/i}))},fe=function(t,e,n){return ee(n,(function(n){return t[~~e(n)]}))},pe=function(t){for(var e,n,i,r,a=0,o="";~(e=t.indexOf("random(",a));)i=t.indexOf(")",e),r="["===t.charAt(e+7),n=t.substr(e+7,i-e-7).match(r?rt:$),o+=t.substr(a,e-a)+de(r?n:+n[0],r?0:+n[1],+n[2]||1e-5),a=i+1;return o+t.substr(a,t.length-a)},ve=function(t,e,n,i,r){var a=e-t,o=i-n;return ee(r,(function(e){return n+((e-t)/a*o||0)}))},me=function(t,e,n){var i,r,a,o=t.labels,s=I;for(i in o)(r=o[i]-e)<0==!!n&&r&&s>(r=Math.abs(r))&&(a=i,s=r);return a},ge=function(t,e,n){var i,r,a=t.vars,o=a[e];if(o)return i=a[e+"Params"],r=a.callbackScope||t,n&&pt.length&&Mt(),i?o.apply(r,i):o.call(r)},ye=function(t){return Bt(t),t.progress()<1&&ge(t,"onInterrupt"),t},be=function(t){var e=(t=!t.name&&t.default||t).name,n=G(t),i=e&&!n&&t.init?function(){this._props=[]}:t,r={init:dt,render:un,add:qe,kill:hn,modifier:ln,rawVars:0},a={targetTest:0,get:0,getSetter:an,aliases:{},register:0};if(Ee(),t!==i){if(mt[e])return;Dt(i,Dt(Lt(t,r),a)),Rt(i.prototype,Rt(r,Lt(t,a))),mt[i.prop=e]=i,t.targetTest&&(bt.push(i),ft[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}ht(e,i),t.register&&t.register(yn,i,pn)},_e=255,we={aqua:[0,_e,_e],lime:[0,_e,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,_e],navy:[0,0,128],white:[_e,_e,_e],olive:[128,128,0],yellow:[_e,_e,0],orange:[_e,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[_e,0,0],pink:[_e,192,203],cyan:[0,_e,_e],transparent:[_e,_e,_e,0]},xe=function(t,e,n){return(6*(t=t<0?t+1:t>1?t-1:t)<1?e+(n-e)*t*6:t<.5?n:3*t<2?e+(n-e)*(2/3-t)*6:e)*_e+.5|0},ke=function(t,e,n){var i,r,a,o,s,c,u,l,h,d,f=t?W(t)?[t>>16,t>>8&_e,t&_e]:0:we.black;if(!f){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),we[t])f=we[t];else if("#"===t.charAt(0)){if(t.length<6&&(i=t.charAt(1),r=t.charAt(2),a=t.charAt(3),t="#"+i+i+r+r+a+a+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(f=parseInt(t.substr(1,6),16))>>16,f>>8&_e,f&_e,parseInt(t.substr(7),16)/255];f=[(t=parseInt(t.substr(1),16))>>16,t>>8&_e,t&_e]}else if("hsl"===t.substr(0,3))if(f=d=t.match($),e){if(~t.indexOf("="))return f=t.match(tt),n&&f.length<4&&(f[3]=1),f}else o=+f[0]%360/360,s=+f[1]/100,i=2*(c=+f[2]/100)-(r=c<=.5?c*(s+1):c+s-c*s),f.length>3&&(f[3]*=1),f[0]=xe(o+1/3,i,r),f[1]=xe(o,i,r),f[2]=xe(o-1/3,i,r);else f=t.match($)||we.transparent;f=f.map(Number)}return e&&!d&&(i=f[0]/_e,r=f[1]/_e,a=f[2]/_e,c=((u=Math.max(i,r,a))+(l=Math.min(i,r,a)))/2,u===l?o=s=0:(h=u-l,s=c>.5?h/(2-u-l):h/(u+l),o=u===i?(r-a)/h+(r<a?6:0):u===r?(a-i)/h+2:(i-r)/h+4,o*=60),f[0]=~~(o+.5),f[1]=~~(100*s+.5),f[2]=~~(100*c+.5)),n&&f.length<4&&(f[3]=1),f},Oe=function(t){var e=[],n=[],i=-1;return t.split(Ce).forEach((function(t){var r=t.match(et)||[];e.push.apply(e,r),n.push(i+=r.length+1)})),e.c=n,e},Se=function(t,e,n){var i,r,a,o,s="",c=(t+s).match(Ce),u=e?"hsla(":"rgba(",l=0;if(!c)return t;if(c=c.map((function(t){return(t=ke(t,e,1))&&u+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"})),n&&(a=Oe(t),(i=n.c).join(s)!==a.c.join(s)))for(o=(r=t.replace(Ce,"1").split(et)).length-1;l<o;l++)s+=r[l]+(~i.indexOf(l)?c.shift()||u+"0,0,0,0)":(a.length?a:c.length?c:n).shift());if(!r)for(o=(r=t.split(Ce)).length-1;l<o;l++)s+=r[l]+c[l];return s+r[o]},Ce=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in we)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),Ae=/hsl[a]?\(/,Me=function(t){var e,n=t.join(" ");if(Ce.lastIndex=0,Ce.test(n))return e=Ae.test(n),t[1]=Se(t[1],e),t[0]=Se(t[0],e,Oe(t[1])),!0},Te=(_=Date.now,w=500,x=33,k=_(),O=k,C=S=1e3/240,M=function t(e){var n,i,r,a,o=_()-O,s=!0===e;if(o>w&&(k+=o-x),((n=(r=(O+=o)-k)-C)>0||s)&&(a=++g.frame,y=r-1e3*g.time,g.time=r/=1e3,C+=n+(n>=S?4:S-n),i=1),s||(p=v(t)),i)for(b=0;b<A.length;b++)A[b](r,y,a,e)},g={time:0,frame:0,tick:function(){M(!0)},deltaRatio:function(t){return y/(1e3/(t||60))},wake:function(){l&&(!c&&Q()&&(s=c=window,u=s.document||{},ot.gsap=yn,(s.gsapVersions||(s.gsapVersions=[])).push(yn.version),ct(st||s.GreenSockGlobals||!s.gsap&&s||{}),m=s.requestAnimationFrame),p&&g.sleep(),v=m||function(t){return setTimeout(t,C-1e3*g.time+1|0)},f=1,M(2))},sleep:function(){(m?s.cancelAnimationFrame:clearTimeout)(p),f=0,v=dt},lagSmoothing:function(t,e){w=t||1e8,x=Math.min(e,w,0)},fps:function(t){S=1e3/(t||240),C=1e3*g.time+S},add:function(t){A.indexOf(t)<0&&A.push(t),Ee()},remove:function(t){var e;~(e=A.indexOf(t))&&A.splice(e,1)&&b>=e&&b--},_listeners:A=[]}),Ee=function(){return!f&&Te.wake()},Pe={},De=/^[\d.\-M][\d.\-,\s]/,je=/["']/g,Re=function(t){for(var e,n,i,r={},a=t.substr(1,t.length-3).split(":"),o=a[0],s=1,c=a.length;s<c;s++)n=a[s],e=s!==c-1?n.lastIndexOf(","):n.length,i=n.substr(0,e),r[o]=isNaN(i)?i.replace(je,"").trim():+i,o=n.substr(e+1).trim();return r},Ie=function(t){return function(e){return 1-t(1-e)}},Le=function t(e,n){for(var i,r=e._first;r;)r instanceof Ge?t(r,n):!r.vars.yoyoEase||r._yoyo&&r._repeat||r._yoyo===n||(r.timeline?t(r.timeline,n):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=n)),r=r._next},Ne=function(t,e){return t&&(G(t)?t:Pe[t]||function(t){var e,n,i,r,a=(t+"").split("("),o=Pe[a[0]];return o&&a.length>1&&o.config?o.config.apply(null,~t.indexOf("{")?[Re(a[1])]:(e=t,n=e.indexOf("(")+1,i=e.indexOf(")"),r=e.indexOf("(",n),e.substring(n,~r&&r<i?e.indexOf(")",i+1):i)).split(",").map(Et)):Pe._CE&&De.test(t)?Pe._CE("",t):o}(t))||e},Fe=function(t,e,n,i){void 0===n&&(n=function(t){return 1-e(1-t)}),void 0===i&&(i=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var r,a={easeIn:e,easeOut:n,easeInOut:i};return Ot(t,(function(t){for(var e in Pe[t]=ot[t]=a,Pe[r=t.toLowerCase()]=n,a)Pe[r+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=Pe[t+"."+e]=a[e]})),a},Be=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},ze=function t(e,n,i){var r=n>=1?n:1,a=(i||(e?.3:.45))/(n<1?n:1),o=a/N*(Math.asin(1/r)||0),s=function(t){return 1===t?1:r*Math.pow(2,-10*t)*H((t-o)*a)+1},c="out"===e?s:"in"===e?function(t){return 1-s(1-t)}:Be(s);return a=N/a,c.config=function(n,i){return t(e,n,i)},c},Ue=function t(e,n){void 0===n&&(n=1.70158);var i=function(t){return t?--t*t*((n+1)*t+n)+1:0},r="out"===e?i:"in"===e?function(t){return 1-i(1-t)}:Be(i);return r.config=function(n){return t(e,n)},r};Ot("Linear,Quad,Cubic,Quart,Quint,Strong",(function(t,e){var n=e<5?e+1:e;Fe(t+",Power"+(n-1),e?function(t){return Math.pow(t,n)}:function(t){return t},(function(t){return 1-Math.pow(1-t,n)}),(function(t){return t<.5?Math.pow(2*t,n)/2:1-Math.pow(2*(1-t),n)/2}))})),Pe.Linear.easeNone=Pe.none=Pe.Linear.easeIn,Fe("Elastic",ze("in"),ze("out"),ze()),T=7.5625,P=1/(E=2.75),Fe("Bounce",(function(t){return 1-D(1-t)}),D=function(t){return t<P?T*t*t:t<.7272727272727273?T*Math.pow(t-1.5/E,2)+.75:t<.9090909090909092?T*(t-=2.25/E)*t+.9375:T*Math.pow(t-2.625/E,2)+.984375}),Fe("Expo",(function(t){return t?Math.pow(2,10*(t-1)):0})),Fe("Circ",(function(t){return-(z(1-t*t)-1)})),Fe("Sine",(function(t){return 1===t?1:1-U(t*F)})),Fe("Back",Ue("in"),Ue("out"),Ue()),Pe.SteppedEase=Pe.steps=ot.SteppedEase={config:function(t,e){void 0===t&&(t=1);var n=1/t,i=t+(e?0:1),r=e?1:0;return function(t){return((i*ne(0,.99999999,t)|0)+r)*n}}},R.ease=Pe["quad.out"],Ot("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(t){return _t+=t+","+t+"Params,"}));var He=function(t,e){this.id=B++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:kt,this.set=e?e.getSetter:an},Ve=function(){function t(t,e){var n=t.parent||o;this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Zt(this,+t.duration,1,1),this.data=t.data,f||Te.wake(),n&&Yt(n,this,e||0===e?e:n._time,1),t.reversed&&this.reverse(),t.paused&&this.paused(!0)}var e=t.prototype;return e.delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,Zt(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,e){if(Ee(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(Xt(this,t),!n._dp||n.parent||qt(n,this);n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&Yt(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&Math.abs(this._zTime)===L||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),Tt(this,t,e)),this},e.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+Ht(this))%this._dur||(t?this._dur:0),e):this._time},e.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+Ht(this),e):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(t,e){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*n,e):this._repeat?Vt(this._tTime,n)+1:1},e.timeScale=function(t){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===t)return this;var e=this.parent&&this._ts?Gt(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||-1e-8===t?0:this._rts,Ut(this.totalTime(ne(-this._delay,this._tDur,e),!0))},e.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Ee(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&(this._tTime-=L)&&Math.abs(this._zTime)!==L))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return e&&(e._sort||!this.parent)&&Yt(e,this,t-this._delay),this}return this._start},e.endTime=function(t){return this._start+(Y(t)?this.totalDuration():this.duration())/Math.abs(this._ts)},e.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Gt(e.rawTime(t),this):this._tTime:this._tTime},e.globalTime=function(t){for(var e=this,n=arguments.length?t:e.rawTime();e;)n=e._start+n/(e._ts||1),e=e._dp;return n},e.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,Jt(this)):-2===this._repeat?1/0:this._repeat},e.repeatDelay=function(t){return arguments.length?(this._rDelay=t,Jt(this)):this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,e){return this.totalTime(te(this,t),Y(e))},e.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,Y(e))},e.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},e.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},e.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var t,e=this.parent||this._dp,n=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=n&&t<this.endTime(!0)-L))},e.eventCallback=function(t,e,n){var i=this.vars;return arguments.length>1?(e?(i[t]=e,n&&(i[t+"Params"]=n),"onUpdate"===t&&(this._onUpdate=e)):delete i[t],this):i[t]},e.then=function(t){var e=this;return new Promise((function(n){var i=G(t)?t:Pt,r=function(){var t=e.then;e.then=null,G(i)&&(i=i(e))&&(i.then||i===e)&&(e.then=t),n(i),e.then=t};e._initted&&1===e.totalProgress()&&e._ts>=0||!e._tTime&&e._ts<0?r():e._prom=r}))},e.kill=function(){ye(this)},t}();Dt(Ve.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Ge=function(t){function e(e,n){var r;return void 0===e&&(e={}),(r=t.call(this,e,n)||this).labels={},r.smoothChildTiming=!!e.smoothChildTiming,r.autoRemoveChildren=!!e.autoRemoveChildren,r._sort=Y(e.sortChildren),r.parent&&qt(r.parent,i(r)),e.scrollTrigger&&Qt(i(r),e.scrollTrigger),r}r(e,t);var n=e.prototype;return n.to=function(t,e,n){return new $e(t,At(arguments,0,this),te(this,W(e)?arguments[3]:n)),this},n.from=function(t,e,n){return new $e(t,At(arguments,1,this),te(this,W(e)?arguments[3]:n)),this},n.fromTo=function(t,e,n,i){return new $e(t,At(arguments,2,this),te(this,W(e)?arguments[4]:i)),this},n.set=function(t,e,n){return e.duration=0,e.parent=this,Nt(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new $e(t,e,te(this,n),1),this},n.call=function(t,e,n){return Yt(this,$e.delayedCall(0,t,e),te(this,n))},n.staggerTo=function(t,e,n,i,r,a,o){return n.duration=e,n.stagger=n.stagger||i,n.onComplete=a,n.onCompleteParams=o,n.parent=this,new $e(t,n,te(this,r)),this},n.staggerFrom=function(t,e,n,i,r,a,o){return n.runBackwards=1,Nt(n).immediateRender=Y(n.immediateRender),this.staggerTo(t,e,n,i,r,a,o)},n.staggerFromTo=function(t,e,n,i,r,a,o,s){return i.startAt=n,Nt(i).immediateRender=Y(i.immediateRender),this.staggerTo(t,e,i,r,a,o,s)},n.render=function(t,e,n){var i,r,a,s,c,u,l,h,d,f,p,v,m=this._time,g=this._dirty?this.totalDuration():this._tDur,y=this._dur,b=this!==o&&t>g-L&&t>=0?g:t<L?0:t,_=this._zTime<0!=t<0&&(this._initted||!y);if(b!==this._tTime||n||_){if(m!==this._time&&y&&(b+=this._time-m,t+=this._time-m),i=b,d=this._start,u=!(h=this._ts),_&&(y||(m=this._zTime),(t||!e)&&(this._zTime=t)),this._repeat){if(p=this._yoyo,c=y+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*c+t,e,n);if(i=St(b%c),b===g?(s=this._repeat,i=y):((s=~~(b/c))&&s===b/c&&(i=y,s--),i>y&&(i=y)),f=Vt(this._tTime,c),!m&&this._tTime&&f!==s&&(f=s),p&&1&s&&(i=y-i,v=1),s!==f&&!this._lock){var w=p&&1&f,x=w===(p&&1&s);if(s<f&&(w=!w),m=w?0:y,this._lock=1,this.render(m||(v?0:St(s*c)),e,!y)._lock=0,!e&&this.parent&&ge(this,"onRepeat"),this.vars.repeatRefresh&&!v&&(this.invalidate()._lock=1),m!==this._time||u!==!this._ts)return this;if(y=this._dur,g=this._tDur,x&&(this._lock=2,m=w?y:-1e-4,this.render(m,!0),this.vars.repeatRefresh&&!v&&this.invalidate()),this._lock=0,!this._ts&&!u)return this;Le(this,v)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(l=function(t,e,n){var i;if(n>e)for(i=t._first;i&&i._start<=n;){if(!i._dur&&"isPause"===i.data&&i._start>e)return i;i=i._next}else for(i=t._last;i&&i._start>=n;){if(!i._dur&&"isPause"===i.data&&i._start<e)return i;i=i._prev}}(this,St(m),St(i)))&&(b-=i-(i=l._start)),this._tTime=b,this._time=i,this._act=!h,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,m=0),!m&&(i||!y&&t>=0)&&!e&&ge(this,"onStart"),i>=m&&t>=0)for(r=this._first;r;){if(a=r._next,(r._act||i>=r._start)&&r._ts&&l!==r){if(r.parent!==this)return this.render(t,e,n);if(r.render(r._ts>0?(i-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(i-r._start)*r._ts,e,n),i!==this._time||!this._ts&&!u){l=0,a&&(b+=this._zTime=-1e-8);break}}r=a}else{r=this._last;for(var k=t<0?t:i;r;){if(a=r._prev,(r._act||k<=r._end)&&r._ts&&l!==r){if(r.parent!==this)return this.render(t,e,n);if(r.render(r._ts>0?(k-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(k-r._start)*r._ts,e,n),i!==this._time||!this._ts&&!u){l=0,a&&(b+=this._zTime=k?-1e-8:L);break}}r=a}}if(l&&!e&&(this.pause(),l.render(i>=m?0:-1e-8)._zTime=i>=m?1:-1,this._ts))return this._start=d,Wt(this),this.render(t,e,n);this._onUpdate&&!e&&ge(this,"onUpdate",!0),(b===g&&g>=this.totalDuration()||!b&&m)&&(d!==this._start&&Math.abs(h)===Math.abs(this._ts)||this._lock||((t||!y)&&(b===g&&this._ts>0||!b&&this._ts<0)&&Bt(this,1),e||t<0&&!m||!b&&!m||(ge(this,b===g?"onComplete":"onReverseComplete",!0),this._prom&&!(b<g&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(t,e){var n=this;if(W(e)||(e=te(this,e)),!(t instanceof Ve)){if(J(t))return t.forEach((function(t){return n.add(t,e)})),this;if(V(t))return this.addLabel(t,e);if(!G(t))return this;t=$e.delayedCall(0,t)}return this!==t?Yt(this,t,e):this},n.getChildren=function(t,e,n,i){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===n&&(n=!0),void 0===i&&(i=-I);for(var r=[],a=this._first;a;)a._start>=i&&(a instanceof $e?e&&r.push(a):(n&&r.push(a),t&&r.push.apply(r,a.getChildren(!0,e,n)))),a=a._next;return r},n.getById=function(t){for(var e=this.getChildren(1,1,1),n=e.length;n--;)if(e[n].vars.id===t)return e[n]},n.remove=function(t){return V(t)?this.removeLabel(t):G(t)?this.killTweensOf(t):(Ft(this,t),t===this._recent&&(this._recent=this._last),zt(this))},n.totalTime=function(e,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=St(Te.time-(this._ts>0?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,n),this._forcing=0,this):this._tTime},n.addLabel=function(t,e){return this.labels[t]=te(this,e),this},n.removeLabel=function(t){return delete this.labels[t],this},n.addPause=function(t,e,n){var i=$e.delayedCall(0,e||dt,n);return i.data="isPause",this._hasPause=1,Yt(this,i,te(this,t))},n.removePause=function(t){var e=this._first;for(t=te(this,t);e;)e._start===t&&"isPause"===e.data&&Bt(e),e=e._next},n.killTweensOf=function(t,e,n){for(var i=this.getTweensOf(t,n),r=i.length;r--;)We!==i[r]&&i[r].kill(t,e);return this},n.getTweensOf=function(t,e){for(var n,i=[],r=se(t),a=this._first,o=W(e);a;)a instanceof $e?Ct(a._targets,r)&&(o?(!We||a._initted&&a._ts)&&a.globalTime(0)<=e&&a.globalTime(a.totalDuration())>e:!e||a.isActive())&&i.push(a):(n=a.getTweensOf(r,e)).length&&i.push.apply(i,n),a=a._next;return i},n.tweenTo=function(t,e){e=e||{};var n=this,i=te(n,t),r=e,a=r.startAt,o=r.onStart,s=r.onStartParams,c=r.immediateRender,u=$e.to(n,Dt({ease:"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:e.duration||Math.abs((i-(a&&"time"in a?a.time:n._time))/n.timeScale())||L,onStart:function(){n.pause();var t=e.duration||Math.abs((i-n._time)/n.timeScale());u._dur!==t&&Zt(u,t,0,1).render(u._time,!0,!0),o&&o.apply(u,s||[])}},e));return c?u.render(0):u},n.tweenFromTo=function(t,e,n){return this.tweenTo(e,Dt({startAt:{time:te(this,t)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(t){return void 0===t&&(t=this._time),me(this,te(this,t))},n.previousLabel=function(t){return void 0===t&&(t=this._time),me(this,te(this,t),1)},n.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+L)},n.shiftChildren=function(t,e,n){void 0===n&&(n=0);for(var i,r=this._first,a=this.labels;r;)r._start>=n&&(r._start+=t,r._end+=t),r=r._next;if(e)for(i in a)a[i]>=n&&(a[i]+=t);return zt(this)},n.invalidate=function(){var e=this._first;for(this._lock=0;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},n.clear=function(t){void 0===t&&(t=!0);for(var e,n=this._first;n;)e=n._next,this.remove(n),n=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),zt(this)},n.totalDuration=function(t){var e,n,i,r=0,a=this,s=a._last,c=I;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-t:t));if(a._dirty){for(i=a.parent;s;)e=s._prev,s._dirty&&s.totalDuration(),(n=s._start)>c&&a._sort&&s._ts&&!a._lock?(a._lock=1,Yt(a,s,n-s._delay,1)._lock=0):c=n,n<0&&s._ts&&(r-=n,(!i&&!a._dp||i&&i.smoothChildTiming)&&(a._start+=n/a._ts,a._time-=n,a._tTime-=n),a.shiftChildren(-n,!1,-Infinity),c=0),s._end>r&&s._ts&&(r=s._end),s=e;Zt(a,a===o&&a._time>r?a._time:r,1,1),a._dirty=0}return a._tDur},e.updateRoot=function(t){if(o._ts&&(Tt(o,Gt(t,o)),h=Te.frame),Te.frame>=yt){yt+=j.autoSleep||120;var e=o._first;if((!e||!e._ts)&&j.autoSleep&&Te._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||Te.sleep()}}},e}(Ve);Dt(Ge.prototype,{_lock:0,_hasPause:0,_forcing:0});var We,Xe=function(t,e,n,i,r,a,o){var s,c,u,l,h,d,f,p,v=new pn(this._pt,t,e,0,1,cn,null,r),m=0,g=0;for(v.b=n,v.e=i,n+="",(f=~(i+="").indexOf("random("))&&(i=pe(i)),a&&(a(p=[n,i],t,e),n=p[0],i=p[1]),c=n.match(nt)||[];s=nt.exec(i);)l=s[0],h=i.substring(m,s.index),u?u=(u+1)%5:"rgba("===h.substr(-5)&&(u=1),l!==c[g++]&&(d=parseFloat(c[g-1])||0,v._pt={_next:v._pt,p:h||1===g?h:",",s:d,c:"="===l.charAt(1)?parseFloat(l.substr(2))*("-"===l.charAt(0)?-1:1):parseFloat(l)-d,m:u&&u<4?Math.round:0},m=nt.lastIndex);return v.c=m<i.length?i.substring(m,i.length):"",v.fp=o,(it.test(i)||f)&&(v.e=0),this._pt=v,v},qe=function(t,e,n,i,r,a,o,s,c){G(i)&&(i=i(r||0,t,a));var u,l=t[e],h="get"!==n?n:G(l)?c?t[e.indexOf("set")||!G(t["get"+e.substr(3)])?e:"get"+e.substr(3)](c):t[e]():l,d=G(l)?c?nn:en:tn;if(V(i)&&(~i.indexOf("random(")&&(i=pe(i)),"="===i.charAt(1)&&(i=parseFloat(h)+parseFloat(i.substr(2))*("-"===i.charAt(0)?-1:1)+(ie(h)||0))),h!==i)return isNaN(h*i)?(!l&&!(e in t)&&ut(e,i),Xe.call(this,t,e,h,i,d,s||j.stringFilter,c)):(u=new pn(this._pt,t,e,+h||0,i-(h||0),"boolean"==typeof l?sn:on,0,d),c&&(u.fp=c),o&&u.modifier(o,this,t),this._pt=u)},Ye=function(t,e,n,i,r,a){var o,s,c,u;if(mt[t]&&!1!==(o=new mt[t]).init(r,o.rawVars?e[t]:function(t,e,n,i,r){if(G(t)&&(t=Ke(t,r,e,n,i)),!q(t)||t.style&&t.nodeType||J(t)||Z(t))return V(t)?Ke(t,r,e,n,i):t;var a,o={};for(a in t)o[a]=Ke(t[a],r,e,n,i);return o}(e[t],i,r,a,n),n,i,a)&&(n._pt=s=new pn(n._pt,r,t,0,1,o.render,o,0,o.priority),n!==d))for(c=n._ptLookup[n._targets.indexOf(r)],u=o._props.length;u--;)c[o._props[u]]=s;return o},Qe=function t(e,n){var i,r,s,c,u,l,h,d,f,p,v,m,g,y=e.vars,b=y.ease,_=y.startAt,w=y.immediateRender,x=y.lazy,k=y.onUpdate,O=y.onUpdateParams,S=y.callbackScope,C=y.runBackwards,A=y.yoyoEase,M=y.keyframes,T=y.autoRevert,E=e._dur,P=e._startAt,D=e._targets,j=e.parent,I=j&&"nested"===j.data?j.parent._targets:D,N="auto"===e._overwrite&&!a,F=e.timeline;if(F&&(!M||!b)&&(b="none"),e._ease=Ne(b,R.ease),e._yEase=A?Ie(Ne(!0===A?b:A,R.ease)):0,A&&e._yoyo&&!e._repeat&&(A=e._yEase,e._yEase=e._ease,e._ease=A),!F){if(m=(d=D[0]?xt(D[0]).harness:0)&&y[d.prop],i=Lt(y,ft),P&&P.render(-1,!0).kill(),_){if(Bt(e._startAt=$e.set(D,Dt({data:"isStart",overwrite:!1,parent:j,immediateRender:!0,lazy:Y(x),startAt:null,delay:0,onUpdate:k,onUpdateParams:O,callbackScope:S,stagger:0},_))),w)if(n>0)T||(e._startAt=0);else if(E&&!(n<0&&P))return void(n&&(e._zTime=n))}else if(C&&E)if(P)!T&&(e._startAt=0);else if(n&&(w=!1),s=Dt({overwrite:!1,data:"isFromStart",lazy:w&&Y(x),immediateRender:w,stagger:0,parent:j},i),m&&(s[d.prop]=m),Bt(e._startAt=$e.set(D,s)),w){if(!n)return}else t(e._startAt,L);for(e._pt=0,x=E&&Y(x)||x&&!E,r=0;r<D.length;r++){if(h=(u=D[r])._gsap||wt(D)[r]._gsap,e._ptLookup[r]=p={},vt[h.id]&&pt.length&&Mt(),v=I===D?r:I.indexOf(u),d&&!1!==(f=new d).init(u,m||i,e,v,I)&&(e._pt=c=new pn(e._pt,u,f.name,0,1,f.render,f,0,f.priority),f._props.forEach((function(t){p[t]=c})),f.priority&&(l=1)),!d||m)for(s in i)mt[s]&&(f=Ye(s,i,e,v,u,I))?f.priority&&(l=1):p[s]=c=qe.call(e,u,s,"get",i[s],v,I,0,y.stringFilter);e._op&&e._op[r]&&e.kill(u,e._op[r]),N&&e._pt&&(We=e,o.killTweensOf(u,p,e.globalTime(0)),g=!e.parent,We=0),e._pt&&x&&(vt[h.id]=1)}l&&fn(e),e._onInit&&e._onInit(e)}e._from=!F&&!!y.runBackwards,e._onUpdate=k,e._initted=(!e._op||e._pt)&&!g},Ke=function(t,e,n,i,r){return G(t)?t.call(e,n,i,r):V(t)&&~t.indexOf("random(")?pe(t):t},Ze=_t+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",Je=(Ze+",id,stagger,delay,duration,paused,scrollTrigger").split(","),$e=function(t){function e(e,n,r,s){var c;"number"==typeof n&&(r.duration=n,n=r,r=null);var u,l,h,d,f,p,v,m,g=(c=t.call(this,s?n:Nt(n),r)||this).vars,y=g.duration,b=g.delay,_=g.immediateRender,w=g.stagger,x=g.overwrite,k=g.keyframes,O=g.defaults,S=g.scrollTrigger,C=g.yoyoEase,A=c.parent,M=(J(e)||Z(e)?W(e[0]):"length"in n)?[e]:se(e);if(c._targets=M.length?wt(M):lt("GSAP target "+e+" not found. https://greensock.com",!j.nullTargetWarn)||[],c._ptLookup=[],c._overwrite=x,k||w||K(y)||K(b)){if(n=c.vars,(u=c.timeline=new Ge({data:"nested",defaults:O||{}})).kill(),u.parent=u._dp=i(c),u._start=0,k)Dt(u.vars.defaults,{ease:"none"}),k.forEach((function(t){return u.to(M,t,">")}));else{if(d=M.length,v=w?ue(w):dt,q(w))for(f in w)~Ze.indexOf(f)&&(m||(m={}),m[f]=w[f]);for(l=0;l<d;l++){for(f in h={},n)Je.indexOf(f)<0&&(h[f]=n[f]);h.stagger=0,C&&(h.yoyoEase=C),m&&Rt(h,m),p=M[l],h.duration=+Ke(y,i(c),l,p,M),h.delay=(+Ke(b,i(c),l,p,M)||0)-c._delay,!w&&1===d&&h.delay&&(c._delay=b=h.delay,c._start+=b,h.delay=0),u.to(p,h,v(l,p,M))}u.duration()?y=b=0:c.timeline=0}y||c.duration(y=u.duration())}else c.timeline=0;return!0!==x||a||(We=i(c),o.killTweensOf(M),We=0),A&&qt(A,i(c)),(_||!y&&!k&&c._start===St(A._time)&&Y(_)&&function t(e){return!e||e._ts&&t(e.parent)}(i(c))&&"nested"!==A.data)&&(c._tTime=-1e-8,c.render(Math.max(0,-b))),S&&Qt(i(c),S),c}r(e,t);var n=e.prototype;return n.render=function(t,e,n){var i,r,a,o,s,c,u,l,h,d=this._time,f=this._tDur,p=this._dur,v=t>f-L&&t>=0?f:t<L?0:t;if(p){if(v!==this._tTime||!t||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=t<0){if(i=v,l=this.timeline,this._repeat){if(o=p+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*o+t,e,n);if(i=St(v%o),v===f?(a=this._repeat,i=p):((a=~~(v/o))&&a===v/o&&(i=p,a--),i>p&&(i=p)),(c=this._yoyo&&1&a)&&(h=this._yEase,i=p-i),s=Vt(this._tTime,o),i===d&&!n&&this._initted)return this;a!==s&&(l&&this._yEase&&Le(l,c),!this.vars.repeatRefresh||c||this._lock||(this._lock=n=1,this.render(St(o*a),!0).invalidate()._lock=0))}if(!this._initted){if(Kt(this,t<0?t:i,n,e))return this._tTime=0,this;if(p!==this._dur)return this.render(t,e,n)}for(this._tTime=v,this._time=i,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=u=(h||this._ease)(i/p),this._from&&(this.ratio=u=1-u),i&&!d&&!e&&ge(this,"onStart"),r=this._pt;r;)r.r(u,r.d),r=r._next;l&&l.render(t<0?t:!i&&c?-1e-8:l._dur*u,e,n)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(t<0&&this._startAt&&this._startAt.render(t,!0,n),ge(this,"onUpdate")),this._repeat&&a!==s&&this.vars.onRepeat&&!e&&this.parent&&ge(this,"onRepeat"),v!==this._tDur&&v||this._tTime!==v||(t<0&&this._startAt&&!this._onUpdate&&this._startAt.render(t,!0,!0),(t||!p)&&(v===this._tDur&&this._ts>0||!v&&this._ts<0)&&Bt(this,1),e||t<0&&!d||!v&&!d||(ge(this,v===f?"onComplete":"onReverseComplete",!0),this._prom&&!(v<f&&this.timeScale()>0)&&this._prom()))}}else!function(t,e,n,i){var r,a,o,s=t.ratio,c=e<0||!e&&(!t._start&&function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))}(t)||(t._ts<0||t._dp._ts<0)&&"isFromStart"!==t.data&&"isStart"!==t.data)?0:1,u=t._rDelay,l=0;if(u&&t._repeat&&(l=ne(0,t._tDur,e),a=Vt(l,u),o=Vt(t._tTime,u),t._yoyo&&1&a&&(c=1-c),a!==o&&(s=1-c,t.vars.repeatRefresh&&t._initted&&t.invalidate())),c!==s||i||t._zTime===L||!e&&t._zTime){if(!t._initted&&Kt(t,e,i,n))return;for(o=t._zTime,t._zTime=e||(n?L:0),n||(n=e&&!o),t.ratio=c,t._from&&(c=1-c),t._time=0,t._tTime=l,n||ge(t,"onStart"),r=t._pt;r;)r.r(c,r.d),r=r._next;t._startAt&&e<0&&t._startAt.render(e,!0,!0),t._onUpdate&&!n&&ge(t,"onUpdate"),l&&t._repeat&&!n&&t.parent&&ge(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===c&&(c&&Bt(t,1),n||(ge(t,c?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,t,e,n);return this},n.targets=function(){return this._targets},n.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),t.prototype.invalidate.call(this)},n.kill=function(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e))return this._lazy=this._pt=0,this.parent?ye(this):this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,We&&!0!==We.vars.overwrite)._first||ye(this),this.parent&&n!==this.timeline.totalDuration()&&Zt(this,this._dur*this.timeline._tDur/n,0,1),this}var i,r,a,o,s,c,u,l=this._targets,h=t?se(t):l,d=this._ptLookup,f=this._pt;if((!e||"all"===e)&&function(t,e){for(var n=t.length,i=n===e.length;i&&n--&&t[n]===e[n];);return n<0}(l,h))return"all"===e&&(this._pt=0),ye(this);for(i=this._op=this._op||[],"all"!==e&&(V(e)&&(s={},Ot(e,(function(t){return s[t]=1})),e=s),e=function(t,e){var n,i,r,a,o=t[0]?xt(t[0]).harness:0,s=o&&o.aliases;if(!s)return e;for(i in n=Rt({},e),s)if(i in n)for(r=(a=s[i].split(",")).length;r--;)n[a[r]]=n[i];return n}(l,e)),u=l.length;u--;)if(~h.indexOf(l[u]))for(s in r=d[u],"all"===e?(i[u]=e,o=r,a={}):(a=i[u]=i[u]||{},o=e),o)(c=r&&r[s])&&("kill"in c.d&&!0!==c.d.kill(s)||Ft(this,c,"_pt"),delete r[s]),"all"!==a&&(a[s]=1);return this._initted&&!this._pt&&f&&ye(this),this},e.to=function(t,n){return new e(t,n,arguments[2])},e.from=function(t,n){return new e(t,At(arguments,1))},e.delayedCall=function(t,n,i,r){return new e(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:n,onReverseComplete:n,onCompleteParams:i,onReverseCompleteParams:i,callbackScope:r})},e.fromTo=function(t,n,i){return new e(t,At(arguments,2))},e.set=function(t,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new e(t,n)},e.killTweensOf=function(t,e,n){return o.killTweensOf(t,e,n)},e}(Ve);Dt($e.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),Ot("staggerTo,staggerFrom,staggerFromTo",(function(t){$e[t]=function(){var e=new Ge,n=re.call(arguments,0);return n.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,n)}}));var tn=function(t,e,n){return t[e]=n},en=function(t,e,n){return t[e](n)},nn=function(t,e,n,i){return t[e](i.fp,n)},rn=function(t,e,n){return t.setAttribute(e,n)},an=function(t,e){return G(t[e])?en:X(t[e])&&t.setAttribute?rn:tn},on=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4,e)},sn=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},cn=function(t,e){var n=e._pt,i="";if(!t&&e.b)i=e.b;else if(1===t&&e.e)i=e.e;else{for(;n;)i=n.p+(n.m?n.m(n.s+n.c*t):Math.round(1e4*(n.s+n.c*t))/1e4)+i,n=n._next;i+=e.c}e.set(e.t,e.p,i,e)},un=function(t,e){for(var n=e._pt;n;)n.r(t,n.d),n=n._next},ln=function(t,e,n,i){for(var r,a=this._pt;a;)r=a._next,a.p===i&&a.modifier(t,e,n),a=r},hn=function(t){for(var e,n,i=this._pt;i;)n=i._next,i.p===t&&!i.op||i.op===t?Ft(this,i,"_pt"):i.dep||(e=1),i=n;return!e},dn=function(t,e,n,i){i.mSet(t,e,i.m.call(i.tween,n,i.mt),i)},fn=function(t){for(var e,n,i,r,a=t._pt;a;){for(e=a._next,n=i;n&&n.pr>a.pr;)n=n._next;(a._prev=n?n._prev:r)?a._prev._next=a:i=a,(a._next=n)?n._prev=a:r=a,a=e}t._pt=i},pn=function(){function t(t,e,n,i,r,a,o,s,c){this.t=e,this.s=i,this.c=r,this.p=n,this.r=a||on,this.d=o||this,this.set=s||tn,this.pr=c||0,this._next=t,t&&(t._prev=this)}return t.prototype.modifier=function(t,e,n){this.mSet=this.mSet||this.set,this.set=dn,this.m=t,this.mt=n,this.tween=e},t}();Ot(_t+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(t){return ft[t]=1})),ot.TweenMax=ot.TweenLite=$e,ot.TimelineLite=ot.TimelineMax=Ge,o=new Ge({sortChildren:!1,defaults:R,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),j.stringFilter=Me;var vn={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach((function(t){return be(t)}))},timeline:function(t){return new Ge(t)},getTweensOf:function(t,e){return o.getTweensOf(t,e)},getProperty:function(t,e,n,i){V(t)&&(t=se(t)[0]);var r=xt(t||{}).get,a=n?Pt:Et;return"native"===n&&(n=""),t?e?a((mt[e]&&mt[e].get||r)(t,e,n,i)):function(e,n,i){return a((mt[e]&&mt[e].get||r)(t,e,n,i))}:t},quickSetter:function(t,e,n){if((t=se(t)).length>1){var i=t.map((function(t){return yn.quickSetter(t,e,n)})),r=i.length;return function(t){for(var e=r;e--;)i[e](t)}}t=t[0]||{};var a=mt[e],o=xt(t),s=o.harness&&(o.harness.aliases||{})[e]||e,c=a?function(e){var i=new a;d._pt=0,i.init(t,n?e+n:e,d,0,[t]),i.render(1,i),d._pt&&un(1,d)}:o.set(t,s);return a?c:function(e){return c(t,s,n?e+n:e,o,1)}},isTweening:function(t){return o.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Ne(t.ease,R.ease)),It(R,t||{})},config:function(t){return It(j,t||{})},registerEffect:function(t){var e=t.name,n=t.effect,i=t.plugins,r=t.defaults,a=t.extendTimeline;(i||"").split(",").forEach((function(t){return t&&!mt[t]&&!ot[t]&&lt(e+" effect requires "+t+" plugin.")})),gt[e]=function(t,e,i){return n(se(t),Dt(e||{},r),i)},a&&(Ge.prototype[e]=function(t,n,i){return this.add(gt[e](t,q(n)?n:(i=n)&&{},this),i)})},registerEase:function(t,e){Pe[t]=Ne(e)},parseEase:function(t,e){return arguments.length?Ne(t,e):Pe},getById:function(t){return o.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var n,i,r=new Ge(t);for(r.smoothChildTiming=Y(t.smoothChildTiming),o.remove(r),r._dp=0,r._time=r._tTime=o._time,n=o._first;n;)i=n._next,!e&&!n._dur&&n instanceof $e&&n.vars.onComplete===n._targets[0]||Yt(r,n,n._start-n._delay),n=i;return Yt(o,r,0),r},utils:{wrap:function t(e,n,i){var r=n-e;return J(e)?fe(e,t(0,e.length),n):ee(i,(function(t){return(r+(t-e)%r)%r+e}))},wrapYoyo:function t(e,n,i){var r=n-e,a=2*r;return J(e)?fe(e,t(0,e.length-1),n):ee(i,(function(t){return e+((t=(a+(t-e)%a)%a||0)>r?a-t:t)}))},distribute:ue,random:de,snap:he,normalize:function(t,e,n){return ve(t,e,0,1,n)},getUnit:ie,clamp:function(t,e,n){return ee(n,(function(n){return ne(t,e,n)}))},splitColor:ke,toArray:se,mapRange:ve,pipe:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduce((function(t,e){return e(t)}),t)}},unitize:function(t,e){return function(n){return t(parseFloat(n))+(e||ie(n))}},interpolate:function t(e,n,i,r){var a=isNaN(e+n)?0:function(t){return(1-t)*e+t*n};if(!a){var o,s,c,u,l,h=V(e),d={};if(!0===i&&(r=1)&&(i=null),h)e={p:e},n={p:n};else if(J(e)&&!J(n)){for(c=[],u=e.length,l=u-2,s=1;s<u;s++)c.push(t(e[s-1],e[s]));u--,a=function(t){t*=u;var e=Math.min(l,~~t);return c[e](t-e)},i=n}else r||(e=Rt(J(e)?[]:{},e));if(!c){for(o in n)qe.call(d,e,o,"get",n[o]);a=function(t){return un(t,d)||(h?e.p:e)}}}return ee(i,a)},shuffle:ce},install:ct,effects:gt,ticker:Te,updateRoot:Ge.updateRoot,plugins:mt,globalTimeline:o,core:{PropTween:pn,globals:ht,Tween:$e,Timeline:Ge,Animation:Ve,getCache:xt,_removeLinkedListItem:Ft,suppressOverwrites:function(t){return a=t}}};Ot("to,from,fromTo,delayedCall,set,killTweensOf",(function(t){return vn[t]=$e[t]})),Te.add(Ge.updateRoot),d=vn.to({},{duration:0});var mn=function(t,e){for(var n=t._pt;n&&n.p!==e&&n.op!==e&&n.fp!==e;)n=n._next;return n},gn=function(t,e){return{name:t,rawVars:1,init:function(t,n,i){i._onInit=function(t){var i,r;if(V(n)&&(i={},Ot(n,(function(t){return i[t]=1})),n=i),e){for(r in i={},n)i[r]=e(n[r]);n=i}!function(t,e){var n,i,r,a=t._targets;for(n in e)for(i=a.length;i--;)(r=t._ptLookup[i][n])&&(r=r.d)&&(r._pt&&(r=mn(r,n)),r&&r.modifier&&r.modifier(e[n],t,a[i],n))}(t,n)}}}},yn=vn.registerPlugin({name:"attr",init:function(t,e,n,i,r){var a,o;for(a in e)(o=this.add(t,"setAttribute",(t.getAttribute(a)||0)+"",e[a],i,r,0,0,a))&&(o.op=a),this._props.push(a)}},{name:"endArray",init:function(t,e){for(var n=e.length;n--;)this.add(t,n,t[n]||0,e[n])}},gn("roundProps",le),gn("modifiers"),gn("snap",he))||vn;$e.version=Ge.version=yn.version="3.6.0",l=1,Q()&&Ee();Pe.Power0,Pe.Power1;var bn=Pe.Power2,_n=(Pe.Power3,Pe.Power4,Pe.Linear,Pe.Quad,Pe.Cubic),wn=(Pe.Quart,Pe.Quint,Pe.Strong,Pe.Elastic,Pe.Back,Pe.SteppedEase,Pe.Bounce,Pe.Sine,Pe.Expo);Pe.Circ},qFsG:function(t,e,n){"use strict";n.d(e,"a",(function(){return T})),n.d(e,"b",(function(){return E})),n.d(e,"c",(function(){return O}));var i=n("1OyB"),r=n("vuIU"),a=n("Ji7U"),o=n("LK+K"),s=n("nLfN"),c=n("fXoL"),u=n("8LU1"),l=n("EY2u"),h=n("XNiG"),d=n("xgIS"),f=n("3UWI"),p=n("1G5W"),v=n("ofXK"),m=Object(s.f)({passive:!0}),g=function(){function t(e,n){Object(i.a)(this,t),this._platform=e,this._ngZone=n,this._monitoredElements=new Map}return Object(r.a)(t,[{key:"monitor",value:function(t){var e=this;if(!this._platform.isBrowser)return l.a;var n=Object(u.d)(t),i=this._monitoredElements.get(n);if(i)return i.subject;var r=new h.a,a="cdk-text-field-autofilled",o=function(t){"cdk-text-field-autofill-start"!==t.animationName||n.classList.contains(a)?"cdk-text-field-autofill-end"===t.animationName&&n.classList.contains(a)&&(n.classList.remove(a),e._ngZone.run((function(){return r.next({target:t.target,isAutofilled:!1})}))):(n.classList.add(a),e._ngZone.run((function(){return r.next({target:t.target,isAutofilled:!0})})))};return this._ngZone.runOutsideAngular((function(){n.addEventListener("animationstart",o,m),n.classList.add("cdk-text-field-autofill-monitored")})),this._monitoredElements.set(n,{subject:r,unlisten:function(){n.removeEventListener("animationstart",o,m)}}),r}},{key:"stopMonitoring",value:function(t){var e=Object(u.d)(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}},{key:"ngOnDestroy",value:function(){var t=this;this._monitoredElements.forEach((function(e,n){return t.stopMonitoring(n)}))}}]),t}();g.\u0275fac=function(t){return new(t||g)(c.jc(s.a),c.jc(c.L))},g.\u0275prov=Object(c.Wb)({factory:function(){return new g(Object(c.jc)(s.a),Object(c.jc)(c.L))},token:g,providedIn:"root"}),g.ctorParameters=function(){return[{type:s.a},{type:c.L}]};var y=function(){function t(e,n){Object(i.a)(this,t),this._elementRef=e,this._autofillMonitor=n,this.cdkAutofill=new c.t}return Object(r.a)(t,[{key:"ngOnInit",value:function(){var t=this;this._autofillMonitor.monitor(this._elementRef).subscribe((function(e){return t.cdkAutofill.emit(e)}))}},{key:"ngOnDestroy",value:function(){this._autofillMonitor.stopMonitoring(this._elementRef)}}]),t}();y.\u0275fac=function(t){return new(t||y)(c.ac(c.r),c.ac(g))},y.\u0275dir=c.Vb({type:y,selectors:[["","cdkAutofill",""]],outputs:{cdkAutofill:"cdkAutofill"}}),y.ctorParameters=function(){return[{type:c.r},{type:g}]},y.propDecorators={cdkAutofill:[{type:c.N}]};var b=function(){function t(e,n,r,a){Object(i.a)(this,t),this._elementRef=e,this._platform=n,this._ngZone=r,this._destroyed=new h.a,this._enabled=!0,this._previousMinRows=-1,this._document=a,this._textareaElement=this._elementRef.nativeElement,this._measuringClass=n.FIREFOX?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring"}return Object(r.a)(t,[{key:"_setMinHeight",value:function(){var t=this.minRows&&this._cachedLineHeight?"".concat(this.minRows*this._cachedLineHeight,"px"):null;t&&(this._textareaElement.style.minHeight=t)}},{key:"_setMaxHeight",value:function(){var t=this.maxRows&&this._cachedLineHeight?"".concat(this.maxRows*this._cachedLineHeight,"px"):null;t&&(this._textareaElement.style.maxHeight=t)}},{key:"ngAfterViewInit",value:function(){var t=this;this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular((function(){var e=t._getWindow();Object(d.a)(e,"resize").pipe(Object(f.a)(16),Object(p.a)(t._destroyed)).subscribe((function(){return t.resizeToFitContent(!0)}))})))}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete()}},{key:"_cacheTextareaLineHeight",value:function(){if(!this._cachedLineHeight){var t=this._textareaElement.cloneNode(!1);t.rows=1,t.style.position="absolute",t.style.visibility="hidden",t.style.border="none",t.style.padding="0",t.style.height="",t.style.minHeight="",t.style.maxHeight="",t.style.overflow="hidden",this._textareaElement.parentNode.appendChild(t),this._cachedLineHeight=t.clientHeight,this._textareaElement.parentNode.removeChild(t),this._setMinHeight(),this._setMaxHeight()}}},{key:"ngDoCheck",value:function(){this._platform.isBrowser&&this.resizeToFitContent()}},{key:"resizeToFitContent",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._enabled&&(this._cacheTextareaLineHeight(),this._cachedLineHeight)){var n=this._elementRef.nativeElement,i=n.value;if(e||this._minRows!==this._previousMinRows||i!==this._previousValue){var r=n.placeholder;n.classList.add(this._measuringClass),n.placeholder="";var a=n.scrollHeight-4;n.style.height="".concat(a,"px"),n.classList.remove(this._measuringClass),n.placeholder=r,this._ngZone.runOutsideAngular((function(){"undefined"!=typeof requestAnimationFrame?requestAnimationFrame((function(){return t._scrollToCaretPosition(n)})):setTimeout((function(){return t._scrollToCaretPosition(n)}))})),this._previousValue=i,this._previousMinRows=this._minRows}}}},{key:"reset",value:function(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}},{key:"_noopInputHandler",value:function(){}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_scrollToCaretPosition",value:function(t){var e=t.selectionStart,n=t.selectionEnd,i=this._getDocument();this._destroyed.isStopped||i.activeElement!==t||t.setSelectionRange(e,n)}},{key:"minRows",get:function(){return this._minRows},set:function(t){this._minRows=Object(u.e)(t),this._setMinHeight()}},{key:"maxRows",get:function(){return this._maxRows},set:function(t){this._maxRows=Object(u.e)(t),this._setMaxHeight()}},{key:"enabled",get:function(){return this._enabled},set:function(t){t=Object(u.b)(t),this._enabled!==t&&((this._enabled=t)?this.resizeToFitContent(!0):this.reset())}}]),t}();b.\u0275fac=function(t){return new(t||b)(c.ac(c.r),c.ac(s.a),c.ac(c.L),c.ac(v.d,8))},b.\u0275dir=c.Vb({type:b,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(t,e){1&t&&c.mc("input",(function(){return e._noopInputHandler()}))},inputs:{minRows:["cdkAutosizeMinRows","minRows"],maxRows:["cdkAutosizeMaxRows","maxRows"],enabled:["cdkTextareaAutosize","enabled"]},exportAs:["cdkTextareaAutosize"]}),b.ctorParameters=function(){return[{type:c.r},{type:s.a},{type:c.L},{type:void 0,decorators:[{type:c.M},{type:c.y,args:[v.d]}]}]},b.propDecorators={minRows:[{type:c.C,args:["cdkAutosizeMinRows"]}],maxRows:[{type:c.C,args:["cdkAutosizeMaxRows"]}],enabled:[{type:c.C,args:["cdkTextareaAutosize"]}],_noopInputHandler:[{type:c.w,args:["input"]}]};var _=function t(){Object(i.a)(this,t)};_.\u0275mod=c.Yb({type:_}),_.\u0275inj=c.Xb({factory:function(t){return new(t||_)},imports:[[s.b]]});var w=n("3Pt+"),x=n("FKr1"),k=n("kmnG"),O=function(t){Object(a.a)(n,t);var e=Object(o.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"matAutosizeMinRows",get:function(){return this.minRows},set:function(t){this.minRows=t}},{key:"matAutosizeMaxRows",get:function(){return this.maxRows},set:function(t){this.maxRows=t}},{key:"matAutosize",get:function(){return this.enabled},set:function(t){this.enabled=t}},{key:"matTextareaAutosize",get:function(){return this.enabled},set:function(t){this.enabled=t}}]),n}(b);O.\u0275fac=function(t){return S(t||O)},O.\u0275dir=c.Vb({type:O,selectors:[["textarea","mat-autosize",""],["textarea","matTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize","mat-autosize"],inputs:{cdkAutosizeMinRows:"cdkAutosizeMinRows",cdkAutosizeMaxRows:"cdkAutosizeMaxRows",matAutosizeMinRows:"matAutosizeMinRows",matAutosizeMaxRows:"matAutosizeMaxRows",matAutosize:["mat-autosize","matAutosize"],matTextareaAutosize:"matTextareaAutosize"},exportAs:["matTextareaAutosize"],features:[c.Nb]}),O.propDecorators={matAutosizeMinRows:[{type:c.C}],matAutosizeMaxRows:[{type:c.C}],matAutosize:[{type:c.C,args:["mat-autosize"]}],matTextareaAutosize:[{type:c.C}]};var S=c.hc(O);var C=new c.A("MAT_INPUT_VALUE_ACCESSOR"),A=["button","checkbox","file","hidden","image","radio","range","reset","submit"],M=0,T=function(t){Object(a.a)(n,t);var e=Object(o.a)(n);function n(t,r,a,o,c,u,l,d,f,p){var v;Object(i.a)(this,n),(v=e.call(this,u,o,c,a))._elementRef=t,v._platform=r,v.ngControl=a,v._autofillMonitor=d,v._formField=p,v._uid="mat-input-".concat(M++),v.focused=!1,v.stateChanges=new h.a,v.controlType="mat-input",v.autofilled=!1,v._disabled=!1,v._required=!1,v._type="text",v._readonly=!1,v._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter((function(t){return Object(s.e)().has(t)}));var m=v._elementRef.nativeElement,g=m.nodeName.toLowerCase();return v._inputValueAccessor=l||m,v._previousNativeValue=v.value,v.id=v.id,r.IOS&&f.runOutsideAngular((function(){t.nativeElement.addEventListener("keyup",(function(t){var e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))}))})),v._isServer=!v._platform.isBrowser,v._isNativeSelect="select"===g,v._isTextarea="textarea"===g,v._isNativeSelect&&(v.controlType=m.multiple?"mat-native-select-multiple":"mat-native-select"),v}return Object(r.a)(n,[{key:"ngAfterViewInit",value:function(){var t=this;this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe((function(e){t.autofilled=e.isAutofilled,t.stateChanges.next()}))}},{key:"ngOnChanges",value:function(){this.stateChanges.next()}},{key:"ngOnDestroy",value:function(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}},{key:"ngDoCheck",value:function(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}},{key:"focus",value:function(t){this._elementRef.nativeElement.focus(t)}},{key:"_focusChanged",value:function(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}},{key:"_onInput",value:function(){}},{key:"_dirtyCheckPlaceholder",value:function(){var t,e,n=(null===(e=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===e?void 0:e.call(t))?null:this.placeholder;if(n!==this._previousPlaceholder){var i=this._elementRef.nativeElement;this._previousPlaceholder=n,n?i.setAttribute("placeholder",n):i.removeAttribute("placeholder")}}},{key:"_dirtyCheckNativeValue",value:function(){var t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}},{key:"_validateType",value:function(){A.indexOf(this._type)}},{key:"_isNeverEmpty",value:function(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}},{key:"_isBadInput",value:function(){var t=this._elementRef.nativeElement.validity;return t&&t.badInput}},{key:"setDescribedByIds",value:function(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}},{key:"onContainerClick",value:function(){this.focused||this.focus()}},{key:"disabled",get:function(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled},set:function(t){this._disabled=Object(u.b)(t),this.focused&&(this.focused=!1,this.stateChanges.next())}},{key:"id",get:function(){return this._id},set:function(t){this._id=t||this._uid}},{key:"required",get:function(){return this._required},set:function(t){this._required=Object(u.b)(t)}},{key:"type",get:function(){return this._type},set:function(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Object(s.e)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}},{key:"value",get:function(){return this._inputValueAccessor.value},set:function(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}},{key:"readonly",get:function(){return this._readonly},set:function(t){this._readonly=Object(u.b)(t)}},{key:"empty",get:function(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}},{key:"shouldLabelFloat",get:function(){if(this._isNativeSelect){var t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}}]),n}(Object(x.k)((function t(e,n,r,a){Object(i.a)(this,t),this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=r,this.ngControl=a})));T.\u0275fac=function(t){return new(t||T)(c.ac(c.r),c.ac(s.a),c.ac(w.h,10),c.ac(w.k,8),c.ac(w.e,8),c.ac(x.a),c.ac(C,10),c.ac(g),c.ac(c.L),c.ac(k.a,8))},T.\u0275dir=c.Vb({type:T,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(t,e){1&t&&c.mc("focus",(function(){return e._focusChanged(!0)}))("blur",(function(){return e._focusChanged(!1)}))("input",(function(){return e._onInput()})),2&t&&(c.ic("disabled",e.disabled)("required",e.required),c.Rb("id",e.id)("data-placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-invalid",e.errorState)("aria-required",e.required.toString()),c.Sb("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[c.Pb([{provide:k.d,useExisting:T}]),c.Nb,c.Ob]}),T.ctorParameters=function(){return[{type:c.r},{type:s.a},{type:w.h,decorators:[{type:c.M},{type:c.X}]},{type:w.k,decorators:[{type:c.M}]},{type:w.e,decorators:[{type:c.M}]},{type:x.a},{type:void 0,decorators:[{type:c.M},{type:c.X},{type:c.y,args:[C]}]},{type:g},{type:c.L},{type:k.c,decorators:[{type:c.M},{type:c.y,args:[k.a]}]}]},T.propDecorators={disabled:[{type:c.C}],id:[{type:c.C}],placeholder:[{type:c.C}],required:[{type:c.C}],type:[{type:c.C}],errorStateMatcher:[{type:c.C}],userAriaDescribedBy:[{type:c.C,args:["aria-describedby"]}],value:[{type:c.C}],readonly:[{type:c.C}],_focusChanged:[{type:c.w,args:["focus",["true"]]},{type:c.w,args:["blur",["false"]]}],_onInput:[{type:c.w,args:["input"]}]};var E=function t(){Object(i.a)(this,t)};E.\u0275mod=c.Yb({type:E}),E.\u0275inj=c.Xb({factory:function(t){return new(t||E)},providers:[x.a],imports:[[_,k.e],_,k.e]})},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i,r=n("1OyB"),a=n("vuIU"),o=n("DH7j"),s=n("XoHu"),c=n("n6bG"),u=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map((function(t,e){return"".concat(e+1,") ").concat(t.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),l=function(){function t(e){Object(r.a)(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return Object(a.a)(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,i=this._ctorUnsubscribe,r=this._unsubscribe,a=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var l=0;l<n.length;++l){n[l].remove(this)}if(Object(c.a)(r)){i&&(this._unsubscribe=void 0);try{r.call(this)}catch(v){e=v instanceof u?h(v.errors):[v]}}if(Object(o.a)(a))for(var d=-1,f=a.length;++d<f;){var p=a[d];if(Object(s.a)(p))try{p.unsubscribe()}catch(v){e=e||[],v instanceof u?e=e.concat(h(v.errors)):e.push(v)}}if(e)throw new u(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var i=n;(n=new t)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var r=n._parentOrParents;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}var a=this._subscriptions;return null===a?this._subscriptions=[n]:a.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}();function h(t){return t.reduce((function(t,e){return t.concat(e instanceof u?e.errors:e)}),[])}l.EMPTY=((i=new l).closed=!0,i)},rDax:function(t,e,n){"use strict";n.d(e,"a",(function(){return A})),n.d(e,"b",(function(){return J})),n.d(e,"c",(function(){return D})),n.d(e,"d",(function(){return z})),n.d(e,"e",(function(){return rt}));var i=n("ODXe"),r=n("uFwe"),a=n("ReuC"),o=n("foSv"),s=n("Ji7U"),c=n("LK+K"),u=n("1OyB"),l=n("vuIU"),h=n("vxfF"),d=n("fXoL"),f=n("nLfN"),p=n("cH1L"),v=n("ofXK"),m=n("8LU1"),g=n("+rOU"),y=n("XNiG"),b=n("quSY"),_=n("VRyK"),w=n("IzEk"),x=n("1G5W"),k=n("GJmQ"),O=n("FtGj"),S=function(){function t(e,n){Object(u.a)(this,t),this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}return Object(l.a)(t,[{key:"attach",value:function(){}},{key:"enable",value:function(){if(this._canBeEnabled()){var t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Object(m.c)(-this._previousScrollPosition.left),t.style.top=Object(m.c)(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}},{key:"disable",value:function(){if(this._isEnabled){var t=this._document.documentElement,e=this._document.body,n=t.style,i=e.style,r=n.scrollBehavior||"",a=i.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),n.scrollBehavior=i.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),n.scrollBehavior=r,i.scrollBehavior=a}}},{key:"_canBeEnabled",value:function(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;var t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}]),t}();var C=function(){function t(e,n,i,r){var a=this;Object(u.a)(this,t),this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=function(){a.disable(),a._overlayRef.hasAttached()&&a._ngZone.run((function(){return a._overlayRef.detach()}))}}return Object(l.a)(t,[{key:"attach",value:function(t){this._overlayRef,this._overlayRef=t}},{key:"enable",value:function(){var t=this;if(!this._scrollSubscription){var e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe((function(){var e=t._viewportRuler.getViewportScrollPosition().top;Math.abs(e-t._initialScrollPosition)>t._config.threshold?t._detach():t._overlayRef.updatePosition()}))):this._scrollSubscription=e.subscribe(this._detach)}}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),t}(),A=function(){function t(){Object(u.a)(this,t)}return Object(l.a)(t,[{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"attach",value:function(){}}]),t}();function M(t,e){return e.some((function(e){var n=t.bottom<e.top,i=t.top>e.bottom,r=t.right<e.left,a=t.left>e.right;return n||i||r||a}))}function T(t,e){return e.some((function(e){var n=t.top<e.top,i=t.bottom>e.bottom,r=t.left<e.left,a=t.right>e.right;return n||i||r||a}))}var E=function(){function t(e,n,i,r){Object(u.a)(this,t),this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=i,this._config=r,this._scrollSubscription=null}return Object(l.a)(t,[{key:"attach",value:function(t){this._overlayRef,this._overlayRef=t}},{key:"enable",value:function(){var t=this;if(!this._scrollSubscription){var e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe((function(){if(t._overlayRef.updatePosition(),t._config&&t._config.autoClose){var e=t._overlayRef.overlayElement.getBoundingClientRect(),n=t._viewportRuler.getViewportSize(),i=n.width,r=n.height;M(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(t.disable(),t._ngZone.run((function(){return t._overlayRef.detach()})))}}))}}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),t}(),P=function t(e,n,i,r){var a=this;Object(u.a)(this,t),this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=i,this.noop=function(){return new A},this.close=function(t){return new C(a._scrollDispatcher,a._ngZone,a._viewportRuler,t)},this.block=function(){return new S(a._viewportRuler,a._document)},this.reposition=function(t){return new E(a._scrollDispatcher,a._viewportRuler,a._ngZone,t)},this._document=r};P.\u0275fac=function(t){return new(t||P)(d.jc(h.b),d.jc(h.d),d.jc(d.L),d.jc(v.d))},P.\u0275prov=Object(d.Wb)({factory:function(){return new P(Object(d.jc)(h.b),Object(d.jc)(h.d),Object(d.jc)(d.L),Object(d.jc)(v.d))},token:P,providedIn:"root"}),P.ctorParameters=function(){return[{type:h.b},{type:h.d},{type:d.L},{type:void 0,decorators:[{type:d.y,args:[v.d]}]}]};var D=function t(e){if(Object(u.a)(this,t),this.scrollStrategy=new A,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e)for(var n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];void 0!==e[r]&&(this[r]=e[r])}},j=function t(e,n,i,r,a){Object(u.a)(this,t),this.offsetX=i,this.offsetY=r,this.panelClass=a,this.originX=e.originX,this.originY=e.originY,this.overlayX=n.overlayX,this.overlayY=n.overlayY},R=function t(){Object(u.a)(this,t)},I=function t(e,n){Object(u.a)(this,t),this.connectionPair=e,this.scrollableViewProperties=n};I.ctorParameters=function(){return[{type:j},{type:R,decorators:[{type:d.M}]}]};var L=function(){function t(e){Object(u.a)(this,t),this._attachedOverlays=[],this._document=e}return Object(l.a)(t,[{key:"ngOnDestroy",value:function(){this.detach()}},{key:"add",value:function(t){this.remove(t),this._attachedOverlays.push(t)}},{key:"remove",value:function(t){var e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}]),t}();L.\u0275fac=function(t){return new(t||L)(d.jc(v.d))},L.\u0275prov=Object(d.Wb)({factory:function(){return new L(Object(d.jc)(v.d))},token:L,providedIn:"root"}),L.ctorParameters=function(){return[{type:void 0,decorators:[{type:d.y,args:[v.d]}]}]};var N=function(t){Object(s.a)(n,t);var e=Object(c.a)(n);function n(t){var i;return Object(u.a)(this,n),(i=e.call(this,t))._keydownListener=function(t){for(var e=i._attachedOverlays,n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}},i}return Object(l.a)(n,[{key:"add",value:function(t){Object(a.a)(Object(o.a)(n.prototype),"add",this).call(this,t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}},{key:"detach",value:function(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}]),n}(L);N.\u0275fac=function(t){return new(t||N)(d.jc(v.d))},N.\u0275prov=Object(d.Wb)({factory:function(){return new N(Object(d.jc)(v.d))},token:N,providedIn:"root"}),N.ctorParameters=function(){return[{type:void 0,decorators:[{type:d.y,args:[v.d]}]}]};new d.M,new d.Y,v.d;var F=function(t){Object(s.a)(n,t);var e=Object(c.a)(n);function n(t,i){var r;return Object(u.a)(this,n),(r=e.call(this,t))._platform=i,r._cursorStyleIsSet=!1,r._clickListener=function(t){for(var e=t.composedPath?t.composedPath()[0]:t.target,n=r._attachedOverlays.slice(),i=n.length-1;i>-1;i--){var a=n[i];if(!(a._outsidePointerEvents.observers.length<1)&&a.hasAttached()){if(a.overlayElement.contains(e))break;a._outsidePointerEvents.next(t)}}},r}return Object(l.a)(n,[{key:"add",value:function(t){Object(a.a)(Object(o.a)(n.prototype),"add",this).call(this,t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}},{key:"detach",value:function(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}]),n}(L);F.\u0275fac=function(t){return new(t||F)(d.jc(v.d),d.jc(f.a))},F.\u0275prov=Object(d.Wb)({factory:function(){return new F(Object(d.jc)(v.d),Object(d.jc)(f.a))},token:F,providedIn:"root"}),F.ctorParameters=function(){return[{type:void 0,decorators:[{type:d.y,args:[v.d]}]},{type:f.a}]};var B=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine),z=function(){function t(e,n){Object(u.a)(this,t),this._platform=n,this._document=e}return Object(l.a)(t,[{key:"ngOnDestroy",value:function(){var t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}},{key:"getContainerElement",value:function(){return this._containerElement||this._createContainer(),this._containerElement}},{key:"_createContainer",value:function(){var t=this._platform?this._platform.isBrowser:"undefined"!=typeof window,e="cdk-overlay-container";if(t||B)for(var n=this._document.querySelectorAll(".".concat(e,'[platform="server"], ')+".".concat(e,'[platform="test"]')),i=0;i<n.length;i++)n[i].parentNode.removeChild(n[i]);var r=this._document.createElement("div");r.classList.add(e),B?r.setAttribute("platform","test"):t||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}]),t}();z.\u0275fac=function(t){return new(t||z)(d.jc(v.d),d.jc(f.a))},z.\u0275prov=Object(d.Wb)({factory:function(){return new z(Object(d.jc)(v.d),Object(d.jc)(f.a))},token:z,providedIn:"root"}),z.ctorParameters=function(){return[{type:void 0,decorators:[{type:d.y,args:[v.d]}]},{type:f.a}]};new d.M,new d.Y,v.d;var U=function(){function t(e,n,i,r,a,o,s,c,l){var h=this;Object(u.a)(this,t),this._portalOutlet=e,this._host=n,this._pane=i,this._config=r,this._ngZone=a,this._keyboardDispatcher=o,this._document=s,this._location=c,this._outsideClickDispatcher=l,this._backdropElement=null,this._backdropClick=new y.a,this._attachments=new y.a,this._detachments=new y.a,this._locationChanges=b.a.EMPTY,this._backdropClickHandler=function(t){return h._backdropClick.next(t)},this._keydownEvents=new y.a,this._outsidePointerEvents=new y.a,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}return Object(l.a)(t,[{key:"attach",value:function(t){var e=this,n=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Object(w.a)(1)).subscribe((function(){e.hasAttached()&&e.updatePosition()})),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe((function(){return e.dispose()}))),this._outsideClickDispatcher&&this._outsideClickDispatcher.add(this),n}},{key:"detach",value:function(){if(this.hasAttached()){this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();var t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),t}}},{key:"dispose",value:function(){var t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}},{key:"hasAttached",value:function(){return this._portalOutlet.hasAttached()}},{key:"backdropClick",value:function(){return this._backdropClick}},{key:"attachments",value:function(){return this._attachments}},{key:"detachments",value:function(){return this._detachments}},{key:"keydownEvents",value:function(){return this._keydownEvents}},{key:"outsidePointerEvents",value:function(){return this._outsidePointerEvents}},{key:"getConfig",value:function(){return this._config}},{key:"updatePosition",value:function(){this._positionStrategy&&this._positionStrategy.apply()}},{key:"updatePositionStrategy",value:function(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}},{key:"updateSize",value:function(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}},{key:"setDirection",value:function(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}},{key:"addPanelClass",value:function(t){this._pane&&this._toggleClasses(this._pane,t,!0)}},{key:"removePanelClass",value:function(t){this._pane&&this._toggleClasses(this._pane,t,!1)}},{key:"getDirection",value:function(){var t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}},{key:"updateScrollStrategy",value:function(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}},{key:"_updateElementDirection",value:function(){this._host.setAttribute("dir",this.getDirection())}},{key:"_updateElementSize",value:function(){if(this._pane){var t=this._pane.style;t.width=Object(m.c)(this._config.width),t.height=Object(m.c)(this._config.height),t.minWidth=Object(m.c)(this._config.minWidth),t.minHeight=Object(m.c)(this._config.minHeight),t.maxWidth=Object(m.c)(this._config.maxWidth),t.maxHeight=Object(m.c)(this._config.maxHeight)}}},{key:"_togglePointerEvents",value:function(t){this._pane.style.pointerEvents=t?"auto":"none"}},{key:"_attachBackdrop",value:function(){var t=this,e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular((function(){requestAnimationFrame((function(){t._backdropElement&&t._backdropElement.classList.add(e)}))})):this._backdropElement.classList.add(e)}},{key:"_updateStackingOrder",value:function(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}},{key:"detachBackdrop",value:function(){var t=this,e=this._backdropElement;if(e){var n,i=function i(){e&&(e.removeEventListener("click",t._backdropClickHandler),e.removeEventListener("transitionend",i),e.parentNode&&e.parentNode.removeChild(e)),t._backdropElement==e&&(t._backdropElement=null),t._config.backdropClass&&t._toggleClasses(e,t._config.backdropClass,!1),clearTimeout(n)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular((function(){e.addEventListener("transitionend",i)})),e.style.pointerEvents="none",n=this._ngZone.runOutsideAngular((function(){return setTimeout(i,500)}))}}},{key:"_toggleClasses",value:function(t,e,n){var i=t.classList;Object(m.a)(e).forEach((function(t){t&&(n?i.add(t):i.remove(t))}))}},{key:"_detachContentWhenStable",value:function(){var t=this;this._ngZone.runOutsideAngular((function(){var e=t._ngZone.onStable.pipe(Object(x.a)(Object(_.a)(t._attachments,t._detachments))).subscribe((function(){t._pane&&t._host&&0!==t._pane.children.length||(t._pane&&t._config.panelClass&&t._toggleClasses(t._pane,t._config.panelClass,!1),t._host&&t._host.parentElement&&(t._previousHostParent=t._host.parentElement,t._previousHostParent.removeChild(t._host)),e.unsubscribe())}))}))}},{key:"_disposeScrollStrategy",value:function(){var t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}},{key:"overlayElement",get:function(){return this._pane}},{key:"backdropElement",get:function(){return this._backdropElement}},{key:"hostElement",get:function(){return this._host}}]),t}(),H="cdk-overlay-connected-position-bounding-box",V=/([A-Za-z%]+)$/,G=function(){function t(e,n,i,r,a){Object(u.a)(this,t),this._viewportRuler=n,this._document=i,this._platform=r,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new y.a,this._resizeSubscription=b.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}return Object(l.a)(t,[{key:"attach",value:function(t){var e=this;this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(H),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe((function(){e._isInitialRender=!0,e.apply()}))}},{key:"apply",value:function(){if(!this._isDisposed&&this._platform.isBrowser)if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)this.reapplyLastPosition();else{this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();var t,e,n=this._originRect,i=this._overlayRect,a=this._viewportRect,o=[],s=Object(r.a)(this._preferredPositions);try{for(s.s();!(e=s.n()).done;){var c=e.value,u=this._getOriginPoint(n,c),l=this._getOverlayPoint(u,i,c),h=this._getOverlayFit(l,i,a,c);if(h.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(c,u);this._canFitWithFlexibleDimensions(h,l,a)?o.push({position:c,origin:u,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(u,c)}):(!t||t.overlayFit.visibleArea<h.visibleArea)&&(t={overlayFit:h,overlayPoint:l,originPoint:u,position:c,overlayRect:i})}}catch(y){s.e(y)}finally{s.f()}if(o.length){var d,f=null,p=-1,v=Object(r.a)(o);try{for(v.s();!(d=v.n()).done;){var m=d.value,g=m.boundingBoxRect.width*m.boundingBoxRect.height*(m.position.weight||1);g>p&&(p=g,f=m)}}catch(y){v.e(y)}finally{v.f()}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(t.position,t.originPoint);this._applyPosition(t.position,t.originPoint)}}},{key:"detach",value:function(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}},{key:"dispose",value:function(){this._isDisposed||(this._boundingBox&&W(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(H),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}},{key:"reapplyLastPosition",value:function(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();var t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}},{key:"withScrollableContainers",value:function(t){return this._scrollables=t,this}},{key:"withPositions",value:function(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}},{key:"withViewportMargin",value:function(t){return this._viewportMargin=t,this}},{key:"withFlexibleDimensions",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._hasFlexibleDimensions=t,this}},{key:"withGrowAfterOpen",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._growAfterOpen=t,this}},{key:"withPush",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._canPush=t,this}},{key:"withLockedPosition",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._positionLocked=t,this}},{key:"setOrigin",value:function(t){return this._origin=t,this}},{key:"withDefaultOffsetX",value:function(t){return this._offsetX=t,this}},{key:"withDefaultOffsetY",value:function(t){return this._offsetY=t,this}},{key:"withTransformOriginOn",value:function(t){return this._transformOriginSelector=t,this}},{key:"_getOriginPoint",value:function(t,e){var n;if("center"==e.originX)n=t.left+t.width/2;else{var i=this._isRtl()?t.right:t.left,r=this._isRtl()?t.left:t.right;n="start"==e.originX?i:r}return{x:n,y:"center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom}}},{key:"_getOverlayPoint",value:function(t,e,n){var i,r;return i="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,r="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+i,y:t.y+r}}},{key:"_getOverlayFit",value:function(t,e,n,i){var r=t.x,a=t.y,o=this._getOffset(i,"x"),s=this._getOffset(i,"y");o&&(r+=o),s&&(a+=s);var c=0-r,u=r+e.width-n.width,l=0-a,h=a+e.height-n.height,d=this._subtractOverflows(e.width,c,u),f=this._subtractOverflows(e.height,l,h),p=d*f;return{visibleArea:p,isCompletelyWithinViewport:e.width*e.height===p,fitsInViewportVertically:f===e.height,fitsInViewportHorizontally:d==e.width}}},{key:"_canFitWithFlexibleDimensions",value:function(t,e,n){if(this._hasFlexibleDimensions){var i=n.bottom-e.y,r=n.right-e.x,a=X(this._overlayRef.getConfig().minHeight),o=X(this._overlayRef.getConfig().minWidth),s=t.fitsInViewportVertically||null!=a&&a<=i,c=t.fitsInViewportHorizontally||null!=o&&o<=r;return s&&c}return!1}},{key:"_pushOverlayOnScreen",value:function(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};var i=this._viewportRect,r=Math.max(t.x+e.width-i.width,0),a=Math.max(t.y+e.height-i.height,0),o=Math.max(i.top-n.top-t.y,0),s=Math.max(i.left-n.left-t.x,0),c=0,u=0;return c=e.width<=i.width?s||-r:t.x<this._viewportMargin?i.left-n.left-t.x:0,u=e.height<=i.height?o||-a:t.y<this._viewportMargin?i.top-n.top-t.y:0,this._previousPushAmount={x:c,y:u},{x:t.x+c,y:t.y+u}}},{key:"_applyPosition",value:function(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){var n=this._getScrollVisibility(),i=new I(t,n);this._positionChanges.next(i)}this._isInitialRender=!1}},{key:"_setTransformOrigin",value:function(t){if(this._transformOriginSelector){var e,n=this._boundingBox.querySelectorAll(this._transformOriginSelector),i=t.overlayY;e="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(var r=0;r<n.length;r++)n[r].style.transformOrigin="".concat(e," ").concat(i)}}},{key:"_calculateBoundingBoxRect",value:function(t,e){var n,i,r,a=this._viewportRect,o=this._isRtl();if("top"===e.overlayY)i=t.y,n=a.height-i+this._viewportMargin;else if("bottom"===e.overlayY)r=a.height-t.y+2*this._viewportMargin,n=a.height-r+this._viewportMargin;else{var s=Math.min(a.bottom-t.y+a.top,t.y),c=this._lastBoundingBoxSize.height;n=2*s,i=t.y-s,n>c&&!this._isInitialRender&&!this._growAfterOpen&&(i=t.y-c/2)}var u,l,h,d="start"===e.overlayX&&!o||"end"===e.overlayX&&o;if("end"===e.overlayX&&!o||"start"===e.overlayX&&o)h=a.width-t.x+this._viewportMargin,u=t.x-this._viewportMargin;else if(d)l=t.x,u=a.right-t.x;else{var f=Math.min(a.right-t.x+a.left,t.x),p=this._lastBoundingBoxSize.width;u=2*f,l=t.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.x-p/2)}return{top:i,left:l,bottom:r,right:h,width:u,height:n}}},{key:"_setBoundingBoxStyles",value:function(t,e){var n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));var i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{var r=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;i.height=Object(m.c)(n.height),i.top=Object(m.c)(n.top),i.bottom=Object(m.c)(n.bottom),i.width=Object(m.c)(n.width),i.left=Object(m.c)(n.left),i.right=Object(m.c)(n.right),"center"===e.overlayX?i.alignItems="center":i.alignItems="end"===e.overlayX?"flex-end":"flex-start","center"===e.overlayY?i.justifyContent="center":i.justifyContent="bottom"===e.overlayY?"flex-end":"flex-start",r&&(i.maxHeight=Object(m.c)(r)),a&&(i.maxWidth=Object(m.c)(a))}this._lastBoundingBoxSize=n,W(this._boundingBox.style,i)}},{key:"_resetBoundingBoxStyles",value:function(){W(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}},{key:"_resetOverlayElementStyles",value:function(){W(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}},{key:"_setOverlayElementStyles",value:function(t,e){var n={},i=this._hasExactPosition(),r=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(i){var o=this._viewportRuler.getViewportScrollPosition();W(n,this._getExactOverlayY(e,t,o)),W(n,this._getExactOverlayX(e,t,o))}else n.position="static";var s="",c=this._getOffset(e,"x"),u=this._getOffset(e,"y");c&&(s+="translateX(".concat(c,"px) ")),u&&(s+="translateY(".concat(u,"px)")),n.transform=s.trim(),a.maxHeight&&(i?n.maxHeight=Object(m.c)(a.maxHeight):r&&(n.maxHeight="")),a.maxWidth&&(i?n.maxWidth=Object(m.c)(a.maxWidth):r&&(n.maxWidth="")),W(this._pane.style,n)}},{key:"_getExactOverlayY",value:function(t,e,n){var i={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));var a=this._overlayContainer.getContainerElement().getBoundingClientRect().top;if(r.y-=a,"bottom"===t.overlayY){var o=this._document.documentElement.clientHeight;i.bottom="".concat(o-(r.y+this._overlayRect.height),"px")}else i.top=Object(m.c)(r.y);return i}},{key:"_getExactOverlayX",value:function(t,e,n){var i={left:"",right:""},r=this._getOverlayPoint(e,this._overlayRect,t);if(this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n)),"right"===(this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left")){var a=this._document.documentElement.clientWidth;i.right="".concat(a-(r.x+this._overlayRect.width),"px")}else i.left=Object(m.c)(r.x);return i}},{key:"_getScrollVisibility",value:function(){var t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map((function(t){return t.getElementRef().nativeElement.getBoundingClientRect()}));return{isOriginClipped:T(t,n),isOriginOutsideView:M(t,n),isOverlayClipped:T(e,n),isOverlayOutsideView:M(e,n)}}},{key:"_subtractOverflows",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n.reduce((function(t,e){return t-Math.max(e,0)}),t)}},{key:"_getNarrowedViewportRect",value:function(){var t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}},{key:"_isRtl",value:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"_hasExactPosition",value:function(){return!this._hasFlexibleDimensions||this._isPushed}},{key:"_getOffset",value:function(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}},{key:"_validatePositions",value:function(){0}},{key:"_addPanelClasses",value:function(t){var e=this;this._pane&&Object(m.a)(t).forEach((function(t){""!==t&&-1===e._appliedPanelClasses.indexOf(t)&&(e._appliedPanelClasses.push(t),e._pane.classList.add(t))}))}},{key:"_clearPanelClasses",value:function(){var t=this;this._pane&&(this._appliedPanelClasses.forEach((function(e){t._pane.classList.remove(e)})),this._appliedPanelClasses=[])}},{key:"_getOriginRect",value:function(){var t=this._origin;if(t instanceof d.r)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();var e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}},{key:"positions",get:function(){return this._preferredPositions}}]),t}();function W(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function X(t){if("number"!=typeof t&&null!=t){var e=t.split(V),n=Object(i.a)(e,2),r=n[0],a=n[1];return a&&"px"!==a?null:parseFloat(r)}return t||null}var q=function(){function t(e,n,i,r,a,o,s){Object(u.a)(this,t),this._preferredPositions=[],this._positionStrategy=new G(i,r,a,o,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,n),this.onPositionChange=this._positionStrategy.positionChanges}return Object(l.a)(t,[{key:"attach",value:function(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}},{key:"dispose",value:function(){this._positionStrategy.dispose()}},{key:"detach",value:function(){this._positionStrategy.detach()}},{key:"apply",value:function(){this._positionStrategy.apply()}},{key:"recalculateLastPosition",value:function(){this._positionStrategy.reapplyLastPosition()}},{key:"withScrollableContainers",value:function(t){this._positionStrategy.withScrollableContainers(t)}},{key:"withFallbackPosition",value:function(t,e,n,i){var r=new j(t,e,n,i);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"withDirection",value:function(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}},{key:"withOffsetX",value:function(t){return this._positionStrategy.withDefaultOffsetX(t),this}},{key:"withOffsetY",value:function(t){return this._positionStrategy.withDefaultOffsetY(t),this}},{key:"withLockedPosition",value:function(t){return this._positionStrategy.withLockedPosition(t),this}},{key:"withPositions",value:function(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"setOrigin",value:function(t){return this._positionStrategy.setOrigin(t),this}},{key:"positions",get:function(){return this._preferredPositions}}]),t}(),Y="cdk-global-overlay-wrapper",Q=function(){function t(){Object(u.a)(this,t),this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}return Object(l.a)(t,[{key:"attach",value:function(t){var e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Y),this._isDisposed=!1}},{key:"top",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}},{key:"left",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}},{key:"bottom",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}},{key:"right",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}},{key:"width",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}},{key:"height",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}},{key:"centerHorizontally",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.left(t),this._justifyContent="center",this}},{key:"centerVertically",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.top(t),this._alignItems="center",this}},{key:"apply",value:function(){if(this._overlayRef&&this._overlayRef.hasAttached()){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),i=n.width,r=n.height,a=n.maxWidth,o=n.maxHeight,s=!("100%"!==i&&"100vw"!==i||a&&"100%"!==a&&"100vw"!==a),c=!("100%"!==r&&"100vh"!==r||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=s?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,s?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}}},{key:"dispose",value:function(){if(!this._isDisposed&&this._overlayRef){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(Y),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}}]),t}(),K=function(){function t(e,n,i,r){Object(u.a)(this,t),this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=r}return Object(l.a)(t,[{key:"global",value:function(){return new Q}},{key:"connectedTo",value:function(t,e,n){return new q(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}},{key:"flexibleConnectedTo",value:function(t){return new G(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}]),t}();K.\u0275fac=function(t){return new(t||K)(d.jc(h.d),d.jc(v.d),d.jc(f.a),d.jc(z))},K.\u0275prov=Object(d.Wb)({factory:function(){return new K(Object(d.jc)(h.d),Object(d.jc)(v.d),Object(d.jc)(f.a),Object(d.jc)(z))},token:K,providedIn:"root"}),K.ctorParameters=function(){return[{type:h.d},{type:void 0,decorators:[{type:d.y,args:[v.d]}]},{type:f.a},{type:z}]};var Z=0,J=function(){function t(e,n,i,r,a,o,s,c,l,h,d){Object(u.a)(this,t),this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=i,this._positionBuilder=r,this._keyboardDispatcher=a,this._injector=o,this._ngZone=s,this._document=c,this._directionality=l,this._location=h,this._outsideClickDispatcher=d}return Object(l.a)(t,[{key:"create",value:function(t){var e=this._createHostElement(),n=this._createPaneElement(e),i=this._createPortalOutlet(n),r=new D(t);return r.direction=r.direction||this._directionality.value,new U(i,e,n,r,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}},{key:"position",value:function(){return this._positionBuilder}},{key:"_createPaneElement",value:function(t){var e=this._document.createElement("div");return e.id="cdk-overlay-".concat(Z++),e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}},{key:"_createHostElement",value:function(){var t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}},{key:"_createPortalOutlet",value:function(t){return this._appRef||(this._appRef=this._injector.get(d.g)),new g.d(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}]),t}();J.\u0275fac=function(t){return new(t||J)(d.jc(P),d.jc(z),d.jc(d.m),d.jc(K),d.jc(N),d.jc(d.B),d.jc(d.L),d.jc(v.d),d.jc(p.b),d.jc(v.g),d.jc(F))},J.\u0275prov=d.Wb({token:J,factory:J.\u0275fac}),J.ctorParameters=function(){return[{type:P},{type:z},{type:d.m},{type:K},{type:N},{type:d.B},{type:d.L},{type:void 0,decorators:[{type:d.y,args:[v.d]}]},{type:p.b},{type:v.g},{type:F}]};var $=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],tt=new d.A("cdk-connected-overlay-scroll-strategy");var et=function t(e){Object(u.a)(this,t),this.elementRef=e};et.\u0275fac=function(t){return new(t||et)(d.ac(d.r))},et.\u0275dir=d.Vb({type:et,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),et.ctorParameters=function(){return[{type:d.r}]};var nt=function(){function t(e,n,i,r,a){Object(u.a)(this,t),this._overlay=e,this._dir=a,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=b.a.EMPTY,this._attachSubscription=b.a.EMPTY,this._detachSubscription=b.a.EMPTY,this._positionSubscription=b.a.EMPTY,this.viewportMargin=0,this.open=!1,this.backdropClick=new d.t,this.positionChange=new d.t,this.attach=new d.t,this.detach=new d.t,this.overlayKeydown=new d.t,this.overlayOutsideClick=new d.t,this._templatePortal=new g.f(n,i),this._scrollStrategyFactory=r,this.scrollStrategy=this._scrollStrategyFactory()}return Object(l.a)(t,[{key:"ngOnDestroy",value:function(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}},{key:"ngOnChanges",value:function(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}},{key:"_createOverlay",value:function(){var t=this;this.positions&&this.positions.length||(this.positions=$);var e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe((function(){return t.attach.emit()})),this._detachSubscription=e.detachments().subscribe((function(){return t.detach.emit()})),e.keydownEvents().subscribe((function(e){t.overlayKeydown.next(e),e.keyCode!==O.e||Object(O.o)(e)||(e.preventDefault(),t._detachOverlay())})),this._overlayRef.outsidePointerEvents().subscribe((function(e){t.overlayOutsideClick.next(e)}))}},{key:"_buildConfig",value:function(){var t=this._position=this.positionStrategy||this._createPositionStrategy(),e=new D({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}},{key:"_updatePositionStrategy",value:function(t){var e=this,n=this.positions.map((function(t){return{originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||e.offsetX,offsetY:t.offsetY||e.offsetY,panelClass:t.panelClass||void 0}}));return t.setOrigin(this.origin.elementRef).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}},{key:"_createPositionStrategy",value:function(){var t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t}},{key:"_attachOverlay",value:function(){var t=this;this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe((function(e){t.backdropClick.emit(e)})):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(Object(k.a)((function(){return t.positionChange.observers.length>0}))).subscribe((function(e){t.positionChange.emit(e),0===t.positionChange.observers.length&&t._positionSubscription.unsubscribe()})))}},{key:"_detachOverlay",value:function(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}},{key:"offsetX",get:function(){return this._offsetX},set:function(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}},{key:"offsetY",get:function(){return this._offsetY},set:function(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}},{key:"hasBackdrop",get:function(){return this._hasBackdrop},set:function(t){this._hasBackdrop=Object(m.b)(t)}},{key:"lockPosition",get:function(){return this._lockPosition},set:function(t){this._lockPosition=Object(m.b)(t)}},{key:"flexibleDimensions",get:function(){return this._flexibleDimensions},set:function(t){this._flexibleDimensions=Object(m.b)(t)}},{key:"growAfterOpen",get:function(){return this._growAfterOpen},set:function(t){this._growAfterOpen=Object(m.b)(t)}},{key:"push",get:function(){return this._push},set:function(t){this._push=Object(m.b)(t)}},{key:"overlayRef",get:function(){return this._overlayRef}},{key:"dir",get:function(){return this._dir?this._dir.value:"ltr"}}]),t}();nt.\u0275fac=function(t){return new(t||nt)(d.ac(J),d.ac(d.ab),d.ac(d.fb),d.ac(tt),d.ac(p.b,8))},nt.\u0275dir=d.Vb({type:nt,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[d.Ob]}),nt.ctorParameters=function(){return[{type:J},{type:d.ab},{type:d.fb},{type:void 0,decorators:[{type:d.y,args:[tt]}]},{type:p.b,decorators:[{type:d.M}]}]},nt.propDecorators={origin:[{type:d.C,args:["cdkConnectedOverlayOrigin"]}],positions:[{type:d.C,args:["cdkConnectedOverlayPositions"]}],positionStrategy:[{type:d.C,args:["cdkConnectedOverlayPositionStrategy"]}],offsetX:[{type:d.C,args:["cdkConnectedOverlayOffsetX"]}],offsetY:[{type:d.C,args:["cdkConnectedOverlayOffsetY"]}],width:[{type:d.C,args:["cdkConnectedOverlayWidth"]}],height:[{type:d.C,args:["cdkConnectedOverlayHeight"]}],minWidth:[{type:d.C,args:["cdkConnectedOverlayMinWidth"]}],minHeight:[{type:d.C,args:["cdkConnectedOverlayMinHeight"]}],backdropClass:[{type:d.C,args:["cdkConnectedOverlayBackdropClass"]}],panelClass:[{type:d.C,args:["cdkConnectedOverlayPanelClass"]}],viewportMargin:[{type:d.C,args:["cdkConnectedOverlayViewportMargin"]}],scrollStrategy:[{type:d.C,args:["cdkConnectedOverlayScrollStrategy"]}],open:[{type:d.C,args:["cdkConnectedOverlayOpen"]}],transformOriginSelector:[{type:d.C,args:["cdkConnectedOverlayTransformOriginOn"]}],hasBackdrop:[{type:d.C,args:["cdkConnectedOverlayHasBackdrop"]}],lockPosition:[{type:d.C,args:["cdkConnectedOverlayLockPosition"]}],flexibleDimensions:[{type:d.C,args:["cdkConnectedOverlayFlexibleDimensions"]}],growAfterOpen:[{type:d.C,args:["cdkConnectedOverlayGrowAfterOpen"]}],push:[{type:d.C,args:["cdkConnectedOverlayPush"]}],backdropClick:[{type:d.N}],positionChange:[{type:d.N}],attach:[{type:d.N}],detach:[{type:d.N}],overlayKeydown:[{type:d.N}],overlayOutsideClick:[{type:d.N}]};var it={provide:tt,deps:[J],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},rt=function t(){Object(u.a)(this,t)};rt.\u0275mod=d.Yb({type:rt}),rt.\u0275inj=d.Xb({factory:function(t){return new(t||rt)},providers:[J,it],imports:[[p.a,g.e,h.c],h.c]});var at=function(t){Object(s.a)(n,t);var e=Object(c.a)(n);function n(t,i){return Object(u.a)(this,n),e.call(this,t,i)}return Object(l.a)(n,[{key:"ngOnDestroy",value:function(){Object(a.a)(Object(o.a)(n.prototype),"ngOnDestroy",this).call(this),this._fullScreenEventName&&this._fullScreenListener&&this._document.removeEventListener(this._fullScreenEventName,this._fullScreenListener)}},{key:"_createContainer",value:function(){var t=this;Object(a.a)(Object(o.a)(n.prototype),"_createContainer",this).call(this),this._adjustParentForFullscreenChange(),this._addFullscreenChangeListener((function(){return t._adjustParentForFullscreenChange()}))}},{key:"_adjustParentForFullscreenChange",value:function(){this._containerElement&&(this.getFullscreenElement()||this._document.body).appendChild(this._containerElement)}},{key:"_addFullscreenChangeListener",value:function(t){var e=this._getEventName();e&&(this._fullScreenListener&&this._document.removeEventListener(e,this._fullScreenListener),this._document.addEventListener(e,t),this._fullScreenListener=t)}},{key:"_getEventName",value:function(){if(!this._fullScreenEventName){var t=this._document;t.fullscreenEnabled?this._fullScreenEventName="fullscreenchange":t.webkitFullscreenEnabled?this._fullScreenEventName="webkitfullscreenchange":t.mozFullScreenEnabled?this._fullScreenEventName="mozfullscreenchange":t.msFullscreenEnabled&&(this._fullScreenEventName="MSFullscreenChange")}return this._fullScreenEventName}},{key:"getFullscreenElement",value:function(){var t=this._document;return t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement||null}}]),n}(z);at.\u0275fac=function(t){return new(t||at)(d.jc(v.d),d.jc(f.a))},at.\u0275prov=Object(d.Wb)({factory:function(){return new at(Object(d.jc)(v.d),Object(d.jc)(f.a))},token:at,providedIn:"root"}),at.ctorParameters=function(){return[{type:void 0,decorators:[{type:d.y,args:[v.d]}]},{type:f.a}]}},rePB:function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return i}))},s4An:function(t,e,n){"use strict";function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",(function(){return i}))},sVev:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}()},"tk/3":function(t,e,n){"use strict";n.d(e,"a",(function(){return j})),n.d(e,"b",(function(){return $}));var i=n("Ji7U"),r=n("LK+K"),a=n("ODXe"),o=n("KQm4"),s=n("vuIU"),c=n("1OyB"),u=n("fXoL"),l=n("LRne"),h=n("HDdC"),d=n("bOdf"),f=n("pLZG"),p=n("lJxs"),v=n("ofXK"),m=function t(){Object(c.a)(this,t)},g=function t(){Object(c.a)(this,t)},y=function(){function t(e){var n=this;Object(c.a)(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){n.headers=new Map,e.split("\n").forEach((function(t){var e=t.indexOf(":");if(e>0){var i=t.slice(0,e),r=i.toLowerCase(),a=t.slice(e+1).trim();n.maybeSetNormalizedName(i,r),n.headers.has(r)?n.headers.get(r).push(a):n.headers.set(r,[a])}}))}:function(){n.headers=new Map,Object.keys(e).forEach((function(t){var i=e[t],r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(n.headers.set(r,i),n.maybeSetNormalizedName(t,r))}))}:this.headers=new Map}return Object(s.a)(t,[{key:"has",value:function(t){return this.init(),this.headers.has(t.toLowerCase())}},{key:"get",value:function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(t){return this.init(),this.headers.get(t.toLowerCase())||null}},{key:"append",value:function(t,e){return this.clone({name:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({name:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({name:t,value:e,op:"d"})}},{key:"maybeSetNormalizedName",value:function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(t){return e.applyUpdate(t)})),this.lazyUpdate=null))}},{key:"copyFrom",value:function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach((function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))}))}},{key:"clone",value:function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var i=("a"===t.op?this.headers.get(e):void 0)||[];i.push.apply(i,Object(o.a)(n)),this.headers.set(e,i);break;case"d":var r=t.value;if(r){var a=this.headers.get(e);if(!a)return;0===(a=a.filter((function(t){return-1===r.indexOf(t)}))).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}},{key:"forEach",value:function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(n){return t(e.normalizedNames.get(n),e.headers.get(n))}))}}]),t}(),b=function(){function t(){Object(c.a)(this,t)}return Object(s.a)(t,[{key:"encodeKey",value:function(t){return w(t)}},{key:"encodeValue",value:function(t){return w(t)}},{key:"decodeKey",value:function(t){return decodeURIComponent(t)}},{key:"decodeValue",value:function(t){return decodeURIComponent(t)}}]),t}();function _(t,e){var n=new Map;t.length>0&&t.split("&").forEach((function(t){var i=t.indexOf("="),r=-1==i?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,i)),e.decodeValue(t.slice(i+1))],o=Object(a.a)(r,2),s=o[0],c=o[1],u=n.get(s)||[];u.push(c),n.set(s,u)}));return n}function w(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var x=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(c.a)(this,t),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new b,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=_(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach((function(t){var i=n.fromObject[t];e.map.set(t,Array.isArray(i)?i:[i])}))):this.map=null}return Object(s.a)(t,[{key:"has",value:function(t){return this.init(),this.map.has(t)}},{key:"get",value:function(t){this.init();var e=this.map.get(t);return e?e[0]:null}},{key:"getAll",value:function(t){return this.init(),this.map.get(t)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(t,e){return this.clone({param:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({param:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({param:t,value:e,op:"d"})}},{key:"toString",value:function(){var t=this;return this.init(),this.keys().map((function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map((function(e){return n+"="+t.encoder.encodeValue(e)})).join("&")})).filter((function(t){return""!==t})).join("&")}},{key:"clone",value:function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([e]),n}},{key:"init",value:function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(e){return t.map.set(e,t.cloneFrom.map.get(e))})),this.updates.forEach((function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var i=t.map.get(e.param)||[],r=i.indexOf(e.value);-1!==r&&i.splice(r,1),i.length>0?t.map.set(e.param,i):t.map.delete(e.param)}})),this.cloneFrom=this.updates=null)}}]),t}();function k(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function O(t){return"undefined"!=typeof Blob&&t instanceof Blob}function S(t){return"undefined"!=typeof FormData&&t instanceof FormData}var C,A=function(){function t(e,n,i,r){var a;if(Object(c.a)(this,t),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.params&&(this.params=a.params)),this.headers||(this.headers=new y),this.params){var o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{var s=n.indexOf("?"),u=-1===s?"?":s<n.length-1?"&":"";this.urlWithParams=n+u+o}}else this.params=new x,this.urlWithParams=n}return Object(s.a)(t,[{key:"serializeBody",value:function(){return null===this.body?null:k(this.body)||O(this.body)||S(this.body)||"string"==typeof this.body?this.body:this.body instanceof x?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||S(this.body)?null:O(this.body)?this.body.type||null:k(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof x?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,c=e.headers||this.headers,u=e.params||this.params;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((function(t,n){return t.set(n,e.setHeaders[n])}),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((function(t,n){return t.set(n,e.setParams[n])}),u)),new t(n,i,a,{params:u,headers:c,reportProgress:s,responseType:r,withCredentials:o})}}]),t}();!function(t){t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User"}(C||(C={}));var M=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";Object(c.a)(this,t),this.headers=e.headers||new y,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300},T=function(t){Object(i.a)(n,t);var e=Object(r.a)(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(c.a)(this,n),(t=e.call(this,i)).type=C.ResponseHeader,t}return Object(s.a)(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(M),E=function(t){Object(i.a)(n,t);var e=Object(r.a)(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(c.a)(this,n),(t=e.call(this,i)).type=C.Response,t.body=void 0!==i.body?i.body:null,t}return Object(s.a)(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(M),P=function(t){Object(i.a)(n,t);var e=Object(r.a)(n);function n(t){var i;return Object(c.a)(this,n),(i=e.call(this,t,0,"Unknown Error")).name="HttpErrorResponse",i.ok=!1,i.status>=200&&i.status<300?i.message="Http failure during parsing for ".concat(t.url||"(unknown url)"):i.message="Http failure response for ".concat(t.url||"(unknown url)",": ").concat(t.status," ").concat(t.statusText),i.error=t.error||null,i}return n}(M);function D(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var j=function(){function t(e){Object(c.a)(this,t),this.handler=e}return Object(s.a)(t,[{key:"request",value:function(t,e){var n,i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t instanceof A)n=t;else{var a=void 0;a=r.headers instanceof y?r.headers:new y(r.headers);var o=void 0;r.params&&(o=r.params instanceof x?r.params:new x({fromObject:r.params})),n=new A(t,e,void 0!==r.body?r.body:null,{headers:a,params:o,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}var s=Object(l.a)(n).pipe(Object(d.a)((function(t){return i.handler.handle(t)})));if(t instanceof A||"events"===r.observe)return s;var c=s.pipe(Object(f.a)((function(t){return t instanceof E})));switch(r.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return c.pipe(Object(p.a)((function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body})));case"blob":return c.pipe(Object(p.a)((function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body})));case"text":return c.pipe(Object(p.a)((function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body})));case"json":default:return c.pipe(Object(p.a)((function(t){return t.body})))}case"response":return c;default:throw new Error("Unreachable: unhandled observe type ".concat(r.observe,"}"))}}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",t,e)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",t,e)}},{key:"head",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",t,e)}},{key:"jsonp",value:function(t,e){return this.request("JSONP",t,{params:(new x).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",t,e)}},{key:"patch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",t,D(n,e))}},{key:"post",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",t,D(n,e))}},{key:"put",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",t,D(n,e))}}]),t}();j.\u0275fac=function(t){return new(t||j)(u.jc(m))},j.\u0275prov=u.Wb({token:j,factory:j.\u0275fac}),j.ctorParameters=function(){return[{type:m}]};var R=function(){function t(e,n){Object(c.a)(this,t),this.next=e,this.interceptor=n}return Object(s.a)(t,[{key:"handle",value:function(t){return this.interceptor.intercept(t,this.next)}}]),t}(),I=new u.A("HTTP_INTERCEPTORS"),L=function(){function t(){Object(c.a)(this,t)}return Object(s.a)(t,[{key:"intercept",value:function(t,e){return e.handle(t)}}]),t}();L.\u0275fac=function(t){return new(t||L)},L.\u0275prov=u.Wb({token:L,factory:L.\u0275fac});var N=0,F=function t(){Object(c.a)(this,t)},B=function(){function t(e,n){Object(c.a)(this,t),this.callbackMap=e,this.document=n}return Object(s.a)(t,[{key:"nextCallback",value:function(){return"ng_jsonp_callback_".concat(N++)}},{key:"handle",value:function(t){var e=this;if("JSONP"!==t.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==t.responseType)throw new Error("JSONP requests must use Json response type.");return new h.a((function(n){var i=e.nextCallback(),r=t.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,"=".concat(i,"$1")),a=e.document.createElement("script");a.src=r;var o=null,s=!1,c=!1;e.callbackMap[i]=function(t){delete e.callbackMap[i],c||(o=t,s=!0)};var u=function(){a.parentNode&&a.parentNode.removeChild(a),delete e.callbackMap[i]},l=function(t){c||(u(),s?(n.next(new E({body:o,status:200,statusText:"OK",url:r})),n.complete()):n.error(new P({url:r,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")})))},h=function(t){c||(u(),n.error(new P({error:t,status:0,statusText:"JSONP Error",url:r})))};return a.addEventListener("load",l),a.addEventListener("error",h),e.document.body.appendChild(a),n.next({type:C.Sent}),function(){c=!0,a.removeEventListener("load",l),a.removeEventListener("error",h),u()}}))}}]),t}();B.\u0275fac=function(t){return new(t||B)(u.jc(F),u.jc(v.d))},B.\u0275prov=u.Wb({token:B,factory:B.\u0275fac}),B.ctorParameters=function(){return[{type:F},{type:void 0,decorators:[{type:u.y,args:[v.d]}]}]};var z=function(){function t(e){Object(c.a)(this,t),this.jsonp=e}return Object(s.a)(t,[{key:"intercept",value:function(t,e){return"JSONP"===t.method?this.jsonp.handle(t):e.handle(t)}}]),t}();z.\u0275fac=function(t){return new(t||z)(u.jc(B))},z.\u0275prov=u.Wb({token:z,factory:z.\u0275fac}),z.ctorParameters=function(){return[{type:B}]};var U=/^\)\]\}',?\n/;var H=function t(){Object(c.a)(this,t)},V=function(){function t(){Object(c.a)(this,t)}return Object(s.a)(t,[{key:"build",value:function(){return new XMLHttpRequest}}]),t}();V.\u0275fac=function(t){return new(t||V)},V.\u0275prov=u.Wb({token:V,factory:V.\u0275fac}),V.ctorParameters=function(){return[]};var G=function(){function t(e){Object(c.a)(this,t),this.xhrFactory=e}return Object(s.a)(t,[{key:"handle",value:function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new h.a((function(n){var i=e.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((function(t,e){return i.setRequestHeader(t,e.join(","))})),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var r=t.detectContentTypeHeader();null!==r&&i.setRequestHeader("Content-Type",r)}if(t.responseType){var a=t.responseType.toLowerCase();i.responseType="json"!==a?a:"text"}var o=t.serializeBody(),s=null,c=function(){if(null!==s)return s;var e=1223===i.status?204:i.status,n=i.statusText||"OK",r=new y(i.getAllResponseHeaders()),a=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(i)||t.url;return s=new T({headers:r,status:e,statusText:n,url:a})},u=function(){var e=c(),r=e.headers,a=e.status,o=e.statusText,s=e.url,u=null;204!==a&&(u=void 0===i.response?i.responseText:i.response),0===a&&(a=u?200:0);var l=a>=200&&a<300;if("json"===t.responseType&&"string"==typeof u){var h=u;u=u.replace(U,"");try{u=""!==u?JSON.parse(u):null}catch(d){u=h,l&&(l=!1,u={error:d,text:u})}}l?(n.next(new E({body:u,headers:r,status:a,statusText:o,url:s||void 0})),n.complete()):n.error(new P({error:u,headers:r,status:a,statusText:o,url:s||void 0}))},l=function(t){var e=c().url,r=new P({error:t,status:i.status||0,statusText:i.statusText||"Unknown Error",url:e||void 0});n.error(r)},h=!1,d=function(e){h||(n.next(c()),h=!0);var r={type:C.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(r.total=e.total),"text"===t.responseType&&i.responseText&&(r.partialText=i.responseText),n.next(r)},f=function(t){var e={type:C.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return i.addEventListener("load",u),i.addEventListener("error",l),t.reportProgress&&(i.addEventListener("progress",d),null!==o&&i.upload&&i.upload.addEventListener("progress",f)),i.send(o),n.next({type:C.Sent}),function(){i.removeEventListener("error",l),i.removeEventListener("load",u),t.reportProgress&&(i.removeEventListener("progress",d),null!==o&&i.upload&&i.upload.removeEventListener("progress",f)),i.readyState!==i.DONE&&i.abort()}}))}}]),t}();G.\u0275fac=function(t){return new(t||G)(u.jc(H))},G.\u0275prov=u.Wb({token:G,factory:G.\u0275fac}),G.ctorParameters=function(){return[{type:H}]};var W=new u.A("XSRF_COOKIE_NAME"),X=new u.A("XSRF_HEADER_NAME"),q=function t(){Object(c.a)(this,t)},Y=function(){function t(e,n,i){Object(c.a)(this,t),this.doc=e,this.platform=n,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return Object(s.a)(t,[{key:"getToken",value:function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(v.v)(t,this.cookieName),this.lastCookieString=t),this.lastToken}}]),t}();Y.\u0275fac=function(t){return new(t||Y)(u.jc(v.d),u.jc(u.O),u.jc(W))},Y.\u0275prov=u.Wb({token:Y,factory:Y.\u0275fac}),Y.ctorParameters=function(){return[{type:void 0,decorators:[{type:u.y,args:[v.d]}]},{type:String,decorators:[{type:u.y,args:[u.O]}]},{type:String,decorators:[{type:u.y,args:[W]}]}]};var Q=function(){function t(e,n){Object(c.a)(this,t),this.tokenService=e,this.headerName=n}return Object(s.a)(t,[{key:"intercept",value:function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)}}]),t}();Q.\u0275fac=function(t){return new(t||Q)(u.jc(q),u.jc(X))},Q.\u0275prov=u.Wb({token:Q,factory:Q.\u0275fac}),Q.ctorParameters=function(){return[{type:q},{type:String,decorators:[{type:u.y,args:[X]}]}]};var K=function(){function t(e,n){Object(c.a)(this,t),this.backend=e,this.injector=n,this.chain=null}return Object(s.a)(t,[{key:"handle",value:function(t){if(null===this.chain){var e=this.injector.get(I,[]);this.chain=e.reduceRight((function(t,e){return new R(t,e)}),this.backend)}return this.chain.handle(t)}}]),t}();function Z(){return"object"==typeof window?window:{}}K.\u0275fac=function(t){return new(t||K)(u.jc(g),u.jc(u.B))},K.\u0275prov=u.Wb({token:K,factory:K.\u0275fac}),K.ctorParameters=function(){return[{type:g},{type:u.B}]};var J=function(){function t(){Object(c.a)(this,t)}return Object(s.a)(t,null,[{key:"disable",value:function(){return{ngModule:t,providers:[{provide:Q,useClass:L}]}}},{key:"withOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.cookieName?{provide:W,useValue:e.cookieName}:[],e.headerName?{provide:X,useValue:e.headerName}:[]]}}}]),t}();J.\u0275mod=u.Yb({type:J}),J.\u0275inj=u.Xb({factory:function(t){return new(t||J)},providers:[Q,{provide:I,useExisting:Q,multi:!0},{provide:q,useClass:Y},{provide:W,useValue:"XSRF-TOKEN"},{provide:X,useValue:"X-XSRF-TOKEN"}]});var $=function t(){Object(c.a)(this,t)};$.\u0275mod=u.Yb({type:$}),$.\u0275inj=u.Xb({factory:function(t){return new(t||$)},providers:[j,{provide:m,useClass:K},G,{provide:g,useExisting:G},V,{provide:H,useExisting:V}],imports:[[J.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]});var tt=function t(){Object(c.a)(this,t)};tt.\u0275mod=u.Yb({type:tt}),tt.\u0275inj=u.Xb({factory:function(t){return new(t||tt)},providers:[B,{provide:F,useFactory:Z},{provide:I,useClass:z,multi:!0}]})},tyNb:function(t,e,n){"use strict";n.d(e,"a",(function(){return Qt})),n.d(e,"b",(function(){return q})),n.d(e,"c",(function(){return _n})),n.d(e,"d",(function(){return Nn})),n.d(e,"e",(function(){return Cn}));var i=n("rePB"),r=n("JX7q"),a=n("uFwe"),o=n("KQm4"),s=n("vuIU"),c=n("Ji7U"),u=n("LK+K"),l=n("1OyB"),h=n("ofXK"),d=n("fXoL"),f=n("LRne"),p=n("Cfvw"),v=n("2Vo4"),m=n("itXk"),g=n("HDdC"),y=n("sVev"),b=n("NXyV"),_=n("EY2u"),w=n("XNiG"),x=n("lJxs"),k=n("0EUg"),O=n("pLZG"),S=n("7o/Q"),C=n("4I5i");function A(t){return function(e){return 0===t?Object(_.b)():e.lift(new M(t))}}var M=function(){function t(e){if(Object(l.a)(this,t),this.total=e,this.total<0)throw new C.a}return Object(s.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new T(t,this.total))}}]),t}(),T=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t,i){var r;return Object(l.a)(this,n),(r=e.call(this,t)).total=i,r.ring=new Array,r.count=0,r}return Object(s.a)(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,i=this.ring,r=0;r<n;r++){var a=e++%n;t.next(i[a])}t.complete()}}]),n}(S.a),E=n("XDbj"),P=n("xbPD"),D=n("SpAZ");var j=n("eIep"),R=n("IzEk"),I=n("JX91");var L=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(l.a)(this,t),this.accumulator=e,this.seed=n,this.hasSeed=i}return Object(s.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new N(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),N=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t,i,r,a){var o;return Object(l.a)(this,n),(o=e.call(this,t)).accumulator=i,o._seed=r,o.hasSeed=a,o.index=0,o}return Object(s.a)(n,[{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(i){this.destination.error(i)}this.seed=e,this.destination.next(e)}},{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}}]),n}(S.a),F=n("JIr8"),B=n("bOdf"),z=n("SxV6"),U=n("5+tZ"),H=n("vkgz"),V=n("nYR2"),G=n("bHdf"),W=function t(e,n){Object(l.a)(this,t),this.id=e,this.url=n},X=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t,i){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Object(l.a)(this,n),(r=e.call(this,t,i)).navigationTrigger=a,r.restoredState=o,r}return Object(s.a)(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(W),q=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t,i,r){var a;return Object(l.a)(this,n),(a=e.call(this,t,i)).urlAfterRedirects=r,a}return Object(s.a)(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(W),Y=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t,i,r){var a;return Object(l.a)(this,n),(a=e.call(this,t,i)).reason=r,a}return Object(s.a)(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(W),Q=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t,i,r){var a;return Object(l.a)(this,n),(a=e.call(this,t,i)).error=r,a}return Object(s.a)(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(W),K=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t,i,r,a){var o;return Object(l.a)(this,n),(o=e.call(this,t,i)).urlAfterRedirects=r,o.state=a,o}return Object(s.a)(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(W),Z=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t,i,r,a){var o;return Object(l.a)(this,n),(o=e.call(this,t,i)).urlAfterRedirects=r,o.state=a,o}return Object(s.a)(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(W),J=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t,i,r,a,o){var s;return Object(l.a)(this,n),(s=e.call(this,t,i)).urlAfterRedirects=r,s.state=a,s.shouldActivate=o,s}return Object(s.a)(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(W),$=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t,i,r,a){var o;return Object(l.a)(this,n),(o=e.call(this,t,i)).urlAfterRedirects=r,o.state=a,o}return Object(s.a)(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(W),tt=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t,i,r,a){var o;return Object(l.a)(this,n),(o=e.call(this,t,i)).urlAfterRedirects=r,o.state=a,o}return Object(s.a)(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(W),et=function(){function t(e){Object(l.a)(this,t),this.route=e}return Object(s.a)(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),nt=function(){function t(e){Object(l.a)(this,t),this.route=e}return Object(s.a)(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),it=function(){function t(e){Object(l.a)(this,t),this.snapshot=e}return Object(s.a)(t,[{key:"toString",value:function(){var t=this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"";return"ChildActivationStart(path: '".concat(t,"')")}}]),t}(),rt=function(){function t(e){Object(l.a)(this,t),this.snapshot=e}return Object(s.a)(t,[{key:"toString",value:function(){var t=this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"";return"ChildActivationEnd(path: '".concat(t,"')")}}]),t}(),at=function(){function t(e){Object(l.a)(this,t),this.snapshot=e}return Object(s.a)(t,[{key:"toString",value:function(){var t=this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"";return"ActivationStart(path: '".concat(t,"')")}}]),t}(),ot=function(){function t(e){Object(l.a)(this,t),this.snapshot=e}return Object(s.a)(t,[{key:"toString",value:function(){var t=this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"";return"ActivationEnd(path: '".concat(t,"')")}}]),t}(),st=function(){function t(e,n,i){Object(l.a)(this,t),this.routerEvent=e,this.position=n,this.anchor=i}return Object(s.a)(t,[{key:"toString",value:function(){var t=this.position?"".concat(this.position[0],", ").concat(this.position[1]):null;return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(t,"')")}}]),t}(),ct="primary",ut=function(){function t(e){Object(l.a)(this,t),this.params=e||{}}return Object(s.a)(t,[{key:"has",value:function(t){return Object.prototype.hasOwnProperty.call(this.params,t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function lt(t){return new ut(t)}function ht(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function dt(t,e,n){var i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;for(var r={},a=0;a<i.length;a++){var o=i[a],s=t[a];if(o.startsWith(":"))r[o.substring(1)]=s;else if(o!==s.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function ft(t,e){var n,i=Object.keys(t),r=Object.keys(e);if(!i||!r||i.length!=r.length)return!1;for(var a=0;a<i.length;a++)if(!pt(t[n=i[a]],e[n]))return!1;return!0}function pt(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;var n=Object(o.a)(t).sort(),i=Object(o.a)(e).sort();return n.every((function(t,e){return i[e]===t}))}return t===e}function vt(t){return Array.prototype.concat.apply([],t)}function mt(t){return t.length>0?t[t.length-1]:null}function gt(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function yt(t,e){if(0===Object.keys(t).length)return Object(f.a)({});var n=[],i=[],r={};return gt(t,(function(t,a){var o=e(a,t).pipe(Object(x.a)((function(t){return r[a]=t})));a===ct?n.push(o):i.push(o)})),f.a.apply(null,n.concat(i)).pipe(Object(k.a)(),function(t,e){var n=arguments.length>=2;return function(i){return i.pipe(t?Object(O.a)((function(e,n){return t(e,n,i)})):D.a,A(1),n?Object(P.a)(e):Object(E.a)((function(){return new y.a})))}}(),Object(x.a)((function(){return r})))}function bt(t){return Object(d.Gb)(t)?t:Object(d.Hb)(t)?Object(p.a)(Promise.resolve(t)):Object(f.a)(t)}function _t(t,e,n){return n?function(t,e){return ft(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!St(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every((function(n){return pt(t[n],e[n])}))}(t.queryParams,e.queryParams)&&wt(t.root,e.root)}function wt(t,e){return function t(e,n,i){if(e.segments.length>i.length)return!!St(e.segments.slice(0,i.length),i)&&!n.hasChildren();if(e.segments.length===i.length){if(!St(e.segments,i))return!1;for(var r in n.children){if(!e.children[r])return!1;if(!wt(e.children[r],n.children[r]))return!1}return!0}var a=i.slice(0,e.segments.length),o=i.slice(e.segments.length);return!!St(e.segments,a)&&(!!e.children.primary&&t(e.children.primary,n,o))}(t,e,e.segments)}var xt=function(){function t(e,n,i){Object(l.a)(this,t),this.root=e,this.queryParams=n,this.fragment=i}return Object(s.a)(t,[{key:"toString",value:function(){return Tt.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=lt(this.queryParams)),this._queryParamMap}}]),t}(),kt=function(){function t(e,n){var i=this;Object(l.a)(this,t),this.segments=e,this.children=n,this.parent=null,gt(n,(function(t,e){return t.parent=i}))}return Object(s.a)(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return Et(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),t}(),Ot=function(){function t(e,n){Object(l.a)(this,t),this.path=e,this.parameters=n}return Object(s.a)(t,[{key:"toString",value:function(){return Lt(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=lt(this.parameters)),this._parameterMap}}]),t}();function St(t,e){return t.length===e.length&&t.every((function(t,n){return t.path===e[n].path}))}function Ct(t,e){var n=[];return gt(t.children,(function(t,i){i===ct&&(n=n.concat(e(t,i)))})),gt(t.children,(function(t,i){i!==ct&&(n=n.concat(e(t,i)))})),n}var At=function t(){Object(l.a)(this,t)},Mt=function(){function t(){Object(l.a)(this,t)}return Object(s.a)(t,[{key:"parse",value:function(t){var e=new Ut(t);return new xt(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){var e,n,i,r="/".concat(function t(e,n){if(!e.hasChildren())return Et(e);if(n){var i=e.children.primary?t(e.children.primary,!1):"",r=[];return gt(e.children,(function(e,n){n!==ct&&r.push("".concat(n,":").concat(t(e,!1)))})),r.length>0?"".concat(i,"(").concat(r.join("//"),")"):i}var a=Ct(e,(function(n,i){return i===ct?[t(e.children.primary,!1)]:["".concat(i,":").concat(t(n,!1))]}));return 1===Object.keys(e.children).length&&null!=e.children.primary?"".concat(Et(e),"/").concat(a[0]):"".concat(Et(e),"/(").concat(a.join("//"),")")}(t.root,!0)),a=(e=t.queryParams,(n=Object.keys(e).map((function(t){var n=e[t];return Array.isArray(n)?n.map((function(e){return"".concat(Dt(t),"=").concat(Dt(e))})).join("&"):"".concat(Dt(t),"=").concat(Dt(n))}))).length?"?".concat(n.join("&")):""),o="string"==typeof t.fragment?"#".concat((i=t.fragment,encodeURI(i))):"";return"".concat(r).concat(a).concat(o)}}]),t}(),Tt=new Mt;function Et(t){return t.segments.map((function(t){return Lt(t)})).join("/")}function Pt(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dt(t){return Pt(t).replace(/%3B/gi,";")}function jt(t){return Pt(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rt(t){return decodeURIComponent(t)}function It(t){return Rt(t.replace(/\+/g,"%20"))}function Lt(t){return"".concat(jt(t.path)).concat((e=t.parameters,Object.keys(e).map((function(t){return";".concat(jt(t),"=").concat(jt(e[t]))})).join("")));var e}var Nt=/^[^\/()?;=#]+/;function Ft(t){var e=t.match(Nt);return e?e[0]:""}var Bt=/^[^=?&#]+/;var zt=/^[^?&#]+/;var Ut=function(){function t(e){Object(l.a)(this,t),this.url=e,this.remaining=e}return Object(s.a)(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new kt([],{}):new kt([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new kt(t,e)),n}},{key:"parseSegment",value:function(){var t=Ft(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new Ot(Rt(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=Ft(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var i=Ft(this.remaining);i&&(n=i,this.capture(n))}t[Rt(e)]=Rt(n)}}},{key:"parseQueryParam",value:function(t){var e,n,i=(e=this.remaining,(n=e.match(Bt))?n[0]:"");if(i){this.capture(i);var r="";if(this.consumeOptional("=")){var a=function(t){var e=t.match(zt);return e?e[0]:""}(this.remaining);a&&(r=a,this.capture(r))}var o=It(i),s=It(r);if(t.hasOwnProperty(o)){var c=t[o];Array.isArray(c)||(c=[c],t[o]=c),c.push(s)}else t[o]=s}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Ft(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error("Cannot parse url '".concat(this.url,"'"));var r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=ct);var a=this.parseChildren();e[r]=1===Object.keys(a).length?a.primary:new kt([],a),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),Ht=function(){function t(e){Object(l.a)(this,t),this._root=e}return Object(s.a)(t,[{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=Vt(t,this._root);return e?e.children.map((function(t){return t.value})):[]}},{key:"firstChild",value:function(t){var e=Vt(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=Gt(t,this._root);return e.length<2?[]:e[e.length-2].children.map((function(t){return t.value})).filter((function(e){return e!==t}))}},{key:"pathFromRoot",value:function(t){return Gt(t,this._root).map((function(t){return t.value}))}},{key:"root",get:function(){return this._root.value}}]),t}();function Vt(t,e){if(t===e.value)return e;var n,i=Object(a.a)(e.children);try{for(i.s();!(n=i.n()).done;){var r=Vt(t,n.value);if(r)return r}}catch(o){i.e(o)}finally{i.f()}return null}function Gt(t,e){if(t===e.value)return[e];var n,i=Object(a.a)(e.children);try{for(i.s();!(n=i.n()).done;){var r=Gt(t,n.value);if(r.length)return r.unshift(e),r}}catch(o){i.e(o)}finally{i.f()}return[]}var Wt=function(){function t(e,n){Object(l.a)(this,t),this.value=e,this.children=n}return Object(s.a)(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function Xt(t){var e={};return t&&t.children.forEach((function(t){return e[t.value.outlet]=t})),e}var qt=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t,i){var a;return Object(l.a)(this,n),(a=e.call(this,t)).snapshot=i,te(Object(r.a)(a),t),a}return Object(s.a)(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Ht);function Yt(t,e){var n=function(t,e){var n=new Jt([],{},{},"",{},ct,e,null,t.root,-1,{});return new $t("",new Wt(n,[]))}(t,e),i=new v.a([new Ot("",{})]),r=new v.a({}),a=new v.a({}),o=new v.a({}),s=new v.a(""),c=new Qt(i,r,o,s,a,ct,e,n.root);return c.snapshot=n.root,new qt(new Wt(c,[]),n)}var Qt=function(){function t(e,n,i,r,a,o,s,c){Object(l.a)(this,t),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=o,this.component=s,this._futureSnapshot=c}return Object(s.a)(t,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(x.a)((function(t){return lt(t)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(x.a)((function(t){return lt(t)})))),this._queryParamMap}}]),t}();function Kt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,i=0;if("always"!==e)for(i=n.length-1;i>=1;){var r=n[i],a=n[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return Zt(n.slice(i))}function Zt(t){return t.reduce((function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}}),{params:{},data:{},resolve:{}})}var Jt=function(){function t(e,n,i,r,a,o,s,c,u,h,d){Object(l.a)(this,t),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=o,this.component=s,this.routeConfig=c,this._urlSegment=u,this._lastPathIndex=h,this._resolve=d}return Object(s.a)(t,[{key:"toString",value:function(){var t=this.url.map((function(t){return t.toString()})).join("/"),e=this.routeConfig?this.routeConfig.path:"";return"Route(url:'".concat(t,"', path:'").concat(e,"')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=lt(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=lt(this.queryParams)),this._queryParamMap}}]),t}(),$t=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t,i){var a;return Object(l.a)(this,n),(a=e.call(this,i)).url=t,te(Object(r.a)(a),i),a}return Object(s.a)(n,[{key:"toString",value:function(){return ee(this._root)}}]),n}(Ht);function te(t,e){e.value._routerState=t,e.children.forEach((function(e){return te(t,e)}))}function ee(t){var e=t.children.length>0?" { ".concat(t.children.map(ee).join(", ")," } "):"";return"".concat(t.value).concat(e)}function ne(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ft(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),ft(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!ft(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),ft(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ie(t,e){var n,i,r=ft(t.params,e.params)&&(n=t.url,i=e.url,St(n,i)&&n.every((function(t,e){return ft(t.parameters,i[e].parameters)}))),a=!t.parent!=!e.parent;return r&&!a&&(!t.parent||ie(t.parent,e.parent))}function re(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){var i=n.value;i._futureSnapshot=e.value;var r=function(t,e,n){return e.children.map((function(e){var i,r=Object(a.a)(n.children);try{for(r.s();!(i=r.n()).done;){var o=i.value;if(t.shouldReuseRoute(o.value.snapshot,e.value))return re(t,e,o)}}catch(s){r.e(s)}finally{r.f()}return re(t,e)}))}(t,e,n);return new Wt(i,r)}var o=t.retrieve(e.value);if(o){var s=o.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var i=0;i<e.children.length;++i)t(e.children[i],n.children[i])}(e,s),s}var c,u=(c=e.value,new Qt(new v.a(c.url),new v.a(c.params),new v.a(c.queryParams),new v.a(c.fragment),new v.a(c.data),c.outlet,c.component,c)),l=e.children.map((function(e){return re(t,e)}));return new Wt(u,l)}function ae(t,e,n,i,r){if(0===n.length)return se(e.root,e.root,e,i,r);var a=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ce(!0,0,t);var e=0,n=!1,i=t.reduce((function(t,i,r){if("object"==typeof i&&null!=i){if(i.outlets){var a={};return gt(i.outlets,(function(t,e){a[e]="string"==typeof t?t.split("/"):t})),[].concat(Object(o.a)(t),[{outlets:a}])}if(i.segmentPath)return[].concat(Object(o.a)(t),[i.segmentPath])}return"string"!=typeof i?[].concat(Object(o.a)(t),[i]):0===r?(i.split("/").forEach((function(i,r){0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))})),t):[].concat(Object(o.a)(t),[i])}),[]);return new ce(n,e,i)}(n);if(a.toRoot())return se(e.root,new kt([],{}),e,i,r);var s=function(t,e,n){if(t.isAbsolute)return new ue(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){var i=n.snapshot._urlSegment,r=i===e.root;return new ue(i,r,0)}var a=oe(t.commands[0])?0:1,o=n.snapshot._lastPathIndex+a;return function(t,e,n){var i=t,r=e,a=n;for(;a>r;){if(a-=r,!(i=i.parent))throw new Error("Invalid number of '../'");r=i.segments.length}return new ue(i,!1,r-a)}(n.snapshot._urlSegment,o,t.numberOfDoubleDots)}(a,e,t),c=s.processChildren?de(s.segmentGroup,s.index,a.commands):he(s.segmentGroup,s.index,a.commands);return se(s.segmentGroup,c,e,i,r)}function oe(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function se(t,e,n,i,r){var a={};return i&&gt(i,(function(t,e){a[e]=Array.isArray(t)?t.map((function(t){return"".concat(t)})):"".concat(t)})),n.root===t?new xt(e,a,r):new xt(function t(e,n,i){var r={};return gt(e.children,(function(e,a){r[a]=e===n?i:t(e,n,i)})),new kt(e.segments,r)}(n.root,t,e),a,r)}var ce=function(){function t(e,n,i){if(Object(l.a)(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&oe(i[0]))throw new Error("Root segment cannot have matrix parameters");var r=i.find((function(t){return"object"==typeof t&&null!=t&&t.outlets}));if(r&&r!==mt(i))throw new Error("{outlets:{}} has to be the last command")}return Object(s.a)(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}();var ue=function t(e,n,i){Object(l.a)(this,t),this.segmentGroup=e,this.processChildren=n,this.index=i};function le(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:"".concat(t)}function he(t,e,n){if(t||(t=new kt([],{})),0===t.segments.length&&t.hasChildren())return de(t,e,n);var i=function(t,e,n){var i=0,r=e,a={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return a;var o=t.segments[r],s=le(n[i]),c=i<n.length-1?n[i+1]:null;if(r>0&&void 0===s)break;if(s&&c&&"object"==typeof c&&void 0===c.outlets){if(!me(s,c,o))return a;i+=2}else{if(!me(s,{},o))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){var a=new kt(t.segments.slice(0,i.pathIndex),{});return a.children.primary=new kt(t.segments.slice(i.pathIndex),t.children),de(a,0,r)}return i.match&&0===r.length?new kt(t.segments,{}):i.match&&!t.hasChildren()?fe(t,e,n):i.match?de(t,0,r):fe(t,e,n)}function de(t,e,n){if(0===n.length)return new kt(t.segments,{});var r=function(t){return"object"==typeof t[0]&&null!==t[0]&&t[0].outlets?t[0].outlets:Object(i.a)({},ct,t)}(n),a={};return gt(r,(function(n,i){null!==n&&(a[i]=he(t.children[i],e,n))})),gt(t.children,(function(t,e){void 0===r[e]&&(a[e]=t)})),new kt(t.segments,a)}function fe(t,e,n){for(var i=t.segments.slice(0,e),r=0;r<n.length;){if("object"==typeof n[r]&&null!==n[r]&&void 0!==n[r].outlets){var a=pe(n[r].outlets);return new kt(i,a)}if(0===r&&oe(n[0])){var o=t.segments[e];i.push(new Ot(o.path,n[0])),r++}else{var s=le(n[r]),c=r<n.length-1?n[r+1]:null;s&&c&&oe(c)?(i.push(new Ot(s,ve(c))),r+=2):(i.push(new Ot(s,{})),r++)}}return new kt(i,{})}function pe(t){var e={};return gt(t,(function(t,n){null!==t&&(e[n]=fe(new kt([],{}),0,t))})),e}function ve(t){var e={};return gt(t,(function(t,n){return e[n]="".concat(t)})),e}function me(t,e,n){return t==n.path&&ft(e,n.parameters)}var ge=function(){function t(e,n,i,r){Object(l.a)(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r}return Object(s.a)(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),ne(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var i=this,r=Xt(e);t.children.forEach((function(t){var e=t.value.outlet;i.deactivateRoutes(t,r[e],n),delete r[e]})),gt(r,(function(t,e){i.deactivateRouteAndItsChildren(t,n)}))}},{key:"deactivateRoutes",value:function(t,e,n){var i=t.value,r=e?e.value:null;if(i===r)if(i.component){var a=n.getContext(i.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var i=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:i,route:t,contexts:r})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){var n=this,i=e.getContext(t.value.outlet);if(i){var r=Xt(t),a=t.value.component?i.children:e;gt(r,(function(t,e){return n.deactivateRouteAndItsChildren(t,a)})),i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(t,e,n){var i=this,r=Xt(e);t.children.forEach((function(t){i.activateRoutes(t,r[t.value.outlet],n),i.forwardEvent(new ot(t.value.snapshot))})),t.children.length&&this.forwardEvent(new rt(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var i=t.value,r=e?e.value:null;if(ne(i),i===r)if(i.component){var a=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,n);else if(i.component){var o=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){var s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(s.contexts),o.attachRef=s.componentRef,o.route=s.route.value,o.outlet&&o.outlet.attach(s.componentRef,s.route.value),ye(s.route)}else{var c=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),u=c?c.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function ye(t){ne(t.value),t.children.forEach(ye)}var be=function t(e,n){Object(l.a)(this,t),this.routes=e,this.module=n};function _e(t){return"function"==typeof t}function we(t){return t instanceof xt}var xe=Symbol("INITIAL_VALUE");function ke(){return Object(j.a)((function(t){return m.a.apply(void 0,Object(o.a)(t.map((function(t){return t.pipe(Object(R.a)(1),Object(I.a)(xe))})))).pipe(function(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new L(t,e,n))}}((function(t,e){var n=!1;return e.reduce((function(t,i,r){if(t!==xe)return t;if(i===xe&&(n=!0),!n){if(!1===i)return i;if(r===e.length-1||we(i))return i}return t}),t)}),xe),Object(O.a)((function(t){return t!==xe})),Object(x.a)((function(t){return we(t)?t:!0===t})),Object(R.a)(1))}))}var Oe=function t(e){Object(l.a)(this,t),this.segmentGroup=e||null},Se=function t(e){Object(l.a)(this,t),this.urlTree=e};function Ce(t){return new g.a((function(e){return e.error(new Oe(t))}))}function Ae(t){return new g.a((function(e){return e.error(new Se(t))}))}function Me(t){return new g.a((function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))}))}var Te=function(){function t(e,n,i,r,a){Object(l.a)(this,t),this.configLoader=n,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(d.J)}return Object(s.a)(t,[{key:"apply",value:function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,ct).pipe(Object(x.a)((function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)}))).pipe(Object(F.a)((function(e){if(e instanceof Se)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof Oe)throw t.noMatchError(e);throw e})))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,ct).pipe(Object(x.a)((function(n){return e.createUrlTree(n,t.queryParams,t.fragment)}))).pipe(Object(F.a)((function(t){if(t instanceof Oe)throw e.noMatchError(t);throw t})))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var r=t.segments.length>0?new kt([],Object(i.a)({},ct,t)):t;return new xt(r,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(x.a)((function(t){return new kt([],t)}))):this.expandSegment(t,n,e,n.segments,i,!0)}},{key:"expandChildren",value:function(t,e,n){var i=this;return yt(n.children,(function(n,r){return i.expandSegmentGroup(t,e,r,n)}))}},{key:"expandSegment",value:function(t,e,n,i,r,a){var s=this;return f.a.apply(void 0,Object(o.a)(n)).pipe(Object(B.a)((function(o){return s.expandSegmentAgainstRoute(t,e,n,o,i,r,a).pipe(Object(F.a)((function(t){if(t instanceof Oe)return Object(f.a)(null);throw t})))})),Object(z.a)((function(t){return!!t})),Object(F.a)((function(t,n){if(t instanceof y.a||"EmptyError"===t.name){if(s.noLeftoversInUrl(e,i,r))return Object(f.a)(new kt([],{}));throw new Oe(e)}throw t})))}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,i,r,a,o){return je(i)!==a?Ce(e):void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,a):Ce(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,i,r,a){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,a)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,i){var r=this,a=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ae(a):this.lineralizeSegments(n,a).pipe(Object(U.a)((function(n){var a=new kt(n,{});return r.expandSegment(t,a,e,n,i,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,i,r,a){var o=this,s=Ee(e,i,r),c=s.matched,u=s.consumedSegments,l=s.lastChild,h=s.positionalParamSegments;if(!c)return Ce(e);var d=this.applyRedirectCommands(u,i.redirectTo,h);return i.redirectTo.startsWith("/")?Ae(d):this.lineralizeSegments(i,d).pipe(Object(U.a)((function(i){return o.expandSegment(t,e,n,i.concat(r.slice(l)),a,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,i){var r=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(x.a)((function(t){return n._loadedConfig=t,new kt(i,{})}))):Object(f.a)(new kt(i,{}));var o=Ee(e,n,i),s=o.matched,c=o.consumedSegments,u=o.lastChild;if(!s)return Ce(e);var l=i.slice(u);return this.getChildConfig(t,n,i).pipe(Object(U.a)((function(t){var n=t.module,i=t.routes,o=function(t,e,n,i){if(n.length>0&&function(t,e,n){return n.some((function(n){return De(t,e,n)&&je(n)!==ct}))}(t,n,i)){return{segmentGroup:Pe(new kt(e,function(t,e){var n={};n.primary=e;var i,r=Object(a.a)(t);try{for(r.s();!(i=r.n()).done;){var o=i.value;""===o.path&&je(o)!==ct&&(n[je(o)]=new kt([],{}))}}catch(s){r.e(s)}finally{r.f()}return n}(i,new kt(n,t.children)))),slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some((function(n){return De(t,e,n)}))}(t,n,i)){return{segmentGroup:Pe(new kt(t.segments,function(t,e,n,i){var r,o={},s=Object(a.a)(n);try{for(s.s();!(r=s.n()).done;){var c=r.value;De(t,e,c)&&!i[je(c)]&&(o[je(c)]=new kt([],{}))}}catch(u){s.e(u)}finally{s.f()}return Object.assign(Object.assign({},i),o)}(t,n,i,t.children))),slicedSegments:n}}return{segmentGroup:t,slicedSegments:n}}(e,c,l,i),s=o.segmentGroup,u=o.slicedSegments;return 0===u.length&&s.hasChildren()?r.expandChildren(n,i,s).pipe(Object(x.a)((function(t){return new kt(c,t)}))):0===i.length&&0===u.length?Object(f.a)(new kt(c,{})):r.expandSegment(n,s,i,u,ct,!0).pipe(Object(x.a)((function(t){return new kt(c.concat(t.segments),t.children)})))})))}},{key:"getChildConfig",value:function(t,e,n){var i=this;return e.children?Object(f.a)(new be(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(f.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(U.a)((function(n){return n?i.configLoader.load(t.injector,e).pipe(Object(x.a)((function(t){return e._loadedConfig=t,t}))):function(t){return new g.a((function(e){return e.error(ht("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))}))}(e)}))):Object(f.a)(new be([],t))}},{key:"runCanLoadGuards",value:function(t,e,n){var i=this,r=e.canLoad;if(!r||0===r.length)return Object(f.a)(!0);var a=r.map((function(i){var r,a=t.get(i);if(function(t){return t&&_e(t.canLoad)}(a))r=a.canLoad(e,n);else{if(!_e(a))throw new Error("Invalid CanLoad guard");r=a(e,n)}return bt(r)}));return Object(f.a)(a).pipe(ke(),Object(H.a)((function(t){if(we(t)){var e=ht('Redirecting to "'.concat(i.urlSerializer.serialize(t),'"'));throw e.url=t,e}})),Object(x.a)((function(t){return!0===t})))}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],i=e.root;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Object(f.a)(n);if(i.numberOfChildren>1||!i.children.primary)return Me(t.redirectTo);i=i.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,i){var r=this.createSegmentGroup(t,e.root,n,i);return new xt(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return gt(t,(function(t,i){if("string"==typeof t&&t.startsWith(":")){var r=t.substring(1);n[i]=e[r]}else n[i]=t})),n}},{key:"createSegmentGroup",value:function(t,e,n,i){var r=this,a=this.createSegments(t,e.segments,n,i),o={};return gt(e.children,(function(e,a){o[a]=r.createSegmentGroup(t,e,n,i)})),new kt(a,o)}},{key:"createSegments",value:function(t,e,n,i){var r=this;return e.map((function(e){return e.path.startsWith(":")?r.findPosParam(t,e,i):r.findOrReturn(e,n)}))}},{key:"findPosParam",value:function(t,e,n){var i=n[e.path.substring(1)];if(!i)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return i}},{key:"findOrReturn",value:function(t,e){var n,i=0,r=Object(a.a)(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.path===t.path)return e.splice(i),o;i++}}catch(s){r.e(s)}finally{r.f()}return t}}]),t}();function Ee(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var i=(e.matcher||dt)(n,t,e);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Pe(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new kt(t.segments.concat(e.segments),e.children)}return t}function De(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&(""===n.path&&void 0!==n.redirectTo)}function je(t){return t.outlet||ct}function Re(t,e,n,i){return function(r){return r.pipe(Object(j.a)((function(r){return function(t,e,n,i,r){return new Te(t,e,n,i,r).apply()}(t,e,n,r.extractedUrl,i).pipe(Object(x.a)((function(t){return Object.assign(Object.assign({},r),{urlAfterRedirects:t})})))})))}}var Ie=function t(e){Object(l.a)(this,t),this.path=e,this.route=this.path[this.path.length-1]},Le=function t(e,n){Object(l.a)(this,t),this.component=e,this.route=n};function Ne(t,e,n){var i=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function Fe(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=Xt(e);return t.children.forEach((function(t){Be(t,a[t.value.outlet],n,i.concat([t.value]),r),delete a[t.value.outlet]})),gt(a,(function(t,e){return Ue(t,n.getContext(e),r)})),r}function Be(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=t.value,o=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(o&&a.routeConfig===o.routeConfig){var c=ze(o,a,a.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new Ie(i)):(a.data=o.data,a._resolvedData=o._resolvedData),a.component?Fe(t,e,s?s.children:null,i,r):Fe(t,e,n,i,r),c&&s&&s.outlet&&s.outlet.isActivated&&r.canDeactivateChecks.push(new Le(s.outlet.component,o))}else o&&Ue(e,s,r),r.canActivateChecks.push(new Ie(i)),a.component?Fe(t,null,s?s.children:null,i,r):Fe(t,null,n,i,r);return r}function ze(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!St(t.url,e.url);case"pathParamsOrQueryParamsChange":return!St(t.url,e.url)||!ft(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ie(t,e)||!ft(t.queryParams,e.queryParams);case"paramsChange":default:return!ie(t,e)}}function Ue(t,e,n){var i=Xt(t),r=t.value;gt(i,(function(t,i){r.component?Ue(t,e?e.children.getContext(i):null,n):Ue(t,e,n)})),r.component&&e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Le(e.outlet.component,r)):n.canDeactivateChecks.push(new Le(null,r))}function He(t,e){return function(n){return n.pipe(Object(U.a)((function(n){var i=n.targetSnapshot,r=n.currentSnapshot,a=n.guards,o=a.canActivateChecks,s=a.canDeactivateChecks;return 0===s.length&&0===o.length?Object(f.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,i){return Object(p.a)(t).pipe(Object(U.a)((function(t){return function(t,e,n,i,r){var a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!a||0===a.length)return Object(f.a)(!0);var o=a.map((function(a){var o,s=Ne(a,e,r);if(function(t){return t&&_e(t.canDeactivate)}(s))o=bt(s.canDeactivate(t,e,n,i));else{if(!_e(s))throw new Error("Invalid CanDeactivate guard");o=bt(s(t,e,n,i))}return o.pipe(Object(z.a)())}));return Object(f.a)(o).pipe(ke())}(t.component,t.route,n,e,i)})),Object(z.a)((function(t){return!0!==t}),!0))}(s,i,r,t).pipe(Object(U.a)((function(n){return n&&"boolean"==typeof n?function(t,e,n,i){return Object(p.a)(e).pipe(Object(B.a)((function(e){return Object(p.a)([Ge(e.route.parent,i),Ve(e.route,i),Xe(t,e.path,n),We(t,e.route,n)]).pipe(Object(k.a)(),Object(z.a)((function(t){return!0!==t}),!0))})),Object(z.a)((function(t){return!0!==t}),!0))}(i,o,t,e):Object(f.a)(n)})),Object(x.a)((function(t){return Object.assign(Object.assign({},n),{guardsResult:t})})))})))}}function Ve(t,e){return null!==t&&e&&e(new at(t)),Object(f.a)(!0)}function Ge(t,e){return null!==t&&e&&e(new it(t)),Object(f.a)(!0)}function We(t,e,n){var i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Object(f.a)(!0);var r=i.map((function(i){return Object(b.a)((function(){var r,a=Ne(i,e,n);if(function(t){return t&&_e(t.canActivate)}(a))r=bt(a.canActivate(e,t));else{if(!_e(a))throw new Error("Invalid CanActivate guard");r=bt(a(e,t))}return r.pipe(Object(z.a)())}))}));return Object(f.a)(r).pipe(ke())}function Xe(t,e,n){var i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map((function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)})).filter((function(t){return null!==t})).map((function(e){return Object(b.a)((function(){var r=e.guards.map((function(r){var a,o=Ne(r,e.node,n);if(function(t){return t&&_e(t.canActivateChild)}(o))a=bt(o.canActivateChild(i,t));else{if(!_e(o))throw new Error("Invalid CanActivateChild guard");a=bt(o(i,t))}return a.pipe(Object(z.a)())}));return Object(f.a)(r).pipe(ke())}))}));return Object(f.a)(r).pipe(ke())}var qe=function t(){Object(l.a)(this,t)};var Ye=function(){function t(e,n,i,r,a,o){Object(l.a)(this,t),this.rootComponentType=e,this.config=n,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=o}return Object(s.a)(t,[{key:"recognize",value:function(){try{var t=Ze(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,ct),n=new Jt([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ct,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Wt(n,e),r=new $t(this.url,i);return this.inheritParamsAndData(r._root),Object(f.a)(r)}catch(a){return new g.a((function(t){return t.error(a)}))}}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,i=Kt(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),t.children.forEach((function(t){return e.inheritParamsAndData(t)}))}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){var n,i=this,r=Ct(e,(function(e,n){return i.processSegmentGroup(t,e,n)}));return n={},r.forEach((function(t){var e=n[t.value.outlet];if(e){var i=e.url.map((function(t){return t.toString()})).join("/"),r=t.value.url.map((function(t){return t.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(i,"' and '").concat(r,"'."))}n[t.value.outlet]=t.value})),function(t){t.sort((function(t,e){return t.value.outlet===ct?-1:e.value.outlet===ct?1:t.value.outlet.localeCompare(e.value.outlet)}))}(r),r}},{key:"processSegment",value:function(t,e,n,i){var r,o=Object(a.a)(t);try{for(o.s();!(r=o.n()).done;){var s=r.value;try{return this.processSegmentAgainstRoute(s,e,n,i)}catch(c){if(!(c instanceof qe))throw c}}}catch(u){o.e(u)}finally{o.f()}if(this.noLeftoversInUrl(e,n,i))return[];throw new qe}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"processSegmentAgainstRoute",value:function(t,e,n,i){if(t.redirectTo)throw new qe;if((t.outlet||ct)!==i)throw new qe;var r,a=[],o=[];if("**"===t.path){var s=n.length>0?mt(n).parameters:{};r=new Jt(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,tn(t),i,t.component,t,Qe(e),Ke(e)+n.length,en(t))}else{var c=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new qe;return{consumedSegments:[],lastChild:0,parameters:{}}}var i=(e.matcher||dt)(n,t,e);if(!i)throw new qe;var r={};gt(i.posParams,(function(t,e){r[e]=t.path}));var a=i.consumed.length>0?Object.assign(Object.assign({},r),i.consumed[i.consumed.length-1].parameters):r;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:a}}(e,t,n);a=c.consumedSegments,o=n.slice(c.lastChild),r=new Jt(a,c.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,tn(t),i,t.component,t,Qe(e),Ke(e)+a.length,en(t))}var u=function(t){if(t.children)return t.children;if(t.loadChildren)return t._loadedConfig.routes;return[]}(t),l=Ze(e,a,o,u,this.relativeLinkResolution),h=l.segmentGroup,d=l.slicedSegments;if(0===d.length&&h.hasChildren()){var f=this.processChildren(u,h);return[new Wt(r,f)]}if(0===u.length&&0===d.length)return[new Wt(r,[])];var p=this.processSegment(u,h,d,ct);return[new Wt(r,p)]}}]),t}();function Qe(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Ke(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Ze(t,e,n,i,r){if(n.length>0&&function(t,e,n){return n.some((function(n){return Je(t,e,n)&&$e(n)!==ct}))}(t,n,i)){var o=new kt(e,function(t,e,n,i){var r={};r.primary=i,i._sourceSegment=t,i._segmentIndexShift=e.length;var o,s=Object(a.a)(n);try{for(s.s();!(o=s.n()).done;){var c=o.value;if(""===c.path&&$e(c)!==ct){var u=new kt([],{});u._sourceSegment=t,u._segmentIndexShift=e.length,r[$e(c)]=u}}}catch(l){s.e(l)}finally{s.f()}return r}(t,e,i,new kt(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some((function(n){return Je(t,e,n)}))}(t,n,i)){var s=new kt(t.segments,function(t,e,n,i,r,o){var s,c={},u=Object(a.a)(i);try{for(u.s();!(s=u.n()).done;){var l=s.value;if(Je(t,n,l)&&!r[$e(l)]){var h=new kt([],{});h._sourceSegment=t,h._segmentIndexShift="legacy"===o?t.segments.length:e.length,c[$e(l)]=h}}}catch(d){u.e(d)}finally{u.f()}return Object.assign(Object.assign({},r),c)}(t,e,n,i,t.children,r));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}var c=new kt(t.segments,t.children);return c._sourceSegment=t,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:n}}function Je(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&(""===n.path&&void 0===n.redirectTo)}function $e(t){return t.outlet||ct}function tn(t){return t.data||{}}function en(t){return t.resolve||{}}function nn(t,e,n,i,r){return function(a){return a.pipe(Object(U.a)((function(a){return function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new Ye(t,e,n,i,r,a).recognize()}(t,e,a.urlAfterRedirects,n(a.urlAfterRedirects),i,r).pipe(Object(x.a)((function(t){return Object.assign(Object.assign({},a),{targetSnapshot:t})})))})))}}function rn(t,e){return function(n){return n.pipe(Object(U.a)((function(n){var i=n.targetSnapshot,r=n.guards.canActivateChecks;if(!r.length)return Object(f.a)(n);var a=0;return Object(p.a)(r).pipe(Object(B.a)((function(n){return function(t,e,n,i){return function(t,e,n,i){var r=Object.keys(t);if(0===r.length)return Object(f.a)({});var a={};return Object(p.a)(r).pipe(Object(U.a)((function(r){return function(t,e,n,i){var r=Ne(t,e,i);return r.resolve?bt(r.resolve(e,n)):bt(r(e,n))}(t[r],e,n,i).pipe(Object(H.a)((function(t){a[r]=t})))})),A(1),Object(U.a)((function(){return Object.keys(a).length===r.length?Object(f.a)(a):_.a})))}(t._resolve,t,e,i).pipe(Object(x.a)((function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Kt(t,n).resolve),null})))}(n.route,i,t,e)})),Object(H.a)((function(){return a++})),A(1),Object(U.a)((function(t){return a===r.length?Object(f.a)(n):_.a})))})))}}function an(t){return function(e){return e.pipe(Object(j.a)((function(e){var n=t(e);return n?Object(p.a)(n).pipe(Object(x.a)((function(){return e}))):Object(p.a)([e])})))}}var on=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return n}(function(){function t(){Object(l.a)(this,t)}return Object(s.a)(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}()),sn=function t(){Object(l.a)(this,t)};function cn(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var i=t[n],r=ln(e,i);un(i,r)}}function un(t,e){if(!t)throw new Error("\n      Invalid configuration of route '".concat(e,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(t))throw new Error("Invalid configuration of route '".concat(e,"': Array cannot be specified"));if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==ct)throw new Error("Invalid configuration of route '".concat(e,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and children cannot be used together"));if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and loadChildren cannot be used together"));if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': children and loadChildren cannot be used together"));if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and component cannot be used together"));if(t.path&&t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': path and matcher cannot be used together"));if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': routes must have either a path or a matcher specified"));if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '".concat(e,"': path cannot start with a slash"));if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch){throw new Error("Invalid configuration of route '{path: \"".concat(e,'", redirectTo: "').concat(t.redirectTo,"\"}': please provide 'pathMatch'. ").concat("The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."))}if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '".concat(e,"': pathMatch can only be set to 'prefix' or 'full'"));t.children&&cn(t.children,e)}function ln(t,e){return e?t||e.path?t&&!e.path?"".concat(t,"/"):!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function hn(t){var e=t.children&&t.children.map(hn),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ct&&(n.component=sn),n}sn.\u0275fac=function(t){return new(t||sn)},sn.\u0275cmp=d.Ub({type:sn,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&d.bc(0,"router-outlet")},directives:function(){return[Cn]},encapsulation:2});var dn=new d.A("ROUTES"),fn=function(){function t(e,n,i,r){Object(l.a)(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=i,this.onLoadEndListener=r}return Object(s.a)(t,[{key:"load",value:function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(x.a)((function(i){n.onLoadEndListener&&n.onLoadEndListener(e);var r=i.create(t);return new be(vt(r.injector.get(dn)).map(hn),r)})))}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?Object(p.a)(this.loader.load(t)):bt(t()).pipe(Object(U.a)((function(t){return t instanceof d.H?Object(f.a)(t):Object(p.a)(e.compiler.compileModuleAsync(t))})))}}]),t}(),pn=function t(){Object(l.a)(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new vn,this.attachRef=null},vn=function(){function t(){Object(l.a)(this,t),this.contexts=new Map}return Object(s.a)(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new pn,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),mn=function(){function t(){Object(l.a)(this,t)}return Object(s.a)(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function gn(t){throw t}function yn(t,e,n){return e.parse("/")}function bn(t,e){return Object(f.a)(null)}var _n=function(){function t(e,n,i,r,a,o,s,c){var u=this;Object(l.a)(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=i,this.location=r,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new w.a,this.errorHandler=gn,this.malformedUriErrorHandler=yn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:bn,afterPreactivation:bn},this.urlHandlingStrategy=new mn,this.routeReuseStrategy=new on,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy";this.ngModule=a.get(d.J),this.console=a.get(d.ob);var h=a.get(d.L);this.isNgZoneEnabled=h instanceof d.L,this.resetConfig(c),this.currentUrlTree=new xt(new kt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new fn(o,s,(function(t){return u.triggerEvent(new et(t))}),(function(t){return u.triggerEvent(new nt(t))})),this.routerState=Yt(this.currentUrlTree,this.rootComponentType),this.transitions=new v.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return Object(s.a)(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(Object(O.a)((function(t){return 0!==t.id})),Object(x.a)((function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})})),Object(j.a)((function(t){var i,r,a,o=!1,s=!1;return Object(f.a)(t).pipe(Object(H.a)((function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}})),Object(j.a)((function(t){var i=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||i)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(f.a)(t).pipe(Object(j.a)((function(t){var i=e.transitions.getValue();return n.next(new X(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),i!==e.transitions.getValue()?_.a:[t]})),Object(j.a)((function(t){return Promise.resolve(t)})),Re(e.ngModule.injector,e.configLoader,e.urlSerializer,e.config),Object(H.a)((function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})})),nn(e.rootComponentType,e.config,(function(t){return e.serializeUrl(t)}),e.paramsInheritanceStrategy,e.relativeLinkResolution),Object(H.a)((function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),Object(H.a)((function(t){var i=new K(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(i)})));if(i&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var r=t.id,a=t.extractedUrl,o=t.source,s=t.restoredState,c=t.extras,u=new X(r,e.serializeUrl(a),o,s);n.next(u);var l=Yt(a,e.rootComponentType).snapshot;return Object(f.a)(Object.assign(Object.assign({},t),{targetSnapshot:l,urlAfterRedirects:a,extras:Object.assign(Object.assign({},c),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),_.a})),an((function(t){var n=t.targetSnapshot,i=t.id,r=t.extractedUrl,a=t.rawUrl,o=t.extras,s=o.skipLocationChange,c=o.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:i,appliedUrlTree:r,rawUrlTree:a,skipLocationChange:!!s,replaceUrl:!!c})})),Object(H.a)((function(t){var n=new Z(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),Object(x.a)((function(t){return Object.assign(Object.assign({},t),{guards:(n=t.targetSnapshot,i=t.currentSnapshot,r=e.rootContexts,a=n._root,Fe(a,i?i._root:null,r,[a.value]))});var n,i,r,a})),He(e.ngModule.injector,(function(t){return e.triggerEvent(t)})),Object(H.a)((function(t){if(we(t.guardsResult)){var n=ht('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}})),Object(H.a)((function(t){var n=new J(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)})),Object(O.a)((function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var i=new Y(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(i),t.resolve(!1),!1}return!0})),an((function(t){if(t.guards.canActivateChecks.length)return Object(f.a)(t).pipe(Object(H.a)((function(t){var n=new $(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),Object(j.a)((function(t){var i=!1;return Object(f.a)(t).pipe(rn(e.paramsInheritanceStrategy,e.ngModule.injector),Object(H.a)({next:function(){return i=!0},complete:function(){if(!i){var r=new Y(t.id,e.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");n.next(r),t.resolve(!1)}}}))})),Object(H.a)((function(t){var n=new tt(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})))})),an((function(t){var n=t.targetSnapshot,i=t.id,r=t.extractedUrl,a=t.rawUrl,o=t.extras,s=o.skipLocationChange,c=o.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:i,appliedUrlTree:r,rawUrlTree:a,skipLocationChange:!!s,replaceUrl:!!c})})),Object(x.a)((function(t){var n,i,r,a,o=(n=e.routeReuseStrategy,i=t.targetSnapshot,r=t.currentRouterState,a=re(n,i._root,r?r._root:void 0),new qt(a,i));return Object.assign(Object.assign({},t),{targetRouterState:o})})),Object(H.a)((function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),(i=e.rootContexts,r=e.routeReuseStrategy,a=function(t){return e.triggerEvent(t)},Object(x.a)((function(t){return new ge(r,t.targetRouterState,t.currentRouterState,a).activate(i),t}))),Object(H.a)({next:function(){o=!0},complete:function(){o=!0}}),Object(V.a)((function(){if(!o&&!s){e.resetUrlToCurrentUrlTree();var i=new Y(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(i),t.resolve(!1)}e.currentNavigation=null})),Object(F.a)((function(i){if(s=!0,(c=i)&&c.ngNavigationCancelingError){var r=we(i.url);r||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var a=new Y(t.id,e.serializeUrl(t.extractedUrl),i.message);n.next(a),r?setTimeout((function(){var n=e.urlHandlingStrategy.merge(i.url,e.rawUrlTree),r={skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy};return e.scheduleNavigation(n,"imperative",null,r,{resolve:t.resolve,reject:t.reject,promise:t.promise})}),0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var o=new Q(t.id,e.serializeUrl(t.extractedUrl),i);n.next(o);try{t.resolve(e.errorHandler(i))}catch(u){t.reject(u)}}var c;return _.a})))})))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(e){var n=t.extractLocationChangeInfoFromEvent(e);t.shouldScheduleNavigation(t.lastLocationChangeInfo,n)&&setTimeout((function(){var e=n.source,i=n.state,r=n.urlTree,a={replaceUrl:!0};if(i){var o=Object.assign({},i);delete o.navigationId,0!==Object.keys(o).length&&(a.state=o)}t.scheduleNavigation(r,e,i,a)}),0),t.lastLocationChangeInfo=n})))}},{key:"extractLocationChangeInfoFromEvent",value:function(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(t,e){if(!t)return!0;var n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId)||!n||!("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){cn(t),this.config=t.map(hn),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,i=e.queryParams,r=e.fragment,a=e.preserveQueryParams,o=e.queryParamsHandling,s=e.preserveFragment;Object(d.lb)()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var c=n||this.routerState.root,u=s?this.currentUrlTree.fragment:r,l=null;if(o)switch(o){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=i||null}else l=a?this.currentUrlTree.queryParams:i||null;return null!==l&&(l=this.removeEmptyProps(l)),ae(c,this.currentUrlTree,t,l,u)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Object(d.lb)()&&this.isNgZoneEnabled&&!d.L.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=we(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return wn(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(we(t))return _t(this.currentUrlTree,t,e);var n=this.parseUrl(t);return _t(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce((function(e,n){var i=t[n];return null!=i&&(e[n]=i),e}),{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe((function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new q(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)}),(function(e){t.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(t,e,n,i,r){var a,o,s,c=this.getTransition(),u="imperative"!==e&&"imperative"===(null==c?void 0:c.source),l=(this.lastSuccessfulId===c.id||this.currentNavigation?c.rawUrl:c.urlAfterRedirects).toString()===t.toString();if(u&&l)return Promise.resolve(!0);r?(a=r.resolve,o=r.reject,s=r.promise):s=new Promise((function(t,e){a=t,o=e}));var h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:a,reject:o,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(t){return Promise.reject(t)}))}},{key:"setBrowserUrl",value:function(t,e,n,i){var r=this.urlSerializer.serialize(t);i=i||{},this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(r,"",Object.assign(Object.assign({},i),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),t}();function wn(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}_n.\u0275fac=function(t){return new(t||_n)(d.jc(d.cb),d.jc(At),d.jc(vn),d.jc(h.g),d.jc(d.B),d.jc(d.I),d.jc(d.k),d.jc(void 0))},_n.\u0275prov=d.Wb({token:_n,factory:_n.\u0275fac}),_n.ctorParameters=function(){return[{type:d.cb},{type:At},{type:vn},{type:h.g},{type:d.B},{type:d.I},{type:d.k},{type:void 0}]};var xn=function(){function t(e,n,i,r,a){Object(l.a)(this,t),this.router=e,this.route=n,this.commands=[],this.onChanges=new w.a,null==i&&r.setAttribute(a.nativeElement,"tabindex","0")}return Object(s.a)(t,[{key:"ngOnChanges",value:function(t){this.onChanges.next(this)}},{key:"onClick",value:function(){var t={skipLocationChange:On(this.skipLocationChange),replaceUrl:On(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"preserveQueryParams",set:function(t){Object(d.lb)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:On(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:On(this.preserveFragment)})}}]),t}();xn.\u0275fac=function(t){return new(t||xn)(d.ac(_n),d.ac(Qt),d.kc("tabindex"),d.ac(d.S),d.ac(d.r))},xn.\u0275dir=d.Vb({type:xn,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&d.mc("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[d.Ob]}),xn.ctorParameters=function(){return[{type:_n},{type:Qt},{type:String,decorators:[{type:d.h,args:["tabindex"]}]},{type:d.S},{type:d.r}]},xn.propDecorators={queryParams:[{type:d.C}],fragment:[{type:d.C}],queryParamsHandling:[{type:d.C}],preserveFragment:[{type:d.C}],skipLocationChange:[{type:d.C}],replaceUrl:[{type:d.C}],state:[{type:d.C}],routerLink:[{type:d.C}],preserveQueryParams:[{type:d.C}],onClick:[{type:d.w,args:["click"]}]};var kn=function(){function t(e,n,i){var r=this;Object(l.a)(this,t),this.router=e,this.route=n,this.locationStrategy=i,this.commands=[],this.onChanges=new w.a,this.subscription=e.events.subscribe((function(t){t instanceof q&&r.updateTargetUrlAndHref()}))}return Object(s.a)(t,[{key:"ngOnChanges",value:function(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(t,e,n,i,r){if(0!==t||e||n||i||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var a={skipLocationChange:On(this.skipLocationChange),replaceUrl:On(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"preserveQueryParams",set:function(t){Object(d.lb)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:On(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:On(this.preserveFragment)})}}]),t}();function On(t){return""===t||!!t}kn.\u0275fac=function(t){return new(t||kn)(d.ac(_n),d.ac(Qt),d.ac(h.h))},kn.\u0275dir=d.Vb({type:kn,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&d.mc("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)})),2&t&&(d.ic("href",e.href,d.Ec),d.Rb("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[d.Ob]}),kn.ctorParameters=function(){return[{type:_n},{type:Qt},{type:h.h}]},kn.propDecorators={target:[{type:d.v,args:["attr.target"]},{type:d.C}],queryParams:[{type:d.C}],fragment:[{type:d.C}],queryParamsHandling:[{type:d.C}],preserveFragment:[{type:d.C}],skipLocationChange:[{type:d.C}],replaceUrl:[{type:d.C}],state:[{type:d.C}],href:[{type:d.v}],routerLink:[{type:d.C}],preserveQueryParams:[{type:d.C}],onClick:[{type:d.w,args:["click",["$event.button","$event.ctrlKey","$event.shiftKey","$event.altKey","$event.metaKey"]]}]};var Sn=function(){function t(e,n,i,r,a,o){var s=this;Object(l.a)(this,t),this.router=e,this.element=n,this.renderer=i,this.cdr=r,this.link=a,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=e.events.subscribe((function(t){t instanceof q&&s.update()}))}return Object(s.a)(t,[{key:"ngAfterContentInit",value:function(){var t=this;Object(p.a)([this.links.changes,this.linksWithHrefs.changes,Object(f.a)(null)]).pipe(Object(G.a)()).subscribe((function(e){t.update(),t.subscribeToEachLinkOnChanges()}))}},{key:"subscribeToEachLinkOnChanges",value:function(){var t,e=this;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();var n=[].concat(Object(o.a)(this.links.toArray()),Object(o.a)(this.linksWithHrefs.toArray()),[this.link,this.linkWithHref]).filter((function(t){return!!t})).map((function(t){return t.onChanges}));this.linkInputChangesSubscription=Object(p.a)(n).pipe(Object(G.a)()).subscribe((function(t){e.isActive!==e.isLinkActive(e.router)(t)&&e.update()}))}},{key:"ngOnChanges",value:function(t){this.update()}},{key:"ngOnDestroy",value:function(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}},{key:"update",value:function(){var t=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then((function(){var e=t.hasActiveLinks();t.isActive!==e&&(t.isActive=e,t.cdr.markForCheck(),t.classes.forEach((function(n){e?t.renderer.addClass(t.element.nativeElement,n):t.renderer.removeClass(t.element.nativeElement,n)})))}))}},{key:"isLinkActive",value:function(t){var e=this;return function(n){return t.isActive(n.urlTree,e.routerLinkActiveOptions.exact)}}},{key:"hasActiveLinks",value:function(){var t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}},{key:"routerLinkActive",set:function(t){var e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter((function(t){return!!t}))}}]),t}();Sn.\u0275fac=function(t){return new(t||Sn)(d.ac(_n),d.ac(d.r),d.ac(d.S),d.ac(d.j),d.ac(xn,8),d.ac(kn,8))},Sn.\u0275dir=d.Vb({type:Sn,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var i;(1&t&&(d.Tb(n,xn,!0),d.Tb(n,kn,!0)),2&t)&&(d.yc(i=d.nc())&&(e.links=i),d.yc(i=d.nc())&&(e.linksWithHrefs=i))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[d.Ob]}),Sn.ctorParameters=function(){return[{type:_n},{type:d.r},{type:d.S},{type:d.j},{type:xn,decorators:[{type:d.M}]},{type:kn,decorators:[{type:d.M}]}]},Sn.propDecorators={links:[{type:d.o,args:[xn,{descendants:!0}]}],linksWithHrefs:[{type:d.o,args:[kn,{descendants:!0}]}],routerLinkActiveOptions:[{type:d.C}],routerLinkActive:[{type:d.C}]};var Cn=function(){function t(e,n,i,r,a){Object(l.a)(this,t),this.parentContexts=e,this.location=n,this.resolver=i,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.t,this.deactivateEvents=new d.t,this.name=r||ct,e.onChildOutletCreated(this.name,this)}return Object(s.a)(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=t._futureSnapshot.routeConfig.component,i=(e=e||this.resolver).resolveComponentFactory(n),r=this.parentContexts.getOrCreateContext(this.name).children,a=new An(t,r,this.location.injector);this.activated=this.location.createComponent(i,this.location.length,a),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),t}();Cn.\u0275fac=function(t){return new(t||Cn)(d.ac(vn),d.ac(d.fb),d.ac(d.m),d.kc("name"),d.ac(d.j))},Cn.\u0275dir=d.Vb({type:Cn,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),Cn.ctorParameters=function(){return[{type:vn},{type:d.fb},{type:d.m},{type:String,decorators:[{type:d.h,args:["name"]}]},{type:d.j}]},Cn.propDecorators={activateEvents:[{type:d.N,args:["activate"]}],deactivateEvents:[{type:d.N,args:["deactivate"]}]};var An=function(){function t(e,n,i){Object(l.a)(this,t),this.route=e,this.childContexts=n,this.parent=i}return Object(s.a)(t,[{key:"get",value:function(t,e){return t===Qt?this.route:t===vn?this.childContexts:this.parent.get(t,e)}}]),t}(),Mn=function t(){Object(l.a)(this,t)},Tn=function(){function t(){Object(l.a)(this,t)}return Object(s.a)(t,[{key:"preload",value:function(t,e){return e().pipe(Object(F.a)((function(){return Object(f.a)(null)})))}}]),t}(),En=function(){function t(){Object(l.a)(this,t)}return Object(s.a)(t,[{key:"preload",value:function(t,e){return Object(f.a)(null)}}]),t}(),Pn=function(){function t(e,n,i,r,a){Object(l.a)(this,t),this.router=e,this.injector=r,this.preloadingStrategy=a;this.loader=new fn(n,i,(function(t){return e.triggerEvent(new et(t))}),(function(t){return e.triggerEvent(new nt(t))}))}return Object(s.a)(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(Object(O.a)((function(t){return t instanceof q})),Object(B.a)((function(){return t.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var t=this.injector.get(d.J);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n,i=[],r=Object(a.a)(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var s=o._loadedConfig;i.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?i.push(this.preloadConfig(t,o)):o.children&&i.push(this.processRoutes(t,o.children))}}catch(c){r.e(c)}finally{r.f()}return Object(p.a)(i).pipe(Object(G.a)(),Object(x.a)((function(t){})))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,(function(){return n.loader.load(t.injector,e).pipe(Object(U.a)((function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})))}))}}]),t}();Pn.\u0275fac=function(t){return new(t||Pn)(d.jc(_n),d.jc(d.I),d.jc(d.k),d.jc(d.B),d.jc(Mn))},Pn.\u0275prov=d.Wb({token:Pn,factory:Pn.\u0275fac}),Pn.ctorParameters=function(){return[{type:_n},{type:d.I},{type:d.k},{type:d.B},{type:Mn}]};var Dn=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(l.a)(this,t),this.router=e,this.viewportScroller=n,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}return Object(s.a)(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof X?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof q&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof st&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new st(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}();Dn.\u0275fac=function(t){return new(t||Dn)(d.jc(_n),d.jc(h.q),d.jc(void 0))},Dn.\u0275prov=d.Wb({token:Dn,factory:Dn.\u0275fac}),Dn.ctorParameters=function(){return[{type:_n},{type:h.q},{type:void 0}]};var jn=new d.A("ROUTER_CONFIGURATION"),Rn=new d.A("ROUTER_FORROOT_GUARD"),In=[h.g,{provide:At,useClass:Mt},{provide:_n,useFactory:function(t,e,n,i,r,a,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},c=arguments.length>8?arguments[8]:void 0,u=arguments.length>9?arguments[9]:void 0,l=new _n(null,t,e,n,i,r,a,vt(o));c&&(l.urlHandlingStrategy=c);u&&(l.routeReuseStrategy=u);s.errorHandler&&(l.errorHandler=s.errorHandler);s.malformedUriErrorHandler&&(l.malformedUriErrorHandler=s.malformedUriErrorHandler);if(s.enableTracing){var d=Object(h.u)();l.events.subscribe((function(t){d.logGroup("Router Event: ".concat(t.constructor.name)),d.log(t.toString()),d.log(t),d.logGroupEnd()}))}s.onSameUrlNavigation&&(l.onSameUrlNavigation=s.onSameUrlNavigation);s.paramsInheritanceStrategy&&(l.paramsInheritanceStrategy=s.paramsInheritanceStrategy);s.urlUpdateStrategy&&(l.urlUpdateStrategy=s.urlUpdateStrategy);s.relativeLinkResolution&&(l.relativeLinkResolution=s.relativeLinkResolution);return l},deps:[At,vn,h.g,d.B,d.I,d.k,dn,jn,[function t(){Object(l.a)(this,t)},new d.M],[function t(){Object(l.a)(this,t)},new d.M]]},vn,{provide:Qt,useFactory:function(t){return t.routerState.root},deps:[_n]},{provide:d.I,useClass:d.Z},Pn,En,Tn,{provide:jn,useValue:{enableTracing:!1}}];function Ln(){return new d.K("Router",_n)}var Nn=function(){function t(e,n){Object(l.a)(this,t)}return Object(s.a)(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[In,Un(e),{provide:Rn,useFactory:zn,deps:[[_n,new d.M,new d.Y]]},{provide:jn,useValue:n||{}},{provide:h.h,useFactory:Bn,deps:[h.p,[new d.y(h.a),new d.M],jn]},{provide:Dn,useFactory:Fn,deps:[_n,h.q,jn]},{provide:Mn,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:En},{provide:d.K,multi:!0,useFactory:Ln},[Hn,{provide:d.d,multi:!0,useFactory:Vn,deps:[Hn]},{provide:Wn,useFactory:Gn,deps:[Hn]},{provide:d.b,multi:!0,useExisting:Wn}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[Un(e)]}}}]),t}();function Fn(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Dn(t,e,n)}function Bn(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new h.e(t,e):new h.o(t,e)}function zn(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Un(t){return[{provide:d.a,multi:!0,useValue:t},{provide:dn,multi:!0,useValue:t}]}Nn.\u0275mod=d.Yb({type:Nn}),Nn.\u0275inj=d.Xb({factory:function(t){return new(t||Nn)(d.jc(Rn,8),d.jc(_n,8))}}),Nn.ctorParameters=function(){return[{type:void 0,decorators:[{type:d.M},{type:d.y,args:[Rn]}]},{type:_n,decorators:[{type:d.M}]}]};var Hn=function(){function t(e){Object(l.a)(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new w.a}return Object(s.a)(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(h.f,Promise.resolve(null)).then((function(){var e=null,n=new Promise((function(t){return e=t})),i=t.injector.get(_n),r=t.injector.get(jn);if(t.isLegacyDisabled(r)||t.isLegacyEnabled(r))e(!0);else if("disabled"===r.initialNavigation)i.setUpLocationChangeListener(),e(!0);else{if("enabled"!==r.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(r.initialNavigation,"'"));i.hooks.afterPreactivation=function(){return t.initNavigation?Object(f.a)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},i.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(jn),n=this.injector.get(Pn),i=this.injector.get(Dn),r=this.injector.get(_n),a=this.injector.get(d.g);t===a.components[0]&&(this.isLegacyEnabled(e)?r.initialNavigation():this.isLegacyDisabled(e)&&r.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),r.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}},{key:"isLegacyDisabled",value:function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}]),t}();function Vn(t){return t.appInitializer.bind(t)}function Gn(t){return t.bootstrapListener.bind(t)}Hn.\u0275fac=function(t){return new(t||Hn)(d.jc(d.B))},Hn.\u0275prov=d.Wb({token:Hn,factory:Hn.\u0275fac}),Hn.ctorParameters=function(){return[{type:d.B}]};var Wn=new d.A("Router Initializer");new d.db("10.2.0")},u47x:function(t,e,n){"use strict";n.d(e,"a",(function(){return et})),n.d(e,"b",(function(){return S})),n.d(e,"c",(function(){return Y})),n.d(e,"d",(function(){return E})),n.d(e,"e",(function(){return tt})),n.d(e,"f",(function(){return W}));var i=n("JX7q"),r=n("ReuC"),a=n("foSv"),o=n("Ji7U"),s=n("LK+K"),c=n("1OyB"),u=n("vuIU"),l=n("ofXK"),h=n("fXoL"),d=n("nLfN"),f=n("XNiG"),p=(n("quSY"),n("LRne")),v=(n("FtGj"),n("vkgz"),n("Kj3r"),n("pLZG"),n("lJxs"),n("IzEk")),m=n("8LU1"),g=n("GU7r");function y(t,e){return(t.getAttribute(e)||"").match(/\S+/g)||[]}var b="cdk-describedby-message-container",_="cdk-describedby-message",w="cdk-describedby-host",x=0,k=new Map,O=null,S=function(){function t(e,n){Object(c.a)(this,t),this._platform=n,this._document=e}return Object(u.a)(t,[{key:"describe",value:function(t,e){this._canBeDescribed(t,e)&&("string"!=typeof e?(this._setMessageId(e),k.set(e,{messageElement:e,referenceCount:0})):k.has(e)||this._createMessageElement(e),this._isElementDescribedByMessage(t,e)||this._addMessageReference(t,e))}},{key:"removeDescription",value:function(t,e){if(e&&this._isElementNode(t)){if(this._isElementDescribedByMessage(t,e)&&this._removeMessageReference(t,e),"string"==typeof e){var n=k.get(e);n&&0===n.referenceCount&&this._deleteMessageElement(e)}O&&0===O.childNodes.length&&this._deleteMessagesContainer()}}},{key:"ngOnDestroy",value:function(){for(var t=this._document.querySelectorAll("[".concat(w,"]")),e=0;e<t.length;e++)this._removeCdkDescribedByReferenceIds(t[e]),t[e].removeAttribute(w);O&&this._deleteMessagesContainer(),k.clear()}},{key:"_createMessageElement",value:function(t){var e=this._document.createElement("div");this._setMessageId(e),e.textContent=t,this._createMessagesContainer(),O.appendChild(e),k.set(t,{messageElement:e,referenceCount:0})}},{key:"_setMessageId",value:function(t){t.id||(t.id="".concat(_,"-").concat(x++))}},{key:"_deleteMessageElement",value:function(t){var e=k.get(t),n=e&&e.messageElement;O&&n&&O.removeChild(n),k.delete(t)}},{key:"_createMessagesContainer",value:function(){if(!O){var t=!this._platform||!this._platform.EDGE&&!this._platform.TRIDENT,e=this._document.getElementById(b);e&&e.parentNode&&e.parentNode.removeChild(e),(O=this._document.createElement("div")).id=b,O.classList.add("cdk-visually-hidden"),O.setAttribute("aria-hidden",t+""),this._document.body.appendChild(O)}}},{key:"_deleteMessagesContainer",value:function(){O&&O.parentNode&&(O.parentNode.removeChild(O),O=null)}},{key:"_removeCdkDescribedByReferenceIds",value:function(t){var e=y(t,"aria-describedby").filter((function(t){return 0!=t.indexOf(_)}));t.setAttribute("aria-describedby",e.join(" "))}},{key:"_addMessageReference",value:function(t,e){var n,i,r,a,o=k.get(e);n=t,i="aria-describedby",r=o.messageElement.id,(a=y(n,i)).some((function(t){return t.trim()==r.trim()}))||(a.push(r.trim()),n.setAttribute(i,a.join(" "))),t.setAttribute(w,""),o.referenceCount++}},{key:"_removeMessageReference",value:function(t,e){var n,i,r,a,o=k.get(e);o.referenceCount--,n=t,i="aria-describedby",r=o.messageElement.id,(a=y(n,i).filter((function(t){return t!=r.trim()}))).length?n.setAttribute(i,a.join(" ")):n.removeAttribute(i),t.removeAttribute(w)}},{key:"_isElementDescribedByMessage",value:function(t,e){var n=y(t,"aria-describedby"),i=k.get(e),r=i&&i.messageElement.id;return!!r&&-1!=n.indexOf(r)}},{key:"_canBeDescribed",value:function(t,e){if(!this._isElementNode(t))return!1;if(e&&"object"==typeof e)return!0;var n=null==e?"":"".concat(e).trim(),i=t.getAttribute("aria-label");return!!n&&(!i||i.trim()!==n)}},{key:"_isElementNode",value:function(t){return t.nodeType===this._document.ELEMENT_NODE}}]),t}();S.\u0275fac=function(t){return new(t||S)(h.jc(l.d),h.jc(d.a))},S.\u0275prov=Object(h.Wb)({factory:function(){return new S(Object(h.jc)(l.d),Object(h.jc)(d.a))},token:S,providedIn:"root"}),S.ctorParameters=function(){return[{type:void 0,decorators:[{type:h.y,args:[l.d]}]},{type:d.a}]};var C=function(){function t(e){Object(c.a)(this,t),this._platform=e}return Object(u.a)(t,[{key:"isDisabled",value:function(t){return t.hasAttribute("disabled")}},{key:"isVisible",value:function(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}},{key:"isTabbable",value:function(t){if(!this._platform.isBrowser)return!1;var e,n=function(t){try{return t.frameElement}catch(e){return null}}((e=t).ownerDocument&&e.ownerDocument.defaultView||window);if(n){if(-1===M(n))return!1;if(!this.isVisible(n))return!1}var i=t.nodeName.toLowerCase(),r=M(t);return t.hasAttribute("contenteditable")?-1!==r:"iframe"!==i&&"object"!==i&&(!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){var e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==r:"video"===i?-1!==r&&(null!==r||(this._platform.FIREFOX||t.hasAttribute("controls"))):t.tabIndex>=0))}},{key:"isFocusable",value:function(t,e){return function(t){if(function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t))return!1;return function(t){var e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||A(t)}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}]),t}();function A(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;var e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function M(t){if(!A(t))return null;var e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}C.\u0275fac=function(t){return new(t||C)(h.jc(d.a))},C.\u0275prov=Object(h.Wb)({factory:function(){return new C(Object(h.jc)(d.a))},token:C,providedIn:"root"}),C.ctorParameters=function(){return[{type:d.a}]};var T=function(){function t(e,n,i,r){var a=this,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(c.a)(this,t),this._element=e,this._checker=n,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=function(){return a.focusLastTabbableElement()},this.endAnchorListener=function(){return a.focusFirstTabbableElement()},this._enabled=!0,o||this.attachAnchors()}return Object(u.a)(t,[{key:"destroy",value:function(){var t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}},{key:"attachAnchors",value:function(){var t=this;return!!this._hasAttached||(this._ngZone.runOutsideAngular((function(){t._startAnchor||(t._startAnchor=t._createAnchor(),t._startAnchor.addEventListener("focus",t.startAnchorListener)),t._endAnchor||(t._endAnchor=t._createAnchor(),t._endAnchor.addEventListener("focus",t.endAnchorListener))})),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}},{key:"focusInitialElementWhenReady",value:function(){var t=this;return new Promise((function(e){t._executeOnStable((function(){return e(t.focusInitialElement())}))}))}},{key:"focusFirstTabbableElementWhenReady",value:function(){var t=this;return new Promise((function(e){t._executeOnStable((function(){return e(t.focusFirstTabbableElement())}))}))}},{key:"focusLastTabbableElementWhenReady",value:function(){var t=this;return new Promise((function(e){t._executeOnStable((function(){return e(t.focusLastTabbableElement())}))}))}},{key:"_getRegionBoundary",value:function(t){for(var e=this._element.querySelectorAll("[cdk-focus-region-".concat(t,"], ")+"[cdkFocusRegion".concat(t,"], ")+"[cdk-focus-".concat(t,"]")),n=0;n<e.length;n++)e[n].hasAttribute("cdk-focus-".concat(t))?console.warn("Found use of deprecated attribute 'cdk-focus-".concat(t,"', ")+"use 'cdkFocusRegion".concat(t,"' instead. The deprecated ")+"attribute will be removed in 8.0.0.",e[n]):e[n].hasAttribute("cdk-focus-region-".concat(t))&&console.warn("Found use of deprecated attribute 'cdk-focus-region-".concat(t,"', ")+"use 'cdkFocusRegion".concat(t,"' instead. The deprecated attribute ")+"will be removed in 8.0.0.",e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}},{key:"focusInitialElement",value:function(){var t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),t.focus(),!0):this.focusFirstTabbableElement()}},{key:"focusFirstTabbableElement",value:function(){var t=this._getRegionBoundary("start");return t&&t.focus(),!!t}},{key:"focusLastTabbableElement",value:function(){var t=this._getRegionBoundary("end");return t&&t.focus(),!!t}},{key:"hasAttached",value:function(){return this._hasAttached}},{key:"_getFirstTabbableElement",value:function(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;for(var e=t.children||t.childNodes,n=0;n<e.length;n++){var i=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(i)return i}return null}},{key:"_getLastTabbableElement",value:function(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;for(var e=t.children||t.childNodes,n=e.length-1;n>=0;n--){var i=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(i)return i}return null}},{key:"_createAnchor",value:function(){var t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}},{key:"_toggleAnchorTabIndex",value:function(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}},{key:"toggleAnchors",value:function(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}},{key:"_executeOnStable",value:function(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Object(v.a)(1)).subscribe(t)}},{key:"enabled",get:function(){return this._enabled},set:function(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}}]),t}(),E=function(){function t(e,n,i){Object(c.a)(this,t),this._checker=e,this._ngZone=n,this._document=i}return Object(u.a)(t,[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new T(t,this._checker,this._ngZone,this._document,e)}}]),t}();E.\u0275fac=function(t){return new(t||E)(h.jc(C),h.jc(h.L),h.jc(l.d))},E.\u0275prov=Object(h.Wb)({factory:function(){return new E(Object(h.jc)(C),Object(h.jc)(h.L),Object(h.jc)(l.d))},token:E,providedIn:"root"}),E.ctorParameters=function(){return[{type:C},{type:h.L},{type:void 0,decorators:[{type:h.y,args:[l.d]}]}]};var P=function(){function t(e,n,i){Object(c.a)(this,t),this._elementRef=e,this._focusTrapFactory=n,this._previouslyFocusedElement=null,this._document=i,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}return Object(u.a)(t,[{key:"ngOnDestroy",value:function(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}},{key:"ngAfterContentInit",value:function(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}},{key:"ngDoCheck",value:function(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}},{key:"ngOnChanges",value:function(t){var e=t.autoCapture;e&&!e.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}},{key:"_captureFocus",value:function(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}},{key:"enabled",get:function(){return this.focusTrap.enabled},set:function(t){this.focusTrap.enabled=Object(m.b)(t)}},{key:"autoCapture",get:function(){return this._autoCapture},set:function(t){this._autoCapture=Object(m.b)(t)}}]),t}();P.\u0275fac=function(t){return new(t||P)(h.ac(h.r),h.ac(E),h.ac(l.d))},P.\u0275dir=h.Vb({type:P,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[h.Ob]}),P.ctorParameters=function(){return[{type:h.r},{type:E},{type:void 0,decorators:[{type:h.y,args:[l.d]}]}]},P.propDecorators={enabled:[{type:h.C,args:["cdkTrapFocus"]}],autoCapture:[{type:h.C,args:["cdkTrapFocusAutoCapture"]}]};var D=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(t,r,a,o,s,u,l){var h;return Object(c.a)(this,n),(h=e.call(this,t,r,a,o,l.defer))._focusTrapManager=s,h._inertStrategy=u,h._focusTrapManager.register(Object(i.a)(h)),h}return Object(u.a)(n,[{key:"destroy",value:function(){this._focusTrapManager.deregister(this),Object(r.a)(Object(a.a)(n.prototype),"destroy",this).call(this)}},{key:"_enable",value:function(){this._inertStrategy.preventFocus(this),this.toggleAnchors(!0)}},{key:"_disable",value:function(){this._inertStrategy.allowFocus(this),this.toggleAnchors(!1)}},{key:"enabled",get:function(){return this._enabled},set:function(t){this._enabled=t,this._enabled?this._focusTrapManager.register(this):this._focusTrapManager.deregister(this)}}]),n}(T);function j(t,e){if(!(t instanceof Node))return null;for(var n=t;null!=n&&!(n instanceof Element);)n=n.parentNode;return n&&(R?n.closest(e):function(t,e){var n=t;for(;null!=n&&!(n instanceof Element&&I(n,e));)n=n.parentNode;return n||null}(n,e))}var R="undefined"!=typeof Element&&!!Element.prototype.closest;function I(t,e){return t.matches?t.matches(e):t.msMatchesSelector(e)}var L=function(){function t(){Object(c.a)(this,t),this._listener=null}return Object(u.a)(t,[{key:"preventFocus",value:function(t){var e=this;this._listener&&t._document.removeEventListener("focus",this._listener,!0),this._listener=function(n){return e._trapFocus(t,n)},t._ngZone.runOutsideAngular((function(){t._document.addEventListener("focus",e._listener,!0)}))}},{key:"allowFocus",value:function(t){this._listener&&(t._document.removeEventListener("focus",this._listener,!0),this._listener=null)}},{key:"_trapFocus",value:function(t,e){var n=e.target,i=t._element;i.contains(n)||null!==j(n,"div.cdk-overlay-pane")||setTimeout((function(){t.enabled&&!i.contains(t._document.activeElement)&&t.focusFirstTabbableElement()}))}}]),t}(),N=function t(){Object(c.a)(this,t),this.defer=!1},F=new h.A("FOCUS_TRAP_INERT_STRATEGY"),B=function(){function t(){Object(c.a)(this,t),this._focusTrapStack=[]}return Object(u.a)(t,[{key:"register",value:function(t){this._focusTrapStack=this._focusTrapStack.filter((function(e){return e!==t}));var e=this._focusTrapStack;e.length&&e[e.length-1]._disable(),e.push(t),t._enable()}},{key:"deregister",value:function(t){t._disable();var e=this._focusTrapStack,n=e.indexOf(t);-1!==n&&(e.splice(n,1),e.length&&e[e.length-1]._enable())}}]),t}();B.\u0275fac=function(t){return new(t||B)},B.\u0275prov=Object(h.Wb)({factory:function(){return new B},token:B,providedIn:"root"});var z=function(){function t(e,n,i,r,a){Object(c.a)(this,t),this._checker=e,this._ngZone=n,this._focusTrapManager=i,this._document=r,this._inertStrategy=a||new L}return Object(u.a)(t,[{key:"create",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new N;return"boolean"==typeof n?(e=new N).defer=n:e=n,new D(t,this._checker,this._ngZone,this._document,this._focusTrapManager,this._inertStrategy,e)}}]),t}();z.\u0275fac=function(t){return new(t||z)(h.jc(C),h.jc(h.L),h.jc(B),h.jc(l.d),h.jc(F,8))},z.\u0275prov=Object(h.Wb)({factory:function(){return new z(Object(h.jc)(C),Object(h.jc)(h.L),Object(h.jc)(B),Object(h.jc)(l.d),Object(h.jc)(F,8))},token:z,providedIn:"root"}),z.ctorParameters=function(){return[{type:C},{type:h.L},{type:B},{type:void 0,decorators:[{type:h.y,args:[l.d]}]},{type:void 0,decorators:[{type:h.M},{type:h.y,args:[F]}]}]};var U=new h.A("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}});var H=new h.A("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),V=function(){function t(e,n,i,r){Object(c.a)(this,t),this._ngZone=n,this._defaultOptions=r,this._document=i,this._liveElement=e||this._createLiveElement()}return Object(u.a)(t,[{key:"announce",value:function(t){for(var e,n,i=this,r=this._defaultOptions,a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];return 1===o.length&&"number"==typeof o[0]?n=o[0]:(e=o[0],n=o[1]),this.clear(),clearTimeout(this._previousTimeout),e||(e=r&&r.politeness?r.politeness:"polite"),null==n&&r&&(n=r.duration),this._liveElement.setAttribute("aria-live",e),this._ngZone.runOutsideAngular((function(){return new Promise((function(e){clearTimeout(i._previousTimeout),i._previousTimeout=setTimeout((function(){i._liveElement.textContent=t,e(),"number"==typeof n&&(i._previousTimeout=setTimeout((function(){return i.clear()}),n))}),100)}))}))}},{key:"clear",value:function(){this._liveElement&&(this._liveElement.textContent="")}},{key:"ngOnDestroy",value:function(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}},{key:"_createLiveElement",value:function(){for(var t="cdk-live-announcer-element",e=this._document.getElementsByClassName(t),n=this._document.createElement("div"),i=0;i<e.length;i++)e[i].parentNode.removeChild(e[i]);return n.classList.add(t),n.classList.add("cdk-visually-hidden"),n.setAttribute("aria-atomic","true"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),n}}]),t}();V.\u0275fac=function(t){return new(t||V)(h.jc(U,8),h.jc(h.L),h.jc(l.d),h.jc(H,8))},V.\u0275prov=Object(h.Wb)({factory:function(){return new V(Object(h.jc)(U,8),Object(h.jc)(h.L),Object(h.jc)(l.d),Object(h.jc)(H,8))},token:V,providedIn:"root"}),V.ctorParameters=function(){return[{type:void 0,decorators:[{type:h.M},{type:h.y,args:[U]}]},{type:h.L},{type:void 0,decorators:[{type:h.y,args:[l.d]}]},{type:void 0,decorators:[{type:h.M},{type:h.y,args:[H]}]}]};var G=function(){function t(e,n,i,r){Object(c.a)(this,t),this._elementRef=e,this._liveAnnouncer=n,this._contentObserver=i,this._ngZone=r,this._politeness="polite"}return Object(u.a)(t,[{key:"ngOnDestroy",value:function(){this._subscription&&this._subscription.unsubscribe()}},{key:"politeness",get:function(){return this._politeness},set:function(t){var e=this;this._politeness="off"===t||"assertive"===t?t:"polite","off"===this._politeness?this._subscription&&(this._subscription.unsubscribe(),this._subscription=null):this._subscription||(this._subscription=this._ngZone.runOutsideAngular((function(){return e._contentObserver.observe(e._elementRef).subscribe((function(){var t=e._elementRef.nativeElement.textContent;t!==e._previousAnnouncedText&&(e._liveAnnouncer.announce(t,e._politeness),e._previousAnnouncedText=t)}))})))}}]),t}();function W(t){return 0===t.buttons}G.\u0275fac=function(t){return new(t||G)(h.ac(h.r),h.ac(V),h.ac(g.b),h.ac(h.L))},G.\u0275dir=h.Vb({type:G,selectors:[["","cdkAriaLive",""]],inputs:{politeness:["cdkAriaLive","politeness"]},exportAs:["cdkAriaLive"]}),G.ctorParameters=function(){return[{type:h.r},{type:V},{type:g.b},{type:h.L}]},G.propDecorators={politeness:[{type:h.C,args:["cdkAriaLive"]}]};var X=new h.A("cdk-focus-monitor-default-options"),q=Object(d.f)({passive:!0,capture:!0}),Y=function(){function t(e,n,i,r){var a=this;Object(c.a)(this,t),this._ngZone=e,this._platform=n,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=function(){a._lastTouchTarget=null,a._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=function(t){if(!a._lastTouchTarget){var e=W(t)?"keyboard":"mouse";a._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=function(t){null!=a._touchTimeoutId&&clearTimeout(a._touchTimeoutId),a._lastTouchTarget=Q(t),a._touchTimeoutId=setTimeout((function(){return a._lastTouchTarget=null}),650)},this._windowFocusListener=function(){a._windowFocused=!0,a._windowFocusTimeoutId=setTimeout((function(){return a._windowFocused=!1}))},this._rootNodeFocusAndBlurListener=function(t){for(var e=Q(t),n="focus"===t.type?a._onFocus:a._onBlur,i=e;i;i=i.parentElement)n.call(a,t,i)},this._document=i,this._detectionMode=(null==r?void 0:r.detectionMode)||0}return Object(u.a)(t,[{key:"monitor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(m.d)(t);if(!this._platform.isBrowser||1!==n.nodeType)return Object(p.a)(null);var i=Object(d.c)(n)||this._getDocument(),r=this._elementInfo.get(n);if(r)return e&&(r.checkChildren=!0),r.subject;var a={checkChildren:e,subject:new f.a,rootNode:i};return this._elementInfo.set(n,a),this._registerGlobalListeners(a),a.subject}},{key:"stopMonitoring",value:function(t){var e=Object(m.d)(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}},{key:"focusVia",value:function(t,e,n){var i=Object(m.d)(t);this._setOriginForCurrentEventQueue(e),"function"==typeof i.focus&&i.focus(n)}},{key:"ngOnDestroy",value:function(){var t=this;this._elementInfo.forEach((function(e,n){return t.stopMonitoring(n)}))}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_toggleClass",value:function(t,e,n){n?t.classList.add(e):t.classList.remove(e)}},{key:"_getFocusOrigin",value:function(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}},{key:"_setClasses",value:function(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}},{key:"_setOriginForCurrentEventQueue",value:function(t){var e=this;this._ngZone.runOutsideAngular((function(){e._origin=t,0===e._detectionMode&&(e._originTimeoutId=setTimeout((function(){return e._origin=null}),1))}))}},{key:"_wasCausedByTouch",value:function(t){var e=Q(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}},{key:"_onFocus",value:function(t,e){var n=this._elementInfo.get(e);if(n&&(n.checkChildren||e===Q(t))){var i=this._getFocusOrigin(t);this._setClasses(e,i),this._emitOrigin(n.subject,i),this._lastFocusOrigin=i}}},{key:"_onBlur",value:function(t,e){var n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}},{key:"_emitOrigin",value:function(t,e){this._ngZone.run((function(){return t.next(e)}))}},{key:"_registerGlobalListeners",value:function(t){var e=this;if(this._platform.isBrowser){var n=t.rootNode,i=this._rootNodeFocusListenerCount.get(n)||0;i||this._ngZone.runOutsideAngular((function(){n.addEventListener("focus",e._rootNodeFocusAndBlurListener,q),n.addEventListener("blur",e._rootNodeFocusAndBlurListener,q)})),this._rootNodeFocusListenerCount.set(n,i+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular((function(){var t=e._getDocument(),n=e._getWindow();t.addEventListener("keydown",e._documentKeydownListener,q),t.addEventListener("mousedown",e._documentMousedownListener,q),t.addEventListener("touchstart",e._documentTouchstartListener,q),n.addEventListener("focus",e._windowFocusListener)}))}}},{key:"_removeGlobalListeners",value:function(t){var e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){var n=this._rootNodeFocusListenerCount.get(e);n>1?this._rootNodeFocusListenerCount.set(e,n-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,q),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,q),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){var i=this._getDocument(),r=this._getWindow();i.removeEventListener("keydown",this._documentKeydownListener,q),i.removeEventListener("mousedown",this._documentMousedownListener,q),i.removeEventListener("touchstart",this._documentTouchstartListener,q),r.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}}]),t}();function Q(t){return t.composedPath?t.composedPath()[0]:t.target}Y.\u0275fac=function(t){return new(t||Y)(h.jc(h.L),h.jc(d.a),h.jc(l.d,8),h.jc(X,8))},Y.\u0275prov=Object(h.Wb)({factory:function(){return new Y(Object(h.jc)(h.L),Object(h.jc)(d.a),Object(h.jc)(l.d,8),Object(h.jc)(X,8))},token:Y,providedIn:"root"}),Y.ctorParameters=function(){return[{type:h.L},{type:d.a},{type:void 0,decorators:[{type:h.M},{type:h.y,args:[l.d]}]},{type:void 0,decorators:[{type:h.M},{type:h.y,args:[X]}]}]};var K=function(){function t(e,n){Object(c.a)(this,t),this._elementRef=e,this._focusMonitor=n,this.cdkFocusChange=new h.t}return Object(u.a)(t,[{key:"ngAfterViewInit",value:function(){var t=this,e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe((function(e){return t.cdkFocusChange.emit(e)}))}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}]),t}();K.\u0275fac=function(t){return new(t||K)(h.ac(h.r),h.ac(Y))},K.\u0275dir=h.Vb({type:K,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),K.ctorParameters=function(){return[{type:h.r},{type:Y}]},K.propDecorators={cdkFocusChange:[{type:h.N}]};var Z="cdk-high-contrast-black-on-white",J="cdk-high-contrast-white-on-black",$="cdk-high-contrast-active",tt=function(){function t(e,n){Object(c.a)(this,t),this._platform=e,this._document=n}return Object(u.a)(t,[{key:"getHighContrastMode",value:function(){if(!this._platform.isBrowser)return 0;var t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);var e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,i=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),i){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}},{key:"_applyBodyHighContrastModeCssClasses",value:function(){if(this._platform.isBrowser&&this._document.body){var t=this._document.body.classList;t.remove($),t.remove(Z),t.remove(J);var e=this.getHighContrastMode();1===e?(t.add($),t.add(Z)):2===e&&(t.add($),t.add(J))}}}]),t}();tt.\u0275fac=function(t){return new(t||tt)(h.jc(d.a),h.jc(l.d))},tt.\u0275prov=Object(h.Wb)({factory:function(){return new tt(Object(h.jc)(d.a),Object(h.jc)(l.d))},token:tt,providedIn:"root"}),tt.ctorParameters=function(){return[{type:d.a},{type:void 0,decorators:[{type:h.y,args:[l.d]}]}]};var et=function t(e){Object(c.a)(this,t),e._applyBodyHighContrastModeCssClasses()};et.\u0275mod=h.Yb({type:et}),et.\u0275inj=h.Xb({factory:function(t){return new(t||et)(h.jc(tt))},imports:[[d.b,g.c]]}),et.ctorParameters=function(){return[{type:tt}]}},uFwe:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("BsWD");function r(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Object(i.a)(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){c=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw o}}}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var i=n("JX7q"),r=n("Ji7U"),a=n("LK+K"),o=n("1OyB"),s=n("vuIU"),c=n("7o/Q"),u=n("KqfI"),l=n("n6bG");function h(t,e,n){return function(i){return i.lift(new d(t,e,n))}}var d=function(){function t(e,n,i){Object(o.a)(this,t),this.nextOrObserver=e,this.error=n,this.complete=i}return Object(s.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new f(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),f=function(t){Object(r.a)(n,t);var e=Object(a.a)(n);function n(t,r,a,s){var c;return Object(o.a)(this,n),(c=e.call(this,t))._tapNext=u.a,c._tapError=u.a,c._tapComplete=u.a,c._tapError=a||u.a,c._tapComplete=s||u.a,Object(l.a)(r)?(c._context=Object(i.a)(c),c._tapNext=r):r&&(c._context=r,c._tapNext=r.next||u.a,c._tapError=r.error||u.a,c._tapComplete=r.complete||u.a),c}return Object(s.a)(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(c.a)},vuIU:function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}n.d(e,"a",(function(){return r}))},vxfF:function(t,e,n){"use strict";n.d(e,"a",(function(){return mt})),n.d(e,"b",(function(){return ut})),n.d(e,"c",(function(){return gt})),n.d(e,"d",(function(){return ht}));var i=n("ODXe"),r=n("uFwe"),a=n("ReuC"),o=n("foSv"),s=n("Ji7U"),c=n("LK+K"),u=n("1OyB"),l=n("vuIU"),h=n("8LU1"),d=n("fXoL"),f=n("XNiG"),p=n("LRne"),v=n("HDdC"),m=n("xgIS"),g=n("3N8a"),y=function(t){Object(s.a)(n,t);var e=Object(c.a)(n);function n(t,i){var r;return Object(u.a)(this,n),(r=e.call(this,t,i)).scheduler=t,r.work=i,r}return Object(l.a)(n,[{key:"requestAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0?Object(a.a)(Object(o.a)(n.prototype),"requestAsyncId",this).call(this,t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame((function(){return t.flush(null)}))))}},{key:"recycleAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==i&&i>0||null===i&&this.delay>0)return Object(a.a)(Object(o.a)(n.prototype),"recycleAsyncId",this).call(this,t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}]),n}(g.a),b=n("IjjT"),_=new(function(t){Object(s.a)(n,t);var e=Object(c.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,i=-1,r=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++i<r&&(t=n.shift()));if(this.active=!1,e){for(;++i<r&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(b.a))(y),w=1,x=Promise.resolve(),k={};function O(t){return t in k&&(delete k[t],!0)}var S=function(t){var e=w++;return k[e]=!0,x.then((function(){return O(e)&&t()})),e},C=function(t){O(t)},A=function(t){Object(s.a)(n,t);var e=Object(c.a)(n);function n(t,i){var r;return Object(u.a)(this,n),(r=e.call(this,t,i)).scheduler=t,r.work=i,r}return Object(l.a)(n,[{key:"requestAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0?Object(a.a)(Object(o.a)(n.prototype),"requestAsyncId",this).call(this,t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=S(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==i&&i>0||null===i&&this.delay>0)return Object(a.a)(Object(o.a)(n.prototype),"recycleAsyncId",this).call(this,t,e,i);0===t.actions.length&&(C(e),t.scheduled=void 0)}}]),n}(g.a),M=new(function(t){Object(s.a)(n,t);var e=Object(c.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,i=-1,r=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++i<r&&(t=n.shift()));if(this.active=!1,e){for(;++i<r&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(b.a))(A),T=n("quSY");function E(t){return!!t&&(t instanceof v.a||"function"==typeof t.lift&&"function"==typeof t.subscribe)}var P=n("7o/Q");var D=function(){function t(e,n){Object(u.a)(this,t),this.compare=e,this.keySelector=n}return Object(l.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new j(t,this.compare,this.keySelector))}}]),t}(),j=function(t){Object(s.a)(n,t);var e=Object(c.a)(n);function n(t,i,r){var a;return Object(u.a)(this,n),(a=e.call(this,t)).keySelector=r,a.hasKey=!1,"function"==typeof i&&(a.compare=i),a}return Object(l.a)(n,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(r){return this.destination.error(r)}var i=!1;if(this.hasKey)try{i=(0,this.compare)(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}]),n}(P.a),R=n("3UWI"),I=n("pLZG"),L=n("1G5W"),N=n("JX91");var F=function(){function t(){Object(u.a)(this,t)}return Object(l.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new B(t))}}]),t}(),B=function(t){Object(s.a)(n,t);var e=Object(c.a)(n);function n(t){var i;return Object(u.a)(this,n),(i=e.call(this,t)).hasPrev=!1,i}return Object(l.a)(n,[{key:"_next",value:function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}]),n}(P.a),z=n("eIep"),U=function(t){Object(s.a)(n,t);var e=Object(c.a)(n);function n(t,i){var r;return Object(u.a)(this,n),(r=e.call(this,t,i)).scheduler=t,r.work=i,r}return Object(l.a)(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?Object(a.a)(Object(o.a)(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?Object(a.a)(Object(o.a)(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0||null===i&&this.delay>0?Object(a.a)(Object(o.a)(n.prototype),"requestAsyncId",this).call(this,t,e,i):t.flush(this)}}]),n}(g.a),H=new(function(t){Object(s.a)(n,t);var e=Object(c.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return n}(b.a))(U),V=n("WMd4");var G=function(t){Object(s.a)(n,t);var e=Object(c.a)(n);function n(t,i){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(u.a)(this,n),(r=e.call(this,t)).scheduler=i,r.delay=a,r}return Object(l.a)(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new W(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(V.a.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(V.a.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(V.a.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(P.a),W=function t(e,n){Object(u.a)(this,t),this.notification=e,this.destination=n},X=n("9ppp"),q=n("Ylt2"),Y=function(t){Object(s.a)(n,t);var e=Object(c.a)(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,a=arguments.length>2?arguments[2]:void 0;return Object(u.a)(this,n),(t=e.call(this)).scheduler=a,t._events=[],t._infiniteTimeWindow=!1,t._bufferSize=i<1?1:i,t._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(t._infiniteTimeWindow=!0,t.next=t.nextInfiniteTimeWindow):t.next=t.nextTimeWindow,t}return Object(l.a)(n,[{key:"nextInfiniteTimeWindow",value:function(t){if(!this.isStopped){var e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}Object(a.a)(Object(o.a)(n.prototype),"next",this).call(this,t)}},{key:"nextTimeWindow",value:function(t){this.isStopped||(this._events.push(new Q(this._getNow(),t)),this._trimBufferThenGetEvents()),Object(a.a)(Object(o.a)(n.prototype),"next",this).call(this,t)}},{key:"_subscribe",value:function(t){var e,n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,a=i.length;if(this.closed)throw new X.a;if(this.isStopped||this.hasError?e=T.a.EMPTY:(this.observers.push(t),e=new q.a(this,t)),r&&t.add(t=new G(t,r)),n)for(var o=0;o<a&&!t.closed;o++)t.next(i[o]);else for(var s=0;s<a&&!t.closed;s++)t.next(i[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e}},{key:"_getNow",value:function(){return(this.scheduler||H).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,r=i.length,a=0;a<r&&!(t-i[a].time<n);)a++;return r>e&&(a=Math.max(a,r-e)),a>0&&i.splice(0,a),i}}]),n}(f.a),Q=function t(e,n){Object(u.a)(this,t),this.time=e,this.value=n};function K(t,e,n){var i;return i=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(t){return t.lift(function(t){var e,n,i=t.bufferSize,r=void 0===i?Number.POSITIVE_INFINITY:i,a=t.windowTime,o=void 0===a?Number.POSITIVE_INFINITY:a,s=t.refCount,c=t.scheduler,u=0,l=!1,h=!1;return function(t){var i;u++,!e||l?(l=!1,e=new Y(r,o,c),i=e.subscribe(this),n=t.subscribe({next:function(t){e.next(t)},error:function(t){l=!0,e.error(t)},complete:function(){h=!0,n=void 0,e.complete()}})):i=e.subscribe(this),this.add((function(){u--,i.unsubscribe(),n&&!h&&s&&0===u&&(n.unsubscribe(),n=void 0,e=void 0)}))}}(i))}}var Z=n("nLfN"),J=n("ofXK"),$=n("cH1L");var tt=function(t){Object(s.a)(n,t);var e=Object(c.a)(n);function n(t){var i;return Object(u.a)(this,n),(i=e.call(this))._data=t,i}return Object(l.a)(n,[{key:"connect",value:function(){return E(this._data)?this._data:Object(p.a)(this._data)}},{key:"disconnect",value:function(){}}]),n}((function t(){Object(u.a)(this,t)})),et=function(){function t(){Object(u.a)(this,t),this.viewCacheSize=20,this._viewCache=[]}return Object(l.a)(t,[{key:"applyChanges",value:function(t,e,n,i,r){var a=this;t.forEachOperation((function(t,o,s){var c,u;if(null==t.previousIndex){u=(c=a._insertView((function(){return n(t,o,s)}),s,e,i(t)))?1:0}else null==s?(a._detachAndCacheView(o,e),u=3):(c=a._moveView(o,s,e,i(t)),u=2);r&&r({context:null==c?void 0:c.context,operation:u,record:t})}))}},{key:"detach",value:function(){var t,e=Object(r.a)(this._viewCache);try{for(e.s();!(t=e.n()).done;){t.value.destroy()}}catch(n){e.e(n)}finally{e.f()}}},{key:"_insertView",value:function(t,e,n,i){var r=this._insertViewFromCache(e,n);if(!r){var a=t();return n.createEmbeddedView(a.templateRef,a.context,a.index)}r.context.$implicit=i}},{key:"_detachAndCacheView",value:function(t,e){var n=this._detachView(t,e);this._maybeCacheView(n,e)}},{key:"_moveView",value:function(t,e,n,i){var r=n.get(t);return n.move(r,e),r.context.$implicit=i,r}},{key:"_maybeCacheView",value:function(t,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(t);else{var n=e.indexOf(t);-1===n?t.destroy():e.remove(n)}}},{key:"_insertViewFromCache",value:function(t,e){var n=this._viewCache.pop();return n&&e.insert(n,t),n||null}},{key:"_detachView",value:function(t,e){return e.detach(t)}}]),t}();var nt=function(){function t(){Object(u.a)(this,t),this._listeners=[]}return Object(l.a)(t,[{key:"notify",value:function(t,e){var n,i=Object(r.a)(this._listeners);try{for(i.s();!(n=i.n()).done;){(0,n.value)(t,e)}}catch(a){i.e(a)}finally{i.f()}}},{key:"listen",value:function(t){var e=this;return this._listeners.push(t),function(){e._listeners=e._listeners.filter((function(e){return t!==e}))}}},{key:"ngOnDestroy",value:function(){this._listeners=[]}}]),t}();nt.\u0275fac=function(t){return new(t||nt)},nt.\u0275prov=Object(d.Wb)({factory:function(){return new nt},token:nt,providedIn:"root"});var it=new d.A("_ViewRepeater"),rt=["contentWrapper"],at=new d.A("VIRTUAL_SCROLL_STRATEGY"),ot=function(){function t(e,n,i){var r,a;Object(u.a)(this,t),this._scrolledIndexChange=new f.a,this.scrolledIndexChange=this._scrolledIndexChange.pipe((function(t){return t.lift(new D(r,a))})),this._viewport=null,this._itemSize=e,this._minBufferPx=n,this._maxBufferPx=i}return Object(l.a)(t,[{key:"attach",value:function(t){this._viewport=t,this._updateTotalContentSize(),this._updateRenderedRange()}},{key:"detach",value:function(){this._scrolledIndexChange.complete(),this._viewport=null}},{key:"updateItemAndBufferSize",value:function(t,e,n){this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=n,this._updateTotalContentSize(),this._updateRenderedRange()}},{key:"onContentScrolled",value:function(){this._updateRenderedRange()}},{key:"onDataLengthChanged",value:function(){this._updateTotalContentSize(),this._updateRenderedRange()}},{key:"onContentRendered",value:function(){}},{key:"onRenderedOffsetChanged",value:function(){}},{key:"scrollToIndex",value:function(t,e){this._viewport&&this._viewport.scrollToOffset(t*this._itemSize,e)}},{key:"_updateTotalContentSize",value:function(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}},{key:"_updateRenderedRange",value:function(){if(this._viewport){var t=this._viewport.getRenderedRange(),e={start:t.start,end:t.end},n=this._viewport.getViewportSize(),i=this._viewport.getDataLength(),r=this._viewport.measureScrollOffset(),a=r/this._itemSize;if(e.end>i){var o=Math.ceil(n/this._itemSize),s=Math.max(0,Math.min(a,i-o));a!=s&&(a=s,r=s*this._itemSize,e.start=Math.floor(a)),e.end=Math.max(0,Math.min(i,e.start+o))}var c=r-e.start*this._itemSize;if(c<this._minBufferPx&&0!=e.start){var u=Math.ceil((this._maxBufferPx-c)/this._itemSize);e.start=Math.max(0,e.start-u),e.end=Math.min(i,Math.ceil(a+(n+this._minBufferPx)/this._itemSize))}else{var l=e.end*this._itemSize-(r+n);if(l<this._minBufferPx&&e.end!=i){var h=Math.ceil((this._maxBufferPx-l)/this._itemSize);h>0&&(e.end=Math.min(i,e.end+h),e.start=Math.max(0,Math.floor(a-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(e),this._viewport.setRenderedContentOffset(this._itemSize*e.start),this._scrolledIndexChange.next(Math.floor(a))}}}]),t}();function st(t){return t._scrollStrategy}var ct=function(){function t(){Object(u.a)(this,t),this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new ot(this.itemSize,this.minBufferPx,this.maxBufferPx)}return Object(l.a)(t,[{key:"ngOnChanges",value:function(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}},{key:"itemSize",get:function(){return this._itemSize},set:function(t){this._itemSize=Object(h.e)(t)}},{key:"minBufferPx",get:function(){return this._minBufferPx},set:function(t){this._minBufferPx=Object(h.e)(t)}},{key:"maxBufferPx",get:function(){return this._maxBufferPx},set:function(t){this._maxBufferPx=Object(h.e)(t)}}]),t}();ct.\u0275fac=function(t){return new(t||ct)},ct.\u0275dir=d.Vb({type:ct,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[d.Pb([{provide:at,useFactory:st,deps:[Object(d.jb)((function(){return ct}))]}]),d.Ob]}),ct.propDecorators={itemSize:[{type:d.C}],minBufferPx:[{type:d.C}],maxBufferPx:[{type:d.C}]};var ut=function(){function t(e,n,i){Object(u.a)(this,t),this._ngZone=e,this._platform=n,this._scrolled=new f.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}return Object(l.a)(t,[{key:"register",value:function(t){var e=this;this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe((function(){return e._scrolled.next(t)})))}},{key:"deregister",value:function(t){var e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}},{key:"scrolled",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return this._platform.isBrowser?new v.a((function(n){t._globalSubscription||t._addGlobalListener();var i=e>0?t._scrolled.pipe(Object(R.a)(e)).subscribe(n):t._scrolled.subscribe(n);return t._scrolledCount++,function(){i.unsubscribe(),t._scrolledCount--,t._scrolledCount||t._removeGlobalListener()}})):Object(p.a)()}},{key:"ngOnDestroy",value:function(){var t=this;this._removeGlobalListener(),this.scrollContainers.forEach((function(e,n){return t.deregister(n)})),this._scrolled.complete()}},{key:"ancestorScrolled",value:function(t,e){var n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Object(I.a)((function(t){return!t||n.indexOf(t)>-1})))}},{key:"getAncestorScrollContainers",value:function(t){var e=this,n=[];return this.scrollContainers.forEach((function(i,r){e._scrollableContainsElement(r,t)&&n.push(r)})),n}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_scrollableContainsElement",value:function(t,e){var n=e.nativeElement,i=t.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}},{key:"_addGlobalListener",value:function(){var t=this;this._globalSubscription=this._ngZone.runOutsideAngular((function(){var e=t._getWindow();return Object(m.a)(e.document,"scroll").subscribe((function(){return t._scrolled.next()}))}))}},{key:"_removeGlobalListener",value:function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}]),t}();ut.\u0275fac=function(t){return new(t||ut)(d.jc(d.L),d.jc(Z.a),d.jc(J.d,8))},ut.\u0275prov=Object(d.Wb)({factory:function(){return new ut(Object(d.jc)(d.L),Object(d.jc)(Z.a),Object(d.jc)(J.d,8))},token:ut,providedIn:"root"}),ut.ctorParameters=function(){return[{type:d.L},{type:Z.a},{type:void 0,decorators:[{type:d.M},{type:d.y,args:[J.d]}]}]};var lt=function(){function t(e,n,i,r){var a=this;Object(u.a)(this,t),this.elementRef=e,this.scrollDispatcher=n,this.ngZone=i,this.dir=r,this._destroyed=new f.a,this._elementScrolled=new v.a((function(t){return a.ngZone.runOutsideAngular((function(){return Object(m.a)(a.elementRef.nativeElement,"scroll").pipe(Object(L.a)(a._destroyed)).subscribe(t)}))}))}return Object(l.a)(t,[{key:"ngOnInit",value:function(){this.scrollDispatcher.register(this)}},{key:"ngOnDestroy",value:function(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}},{key:"elementScrolled",value:function(){return this._elementScrolled}},{key:"getElementRef",value:function(){return this.elementRef}},{key:"scrollTo",value:function(t){var e=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=n?t.end:t.start),null==t.right&&(t.right=n?t.start:t.end),null!=t.bottom&&(t.top=e.scrollHeight-e.clientHeight-t.bottom),n&&0!=Object(Z.d)()?(null!=t.left&&(t.right=e.scrollWidth-e.clientWidth-t.left),2==Object(Z.d)()?t.left=t.right:1==Object(Z.d)()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=e.scrollWidth-e.clientWidth-t.right),this._applyScrollToOptions(t)}},{key:"_applyScrollToOptions",value:function(t){var e=this.elementRef.nativeElement;Object(Z.g)()?e.scrollTo(t):(null!=t.top&&(e.scrollTop=t.top),null!=t.left&&(e.scrollLeft=t.left))}},{key:"measureScrollOffset",value:function(t){var e="left",n="right",i=this.elementRef.nativeElement;if("top"==t)return i.scrollTop;if("bottom"==t)return i.scrollHeight-i.clientHeight-i.scrollTop;var r=this.dir&&"rtl"==this.dir.value;return"start"==t?t=r?n:e:"end"==t&&(t=r?e:n),r&&2==Object(Z.d)()?t==e?i.scrollWidth-i.clientWidth-i.scrollLeft:i.scrollLeft:r&&1==Object(Z.d)()?t==e?i.scrollLeft+i.scrollWidth-i.clientWidth:-i.scrollLeft:t==e?i.scrollLeft:i.scrollWidth-i.clientWidth-i.scrollLeft}}]),t}();lt.\u0275fac=function(t){return new(t||lt)(d.ac(d.r),d.ac(ut),d.ac(d.L),d.ac($.b,8))},lt.\u0275dir=d.Vb({type:lt,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),lt.ctorParameters=function(){return[{type:d.r},{type:ut},{type:d.L},{type:$.b,decorators:[{type:d.M}]}]};var ht=function(){function t(e,n,i){var r=this;Object(u.a)(this,t),this._platform=e,this._change=new f.a,this._changeListener=function(t){r._change.next(t)},this._document=i,n.runOutsideAngular((function(){if(e.isBrowser){var t=r._getWindow();t.addEventListener("resize",r._changeListener),t.addEventListener("orientationchange",r._changeListener)}r.change().subscribe((function(){return r._updateViewportSize()}))}))}return Object(l.a)(t,[{key:"ngOnDestroy",value:function(){if(this._platform.isBrowser){var t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}},{key:"getViewportRect",value:function(){var t=this.getViewportScrollPosition(),e=this.getViewportSize(),n=e.width,i=e.height;return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+n,height:i,width:n}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var t=this._getDocument(),e=this._getWindow(),n=t.documentElement,i=n.getBoundingClientRect();return{top:-i.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-i.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}},{key:"change",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return t>0?this._change.pipe(Object(R.a)(t)):this._change}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_updateViewportSize",value:function(){var t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}]),t}();ht.\u0275fac=function(t){return new(t||ht)(d.jc(Z.a),d.jc(d.L),d.jc(J.d,8))},ht.\u0275prov=Object(d.Wb)({factory:function(){return new ht(Object(d.jc)(Z.a),Object(d.jc)(d.L),Object(d.jc)(J.d,8))},token:ht,providedIn:"root"}),ht.ctorParameters=function(){return[{type:Z.a},{type:d.L},{type:void 0,decorators:[{type:d.M},{type:d.y,args:[J.d]}]}]};var dt="undefined"!=typeof requestAnimationFrame?_:M,ft=function(t){Object(s.a)(n,t);var e=Object(c.a)(n);function n(t,i,r,a,o,s,c){var l;return Object(u.a)(this,n),(l=e.call(this,t,s,r,o)).elementRef=t,l._changeDetectorRef=i,l._scrollStrategy=a,l._detachedSubject=new f.a,l._renderedRangeSubject=new f.a,l._orientation="vertical",l.scrolledIndexChange=new v.a((function(t){return l._scrollStrategy.scrolledIndexChange.subscribe((function(e){return Promise.resolve().then((function(){return l.ngZone.run((function(){return t.next(e)}))}))}))})),l.renderedRangeStream=l._renderedRangeSubject,l._totalContentSize=0,l._totalContentWidth="",l._totalContentHeight="",l._renderedRange={start:0,end:0},l._dataLength=0,l._viewportSize=0,l._renderedContentOffset=0,l._renderedContentOffsetNeedsRewrite=!1,l._isChangeDetectionPending=!1,l._runAfterChangeDetection=[],l._viewportChanges=T.a.EMPTY,c&&(l._viewportChanges=c.change().subscribe((function(){l.checkViewportSize()}))),l}return Object(l.a)(n,[{key:"ngOnInit",value:function(){var t=this;Object(a.a)(Object(o.a)(n.prototype),"ngOnInit",this).call(this),this.ngZone.runOutsideAngular((function(){return Promise.resolve().then((function(){t._measureViewportSize(),t._scrollStrategy.attach(t),t.elementScrolled().pipe(Object(N.a)(null),Object(R.a)(0,dt)).subscribe((function(){return t._scrollStrategy.onContentScrolled()})),t._markChangeDetectionNeeded()}))}))}},{key:"ngOnDestroy",value:function(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),Object(a.a)(Object(o.a)(n.prototype),"ngOnDestroy",this).call(this)}},{key:"attach",value:function(t){var e=this;this._forOf,this.ngZone.runOutsideAngular((function(){e._forOf=t,e._forOf.dataStream.pipe(Object(L.a)(e._detachedSubject)).subscribe((function(t){var n=t.length;n!==e._dataLength&&(e._dataLength=n,e._scrollStrategy.onDataLengthChanged()),e._doChangeDetection()}))}))}},{key:"detach",value:function(){this._forOf=null,this._detachedSubject.next()}},{key:"getDataLength",value:function(){return this._dataLength}},{key:"getViewportSize",value:function(){return this._viewportSize}},{key:"getRenderedRange",value:function(){return this._renderedRange}},{key:"setTotalContentSize",value:function(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}},{key:"setRenderedRange",value:function(t){var e,n,i=this;e=this._renderedRange,n=t,(e.start!=n.start||e.end!=n.end)&&(this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded((function(){return i._scrollStrategy.onContentRendered()})))}},{key:"getOffsetToRenderedContentStart",value:function(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}},{key:"setRenderedContentOffset",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"to-start",i=this.dir&&"rtl"==this.dir.value,r="horizontal"==this.orientation,a=r?"X":"Y",o=r&&i?-1:1,s="translate".concat(a,"(").concat(Number(o*t),"px)");this._renderedContentOffset=t,"to-end"===n&&(s+=" translate".concat(a,"(-100%)"),this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=s&&(this._renderedContentTransform=s,this._markChangeDetectionNeeded((function(){e._renderedContentOffsetNeedsRewrite?(e._renderedContentOffset-=e.measureRenderedContentSize(),e._renderedContentOffsetNeedsRewrite=!1,e.setRenderedContentOffset(e._renderedContentOffset)):e._scrollStrategy.onRenderedOffsetChanged()})))}},{key:"scrollToOffset",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto",n={behavior:e};"horizontal"===this.orientation?n.start=t:n.top=t,this.scrollTo(n)}},{key:"scrollToIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto";this._scrollStrategy.scrollToIndex(t,e)}},{key:"measureScrollOffset",value:function(t){return t?Object(a.a)(Object(o.a)(n.prototype),"measureScrollOffset",this).call(this,t):Object(a.a)(Object(o.a)(n.prototype),"measureScrollOffset",this).call(this,"horizontal"===this.orientation?"start":"top")}},{key:"measureRenderedContentSize",value:function(){var t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}},{key:"measureRangeSize",value:function(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}},{key:"checkViewportSize",value:function(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}},{key:"_measureViewportSize",value:function(){var t=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?t.clientWidth:t.clientHeight}},{key:"_markChangeDetectionNeeded",value:function(t){var e=this;t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular((function(){return Promise.resolve().then((function(){e._doChangeDetection()}))})))}},{key:"_doChangeDetection",value:function(){var t=this;this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run((function(){return t._changeDetectorRef.markForCheck()}));var e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];var n,i=Object(r.a)(e);try{for(i.s();!(n=i.n()).done;){(0,n.value)()}}catch(a){i.e(a)}finally{i.f()}}},{key:"_calculateSpacerSize",value:function(){this._totalContentHeight="horizontal"===this.orientation?"":"".concat(this._totalContentSize,"px"),this._totalContentWidth="horizontal"===this.orientation?"".concat(this._totalContentSize,"px"):""}},{key:"orientation",get:function(){return this._orientation},set:function(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}}]),n}(lt);function pt(t,e,n){var i=n;if(!i.getBoundingClientRect)return 0;var r=i.getBoundingClientRect();return"horizontal"===t?"start"===e?r.left:r.right:"start"===e?r.top:r.bottom}ft.\u0275fac=function(t){return new(t||ft)(d.ac(d.r),d.ac(d.j),d.ac(d.L),d.ac(at,8),d.ac($.b,8),d.ac(ut),d.ac(ht))},ft.\u0275cmp=d.Ub({type:ft,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,e){var n;(1&t&&d.Hc(rt,!0),2&t)&&(d.yc(n=d.nc())&&(e._contentWrapper=n.first))},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,e){2&t&&d.Sb("cdk-virtual-scroll-orientation-horizontal","horizontal"===e.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==e.orientation)},inputs:{orientation:"orientation"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[d.Pb([{provide:lt,useExisting:ft}]),d.Nb],ngContentSelectors:["*"],decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,e){1&t&&(d.uc(),d.fc(0,"div",0,1),d.tc(2),d.ec(),d.bc(3,"div",2)),2&t&&(d.Qb(3),d.Ic("width",e._totalContentWidth)("height",e._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),ft.ctorParameters=function(){return[{type:d.r},{type:d.j},{type:d.L},{type:void 0,decorators:[{type:d.M},{type:d.y,args:[at]}]},{type:$.b,decorators:[{type:d.M}]},{type:ut},{type:ht}]},ft.propDecorators={orientation:[{type:d.C}],scrolledIndexChange:[{type:d.N}],_contentWrapper:[{type:d.eb,args:["contentWrapper",{static:!0}]}]};var vt=function(){function t(e,n,r,a,o,s){var c=this;Object(u.a)(this,t),this._viewContainerRef=e,this._template=n,this._differs=r,this._viewRepeater=a,this._viewport=o,this.viewChange=new f.a,this._dataSourceChanges=new f.a,this.dataStream=this._dataSourceChanges.pipe(Object(N.a)(null),(function(t){return t.lift(new F)}),Object(z.a)((function(t){var e=Object(i.a)(t,2),n=e[0],r=e[1];return c._changeDataSource(n,r)})),K(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new f.a,this.dataStream.subscribe((function(t){c._data=t,c._onRenderedDataChange()})),this._viewport.renderedRangeStream.pipe(Object(L.a)(this._destroyed)).subscribe((function(t){c._renderedRange=t,s.run((function(){return c.viewChange.next(c._renderedRange)})),c._onRenderedDataChange()})),this._viewport.attach(this)}return Object(l.a)(t,[{key:"measureRangeSize",value:function(t,e){if(t.start>=t.end)return 0;t.start<this._renderedRange.start||(t.end,this._renderedRange.end);for(var n,i,r=t.start-this._renderedRange.start,a=t.end-t.start,o=0;o<a;o++){var s=this._viewContainerRef.get(o+r);if(s&&s.rootNodes.length){n=i=s.rootNodes[0];break}}for(var c=a-1;c>-1;c--){var u=this._viewContainerRef.get(c+r);if(u&&u.rootNodes.length){i=u.rootNodes[u.rootNodes.length-1];break}}return n&&i?pt(e,"end",i)-pt(e,"start",n):0}},{key:"ngDoCheck",value:function(){if(this._differ&&this._needsUpdate){var t=this._differ.diff(this._renderedItems);t?this._applyChanges(t):this._updateContext(),this._needsUpdate=!1}}},{key:"ngOnDestroy",value:function(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}},{key:"_onRenderedDataChange",value:function(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create(this.cdkVirtualForTrackBy)),this._needsUpdate=!0)}},{key:"_changeDataSource",value:function(t,e){return t&&t.disconnect(this),this._needsUpdate=!0,e?e.connect(this):Object(p.a)()}},{key:"_updateContext",value:function(){for(var t=this._data.length,e=this._viewContainerRef.length;e--;){var n=this._viewContainerRef.get(e);n.context.index=this._renderedRange.start+e,n.context.count=t,this._updateComputedContextProperties(n.context),n.detectChanges()}}},{key:"_applyChanges",value:function(t){var e=this;this._viewRepeater.applyChanges(t,this._viewContainerRef,(function(t,n,i){return e._getEmbeddedViewArgs(t,i)}),(function(t){return t.item})),t.forEachIdentityChange((function(t){e._viewContainerRef.get(t.currentIndex).context.$implicit=t.item}));for(var n=this._data.length,i=this._viewContainerRef.length;i--;){var r=this._viewContainerRef.get(i);r.context.index=this._renderedRange.start+i,r.context.count=n,this._updateComputedContextProperties(r.context)}}},{key:"_updateComputedContextProperties",value:function(t){t.first=0===t.index,t.last=t.index===t.count-1,t.even=t.index%2==0,t.odd=!t.even}},{key:"_getEmbeddedViewArgs",value:function(t,e){return{templateRef:this._template,context:{$implicit:t.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:e}}},{key:"cdkVirtualForOf",get:function(){return this._cdkVirtualForOf},set:function(t){this._cdkVirtualForOf=t,!function(t){return t&&"function"==typeof t.connect}(t)?this._dataSourceChanges.next(new tt(E(t)?t:Array.prototype.slice.call(t||[]))):this._dataSourceChanges.next(t)}},{key:"cdkVirtualForTrackBy",get:function(){return this._cdkVirtualForTrackBy},set:function(t){var e=this;this._needsUpdate=!0,this._cdkVirtualForTrackBy=t?function(n,i){return t(n+(e._renderedRange?e._renderedRange.start:0),i)}:void 0}},{key:"cdkVirtualForTemplate",set:function(t){t&&(this._needsUpdate=!0,this._template=t)}},{key:"cdkVirtualForTemplateCacheSize",get:function(){return this._viewRepeater.viewCacheSize},set:function(t){this._viewRepeater.viewCacheSize=Object(h.e)(t)}}]),t}();vt.\u0275fac=function(t){return new(t||vt)(d.ac(d.fb),d.ac(d.ab),d.ac(d.D),d.ac(it),d.ac(ft,4),d.ac(d.L))},vt.\u0275dir=d.Vb({type:vt,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[d.Pb([{provide:it,useClass:et}])]}),vt.ctorParameters=function(){return[{type:d.fb},{type:d.ab},{type:d.D},{type:et,decorators:[{type:d.y,args:[it]}]},{type:ft,decorators:[{type:d.Y}]},{type:d.L}]},vt.propDecorators={cdkVirtualForOf:[{type:d.C}],cdkVirtualForTrackBy:[{type:d.C}],cdkVirtualForTemplate:[{type:d.C}],cdkVirtualForTemplateCacheSize:[{type:d.C}]};var mt=function t(){Object(u.a)(this,t)};mt.\u0275mod=d.Yb({type:mt}),mt.\u0275inj=d.Xb({factory:function(t){return new(t||mt)}});var gt=function t(){Object(u.a)(this,t)};gt.\u0275mod=d.Yb({type:gt}),gt.\u0275inj=d.Xb({factory:function(t){return new(t||gt)},imports:[[$.a,Z.b,mt],$.a,mt]})},w1tV:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("oB13"),r=n("x+ZX"),a=n("XNiG");function o(){return new a.a}function s(){return function(t){return Object(r.a)()(Object(i.a)(o)(t))}}},wJiJ:function(t,e,n){t.exports=n("1K8p")},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("Ji7U"),r=n("LK+K"),a=n("1OyB"),o=n("vuIU"),s=n("7o/Q");function c(){return function(t){return t.lift(new u(t))}}var u=function(){function t(e){Object(a.a)(this,t),this.connectable=e}return Object(o.a)(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var i=new l(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}]),t}(),l=function(t){Object(i.a)(n,t);var e=Object(r.a)(n);function n(t,i){var r;return Object(a.a)(this,n),(r=e.call(this,t)).connectable=i,r}return Object(o.a)(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}else this.connection=null}}]),n}(s.a)},xbPD:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("Ji7U"),r=n("LK+K"),a=n("1OyB"),o=n("vuIU"),s=n("7o/Q");function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new u(t))}}var u=function(){function t(e){Object(a.a)(this,t),this.defaultValue=e}return Object(o.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new l(t,this.defaultValue))}}]),t}(),l=function(t){Object(i.a)(n,t);var e=Object(r.a)(n);function n(t,i){var r;return Object(a.a)(this,n),(r=e.call(this,t)).defaultValue=i,r.isEmpty=!0,r}return Object(o.a)(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(s.a)},xgIS:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("KQm4"),r=n("HDdC"),a=n("DH7j"),o=n("n6bG"),s=n("lJxs");Object.prototype.toString;function c(t,e,n,u){return Object(o.a)(n)&&(u=n,n=void 0),u?c(t,e,n).pipe(Object(s.a)((function(t){return Object(a.a)(t)?u.apply(void 0,Object(i.a)(t)):u(t)}))):new r.a((function(i){!function t(e,n,i,r,a){var o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var s=e;e.addEventListener(n,i,a),o=function(){return s.removeEventListener(n,i,a)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var c=e;e.on(n,i),o=function(){return c.off(n,i)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var u=e;e.addListener(n,i),o=function(){return u.removeListener(n,i)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,h=e.length;l<h;l++)t(e[l],n,i,r,a)}r.add(o)}(t,e,(function(t){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(t)}),i,n)}))}},xu0b:function(t,e,n){"use strict";n.d(e,"a",(function(){return Du}));var i=n("+O9J"),r=n("mrSG"),a=n("XNiG"),o=n("1G5W"),s=function(){function t(t,e){var n=this;void 0===e&&(e=null),this.ts=t,this.am=e,this.ngUnsubscribe=new a.a,this.ts.onRender.pipe(Object(o.a)(this.ngUnsubscribe)).subscribe((function(t){n.onRender(t)})),this.ts.onResize.pipe(Object(o.a)(this.ngUnsubscribe)).subscribe((function(t){n.onResize(t)})),this.ts.onSkyUpdate.pipe(Object(o.a)(this.ngUnsubscribe)).subscribe((function(t){n.onSkyUpdate(t)})),this.ts.onEffectsUpdate.pipe(Object(o.a)(this.ngUnsubscribe)).subscribe((function(t){n.onEffectsUpdate(t)})),this.ts.onAssetLoaded.pipe(Object(o.a)(this.ngUnsubscribe)).subscribe((function(t){n.onAssetLoaded(t)})),this.ts.contextLost.pipe(Object(o.a)(this.ngUnsubscribe)).subscribe((function(t){n.onContextLost()})),this.ts.contextRestored.pipe(Object(o.a)(this.ngUnsubscribe)).subscribe((function(t){n.onContextRestored()}))}return t.prototype.create=function(){},t.prototype.onAssetLoaded=function(t){},t.prototype.onRender=function(t){},t.prototype.onResize=function(t){},t.prototype.onSkyUpdate=function(t){},t.prototype.onEffectsUpdate=function(t){},t.prototype.onContextLost=function(){},t.prototype.onContextRestored=function(){},t.prototype.destroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},t}(),c=n("Womt"),u=function(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=0),this.pos=t,this.isOnGround=e,this.yPosShift=n},l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pois=[],e.currentPois=[],e.poiCutoff=800,e.controlObj=new c.ib(new c.m(1,1,1),new c.jb({color:16711935})),e}return Object(r.c)(e,t),e.prototype.create=function(){var t=this;this.area=this.ts.areas.mainArea,this.area.onAreaChange.pipe(Object(o.a)(this.ngUnsubscribe)).subscribe((function(e){t.onAreaChange(e)})),this.onAreaChange(this.area.currentArea)},e.prototype.onAreaChange=function(t){this.currentPois=[];for(var e=3*this.area.dimension.x,n=3*this.area.dimension.z,i=0;i<e;i++){var r=this.area.currentArea.x-i+Math.floor(e/2);if(this.pois[r])for(var a=0;a<n;a++){var o=this.area.currentArea.z-a+Math.floor(n/2),s=this.pois[r][o];s&&(this.currentPois=this.currentPois.concat(s))}}},e.prototype.getClosestPoi=function(t){var e,n;if(this.currentPois.forEach((function(i){var r=t.x-i.pos.x,a=t.z-i.pos.z,o=Math.sqrt(r*r+a*a);(o<n||void 0===n)&&(n=o,e=i)})),!e)return null;this.currentPoi!==e&&(this.currentPoi=e);var i=1;return n<this.poiCutoff&&(i=this.easeInOutQuad(n/this.poiCutoff)),{poi:e,distanceMultiplier:i}},e.prototype.easeInOutQuad=function(t){return t<.5?2*t*t:(4-2*t)*t-1},e.prototype.addPoi=function(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=0);var i=Math.round(t.x/this.ts.areas.mainArea.size.x),r=Math.round(t.z/this.ts.areas.mainArea.size.z);this.pois[i]?this.pois[i][r]||(this.pois[i][r]=[]):(this.pois[i]=[],this.pois[i][r]=[]);var a=!1;this.pois[i][r].forEach((function(e){e.pos.equals(t)&&(a=!0)})),a||(this.pois[i][r].push(new u(t.clone(),e,n)),console.log(n)),this.onAreaChange(this.area.currentArea)},e.prototype.onRender=function(t){},e.prototype.getYGoal=function(t){var e=this.ts.floatingHeightDif,n=this.ts.poi.getClosestPoi(t);return n&&n.poi.isOnGround&&(e=this.ts.floatingHeightDif*n.distanceMultiplier+n.poi.yPosShift*(1-n.distanceMultiplier)),{groundLevel:this.ts.spawner.ground.getGroundLevel(t,!1),absoluteY:this.ts.spawner.ground.getGroundLevel(t,!1)+e,relativeY:e}},e}(s),h=function(t,e,n,i,r,a,o){this.spawnable=t,this.instance=e,this.child=n,this.startX=i,this.endX=r,this.startZ=a,this.endZ=o},d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.population=[],e.granularity=new c.kc(10,1,10),e.tempPos=new c.kc(0,0,0),e.tempPos2=new c.kc(0,0,0),e.tempPos3=new c.kc(0,0,0),e}return Object(r.c)(e,t),e.prototype.create=function(){},e.prototype.onAreaChange=function(t){},e.prototype.populate=function(t,e,n,i,r,a){var o,s=Math.floor(t.am.size.x/t.options.density.x/this.granularity.x),c=Math.floor(t.am.size.z/t.options.density.z/this.granularity.z);s=s<1?1:s,c=c<1?1:c,o=n?this.tempPos.copy(n.position):this.tempPos3.copy(i),e.obj.localToWorld(o);var u=Math.ceil(o.x/this.granularity.x-s/2),l=Math.ceil(o.x/this.granularity.x+s/2),h=Math.ceil(o.z/this.granularity.z-c/2),d=Math.ceil(o.z/this.granularity.z+c/2),f=!0;t:for(var p=u;p<l;p++)for(var v=h;v<d;v++){var m=this.population[p]?this.population[p][v]:null;if(m){m.spawnable!==t&&(m.spawnable.options.isPositional||m.spawnable.options.isInstanced?f=!(!t.options.isPositional&&m.spawnable.options.takesUpSpace):(m.spawnable.removeInstanceChild(m.instance,m.child),this.ts.mainScene.remove(m.debugObj),this.removeOccupant(m.startX,m.endX,m.startZ,m.endZ)));break t}}if(f){if(t.spawnInstanceChild(e,n),this.markOccupied(t,e,n,u,l,h,d,o,s,c),t.options.addToPoi){var g=this.tempPos2.copy(n.children[0].position);n.localToWorld(g),this.ts.poi.addPoi(g,!0,t.options.poiYShift)}return!0}return t.removeInstanceChild(e,n),!1},e.prototype.removeOccupant=function(t,e,n,i){for(var r=t;r<e;r++)for(var a=n;a<i;a++){this.population[r]||(this.population[r]=[]),this.population[r][a]=null}},e.prototype.markOccupied=function(t,e,n,i,r,a,o,s,c,u){var l=new h(t,e,n,i,r,a,o);this.ts.isDebug&&(l.debugObj=this.createPlane(t,s,i,a,c,u));for(var d=i;d<r;d++)for(var f=a;f<o;f++){this.population[d]||(this.population[d]=[]),this.population[d][f]=l}},e.prototype.createPlane=function(t,e,n,i,r,a){var o=new c.jb({color:t.options.color,wireframe:!0}),s=new c.ib(new c.zb(r*this.granularity.x,a*this.granularity.z,1),o);return s.rotation.x=-90*Math.PI/180,s.position.set(e.x,this.ts.spawner.ground.getGroundLevel(e),e.z),this.ts.mainScene.add(s),s},e.prototype.onAssetLoaded=function(t){},e.prototype.onRender=function(t){},e.prototype.onResize=function(t){},e.prototype.onSkyUpdate=function(t){},e.prototype.onEffectsUpdate=function(t){},e}(s),f=function(){function t(t,e,n){this.x=t,this.y=e,this.z=n}return t.prototype.dot2=function(t,e){return this.x*t+this.y*e},t.prototype.dot3=function(t,e,n){return this.x*t+this.y*e+this.z*n},t}(),p=function(){function t(t){void 0===t&&(t=0),this.grad3=[new f(1,1,0),new f(-1,1,0),new f(1,-1,0),new f(-1,-1,0),new f(1,0,1),new f(-1,0,1),new f(1,0,-1),new f(-1,0,-1),new f(0,1,1),new f(0,-1,1),new f(0,1,-1),new f(0,-1,-1)],this.p=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],this.perm=new Array(512),this.gradP=new Array(512),this.F2=.5*(Math.sqrt(3)-1),this.G2=(3-Math.sqrt(3))/6,this.F3=1/3,this.G3=1/6,this.seed(t)}return t.prototype.seed=function(t){t>0&&t<1&&(t*=65536),(t=Math.floor(t))<256&&(t|=t<<8);for(var e=0;e<256;e++){var n=void 0;n=1&e?this.p[e]^255&t:this.p[e]^t>>8&255,this.perm[e]=this.perm[e+256]=n,this.gradP[e]=this.gradP[e+256]=this.grad3[n%12]}},t.prototype.simplex2=function(t,e){var n,i,r=(t+e)*this.F2,a=Math.floor(t+r),o=Math.floor(e+r),s=(a+o)*this.G2,c=t-a+s,u=e-o+s;c>u?(n=1,i=0):(n=0,i=1);var l=c-n+this.G2,h=u-i+this.G2,d=c-1+2*this.G2,f=u-1+2*this.G2;a&=255,o&=255;var p=this.gradP[a+this.perm[o]],v=this.gradP[a+n+this.perm[o+i]],m=this.gradP[a+1+this.perm[o+1]],g=.5-c*c-u*u,y=.5-l*l-h*h,b=.5-d*d-f*f;return 70*((g<0?0:(g*=g)*g*p.dot2(c,u))+(y<0?0:(y*=y)*y*v.dot2(l,h))+(b<0?0:(b*=b)*b*m.dot2(d,f)))},t.prototype.simplex3=function(t,e,n){var i,r,a,o,s,c,u=(t+e+n)*this.F3,l=Math.floor(t+u),h=Math.floor(e+u),d=Math.floor(n+u),f=(l+h+d)*this.G3,p=t-l+f,v=e-h+f,m=n-d+f;p>=v?v>=m?(i=1,r=0,a=0,o=1,s=1,c=0):p>=m?(i=1,r=0,a=0,o=1,s=0,c=1):(i=0,r=0,a=1,o=1,s=0,c=1):v<m?(i=0,r=0,a=1,o=0,s=1,c=1):p<m?(i=0,r=1,a=0,o=0,s=1,c=1):(i=0,r=1,a=0,o=1,s=1,c=0);var g=p-i+this.G3,y=v-r+this.G3,b=m-a+this.G3,_=p-o+2*this.G3,w=v-s+2*this.G3,x=m-c+2*this.G3,k=p-1+3*this.G3,O=v-1+3*this.G3,S=m-1+3*this.G3;l&=255,h&=255,d&=255;var C=this.gradP[l+this.perm[h+this.perm[d]]],A=this.gradP[l+i+this.perm[h+r+this.perm[d+a]]],M=this.gradP[l+o+this.perm[h+s+this.perm[d+c]]],T=this.gradP[l+1+this.perm[h+1+this.perm[d+1]]],E=.6-p*p-v*v-m*m,P=.6-g*g-y*y-b*b,D=.6-_*_-w*w-x*x,j=.6-k*k-O*O-S*S;return 32*((E<0?0:(E*=E)*E*C.dot3(p,v,m))+(P<0?0:(P*=P)*P*A.dot3(g,y,b))+(D<0?0:(D*=D)*D*M.dot3(_,w,x))+(j<0?0:(j*=j)*j*T.dot3(k,O,S)))},t.prototype.fade=function(t){return t*t*t*(t*(6*t-15)+10)},t.prototype.lerp=function(t,e,n){return(1-n)*t+n*e},t.prototype.perlin2=function(t,e){var n=Math.floor(t),i=Math.floor(e);t-=n,e-=i,n&=255,i&=255;var r=this.gradP[n+this.perm[i]].dot2(t,e),a=this.gradP[n+this.perm[i+1]].dot2(t,e-1),o=this.gradP[n+1+this.perm[i]].dot2(t-1,e),s=this.gradP[n+1+this.perm[i+1]].dot2(t-1,e-1),c=this.fade(t);return this.lerp(this.lerp(r,o,c),this.lerp(a,s,c),this.fade(e))},t.prototype.perlin3=function(t,e,n){var i=Math.floor(t),r=Math.floor(e),a=Math.floor(n);t-=i,e-=r,n-=a,i&=255,r&=255,a&=255;var o=this.gradP[i+this.perm[r+this.perm[a]]].dot3(t,e,n),s=this.gradP[i+this.perm[r+this.perm[a+1]]].dot3(t,e,n-1),c=this.gradP[i+this.perm[r+1+this.perm[a]]].dot3(t,e-1,n),u=this.gradP[i+this.perm[r+1+this.perm[a+1]]].dot3(t,e-1,n-1),l=this.gradP[i+1+this.perm[r+this.perm[a]]].dot3(t-1,e,n),h=this.gradP[i+1+this.perm[r+this.perm[a+1]]].dot3(t-1,e,n-1),d=this.gradP[i+1+this.perm[r+1+this.perm[a]]].dot3(t-1,e-1,n),f=this.gradP[i+1+this.perm[r+1+this.perm[a+1]]].dot3(t-1,e-1,n-1),p=this.fade(t),v=this.fade(e),m=this.fade(n);return this.lerp(this.lerp(this.lerp(o,l,p),this.lerp(s,h,p),m),this.lerp(this.lerp(c,d,p),this.lerp(u,f,p),m),v)},t}(),v=function(){function t(){this.obj=new c.wb,this.instanceChildren=[],this.instancedPositions=[],this.instancedMeshes=[],this.spawnedChildren=[],this.origId=new c.kc,this.positionalChildren=[],this.isSpawned=!1}return t.prototype.spawnChild=function(t){this.spawnable.options.isInstanced||this.spawnedChildren.indexOf(t)<=-1&&(t.userData.audio&&!t.userData.audio.isPlaying&&t.userData.audio.play(),this.obj.add(t),this.spawnedChildren.push(t))},t.prototype.removeChild=function(t){t&&(this.obj.remove(t),t.userData.audio&&!t.userData.audio.isPlaying&&t.userData.audio.pause(),this.spawnedChildren.splice(this.spawnedChildren.indexOf(t),1))},t.prototype.spawn=function(){this.isSpawned||(this.obj.children.forEach((function(t){t.userData.audio&&(t.userData.audio.pause(),t.userData.audio.play())})),this.spawnable.positionalInstancesOnStage.push(this),this.scene.add(this.obj),this.obj.updateMatrixWorld(),this.updateChildren(),this.isSpawned=!0)},t.prototype.remove=function(){if(this.isSpawned){var t=this.spawnable.positionalInstancesOnStage.indexOf(this);t>-1&&this.spawnable.positionalInstancesOnStage.splice(t,1),this.scene.remove(this.obj),this.obj.children.forEach((function(t){t.userData.audio&&!t.userData.audio.isPlaying&&t.userData.audio.pause()})),this.isSpawned=!1}},t.prototype.updateChildren=function(){var t=this;setTimeout((function(){for(var e=0;e<t.positionalChildren.length;e++){var n=t.positionalChildren[e];n.getWorldPosition(t.spawnable.tempPos),t.spawnable.manipulateChild(n,t)}}))},t}(),m=function(t,e,n){void 0===n&&(n={}),this.id=t,this.pos=e,this.data=n},g=function(){function t(t,e,n){var i=this;void 0===n&&(n=null),this.ts=t,this.am=e,this.ngUnsubscribe=new a.a,this.instances=[],this.positionalInstances=[],this.positionalInstancesOnStage=[],this.options={seed:1545,hookToRender:!1,density:new c.kc(10,1,10),detail:1,scale:1,cutoff:0,feather:0,childRandomPos:new c.kc(0,0,0),noiseGeneratorNum:0,takesUpSpace:!1,color:new c.t(Math.random(),Math.random(),Math.random()),positions:[],isPositional:!1,addToPoi:!1,poiYShift:0,creationDelay:100},this.tempPos=new c.kc(0,0,0),this.instanceWorldPos=new c.kc(0,0,0),this.controlPos=new c.kc(0,0,0),this.noiseGenerators=[],this.maxDist=new c.kc(this.am.size.x*this.am.dimension.x/2,this.am.size.y*this.am.dimension.y/2,this.am.size.z*this.am.dimension.z/2),n&&Object.keys(n).forEach((function(t){i.options[t]=n[t]}));for(var r=0;r<n.noiseGeneratorNum;r++)this.noiseGenerators[r]=new p(this.options.seed+78595*r);this.childPosNoiseX=new p(this.options.seed+100),this.childPosNoiseZ=new p(this.options.seed+1e3),this.childPosNoiseY=new p(this.options.seed+1e4),this.cutoffNoise=new p(this.options.seed+200),this.featherNoise=new p(this.options.seed+2e3),this.ts.onResize.pipe(Object(o.a)(this.ngUnsubscribe)).subscribe((function(t){i.onResize(t)})),this.ts.onSkyUpdate.pipe(Object(o.a)(this.ngUnsubscribe)).subscribe((function(t){i.onSkyUpdate(t)})),this.ts.onEffectsUpdate.pipe(Object(o.a)(this.ngUnsubscribe)).subscribe((function(t){i.onEffectsUpdate(t)})),this.ts.onAssetLoaded.pipe(Object(o.a)(this.ngUnsubscribe)).subscribe((function(t){i.onAssetLoaded(t)})),this.create(),this.options.isPositional?(this.createPositionalInstances(),this.am.checkPositionalSpawnables(),n.hookToRender&&this.ts.onRender.pipe(Object(o.a)(this.ngUnsubscribe)).subscribe((function(t){i.onPositionalRender(t)}))):(this.createInstances(),this.am.onAreaChange.pipe(Object(o.a)(this.ngUnsubscribe)).subscribe((function(t){i.onAreaChange(t)})),n.hookToRender&&this.ts.onRender.pipe(Object(o.a)(this.ngUnsubscribe)).subscribe((function(t){i.onRender(t)})),this.onAreaChange(this.am.currentArea))}return t.prototype.create=function(){},t.prototype.createPositionalInstances=function(){for(var t=0;t<this.options.positions.length;t++){var e=this.options.positions[t];this.createPositionalInstance(e)}},t.prototype.createPositionalInstance=function(t){var e=Math.round(t.pos.x/this.am.size.x),n=Math.round(t.pos.z/this.am.size.z);this.positionalInstances[e]?this.positionalInstances[e][n]||(this.positionalInstances[e][n]=new v,this.positionalInstances[e][n].scene=this.ts.mainScene,this.positionalInstances[e][n].areaX=e,this.positionalInstances[e][n].areaZ=n,this.positionalInstances[e][n].spawnable=this):(this.positionalInstances[e]=[],this.positionalInstances[e][n]=new v,this.positionalInstances[e][n].scene=this.ts.mainScene,this.positionalInstances[e][n].areaX=e,this.positionalInstances[e][n].areaZ=n,this.positionalInstances[e][n].spawnable=this);var i=this.positionalInstances[e][n];this.am.addPositionalSpawnable(i,i.areaX,i.areaZ),i.obj.position.x=e*this.am.size.x,i.obj.position.z=n*this.am.size.z;var r=new c.wb,a=this.createChild(i,t.pos.x,0,t.pos.z,t,r);r.add(a),r.position.x=t.pos.x-e*this.am.size.x,r.position.z=t.pos.z-n*this.am.size.z,i.spawnChild(r),i.positionalChildren.push(r),i.obj.updateMatrixWorld();this.ts.population.populate(this,i,r,null,0,0);this.manipulateChild(r,i)},t.prototype.createInstances=function(){return Object(r.a)(this,void 0,void 0,(function(){var t,e,n,i,a=this;return Object(r.d)(this,(function(r){switch(r.label){case 0:t=0,r.label=1;case 1:if(!(t<this.am.dimension.x))return[3,8];this.instances[t]=[],e=0,r.label=2;case 2:if(!(e<this.am.dimension.y))return[3,7];this.instances[t][e]=[],n=0,r.label=3;case 3:return n<this.am.dimension.z?[4,new Promise((function(t){setTimeout((function(){t(null)}),a.options.creationDelay)}))]:[3,6];case 4:r.sent(),(i=this.createInstance()).origId.set(t,e,n),this.instances[t][e][n]=i,this.createChildren(i),this.updateInstance(i,t,e,n),r.label=5;case 5:return n++,[3,3];case 6:return e++,[3,2];case 7:return t++,[3,1];case 8:return[2]}}))}))},t.prototype.createChildren=function(t){for(var e=this.options.isInstanced?t.instancedPositions:t.instanceChildren,n=0;n<this.options.density.x;n++){e[n]=[],e[n]=[];for(var i=0;i<this.options.density.y;i++){e[n][i]=[];for(var r=0;r<this.options.density.z;r++){var a=new c.kc,o=new c.kc;if(this.options.childRandomPos.x>0){var s=(1+this.childPosNoiseX.simplex2(1e4*(this.options.seed+n+t.origId.x),1e3*(this.options.seed+r+t.origId.z)))/2*this.options.childRandomPos.x;a.x=s*(this.am.size.x/this.options.density.x)-this.am.size.x/this.options.density.x/2}if(this.options.childRandomPos.y>0){var u=(1+this.childPosNoiseY.simplex2(3e4*(this.options.seed+n+t.origId.x),3e3*(this.options.seed+r+t.origId.z)))/2*this.options.childRandomPos.y;a.y=u*(this.am.size.y/this.options.density.y)-this.am.size.y/this.options.density.y/2}if(this.options.childRandomPos.z>0){var l=(1+this.childPosNoiseZ.simplex2(2e4*(this.options.seed+n+t.origId.x),2e3*(this.options.seed+r+t.origId.z)))/2*this.options.childRandomPos.z;a.z=l*(this.am.size.z/this.options.density.z)-this.am.size.z/this.options.density.z/2}if(o.x=n*this.am.size.x/this.options.density.x-this.am.size.x/2+this.am.size.x/this.options.density.x/2,o.y=i*this.am.size.y/this.options.density.y-this.am.size.y/2+this.am.size.y/this.options.density.y/2,o.z=r*this.am.size.z/this.options.density.z-this.am.size.z/2+this.am.size.z/this.options.density.z/2,this.options.isInstanced){var h=(new c.kc).copy(a).add(o);e[n][i][r]=h}else{var d=new c.wb,f=this.createChild(t,n,i,r,null,d);f.position.copy(a),d.position.copy(o),d.add(f),e[n][i][r]=d}}}}},t.prototype.createInstance=function(){var t=new v;return t.spawnable=this,t.type=this.constructor.name,this.ts.mainScene.add(t.obj),t},t.prototype.createChild=function(t,e,n,i,r,a){return void 0===r&&(r=null),void 0===a&&(a=null),null},t.prototype.onAssetLoaded=function(t){},t.prototype.onRender=function(t){var e,n;this.controlPos.copy(this.ts.camera.position);for(var i=0;i<this.am.dimension.x;i++)for(var r=0;r<this.am.dimension.y;r++)for(var a=0;a<this.am.dimension.z;a++){var o=null===(n=null===(e=this.instances[i])||void 0===e?void 0:e[r])||void 0===n?void 0:n[a];if(o)for(var s=0;s<o.spawnedChildren.length;s++)this.manipulateChildRender(t,o,o.spawnedChildren[s])}},t.prototype.onPositionalRender=function(t){for(var e=0;e<this.positionalInstancesOnStage.length;e++)for(var n=this.positionalInstancesOnStage[e],i=0;i<n.spawnedChildren.length;i++)this.manipulateChildRender(t,n,n.spawnedChildren[i])},t.prototype.manipulateChildRender=function(t,e,n){},t.prototype.onResize=function(t){},t.prototype.onSkyUpdate=function(t){},t.prototype.onEffectsUpdate=function(t){},t.prototype.onAreaChange=function(t){for(var e,n,i=0;i<this.am.dimension.x;i++)for(var r=0;r<this.am.dimension.y;r++)for(var a=0;a<this.am.dimension.z;a++){var o=null===(n=null===(e=this.instances[i])||void 0===e?void 0:e[r])||void 0===n?void 0:n[a];o&&this.updateInstance(o,i,r,a)}},t.prototype.updateInstance=function(t,e,n,i){var r=e-Math.floor(this.am.dimension.x/2),a=i-Math.floor(this.am.dimension.z/2);if(this.updateArea(t.obj,r,"x"),this.updateArea(t.obj,a,"z"),this.am.dimension.y>1){var o=n-Math.floor(this.am.dimension.y/2);this.updateArea(t.obj,o,"y")}t.prevPosY===t.obj.position.y&&t.prevPosZ===t.obj.position.z&&t.prevPosX===t.obj.position.x||(t.obj.updateMatrixWorld(),this.updateAreaChildren(t),t.prevPosZ=t.obj.position.z,t.prevPosY=t.obj.position.y,t.prevPosX=t.obj.position.x)},t.prototype.updateAreaChildren=function(t){if(this.options.isInstanced){var e=[];for(i=0;i<this.options.density.x;i++)for(r=0;r<this.options.density.y;r++)for(a=0;a<this.options.density.z;a++){var n=t.instancedPositions[i][r][a];if(t.obj.getWorldPosition(this.instanceWorldPos),this.tempPos.copy(n).add(this.instanceWorldPos),(o=(1+this.cutoffNoise.simplex2(this.tempPos.x/this.am.size.x*this.options.detail,this.tempPos.z/this.am.size.z*this.options.detail))/2)>this.options.cutoff){c=1-(1-o)/(1-this.options.cutoff),u=(1+this.featherNoise.simplex2(1e3*this.tempPos.x,1e3*this.tempPos.z))/2;if(1-this.options.feather+c>u)if(this.options.takesUpSpace)this.ts.population.populate(this,t,null,n,i,a)&&e.push(this.createChildMatrix(t,n));else e.push(this.createChildMatrix(t,n))}}t.instancedMeshes.length>0&&(t.instancedMeshes.forEach((function(e){t.obj.remove(e)})),t.instancedMeshes=[]),this.createInstancedMeshes(e).forEach((function(e){t.instancedMeshes.push(e),t.obj.add(e)}))}else for(var i=0;i<this.options.density.x;i++)for(var r=0;r<this.options.density.y;r++)for(var a=0;a<this.options.density.z;a++)if(!this.options.isInstanced){var o,s=t.instanceChildren[i][r][a];if(t.obj.getWorldPosition(this.instanceWorldPos),this.tempPos.copy(s.position).add(this.instanceWorldPos),(o=(1+this.cutoffNoise.simplex2(this.tempPos.x/this.am.size.x*this.options.detail,this.tempPos.z/this.am.size.z*this.options.detail))/2)>this.options.cutoff){var c=1-(1-o)/(1-this.options.cutoff),u=(1+this.featherNoise.simplex2(1e3*this.tempPos.x,1e3*this.tempPos.z))/2;if(1-this.options.feather+c>u)if(this.options.takesUpSpace)this.ts.population.populate(this,t,s,null,i,a)&&this.manipulateChild(s,t,o,u);else this.spawnInstanceChild(t,s),this.manipulateChild(s,t,o,u);else this.removeInstanceChild(t,s)}else this.removeInstanceChild(t,s)}},t.prototype.manipulateChild=function(t,e,n,i){void 0===n&&(n=null),void 0===i&&(i=null)},t.prototype.createChildMatrix=function(t,e){return null},t.prototype.createInstancedMeshes=function(t){return null},t.prototype.updateArea=function(t,e,n){this.am.normalizedArea[n]<0&&this.am.normalizedArea[n]-e<-this.am.dimension[n]/2?t.position[n]=this.am.size[n]*e+this.am.areaSize[n]*this.am.largeArea[n]-this.am.areaSize[n]:this.am.normalizedArea[n]>0&&-this.am.normalizedArea[n]+e<-this.am.dimension[n]/2?t.position[n]=this.am.size[n]*e+this.am.areaSize[n]*this.am.largeArea[n]+this.am.areaSize[n]:t.position[n]=this.am.size[n]*e+this.am.areaSize[n]*this.am.largeArea[n]},t.prototype.spawnInstanceChild=function(t,e){t.spawnChild(e)},t.prototype.removeInstanceChild=function(t,e){t.removeChild(e)},t.prototype.destroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},t}(),y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.create=function(){},e.prototype.createChapel=function(){var t=this,e=this.ts.assets.getAsset("chapel").data,n=new c.nb({color:0});return this.ts.prepareFogMaterial(n).then((function(e){e.uniforms.fogMap={value:t.ts.cubeCamera.renderTarget.texture}})),e.traverse((function(t){t.isMesh&&(t.castShadow=!0,t.material=n)})),e.scale.setScalar(40),e.position.y=-40,e},e.prototype.createChild=function(t,e,n,i,r,a){var o=new c.wb,s=this.createChapel();o.add(s);var u=this.ts.assets.getPositionalAudio("chapel");return o.add(u),a.userData.audio=u,o},e.prototype.manipulateChild=function(t){var e=t.getWorldPosition(this.tempPos);t.position.y=this.ts.spawner.ground.getGroundLevelRay(e)},e}(g),b=function(){function t(t,e,n,i,r,a){this.config=t,this.controlObj=e,this.wingLgeom=n,this.wingRgeom=i,this.obj=new c.wb,this.wingPhase=Math.random()*Math.PI*2,this.circlingSize=10+10*Math.random(),this.disperse=10,this.disperseVec=new c.kc,this.rand=Math.random()*Math.PI*2,this.dampBase=100,this.speed=1,this.speedBase=.5*Math.random()+.5,this.tempDiffVector=new c.kc,this.tempGoalVector=new c.kc,this.tempControlPos=new c.kc,this.tempWorldPos=new c.kc,this.prevPos=new c.kc,this.circlingSize=t.circlingSize,this.disperse=t.disperse,this.disperseVec.set(this.disperse-Math.random()*this.disperse*2,this.disperse-Math.random()*this.disperse*2,this.disperse-Math.random()*this.disperse*2),this.wingL=this.createObj(this.obj,n,8421616,0,0,0,-90,40,0,1),this.wingR=this.createObj(this.obj,i,8421616,0,0,0,-90,-40,0,1),this.wingLTop=this.createObj(this.wingL.transformObj,r,8421616,-4,0,0,0,0,-65,1),this.wingRTop=this.createObj(this.wingR.transformObj,a,8421616,4,0,0,0,0,65,1),this.obj.scale.setScalar(t.birdSize),this.setTempVector(e,this.rand),this.obj.position.copy(this.tempGoalVector)}return t.prototype.createObj=function(t,e,n,i,r,a,o,s,u,l){var h=new c.wb,d=new c.wb,f=new c.ib(e,this.config.material);return h.position.set(i,r,a),h.rotation.set(o*Math.PI/180,s*Math.PI/180,u*Math.PI/180),h.scale.set(l,l,l),d.add(f),h.add(d),t.add(h),{obj:h,transformObj:d,origPos:new c.kc(i,r,a),origRot:new c.kc(o,s,u)}},t.prototype.update=function(t,e){var n=this.rand+e.elapsedTime/3;this.wingPhase+=this.speed;var i=Math.sin(this.wingPhase/2),r=Math.PI/180;this.wingL.transformObj.rotation.y=30*i*r,this.wingR.transformObj.rotation.y=30*-i*r,this.wingLTop.transformObj.rotation.y=(-50-50*i)*r,this.wingRTop.transformObj.rotation.y=-(-50-50*i)*r,this.speed=.6+.4*Math.sin(n)*this.speedBase;var a=(1.3-this.speed)*this.dampBase;this.setTempVector(t,n),this.tempDiffVector.copy(this.tempGoalVector),this.tempDiffVector.sub(this.obj.position).divideScalar(a),this.obj.position.add(this.tempDiffVector),this.obj.getWorldPosition(this.tempControlPos),this.tempControlPos.sub(this.prevPos).normalize().multiplyScalar(10).add(this.obj.getWorldPosition(this.tempWorldPos)),this.obj.lookAt(this.tempControlPos),this.obj.getWorldPosition(this.prevPos)},t.prototype.setTempVector=function(t,e){this.tempGoalVector.copy(t.position),this.tempGoalVector.add(this.disperseVec),this.tempGoalVector.x+=Math.sin(e)*this.circlingSize,this.tempGoalVector.y+=Math.sin(e/2)*this.circlingSize,this.tempGoalVector.z+=Math.sin(e/1.5)*this.circlingSize},t}(),_=function(){function t(t){this.config=t,this.birds=[],this.flockObj=new c.wb,this.controlObj=new c.wb,this.flockCenter=new c.kc,this.flyarea=new c.kc(30,30,30),this.flyspeed=new c.kc(5,5,5),this.flockCenter.set(t.x,t.y,t.z),this.flyarea.set(t.areax,t.areay,t.areaz),this.flyspeed.set(t.speedX,t.speedY,t.speedZ);var e=new c.jb({color:15724527}),n=new c.m(10,10,10);this.controlObj=new c.ib(n,e),this.update({elapsedTime:0,delta:0}),this.createBird()}return t.prototype.createBird=function(){for(var t=this.createShape([[-4,0],[0,0],[0,2],[-4,0]]),e=this.createShape([[4,0],[0,0],[0,2],[4,0]]),n=this.createShape([[-2,-1],[0,0],[0,3],[-2,-1]]),i=this.createShape([[2,-1],[0,0],[0,3],[2,-1]]),r=0;r<this.config.size;r++){var a=new b(this.config,this.controlObj,t,e,n,i);this.birds.push(a),this.flockObj.add(a.obj)}},t.prototype.createShape=function(t){var e=new c.Rb;e.moveTo(t[0][0],t[0][1]);for(var n=1;n<t.length;n++){var i=t[n];e.lineTo(i[0],i[1])}return new c.Sb(e)},t.prototype.update=function(t){var e=this.config.timeShift+t.elapsedTime;this.controlObj.position.x=this.flockCenter.x+Math.sin(e/this.flyspeed.x)*this.flyarea.x,this.controlObj.position.y=this.flockCenter.y+Math.sin(e/this.flyspeed.y)*this.flyarea.y,this.controlObj.position.z=this.flockCenter.z+Math.cos(e/this.flyspeed.z)*this.flyarea.z;for(var n=0;n<this.birds.length;n++){this.birds[n].update(this.controlObj,t)}},t}(),w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.flocks=[],e.lookPos=new c.kc,e}return Object(r.c)(e,t),e.prototype.create=function(){},e.prototype.createChild=function(t,e,n,i){var r=this,a=new c.wb,o=new _({size:this.ts.qc.birdFlockSize,x:0,y:0,z:0,speedX:2,speedY:2+Math.random(),speedZ:2,areax:250,areay:10,areaz:250,circlingSize:1,disperse:75,material:new c.jb({color:0,side:c.A}),timeShift:-50,birdSize:1});return this.ts.prepareFogMaterial(o.config.material).then((function(t){t.uniforms.fogMap={value:r.ts.cubeCamera.renderTarget.texture}})),o.flockObj.origClass=o,a.add(o.flockObj),a},e.prototype.setupSound=function(t,e){var n=new c.Db(this.ts.audio.ts.listener);n.setBuffer(e),n.setRefDistance(5),n.setVolume(2),n.play(),t.controlObj.add(n)},e.prototype.manipulateChild=function(t,e){t.position.y=this.ts.spawner.ground.getGroundLevelRay(this.tempPos.add(t.children[0].position))+300},e.prototype.manipulateChildRender=function(t,e,n){n.children[0].children[0].origClass.update(t)},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(g),x=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lookPos=new c.kc,e.camWorldDir=new c.kc,e}return Object(r.c)(e,t),e.prototype.create=function(){this.childGeom=new c.zb(this.am.size.x,this.am.size.z)},e.prototype.createChild=function(t,e,n,i){var r=this,a=new c.wb,o=new c.jb({map:this.ts.assets.getAsset("cloud").data,envMap:this.ts.cubeCamera.renderTarget.texture,transparent:!0,depthWrite:!1,depthTest:!1,blending:c.a,combine:c.rb,reflectivity:.5,refractionRatio:1});this.ts.prepareFogMaterial(o).then((function(t){t.uniforms.fogMap={value:r.ts.cubeCamera.renderTarget.texture}}));var s=new c.ib(this.childGeom,o);return a.add(s),s.renderOrder=99999,s.scale.setScalar(80/this.am.size.x),a.scale.x=a.scale.y=a.scale.z=4+3*Math.random(),a.origScale=a.scale.x,a.origPos=new c.kc(a.position.x,a.position.y,a.position.z),a.gridOrigPos=new c.kc,a.gridOrigPos.x=e,a.gridOrigPos.z=i,s.rotation.z=2*Math.PI*Math.random(),a.origRotZ=s.rotation.z,a.position.y=1,a},e.prototype.manipulateChild=function(t,e){t.position.y=this.ts.spawner.ground.getGroundLevel(this.tempPos.add(t.children[0].position))},e.prototype.getOpacity=function(t){var e=.5;return t<e?t/e:1-(t-e)/.5},e.prototype.manipulateChildRender=function(t,e,n){var i=100*this.ts.effectController.wind,r=n.children[0],a=r.children[0];r.getWorldPosition(this.tempPos);var o=this.tempPos,s=t.elapsedTime;this.controlPos.copy(this.ts.camera.position),this.tempPos.y=this.ts.camera.position.y;var c=Math.min(Math.max(this.tempPos.distanceTo(this.ts.camera.position)/780,0),1);a.material.opacity=(1-c)/2*this.ts.effectController.cloudOpacity;var u=r.origScale+2*this.noiseGenerators[0].simplex3(o.x/30,o.z/30,s/10*i);r.scale.x=r.scale.y=r.scale.z=u,a.rotation.z+=.001,this.ts.camera.getWorldDirection(this.camWorldDir),this.lookPos.copy(this.controlPos.add(this.camWorldDir.multiplyScalar(100).negate())),r.lookAt(this.lookPos)},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(g),k=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.create=function(){var t=this;this.am.onAreaChange.subscribe((function(e){t.visualizeNoise()})),this.visualizeNoise(),this.groundobj=new c.wb,this.vTempPos=new c.kc,this.raycaster=new c.Mb,this.raycasterDirection=new c.kc(0,-1,0),this.raycasterHelper=new c.kc(0,0,0),this.numVerts=this.ts.qc.groundVertices,this.scale=6,this.detail=.005/this.scale,this.strength=400*this.scale,this.detailStrength=3*this.scale,this.detailScale=2,this.childMat=new c.jb({color:new c.t(0,0,0)}),this.ts.prepareFogMaterial(this.childMat).then((function(e){e.uniforms.fogMap={value:t.ts.cubeCamera.renderTarget.texture}}))},e.prototype.createInstance=function(){var t=new v;return t.spawnable=this,this.groundobj.add(t.obj),this.ts.mainScene.add(this.groundobj),t},e.prototype.createChild=function(t,e,n,i){var r=new c.wb,a=this.ts.isDebug?10:0,o=new c.zb(this.am.size.x-a,this.am.size.z-a,this.numVerts,this.numVerts),s=new c.ib(o,this.childMat);return s.receiveShadow=!1,s.rotation.x=-90*Math.PI/180,this.ts.isDebug,r.add(s),r},e.prototype.manipulateChild=function(t,e,n,i){var r=t.children[0].children[0];r.frustumCulled=!1;var a=r.geometry.vertices;r.geometry.verticesNeedUpdate=!0;var o=this.numVerts+1;t.updateMatrixWorld();for(var s=0;s<o;s++)for(var c=0;c<o;c++){var u=c*(this.numVerts+1)+s;this.vTempPos.copy(a[u]),r.localToWorld(this.vTempPos),a[u].z=this.getGroundLevel(this.vTempPos)}r.geometry.computeBoundingBox()},e.prototype.getGroundLevel=function(t,e){void 0===e&&(e=!0);var n=t.x*this.detail,i=t.z*this.detail,r=(1+this.noiseGenerators[1].simplex2(n/10,i/10))/2,a=0;e&&(a=this.noiseGenerators[2].simplex2(n*this.detailScale,i*this.detailScale)*this.detailStrength);return(r/1+(1+this.noiseGenerators[0].simplex2(n,i))/2/1)/2*this.strength*(r*r*r)+a},e.prototype.getGroundLevelRay=function(t){this.raycasterHelper.set(Math.round(t.x),1e3,Math.round(t.z)),this.raycaster.set(this.raycasterHelper,this.raycasterDirection);var e=this.raycaster.intersectObjects(this.groundobj.children,!0);return e[0]?-(e[0].distance-1e3):this.getGroundLevel(t)},e.prototype.visualizeNoise=function(){if(this.ts.helperCanvas){var t=this.ts.helperCanvas;t.width=20,t.height=20;var e=t.getContext("2d");e.clearRect(0,0,t.width,t.height);for(var n=0;n<t.width;n++)for(var i=0;i<t.height;i++){var r=this.am.currentArea.x*this.am.size.x+n/t.width*this.am.dimension.x*this.am.size.x*3-this.am.dimension.x*this.am.size.x/2*3,a=this.am.currentArea.z*this.am.size.z+i/t.height*this.am.dimension.z*this.am.size.z*3-this.am.dimension.z*this.am.size.z/2*3,o=(this.getGroundLevel(new c.kc(r,0,a))+100)/this.strength,s="rgba("+(o>1.6?255:0)+",0,0,"+Math.abs(o)+")";e.fillStyle=s,e.fillRect(n,i,1,1)}}},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(g),O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.create=function(){var t=this,e=this.ts.assets.getAsset("fo0").data.clone(),n=this.ts.assets.getAsset("fo0d").data,i=this.ts.assets.getAsset("tr0").data.clone(),r=this.ts.renderer.capabilities.getMaxAnisotropy();n.anisotropy=r,this.treeHeadGeom=e.children[0].geometry,this.treeHeadMat=new c.jb({map:n,alphaTest:.6,envMap:this.ts.cubeCamera.renderTarget.texture,side:c.A,color:new c.t(6854280)}),this.treeTrunkGeom=i.children[0].geometry,this.treeTrunkMat=new c.jb({color:new c.t(0,0,0),envMap:this.ts.cubeCamera.renderTarget.texture,reflectivity:.5,refractionRatio:1}),this.ts.prepareFogMaterial(this.treeHeadMat).then((function(e){e.uniforms.fogMap={value:t.ts.cubeCamera.renderTarget.texture}})),this.ts.prepareFogMaterial(this.treeTrunkMat).then((function(e){e.uniforms.fogMap={value:t.ts.cubeCamera.renderTarget.texture}}))},e.prototype.createTree=function(){var t=new c.wb,e=new c.ib(this.treeHeadGeom.clone(),this.treeHeadMat),n=new c.ib(this.treeTrunkGeom.clone(),this.treeTrunkMat);t.add(e),t.add(n);var i=new c.C;i.y=Math.PI*this.noiseGenerators[2].simplex2(50*this.tempPos.x,50*this.tempPos.z),i.x=this.noiseGenerators[2].simplex2(11*this.tempPos.x,80*this.tempPos.z)/10,i.z=this.noiseGenerators[2].simplex2(1e3*this.tempPos.x,5e3*this.tempPos.z)/10,t.quaternion.setFromEuler(i);var r=10+10*Math.abs(this.noiseGenerators[1].simplex2(10*this.tempPos.x,10*this.tempPos.z));return t.scale.setScalar(1.5*r),t},e.prototype.createChildMatrix=function(t,e){var n=new c.hb,i=e,r=new c.C,a=new c.Fb,o=new c.kc;t.obj.getWorldPosition(this.tempPos),this.tempPos.add(e);var s=this.ts.spawner.ground.getGroundLevel(this.tempPos)-10;e.y=s,r.y=Math.PI*this.noiseGenerators[2].simplex2(50*this.tempPos.x,50*this.tempPos.z),r.x=this.noiseGenerators[2].simplex2(11*this.tempPos.x,80*this.tempPos.z)/10,r.z=this.noiseGenerators[2].simplex2(1e3*this.tempPos.x,5e3*this.tempPos.z)/10,a.setFromEuler(r);var u=10+10*Math.abs(this.noiseGenerators[1].simplex2(10*this.tempPos.x,10*this.tempPos.z));return o.setScalar(1.5*u),n.compose(i,a,o),n},e.prototype.createInstancedMeshes=function(t){for(var e=[],n=new c.L(this.treeHeadGeom.clone(),this.treeHeadMat,t.length),i=new c.L(this.treeTrunkGeom.clone(),this.treeTrunkMat,t.length),r=0;r<t.length;r++){var a=t[r];n.setMatrixAt(r,a),i.setMatrixAt(r,a)}return e.push(n,i),e},e.prototype.createChild=function(t,e,n,i){var r=new c.wb,a=this.createTree();return r.add(a),r},e.prototype.manipulateChild=function(t){t.children[0].updateMatrixWorld();for(var e=0;e<t.children[0].children.length;e++){var n=t.children[0].children[e];n.getWorldPosition(this.tempPos);n.position.y=this.ts.spawner.ground.getGroundLevel(this.tempPos)}},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(g),S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spriteWorldPos=new c.kc,e}return Object(r.c)(e,t),e.prototype.create=function(){},e.prototype.createChildMatrix=function(t,e){var n=new c.hb,i=e,r=new c.C,a=new c.Fb,o=new c.kc;t.obj.getWorldPosition(this.tempPos),this.tempPos.add(e);var s=this.ts.spawner.ground.getGroundLevel(this.tempPos);r.y=Math.PI*this.noiseGenerators[2].simplex2(50*this.tempPos.x,50*this.tempPos.z),r.x=this.noiseGenerators[2].simplex2(11*this.tempPos.x,80*this.tempPos.z),r.z=this.noiseGenerators[2].simplex2(1e3*this.tempPos.x,5e3*this.tempPos.z),a.setFromEuler(r);var u=30+15*Math.abs(this.noiseGenerators[1].simplex2(10*this.tempPos.x,10*this.tempPos.z));return o.setScalar(u/200),e.y=s-50,n.compose(i,a,o),n},e.prototype.createInstancedMeshes=function(t){var e=this,n=this.createRock(2).children[0].geometry,i=new c.jb({color:new c.t(0,0,0)}),r=[];this.ts.prepareFogMaterial(i).then((function(t){t.uniforms.fogMap={value:e.ts.cubeCamera.renderTarget.texture}}));for(var a=new c.L(n.clone(),i,t.length),o=0;o<t.length;o++){var s=t[o];a.setMatrixAt(o,s)}return r.push(a),r},e.prototype.createRock=function(t){var e=this.ts.assets.getAsset("rock"+t).data.clone();return e.traverse((function(t){t.isMesh&&(t.castShadow=!0,t.material=new c.jb({color:new c.t(0,0,0)}),t.geometry.computeVertexNormals(),t.geometry.buffersNeedUpdate=!0,t.geometry.uvsNeedUpdate=!0)})),e},e.prototype.createChild=function(t,e,n,i,r){var a=this;void 0===r&&(r=null);var o=new c.wb,s=this.createRock(2),u=s.children[0].material;return this.ts.prepareFogMaterial(u).then((function(t){t.uniforms.fogMap={value:a.ts.cubeCamera.renderTarget.texture}})),s.traverse((function(t){t.isMesh&&(t.receiveShadow=!1,t.castShadow=!1)})),s.scale.setScalar(.1+.6*this.noiseGenerators[0].simplex2(100*e,100*n)),s.rotation.x=this.noiseGenerators[1].simplex2(100*e,100*n),s.rotation.y=this.noiseGenerators[2].simplex2(100*e,10*n),s.rotation.z=this.noiseGenerators[1].simplex2(10*e,50*n),s.position.y=r.pos.y,o.add(s),o},e.prototype.manipulateChild=function(t){t.children[0].updateMatrixWorld();for(var e=0;e<t.children.length;e++){var n=t.children[e];n.getWorldPosition(this.tempPos),n.position.y=this.ts.spawner.ground.getGroundLevel(this.tempPos)}},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(g),C=n("RHZy"),A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spriteWorldPos=new c.kc,e.actions=[],e.tweens=[],e}return Object(r.c)(e,t),e.prototype.create=function(){},e.prototype.createMe=function(){var t=this,e=new c.wb,n=this.ts.assets.getAsset("me").data,i=this.ts.assets.getAsset("meAnim").data,r=new c.jb({color:new c.t(.3,.3,.3)});return r.skinning=!0,this.ts.prepareFogMaterial(r).then((function(e){e.uniforms.fogMap={value:t.ts.cubeCamera.renderTarget.texture}})),n.traverse((function(t){t.name.endsWith("border")&&(t.visible=!1),t.material&&!t.name.endsWith("border")&&(t.receiveShadow=!1,t.castShadow=!0,t.material=r)})),e.add(n),n.animations.push(i.animations[0]),i.animations[0].name="gesture",this.mixer=new c.d(n),this.mixer.timeScale=.5,this.mixer.clipAction(n.animations[1]).play(),e},e.prototype.createCat=function(){var t=this,e=this.ts.assets.getAsset("cat2").data.scene,n=this.ts.assets.getAsset("cat2").data.animations;e.traverse((function(e){if(e.isMesh){var n=new c.jb({color:new c.t(.3,.3,.3)});n.skinning=!0,e.material=n,t.ts.prepareFogMaterial(e.material).then((function(e){e.uniforms.fogMap={value:t.ts.cubeCamera.renderTarget.texture}}))}})),this.catmixer=new c.d(e),this.catmixer.timeScale=1;var i=.6,r=[n[10],n[5],n[8],n[9],n[21],n[13],n[14]];r.forEach((function(e,n){var a=t.catmixer.clipAction(e);a.setEffectiveWeight(0),t.actions.push(a);var o={weight:1},s=C.b.timeline({repeat:-1,delay:2.6*n,repeatDelay:2.6*(r.length-1)-i});s.from(o,{weight:0,duration:i,onUpdate:function(){t.actions[n].setEffectiveWeight(o.weight)}}),s.to(o,{delay:2,weight:0,duration:i,onUpdate:function(){t.actions[n].setEffectiveWeight(o.weight)}}),a.play()}));var a=new c.Ab(16777215,1,20,1);return a.position.y=.3,a.castShadow=!0,e},e.prototype.createChild=function(t,e,n,i,r){var a=this,o=new c.wb;switch(r.data.scene){case"me":var s=new c.Ab(16777215,1,150,.8);s.position.y=50,s.position.x=-10,s.position.z=0,s.castShadow=!0,s.shadow.mapSize.width=512,s.shadow.mapSize.height=512,s.shadow.camera.near=8,s.shadow.camera.far=150,s.shadow.bias=1e-4;var u=new c.nb({color:new c.t(11184810)});this.ts.prepareFogMaterial(u).then((function(t){t.uniforms.fogMap={value:a.ts.cubeCamera.renderTarget.texture}}));var l=new c.ib(new c.m(25,4,37),u);l.receiveShadow=!0,l.castShadow=!0,o.add(l),l.position.y=5,l.position.z=-25,l.position.x=-25;var h=this.ts.assets.getAsset("house").data;h.traverse((function(t){t.isMesh&&("Windows"===t.name&&(t.visible=!1),t.material.color=new c.t(11184810),a.ts.prepareFogMaterial(t.material).then((function(t){t.uniforms.fogMap={value:a.ts.cubeCamera.renderTarget.texture}})),t.material.needsUpdate=!0,"Windows"!==t.name&&(t.castShadow=!0),t.receiveShadow=!0)})),h.position.y=-18,h.scale.setScalar(2),h.rotation.y=Math.PI/2,o.add(h),o.add(s);var d=this.createMe();d.scale.setScalar(.2),d.position.x=80,d.position.z=55,d.position.y=3,d.rotation.y=97/180*Math.PI,o.add(d);var f=this.createCat();f.position.x=70,f.position.z=35,f.position.x=90,f.position.y=78.8,f.scale.setScalar(15),f.rotation.y=20/180*Math.PI,o.add(f)}return o},e.prototype.manipulateChild=function(t){t.children[0].updateMatrixWorld();var e=t.children[0];e.getWorldPosition(this.tempPos),e.position.y=this.ts.spawner.ground.getGroundLevel(this.tempPos)},e.prototype.manipulateChildRender=function(t,e,n){this.mixer&&this.mixer.update(t.delta),this.catmixer&&this.catmixer.update(t.delta)},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(g),M=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.create=function(){},e.prototype.createTower=function(){var t=this,e=this.ts.assets.getAsset("tower").data,n=new c.jb({color:new c.t(0,0,0)});return this.ts.prepareFogMaterial(n).then((function(e){e.uniforms.fogMap={value:t.ts.cubeCamera.renderTarget.texture}})),e.traverse((function(t){t.isMesh&&(t.material=n)})),e},e.prototype.createChild=function(t,e,n,i){var r=new c.wb,a=this.createTower();return a.scale.setScalar(1e3),a.position.y=-200,r.add(a),r},e.prototype.manipulateChild=function(t){var e=t.getWorldPosition(this.tempPos);t.position.y=this.ts.spawner.ground.getGroundLevelRay(e)+.3},e}(g),T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.create=function(){},e.prototype.createVillage=function(t){var e=this,n=this.ts.assets.getAsset("v1").data,i=this.ts.assets.getAsset("v2").data,r=this.ts.assets.getAsset("v3").data,a=this.ts.assets.getPositionalAudio("village"),o=[n,i,r],s=new c.nb({color:0});this.ts.prepareFogMaterial(s).then((function(t){t.uniforms.fogMap={value:e.ts.cubeCamera.renderTarget.texture}})),o.forEach((function(t){t.traverse((function(t){t.isMesh&&(t.castShadow=!0,t.material=s)})),t.scale.setScalar(14),t.position.y=-40}));for(var u=this.ts.site.isMobile?3:4,l=this.ts.site.isMobile?3:4,h=this.ts.site.isMobile?300:250,d=new c.wb,f=0;f<u;f++)for(var p=0;p<l;p++){var v=this.noiseGenerators[0].simplex2(p,f),m=o[Math.floor(Math.abs((10+v+f*p)%3))].clone();m.position.x=h*f,m.position.z=h*p,m.rotation.y=Math.PI*v,d.add(m)}return d.add(a),a.position.x=h*u/2,a.position.z=h*l/2,t.userData.audio=a,d},e.prototype.createChild=function(t,e,n,i,r,a){return this.createVillage(a)},e.prototype.manipulateChild=function(t,e){for(var n=0;n<t.children[0].children.length;n++){var i=t.children[0].children[n];i.getWorldPosition(this.tempPos);i.position.y=this.ts.spawner.ground.getGroundLevel(this.tempPos)-20,"Audio"!==i.type&&"Mesh"!==i.type||(i.position.y+=150)}},e}(g),E=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.requestedAreas=[],e.bigArea=new c.kc,e}return Object(r.c)(e,t),e.prototype.create=function(){var t=this;return this.ground=new k(this.ts,this.ts.areas.mainArea,{seed:356,hookToRender:!1,density:new c.kc(1,1,1),cutoff:0,detail:1,feather:0,noiseGeneratorNum:3}),this.spawnables={avillage:new T(this.ts,this.ts.areas.mainArea,{seed:3010101,density:new c.kc(1,1,1),cutoff:.89,detail:1,feather:0,noiseGeneratorNum:2,creationDelay:550}),bird:new w(this.ts,this.ts.areas.mainArea,{seed:78e4,density:new c.kc(1,1,1),cutoff:.3,detail:1,feather:0,hookToRender:!0}),treePositional:new O(this.ts,this.ts.areas.mainArea,{seed:154,density:new c.kc(100,1,100),noiseGeneratorNum:3,takesUpSpace:!0,isPositional:!0,creationDelay:30}),scenePositional:new A(this.ts,this.ts.areas.mainArea,{seed:504554,density:new c.kc(100,1,100),cutoff:.5,detail:1,feather:1,childRandomPos:new c.kc(1,0,1),noiseGeneratorNum:3,takesUpSpace:!0,isPositional:!0,hookToRender:!0,creationDelay:250}),rockPositional:new S(this.ts,this.ts.areas.mainArea,{seed:50554,density:new c.kc(100,1,100),cutoff:.5,detail:1,feather:1,childRandomPos:new c.kc(1,0,1),noiseGeneratorNum:3,takesUpSpace:!0,isPositional:!0}),tree2:new O(this.ts,this.ts.areas.mainArea,{seed:10,density:new c.kc(this.ts.qc.treeDensity,1,this.ts.qc.treeDensity),cutoff:.5,detail:1,feather:1,childRandomPos:new c.kc(1,0,1),noiseGeneratorNum:3,takesUpSpace:!0,isInstanced:!0,creationDelay:90}),rock:new S(this.ts,this.ts.areas.mainArea,{seed:50554,density:new c.kc(this.ts.qc.stoneDensity,1,this.ts.qc.stoneDensity),cutoff:.5,detail:1,feather:1,childRandomPos:new c.kc(1,0,1),noiseGeneratorNum:3,takesUpSpace:!0,isInstanced:!0,creationDelay:110}),cityPositional:new M(this.ts,this.ts.areas.mainArea,{seed:2010101,density:new c.kc(1,1,1),cutoff:1,detail:1,feather:0,childRandomPos:new c.kc(1,0,1),noiseGeneratorNum:2,takesUpSpace:!1,isPositional:!0}),objPositional:new y(this.ts,this.ts.areas.mainArea,{seed:2010101,density:new c.kc(1,1,1),cutoff:1,detail:1,feather:0,childRandomPos:new c.kc(1,0,1),noiseGeneratorNum:2,takesUpSpace:!1,isPositional:!0,positions:[new m("objPositional",new c.kc(1790,0,-6301),{something:1546})]}),cloud:new x(this.ts,this.ts.areas.aClouds,{seed:4545,hookToRender:!0,density:new c.kc(1,1,1),cutoff:0,detail:1,feather:0,noiseGeneratorNum:1,creationDelay:0})},this.ts.areas.bigArea.onAreaChange.subscribe((function(e){t.onAreaChange(e).then()})),this.onAreaChange(this.ts.areas.bigArea.currentArea)},e.prototype.onAreaChange=function(t){var e=this;return new Promise((function(n,i){for(var r=[],a=-1;a<2;a++)for(var o=-1;o<2;o++){var s=t.x+a,c=t.z+o;e.requestedAreas[s]&&e.requestedAreas[s][c]||(e.requestedAreas[s]||(e.requestedAreas[s]=[]),r.push({x:s,z:c}),e.requestedAreas[s][c]=!0)}e.ts.api.getBigAreaElements(r).then((function(t){t.forEach((function(t){e.spawnables[t.id].createPositionalInstance(t)})),e.ts.areas.mainArea.checkPositionalSpawnables(),n(!0)}))}))},e.prototype.spawnPositional=function(t){this.spawnables[t.id].createPositionalInstance(t),this.ts.areas.mainArea.checkPositionalSpawnables()},e.prototype.onAssetLoaded=function(t){},e.prototype.onRender=function(t){},e.prototype.onResize=function(t){},e.prototype.onSkyUpdate=function(t){},e.prototype.onEffectsUpdate=function(t){},e}(s),P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.helper=new c.wb,e.moveState={up:0,down:0,left:0,right:0,forward:0,back:0,pitchUp:0,pitchDown:0,yawLeft:0,yawRight:0,rollLeft:0,rollRight:0},e.prevPos=new c.kc(0,0,0),e.lookAtGoal=new c.kc(0,0,0),e.bclookAtGoal=new c.kc(0,0,-10),e.nextPosVector=new c.kc(0,0,0),e.goalPos=new c.kc(0,0,0),e.tempWorldDir=new c.kc(0,0,0),e.tempWorldPos=new c.kc(0,0,0),e.currRotSpeed={x:0,y:0},e.currPosSpeed=new c.kc,e.speedDamp=10,e.speedGoal=new c.kc,e.speedGoal2=new c.kc,e.localForward=new c.kc,e.camGoalPos=new c.kc,e.camBehindDirection=new c.kc,e.camSpeed=new c.kc,e.rotQuat=new c.Fb,e.localUp=new c.kc(0,1,0),e.camZShift=10,e.camXShift=0,e.camBehindMulti=e.ts.isDebug?30:10,e.currRotY=0,e.damping=10,e.ydamping=10,e}return Object(r.c)(e,t),e.prototype.create=function(){var t=this,e=new c.pb({color:16711680}),n=new c.m(1,1,1),i=new c.ib(n,e);this.helper.add(i);var r=new c.jb({color:16711680}),a=new c.m(.3,.3,2),o=new c.ib(a,r);o.position.z=1,this.helper.add(o);var s=new c.jb({color:65280}),u=new c.m(20,.2,.2),l=new c.ib(u,s);l.position.z=1.6,this.helper.add(l),setTimeout((function(e){t.onResize({width:t.ts.width,height:t.ts.height})}))},e.prototype.onRender=function(t){var e=this.ts.nippleService,n=this.ts.controlObj;e.isActive?(n.translateZ(10*-e.speed.y),this.ts.rotationDistort.y=n.rotation.y,n.rotateY(-e.speed.x/120),n.rotateZ(2*-e.speed.x/120)):(this.ts.autofly&&(n.translateZ(-3),n.rotateZ(Math.sin(t.elapsedTime/4)/180)),n.rotateY((this.ts.rotationDistort.y-n.rotation.y)/this.damping)),n.rotateZ((this.ts.rotationDistort.z-n.rotation.z)/this.damping),n.rotateX((this.ts.rotationDistort.x-n.rotation.x)/this.damping),this.setCameraPos(this.damping)},e.prototype.setCameraPos=function(t){void 0===t&&(t=5);var e=this.ts.controlObj;this.ts.camera.quaternion.x+=e.quaternion.x-this.ts.camera.quaternion.x,this.ts.camera.quaternion.y+=e.quaternion.y-this.ts.camera.quaternion.y,this.ts.camera.quaternion.z+=e.quaternion.z-this.ts.camera.quaternion.z,this.ts.camera.quaternion.w+=e.quaternion.w-this.ts.camera.quaternion.w;var n=this.ts.poi.getYGoal(this.ts.camera.position);this.ts.camera.position.x+=(e.position.x-this.ts.camera.position.x+this.camXShift)/t,this.ts.camera.position.z+=(e.position.z-this.ts.camera.position.z)/t,this.ts.camera.position.y+=(n.absoluteY+this.ts.cameraController.extraY-this.ts.camera.position.y+this.ts.cameraController.shiftY+1)/this.ydamping},e.prototype.onResize=function(t){},e}(s),D=n("foSv"),j=n("s4An");var R=n("RHh3");function I(t){var e="function"==typeof Map?new Map:void 0;return(I=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return Object(R.a)(t,arguments,Object(D.a)(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Object(j.a)(i,t)})(t)}var L=n("XTTE"),N=n("rePB");function F(t,e,n,i){return(F="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,n,i){var r,a=Object(L.a)(t,e);if(a){if((r=Object.getOwnPropertyDescriptor(a,e)).set)return r.set.call(i,n),!0;if(!r.writable)return!1}if(r=Object.getOwnPropertyDescriptor(i,e)){if(!r.writable)return!1;r.value=n,Object.defineProperty(i,e,r)}else Object(N.a)(i,e,n);return!0})(t,e,n,i)}var B=n("ReuC"),z=n("JX7q"),U=n("uFwe"),H=n("Ji7U"),V=n("LK+K"),G=n("1OyB"),W=n("vuIU"),X=0,q=1,Y="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",Q=(c.Qb,"uniform sampler2D inputBuffer;uniform sampler2D cocBuffer;uniform vec2 texelSize;uniform float scale;\n#if PASS == 1\nuniform vec4 kernel64[32];\n#else\nuniform vec4 kernel16[8];\n#endif\nvarying vec2 vUv;void main(){\n#ifdef FOREGROUND\nvec2 CoCNearFar=texture2D(cocBuffer,vUv).rg;float CoC=CoCNearFar.r*scale;\n#else\nfloat CoC=texture2D(cocBuffer,vUv).g*scale;\n#endif\nif(CoC==0.0){gl_FragColor=texture2D(inputBuffer,vUv);}else{\n#ifdef FOREGROUND\nvec2 step=texelSize*max(CoC,CoCNearFar.g*scale);\n#else\nvec2 step=texelSize*CoC;\n#endif\n#if PASS == 1\nvec4 acc=vec4(0.0);for(int i=0;i<32;++i){vec4 kernel=kernel64[i];vec2 uv=step*kernel.xy+vUv;acc+=texture2D(inputBuffer,uv);uv=step*kernel.zw+vUv;acc+=texture2D(inputBuffer,uv);}gl_FragColor=acc/64.0;\n#else\nvec4 maxValue=texture2D(inputBuffer,vUv);for(int i=0;i<8;++i){vec4 kernel=kernel16[i];vec2 uv=step*kernel.xy+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);uv=step*kernel.zw+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);}gl_FragColor=maxValue;\n#endif\n}}"),K=function(t){Object(H.a)(n,t);var e=Object(V.a)(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(G.a)(this,n),(t=e.call(this,{type:"BokehMaterial",defines:{PASS:i?"2":"1"},uniforms:{kernel64:new c.ec(null),kernel16:new c.ec(null),inputBuffer:new c.ec(null),cocBuffer:new c.ec(null),texelSize:new c.ec(new c.jc),scale:new c.ec(1)},fragmentShader:Q,vertexShader:Y,depthWrite:!1,depthTest:!1})).toneMapped=!1,r&&(t.defines.FOREGROUND="1"),t.generateKernel(),t}return Object(W.a)(n,[{key:"generateKernel",value:function(){for(var t=new Float32Array(128),e=new Float32Array(32),n=0,i=0,r=0;r<80;++r){var a=2.39996323*r,o=Math.sqrt(r)/Math.sqrt(80),s=o*Math.cos(a),u=o*Math.sin(a);r%5==0?(e[i++]=s,e[i++]=u):(t[n++]=s,t[n++]=u)}for(var l=[],h=[],d=0;d<128;)l.push(new c.lc(t[d++],t[d++],t[d++],t[d++]));for(var f=0;f<32;)h.push(new c.lc(e[f++],e[f++],e[f++],e[f++]));this.uniforms.kernel64.value=l,this.uniforms.kernel16.value=h}},{key:"setTexelSize",value:function(t,e){this.uniforms.texelSize.value.set(t,e)}}]),n}(c.Qb),Z=function(t){Object(H.a)(n,t);var e=Object(V.a)(n);function n(t){var i;return Object(G.a)(this,n),(i=e.call(this,{type:"CircleOfConfusionMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new c.ec(null),focusDistance:new c.ec(0),focalLength:new c.ec(0),cameraNear:new c.ec(.3),cameraFar:new c.ec(1e3)},fragmentShader:"#include <common>\n#include <packing>\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nuniform float focusDistance;uniform float focalLength;uniform float cameraNear;uniform float cameraFar;varying vec2 vUv;float readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}void main(){float depth=readDepth(vUv);\n#ifdef PERSPECTIVE_CAMERA\nfloat viewZ=perspectiveDepthToViewZ(depth,cameraNear,cameraFar);float linearDepth=viewZToOrthographicDepth(viewZ,cameraNear,cameraFar);\n#else\nfloat linearDepth=depth;\n#endif\nfloat signedDistance=linearDepth-focusDistance;float magnitude=smoothstep(0.0,focalLength,abs(signedDistance));gl_FragColor.rg=vec2(step(signedDistance,0.0)*magnitude,step(0.0,signedDistance)*magnitude);}",vertexShader:Y,depthWrite:!1,depthTest:!1})).toneMapped=!1,i.adoptCameraSettings(t),i}return Object(W.a)(n,[{key:"adoptCameraSettings",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!==t&&(this.uniforms.cameraNear.value=t.near,this.uniforms.cameraFar.value=t.far,t instanceof c.yb?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},{key:"depthPacking",get:function(){return Number(this.defines.DEPTH_PACKING)},set:function(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}}]),n}(c.Qb),J="varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;\n#if EDGE_DETECTION_MODE != 0\nvarying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;\n#endif\n#if EDGE_DETECTION_MODE == 1\n#include <common>\n#endif\n#if EDGE_DETECTION_MODE == 0 || PREDICATION_MODE == 1\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nfloat readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}vec3 gatherNeighbors(){float p=readDepth(vUv);float pLeft=readDepth(vUv0);float pTop=readDepth(vUv1);return vec3(p,pLeft,pTop);}\n#elif PREDICATION_MODE == 2\nuniform sampler2D predicationBuffer;vec3 gatherNeighbors(){float p=texture2D(predicationBuffer,vUv).r;float pLeft=texture2D(predicationBuffer,vUv0).r;float pTop=texture2D(predicationBuffer,vUv1).r;return vec3(p,pLeft,pTop);}\n#endif\n#if PREDICATION_MODE != 0\nvec2 calculatePredicatedThreshold(){vec3 neighbours=gatherNeighbors();vec2 delta=abs(neighbours.xx-neighbours.yz);vec2 edges=step(PREDICATION_THRESHOLD,delta);return PREDICATION_SCALE*EDGE_THRESHOLD*(1.0-PREDICATION_STRENGTH*edges);}\n#endif\n#if EDGE_DETECTION_MODE != 0\nuniform sampler2D inputBuffer;\n#endif\nvoid main(){\n#if EDGE_DETECTION_MODE == 0\nconst vec2 threshold=vec2(DEPTH_THRESHOLD);\n#elif PREDICATION_MODE != 0\nvec2 threshold=calculatePredicatedThreshold();\n#else\nconst vec2 threshold=vec2(EDGE_THRESHOLD);\n#endif\n#if EDGE_DETECTION_MODE == 0\nvec3 neighbors=gatherNeighbors();vec2 delta=abs(neighbors.xx-vec2(neighbors.y,neighbors.z));vec2 edges=step(threshold,delta);if(dot(edges,vec2(1.0))==0.0){discard;}gl_FragColor=vec4(edges,0.0,1.0);\n#elif EDGE_DETECTION_MODE == 1\nfloat l=linearToRelativeLuminance(texture2D(inputBuffer,vUv).rgb);float lLeft=linearToRelativeLuminance(texture2D(inputBuffer,vUv0).rgb);float lTop=linearToRelativeLuminance(texture2D(inputBuffer,vUv1).rgb);vec4 delta;delta.xy=abs(l-vec2(lLeft,lTop));vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}float lRight=linearToRelativeLuminance(texture2D(inputBuffer,vUv2).rgb);float lBottom=linearToRelativeLuminance(texture2D(inputBuffer,vUv3).rgb);delta.zw=abs(l-vec2(lRight,lBottom));vec2 maxDelta=max(delta.xy,delta.zw);float lLeftLeft=linearToRelativeLuminance(texture2D(inputBuffer,vUv4).rgb);float lTopTop=linearToRelativeLuminance(texture2D(inputBuffer,vUv5).rgb);delta.zw=abs(vec2(lLeft,lTop)-vec2(lLeftLeft,lTopTop));maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges.xy*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);\n#elif EDGE_DETECTION_MODE == 2\nvec4 delta;vec3 c=texture2D(inputBuffer,vUv).rgb;vec3 cLeft=texture2D(inputBuffer,vUv0).rgb;vec3 t=abs(c-cLeft);delta.x=max(max(t.r,t.g),t.b);vec3 cTop=texture2D(inputBuffer,vUv1).rgb;t=abs(c-cTop);delta.y=max(max(t.r,t.g),t.b);vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}vec3 cRight=texture2D(inputBuffer,vUv2).rgb;t=abs(c-cRight);delta.z=max(max(t.r,t.g),t.b);vec3 cBottom=texture2D(inputBuffer,vUv3).rgb;t=abs(c-cBottom);delta.w=max(max(t.r,t.g),t.b);vec2 maxDelta=max(delta.xy,delta.zw);vec3 cLeftLeft=texture2D(inputBuffer,vUv4).rgb;t=abs(c-cLeftLeft);delta.z=max(max(t.r,t.g),t.b);vec3 cTopTop=texture2D(inputBuffer,vUv5).rgb;t=abs(c-cTopTop);delta.w=max(max(t.r,t.g),t.b);maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);\n#endif\n}",$="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;\n#if EDGE_DETECTION_MODE != 0\nvarying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;\n#endif\nvoid main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,0.0);vUv1=vUv+texelSize*vec2(0.0,-1.0);\n#if EDGE_DETECTION_MODE != 0\nvUv2=vUv+texelSize*vec2(1.0,0.0);vUv3=vUv+texelSize*vec2(0.0,1.0);vUv4=vUv+texelSize*vec2(-2.0,0.0);vUv5=vUv+texelSize*vec2(0.0,-2.0);\n#endif\ngl_Position=vec4(position.xy,1.0,1.0);}",tt=(c.Qb,"#include <common>\n#include <dithering_pars_fragment>\nuniform sampler2D inputBuffer;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;\n#include <dithering_fragment>\n}"),et="uniform vec2 texelSize;uniform vec2 halfTexelSize;uniform float kernel;uniform float scale;/*Packing multiple texture coordinates into one varying and using a swizzle toextract them in the fragment shader still causes a dependent texture read.*/varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize*vec2(kernel)+halfTexelSize)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}",nt=function(t){Object(H.a)(n,t);var e=Object(V.a)(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new c.jc;return Object(G.a)(this,n),(t=e.call(this,{type:"ConvolutionMaterial",uniforms:{inputBuffer:new c.ec(null),texelSize:new c.ec(new c.jc),halfTexelSize:new c.ec(new c.jc),kernel:new c.ec(0),scale:new c.ec(1)},fragmentShader:tt,vertexShader:et,depthWrite:!1,depthTest:!1})).toneMapped=!1,t.setTexelSize(i.x,i.y),t.kernelSize=rt.LARGE,t}return Object(W.a)(n,[{key:"getKernel",value:function(){return it[this.kernelSize]}},{key:"setTexelSize",value:function(t,e){this.uniforms.texelSize.value.set(t,e),this.uniforms.halfTexelSize.value.set(t,e).multiplyScalar(.5)}}]),n}(c.Qb),it=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],rt={VERY_SMALL:0,SMALL:1,MEDIUM:2,LARGE:3,VERY_LARGE:4,HUGE:5},at=function(t){Object(H.a)(n,t);var e=Object(V.a)(n);function n(){var t;return Object(G.a)(this,n),(t=e.call(this,{type:"CopyMaterial",uniforms:{inputBuffer:new c.ec(null),opacity:new c.ec(1)},fragmentShader:"uniform sampler2D inputBuffer;uniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;\n#include <encodings_fragment>\n}",vertexShader:Y,depthWrite:!1,depthTest:!1})).toneMapped=!1,t}return n}(c.Qb),ot="#include <packing>\n#include <clipping_planes_pars_fragment>\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nuniform float cameraNear;uniform float cameraFar;varying float vViewZ;varying vec4 vProjTexCoord;void main(){\n#include <clipping_planes_fragment>\nvec2 projTexCoord=(vProjTexCoord.xy/vProjTexCoord.w)*0.5+0.5;projTexCoord=clamp(projTexCoord,0.002,0.998);float fragCoordZ=unpackRGBAToDepth(texture2D(depthBuffer,projTexCoord));\n#ifdef PERSPECTIVE_CAMERA\nfloat viewZ=perspectiveDepthToViewZ(fragCoordZ,cameraNear,cameraFar);\n#else\nfloat viewZ=orthographicDepthToViewZ(fragCoordZ,cameraNear,cameraFar);\n#endif\nfloat depthTest=(-vViewZ>-viewZ)? 1.0 : 0.0;gl_FragColor.rg=vec2(0.0,depthTest);}",st="#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying float vViewZ;varying vec4 vProjTexCoord;void main(){\n#include <skinbase_vertex>\n#include <begin_vertex>\n#include <morphtarget_vertex>\n#include <skinning_vertex>\n#include <project_vertex>\nvViewZ=mvPosition.z;vProjTexCoord=gl_Position;\n#include <clipping_planes_vertex>\n}",ct=(c.Qb,c.Qb,c.Qb,function(t){Object(H.a)(n,t);var e=Object(V.a)(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new c.jc,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ut.COLOR;return Object(G.a)(this,n),(t=e.call(this,{type:"EdgeDetectionMaterial",defines:{LOCAL_CONTRAST_ADAPTATION_FACTOR:"2.0",EDGE_THRESHOLD:"0.1",DEPTH_THRESHOLD:"0.01",PREDICATION_MODE:"0",PREDICATION_THRESHOLD:"0.01",PREDICATION_SCALE:"2.0",PREDICATION_STRENGTH:"1.0",DEPTH_PACKING:"0"},uniforms:{inputBuffer:new c.ec(null),depthBuffer:new c.ec(null),predicationBuffer:new c.ec(null),texelSize:new c.ec(i)},fragmentShader:J,vertexShader:$,depthWrite:!1,depthTest:!1})).toneMapped=!1,t.setEdgeDetectionMode(r),t}return Object(W.a)(n,[{key:"setEdgeDetectionMode",value:function(t){this.defines.EDGE_DETECTION_MODE=t.toFixed(0),this.needsUpdate=!0}},{key:"setLocalContrastAdaptationFactor",value:function(t){this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR=t.toFixed("6"),this.needsUpdate=!0}},{key:"setEdgeDetectionThreshold",value:function(t){this.defines.EDGE_THRESHOLD=t.toFixed("6"),this.defines.DEPTH_THRESHOLD=(.1*t).toFixed("6"),this.needsUpdate=!0}},{key:"setPredicationMode",value:function(t){this.defines.PREDICATION_MODE=t.toFixed(0),this.needsUpdate=!0}},{key:"setPredicationBuffer",value:function(t){this.uniforms.predicationBuffer.value=t}},{key:"setPredicationThreshold",value:function(t){this.defines.PREDICATION_THRESHOLD=t.toFixed("6"),this.needsUpdate=!0}},{key:"setPredicationScale",value:function(t){this.defines.PREDICATION_SCALE=t.toFixed("6"),this.needsUpdate=!0}},{key:"setPredicationStrength",value:function(t){this.defines.PREDICATION_STRENGTH=t.toFixed("6"),this.needsUpdate=!0}},{key:"depthPacking",get:function(){return Number(this.defines.DEPTH_PACKING)},set:function(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}}]),n}(c.Qb)),ut={DEPTH:0,LUMA:1,COLOR:2},lt=function(t){Object(H.a)(n,t);var e=Object(V.a)(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return Object(G.a)(this,n),(t=e.call(this,{type:"EffectMaterial",defines:{DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new c.ec(null),depthBuffer:new c.ec(null),resolution:new c.ec(new c.jc),texelSize:new c.ec(new c.jc),cameraNear:new c.ec(.3),cameraFar:new c.ec(1e3),aspect:new c.ec(1),time:new c.ec(0)},depthWrite:!1,depthTest:!1,dithering:s})).toneMapped=!1,null!==i&&t.setShaderParts(i),null!==r&&t.setDefines(r),null!==a&&t.setUniforms(a),t.adoptCameraSettings(o),t}return Object(W.a)(n,[{key:"setShaderParts",value:function(t){return this.fragmentShader="#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\nuniform sampler2D inputBuffer;\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nuniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;float readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}float getViewZ(const in float depth){\n#ifdef PERSPECTIVE_CAMERA\nreturn perspectiveDepthToViewZ(depth,cameraNear,cameraFar);\n#else\nreturn orthographicDepthToViewZ(depth,cameraNear,cameraFar);\n#endif\n}FRAGMENT_HEADvoid main(){FRAGMENT_MAIN_UVvec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGEgl_FragColor=color0;\n#ifdef ENCODE_OUTPUT\n#include <encodings_fragment>\n#endif\n#include <dithering_fragment>\n}".replace(ht.FRAGMENT_HEAD,t.get(ht.FRAGMENT_HEAD)).replace(ht.FRAGMENT_MAIN_UV,t.get(ht.FRAGMENT_MAIN_UV)).replace(ht.FRAGMENT_MAIN_IMAGE,t.get(ht.FRAGMENT_MAIN_IMAGE)),this.vertexShader="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEADvoid main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORTgl_Position=vec4(position.xy,1.0,1.0);}".replace(ht.VERTEX_HEAD,t.get(ht.VERTEX_HEAD)).replace(ht.VERTEX_MAIN_SUPPORT,t.get(ht.VERTEX_MAIN_SUPPORT)),this.needsUpdate=!0,this}},{key:"setDefines",value:function(t){var e,n=Object(U.a)(t.entries());try{for(n.s();!(e=n.n()).done;){var i=e.value;this.defines[i[0]]=i[1]}}catch(r){n.e(r)}finally{n.f()}return this.needsUpdate=!0,this}},{key:"setUniforms",value:function(t){var e,n=Object(U.a)(t.entries());try{for(n.s();!(e=n.n()).done;){var i=e.value;this.uniforms[i[0]]=i[1]}}catch(r){n.e(r)}finally{n.f()}return this}},{key:"adoptCameraSettings",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!==t&&(this.uniforms.cameraNear.value=t.near,this.uniforms.cameraFar.value=t.far,t instanceof c.yb?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},{key:"setSize",value:function(t,e){var n=Math.max(t,1),i=Math.max(e,1);this.uniforms.resolution.value.set(n,i),this.uniforms.texelSize.value.set(1/n,1/i),this.uniforms.aspect.value=n/i}},{key:"depthPacking",get:function(){return Number(this.defines.DEPTH_PACKING)},set:function(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}}]),n}(c.Qb),ht={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},dt=(c.Qb,"#include <common>\nuniform sampler2D inputBuffer;\n#ifdef RANGE\nuniform vec2 range;\n#elif defined(THRESHOLD)\nuniform float threshold;uniform float smoothing;\n#endif\nvarying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=linearToRelativeLuminance(texel.rgb);\n#ifdef RANGE\nfloat low=step(range.x,l);float high=step(l,range.y);l*=low*high;\n#elif defined(THRESHOLD)\nl=smoothstep(threshold,threshold+smoothing,l);\n#endif\n#ifdef COLOR\ngl_FragColor=vec4(texel.rgb*l,l);\n#else\ngl_FragColor=vec4(l);\n#endif\n}"),ft=(c.Qb,"uniform sampler2D maskTexture;uniform sampler2D inputBuffer;\n#if MASK_FUNCTION != 0\nuniform float strength;\n#endif\nvarying vec2 vUv;void main(){\n#if COLOR_CHANNEL == 0\nfloat mask=texture2D(maskTexture,vUv).r;\n#elif COLOR_CHANNEL == 1\nfloat mask=texture2D(maskTexture,vUv).g;\n#elif COLOR_CHANNEL == 2\nfloat mask=texture2D(maskTexture,vUv).b;\n#else\nfloat mask=texture2D(maskTexture,vUv).a;\n#endif\n#if MASK_FUNCTION == 0\n#ifdef INVERTED\nif(mask>0.0){discard;}\n#else\nif(mask==0.0){discard;}\n#endif\n#else\nmask=clamp(mask*strength,0.0,1.0);\n#ifdef INVERTED\nmask=(1.0-mask);\n#endif\n#if MASK_FUNCTION == 1\ngl_FragColor=mask*texture2D(inputBuffer,vUv);\n#else\ngl_FragColor=vec4(mask*texture2D(inputBuffer,vUv).rgb,mask);\n#endif\n#endif\n}"),pt=function(t){Object(H.a)(n,t);var e=Object(V.a)(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(G.a)(this,n),(t=e.call(this,{type:"MaskMaterial",uniforms:{maskTexture:new c.ec(i),inputBuffer:new c.ec(null),strength:new c.ec(1)},fragmentShader:ft,vertexShader:Y,depthWrite:!1,depthTest:!1})).toneMapped=!1,t.colorChannel=X,t.maskFunction=vt.DISCARD,t}return Object(W.a)(n,[{key:"maskTexture",set:function(t){this.uniforms.maskTexture.value=t}},{key:"colorChannel",set:function(t){this.defines.COLOR_CHANNEL=t.toFixed(0),this.needsUpdate=!0}},{key:"maskFunction",set:function(t){this.defines.MASK_FUNCTION=t.toFixed(0),this.needsUpdate=!0}},{key:"inverted",get:function(){return void 0!==this.defines.INVERTED},set:function(t){this.inverted&&!t?delete this.defines.INVERTED:t&&(this.defines.INVERTED="1"),this.needsUpdate=!0}},{key:"strength",get:function(){return this.uniforms.strength.value},set:function(t){this.uniforms.strength.value=t}}]),n}(c.Qb),vt={DISCARD:0,MULTIPLY:1,MULTIPLY_RGB_SET_ALPHA:2},mt="uniform sampler2D inputBuffer;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 c0=texture2D(inputBuffer,vUv0).rg;vec2 c1=texture2D(inputBuffer,vUv1).rg;vec2 c2=texture2D(inputBuffer,vUv2).rg;vec2 c3=texture2D(inputBuffer,vUv3).rg;float d0=(c0.x-c1.x)*0.5;float d1=(c2.x-c3.x)*0.5;float d=length(vec2(d0,d1));float a0=min(c0.y,c1.y);float a1=min(c2.y,c3.y);float visibilityFactor=min(a0,a1);gl_FragColor.rg=(1.0-visibilityFactor>0.001)? vec2(d,0.0): vec2(0.0,d);}",gt="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=vec2(uv.x+texelSize.x,uv.y);vUv1=vec2(uv.x-texelSize.x,uv.y);vUv2=vec2(uv.x,uv.y+texelSize.y);vUv3=vec2(uv.x,uv.y-texelSize.y);gl_Position=vec4(position.xy,1.0,1.0);}",yt=(c.Qb,"#define sampleLevelZeroOffset(t, coord, offset) texture2D(t, coord + offset * texelSize)\n#if __VERSION__ < 300\n#define round(v) floor(v + 0.5)\n#endif\nuniform sampler2D inputBuffer;uniform sampler2D areaTexture;uniform sampler2D searchTexture;uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;/***Moves values to a target vector based on a given conditional vector.*/void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}/***Allows to decode two binary values from a bilinear-filtered access.**Bilinear access for fetching 'e' have a 0.25 offset,and we are interested*in the R and G edges:**+---G---+-------+*|x o R   x|*+-------+-------+**Then,if one of these edge is enabled:*Red:(0.75*X+0.25*1)=>0.25 or 1.0*Green:(0.75*1+0.25*X)=>0.75 or 1.0**This function will unpack the values(mad+mul+round):*wolframalpha.com: round(x*abs(5*x-5*0.75))plot 0 to 1*/vec2 decodeDiagBilinearAccess(in vec2 e){e.r=e.r*abs(5.0*e.r-5.0*0.75);return round(e);}vec4 decodeDiagBilinearAccess(in vec4 e){e.rb=e.rb*abs(5.0*e.rb-5.0*0.75);return round(e);}/***Diagonal pattern searches.*/vec2 searchDiag1(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 searchDiag2(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);coord.x+=0.25*texelSize.x;vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;e=decodeDiagBilinearAccess(e);coord.w=dot(e,vec2(0.5));}return coord.zw;}/***Calculates the area corresponding to a certain diagonal distance and crossing*edges 'e'.*/vec2 areaDiag(const in vec2 dist,const in vec2 e,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE_DIAG,AREATEX_MAX_DISTANCE_DIAG)*e+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.x+=0.5;texCoord.y+=AREATEX_SUBTEX_SIZE*offset;return texture2D(areaTexture,texCoord).rg;}/***Searches for diagonal patterns and returns the corresponding weights.*/vec2 calculateDiagWeights(const in vec2 texCoord,const in vec2 e,const in vec4 subsampleIndices){vec2 weights=vec2(0.0);vec4 d;vec2 end;if(e.r>0.0){d.xz=searchDiag1(texCoord,vec2(-1.0,1.0),end);d.x+=float(end.y>0.9);}else{d.xz=vec2(0.0);}d.yw=searchDiag1(texCoord,vec2(1.0,-1.0),end);if(d.x+d.y>2.0){vec4 coords=vec4(-d.x+0.25,d.x,d.y,-d.y-0.25)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.xy=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).rg;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).rg;c.yxwz=decodeDiagBilinearAccess(c.xyzw);vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.z);}d.xz=searchDiag2(texCoord,vec2(-1.0,-1.0),end);if(sampleLevelZeroOffset(inputBuffer,texCoord,vec2(1,0)).r>0.0){d.yw=searchDiag2(texCoord,vec2(1.0),end);d.y+=float(end.y>0.9);}else{d.yw=vec2(0.0);}if(d.x+d.y>2.0){vec4 coords=vec4(-d.x,-d.x,d.y,d.y)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.x=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).g;c.y=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(0,-1)).r;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).gr;vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.w).gr;}return weights;}/***Determines how much length should be added in the last step of the searches.**Takes the bilinearly interpolated edge(see @PSEUDO_GATHER4),and adds 0,1*or 2 depending on which edges and crossing edges are active.*/float searchLength(const in vec2 e,const in float offset){/*The texture is flipped vertically,with left and right cases taking halfof the space horizontally.*/vec2 scale=SEARCHTEX_SIZE*vec2(0.5,-1.0);vec2 bias=SEARCHTEX_SIZE*vec2(offset,1.0);scale+=vec2(-1.0,1.0);bias+=vec2(0.5,-0.5);scale*=1.0/SEARCHTEX_PACKED_SIZE;bias*=1.0/SEARCHTEX_PACKED_SIZE;return texture2D(searchTexture,scale*e+bias).r;}/***Horizontal search for the second pass.*/float searchXLeft(in vec2 texCoord,const in float end){/*@PSEUDO_GATHER4This texCoord has been offset by(-0.25,-0.125)in the vertex shader tosample between edges,thus fetching four edges in a row.Sampling with different offsets in each direction allows to disambiguatewhich edges are active from the four fetched ones.*/vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x>end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(-2.0,0.0)*texelSize+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.0)+3.25;return texelSize.x*offset+texCoord.x;}float searchXRight(vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x<end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(2.0,0.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.5)+3.25;return-texelSize.x*offset+texCoord.x;}/***Vertical search for the second pass.*/float searchYUp(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.y>end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=-vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.0)+3.25;return texelSize.y*offset+texCoord.y;}float searchYDown(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;i++){if(!(texCoord.y<end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.5)+3.25;return-texelSize.y*offset+texCoord.y;}/***Determines the areas at each side of the current edge.*/vec2 area(const in vec2 dist,const in float e1,const in float e2,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE)*round(4.0*vec2(e1,e2))+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.y=AREATEX_SUBTEX_SIZE*offset+texCoord.y;return texture2D(areaTexture,texCoord).rg;}/***Corner detection.*/void detectHorizontalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){\n#if !defined(DISABLE_CORNER_DETECTION)\nvec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,1)).r;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).r;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,-2)).r;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,-2)).r;weights*=clamp(factor,0.0,1.0);\n#endif\n}void detectVerticalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){\n#if !defined(DISABLE_CORNER_DETECTION)\nvec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(1,0)).g;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).g;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(-2,0)).g;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(-2,1)).g;weights*=clamp(factor,0.0,1.0);\n#endif\n}void main(){vec4 weights=vec4(0.0);vec4 subsampleIndices=vec4(0.0);vec2 e=texture2D(inputBuffer,vUv).rg;if(e.g>0.0){\n#if !defined(DISABLE_DIAG_DETECTION)\n/*Diagonals have both north and west edges,so searching for them in one ofthe boundaries is enough.*/weights.rg=calculateDiagWeights(vUv,e,subsampleIndices);if(weights.r==-weights.g){\n#endif\nvec2 d;vec3 coords;coords.x=searchXLeft(vOffset[0].xy,vOffset[2].x);coords.y=vOffset[1].y;d.x=coords.x;/*Now fetch the left crossing edges,two at a time using bilinearfiltering. Sampling at-0.25(see @CROSSING_OFFSET)enables to discern whatvalue each edge has.*/float e1=texture2D(inputBuffer,coords.xy).r;coords.z=searchXRight(vOffset[0].zw,vOffset[2].y);d.y=coords.z;/*Translate distances to pixel units for better interleave arithmetic andmemory accesses.*/d=round(resolution.xx*d+-vPixCoord.xx);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.zy,vec2(1,0)).r;weights.rg=area(sqrtD,e1,e2,subsampleIndices.y);coords.y=vUv.y;detectHorizontalCornerPattern(weights.rg,coords.xyzy,d);\n#if !defined(DISABLE_DIAG_DETECTION)\n}else{e.r=0.0;}\n#endif\n}if(e.r>0.0){vec2 d;vec3 coords;coords.y=searchYUp(vOffset[1].xy,vOffset[2].z);coords.x=vOffset[0].x;d.x=coords.y;float e1=texture2D(inputBuffer,coords.xy).g;coords.z=searchYDown(vOffset[1].zw,vOffset[2].w);d.y=coords.z;d=round(resolution.yy*d-vPixCoord.yy);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.xz,vec2(0,1)).g;weights.ba=area(sqrtD,e1,e2,subsampleIndices.x);coords.x=vUv.x;detectVerticalCornerPattern(weights.ba,coords.xyxz,d);}gl_FragColor=weights;}"),bt="uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void main(){vUv=position.xy*0.5+0.5;vPixCoord=vUv*resolution;vOffset[0]=vUv.xyxy+texelSize.xyxy*vec4(-0.25,-0.125,1.25,-0.125);vOffset[1]=vUv.xyxy+texelSize.xyxy*vec4(-0.125,-0.25,-0.125,1.25);vOffset[2]=vec4(vOffset[0].xz,vOffset[1].yw)+vec4(-2.0,2.0,-2.0,2.0)*texelSize.xxyy*MAX_SEARCH_STEPS_FLOAT;gl_Position=vec4(position.xy,1.0,1.0);}",_t=function(t){Object(H.a)(n,t);var e=Object(V.a)(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new c.jc,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new c.jc;return Object(G.a)(this,n),(t=e.call(this,{type:"SMAAWeightsMaterial",defines:{MAX_SEARCH_STEPS_INT:"16",MAX_SEARCH_STEPS_FLOAT:"16.0",MAX_SEARCH_STEPS_DIAG_INT:"8",MAX_SEARCH_STEPS_DIAG_FLOAT:"8.0",CORNER_ROUNDING:"25",CORNER_ROUNDING_NORM:"0.25",AREATEX_MAX_DISTANCE:"16.0",AREATEX_MAX_DISTANCE_DIAG:"20.0",AREATEX_PIXEL_SIZE:"(1.0 / vec2(160.0, 560.0))",AREATEX_SUBTEX_SIZE:"(1.0 / 7.0)",SEARCHTEX_SIZE:"vec2(66.0, 33.0)",SEARCHTEX_PACKED_SIZE:"vec2(64.0, 16.0)"},uniforms:{inputBuffer:new c.ec(null),areaTexture:new c.ec(null),searchTexture:new c.ec(null),texelSize:new c.ec(i),resolution:new c.ec(r)},fragmentShader:yt,vertexShader:bt,depthWrite:!1,depthTest:!1})).toneMapped=!1,t}return Object(W.a)(n,[{key:"setOrthogonalSearchSteps",value:function(t){var e=Math.min(Math.max(t,0),112);this.defines.MAX_SEARCH_STEPS_INT=e.toFixed("0"),this.defines.MAX_SEARCH_STEPS_FLOAT=e.toFixed("1"),this.needsUpdate=!0}},{key:"setDiagonalSearchSteps",value:function(t){var e=Math.min(Math.max(t,0),20);this.defines.MAX_SEARCH_STEPS_DIAG_INT=e.toFixed("0"),this.defines.MAX_SEARCH_STEPS_DIAG_FLOAT=e.toFixed("1"),this.needsUpdate=!0}},{key:"setCornerRounding",value:function(t){var e=Math.min(Math.max(t,0),100);this.defines.CORNER_ROUNDING=e.toFixed("4"),this.defines.CORNER_ROUNDING_NORM=(e/100).toFixed("4"),this.needsUpdate=!0}},{key:"diagonalDetection",get:function(){return void 0===this.defines.DISABLE_DIAG_DETECTION},set:function(t){t?delete this.defines.DISABLE_DIAG_DETECTION:this.defines.DISABLE_DIAG_DETECTION="1",this.needsUpdate=!0}},{key:"cornerRounding",get:function(){return void 0===this.defines.DISABLE_CORNER_DETECTION},set:function(t){t?delete this.defines.DISABLE_CORNER_DETECTION:this.defines.DISABLE_CORNER_DETECTION="1",this.needsUpdate=!0}}]),n}(c.Qb),wt=(c.Qb,-1),xt=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wt,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wt,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Object(G.a)(this,t),this.resizable=e,this.base=new c.jc(1,1),this.target=new c.jc(n,i),this.s=r}return Object(W.a)(t,[{key:"scale",get:function(){return this.s},set:function(t){this.s=t,this.target.x=wt,this.target.y=wt,this.resizable.setSize(this.base.x,this.base.y)}},{key:"width",get:function(){var t=this.base,e=this.target;return e.x!==wt?e.x:e.y!==wt?Math.round(e.y*(t.x/t.y)):Math.round(t.x*this.s)},set:function(t){this.target.x=t,this.resizable.setSize(this.base.x,this.base.y)}},{key:"height",get:function(){var t=this.base,e=this.target;return e.y!==wt?e.y:e.x!==wt?Math.round(e.x/(t.x/t.y)):Math.round(t.y*this.s)},set:function(t){this.target.y=t,this.resizable.setSize(this.base.x,this.base.y)}}],[{key:"AUTO_SIZE",get:function(){return wt}}]),t}(),kt=new c.p,Ot=null;var St=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Pass",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new c.Pb,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kt;Object(G.a)(this,t),this.name=e,this.scene=n,this.camera=i,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}return Object(W.a)(t,[{key:"getFullscreenMaterial",value:function(){return null!==this.screen?this.screen.material:null}},{key:"setFullscreenMaterial",value:function(t){var e=this.screen;null!==e?e.material=t:((e=new c.ib(function(){if(null===Ot){var t=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),e=new Float32Array([0,0,2,0,0,2]);void 0!==(Ot=new c.o).setAttribute?(Ot.setAttribute("position",new c.n(t,3)),Ot.setAttribute("uv",new c.n(e,2))):(Ot.addAttribute("position",new c.n(t,3)),Ot.addAttribute("uv",new c.n(e,2)))}return Ot}(),t)).frustumCulled=!1,null===this.scene&&(this.scene=new c.Pb),this.scene.add(e),this.screen=e)}},{key:"getDepthTexture",value:function(){return null}},{key:"setDepthTexture",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1]}},{key:"render",value:function(t,e,n,i,r){throw new Error("Render method not implemented!")}},{key:"setSize",value:function(t,e){}},{key:"initialize",value:function(t,e,n){}},{key:"dispose",value:function(){var t=this.getFullscreenMaterial();null!==t&&t.dispose();for(var e=0,n=Object.keys(this);e<n.length;e++){var i=n[e],r=this[i];if(null!==r&&"function"==typeof r.dispose){if(r instanceof c.Pb)continue;this[i].dispose()}}}},{key:"renderToScreen",get:function(){return!this.rtt},set:function(t){if(this.rtt===t){var e=this.getFullscreenMaterial();null!==e&&(e.needsUpdate=!0),this.rtt=!t}}}]),t}(),Ct=function(t){Object(H.a)(n,t);var e=Object(V.a)(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i.resolutionScale,a=void 0===r?.5:r,o=i.width,s=void 0===o?xt.AUTO_SIZE:o,u=i.height,l=void 0===u?xt.AUTO_SIZE:u,h=i.kernelSize,d=void 0===h?rt.LARGE:h;return Object(G.a)(this,n),(t=e.call(this,"BlurPass")).renderTargetA=new c.oc(1,1,{minFilter:c.W,magFilter:c.W,stencilBuffer:!1,depthBuffer:!1}),t.renderTargetA.texture.name="Blur.Target.A",t.renderTargetB=t.renderTargetA.clone(),t.renderTargetB.texture.name="Blur.Target.B",t.resolution=new xt(Object(z.a)(t),s,l,a),t.convolutionMaterial=new nt,t.ditheredConvolutionMaterial=new nt,t.ditheredConvolutionMaterial.dithering=!0,t.dithering=!1,t.kernelSize=d,t}return Object(W.a)(n,[{key:"getResolutionScale",value:function(){return this.resolution.scale}},{key:"setResolutionScale",value:function(t){this.resolution.scale=t}},{key:"render",value:function(t,e,n,i,r){var a,o,s,c=this.scene,u=this.camera,l=this.renderTargetA,h=this.renderTargetB,d=this.convolutionMaterial,f=d.uniforms,p=d.getKernel(),v=e;for(this.setFullscreenMaterial(d),o=0,s=p.length-1;o<s;++o)a=0==(1&o)?l:h,f.kernel.value=p[o],f.inputBuffer.value=v.texture,t.setRenderTarget(a),t.render(c,u),v=a;this.dithering&&(f=(d=this.ditheredConvolutionMaterial).uniforms,this.setFullscreenMaterial(d)),f.kernel.value=p[o],f.inputBuffer.value=v.texture,t.setRenderTarget(this.renderToScreen?null:n),t.render(c,u)}},{key:"setSize",value:function(t,e){var n=this.resolution;n.base.set(t,e);var i=n.width,r=n.height;this.renderTargetA.setSize(i,r),this.renderTargetB.setSize(i,r),this.convolutionMaterial.setTexelSize(1/i,1/r),this.ditheredConvolutionMaterial.setTexelSize(1/i,1/r)}},{key:"initialize",value:function(t,e,n){e||n!==c.gc||(this.renderTargetA.texture.format=c.Jb,this.renderTargetB.texture.format=c.Jb),void 0!==n&&(this.renderTargetA.texture.type=n,this.renderTargetB.texture.type=n)}},{key:"width",get:function(){return this.resolution.width},set:function(t){this.resolution.width=t}},{key:"height",get:function(){return this.resolution.height},set:function(t){this.resolution.height=t}},{key:"scale",get:function(){return this.convolutionMaterial.uniforms.scale.value},set:function(t){this.convolutionMaterial.uniforms.scale.value=t,this.ditheredConvolutionMaterial.uniforms.scale.value=t}},{key:"kernelSize",get:function(){return this.convolutionMaterial.kernelSize},set:function(t){this.convolutionMaterial.kernelSize=t,this.ditheredConvolutionMaterial.kernelSize=t}}],[{key:"AUTO_SIZE",get:function(){return xt.AUTO_SIZE}}]),n}(St),At=function(t){Object(H.a)(n,t);var e=Object(V.a)(n);function n(){var t;return Object(G.a)(this,n),(t=e.call(this,"ClearMaskPass",null,null)).needsSwap=!1,t}return Object(W.a)(n,[{key:"render",value:function(t,e,n,i,r){var a=t.state.buffers.stencil;a.setLocked(!1),a.setTest(!1)}}]),n}(St),Mt=new c.t,Tt=function(t){Object(H.a)(n,t);var e=Object(V.a)(n);function n(){var t,i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(G.a)(this,n),(t=e.call(this,"ClearPass",null,null)).needsSwap=!1,t.color=i,t.depth=r,t.stencil=a,t.overrideClearColor=null,t.overrideClearAlpha=-1,t}return Object(W.a)(n,[{key:"render",value:function(t,e,n,i,r){var a=this.overrideClearColor,o=this.overrideClearAlpha,s=t.getClearAlpha(),c=null!==a,u=o>=0;c?(Mt.copy(t.getClearColor()),t.setClearColor(a,u?o:s)):u&&t.setClearAlpha(o),t.setRenderTarget(this.renderToScreen?null:e),t.clear(this.color,this.depth,this.stencil),c?t.setClearColor(Mt,s):u&&t.setClearAlpha(s)}}]),n}(St),Et=!1,Pt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(G.a)(this,t),this.originalMaterials=new Map,this.material=null,this.materialInstanced=null,this.materialSkinning=null,this.setMaterial(e)}return Object(W.a)(t,[{key:"setMaterial",value:function(t){this.disposeMaterials(),null!==t&&(this.material=t,this.materialInstanced=t.clone(),this.materialInstanced.uniforms=Object.assign({},t.uniforms),this.materialSkinning=t.clone(),this.materialSkinning.uniforms=Object.assign({},t.uniforms),this.materialSkinning.skinning=!0)}},{key:"render",value:function(t,e,n){var i=this.material,r=this.materialSkinning,a=this.materialInstanced,o=this.originalMaterials,s=t.shadowMap.enabled;if(t.shadowMap.enabled=!1,Et){var c=0;e.traverse((function(t){t.isMesh&&(o.set(t,t.material),t.isInstancedMesh?t.material=a:t.isSkinnedMesh?t.material=r:t.material=i,++c)})),t.render(e,n);var u,l=Object(U.a)(o);try{for(l.s();!(u=l.n()).done;){var h=u.value;h[0].material=h[1]}}catch(f){l.e(f)}finally{l.f()}c!==o.size&&o.clear()}else{var d=e.overrideMaterial;e.overrideMaterial=i,t.render(e,n),e.overrideMaterial=d}t.shadowMap.enabled=s}},{key:"disposeMaterials",value:function(){null!==this.materialInstanced&&this.materialInstanced.dispose(),null!==this.materialSkinning&&this.materialSkinning.dispose()}},{key:"dispose",value:function(){this.originalMaterials.clear(),this.disposeMaterials()}}],[{key:"workaroundEnabled",get:function(){return Et},set:function(t){Et=t}}]),t}(),Dt=function(t){Object(H.a)(n,t);var e=Object(V.a)(n);function n(t,i){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object(G.a)(this,n),(r=e.call(this,"RenderPass",t,i)).needsSwap=!1,r.clearPass=new Tt,r.overrideMaterialManager=null===a?null:new Pt(a),r}return Object(W.a)(n,[{key:"getClearPass",value:function(){return this.clearPass}},{key:"render",value:function(t,e,n,i,r){var a=this.scene,o=this.camera,s=a.background,c=this.renderToScreen?null:e;this.clear&&(null!==this.clearPass.overrideClearColor&&(a.background=null),this.clearPass.render(t,e)),t.setRenderTarget(c),null!==this.overrideMaterialManager?this.overrideMaterialManager.render(t,a,o):t.render(a,o),a.background!==s&&(a.background=s)}},{key:"renderToScreen",get:function(){return Object(B.a)(Object(D.a)(n.prototype),"renderToScreen",this)},set:function(t){!function(t,e,n,i,r){if(!F(t,e,n,i||t)&&r)throw new Error("failed to set property")}(Object(D.a)(n.prototype),"renderToScreen",t,this,!0),this.clearPass.renderToScreen=t}},{key:"overrideMaterial",get:function(){var t=this.overrideMaterialManager;return null!==t?t.material:null},set:function(t){var e=this.overrideMaterialManager;null!==t?null!==e?e.setMaterial(t):this.overrideMaterialManager=new Pt(t):null!==e&&(e.dispose(),this.overrideMaterialManager=null)}},{key:"clear",get:function(){return this.clearPass.enabled},set:function(t){this.clearPass.enabled=t}}]),n}(St),jt=0,Rt=2,It=10,Lt=13,Nt=14,Ft=16,Bt=new Map([[jt,null],[1,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x+y,1.0)*opacity+x*(1.0-opacity);}"],[Rt,"vec3 blend(const in vec3 x,const in vec3 y,const in float opacity){return y*opacity+x*(1.0-opacity);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){float a=min(y.a,opacity);return vec4(blend(x.rgb,y.rgb,a),max(x.a,a));}"],[3,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y)*0.5*opacity+x*(1.0-opacity);}"],[4,"float blend(const in float x,const in float y){return(y==0.0)? y : max(1.0-(1.0-x)/y,0.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[5,"float blend(const in float x,const in float y){return(y==1.0)? y : min(x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[6,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x,y)*opacity+x*(1.0-opacity);}"],[7,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return abs(x-y)*opacity+x*(1.0-opacity);}"],[8,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y-2.0*x*y)*opacity+x*(1.0-opacity);}"],[9,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x,y)*opacity+x*(1.0-opacity);}"],[It,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return x*y*opacity+x*(1.0-opacity);}"],[11,"float blend(const in float x,const in float y){return(y>0.0)? min(x/y,1.0): 1.0;}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[12,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-abs(1.0-x-y))*opacity+x*(1.0-opacity);}"],[Lt,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y*opacity+x*(1.0-opacity);}"],[Nt,"float blend(const in float x,const in float y){return(x<0.5)?(2.0*x*y):(1.0-2.0*(1.0-x)*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[15,"float blend(const in float x,const in float y){return(y==1.0)? y : min(x*x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[Ft,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-(1.0-x)*(1.0-y))*opacity+x*(1.0-opacity);}"],[17,"float blend(const in float x,const in float y){return(y<0.5)?(2.0*x*y+x*x*(1.0-2.0*y)):(sqrt(x)*(2.0*y-1.0)+2.0*x*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[18,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x+y-1.0,0.0)*opacity+x*(1.0-opacity);}"]]),zt=function(t){Object(H.a)(n,t);var e=Object(V.a)(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(G.a)(this,n),(i=e.call(this)).blendFunction=t,i.opacity=new c.ec(r),i}return Object(W.a)(n,[{key:"getBlendFunction",value:function(){return this.blendFunction}},{key:"setBlendFunction",value:function(t){this.blendFunction=t,this.dispatchEvent({type:"change"})}},{key:"getShaderCode",value:function(){return Bt.get(this.blendFunction)}}]),n}(c.D),Ut=function(t){Object(H.a)(n,t);var e=Object(V.a)(n);function n(t,i){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=a.attributes,s=void 0===o?Ht.NONE:o,c=a.blendFunction,u=void 0===c?Ft:c,l=a.defines,h=void 0===l?new Map:l,d=a.uniforms,f=void 0===d?new Map:d,p=a.extensions,v=void 0===p?null:p,m=a.vertexShader,g=void 0===m?null:m;return Object(G.a)(this,n),(r=e.call(this)).name=t,r.attributes=s,r.fragmentShader=i,r.vertexShader=g,r.defines=h,r.uniforms=f,r.extensions=v,r.blendMode=new zt(u),r.blendMode.addEventListener("change",(function(t){return r.setChanged()})),r}return Object(W.a)(n,[{key:"setChanged",value:function(){this.dispatchEvent({type:"change"})}},{key:"getAttributes",value:function(){return this.attributes}},{key:"setAttributes",value:function(t){this.attributes=t,this.setChanged()}},{key:"getFragmentShader",value:function(){return this.fragmentShader}},{key:"setFragmentShader",value:function(t){this.fragmentShader=t,this.setChanged()}},{key:"getVertexShader",value:function(){return this.vertexShader}},{key:"setVertexShader",value:function(t){this.vertexShader=t,this.setChanged()}},{key:"setDepthTexture",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1]}},{key:"update",value:function(t,e,n){}},{key:"setSize",value:function(t,e){}},{key:"initialize",value:function(t,e,n){}},{key:"dispose",value:function(){for(var t=0,e=Object.keys(this);t<e.length;t++){var n=e[t],i=this[n];if(null!==i&&"function"==typeof i.dispose){if(i instanceof c.Pb)continue;this[n].dispose()}}}}]),n}(c.D),Ht={NONE:0,DEPTH:1,CONVOLUTION:2};function Vt(t,e){for(var n,i=[];null!==(n=t.exec(e));)i.push(n[1]);return i}function Gt(t,e,n){var i,r,a,o=Object(U.a)(e);try{for(o.s();!(a=o.n()).done;){var s=a.value;i="$1"+t+s.charAt(0).toUpperCase()+s.slice(1),r=new RegExp("([^\\.])(\\b"+s+"\\b)","g");var c,u=Object(U.a)(n.entries());try{for(u.s();!(c=u.n()).done;){var l=c.value;null!==l[1]&&n.set(l[0],l[1].replace(r,i))}}catch(h){u.e(h)}finally{u.f()}}}catch(h){o.e(h)}finally{o.f()}}function Wt(t,e,n,i,r,a,o){var s=/(?:\w+\s+(\w+)\([\w\s,]*\)\s*{[^}]+})/g,c=e.blendMode,u=new Map([["fragment",e.getFragmentShader()],["vertex",e.getVertexShader()]]),l=void 0!==u.get("fragment")&&u.get("fragment").indexOf("mainImage")>=0,h=void 0!==u.get("fragment")&&u.get("fragment").indexOf("mainUv")>=0,d=[],f=[],p=!1,v=!1;if(void 0===u.get("fragment"))console.error("Missing fragment shader",e);else if(h&&0!=(o&Ht.CONVOLUTION))console.error("Effects that transform UV coordinates are incompatible with convolution effects",e);else if(l||h){if(h&&(n.set(ht.FRAGMENT_MAIN_UV,n.get(ht.FRAGMENT_MAIN_UV)+"\t"+t+"MainUv(UV);\n"),p=!0),null!==u.get("vertex")&&u.get("vertex").indexOf("mainSupport")>=0){var m="\t"+t+"MainSupport(";u.get("vertex").indexOf("uv")>=0&&(m+="vUv"),m+=");\n",n.set(ht.VERTEX_MAIN_SUPPORT,n.get(ht.VERTEX_MAIN_SUPPORT)+m),d=d.concat(Vt(/(?:varying\s+\w+\s+(\w*))/g,u.get("vertex"))),f=f.concat(d).concat(Vt(s,u.get("vertex")))}if(f=f.concat(Vt(s,u.get("fragment"))).concat(Array.from(e.defines.keys()).map((function(t){return t.replace(/\([\w\s,]*\)/g,"")}))).concat(Array.from(e.uniforms.keys())),e.uniforms.forEach((function(e,n){return a.set(t+n.charAt(0).toUpperCase()+n.slice(1),e)})),e.defines.forEach((function(e,n){return r.set(t+n.charAt(0).toUpperCase()+n.slice(1),e)})),Gt(t,f,r),Gt(t,f,u),i.set(c.blendFunction,c),l){var g=t+"MainImage(color0, UV, ";0!=(o&Ht.DEPTH)&&u.get("fragment").indexOf("depth")>=0&&(g+="depth, ",v=!0),g+="color1);\n\t";var y=t+"BlendOpacity";a.set(y,c.opacity),g+="color0 = blend"+c.getBlendFunction()+"(color0, color1, "+y+");\n\n\t",n.set(ht.FRAGMENT_MAIN_IMAGE,n.get(ht.FRAGMENT_MAIN_IMAGE)+g),n.set(ht.FRAGMENT_HEAD,n.get(ht.FRAGMENT_HEAD)+"uniform float "+y+";\n\n")}n.set(ht.FRAGMENT_HEAD,n.get(ht.FRAGMENT_HEAD)+u.get("fragment")+"\n"),null!==u.get("vertex")&&n.set(ht.VERTEX_HEAD,n.get(ht.VERTEX_HEAD)+u.get("vertex")+"\n")}else console.error("The fragment shader contains neither a mainImage nor a mainUv function",e);return{varyings:d,transformedUv:p,readDepth:v}}var Xt=function(t){Object(H.a)(n,t);var e=Object(V.a)(n);function n(t){var i;Object(G.a)(this,n),(i=e.call(this,"EffectPass")).setFullscreenMaterial(new lt(null,null,null,t));for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return i.effects=a.sort((function(t,e){return e.attributes-t.attributes})),i.skipRendering=!1,i.uniforms=0,i.varyings=0,i.minTime=1,i.maxTime=Number.POSITIVE_INFINITY,i}return Object(W.a)(n,[{key:"verifyResources",value:function(t){var e=t.capabilities,n=Math.min(e.maxFragmentUniforms,e.maxVertexUniforms);this.uniforms>n&&console.warn("The current rendering context doesn't support more than "+n+" uniforms, but "+this.uniforms+" were defined"),n=e.maxVaryings,this.varyings>n&&console.warn("The current rendering context doesn't support more than "+n+" varyings, but "+this.varyings+" were defined")}},{key:"updateMaterial",value:function(){var t,e,n=/\bblend\b/g,i=new Map([[ht.FRAGMENT_HEAD,""],[ht.FRAGMENT_MAIN_UV,""],[ht.FRAGMENT_MAIN_IMAGE,""],[ht.VERTEX_HEAD,""],[ht.VERTEX_MAIN_SUPPORT,""]]),r=new Map,a=new Map,o=new Map,s=new Set,c=0,u=0,l=0,h=!1,d=!1,f=Object(U.a)(this.effects);try{for(f.s();!(e=f.n()).done;){var p=e.value;if(p.blendMode.getBlendFunction()===jt)l|=p.getAttributes()&Ht.DEPTH;else if(0!=(l&Ht.CONVOLUTION)&&0!=(p.getAttributes()&Ht.CONVOLUTION))console.error("Convolution effects cannot be merged",p);else if(l|=p.getAttributes(),u+=(t=Wt("e"+c++,p,i,r,a,o,l)).varyings.length,h=h||t.transformedUv,d=d||t.readDepth,null!==p.extensions){var v,m=Object(U.a)(p.extensions);try{for(m.s();!(v=m.n()).done;){var g=v.value;s.add(g)}}catch(S){m.e(S)}finally{m.f()}}}}catch(S){f.e(S)}finally{f.f()}var y,b=Object(U.a)(r.values());try{for(b.s();!(y=b.n()).done;){var _=y.value;i.set(ht.FRAGMENT_HEAD,i.get(ht.FRAGMENT_HEAD)+_.getShaderCode().replace(n,"blend"+_.getBlendFunction())+"\n")}}catch(S){b.e(S)}finally{b.f()}0!=(l&Ht.DEPTH)?(d&&i.set(ht.FRAGMENT_MAIN_IMAGE,"float depth = readDepth(UV);\n\n\t"+i.get(ht.FRAGMENT_MAIN_IMAGE)),this.needsDepthTexture=null===this.getDepthTexture()):this.needsDepthTexture=!1,h?(i.set(ht.FRAGMENT_MAIN_UV,"vec2 transformedUv = vUv;\n"+i.get(ht.FRAGMENT_MAIN_UV)),a.set("UV","transformedUv")):a.set("UV","vUv"),i.forEach((function(t,e,n){return n.set(e,t.trim().replace(/^#/,"\n#"))})),this.uniforms=o.size,this.varyings=u,this.skipRendering=0===c,this.needsSwap=!this.skipRendering;var w=this.getFullscreenMaterial();if(w.setShaderParts(i).setDefines(a).setUniforms(o),w.extensions={},s.size>0){var x,k=Object(U.a)(s);try{for(k.s();!(x=k.n()).done;){var O=x.value;w.extensions[O]=!0}}catch(S){k.e(S)}finally{k.f()}}this.needsUpdate=!1}},{key:"recompile",value:function(t){this.updateMaterial(),void 0!==t&&this.verifyResources(t)}},{key:"getDepthTexture",value:function(){return this.getFullscreenMaterial().uniforms.depthBuffer.value}},{key:"setDepthTexture",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.getFullscreenMaterial();n.uniforms.depthBuffer.value=t,n.depthPacking=e,n.needsUpdate=!0;var i,r=Object(U.a)(this.effects);try{for(r.s();!(i=r.n()).done;){var a=i.value;a.setDepthTexture(t,e)}}catch(o){r.e(o)}finally{r.f()}}},{key:"render",value:function(t,e,n,i,r){var a=this.getFullscreenMaterial(),o=a.uniforms.time.value+i;this.needsUpdate&&this.recompile(t);var s,c=Object(U.a)(this.effects);try{for(c.s();!(s=c.n()).done;){s.value.update(t,e,i)}}catch(u){c.e(u)}finally{c.f()}this.skipRendering&&!this.renderToScreen||(a.uniforms.inputBuffer.value=e.texture,a.uniforms.time.value=o<=this.maxTime?o:this.minTime,t.setRenderTarget(this.renderToScreen?null:n),t.render(this.scene,this.camera))}},{key:"setSize",value:function(t,e){this.getFullscreenMaterial().setSize(t,e);var n,i=Object(U.a)(this.effects);try{for(i.s();!(n=i.n()).done;){n.value.setSize(t,e)}}catch(r){i.e(r)}finally{i.f()}}},{key:"initialize",value:function(t,e,n){var i=this;this.capabilities=t.capabilities;var r,a=Object(U.a)(this.effects);try{for(a.s();!(r=a.n()).done;){var o=r.value;o.initialize(t,e,n),o.addEventListener("change",(function(t){return i.handleEvent(t)}))}}catch(s){a.e(s)}finally{a.f()}this.updateMaterial(),this.verifyResources(t)}},{key:"dispose",value:function(){Object(B.a)(Object(D.a)(n.prototype),"dispose",this).call(this);var t,e=Object(U.a)(this.effects);try{for(e.s();!(t=e.n()).done;){t.value.dispose()}}catch(i){e.e(i)}finally{e.f()}}},{key:"handleEvent",value:function(t){switch(t.type){case"change":this.needsUpdate=!0}}},{key:"encodeOutput",get:function(){return void 0!==this.getFullscreenMaterial().defines.ENCODE_OUTPUT},set:function(t){if(this.encodeOutput!==t){var e=this.getFullscreenMaterial();e.needsUpdate=!0,t?e.defines.ENCODE_OUTPUT="1":delete e.defines.ENCODE_OUTPUT}}},{key:"dithering",get:function(){return this.getFullscreenMaterial().dithering},set:function(t){var e=this.getFullscreenMaterial();e.dithering!==t&&(e.dithering=t,e.needsUpdate=!0)}}]),n}(St),qt=function(t){Object(H.a)(n,t);var e=Object(V.a)(n);function n(t,i){var r;return Object(G.a)(this,n),(r=e.call(this,"MaskPass",t,i)).needsSwap=!1,r.clearPass=new Tt(!1,!1,!0),r.inverse=!1,r}return Object(W.a)(n,[{key:"render",value:function(t,e,n,i,r){var a=t.getContext(),o=t.state.buffers,s=this.scene,c=this.camera,u=this.clearPass,l=this.inverse?0:1,h=1-l;o.color.setMask(!1),o.depth.setMask(!1),o.color.setLocked(!0),o.depth.setLocked(!0),o.stencil.setTest(!0),o.stencil.setOp(a.REPLACE,a.REPLACE,a.REPLACE),o.stencil.setFunc(a.ALWAYS,l,4294967295),o.stencil.setClear(h),o.stencil.setLocked(!0),this.clear&&(this.renderToScreen?u.render(t,null):(u.render(t,e),u.render(t,n))),this.renderToScreen?(t.setRenderTarget(null),t.render(s,c)):(t.setRenderTarget(e),t.render(s,c),t.setRenderTarget(n),t.render(s,c)),o.color.setLocked(!1),o.depth.setLocked(!1),o.stencil.setLocked(!1),o.stencil.setFunc(a.EQUAL,1,4294967295),o.stencil.setOp(a.KEEP,a.KEEP,a.KEEP),o.stencil.setLocked(!0)}},{key:"clear",get:function(){return this.clearPass.enabled},set:function(t){this.clearPass.enabled=t}}]),n}(St),Yt=function(t){Object(H.a)(n,t);var e=Object(V.a)(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"inputBuffer";return Object(G.a)(this,n),(i=e.call(this,"ShaderPass")).setFullscreenMaterial(t),i.uniform=null,i.setInput(r),i}return Object(W.a)(n,[{key:"setInput",value:function(t){var e=this.getFullscreenMaterial();if(this.uniform=null,null!==e){var n=e.uniforms;void 0!==n&&void 0!==n[t]&&(this.uniform=n[t])}}},{key:"render",value:function(t,e,n,i,r){null!==this.uniform&&null!==e&&(this.uniform.value=e.texture),t.setRenderTarget(this.renderToScreen?null:n),t.render(this.scene,this.camera)}}]),n}(St),Qt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.depthBuffer,r=void 0===i||i,a=n.stencilBuffer,o=void 0!==a&&a,s=n.multisampling,c=void 0===s?0:s,u=n.frameBufferType;Object(G.a)(this,t),this.renderer=e,this.inputBuffer=null,this.outputBuffer=null,null!==this.renderer&&(this.renderer.autoClear=!1,this.inputBuffer=this.createBuffer(r,o,u,c),this.outputBuffer=this.inputBuffer.clone(),this.enableExtensions()),this.copyPass=new Yt(new at),this.depthTexture=null,this.passes=[],this.autoRenderToScreen=!0}return Object(W.a)(t,[{key:"getRenderer",value:function(){return this.renderer}},{key:"enableExtensions",value:function(){var t=this.inputBuffer.texture.type,e=this.renderer.capabilities,n=this.renderer.getContext();t!==c.gc&&(e.isWebGL2?n.getExtension("EXT_color_buffer_float"):n.getExtension("EXT_color_buffer_half_float"))}},{key:"replaceRenderer",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.renderer;if(null!==n&&n!==t){var i=n.getSize(new c.jc),r=t.getSize(new c.jc),a=n.domElement.parentNode;this.renderer=t,this.renderer.autoClear=!1,i.equals(r)||this.setSize(),e&&null!==a&&(a.removeChild(n.domElement),a.appendChild(t.domElement)),this.enableExtensions()}return n}},{key:"createDepthTexture",value:function(){var t=this.depthTexture=new c.y;return this.inputBuffer.depthTexture=t,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(t.format=c.x,t.type=c.hc):t.type=c.ic,t}},{key:"deleteDepthTexture",value:function(){if(null!==this.depthTexture){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();var t,e=Object(U.a)(this.passes);try{for(e.s();!(t=e.n()).done;){t.value.setDepthTexture(null)}}catch(n){e.e(n)}finally{e.f()}}}},{key:"createBuffer",value:function(t,e,n,i){var r=this.renderer.getDrawingBufferSize(new c.jc),a={format:this.renderer.getContext().getContextAttributes().alpha||n!==c.gc?c.Ib:c.Jb,minFilter:c.W,magFilter:c.W,stencilBuffer:e,depthBuffer:t,type:n},o=i>0?new c.nc(r.width,r.height,a):new c.oc(r.width,r.height,a);return i>0&&(o.samples=i),o.texture.name="EffectComposer.Buffer",o.texture.generateMipmaps=!1,o}},{key:"addPass",value:function(t,e){var n=this.passes,i=this.renderer,r=i.getContext().getContextAttributes().alpha,a=this.inputBuffer.texture.type,o=i.getDrawingBufferSize(new c.jc);if(t.setSize(o.width,o.height),t.initialize(i,r,a),this.autoRenderToScreen&&(n.length>0&&(n[n.length-1].renderToScreen=!1),t.renderToScreen&&(this.autoRenderToScreen=!1)),void 0!==e?n.splice(e,0,t):n.push(t),this.autoRenderToScreen&&(n[n.length-1].renderToScreen=!0),t.needsDepthTexture||null!==this.depthTexture)if(null===this.depthTexture){var s,u=this.createDepthTexture(),l=Object(U.a)(n);try{for(l.s();!(s=l.n()).done;)(t=s.value).setDepthTexture(u)}catch(h){l.e(h)}finally{l.f()}}else t.setDepthTexture(this.depthTexture)}},{key:"removePass",value:function(t){var e=this.passes,n=e.indexOf(t);if(e.splice(n,1).length>0){if(null!==this.depthTexture){e.reduce((function(t,e){return t||e.needsDepthTexture}),!1)||(t.getDepthTexture()===this.depthTexture&&t.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&n===e.length&&(t.renderToScreen=!1,e.length>0&&(e[e.length-1].renderToScreen=!0))}}},{key:"removeAllPasses",value:function(){var t=this.passes;this.deleteDepthTexture(),t.length>0&&(this.autoRenderToScreen&&(t[t.length-1].renderToScreen=!1),this.passes=[])}},{key:"render",value:function(t){var e,n,i,r,a=this.renderer,o=this.copyPass,s=this.inputBuffer,c=this.outputBuffer,u=!1,l=Object(U.a)(this.passes);try{for(l.s();!(r=l.n()).done;){var h=r.value;h.enabled&&(h.render(a,s,c,t,u),h.needsSwap&&(u&&(o.renderToScreen=h.renderToScreen,e=a.getContext(),(n=a.state.buffers.stencil).setFunc(e.NOTEQUAL,1,4294967295),o.render(a,s,c,t,u),n.setFunc(e.EQUAL,1,4294967295)),i=s,s=c,c=i),h instanceof qt?u=!0:h instanceof At&&(u=!1))}}catch(d){l.e(d)}finally{l.f()}}},{key:"setSize",value:function(t,e,n){var i=this.renderer;if(void 0===t||void 0===e){var r=i.getSize(new c.jc);t=r.width,e=r.height}else i.setSize(t,e,n);var a=i.getDrawingBufferSize(new c.jc);this.inputBuffer.setSize(a.width,a.height),this.outputBuffer.setSize(a.width,a.height);var o,s=Object(U.a)(this.passes);try{for(s.s();!(o=s.n()).done;){o.value.setSize(a.width,a.height)}}catch(u){s.e(u)}finally{s.f()}}},{key:"reset",value:function(){this.dispose(),this.autoRenderToScreen=!0}},{key:"dispose",value:function(){var t,e=Object(U.a)(this.passes);try{for(e.s();!(t=e.n()).done;){t.value.dispose()}}catch(n){e.e(n)}finally{e.f()}this.passes=[],null!==this.inputBuffer&&this.inputBuffer.dispose(),null!==this.outputBuffer&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose()}},{key:"multisampling",get:function(){return this.inputBuffer instanceof c.nc?this.inputBuffer.samples:0},set:function(t){var e=this.inputBuffer,n=this.multisampling;n>0&&t>0?(this.inputBuffer.samples=t,this.outputBuffer.samples=t):n!==t&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(e.depthBuffer,e.stencilBuffer,e.texture.type,t),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}}]),t}(),Kt=(Set,"uniform sampler2D nearColorBuffer;uniform sampler2D farColorBuffer;uniform sampler2D nearCoCBuffer;uniform float scale;void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){vec4 colorNear=texture2D(nearColorBuffer,uv);vec4 colorFar=texture2D(farColorBuffer,uv);float CoCNear=texture2D(nearCoCBuffer,uv).r;CoCNear=min(CoCNear*scale,1.0);vec4 result=inputColor*(1.0-colorFar.a)+colorFar;result=mix(result,colorNear,CoCNear);outputColor=result;}"),Zt=function(t){Object(H.a)(n,t);var e=Object(V.a)(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.blendFunction,o=void 0===a?Lt:a,s=r.focusDistance,u=void 0===s?0:s,l=r.focalLength,h=void 0===l?.1:l,d=r.bokehScale,f=void 0===d?1:d,p=r.width,v=void 0===p?xt.AUTO_SIZE:p,m=r.height,g=void 0===m?xt.AUTO_SIZE:m;Object(G.a)(this,n),(i=e.call(this,"DepthOfFieldEffect",Kt,{blendFunction:o,attributes:Ht.DEPTH,uniforms:new Map([["nearColorBuffer",new c.ec(null)],["farColorBuffer",new c.ec(null)],["nearCoCBuffer",new c.ec(null)],["scale",new c.ec(1)]])})).camera=t,i.renderTarget=new c.oc(1,1,{minFilter:c.W,magFilter:c.W,stencilBuffer:!1,depthBuffer:!1}),i.renderTarget.texture.name="DoF.Intermediate",i.renderTarget.texture.generateMipmaps=!1,i.renderTargetMasked=i.renderTarget.clone(),i.renderTargetMasked.texture.name="DoF.Masked.Far",i.renderTargetNear=i.renderTarget.clone(),i.renderTargetNear.texture.name="DoF.Bokeh.Near",i.uniforms.get("nearColorBuffer").value=i.renderTargetNear.texture,i.renderTargetFar=i.renderTarget.clone(),i.renderTargetFar.texture.name="DoF.Bokeh.Far",i.uniforms.get("farColorBuffer").value=i.renderTargetFar.texture,i.renderTargetCoC=i.renderTarget.clone(),i.renderTargetCoC.texture.format=c.Jb,i.renderTargetCoC.texture.name="DoF.CoC",i.renderTargetCoCBlurred=i.renderTargetCoC.clone(),i.renderTargetCoCBlurred.texture.name="DoF.CoC.Blurred",i.uniforms.get("nearCoCBuffer").value=i.renderTargetCoCBlurred.texture,i.cocPass=new Yt(new Z(t));var y=i.circleOfConfusionMaterial;y.uniforms.focusDistance.value=u,y.uniforms.focalLength.value=h,i.blurPass=new Ct({width:v,height:g,kernelSize:rt.MEDIUM}),i.blurPass.resolution.resizable=Object(z.a)(i),i.maskPass=new Yt(new pt(i.renderTargetCoC.texture));var b=i.maskPass.getFullscreenMaterial();return b.maskFunction=vt.MULTIPLY_RGB_SET_ALPHA,b.colorChannel=q,i.bokehNearBasePass=new Yt(new K(!1,!0)),i.bokehNearFillPass=new Yt(new K(!0,!0)),i.bokehFarBasePass=new Yt(new K(!1,!1)),i.bokehFarFillPass=new Yt(new K(!0,!1)),i.bokehScale=f,i.target=null,i}return Object(W.a)(n,[{key:"calculateFocusDistance",value:function(t){var e=this.camera,n=e.far-e.near,i=e.position.distanceTo(t);return Math.min(Math.max(i/n,0),1)}},{key:"setDepthTexture",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.circleOfConfusionMaterial;n.uniforms.depthBuffer.value=t,n.depthPacking=e}},{key:"update",value:function(t,e,n){var i=this.renderTarget,r=this.renderTargetCoC,a=this.renderTargetCoCBlurred,o=this.renderTargetMasked,s=this.bokehFarBasePass,c=this.bokehFarFillPass,u=s.getFullscreenMaterial().uniforms,l=c.getFullscreenMaterial().uniforms,h=this.bokehNearBasePass,d=this.bokehNearFillPass,f=h.getFullscreenMaterial().uniforms,p=d.getFullscreenMaterial().uniforms;if(null!==this.target){var v=this.calculateFocusDistance(this.target);this.circleOfConfusionMaterial.uniforms.focusDistance.value=v}this.cocPass.render(t,null,r),this.blurPass.render(t,r,a),this.maskPass.render(t,e,o),u.cocBuffer.value=l.cocBuffer.value=r.texture,s.render(t,o,i),c.render(t,i,this.renderTargetFar),f.cocBuffer.value=p.cocBuffer.value=a.texture,h.render(t,e,i),d.render(t,i,this.renderTargetNear)}},{key:"setSize",value:function(t,e){var n=this.resolution,i=[this.cocPass,this.blurPass,this.maskPass,this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass];i.push(this.renderTargetCoC,this.renderTargetMasked),i.forEach((function(n){return n.setSize(t,e)}));var r=n.width,a=n.height;(i=[this.renderTarget,this.renderTargetNear,this.renderTargetFar,this.renderTargetCoCBlurred]).forEach((function(t){return t.setSize(r,a)})),[this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass].forEach((function(t){return t.getFullscreenMaterial().setTexelSize(1/r,1/a)}))}},{key:"initialize",value:function(t,e,n){[this.cocPass,this.maskPass,this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass].forEach((function(i){return i.initialize(t,e,n)})),this.blurPass.initialize(t,e,c.gc),e||n!==c.gc||(this.renderTargetNear.texture.type=c.Jb),void 0!==n&&(this.renderTarget.texture.type=n,this.renderTargetNear.texture.type=n,this.renderTargetFar.texture.type=n,this.renderTargetMasked.texture.type=n)}},{key:"circleOfConfusionMaterial",get:function(){return this.cocPass.getFullscreenMaterial()}},{key:"resolution",get:function(){return this.blurPass.resolution}},{key:"bokehScale",get:function(){return this.uniforms.get("scale").value},set:function(t){[this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass].map((function(t){return t.getFullscreenMaterial().uniforms.scale})).forEach((function(e){e.value=t})),this.maskPass.getFullscreenMaterial().uniforms.strength.value=t,this.uniforms.get("scale").value=t}}]),n}(Ut);function Jt(t,e,n){var i,r=new Map([[c.db,1],[c.Nb,1],[c.Kb,2],[c.Jb,3],[c.Ib,4]]);if(r.has(e)||console.error("Invalid noise texture format"),n===c.gc)for(var a=0,o=(i=new Uint8Array(t*r.get(e))).length;a<o;++a)i[a]=255*Math.random();else for(var s=0,u=(i=new Float32Array(t*r.get(e))).length;s<u;++s)i[s]=Math.random();return i}c.w;new c.kc,new c.hb;var $t="void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 noise=vec3(rand(uv*time));\n#ifdef PREMULTIPLY\noutputColor=vec4(min(inputColor.rgb*noise,vec3(1.0)),inputColor.a);\n#else\noutputColor=vec4(noise,inputColor.a);\n#endif\n}",te=function(t){Object(H.a)(n,t);var e=Object(V.a)(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i.blendFunction,a=void 0===r?Ft:r,o=i.premultiply,s=void 0!==o&&o;return Object(G.a)(this,n),(t=e.call(this,"NoiseEffect",$t,{blendFunction:a})).premultiply=s,t}return Object(W.a)(n,[{key:"premultiply",get:function(){return this.defines.has("PREMULTIPLY")},set:function(t){this.premultiply!==t&&(t?this.defines.set("PREMULTIPLY","1"):this.defines.delete("PREMULTIPLY"),this.setChanged())}}]),n}(Ut),ee=(Math.PI,new c.kc,new c.kc,"uniform sampler2D weightMap;varying vec2 vOffset0;varying vec2 vOffset1;/***Moves values to a target vector based on a given conditional vector.*/void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 a;a.x=texture2D(weightMap,vOffset0).a;a.y=texture2D(weightMap,vOffset1).g;a.wz=texture2D(weightMap,uv).rb;vec4 color=inputColor;if(dot(a,vec4(1.0))>=1e-5){bool h=max(a.x,a.z)>max(a.y,a.w);vec4 blendingOffset=vec4(0.0,a.y,0.0,a.w);vec2 blendingWeight=a.yw;movec(bvec4(h),blendingOffset,vec4(a.x,0.0,a.z,0.0));movec(bvec2(h),blendingWeight,a.xz);blendingWeight/=dot(blendingWeight,vec2(1.0));vec4 blendingCoord=blendingOffset*vec4(texelSize,-texelSize)+uv.xyxy;color=blendingWeight.x*texture2D(inputBuffer,blendingCoord.xy);color+=blendingWeight.y*texture2D(inputBuffer,blendingCoord.zw);}outputColor=color;}"),ne="varying vec2 vOffset0;varying vec2 vOffset1;void mainSupport(const in vec2 uv){vOffset0=uv+texelSize*vec2(1.0,0.0);vOffset1=uv+texelSize*vec2(0.0,1.0);}",ie=function(t){Object(H.a)(n,t);var e=Object(V.a)(n);function n(t,i){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:re.HIGH,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ut.COLOR;Object(G.a)(this,n),(r=e.call(this,"SMAAEffect",ee,{vertexShader:ne,blendFunction:Lt,attributes:Ht.CONVOLUTION|Ht.DEPTH,uniforms:new Map([["weightMap",new c.ec(null)]])})).renderTargetEdges=new c.oc(1,1,{minFilter:c.W,stencilBuffer:!1,depthBuffer:!1,format:c.Jb}),r.renderTargetEdges.texture.name="SMAA.Edges",r.renderTargetWeights=r.renderTargetEdges.clone(),r.renderTargetWeights.texture.name="SMAA.Weights",r.renderTargetWeights.texture.format=c.Ib,r.uniforms.get("weightMap").value=r.renderTargetWeights.texture,r.clearPass=new Tt(!0,!1,!1),r.clearPass.overrideClearColor=new c.t(0),r.clearPass.overrideClearAlpha=1,r.edgeDetectionPass=new Yt(new ct(new c.jc,o)),r.weightsPass=new Yt(new _t);var s=new c.Zb(t);s.name="SMAA.Search",s.magFilter=c.sb,s.minFilter=c.sb,s.format=c.Ib,s.generateMipmaps=!1,s.needsUpdate=!0,s.flipY=!0;var u=new c.Zb(i);u.name="SMAA.Area",u.minFilter=c.W,u.format=c.Ib,u.generateMipmaps=!1,u.needsUpdate=!0,u.flipY=!1;var l=r.weightsPass.getFullscreenMaterial();return l.uniforms.searchTexture.value=s,l.uniforms.areaTexture.value=u,r.applyPreset(a),r}return Object(W.a)(n,[{key:"setEdgeDetectionThreshold",value:function(t){this.edgeDetectionPass.getFullscreenMaterial().setEdgeDetectionThreshold(t)}},{key:"setOrthogonalSearchSteps",value:function(t){this.weightsPass.getFullscreenMaterial().setOrthogonalSearchSteps(t)}},{key:"applyPreset",value:function(t){var e=this.edgeDetectionMaterial,n=this.weightsMaterial;switch(t){case re.LOW:e.setEdgeDetectionThreshold(.15),n.setOrthogonalSearchSteps(4),n.diagonalDetection=!1,n.cornerRounding=!1;break;case re.MEDIUM:e.setEdgeDetectionThreshold(.1),n.setOrthogonalSearchSteps(8),n.diagonalDetection=!1,n.cornerRounding=!1;break;case re.HIGH:e.setEdgeDetectionThreshold(.1),n.setOrthogonalSearchSteps(16),n.setDiagonalSearchSteps(8),n.setCornerRounding(25),n.diagonalDetection=!0,n.cornerRounding=!0;break;case re.ULTRA:e.setEdgeDetectionThreshold(.05),n.setOrthogonalSearchSteps(32),n.setDiagonalSearchSteps(16),n.setCornerRounding(25),n.diagonalDetection=!0,n.cornerRounding=!0}}},{key:"setDepthTexture",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.edgeDetectionMaterial;n.uniforms.depthBuffer.value=t,n.depthPacking=e}},{key:"update",value:function(t,e,n){this.clearPass.render(t,this.renderTargetEdges),this.edgeDetectionPass.render(t,e,this.renderTargetEdges),this.weightsPass.render(t,this.renderTargetEdges,this.renderTargetWeights)}},{key:"setSize",value:function(t,e){var n=this.edgeDetectionPass.getFullscreenMaterial(),i=this.weightsPass.getFullscreenMaterial();this.renderTargetEdges.setSize(t,e),this.renderTargetWeights.setSize(t,e),i.uniforms.resolution.value.set(t,e),i.uniforms.texelSize.value.set(1/t,1/e),n.uniforms.texelSize.value.copy(i.uniforms.texelSize.value)}},{key:"dispose",value:function(){var t=this.weightsPass.getFullscreenMaterial().uniforms;t.searchTexture.value.dispose(),t.areaTexture.value.dispose(),Object(B.a)(Object(D.a)(n.prototype),"dispose",this).call(this)}},{key:"edgeDetectionMaterial",get:function(){return this.edgeDetectionPass.getFullscreenMaterial()}},{key:"colorEdgesMaterial",get:function(){return this.edgeDetectionMaterial}},{key:"weightsMaterial",get:function(){return this.weightsPass.getFullscreenMaterial()}}],[{key:"searchImageDataURL",get:function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAQCAYAAACm53kpAAAAeElEQVRYR+2XSwqAMAxEJ168ePEqwRSKhIIiuHjJqiU0gWE+1CQdApcVAMUAuARaMGCX1MIL/Ow13++9lW2s3mW9MWvsnWc/2fvGygwPAN4E8QzAA4CXAB6AHjG4JTHYI1ey3pcx6FHnEfhLDOIBKAmUBK6/ANUDTlROXAHd9EC1AAAAAElFTkSuQmCC"}},{key:"areaImageDataURL",get:function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAIwCAYAAAABNmBHAAAgAElEQVR4Xuy9CbhlV1ktOvbpq09DkiIkUBI6kxASIH0DlAQiIK1wRfSJTx+i4JX7vKIigs8HXpXvqVcvrcC9agQ7IDTSSWgqCQQliDRBJKkkhDSkqVPNqVOnP+8b//rH3P+eZ+199tlznVTlvVrft7+1T7OaueZY42/m37QALKNk2wHg1pITlB17mC+Pp11W3X/LHyT32vhg48/5SOv+PnwpsHA70JoGlueB1iKApeqzvOzn44GatTB76Xzhd7suBR7+WWADgDEAwwCG/L54b/poDLrHuvvm70Z2Avhsc+PVcxscBU8F8C8ADg5+ipIjD/PlGwfgju8B924E5seARUfLsiNmqQW0IjL8+7L2NYD/7COBzfcCm+aB8SVgdAkYIRCXKyDax4EdAanL5PuNPllNvXDlAHwFgP8AcC2AhRIoDXbsYb48dl5WkVFTE3LGDcC9m4CZCWBuFFgeAZaGAYJQQCRqDHT+McJrVb8zwATUXH02MHYfMHEIGFsAxgjApQqACYQORjtd/B7Axt/z79sC0+cMPgjjlwPwVwHcA+DfAHzTxcVgWBroqMN8+cYBeM71wH0TwKExYHYUWCIAHYRLTlkCYgcIBcAgU/n3qy8GRu4HRgnAOWBkERhddPAJhGJDBxkvw7cqimr+zFM/ZLnZF64cgL8BYD+AWwB8x/dlWuWagHiYL984AJ/0RWBy1AE4AizyM1yxYAcTigW55xMbAkxEiwEdkJ/ZCQxPAiOHgBECcKEC4TBZcKkSv+mTieNcNPNC26mLNsj45QD8LQDTAO4GcJt/7iw2bfoG4WG+vAGwm9ExiEg69zpg/wgwPQLMjgALzn4E4aIzoJjQ9g4024uygkj+pyuAoX0VAIfngOH5NgCHMhAm8Sv2y3XDZeBhNIp8OzJE8OsBzAKYBHAXgDt8/4O+MVT0j4f58o0D8Pxrgf3DwMwIMEPQEYRkNwfgsuuDZLskip0No0gWMD/9HGDoADAkAC4Aw/wsAgZAgs2Z0ABI0GU6IVmKv+f28KDnHxkA/G0A8y6G73N9kOCjXnh/Ebb6OvgwX75xAF5wLTA1VIHPADgMLDj4yIA5AAm6aCUnv4oz46eeDwxNAUMzwJAz4BABSNDFTwSfg7DDKHE23MG5PqIY8A1u/dINs9dBdy8AgnGPM2NfUBrsnw7z5RsH4IXXAAcJviFgluAbygBINnSLWOAjGxJ4pgOKDV0v/OSLKp8iGXBovhLBBOCQM2ACoTOhnYrAdItYbCij5JFzRyIAqRccAnDAQUjg6UNQ7hsMXP0cRQAexss3DsCLCECCLwCQzMcPwUi2MwAScAKbfnY/YRLFQ8DHX+IAJAMSfDkAF13kLvleIjhjQQHxUVS3jjgGpKeeNzYVQEjgUS8k+PghONdhIwAP4+XXBYCHKIJbwJyDTgaIAdCBJx3Q2M8tYAHP9m4df/ylQOsQ0JqtRLCx30K1wtLBggScQOgsKBGcWHAJeOwRC0BSM1mQIKRbhh+Bj98JQP6t4U0APEyXXxcAEnxkQAFwoVUxID9kvQg+c1C7vidRbIDkc24B//hTQGumDcCWA5DgMxASdNIFBUI5pCML8v8API5zfEQx4BudgqiczviSnJhQwCP4BMCGl+wO8+U7AJi/W4O4YS6+pmK/2ciADsAOBhTIIiAJnPB7AvNjP+0AnANaYkAHX2JBAc+tYaJXOqBZv24Vc386XW5dtkHGW+4HFAJonpOe+YYQZAShgKjv3PNvPQaxVoI8zJdfFwASfPzMUwS3Kt1v0UFIlos6oDFdAGFcliMAP/ryAEAGNwQRnDOgLbdlIEwrIs6AZ/QgkMMHQF6ZAKQcJAsSYPwIeAIk9wJgoPK1gi7+PwF4GC/fOAAvIQPSs0URTPBJ/Pp3GSEGRHfBCIQ0xowBtUbcAj7ys5X4Jfu1HIAGQrIgQRXEsAFQIORDFhiDY/rMHmrU4QUgR08AkgUjCAW6CD6CkwBsAIQC4GG6fPMA3OXiNzCg2I9gNCMksmAAoemDzoimFwL48M85AKkiuQVMAAp8CYRRDAt8GQiJ67N6GJODAXAHlsGguscA2AJg1IPGYmxOpBxFWkRN9LsATgIwXnNs/v/5z/9XCf8BO3YAtxbc/46/KDt+5+ea1Yku2VUxHz/z0v24FwMGK1gWsK2OUUxHHdCBeRUB6OxHABr4ZICIBd0QWSF+XRdMTAjgCdTrG9cBNwE4F8CpDkICyYLGsuhFt6zs+gISwUen8zEAjgMw4cfx2H6O/90yAFo84Cbg4ID3/9TfLTt+5+ebnRABkODjx0SwPi5ec/FrYpmqSAxM8Dn60CsqAFI6GfhqAMiDE/gokmvEr0C4PgDkBQm40wE8zMFEUDKEVoxIMLl/KS73mE7H9d+vcKHQQcjwW0Yu9nP8m8sAmOIBuWY6wP2/4s0ezjjg8TuvaR6ABJ70vxUApGrm7EbGE+i472BAB+WHfqHS/eoAaEwY2E9+wLSXTqhI7CXgnB6LCoOJ4BiST+hTnG0HcCwAglCx3ARoZEVFXnBPp/O/A/hXACc7CPs9/i1lAOyIB+RDX+P9/+pbQjjjAMfv/PL6AFDs1wFAgs/9fgKfgdE/ZEpuiQlbwAde6QAMBgiRmsSwA9BY0JfjovGRDBMH4TlcXGhcBOc6HkF0gjPhZgchxTLZMAci/04W/B6Ab3t09EPXcPyflgFwRTwgJ2MN9/8bf5qFM67x+B/aW4XQz42FeL0YrRyikztUFw0704mf9kXgxhOAqc3AAsPyRxxQCs/PdXOFY0W1KHy3QIUGtx+6vdnx1vsB+dsTncm2AogglFgVEAlUWrOMB2RyEmMCGQ/Y7/HvKns6tfGAnJQ+r/9b76oJZ1zD8WdyQjYBh8aBhVEHjELouQ8ukQ7VRSCJAALwkr+sALhnGzDD3JAJYJHg9uhoi4bx8ytkWUtvHT/7+Zc4dw1uZ3612fH2dkQf7yxIEEockwkJQn4IQoq8unhAhmPRKKFx0uv4K8ueTs94wD7u//VX9ghn7OP4c+4G7h8HpseB+dF2AKlFLwuAIZ8jD6NPrOhAffmfA9/ZBuzZCkyRWSeqBCWyoYGQ5yQrBpDbum/ME1HoPo0XEkSD2zlfbna8q6+EUJcTCxKEtHL5EQjP6BEPyIgYAZBvYt3xHyx7OqvGA65y/7/9wVXCGVc5/sl7qxD66dEqiYgRzAqhN1A4CBNAAlDyAFI+iZ9/N3DLJuC+jcDUBmCWyUnOrmTYCMIOkNclLg0B8/RsNLg9+UvNjnd1APLmmQpFHyEBROuWACQT8nN+H/GAvY7/VNnT6SsesMf13/CpahGnZzhjj+PPmwX2MYdDIfQexWyBAwEUOQDrRDN/98p3A7dvAO6fAA5sqHJDBEAyoUVGkwEd6HR12XU4kwzfl6fCXTZzjy57vvnR513X7Hj7AyDvggAUi9EyFgiZqNxPQF6345nOWbD1HQ/Y5fpvuLa/2+82/vNHgAPDFQDnhoF5j2C2qBWCI8bw1eRw5CL5l94L3DEOTI4DB8Y9OWmsEu/zBJ3rgsaybqBob/7A4C7jtWcooRrczr+u2fH2D0AOQgAUCxKEP7aGgLy64+m6KdjWFA9Yc/03/Osa4glrjr+AupqHz1sEs0cxG0BC9HIePLoit9eNkVf9L+DuUWByDJgaq4ybGYLPAWgiXmLedUE7dwC7saL7CqfPKXi4NYdaykCD410bAHlDEsNiwZ9wAPYbkJcfz6T2gm3N8YDZ9d/wHxUA+739fPwXPrSKYGb+BuP3jAFDElFH9HIWwbzCIGkBr/or4J4RYO8oMOW6ZVcAuvi1Cgoha04BCwT5gfMKHm7NoRde2+x41w5A3hQZkADk5+cGiAeMx3+/7AENFA8Yrv/G71cAXFM4Yzj+otOAaQLQA0gZxaIIZtMDFTigKJV8H9Iq6aZ59ZXAvSPAvpEKgBTtBODcSCWCZeRYtpzrmLyeGNCAyFl1v+Hei8qeb370Rdc2O97BAMi7EgB/2QG41nhAHU9LuWAbOB7Qr//GPRUA13r7Gv9FZwIMoVcEswEwfDoimEP0shKKtIphaZQAXv1+YM+wA3DEdcvRKkGJADQQEsQuhi1Tjt95vBsh5nx2IO59SsHDrTmUOStNjndwAAqEry0IyCMICkOyiuIBNwBvPFQQT7gBuPjc9oRYAIHyOEL4vIFEYVNaOou5vCGE/tV/A0wOVcnpzI47NOri3QFIBpSeaSDUdYLOSWvYImSGgftpJDa4MWJbAGxivGUA5MAOc0Be6eVLj7/4Mk+hzCOYPYpZDBiNkLh+G/M3yFyv/ltgL3W3YQfgcFUhgRY2PwY+Z7/EhAR1SFyXCOb57r28QfQBsJQBMn5D4y0HYLPje9Cd7RIC0PM3EiMofF4gVCBp1P840ix/gyz56r+vAMjk9Gl375iB4+CzveuZdLkkEPJ8ZEfX/6R73vOjzT5Si9hucLxHAVg4PwJgRwh9CKOXK8YA4ZEqKZXSQWh5P+5AftXfA/uGKvYjCKn72cctbFrZNECka5L5CPwIPtMH3TVz17MLB5gdLgA2Nd6jACycHwLQxFEUSR5ASvARDB0h9AQb9bXIgCGk6lUfAPYTgEPAITKgg1BObk58srTJgG58WMkWMaAbQQT1nc8rHGANAJsc71EAFs4PAagQestgC1lsBJ4BMCSOK6dDUcwqqaFiQr/0QeAAAdjy+jBiQQeeMSBZT3nCPUDIa9z+/MIB1gCwyfEeBWDh/BCAeQSzgkjFfGLBBD5nxQ4DxN0wv3hVxX5TBGDwL5obxvVA5YqYL5BeMLd66YYxJpRB0gK+96LCAdYAsMnxHgVg4fwIgMrhUPKQ2C+Bz0PmBTqBMQehAbDlIjj4F80KJguSVZ0FuXpjoCOgXawLjALhbT9eOMAuAGxqvEcBWDg/l1IE05Ed0ygZnyHdz0VwCqEPIfNyx0QQvvLDFQCp+8nfZk5und8tXwIgWcHSNX0N2CJmnAl3v6RwgNnhl17T7HiPArBwfghAS7mV/hey2JS9FvM3BLpUUi1YwDRMXvkRYJoAlAh2l0dcZ04s6JUTDIjyBcrl4yDc/dLCAdYAsMnxHgVg4fxwKVwJgGEJNmWtxpQMpX9on2eRhVA+O56AjMfnP+e3Xvf3NwG4xIPTleiY55bpGh6UbafNU0l0z0p+5Jh5HqYJ6b51nP6XP8cx12XNHQVgIQB/bFPVg2OC7Q+WgVFWng/FvtWLI06uWh5oguKEcXVS/9sEAF//VGD7t4ETDgJbF4CNi8CGZWBs2fPL/H6Vwp2KEtVk4fJ+v/EIYPN9wKa5qu+IncfPwXHVZe/aOL3EbwS7xv8A1rQvnO0j8PArTgTGZ4BxFv9mIxhOCGsv+0OPYDRghcLfkWkEuq0+G00x4OtfDGz+d2DbHmDLjL8si8AYP/7CGIAiEEMTG92zXqSbH+d9R2aA0XnvO+JjthiIrOVDHHPOkBrzUQAWAPsZp3oPDpa/Xag6EVkLBK+5rAnJC3/nYk/APD704WiEAV8OTHwX2LQH2DgFbJgFNrBhjd8r79deGoEwsllgNBOzy8CdjweG9wBj08AIAci2D6HafmyAk4/Z7SJ72hGYRwFYAMDLTwOGp4FRFgD3HhzqRGQiyeurqOdG6r0Rm8IEZjzRlkiqCWoEgK8Axm4BJu4HJhyAbFhDxmbDGnZO4j0SgLGDkpibgEq66TJw/1nA0F5gdLpq+zDqFfd5LMeWqu5HNST0uJOIllg+qgMWgI+HPv0xwLA3gWHpW2sC441gCECbmKziaGrnUdMO4aHeh6MxAP4SMHI7ML4HGD8AjHvHJGNAgpDgY/ck3stipRemvVhc+uASMPUEYGh/9dIRgGx8Y+MNbR/00uVtH0wEx94j/v0oAxaA8Ed+GBieAYZZg5kADC0QWGOFzGJlcGPzl1BxNLXD8sk4xftwNAbA/wwM3wGMUmxOOQBnHXzetIYvibonmSiuYTNjriVg7glAiwBk0fNZH6+PmX9P6kfNmCXGpftJ7TgKwBIAnln14BAAYxMYm5C6RjCyCoOyr0qkD/c+HI0B8DXA8N3AyCQwesD1VQKH7EcASm1Q+y4CkN9pUKiVF5nLvy+fBbTUd8QBaH1HvNBROiZvfsNnrF4kcvPwpdsBLBeU18Nf7AB23Dp4ecHC8oBgUlJJecLS+7+WOpE3gbE+HKw+yoevCYkMGKqPJrdEKARutaFYRs1fiEZ0wP8CDN8LDO8FRqYq3W10pgKgfYLaYCzootgA6KXaTA90y374TKB1sBozy77xHFZ536utRgAmEaw6g5kUSFZwSXnA330qsOlfgHMPDlZesLA8IOjoLypPWHj/11EnCiVwkz7kAExtsGraYUWdSDX5TmsagL8KDBGA7Bd30JsW0oWivnEOQNP7yGTSBR101AlZSUtGyfgZDkCWY1HnJdcBVe6325hTvelg2CQjZNDygG/2An0j1wKnL6y9vGBheUC8prQ8YeH9X39OVQSc7Mc6fCaKvAeHdCIVf4yMYCynTpX+nb97NJmlSQb8r8DQHm9YOFUZTKOzoXGhs6AxF0HIexcLBvWBuiHN8s2ne98R3qc6L4Vyb2oBVjfm9MIFHbjDCh6kPOBbQoG+oW8CO5bWVl6wsDwgfr20PGHh/X/1iaEIuDcCTIW/1Q4rFv8OnYiW3c+W2iKwUjKbyjQNwL1uuR6sAEgDgq1brXOmV81PxhNB6DUDBSYzQJwFtz623XcktX1Q1VWKaTF/zZhVazBVYA1tX5MazsGvobwe/jQr0Ne6BTh5uf/ygoXlAfG60vKEhff/rSe1i4DnTWDUACY1guFTDqLYdCBvf6DJYSMYATBfOx1kLfj1v1axH10nQ3Sd0GUkBnTfpemtBJgseIKQAHLQcVxa2TnuMW0Aqui5es8xBIegVdVVE8VhzHnLh65WMB9An+X18K6aAn2tO4ETl6vqbKuVFywsDwhevqg8YeH93/Rk70JE90nowxZbIJjvS3WYNSGUwGHJTpPxwwcbBuBrgRYBeKACn7VtpdUu/c0NJxO9BIxcKu4TTODzbkonPLoaL0vyUQRb2y8HsL1ckfWzMeuFi40Qezqi+yiPhyt7FOjr6/gCFwgP7Xb5vssTFt7/nQRg6MGRWmDRoeyTlpgw68GRTwgZgo1gGmXAX6/8dtaylSKY/koyID9BhzML3q1gAos2AcOrZYSoq/pJp1VtODRm9Z3LS/7WjVkvXOzEtOpKyGrlAT+4SoG+VY8vBGCvy/dVnrDw/vee65NBJiAjBIVcAJQjOm+DkCZEeiGAMw6sAwDZsJrAdhFM9rPGhd4904Co5oVuCZPV6kD40Ec6+9W8dBTBsfdc3nkpvnB82fp2RPcs79dHgb51LA9ofsDV6vut5/3PnxcAmLVBiDqgevDaJLkYrpuQxzcNwN8AWgIgRbB8loEBzXDwl4cGiDGft58SCOWGedgjvOJ+bPvgRkiuA+ZjzhnQQOiFNVbloa7l/fos0LdO5QENgEXlCfs8Qbf7HyMA3QVjYihYhLENgjX9y/qwxQmRU/asfd0ZcLU2CHVGyusJQLKfVi98CS12T5f7iECkHpsMkAhCF8+nshWH2I/jXsOYO144GV/9ApAIrS3vt4YCfetQHtAA2G+/4PW4/2PPbzMgmUMi2NoeSCRxIt2/FvuxWURIWCXg357gfTjEDNIHnTRXRCpH5ugKwGl3HpMBXQc0v6WLYVm/5limj04rG762K2uYY9jBkr9+rI03NL5ZbczS/dJ+LQyoga4o77fGAn0NlwdMAOy3vl/T938KAcj121z8Bn+Y9eWQJRz8Y6kNagDh2ey5EvxjxQD8TWdAuneCCO4An1vw5vdzQMmdktwq7pLZQR+dM34+ZumAxvY1Y04uqOAJ6FsExzeto7zfAAX6GiwPaLWR1lrfr8n7f/Rl3QGzmsis+/uO71V9OFgP2gpPhgr7TGRqRUT6dyvr4aIs/pm/2zVUNbBSv6G8e5pEv0Cvec7Po7+bTtjlBRlkvAMBkDeQyvsNWKCvofKACYBrre/X1P0/oWEAnnFD1YdjhtXxR73mX10FfCHHE9pVWcGAI/S0gKsfA2y+twrFZw6Hxf/F0Pk8Ri/kpGSnMuDx5T0iACgQHioo0NdAecBUHW6QdsV2/cL7v/Cyqr5gnc42CCOcfX1VIZ/V8We9IDmTzVXwPDJiXuKXPxtDBma8+lzP4WAgKkPxCUAPE4v5GzEuMX0PYJPLhB6FJsc7MAMmkVxaYC/K9gG+F1++8AQ7Gwbgk78I7GFpXgIwFiRXOwaJZPUbiR0yCUDRk+cHf+YpwMj9HgfI8ClGPyvsSiH0WSKRuYlitLb/zHM/JOSs5C/YIC9cMQDZr/dwxgOW9gtGYUBi0wA8l304vDQvAchilFbpIBQhZ7Ejq6ZQ0/Yhil8y4j89Axie9DAsD6FX9HOK3QtROTFkviN83kG4felIY8DCeLrSeMDSfsEovAECUFsTjHD+tcB+tkFgcXKvBRir7qtFl9owmO4Xy/1G3bAFfPrZHorFNWBFwHjQAFctIghj2kBarw06If/+MM9ZqTN6DgsDojCerjQesLRfMApvoGkAWh8Ob/tgAPSKWCp8ngNQtadjmTdltvNvn3peFYhgQQgh+iUmEaUAUoXM1yRLmWuFLaE9Z+XIAWBhPF1pPGBpv2AU3kDTALzwmqo6qtVh9kJErAudABia38TC5wJgS2xIhAwBn3yhByL4EhzXfRXxYsDTJ4IvrNN2JFMxZcBzVo4cABbG05XGA5b2C0bhDTQNQLZBYH1AVsQSAAU+imI1obHyblnjG/kJk3U8BHz8xVUQAhnQIl5CyNgKAGp5LKSSCoAySh5Jj79vTagcxUaIBeRNe79g9gq+DXig4wGzy+PONfT7RWFA4noAkGXZVAhcBckJQgNgrLiaNb3paIDo1vHHX+oA9LQBi4DxJcOUPJUnTgU2NJUyROs8irGARxQAC+PpCtsFd40H/AEf0gMQkLgeACT41PiGoLOKqyrJq3K/Ya9mNyr5FusN/uPLPIeDa8Bc+w3rtyl4VFHaMZc3i9RWBM9jjzgAFsbTFbYLRmm/YBTeQNMAtD4cBKDXBTQGdAB2MGBo8SCLmEuS1AFVAJ3A/NhPt0PoCcA8bSDG76XI7aySg6JYuGfKwJHFgH0E5B3ueMCe/Y4L+xVHAOZ+9EHcEgQgwbeiEYx6jwTdz4qfu7EhEJqxGqruf/RnHIAEnxgwBM0aC8aUAYWNBRCmoIll4HTqO122QcZbrgMWxtMVtgvuOx6wa7/jwhtoGoDWh4MBJ16WN4lfr8AqI0TVV1O1fa9BbQzovkAy4Ed+NgCQUSxZCFWvCOaOFREXyUwZOPIA2GdA3uGOB6wPaOz+QPv5S+MA3OXiN9aclghW+d3IgupBF2pPqxcxGenDPxfSRh2ASiKKiVP2PaZScvAKoA0VDc6cOlIB2GdA3uGOB1zR77iwX/F6AFB9ONSOQW0frA50sILVcckWJyIDSgwPAVcJgFbYuZ3FJvAlEHbJ3IsgJLGedeBIA+AAAXmHOx6wo99xYb/i9QKg2iAIfDJEJHqj4SExbEty0gkdhB/6P9oZbBZIGiKYVb9GKaN50lRHBLOvhDxh/5EKwDUG5B3ueMB2QGM/grb7/6wHAPNGMAY+GSGUjC52VX2f2CD4+HO0gqkZfegXKgBaHkcWtS0AWii9xG1ImrLlN5XR8L8fmQD05BVrmEENmpYSP9QX+KHiqj2/82+HqqDWwnbBRfGATdzAegGwru2DpRq7Mzq2fpAf0Nq0Rl2wBXzglZ4yUAPAmDSVWDBPHQjLcgTqOZ6zUvdKHh4ruDCerox/Dnu7YqwXAC1NI/QcEQuK6WK/kdgCTGC0PYAP/KIDMBgglq+hIkrOfsaCviLSofcJgJ5AdM7kkSaCj/HqQKVIGvD4swF8bcBjmzjsaQ2H5D/6acBd9wALB4DFWWB5AVherMp4GKIYEOp7+26UF0aSfT/xYuDG7wDjrIpAERytXf2vajj7ueryQXSFl10K/ON3gIWDwCLvjfGB8Z54O+Ee4ve6513uB2R1yzsqC+twbC8HcNVhfAeaBuDP/TvwtS3A/ePAIfYFVlPq2HHTuyulZCTlhbjhETF5yxTQGgPGhoHhIWC4VSXGD3n0tLkMHXHxu+YyB+MlPwDuZs5K6FlsbCzdVO9DuKfkHM8AEkP7B8fOkwDcD+B7np42+JkGOvKdAL4E4K8P0zvQdET0b14D3DgB3D0B7B8HZka9WzrD88N6sFm+YcUjrn7E1ZDvMtF9DBgeAYaHgSGB0PNHCD4BLwLRsByAyX/ij0/dDUxuqlIG5hix7eFhvLcOVUAtyPSydAFmOQNe6EYGV/9ZESiKgIEgtbaD/gHALQC4ovY5r5KwtjOU/XfTAHzzLuCmIeDuMWDvKHBwpMoN0WQzNtAaYSs0K4ZlOSAjGG9kPjCBRwZ0ABKEBJexYAZEAU3A7Oi1BeDym4EDnjQ1TwCGWMW8MXcKks0YOyZNlQOQjcgYIUHllEzYQ0ktm+r6oz8G4F4AXwXwRd8/kO9A0wB8y65KmPxgGJgcqYJTKYpTv2CCzyddQJRDOjKivn+Deh8BF8BnwBtaCUA+YYEyAU8h+c6Az9gNHHRmrgOgmDA3jHQ+iWupCeUAvNSrA9HNwqx+muk9nJVNg/CTfrmbAPwbgK8D+PcHkIibjob5o13A3XypWsAkG1cPA9PDFQDZM1id0i1KxsWfOrKnAFXlifCFFMMRcASigOcs2MGAIfE9iWXplS6On7UbmPaUUTXQrgsVMzcRj5Folg2V5ayUA5BWYKwOxKUafnosWjcJwk+7W5F2EKvlE3xcXaNYfiCYsGkA/smuqug6hcleAnAImPbO6YwRpMgjCAVAm/yQmKTv5hNsAf/i7SyNBSl2a8Qv/4/M1yF+BZSYlNQCnnVrpbC+mToAACAASURBVJcaI7sOSEY2NpaDXLqpR+vE/OVksDgImgGgghHoYJbTWc7oJtFWc65/cg2AYvh2ALsB3AzgVv95nS/f4QdsIkT9T3cBrGtITWZfC5hqtQHInsEGQn3UDDvEDEY/ICf7SxMOrAg8T+c00JGkvHGd2DABUYZIAONzCUDppCFhSukCBsLQrFtZe/IixYQpSyEoJoqnuPWrVRAubQh83HNlZB23z7j1ywmj6CIIqUPxw2Xeu9bx2jx10wz4Z7sqTYZaDD8EIDuoE3hMVEphWg66JIp90k0sBxBcy+iPIIaT1RtEsHS/yIAqw+VSNPWQfe5tlVEk8auXgVa5BUsEJuT5uoliAbE5AGotmIAjCPnR9xDG3TQernYAUupTdBGEFMf83OkApHG+XlvTAPwfuyrgSZOhas3u6cwTsUBVn2gTwyFMi8wjHZAA1M9fYGHDULJD1m8Cpa8fRxDad+l+Ykf/3XNvd11U+qiL39SxXevSsshdDFvgbI1O2AwAtRZMZzTBRuDFjxe1Xg8QEIB8yyj5yYIUxfQIkfkIRnmHCM712JoG4FsdgHHp3ACoMH2G6jM4lWzoQarSvwQ6MSB/vporVaFkh+mCLlpVR8Z+dqDZLoDOpHSiQeAFDkBjPrlgCHgCUaFifg67H/9uYjn4Ai1vpTERTAASBaoQJBAKeNqHlL6mwPDZYAOROag/EYRkPX34MwHIvzW9rQcA+TLpI22G7EcQKlJGsYIJhC6ClUMiXfBTbFUQAej6nPS/OuAl9pOOqIc2BLzg++3VmWgIEUz82cRuCAtLIHQQm0gO52uOAb22sC3JEWgRfPpZf2sQBQIgLydPEIFGwPEj8MlF2bSbsulghLftqsCXq9HGgHysznrGgi5qzTUTFH8FLhAUn3hIJwCN0HLncw37qaF2zoYvuKNivmQIuUNc7GvWt6sHNs26twA6vhyq8NEMAHlyntFrDCcQehyaPTl+FwAbXDcmAKMRThakEk8Q8kPg8SPL0qzLBl+A9QCgR6uZGs3vfHz8TtBZvkgGQrEPBVAUg2Sij50QAOjiVKI3saADJRm7dSLYWfSFDkCem/dhZeMy9pPY5QvSDYQyUJoDIK8qMezh3wY6fSL49PcGgCAA8pScJLIgAUYQEmz8RPA17StvGoBv39W24eREiBoNQSgWNI1HBkdgxJSw1AI+dFIbgOYmkjimQ1r6XXC3rAbCHycAgytohf8vsB/r2KRaRq7zpZ+D37HMX0s3DDcCUGLYaw53MJ4YUODzusqlGCQAOQCejuxA8UULUkxIwAmMAp8Wa3qkN/R9W+sBwOhIEPjk5SLr8HeKFbTQfb77csPIMHGl/4MPbReslPhNe4+MiTpi9AFGV4nI7MfvagNQLh/pfrYnDAS8aJQ42A2w4em2cAyWQUuJVQTGWLs1uL7DG9J1RjhA+jvYk4t3KXeMqijpzrud4At9z3XtP16yGfjKZmCGooYh1tZzvv8xXPFl4PoJYC97k9FlwZWD+Azi/deMZWeP13eQCGEyoERudChIjbb3mJYwH7V0QIKuCwj/gfMj0asn2I0FXRSHXfL/iRkNgLyeVj8ccMY//J1fyxzTAXT2+xoQViKYD/1hDqLxPiYxTgSvQrphphG97tz4Slqafnj7uk1kIQDZrvWTw8B3jwEW+RLxPgSiCERdPwPR7+wCPg/gulFgfruDkOMQkFc5x84e708JAMmCuRNBXi4TIg5CGRzGiBGE/D4E/C2r2vcAYJoify62i0aJSMhB+2IHoNwu0fkcjQ85pu3ack5nIBREqneYFyWLkAXIJHESe00Cyx5QyeL6F/tyEcDcrOW2n7fX8df0mME+/vQ/PQjhoy3gzo3AISYf80MQaQx1peH9wb7v2mrtmCBkIMMejp3jIJD1MsaxaMZ8v5N/67INAsB3BAYU4JL4DSo1J15AFPAEwuQHZJzkKfUAtOHLJSOQRWndBYQvCQA01cfnNopfsaCJaD2baBn79QjSTiOEP1EcawIpkq2kegBTNgHWEpOKF8Uwq2NRFPM4AqCf46/rA2U9/uVDvurB01zvAJpiiwOl3fEeciCGF+Ij11f+QkbSfMPfIzqw57mEFZ9Dl3Ps5HXWAYByHJAJKV7N+s0cCQQhwSlfm4lGZ0KB8C/rABgZUS6ZHITBSEhCowUYAAksF7cStWREyxRwtuPpOlgw+5s9sq6OaIJIIlUgEhA1edoTgHxa9HVw5jibZNF+j/9yGQA/7pbujZ4bwv2+cWB6tFo0NzYnkxFA+cvEAo43VBoEo2e+48EMXEOmD9F6xhCE8RwZEJ80VblKvDlmzwicfqy93/o+8K8TwB2jVSgW138FrJQTXBNlnJgmrjZwanow9CBP/rL9wF0jwAGWDtFyoN9PHutnIHT05mPXz93dMGQAPniJsjiBXiTbxDZFMF9NLUPQxKR5qezz1Y6/YZDH0D6GkdAkYJIvRalAdHAMmPZoYhb6NhDWvEyf/ma737CXN7R1ZC7hUbPgcFgqt/ZZjADnM1xqEVhYBpb4CUk5UsL7jQvj///5buDrLeCOEeD+YQchYwG9VIfyg1NaZszFiCH6DkRGLze5/dgk8IMWcMCjdCiCzR8od1B8OTwvJM8JEShFut1fzMhi+eRJr6LI7hYP2M/xVLwKNoZjUTwRMAQQmYyhWGQxsSADOflZ4kukj7PhZ75bETjBpkAGahMkcrGgwhsXeCyBHBj1wmOBQwvAwqKzoFeRV8ZaerjKYAuirmPY/o9X7q5Cyr7fAvYMAftCPGAEoYlBiVtFwLjtp2U4irj7yOANbi+crHyrfCbTquJV44O0F1FrwQGIMZFqdQDyP/gGSZ8TC0ZRRsOlVzzgasd/u+zpMByLehAfCgMQCDyGZJHFCCgLZ2f8mgI5qauEcVx9e5vACTgCTwEMWr5TdIpWKJb5MvrnoocDswvAPAG4VLGg6UKeqmi4iuDz4er30oX0FP7u5moMvIf7W8B+jwlUNAzFnlZCIhvGFRCeWzrgXSSIBreXTFZSgVLHAp4UHOFuociEEsn2PJwl/XEk0dzfSojeerFg1IOo5BKAveIBex1P67lgUzgWQaJwLAKRH04i14ItgDKEtGsRnWx49b2Vkk9wUefTGrKCF7R0JxZMqxN8cmPAxWcAcxGABKEAKPA5u9lEaAbCmKMI+sDN1X3z+ro24wEZFc0VEE64ABgT180PF9ZdBcDb6JpqcPtPk+1ACbmKjJnllwyuILunEAWjZHkBsrsRUnfD0qEiC5IJfyisgMhzWhcP2O14Ro4WbASgAMQJ48SJwchmBCDFa8qpyBbSP7OvU4PQ0p2W7+LSnSJUFOrI4V7w5IoBTQQTfJ6oTSYk2mQcpGRyH2syGjIF6EM3V/fM++C1CfwUExhCsmzCaQT43lZC3e1hBpEHh36XEqrB7Scmq5dV0XZxmV8WuDFzAF9iwhow9seAGoBcGtKjqAc+1l9rLb/1igesO55ysmCrC8ei6IxRMAKTWNBi6Xw98xNTFUi0jEcmpYgRAPhddpVi9OIEPP5cYD4CcLkCooHPwaW9kV+iwWrQHT8uA1fd3F7DFvgUHUP2k8jTiogAqLoxFpDgbMj9jXSuN7i9dLIdaxzBp5XVBMIMgFEnFAPKT9qPd6A9BIGI7MfPmf4U+40HzI8nWgq2PBxL4FEkjKJixGRRFyQQPzzd1iAUzCAQas1YOmAEoFjwkecDC/PAwhKw6CxIkCXwOdVJLxTobMjBdyIgfvimNvNJ7Evf4jWtdnRYD1YNGVuG93VWuWs4Jf+mlZCCZxwP/cnJ6mXVKk2+tK8lQQVHRTGc64SDAZB3Ey3JcxyACkToJx4wHl+YwqloGDICmYmTFgMQFBET8yyYzyAG/AfWX8mCGQg0BTRoHwt9KVaPE/HQ890AIfgWK+CRAaMRYnVdxHbhdY8Wslw1V93UDsmPIj9GxgiAioRRMIJNvoti+SW/Ikd0gwAU8+XxJcbGITJPDvI6XdCFREFSknTB83xka40H1PGF9dnycCxFwygkK0bASJQSVAbAYeD98xUAe5U3jKIwBosSgNsuABYogl3/IwgFPrOIg1Xc4ZrpAsSrvruykl2ucykapkMMh4CExD5DwJfWAYAxwk4MKPAJgOIjGSEGwuCakRhemw6Yv0UUwRf7L00L9pnsNx6Qx4feY4O8pDEcixOjsoTKKpMYjSFYYjOC8Eq3Wnnr0YYS+0Tmi2HysrPGLqwASNYzBnT2Mz2QD91laxLB0gs12GAh81cf/o/OcHyJ+qj0S/zxnhUZbSyYWaL8+Rq2S29wowiWkJPan4MvgrDDGAlRe7KIywDIgR3meEDWg9HbJgApNTkXo8o0i7oVgxnEgFr8F7jEdnU5GvqfJQKQKyEOPlsNIQvyvupAGHS/Okv4qv9oh+PHxMLk8ggBCRxvAmEN+AiEzz2iQfQBeNmkh4K52hJBKOaNe/FSLobLRXCz43rQnu2yi9oMSMDxs2jo8303ERz1wsCGZECF4kd3DwEYYwJjhoNlQrgIjlYodbBPrwMAZfEmyzcIv27gs6XDzC/IR1DOgA9a6DRz4wZAsZ+LYXvQYsHoD4ziOFklna6YD3+nnU6dZ7bGDAcBUImIAmEUw/zbJ1i/scGNDJiLXmle3RhQ+l/aq57gUQCWzwwBKPeLsZ/LFrGg/ShRXAe64Ajkv30kALAjF8R11Dy3K7KRwJcsUTaqWScARou3w/INVnCH+A36n8RvM3nB5XP4oD6DATBYwGb5ajlOLOh6X8JaBKRG77+7ygGYp1bn+V25/01AzBnwQ1ypanD7KWfA1QDYC3zJIj7KgOUzc9nFbetX/r+O5biwNhyX5uSEDr5o0xsJwLp8/m4A7GaJUv/j3/5+HQFYJ3oFPPkho/hNeqBcMkcB2BAA6XrxmMBkfFAci/m0JpwzXw0TXvXtzrz+PKc/Ml/ugzM9MDqCAbz/keVjjGcQA/YLvjoguo1mRslRI6RwfsiA5nqhL5D6nscF8gfTdfxpS+/hLzvWfzMQCoB1Fq/8b3VWaPIDZqsRV64DALsZHVHs1gEvsqFAeBSApQC8pHK90Oql4UEAyvCwNeGcBXNLOPMLftgZsI75ouUr9ousp2TEyIJ/sU4AzC1e+WIFshyAHPZREVwItrrD3wGAhibTYBhxVpe/xePyrNBuWaoNp3DgFwC81O+RAepK/a5Lfe51jxr7JwA83nPXYgq1asl0yX5N48+f4VEGLATlK1vAo5YB1gBSRmsM+NFE57lcfPD5pPFWCJImtyvGgGfOAacBYO59zFglgHgPefZsXV6/gPXBYeC0RVgyJNOGYuJjPka9eHWgjL9bWzhWk0/n/wPn+k8bgFNmgYcsVflZnBRmIShtJM/m7JGibGBoOIIez9wKPP4AcNpylfbNlGfdI+9NjBjz8JVzppckZuJ+dBw4aQ44drk6j1LIY9JkPD7P4s2lwVEGLHwJnncscNIh4Nh5YMsSsHm5ndOu1BGFThJ8/K6JrZtoslST2+XHA6ftB05ZAE5crgAups5TfaL6EF+UyIif3gAcOwtsXep82eIYY9JkXpMgMp/AeZQBC2b8OduBYw8C2+aALQvARgJwGZhY7swEzbNa88IRvAVO1qkF91J36DNOBE7eD2yfB45fqphLnevzdGeBKBfL8UX5/CZgyyyweRHYsFwxYHzRNK6oetSBMDLjUQAWTPqPngpsnQK2zgKbCMAlYMMSME4ALrcnR6JYQIwsoUnjpDRstOLy7cBJB4CHUGwuAtuW2nUDVH1EFUhycSwWjGD64mZg0xywcaECoI0z5P3X5P6nWlHdgHgUgAUAfOYOYMtBYNMssHEe2LgITBCADkIzSJZXpCOnIg25uPrhgnupO/TyhwLHHwSOmwW2LVSik2pCrDsQskzNIBGIpBdGI+VfNgMb5oENCxX4yPRjPj4xaJ0+WGeEHRXBDUz2Mx4FbDoIbJypADixUAFwzAFI8KUJChMV2SUaAGc1cE/xFJef3FYRti64nkqWDrqqEhbrsm5zvZCdPCd8nHzJOLZuABRz9hTHZwPL7LnLnoNMIY2VyaKcjtZLHOAbNgNPngKe4BacfGF1pnydD+hphQ/8XV5UiEueLGnDN1tWXj/3/4cTwAUzwGPcRcFJiDpPt3FLmf5vjwE2HAQ2zPrEzDv7OQg5OSM+ScYQy5Xbo8465u/ZfLTJ7fKHAdumKxVh8wKwealSE6inEoSy2MWCdbUHIghv3AqMzwHji9VLZuDzD8cXxxWZs5c7apmW0fMBnIHKn5X7d6I5npvRz94O7LgXuGIReJSb+Xl1tzqflybwRwqf9i97BQRWomWJQ7oZVFtJoqDX/b/oGODsvcBTATB9gsfGqmzdjtVz+G+PAyamgYmZCoDjFE2anCVg1CeJwOMnTRB/DmUINVkkgia3y08BtkwDW+YqAFJFMD1VAAw6XG61R31O9/fdrcDYPDDmY0zjc1UjivBuAMx1QdMB+WAYXU8dhEU16dOSkppbcHFSrng8MHwnsGMPcN5ypURHp2xMIa7zDz2z8Gn/kVe0YomO0wEwBYKujL7v/zHA6C3AxfOVh58g5AsZxx4fZM7sf3h6BcDxWWeGBZ+cMEFiwGEHHRnDzun7ONHs/djkRgBunql0VDOSHIDU3cxSD4aEajhFXS4H4S1bgVGN0V8we7E0Fh9jVDG6Obr1LJMRwn+kOCaTEYT0dsfqZHXl/p7PrLi9wIY7gO0H2yAgCAWCWCowKrYE8nMLn/a7PQn9X7zIJPPkCcK+758y7x7guNsB6l98gZjLLYet3Ay5n0sv4R+fCYxPA2MOwLEAQLIDPyP8uBg2cRYmzFweAYilKkn+OC8/Fdh0CNhEA4nGA40kd6FES13WLO8v1qHKAfh9B+DoYjU2Ak/js/8NAIwg7OUb7LCC+WAfB4CpBJoIiTRNRmS1l13kqWh3Adv2A8cdqqp1MB+aIOSxWv6pq5D2kkIAvt8rF7BLJksN/jMqfa7v+7/Ak4B3A6ceqpasKMq5akAmlLWY37t8ZW97PDB2qALg2BxgAFwANEGcnI5JcrDZRPlkaXL4u1KJUAfAjbTQ59x6dSvdLPXAgGYshZWR6JIRaXB/NwFI8C1WwLMXzMeSwLfcXuKrA2G+wrLCDcN/IIg4ERRn0qvyySAQX6mG1XuA4fuAbTOVwktRRr2MLCoQyvEZ/UY/WwjAj3jtFJZkU79g1ghkgEBf98+0Umb/3A2M3lkBl/fOcdMok2EjkZyv8773LAfgHDDKjwNwxEUw9yailpwdxBAEYhBbAuGzG3aKkQEJwAkCkOCjlb7Y6SYyf2UwlAS+vKYnAXjfNmDEX7DEfA5CjUcsnzvbu1nDtUMmCDkRZEEyGdlAk6G6lQTSa6m0MP6HuY73AxNTlcJLZ6WOJYC5/CNxLpHMgdKIKNl69Qvu6/75AjHOiTU87gKOOViJb748BKCWrnK/maTA+58AjM0Ao7PA6Lx/xBAupoYDC9okBRAmPdBZ47lNA/DhwMRsxX7mPgl+SrmK5EaRNRslXFQ9CKB9DkADn79cZtkHFkysJ103eBbqlh97DpmTQTYgk9VNxu+xYbXKU3lhFoJPOgdFGY+lPkgQxokkgF9Xgj4AvfoFs84eX4Ke9x9fIC+tRfDxvvniif358sSir2LCj5wNjBKAc8CIi2AxxLCzIAGY9L7AhGIKgpATw4l8wToB0JjPrfTkp+SLQbHrOqm5jNyajS6VCMIpApDAWwQ4LrGgXqzIfnq5cv0vN0ZXHTInME5GBNLb1DGdOYQsI7AfGKFjlgqve8wJwG4T+fuFAFytXzCLb+VgWnH/fIGYfc46Hs7iHC8ZkPcdXx4VfVXJw8+cA4wIgM6AHSLKWZCTESfLfg7WsIyRF3ckiRQ+HACXkwHptyP4KHrpJvKVGnOhRF9eBF9wE0mUEogz2wC+WGI/vVxiQQIxAs9+rmHA6E1YFYB8DJwQMZl0OrLZ++i7sfT8zroYHLS9df4RACWKxSZvLXzG/fQLZqk2gqn2/vUCUQ9UZaM9wDaPeSPrC4A5C1KV+NITKwCS/SiCR/jRBDlLmP7nHynsxno1IPwJSyRpbiMADXzuPDYfZfBTEoAmcuVQdiaW0zwXwQsCYDYmMaDA1wG8TBSvaoR0G77EcGSET6hjOvVApfRPAUN0zjr45JzVcSqiTxD+VeGzXku/4Nr7JwDJOkxFIwt6j6+RqUrlkO4bXzp1gCAAv04AzgLDDsBhKugLFUvQUhTwCEKbnKCw14HwJ9cDgGQ9WegRgDI8XEcVEDvAl7lVlglAgi+I4CR+Zf1mLGgMmDFhBGFfDCicRJFERviSABjLS7FC0MFKMU+07wOPE0kGvaoQgGvtF9z1/iODkwn3VWoEXxres5ib9xx1wZufBAwLgAQexbAD0JiQwJOuJBA68/H3Zhk6+3CifqqwWNMKN8wjKgbk6gWJgC+FMaBb5vJVmsUbV2vCqo3cRWZcCIACoax53+ulkqNd7iqOcU1WcC9cxEm5kQBUdZ+sTnSL/jEtTWngi21jhJNJBivZBukXvOL+yYBkcOqxKjJ4AGgxzMrBVwdAMmHrZOAYF2l6y/mwV6xD17zmWo6MbRyeWtOHwxJ91IIhr6rqZS70DPPLXDVUrfBwzHKr1EUp6/h0T/6L/GcCqslt4IhoTcwdAqDSs7I60WQH6R329pHuFyuXDJmEjuOSbdB+wSvuP5bGUjmsA5XoUvcvBXKKAQnApUdXwah0b8jXR2YzJTsC0ZHB33FL+2yiX3h/1YeD1fFZGT81g/H6yqkVa9YEpqMhTADle8erHA6t7Mh6j4ZBXdBGjFyO4CSIm9wGBiBvgqxwIAJQlXIyEJLyI/i0SkAG/FbhaEr6BXfcv+5dLKhCg4z1C1HEBJ8+BODQGZXfk/quAZC6ketAZEQCTWAU8PIJt0fgwHzZvVWNaKqi7JLOmtDWFy42g1FxH/XfqGkII0C+a0tnDkfsGxQjn3VPsk7tXmuy+Xp0JhtoJosAaFcUAJUYKiYJxcqHqKAH9rPlG2cMrmCUbMX9guMLpGTcCMKDlZGhMK8IPnPIn1X5PA2AwegwEEYmDGBMjOI5whGQP3NPBT7VJlRNaKvF4t2IWHbDErtDlSk1p4lJ7/zd246tglGZryIfrFhQ7pU8WCAX0ZENG+57U14Z4YrCeLrSxXdev6TfLwrbxT7znMrfKQXfHLQCnyvmRIv0Q3430ezMmL98P393G3wqz6am1NYzzoGn+svqRmTAU2citctqAX/2EI8F9ACEmLHXLZGoFxtSl2xyK2bAYwrj6Xr12+1noL/jUTCD9vvFrn6u0v1/nvGkaoVBAQi0eummMAuXQHMWJAA7gCixG8U0gFfcXdlBKk4Z6zELgAJfZEKrxpC1xOIl/+Sk7jkcdYlSco90y9+gK6vJrRiADD0piad7RuFo3udNCgft94vCdrGXn+tujgV3QAcHLcFnroelivHkchEL8ue0uQ74S3eubAITS3IQhKkMRjBMokgWG3L//2z3VSnP4VDgQWxUEEUxAZFHL0eR3HDfm3IRbDHkBfF0zy4EIKNhSvr9goGEBdvTz/MIYQLQdVsTwRTFDj5jQmdArRDYJQNDSs961R3tPhx5NXoVgoxleHnarjohgLec3D2HI492yQNvIwvqO9fJm9zKGbAwnu6FhaP5pFuMg/b7tTbpBdvTz68cz/zI8azVj8iAHTqgmFHXDUB89R2dtaC7tUGw4kDOgFb0R2wYRDGZ8g9O8aU4XwPOczhiwGlMjqqLWiFYGu570wADFsbTvaxg8nkow7E8nM/atfKzln6/1mS4YHv6BQ4+Z0BbqHcd0NwwYbVD3+1yWhXJxPBrbq8AqE/XApSqAxiBV2MZ/54DMOZwKE00rnDUWcR5KiV/brjtSAMALIyn+/mCyeehjIYp6fdrvVELth8RAClyHXxmhPi6r1m8FM0ucgk8+y4RHC1kAK/5XgW+2hZYofafWcPq1B5AqDqEYsQ3nepR2gqhV2yiol1COkD0C+aOaoGx4aL7DQCwMJ7uVwomn4fm7VrX2u/XAlELth+5sHPtN+l/Ap6sX2dCsZ/phZkIJgv9l++1wbcq+2WFv2NXIjNKAPzuw7MUAV8DTuynFIEsQy83RgTAhiv+NgBABaQOGE/3mwWTLwAqHnaQfr9GnwUbARgDNBUlkpzQboyYCyYDYdILdf0l4NduW9kGoa4geNdazLElKoA3Prx7DofiETtC6XvE7hGEzJlpcis3Qgrj6d5UOJoYDcMglrX2+y0NPtl5UZUjkfx/Hqbecoe0OZzdF1gHQrln9Bhee4s3f3Zxm4MvAk9VSFdUIw0i+Q2PaBtISiBSSFgCYMjMW00MP7pwvvLDmwFgQTzdHxcOSGvBg/b7ZRZByWYAlOERluKM3Ra9CKWc0q73dTBhMFT4ZwIw9l5Lrpes+HjeBiGCUOKXeuBvPcKTiEIOR0f+RhDBMYi0Lhea4GTaa5NbOQAVDzhgPB1La5RssV3rIP1+7yy5OAADoAchEHBkFbKfGRpiweAPtMs5IFNokyOGk/7rAYC9OhBFwNXVY1at5tftCBHaWVS2AJdEcEinrDNC+Lumiyc1B8AB4+muLARAXTDCWvr93lR4/Z0Xt6ODFQkj8WtumEwHTKDLQejAfN3uds/dfjoQdatGLxb8jQBAYz6/boxiFgAVudzNIc2/s3xLk1szAORoB4yn+2DhaATAGJCtbpkCYq9+v4V+aBgAQ4i66XtaC85YkDog/zdZvzUgfN1N7a633Xqv6fe9msDIHfNaB6Ay2JRE1AHAEDIfI5nzZCLeN4Nbm9yaA+CA8XSsul6yqV0rJ2WQfr+splCyCYBR/HJyKX4phs0PKBZ0lqOYTpvniAiUAmAd+HKjo1cvDjHgr+3wPJQsVCymUZrPMuRsRBDG4AQCsunyJtFGHwAAIABJREFUcc0BUJlxQoH62q8ST8cggpKNAFRGwCD9fkuvbwAkyGgJE3C+Nz1P1q9/T3F1EZBxvZh50s6AEYC5yyUHXt5/Q8zI5/KrAmAIkkipkyGPYwXz1aRT8v5ZO6jJrRyAvKOvNXlLazsXs9bo/ztc29Pohgotp5J49Rcj/pzfIwGS//3OM4CNd1dpntQpFUmjEH4LYIgnyn/OLjL8FeDGhwJbNgFjI8DIEDA8BAy1PFK7FSKf43cNKrvHx+8C/vmxwMgmYHgEaA35J0StpvvzL/nP8RbLAfhyT207TChgDRiu/ZL9DsfWNABvYzbhCDBKoBAk/pEobGWTqp819hzQ1/0k0PoaMDEJbJjxVZFgDad0SaUO5LksWVj+XScDmw5UEUDJ6U4d0nVbC91S3ovfVHp5al64cgC+k7mZAP768KCA0WD3A/ieLz090CDceVmlAuhBljLgrfcAw6PAyDAwPFwBkCAbItM4a/FiNtERjBl76W9ffD2AbwJDdwFj+6syImRXrd5Y2FjIYcnzWPLEqnsfC0zsr6qBMQmfIDR/pyJ6xMhKyMrSDiKD2xja6TADTt0/AGAs1KcAUCFrOLF6tbtiRVFavT/wuMCa7MfVTlH098YBeBcwNAIMEYAUlS4uBULOmK3LCnwOPANlEIOSoF9+C4DvVoWXhvdWZVOYqWgi3vOXDUQhgieB0EElViMYJ08HxqeqnG8D4IIDkAzo51DKQQJvBKUmKACzbM4+5hUivwrgiwC4LzvjmgCh6nBcgiMTcv9Abo0D8E6g5eCjfpUA6AxoQIzgi8ALmWwC4z//DxcPPwBak8DQFDB8yJPpPZHeGCyC0KN5DFCByfh9/+OAsekKgEzCTwD047X0SCPM1IYQjCv2E/MJoGVwUUQoPboq0MdqkWVn7RtDDMahB4g+P6qhXFpjVtkDtRGA2nKjos7IyOyHFUbIrXe0FXsTuzIYfNb4O2M3ATGIYQOmPn6hG6gi3eUkQQAeAIYOAUOzALMVh2pAlESqGFBAXAYOMQVjxll03iO/yYKRAT0FQXkwZkjp1pz51LO2XAT3KtD3AIAwj4Wg05kfiuUHYlsXAJLVnP0INLM0OYFx78AzcRySeTsw2AJueI+Dj2Fne4EWKz5MA0MzDkCCkAByUWqsJzarEanzj2zXwjEGFHuGY+pYsMojzZL1G9EBexXou339IRBrC3lJGmNDuSHX+w7WC4Cm6wWxm8DngLTImgC8pBcGBuTXf/1fXnyTugnFwxTQOgi0CECyIFlsvvJfEnh0mhsYI/s5uxFYi1xZof7oOqSAawwYjRGBzYGXbtWXaCIrlvHUagX6SP/ruMVYCEbEqECXAMjfree2HgA0ESur1/0vtnNwGSsG0RsZME20/+/XWH6Mugk/yngPAGy5GDYALjiIHIgRUIrsZjM7Ax+BSx1S4pfffQVIep8dL7dMDsTGjJB+CvQxTHmdtrw4l0CovFruC2NOe975egDQsCXRK/eK634JhBK90q2C7I1i+Gt0jxF40k1cPJAB7UP2m3MGJAAFQrGei9iUTH9yBUDTHfU3B5+BOIKQ43BWtNtPcWIOzEZE8FoK9K0DCGNxLi3FqaKA9gTgeoFwPQAoI0OulWT11oEwiFz7cwbErzNxWtEYBB+VY76Vh4DWrH8IOoGQ7Ocg1CqMRLPltmxvs1/SHaP4dcAJePYyyUCRIzrTB8tE8FoL9DUMwl61kQQ87Rmy2PS2rgB0a1ci18RudEJH57OsY02y/+83/sZdBKr4FXQTApBvprGgQCg9UEAM+h9F6ugJDkC3gJPBEvRGrYoYCBX9IxEcS5K4i6cZAHIw8oXQ4mLBb35YH5d7OekadtTV1UZSjaEIPH4nQzYNwgjAHNwDuWGYpZc7lzPfX1cQur5oBorfzDf+zi0yVTuSkuxBI2Q+PhQDIUEnMLo1TBCZLufGw/ixbQa0KB8CTODjPohdY78IQmfDjmW7Yo/doAX6GqIiAtDHaYswSmeMubV81kp11L6hy2PdAcgblfslOKC1IiKRmyRxZgV/8++DS8BFrxXi5Hd/U6MeSKdqEsEKhpBRsgRMbAtuG4KU/+9ry5brzP/lPVMv1EPOQegharrVcgZUhVHFxNPcp9VFtlOWkL437C0WABWypFRGsV0sb5Hn2zYBwvUGoKl10v1knDgo0y7XA8Pfv0UACnjaK33Co9gJQAOe64FkNvtZAHQdjz9v2Nz2GSa3jYej2W3KGuZ9ixGdIVSoKT13B2s5AHkGheST6qn0erHv5AIgAAU+LVfw/wq3CEAV7clBKDDGZG9/5oVXx/oyYARczcqH5GyH8eFplTawFvAtrtXLGpNrQDGbejupB3omlIHQGc/ErzOcGSRs8zrhAbbuL1Tco/JfbLlNwHOmi2kIcs3owbdwNpYtynDQhsFcgvuG9/YapGFvYX22zZcAU0/GwA2LJ/4AmGF9mwEbBu98Y3cMF+uAGQCj2HVp3BbPuo3IlqxAy5wHAq4OfARmEBXGfNIBa0BIsG0ecwC67merHgRpZLwocrWaovuTxew/V0txJQ2DWeae3WAGbdhb2DB4+wRw7w5g8Qpv88liyGtoWHzMi4C9fAEHbBi8kwUKu2xNAdBxaGBLbJdZux1LwAGECYAEm6wyfpelJrEgFnRDxESwgyUxIUsVMwjVy5AYO0bG89Auu1/5BF38KqjBHlUAYXsteNCGwTeWNuwtk4JMkrlzGNizA1hm69g1Nix+zDOBW0aBeRZZGqBh8M4emfWNADDT+zqMjQyESdQFHfDbZECCLRgdHeCTe8CBaKJY1rDnBRCIAuGW4TYAZeFG8ZuMkGiQ1IEwGCJtHZBmy1obBsvVMnDD3jIAerti3LEBOMjGcOpa3WfD4ic9t6oveDtLfw7QMHjnH6wPAybW6yaG4+8D4HIQfvtDIVtLejpBFsVvUI7NIBHw3DUjRzL3rDVtsYPOkAScuX3coNDynT2VYJCkn+PjqvUD8hVbS8NgjphGxcANe8sAGNoVY/824BCBtIaGxRe8pLKZdpMkTvXiJ2toGHzSNHDPScAyq3er4qPyGaNc7JCRXWLT2TjwGmCOeQashq6+qSpZmp8vojQpheF58ncdZVjLnjWPHr4VWKTKxrHGUqq97qXu3jp0wPy+eEC/DYNZsZAO6IEb9pY9lNCuGPcNV830ZmkM9dmw+OKfbdcXvJMPdY0Ng0/7GnDXKcDMccBS7MwdKz8KCAKQIgY0MWGCtr4TOHAasMwOkTqf6unyuLykfd254nkb7qsw/iVg7jhgmSX31Vpd9yRHeLx+zRhjEGRbB6wDYT8NdymyubzDzCCGfpMJWfSRYfr9HP/aMgBm7YoxNQHMbQHm+ID6aFh8yS93tAvGQb7da2gYfPoXgbtPAqaPA+a3AEubgGU1RM6B060fgkRoCzj+TcD+04CFE4BldZdRc4/YxlxgjJMewSiwN1zWfsOngdljq3EmY08vm5i/7j5yIMqpvupKyGoNg9lngYosl9wY/0dZdrMzYl8Ne8sAWNOu2MA3zw/F2CoNiy99XbvftrcLriz6PhsGn3U9cM9xMODObQYWCMANwPJ49UliuW6SaqqBn/gGYP8pwPyJwNIxwDK76ahDeN6uXYCuYyABkEza4LbpY5WEWdSLxjF26/dQB0SJ6r4ByAN6NQxmkWcqrnQ00x1DEDJFjR8CcNWGvWVPp6ZdMQ6OVOCb3wAscPJ6NCy+7PerkP5Q3tBY1PrT9tEw+JwbgPu2AlNbgVkCcCOwtAFYcgAuiwWlM/XqDjMEbP9t4MB2YO54YJFMo/5gHIcALV1TRZ17FXOhPtvgtvkqf9H4kvHDlyKK4l6VzvVSBF22uwjOb7pbw+CfcwBSkyeFEHAUx/yw9JTyEbo27C17Ol3aFWNuAlgIn9QxO2tYfNlbK6MvaxeMRYquvL9rTcPgJ30TuH8LcHAzMOugX3QALo21WXBZLEHwRF1OgHS2eOgbgIPHA7PHAezNu7QFWFZ7JnXJ5rnqxHEulvlzwyVNN3+wern5Yovl7SXLGwvn4riLWO4fgMRJXcPd/+pmOymELEhRzBxJAo9gVL4kwVnbsLccgHEpWi3epocCAMeBRU5eTcPiy/6qtl0wpvhA+2gYfO7NwOQm4OBGYGaDs+5ExYDGgqP+ccAkINaVpB8GTv4d4OBxwNw2YGFrxYCmV0YxLNYheCXau7EhV3ga3Lb8g4+R45uoGLADgHWqhsBXA8K1AZADyRvuvtkBSArh+i9DsQhCOtf0UUgW/7aiYW/Z0+nRrhizoxXwFhyAi5y4rGHxU66qAFhT3rDSIVdpGHzencDejcDBDcDsBDBP1uX1CMJRwFiQIBzxieL3KIY1YW5MPOxNwLRb8gs0aghAss1GZ1O+SFHsdRPt0i/PLHu++dFb/x4mXfhcbWxhfCtYMFr/uWvKxfDaAcg7ipPCvFOVpuo3HrCjYW/ZA+rRrti6TS6MVQ+L4NPH2nx698GnXF0BsKa8Iab4dFZpGHz+JLBvApieqAA4J8CPOQuOBBAOV0CUYbIskRkAecrvAdNbXc/aDCxSpyT4CEIyTgRgneiLIp3nP6fs+a4A4N8B8/48CUC+ZGJA29fpuLmxJW+5h5kNFg2jiWHSi0r0Uv4pCoZsxw8DUfnhd4Vk0XGdGvaWPaBV2hVjdjgA0BlpkQ/K9bmn/HOVqtClvKEBqlfD4AtmgP3jDsBxB6DA7tdbcvYzJvQJkii2n4NOeMpbgJktbYPGACiF3wFoEx1ZMNe/4jnPLXu+KwD4t/5SO/iMBcXuesHylyACMBPDgzGg7opM8mEHIGdwrfGA1rC37AH10a64Yr4APvvOSdwEPOVbKxu+K2pdKRTmdI3dqkPPVgbSTBGAY8AsATjWniBdx0QxJylOFCcr6HBiw1P/CDgU3EgEIMW52M8YkLolQRddIN1AyKWiBretf9MJQN6HsaCPxe4rvgDdHOcOxDIAcmDFDXvLnk4f7Yqt63gEIB/Yoj+4p9xaAbBHeUPM8qF2aRh84QQwNQYcGgdmx4C50WqCFngNsgSvQ+Dxu4MuiawhwIAXVk1O+e/A7CZgThY1dcno1nHL2oDIyZULpBsAFTBZ9pjT0QQgn2V6ufRicS8QRgbs5ZYpEsENDejBfpoLrwAOjgIzZMBRZ0AHoUC+SOA56xJwNlEyTFw5FxBPeWvlzpnbANCdQ1eSGTRybMuydgMggVBsKmtYoC6Mt8znZxsZMLzAxoAOvsh+ydDqtXx4FIDl8L/omQ7A0QqA82S/ERdTI22mNfaTuBIIxR4BhKe+y61punQC+MytI/Zz/c9EuvyBeetLAfGZ5WOMZ9j2/gqABB1fMLsHAVBqhfTcyH5d9MByEdzs+B50Z7voGZX+NzNSsd8cwUcG5ASRKYbdHRNYwhhDIHRgGmO0gFP+HJh15jOXjnyKblVT5Cbfoq+yJOszF8P8+VnNPlICkMAzds/YLxlYznrJwIpO6egTPMqA5ZNDAB6iCCYAyYBcBqTRQ0e4630SxZyQJQIvMJ8mSeLrYe+p/GzGfnTpEIBy6US/out+K1wg+brs88rHmDOgAVCMnrEfxxMte1Mt6j7u9zzKgIXzczEBOJIB0BnCJoqgIfDEhM58SWzJEPGJe9hfVH42un/Mfxl9bgSiBySIBWnAJBDGEDAB8QWFA8wO3/a+wH4+rg4RLPYLul8tCI8CsJmJMQAOuwFC9qMI9g9Z0CxhZz65K0wfFBPqu7PEyVdWAOTHVlTcpxhXHZLz1w0ZA6EDLhkCskRf0sw4dRYC0PQ/vVSRAYPo7QCdj7GqVOSMeBSAzUzMxZcDMwLgcKX/zbv45SQlHXDIgagJc+bjZBqAWhUoH/Y+B2D0J7rFa6LYDRmzomsAaOeKqxEvbWacHQB08JkRIteSXiSBLYJOLB+X4xrzAzY7vgfd2S4RAKkDDgPzNEAIxMASSWF38WsgkuXLyXTRSRCe/DduSZMBMwe6ObTd8JBj24Aot07uDObPP9XsIzUGFPs5+JJ/M6oT4buxHv9X7BeY8KgOWDg/Z58GTC9Xq5FxTXOw9c3Cm6k5fPcjgbHbgAlvVG2tH1T3Oavoq6BlniZ+12n5u/2sDbOvasqoFg8x2Lnbcd1GdhSAhXN+7qMrAC4sA8sORJ6yHwD28z+Ft4fdv8UyqUDrDmCEBcpZ39kLS6aq9l4D2rLb/KYsFTPWdfbvh86vQu2s1K/K+zIjTsXIVQ9a59Egs4Y6sZfIA/EcSp/jEXv8BWcAhxaA+SVgSQAkGAMICcwVlNLlqTc9Gbv/HAA7MrL4+f1VlXwrUq7SvCoyGcrrWpGhuur2fNGYwM8YT67hT3s1LaZvqn5MLM0bzmHMmIFSgdFNj/mIBct63NhFZwEzDsBFgpDPeanNgATfCtGsX9TIKwNrg9tuVkhlng7TI/YArX1VkXKrEe1l2SynN1RCsFJsqnQv3UIMxhwIRjU5AGN9QUteVz3BUAvahuNgjC3HxLAND7nBp/cgONXF5wCz8xUDGgCjKPbvevlzcKUHH2ag6cnYzepYBB9Zi2FxDJdjoXJv1WDFiLJ6MKqKZUzoQFTfj2HmwTKcTpVWvcxHKm6kKgoORAEvVclPD6NdzLXpMT8IYNPcLV7yJGB2AVhYrAC4SNA5AxKM9ryDPE5fs6eeVKWGZ2M3S3MQfEyJUKV8L1ZpJXpVJ9pLilmlAxWkVJHKwIhjjD9TtVXVm1HdOy/pJiaMFRWM+bo0rWl4yM1N7oPhTJecC8wRgAttBjQWdBBGESwgSiV0Pb9DRgu0TY19N+M1mRKh8niqFx3rRDsLqjgl9yaGXT80vcL1wnE252PAZCzAHQCoiqoW3yYWFIt664fUpKaREr1NPakH6XkuOQ+YDwy4FMSwgU8GSRSz0UJx3Vx/5vFNbrs/EiLRY+v4ACITww6iJEodQKwBIyBRv9vwhKzUW6z66TUGEwhDS3ezqusAyNxnJn8xa1KRPSFts9YfFB/QDZcAm78CnDBT5U8rCqjfc3yh8Gn/hGd/MsKf1+QzYJ4891Jye13iy1cAE9cDJ+6FpYrEkidxDN3OtXR+FwBGMezoMmxJLOumAuD4J4rxJrfdH/XCoLGFVKiUbw+LAPQqWWaMMLrd6/+JycSIm85w9lOpt1j1MwAwFTiqAWEUxeYH5ENn/jInUVHeMXQ/f/jRePvCa4DhTwLHfBc4frGqqaNJzLPw6iZxV+HTplFGvZrXZT45N39+HW3TujlZv8D6fp8HRq8Dts9XIOR5YtakgBgdrrrt5Qsq8Ssd0BhQ4HMwmVitAWHAY/LbLDQNQDaTVJ8Q6W4qVB51OOqDZDPVB3TLOBepW5jmqaLbec3jGgBGMSxvvemDYkQ9GoKF1ShUCSKCqBeQrvmfVZPC1keBjXcCmw911tTJ8q5XgOLaQgA+x/OdWA2EGZ98gbjleTHdQHQN+2iwls3nK3/Zhj3VeQhovYzdxmArSwQgDRA3QiSCJUrTnjfl4KozRCSCCeYmt90EoJJbVCk/1+FiCwFZxLk4dRfLFia6x8LbYkD9v9cXtLG6+O4AYQRfrgPygVIcqyhTXcWFOJH8fh3rz7EKwnUArq8mcGwK2MCC1i7WY7Zenh56feHT/jE3yliE4TZncd636gPFCKWavGhcRx2J+cvs9MlSw0Ty3cCm+c7n0G0MExdW4BMIbTXE9UCynvyCCX+Ovm4gbByA/xisVgJPpXrzLj4EoRJjJIZrWHArS9iprK+KcefgiyB0XVKGjOmCmW9xhRVMUSyRFnNeFGEdI2q+/HFXclkp9WsAbgTG9wGj08CI64WxRk/OTDcUAvBHXSLQxcVCDMQSWbzv+1e7WVbz+k5w2tJtsbcCYV6WJY7hmAsDA7r1Sz3OgOgoM+KTOJbcjSI5yGIaNE1uuwlAAU/MF+tF5/0sIghVLdVdM2S0bSzHx2Mi+FTxXf8X925NC4BycK8QwfmgVX1LlcFiykEMcL2BndJJ7aQfijKfxLGDwAhByM7aC5U4qwPzNwufNnNuOH4VZaCPlPo2AahqFqoPVFc14ga2m+WEEL0cAz9kdPrOmMu8r1o/rTsXz7f9oswFs+jO6LAqkvC3Ggg5Fg6mwW03CUI6X12h8lyfcz3QHqr3DIl64DbqaQKc9mI87QXACD6vpJqY0EVxz2CEyCI5eMSGX2e7VtI5J4yTRyZhscrvt1nQuivOAaNLlYESwcySgiVbr37Bfd0/u31yEgg2FVaiPCeVOguqAfGov0iR0R9JABJ0bnwk9nMxw+fOh55EbgRhzozrBUA1polN9CLwok5HEEUQBjFMQB7D+j656PW+IrJ8O/bBCo4sGFdGejqiyYCx3mKe9/JtTiBvmI5OFiTisg9LtJFF7gZGDrUbHKs79+hyu5hSaUvh1foFr3r/6vZJCiXgCDwVVFJ7MVmRLsrGltuFCc68yFdACMDAflwR4QM3HPoKgIExt4gz42SuaQb8hBOE2oZmlu+KFlKR3QSssMJxDPWbbjpfLoJrxG8CYT8MKGZSVTCxYFTIb84nkCxCIPLDiby30gXFghaF4c2ReR466Uu2fvoFr3r/fKAEFxvpqMcd9yonIrkuK5LLV7MVCM+/uDJCyIC2J8a0z1iwqyESgMl15Sa33QKgmtPEBnp11mwuXgO70Ud4DHWzfgDYC3zBEOk7HlA6XKyHQzb8HgGoCSQLqsxorIy1Bxie7Wx0rFaf+wr9Xv32C+56/7HbJ5VHtRYT+GJrsehHcya57PyKAQk6+vBkBZPpjPEExlwU59awg3C24W6KBsC6tqHR+MidyVG3i3rdAnAsH2T093XT+zLr197MTA80h3SfsZP2UqpCrPQ46oF317VrpeiKXTJ9MhMLkgGdCacKG/mupV9w1/vnwyGgCDCKWzJe3lqsyzLWZWe6/kc/oKzgKH4jC7oolhdC4jiuzM0WPo+cPQ2AsX1obFCTO5Jzn566PwbReiwnfTWjI4KvDoh1juh+aT+WKSYD3i8Aql2rJk+VsVQly5kkddv2FvHT61icqO7Fr71/IkLNXOi0FQjV0046oBy6wZ922Q95ICqDEaL4XWw3COcf9Mw73DFB9AqE6wZAAS8XuzGQIDKf+oVkqxt00ttAc+YT0PJ9qRFSB8xoye5Xu1ZVeCSgCLbYLVNswoncHxoeLwCzBGjBNki/4BX3z9lXgUCyIIGmhova83cRgO5Te9yLgP3MfmsBS8xs8/U67ePQOqy9umBUruDchqo8sHSd3PMfT5ifo+ack8eFHI6QEcnT5GvdOnVdXof+ptJ+BVPWceiaRHA8Us/nkACo8mzqlqmWrbFDppT5A5UIZm7CPA2Vgm3QfsEd909kKIqB1qJAKCBG8ZstZz3xHOAAiwmpDIdng1maZQAkZzsHZ537YfQrwNyxoQ+HakrnS0h1mUA1C96TdJTmORyhC3oeqdwROi+GDhkFI6bYNrcNDEDeAkXwQizPRpmnIs3OdqZPSaRFUcbchHlgie6agq2kX7Dd/+d8lUJVXuUzk8ERmS+2vfd4uvN2VOV5rSwb0y3JhgIh9wJeN3YMQCIgR78Q+nDEVYBYZUrUpbXFnM7COSdf7N4IPvtDnT2BY/h8Chh10MXQeYGS+7GGjaQiABpuNIFiECnzdWJMIUHcazLptC7YivsF8/7FgLFMqpiQL5TuNbKfA/DC46rqqAbAwIKWK+timRUBEiNGsOQsyQm+Gpjd4n046hbT84KPuYjOmHHyp92gcgDS2OoIuVIeh/xyUkaVwyEWdLrewHE3uBUDcKIwnq40HpDXL+n3CzbaKdguel5VnFJl2awaghLQBTzteZ0cjLq2A2n0M6EPh2pC57Wg41poLzZsAZNso0Hw6eVR/J8bF9YjWGmVCpGKwQLBRCcrbiSxNLgVAxCF8XSl8YDHHFPW7xeFBRwv/rGqOKUBkODzqgdWPYAM53vTASMQu4Bx9J+69OHIF+N71F1O1gUB+AsBfFqKC+4Wi4BWX+CYgOTAU36wdMVNVKka3MoBWBhPxyiuko3xkSX9fvGMkqsDlzzHC1N6SQ4DoINOe7KelWWTheziObeKCdARApD1AdVnRH048gKUAmAEYi6Oh4DJV4VoGDWqjq4XLbO5o1jBoimEPhPJmwu9FvnTLgdgYTwd2wyXbMyRKen3i2eXXB245FlVYUpVxUpGiLtmGBlrTEhVUwV8dEkVKAq3MHJ1uzRbRx+OOgDWFX6MsXJU/36lJoEoA2AKvw8+uwTEDIBbStdOs8ddDsDCeDom7ZdszBIs6fcL9ror2C75US9IxJJsEsHdGFBil4yYuUwknofJgF4XcEUfjrz+X7fKo4EJJ//PkMORO6FrVjQMeL5kJhZMMXzLwNZCt1nzDFgYT8cQwpLt4hDON0i/X7ys5OrAJVe0S/ISgFY7j9ZvnQ7I3+lyqpYaL98CWp/N+nDkZdhi6bW8An1kP3fRTLKVWlwF6RZCH2L4zDDR0k1IqeTNb2OQSYNbOQMWxtMxeqtkY6I+ny9VEz6btfb7xc+XXB249AoXv85+tIBVgJJ6n4lf6oV+mfjdDJNMH0wAVFX90GMk1f5TxlS3Fggh92DyN0IORy5665KIfCktsl+K3VsGtpVOWOMiuDCerlSnjQ2rB+n3C+pIBdulz8wqonrNPLKgwKaC5B3s53qhXVq6oDNg6sOhqvqhEr3V2VNLBjmnSSNdrOLJ1zkAu6VPRjFcFz4fXDJ8i45hG94Gt3IGjOFYA8TTlQZ/qGH1oP1+8ZtlT1MAtHK8mQg25zOZUSCLIliWcbw8wfW5Ln04ssqnHX04euiCk6/3de66MPpuAQVZAEFkw2MKFw6a1wEL4+lSBvmAOMhD8vkOkFX77feLNw14YT/ssmc4A6oOdHBEkwXlgjH2k4Nal6wB4fIuX9LzZjAmorNeHMo5Tc0OewHwDTUh9HXxfGJsYkAbAAAgAElEQVS/uvCpoAcew6zBBrdyBlQwwoDxdLZWXLDFkHyF8xGE/fb7xR8XXByAAVC1oB18HQYIT+8uGfP75SCUs1o64he8v4j6cIQ+IqkPhxrBCHjdjBH6AblQkAeY1ondukSiELmsUPpjbyp7XuvDgAXxdNZVvWCLIfmKg6Bbhrjup98v3lVwcQLw8gqA5v9zC9jErutltg8gMxDWWMBaMVkmANWFyEV6R0uH2I1IzW7ypbkQOTP5f2ch9KsFkwp0kQlDAOmxzHpscGuGAQvi6VD4RgmAg/b7xZVlT5MATNXwqQc6KGwf2U2uGV2uzg3D4ua7fDnPwZcKgIdq9GaIBPZb0YdD7hgyIFWMXiH0eQ5vXS5HcMkc++9lz2t9GLAgns7KxxZsCkgdtN8vWD+vYDMAUpcja7lOR9eLVcIP4tcuob/3AOHCdW02VTX62ApB4Mv1v24gnPy9HiH03fJ366KYHYTHsgBBg1s5AxbG0+HLZaOp65i+ln6/YM5EwdYBwGj1cmUkE7+8THLNdAHhwrUOXtcrO/pwhF4cct2oN68BMDCfmsJM/n6PEPoYPp8bH3kCkbtjji2tJJA962YAWBBPZ0WBCrbYsFoOf9pDAiENk179fkuvf9nTXewKcBSjsn7ldonWbgQpx+26otaLIwAlfi2QQSJY3Yjy5i9dmsFM/oEDMM/Z7Uf0RiYUA7J+ToNbOQC3e0WBBm9qLad6HICG1ZK1XB5PoxnuOOIcxSXe/Of8xHV/P+FpwN47gKUpYHmuSve0pKZgCKSq5wqniWE1WZz/xouBm74KTMwBI17lVBXwtWSs+8/vL45Ff3vhpcAnvwos8d48DZX3M2hx9XIAnu0IIO0chu35AOgLL0yuG/jOmwbg028G/mNz1YWdETbm4I5BrFlov+EtD2wIo7l+Atg8D2xY7iw3V5diEqO54mnj6XdMAYcU+6gon7A3NSO2qFjlyZYDkAX6uD5Iam44YaUfVNDNxaJcLIPXcGGpfi6PnZdVD1wPspQBX/wl4OaNwN6Jqg+xwrxslcVFuYJblehkcYYZGPS3L20BxueBcS8nwg5H5kZkx6TQSbXFZcCQKadx5Cz5mPurAFxrRaa17pAR2PFC+ElSHKQ/0QjQcgCyGyM9v3SnsDBRJgL6msWCf6IfWeUJac8UFlpY8500DcCfvgb43hiwZwyYVhd2D/VSrKGAmIDnBkiafEcN9cprHgKMzgNjS1V7rRjRlceyrqif6KAkMgXIM+6tAnDl+zSL36O9+U8p9jGHQo285/2XA/AnXeNnKAorDXH/AILwbSvLEz6Ql2+cAf/3XcCdw8DkKHBwpOpFbE2wadzIdyh3jjNQirYWEwYq+/zJwMh8pf+xKNSwM6DZMmzNRRbM2K+2Ii6TlFrAWfd5V3i/F7IgT2LBF5LbIdkqxLPWvtzlAGQ3RpU3Y7AiixMxLOUB2t7pKQ8M0qCTnp8HkojJgNqaMEJesQv4AR3Iw8DB4QqAs+6SWRiqgJgY0HVDAdBA4Ba4xN7ndlSFAAjAYX4IPO5dBDMAdS2i+Jx7XTf1eEdTDfgAQnR34p/wQkRmjNAoByDT/ugFphXAmjAEn8qaPQAgZCs0lSckCNmVigEbFMsPBBE3DcBX7gLuawH7hoAD7EM8DMw48AhATrjtQwiXoqkTEwWd7LOneXNCbz6Tiq/TInb2M8ZzIFrTQbGiy92oGz7pXl/7jvdAJnb2470IbB3T77Sai+hyAP5voTqW6sKwFAc/TAdc5+3dvcsTrvPVYSK4SQb8xV3+6IaAqSHg0FDVh3iOIFTIFxtit9orL5Z/LD1Q4s+B8OnHVuXwhhdd5DoLGsgCCJ04q66X/Ju/vSaeAxDPvbdtmdtKDV90gVEPIl/xySkviOhmAEjrlzSkwj40SlQZYZ39I+8JBMx8mZryhOsKwqYB+KpdVSDFvhYwPVR9BD7uyX4SwRS59nNI+bRck/DzJ05v12M0nY8fAk8iWL5BB5qASPGRCi8EVjzv3mqpkC9ACrrwhKukB67GhpqRRowQMqCiYbj8oOoHeUWpdYIBAUj8c8WjrjyhNIJ1unzjDPjqXdUjJAAP8TMEzLYq9uOHICQALe/EwWe+QgddAqCzzD8+vgIgg0qp+5nYjaDzCgjmnCYone0klqP4JSgvvK+6LoFPoFMlkPGh+0rPWta4RHTNJJQz4M8EAGoNTPVU8opS64CC9zoAWTFChcq7lCdch6s3L4J/2QFIEBKA1P9mHIBmhPh3Ai354RyAAmWsR/PRs6vOR8Z8FMPS97yxtIlYgVB/I7jC0rIKSfLXF1EEB+BFFjQ3jCLA49OWsRTTEPzvzQEwry7VrZ5KwzAQAPssT9jw1dcHgCrORQCS/bgn+1HsCYQSveaHkzvGv1scgU/6R55Y1YIxhvOm1EZekQWl8wVDxJgwc88QiJc6AKX/meHDawX9z16M/Em7bO8Q08GBP/jEkAEVjMBoAFWXUjRA3KtNwOBXW3EkAZhrALktpC6lKtTV4OU7RHB+3kHWgv/zrnYZl2kCkF4uF8MGQGc+MqEYUCA0n1tkwxbw4ScHAHr71Q7W4++c8czwcBAmHVB/c7Bcek9b3FuwbdD/kjGWgzJjQ3thGmVA3jhfOyU+RxB6FamOFp8NrhsTgLy8Cpzm5QlVptAU+6CiNgXCaIQ0BcDYV8b0P4pi30vfIxD5+w72C9aliegW8MHzqrmh/meuFhYi0pKbs6D9fsh/n1XFMrYMbPgUByCZz6J+uEknDA9AornWFRb01WZEsACoHhOqyC7wdetT0QAK2KqOb5MCUvPyhLE0oQxzqaYNXL5xBvyVXe12vByLADjXAvgxBvSPGFGMIjCmJbEW8HfntxtQmxT0cmxp9UPAdKAZ1upA6EB7qgDo6oCUxXRtPVSpAwJpnUhuxAqWCCYK1MBExZljY5S8SYr+pxAFAuBayhNG26jw8usCQLX0SAAkwwcAEngyQizaXoziIli+Oe7/9kJvNk1LmBMe9ECO3XRB7aPeF0EYHNVPdT8gj016YBcWtBfBVYJuz7mF7VgGY/pO8f5WdQ1/7U67nIKNS7j0wIbDPFZsyNHHY7od/xdlEHj8CcC3TgCWHgGAPSxiSdt4312u/8SPAl8/Dlh4pDeZW2PD4J1c9+uyDaIDkgEJQKnTfG/N8nUAmu5HUnMW5ARbPfEuIHy/ACjRK7FL5pOR4RaxgTHofKl8r/S1ZWBnAGDKefbn3AFIPRPXB7sFiVQimKVgGdl5ooNwLQ1/1U+DQGSXQ9r5Evy1q9rZbP1lGQDZsPpzI8APHgXgod7qUx11YtBbFzC+/C+BL7SAWwhgdoLkONSLqy5oLogYft3ZI1F7EAC+phsAnekokhP4HIzml/PvthQWmPB9LJ7jxkcSr14jWj4/0wFlgJD5eoDw6fe4DzAYPHokWhHJZ3TFSkn4h7YOSOBwEtiMTv1aY0uktFYTmI2/43EMQmCuAJmUE0gmVD8EFdPpdnxhVhqzDr8F4NMtYM9Jfg98EVTeNu9Q2OFZBX7vr9vtgm/lcezczZ61ZNN8DCvilYCdPXqNDQpAlfGTKm0M6AA0PTAyoMSx64cRfPQHXsniOTI+fEWDFGp+Qb9BeySRBV2kpl0QxxGAlHDmkI56X6z+EP7UDYSdRgh/IouwIZ36lHabBE0GJ0r10Rgb/xA/tt/j/6aMAf+7R4CxzuBXWRGULwBfIrY6UNfpvLae7n0I+LO/reoLMqiVMbW38oUhkNkQIzZO7tIweGePcmWlAFTjAYHPVGwXxWoLYblEDkLuTT8MDPhXLJ4jALpaJB+ggU6xfgJknT7IKXIQXh4Y0FZCog+wxiUTwSkXUbSMV1rB/A31OXWuFpPUda/mRHKi1e6U+hA7Zq7l+A+UAfDtHg/LrptkQpZ727cRWOL9542Pa3rOvuOqagUltgtmJM08j4/PILbIDKz6w5PAHsbraTnMGdZWIwIzxIfeK0rn578J3LAVuH8CODRahV/FFQ/1IumIvXP1QudNfyNT8oVqcHviPcBd48A0g2RDuoDqHdb2SalZAdG9dnfDkAE0gXnH5ijWCDbKCq5/MRiV0QD8HgHQ63jG0hdsLGxA3x9Bw1Asli7hO3BwApgng/Gjvq01IHrXJ7q3Cz7E++YziF2rs1ZLZ+8H9jJsSoECWXj6igmR87aLgfbGq4GvbgLu2gjsHwdmCEIPSI1h+SkCRjpfUC3iNWcpoRrcnrYbuGsUOMBo7QBCxSTG/igxVcBIVGPWM1h1JYQPnyKNExGZMDIJ9b66eEBGxPDY1Y5nv+GCjfGAxD+DDpiawphABWZPjwNzNLAEIH4XCH0M7/5c93bBfI8Yk2cgVAdvdT10ifDkBWC/r9lGH51NhIsnsWHOfPmEUKT94WeAG8eAO8aAfWPAwVEHISNQlKQUglJjJExqC+H6Nq93kOpUg9szbwLuHa66QzFWkaFieXxi6hgVHOMCYGRuJ+5V4jYJIDKI9KlsAvFDq8QDrnb8NWVPh9EwdFkQ79TlSMIsN0Mi5s9MoOGno4U6f3YAvefL7Y7rvdoFLxOANSA8f7xSgWmd0kCQbmZ6mTLEnJ0UqWLhUkxlrBn6n3wWuGkYuGukCsufGq2iojnRFpafsU7MDxErJuZhYCsJosHtWTcBe1oeq+hxigJgXBrMmTBPnJKLrr+VED54ibHYvZos8sO+DNcrHrDX8YVVyglAKud0LtMjFPtNMz6QLDY7VomLJd671AEH4Xu+3g7nWq28ISvX58/hguOBg8vtFQvV/hEzxfqOevuTfpjri8vAWz8L3NYCfjBc6ZYHmBcitnFd06pxyb8W4gPlgonBqffTtdTg9pybqiVNBssyUsdUD7eGO9amnf3sXtxQipl7Wg/sD4A8AwHIyZMYky50Tp/xgN2OL8y051qw2hXzwRCEdT2nmck1RxHG+w5jeO9NFQBpR6ldMIMXlFWgVndqF2dVFsJzuOgRwMElB6DcI6rznemD0RnbwQiSRS3g7Z+tVIl7PC9kahiYZm6IizuLigliT/VoUog+p8P9l3wJ7qGEanB77k3VczroUToWLCsABud4ypaLCUoxf9i/9w9ADiICULrQRWuIB6w7nuZrwaZwLBGwClSqSyz3AhHbaRGEFGOmC44D72UVgjW2C2Z4lIF4ArjodODQcqUGqAxfcpG4mJVuVqcL5tbs2z/veV0tYK/nhTAqesYNHdO5PCJZos+WuzxHJIViuXFyJxupNLg976ZK2lizUKodilGUgzyGhokF8yw5Mf+qRkjdjfuDtwkkm7DTkNaBaQ2ox1q3eMD8+B6O3H6em8Kx1Ccx9ptWl9iYIUAAWrI3I3nHgPdOtsO5eOuxXXBdj0V1vOL/so3Cxef60tlSpYwveKf0pAu6ohfdJ8k4CUqgvr5jV6VGTBKALeCAh+VbZLTnh5gu6D44A6H8cVlkNK95O1WkBrfn31R5HSy+JCwPplAxRegE/2T+AloGncNmbQyogUQx/KwB4gHj8YWNTwRAOW0FIIIndoqNkTAxz/bd09XDGLBdMM6/pLKi5whAX60gCK2ujxzEAqGL2pQ1Jis5AJEAFHvTujYAKjRf+SEugm1d2COQLU/DAwQ44caEw8AtZzSIPgAvuKkdrWMM6M7xCMBoiBn4YpCE2NCfxWAA5MEuwvCCEICwlnhAHV+YORfDsWJGgPpMKwg1b9QpFnzHbD2BK2JGul9s8KkYW17vLALQRTCBpzXZpS4gtCXXMAkduuAy8E7PijPWprXJ5CR38ygw1fJDohh2BlRAgq2OeN7uTWc1D0AFNtmL54ESBsCaJcLkDajxj5ZXRiCIGA0waDwgjy8sk5+HY+X9ppUbJSCp6TnFCMXwny1WAFQ8rUAc2wUrRL6mXTAefWnFfnz3FpbagQKLAqAzoZjAKkkpXkNO5GCEvOMLFXOnnC4xIKOjnQGNdWSM+GqHQGd7JSsxUf+JzQLwhTdV4je1nQvr1MkPGtlf9yP2Dy+gAqZ6rQytfvdHSDxgLwBF8AmAYjHWluEDiKGMiqOVvtejXTBOuRSYJwDJAARgZAGWL9Nk+IM3SzgTydE4eec1nZHbtDaNAf1Dpd/SMx2END6kD0oXtFhBXmcY+OY6AFChnKnzl7NfdMR3qCAae2B+VVMYXASvDs3/X/zHJZcB84vuiqABEo0QPnhnwqQLyRURmZBPytnwHde0M1vN2lR6picoKULaxHDIEdHkW2iWg4/7b5zb7DSQAVd0/griV2JYojfpwRGEYsGBrOBmx/OgP5sAKANkcbFzNWTRnX/GSGImMYH/LYlk+gGvdT+bW+SWH+Ig1GqL5QeTtR2EYj5LVHfjw/ZDwL8yJ6TB7UU3VVoTjTYxYDK+Ivv7dzNAZIxpZSiU8jjKgIWTcykZkBawDBBnQdMr5QeTKI5iWCB09AmEb7+ucnOQ/aTPWn6wuzyS4u+R0Ob6CUGqJpIDA97AdqINbgRgBJ69CG4Jp6q/ckjXqB/RKla4WpkO2ODgHoynigA0JiLwaNiEt95YQKJ4FRC+7brKzRH9jZbN6iJYuSHm9I5iOAOhHNJfZkh+gxsBKPbLu3+JgaWDdojhMO5kkDWSlNTg4B6MpyIAjf3IggJgMD4MCARjFMU9QCgAykhSKnUCYHB9JB0wy5aTRUxmup4h+Q1uAmDs+hpXgFLnB6ULONOn5xACNJqxghsc3IPxVBGAiQG9aLeilWUJW1FvVXEN0TKp1C6At19TMSCBpz1dHtT/JH7N9yaxp6QkF73KBxYIr10nAMproB44qQGTj6sjUrtOFPtLeFQHLES9AdDFrq1E6M13MaxVCTNAXNFThIylLcor40zxtgDAPKuVwDMrOKw+SBTbtR2MND7sZwC7Qvm4wqHa4T/uIrhb+7n0EgbQdTijoyg+agWXT8llDsAFWr/B8qP1K7bT0pvtVwHhW6+t2C/m8svvZlawi2CKe37nhFtapkDnILRqBQA+v04AjMyn79EIkXO/DnzyCBwVweX4wxs9B4rRZgyPVFqykgDd+5JSpBU5r0vHyHz+jsc3ub0KABsZMCyQgeExKyFPVIz3lmcM6OfPAGCADYPE67Jfs6h7G0o+xvi7oyK4cLZfOgpsXwC2Lq9MwuuVERonKn4nSJrcXnQKcM7dwMMXgYcsVxkSebJgzOWPqdB1ad2f3gpsnwK2LXWeR9m3danUIV1lBSCPArBwtp+7DThuBti6UDWDmWA/DvXk8LRptfPtNUlihYZTOPCi04GH3wFsnwGOW6iAs5n3GeJJ+KLoE+9VDClQ8R6vOQHYegDYwuY3S6H/iJ8jb11ck0q9Qhoc9QMWgPBZJwFbpoFN88DGRWBiqQIgWyJY3lPozaGJ1KTEPh36zpTkJrcXPRE44S7g+Cng2DlgyyKwaclfFoIwvCwx9Zn3Q1DmIPx/2/sSaMuusszvjfXq1ZRUElJkKsBEGQyYhJCBSkUqAW1tsBdpuxEVaBzowXZqe1g90G2LotjQdmMjKqtBxQERdAWUAkUlZNBGkQRNyIAEMAkxpFKpqjfUG3t9//m/c/+737njPq9uVeqcte66b7jnnn32/s6///3v//++Tz0dmD0KzC4DM6vAFpd/0L3Gh6yTDgnvLwKzAWDGiH/ThcC2OWDrErB1pRgQisIQhAa+AED+HEEY6uNLyrRnZLSl6tSbrgLOeBQ44yiw8ziwfaV4UGbdegmA5QMTLFlqsfn7XecDW+eAmePAltXiXnkuZSBkRcm4UGXtU2uo3xsAZgz6y54JzMwDWzkgBOAqMMVBCSAUObh8QuN/CiTgcWAuyWhL1amvvBbY+VgxbW477paa7gIBqCnUrbUBiQuhAKDUot13IbBlDtiyBEyvtO5VDxvvVfxW/JkWNFrCeK8NAGsY7BsvKQC4hQCkJNaKy2LRIsg6SJ3IQSe1onKKC2CsOYMeN+0Dtj0ObDsGbFsEZmWp5S74g2Ir2uA22BScAJGA+dJFwPQ8ML0ETAUAkgDTPq9zdK/+sMWpPF19NxYwA4g3PtsHxAE4SQC6FdSgmGWRRIJLZJll8EGKjHiX1jwaN10HzD4BbD0GzC4WrsKMW2pNobZoCu6CLCDfCTqzgg6sr+wFphaAKQfgZHKvpRSYg7HN5XCL2AbAZwPrZGaj6ippXhgn0kqmU1woxnHedg5AATuWHig2FE1uVRwoxoX+Wcbg89S3AqCKPONcCi8oPtVP+9++G3j+oSK2xRBFDElUxbTS+3nvc4FpDsjxllXQoJg8FgdCQoGJJTTicLcQ6vPL6wbg9cDM4cJv27oAzFA5ky9/UOSvmg8oP86n0dICBn25JwjARWDSAUgBHN6vfdbv10AbARh8X91vDM2ss+NvAECKPVLCsHoyUgRqrlbnRwB933OBc+4DXrIC0IEmiLnE75di8HsyAcjzWUVGUi6uICMpVwwJVMXdeOk3XAxc+Hng+vV2esAYw+sWoP31r3eLcLwQBeQUrEHh4Jo2h4vDmJPuAyMLGAeEn7uqbgB+I7DlSWBGCwe31Gb9aL20kGDb/EGRxY6WTz8f2wtM8l4pgL1SgM8esHCvsuylME4nn9cfQLtldg6TZ0kUKorAfij23vAPCmqp3fcCl60XFINid1PlZrf41/dnApB6wSQjutUfIDJR8CGIQOwWEH7DywpKrWc8CFzqRLHkVYrB2jS2FQH5vkuBycXCAlIUUAAkCM2iRBA6+ARCe7DjYmQduLYTleiQ/XTTS4DpI+6nLhZW2nzVCEBaMLd+soIGqjD1ampdugiYWCpeBKA9bBJC9ActAk8LES26SqsftInLZ44dQif4Igdhym5WLrPDyuYH/7HTCNwDnPko8LXrBccjQaioe6BiKad3+QY/MGTH6rS3OBvCnQDuAIyqhiDkQ9RX+29yE3on8IwjxQPI8zkTiApGU3oVkD/4fGDieAuAdMw5MFQjEgg1DYsUku+a3uI0TGBfV7PotwHwaOEmbHEATvuDIutni6UAQoFRIFRYhfe/dhEw7tbe9Of0Si1g8HkrwRcevDajz07gIJ7n05rYyWIpb4ya/7vv8PRdFpj/LXDmkQLAnA4jCCOlTBRN/rFMAJKgkkVHpGUjySSBSFeg7/azqk8EgbSEq8UDRACLKDXSyaQ7Br//DcA4LSCtwnKhTEkQcmAIQhtM+Uaajl0uS9NatITXWzpzfcdNB4DpY+6nBgDaCtanYLN6fCj4u1ay0QIqtML/EYC61wSA9tAJeP6eWsAoDysFpg1eB0HIQRCIIkVeCqQf/05P3WCB+UPA+CPAzvmCaFWDKEuYcl1yMN+Y2dckqGTeHPEvvWDSNhOAfbefX0A6rS8CUw8X9066bFIfdqMHJID++DJgLACQumyc3gyAEYRRKFCLD1eu5ODLF6QvXedx0w3A1BwwxdAJLTXjd8seQnGrZ9bPFxLyA7WIKON63tYtCQBN/sv9QPm6BkLp0vl9t/m6ietR6fbyBA4gnXtORwRRpNnTtPpW6gWLH83lKqcOFTEnDiKtoHwy8RNFhrefyeztbnrBfbWfgttsP+kIyO32ELD1cHHvInrlvWs6TsnB7qAUlg/suFtAWkE55zYQ0QpqcALoNCXTEt7A3KoaDwGQfqoAOEUBa7fUbKctltwCajVbxvSiyvoasM0BaBKwwdKb9fN7NfcqBWGiSWykWXER0umeacUEonQgCKRfIgDFjya5yq8Wfsfs8dYgiuMxgpAg/vnMzu6mF0z6Zj5APdvPQec0TEosnvQosGOhaLuIYvnwEYSithE52F1XFAA0p5yigD4otCqygFKnpHUpLYP0OcKURYv6Mj4MNR433QhM0gL6QongawOg+6rl9CswKoSkEIxPyTsuAPigCYBmAXVfYcVf+n0SRYw6dP1YwNgHsgSajiJP429RrpWOM6cxDiJB6NINM4w7LbUGMQUwB/M9mZ3dSy+YVG0EoBiDBST5ddZ+PkCsAiIlQZDa3LVatJ0WXG2PbL98AB+4omB3oP/HgTUhmGgBfRqWf2TTrUSjExDSP/qWzQDgfAFAWyzR8rkFtDAKX75jo6nUguZxZ8NByHbvvqBQ36T1swcsBaBAGGRg40Ir+rt9WUDhQ5ZAU7Es2e9LLzglqHRxNkbeuW+oQRRls5jaMjnK0a9ecNf2R4LAwO829kQB3LTtEYQPUwzQAWgW0AGo8AQH0ljp/V17pm0KRcEifGuNOnocO1rACQbKPXhs8TtNwVr5uh+n6Zf3wDgu29g2FdMtOc8B6PdpFj08ZFrplw+ZA5FTvAQQ0/BT36FPDkRqBT9Jag7xYlQItY0f88j78sZzCcKPZlrAQfSCK9uvB4h577SCotUiEJ8opq8IQFl/PUBPEoBLxbRE62LSqG4dFB8r5bHcOtiOQSqT5T7RKzYDgJx+BUCCTxZQCwhaQc9oKcEnEBKknj5FsJ1LAPo9xoWWPWDy+6IIoqbeaO0VA+zHB0zxIQDKkn1GgtXiRxMIAx0Vn0Db+lkuFjLRCt5WEwD71Qvu2H5OfekD5FaciQay/GIbFgBXriwAyGmJADR1ck3DwTE3TQ4B0LetzBJErTYAr2BBSI3HTS8tLKBZPo/fWQDZp197Z3scjGb5BDp/L3+njMweB6B83Gj9wj3atOsPWin9WgXCFlVO/3ctf4iD8XkBkH5USlAZlNPZAQqARr5vxu1yjmH0givbX0UQKI63o0Wun/xHuR8E4VnPK5JQLd4VNttTBvK2uoiKOUf/f+GjwMNBh0NMV6J0c0NpcRv7mrYv3kh8/uHxYp+bVpwLp3R7sts2YzouSq3KGa+q7+x7Co4nazAerRKsVlV1QitF59dyyFZaYY0HMu9mWL3gtvZXMbymBIFMZ1ov2h0B+LTLisxgW+Eq5uU92iZ72ud9vvR+4JFp4NjkRh2ONi0OB1/UBCkvEYRhfuNs4OmhhiPKnFQlx6aAjMnSXJUAACAASURBVPjmz1w41nnwO4cCIBvBwZgTAOUHRq3gyDExD4zRGVYEnpm5LqmQc0M5esFt7acFl0SlHiBxuTkYxxdaihUC4QVXFu5FCUD5QtJl85sjGA0ziQxqeu/fem+hw0F2fLLQGxFlYMRvo7v1WmIVtpt1DFkXvOR7LwJ2HSkyoZmEypoVVe8p7b6qEMnidGG/Vl/L2aPOIwuA1pAIQE3DAmFa4j9f7CPaFpCHKujr5xzZesGdHqAqKz5X+FLRAl58le+jui+kTBALMcgZ73CDBkpN2/7+bfcWOhwUyCEAjQTcAVhKdjkPc2RajewKyu/n1//qJcA2uhBMRGXQOcn9U6JIOjXHQqSYOsVoQp1HNgAvz8yny80H5PVz9H6RqVd849WtXQ/zA0Ow2ayGLJ474L0G79vvbulwkJi8BGCg4S01SKqofoNvSIC+5zkhFUupV8rUTpJN06KpaBkFQm5M1HlkA3AyM5/u9Zl38zrk6f0iU6/4hmscgK5ISUtCTowyDqb7UxwsqFJW3fo/vbuIBJEZ1YRgyHwQKNi0KEl1OKTCZJdxtPDn//v8ooaDaVgqFyiTD2IKfcjZS4Fo+7g+HXOPv84jG4DIzKfLzQf8KVfI/FNKrQ6h94tfz+vOA9cGAAbrpylY2SDlVTTt+uCnV3/V3a7DQQAysJAwobZJgUXi78Qayhd812WeiOAZzEyUiAkHMeu5BF5FwZQAWLPwknkLQy9CrPMy8+lIHZFzvN3T+YbV+8X7c64OHHix74V6zIxB+RJ0wQ+UU992tYoFy3fcXcTDxQkoPsCUhFIczKVCegSg5B8A/PILN9ZwxBSxtiKiUAOi7JW0dLTustF8AGbm0/1o3vjjnSGdj+lYlGwdRO8XN+c1wABIoHk6k61yuSCJITq3jDY9Vx0BqK++uwAfX6JkI/hME0SC1EGguiQ+isqcQRLrF6/0jO2w+6FMnZhyZYsQ1W50qOHgPX1NXndtODsfgMwHzMin+0+ZN0S9YOllMzWfLwKQSS396P3iY3kNOLDPM1y065H4gOW3p4uTDkB8zWdb7FgbdDhEgJkCUDRvogTmd/vPv3BVAUBuvylNzAAYi4hisVQnEHoIqWblrxqm4Mx8ujfljT+YjsWBYgIOc0oJPsq1slCpH71fKybJOEoAuuVTRSCnYlmU6P/Z4iSJEcbLv+Yu9/1EAh7JKEXDKxq4ChUiKymRbwjgHdcUWTARgLYXHSr2LOU+BV7MVwzxwOfkOWybYAGZD5iRT0edjpxD6VhcOQ6j94tP51wdOHBdMeXa9OqWRcmWXA1XLUIUH6zyCwlAs3z+YBkfs1u+VIejJEF3ckrjI9T0y/aMA2+/tgAg08VURKT8vbKMUgAMIGzzAcOi5HknHQAz8+l+MW/829KxhtH7tTz+jIMAJPCYMULAWd6fvi+EY9ouoZBM/Kx/4LUBgFLgNC5o16FrE8JJVJgkiFhaQQBv3+dVbMrWVsC8UxFRkjjaVsW2DtRdOJ/vAyohVYK7A+bTvTdj8HlqTMcaRu/XxHkzjgNkIOWuDr8jnYYDKDutgpUhra0uAlAyCCUAK8BXcjBXgLCk/h0D/hcByDxFAdAzoFUqUBYRJTUcMWdPP7ONL6i5bLQeALJRQ+bT/W7G4AuAOXq/lsGdcRgAY+glLkYclJVTsa6ptCX3uQjAKINQstFrAZKIwWxQIhIJuovB/Nx+r2LzFCwlj8Y0evl/MYk0kieVtcvrwGUnHQCVjjVkPl3mItQsIPuElx9G79dOzDgMgGkAWlNyBJn8xKprBRC+zgEo4LWRgcdVcOCjjlNvmx84DrzNAahaFZWLygKWxUNibIhTcPD9BMLLa65bzreAMSGVoXvJ/Cgh1WUfO+XTZS5CDYDs9GH1fnOrIDcAkABTTDCCLYK0Cwi/586WcKJUiEpC8CCBYDsiiSplqUIUmOjf+o2tIiKVUJbgU5uSWl4DWwX4+PcXnrQATBNS+8yny1yEopdcay+930y5YhgAg+9n2OoUeI5TdQer+32fdhmGoOBZanBo+g1yEKU4dYgFSvqB//vZBIBt9RshkTbW8ZZZ2hUgvDL3iU3uux4LSBM0ZD7dPRnTH08VAIfV+2XAOucQAMuVcKfFSD/+IAABsEoGwYAoHZIKEEYxRIHwLS8pUuhjFVs6/ZZhIVWyxVKBBIRXnbQATBNS+8ynI4tBzkEACv+chlUVIKE/5cRGsWmlKfIzudc3APLQSlg3E2OCyVRc1kpU3DgBmKoQsWtlBcswjPu+nfTYtBL+GQdgOf16GCZW6pXlBCqWSgqJypoOAFfXXDifbwFJLvi5HAjlnUsiIe6AjOp4iQNQHRlT2PlgJCUbbc2s+v/hFwFb/q7gm6HlYpBbmTV2sscQyy/qFBj2v0/cAdz/HGD7NDA1AUyOOU+1CwWOewNjKj6/O03F1/WuugW4/XJgfBoYmwDGdH7IxB5kLPIB+I8AfNwZgga5ck2fJbEm8V9zNWPfrasbgMuPAcuseJ8Exsb9FdBhA+7gaQNKB6TfcgCYug+YJT+g89aoBDMmIMScP12uTKj13uDv8zsKig/uJ1uQOsnojm3qB5P5ACRBH3OhPuzzRN9DV88HqQLEWPJnvTy5nm/t/1s4BcuSpRZtGAu4fi+wtBVYEyccrYwn6hF8/FkJp9bKxAKVFsn/d8urgbHPA9NPOEOWl4+2cfoFHhfVrJTZPKHSj5daOtup6JyCpPx8rHWRVQ7WOlrYCMx8AHIzlxkALPD9c0VB+x/A3E/+E2fUYHXdF7KTGwdvTd0AHP9r4PgWYG0KWBdfsBdsMPfPrKKsoL9XAVLAvO2fFylCE4cKliyrDVZNcGS1CqEYhWFiAZV+XntaURdTLmpCEbpchTYLqi6NrkMCzLzt5Xc4HwyJmmkJ+Z73jQOh4NWeDUZiK1K08f0EXt7CMHVawIk7gaVpYJUA9LI1Ao8bzKX1cytoFtFfpdCIWz7rgzHgth8u0oPGDwETc8CEMySUzFaikgtlpW1Ta8JqNba7lVljSRgW+Q6ZP/57WQvj6fydBjXfAjKbgEvMLwWCvhNoipgNpnQshlS4IGFWzIk6ylWwAz93ETLxGWB5ClidLABoIOS7pmGfG+33YAG5mND0G8F4678vkiPJczNOAC4UyQm2N8w94kirFlfIAl7i402d6dbPWWAtrsjOFiuCvAJZOQE0pHTFsckHYDeCvhNgipQNxoAz8/8IPr5nbvH2jd+6AThJAE4AqwTdZKEBLDoDgU4+YVkPHIBoPwareOt/BkDexsMFAFnbzNJYm0IDnVwbt4uyur1kwL7Tp+iZM/08WT9Rc7DHUmuYTr/x+6o4ovvu9fjBbgR9JyA+omwwxvZI5ULg6ZW7y9FPf9QNwKm/CgCcKABovh8ByVy/UCtJq2f+X1yYJPGU27lIZLbuEWDsWBHesZeDz4iURLUWa1TE47LqK12fZmd3OXidFctqm92KatVs1jAEsNv6sdymaa2g8+xUL4I+Pn2beCgbLGWHI/h8G3oTr45iK86POlbBU9yKI/AcfLR+ouQwH9BfmmbLlTHboOnZ/T9+5vaf8FUaAThXsFOQ45mUcgZCWTAxe0UQ+urYMO1/37GtxQmoLCBtRSp30LrDp2SFdzYMgk/R+VNwvwR9mwQDsaspGSfJgYDYNTbp8psCQFJxEIBkQjDrxt8dXCUIY+COH5MVFPi8SOn2n/QYLZ9Gp0cxANIP5IvAkzVzxivRydnKNzBa8fddM84b6AFyAriMF2pajk9kYIeoClXmA3AQgr5NQEHMBqMVFMNaIOayNRL/vhlH3RZwmhbQQUcAasrVVGz4EtjCu/3dfb/ID3PbT7uKAZ/MhcIC0vqRTo4W0IBIEAmEtFwCYqjW03bcmdwBYeoWgetUbrR8snrloiR2drpACf+rD4D9EvTVjIJu7HBV+781X752Czj9lwUZkTEgcPoNPp5Nv4oBRhCG6dd+1DkMz1JIhR1BAHJ7zwqO3fIRRM5tmDK5CoQKsSgOeBYBKFZULTqcB9r6Ni5KYmd3WKDUA0BlhNLM8EbT1QBXBU72aI5ZjUcVOxz7WLkQ8d37vsart/uA6RcPsxNSAtAXHDYNC1AEpf9s01kKwuBwGU7HgVt/1jtD1e60fgQigSe/j5bQp+KYpGB+H62jT7P8/ZypBIC8Dhcx8eY9wF015abhmnoAyJ5WSrKeNgKO9SHxnT/LSasJBim5lRjWBEIVeROInKL1qunybRawLgASdEy74qjaNNzJCgqEEYzBGvK0297mAFSHEIB6ebKDgc8J1ksmV8t29f1en6L5v6cxIK5iK6Xne/5jCTiFcTqVn/r/tWDPWwXnEPTVgIKUHU7ljASawKefIwDpMdRxRB+wFgD+RREDJABpwSzz2c0LfxczVjkVKwaYgtBBezu3SvX08d39P5uO3QKahXMQciourZRAGKZWar/YZ1xXRPe8wQr2AUK7TvbOVTZBXx4MBECRnConUBSFEXT6mf/TK+/qmzAF/0UBOPqBZYF52HrTFCw2LH5G8UCzJEko5nZqmRnPh/uCXmpnVpDTsIPPwKApOaSA2QLDLSHf97iPx0tpISLfz7bl4iFfsUsnj+HZWEeOYDCDnDmCvZkEgedcCjxGseIhBYt3vx049HwMLRh8gA9gh2MoH9ABqKJzxf0McO7XlSAU4HzhYYFq+5D7hwBu/98OQLlIBCKnW39SlXNY+nqeiq2dkQg+gnGPb9/ZpT0lq6MV5D96gLCwgDmCwbdnCvZmCgY/dxy47xxg5SWuUjigYPHFbwA+fyGwfr2rXrMvPB+vp3L3GHCgi9JOHQCkRVPppeUBigXLFymyejYTB4YsgfA20ofRAlYB0FfAlvQqP0/TsX5PLOB5DNu471cmIwiBaRww/F01J+mz2pqChxUMZvpJlmBv3iTocsW4dzewfhkGFix+2febXDAeJO/YEILBB7pU1g8LQFo98QASVGYNQ6DZfEG3fnEqrgLhbf/HV15anbkFNCvohWSl9XPQ2XTM/2s3I4DwPIZwBEDfgitH0Ek6N6x+u/iD7T4g/YdBBYPpWHEaHlqwNw+AQa4Yj54JrJO+aQDB4pt+oCAyYvOPEIQDCgYfeF/9U3AbAMX7ItAlVtAspKZdz5SOlvA2pstxjES3wJ+92NgAGK2gwi78QoVfEhBeQACqNNP1RdoA18kKdgDhxkUI/zKIYDCnqyzB3jwAJnLFOEIW7QEEi1/1Y21ywVglCAcQDD5/Efj7M4CVrZ5AKlkhxeQUaxBI4nvFzxf8IfCVC4HV7cC6ZEX5nen3VX1vAGLZq8ysrvHY+QBwbGfI2E6JpLvdX+ksthpUvQrmX/sVDGZVUJZgb17vJHLFeGQcmCdVb5+Cxd/5xjZ6QzzMLOQBBIOfTV2Ps4HFHQ7CLQUQmUrV0rgKJMsCjsxGAqTn/hzw0EXA4tnAyg5gbTYBorKkUyLnkB9YVhTxu+kT13iccwtwdBewPAus+b2ar9xJAafqfgMQO4dh+J9+BHe5gqZZZzYok1JJUcpaR6bp93P+W/N6p0KuGIemgEWKgPQhWPxdP7NBLhiHKYHUp2DwpZ8rLOD8tmJQVplOLxAqmbRKC6EDYC7/CeCRPcCx3cDSrsISrs04CPm9ArZk55UvKAspYLqPaPdR4/H0g8DRHcDyVr/X6VabLHk2PhjpPVZY7d5xwF6CwS9y/4LbbVyQsEKIufGiKe0p2JvXOx3kinF0GjhOQY+oNRtljji9TQPf/fOV9IZY4Gq4D8Hgy/4W+Oo2YG5bUUy04vUcLCqSJVRWszJbNgxSmMau+q/Ao2cBR88EjtOqbgNWWaTkIFz3YiWrF4nAjtN0nBZrJnU+/8PA3CxwfMYB6LUra3oglL0tps6wlVha5rLiqd9AdDfB4Je6U0s/0BXTDYh80Sr2FOzNA2AXuWIszABL1JaKWq1R+nwGeM17OsoFY5XTVw/B4Cv+Djg0C8xvLYqJCECzgsxmZlq9T8e0XGUyaUizavPtxoFr/zvw2BnA0Z3A8e2FVV3x6c4sqwObckeyhiXAowUSADhD1XhceDMwx37lvU4XxVN2n3rJIocygkr/Vbs7fe+EdBLcfaXXQ3IPWIrpBB6XlnwpR76jYG9e7/SQKzarxM7qJFj8mg8UarMV9IZ4gvNDD8HgKx8HDs8A8zMFAFnPYQPDl0Co2g4fpDZLqKCxT0/7fhJ4fCdwbFvhRiwRgJruCOwUgCpeCvUjZmEFxhfk9W969kW/B8xvKQqnVgg+B6CB0MsI7P70AHgmd2n1NQ0rv7FvALIlVYK73MnQCDLThSGZoDpuP7uCeuX5n8zroB5yxThGnQ0CgyBMxY63Aq/5aBHG6EBviDlOLV0Eg1+0AByZLgbl+HRxnZXJoqqttA4ODovlJZVuSjTQFtq+NwNPbHMAzramdVpVs6wEoPtdNg37wJfvsYiJP9NFqvHY+7vAwjSwxAeNxVO8T6aNVRRRlT6hHrJ0Ovaw0WDJCKng7g86APvNB9wg2JvXO33IFWOBgn8EIf2nRLD4tbe1+AU7yAWbZeskGHwVdd2mgAUCcNKnJgLQrZ/V9/Jnn5JUYmnAE3hCmv3+t8AWQfSzyPK/POOgJgDdsgqA5nfJAvLdLV+bz0kK4RqPZ3wQWJxyAPqDVhZQyQr7gyaXI9axWCFVAGLvRUhV46PgLnUWBs0HbBPszeudPuWKsTRZAJDTo8l8ui/42juL5veQC7ZpsEow+OrZQlqVVuH4FLA8WVyDAOTAmHUQCAWQkOlsQAwDt/9/AE8SgPQpNa07+AhAA6HLXbb5Xr4IaAMfv/eGvP5NzyYA7UGjBWTWjh40v9fSyscHLtaxhJWxFVsNNAXH1khw983+DYPmA5aCvXkdNIBccemfceooAfhAAcA+6A2xLuAGucxrzgKOMexDfV9OwbS2BB/BEoqLSrBoYGgJ3E8qLcIEsP/ngCPuUy7S13L3wb6PU56/m/Xj4Ps0TKCXQA6AXuNeZY3HMz5QANAeND1kwcKXlj6wOZQ+b7R+Pi0PD0DeFAfk590CKg8qncfoFzIRVWVqfFfBhgn25vXOAHLFWCDbvPstBsJZ4LUPt+jdesgFg+qVptWq11bg2gtgfuLiRAAgQeg+oEmsOujsXb5SsAoCIN/3vx04OlNM6Yv0tdx1MKvK7/TFjVmeCD4HQQQhf159eV7/pmc/kwCcKABoeYvR0oept7SEoZQ0Tr1lPuPQFlAtO0nyAcWhpzw/FSjFzGjLx+RGvxzoSeC1hwsA9klvaFN5FAy+9mJgnhaQ0qqagglADo4c9AhCDpJPl5ZommQ8738HcGw6AJBW1VecZv0cePwOY0/wl1lAD/WUCx0mMlDLr8bjmb+Dwp3x4nkDYbD0thIO5aNtfmDi/xGEeRawxhs7Vb/q2huABQJwAlhyy2cC0xoggjAAUCWWAkksOiIY978TmOOqeqqwqAx3WGhHK06n7TDwOcAV/iipPAKjwgrZm2o8nkUA0gKmAHTrp+o9MTrEYvq44o9pZIOtgmu8mafCV72YAKT/RwAy5OPOuVlAAk9Oule6xQRTWUKlWtkU/IvAHAHti5oIwDK841ZPFtCmdr0U8PaC9hVultd4CIC8P2Ztt/m5/qC11TJXlJDGGpfGAmYODgFoCxACkLpuWh3KCgqE8gNVZK4KtxgjJAB/2X1Krao1rfN7CWZf3LSBT4uAEIyWBVpipL7GgwA0AW25GbGENBTRx3rm1M2w39mmrFVwjTd1Kn+VAZALEE5LtIDyMWUBvbLNLGHgd5H/V07BDp7r3uU+Jadgn3ptxekA5MBri0/Wp4wzBjDbCnkMWMqVpE8GJwLQqvfc0pqbkVj5aNk7gbCxgJno30cAjntowtXNaZ1suvSKNhsYTcVKmw9F5xGE+94dfEoP+JYhD/8OC8eIPUsUHokVVKB78XszbzAF4Pvd//PCKVGIpOAr78mn4DZOm8YC1jco+w6EFTDDPJqeCEBZBa5GffVbhmQ8DtZW5TYOvPhXip0GTuu22lTMLSw+aAVl9QhEWjurI/aQiLJkTMLsX9R3r/ymZ73fp1+37OU9hunXSkdl7T3QrhKCtlCM59k2i5CMMSIAGdqxEIwrmptzTsCEut5yilKoJLAcxCq3fe8tLCDBFwO+tKjyuxSCMdYEXoeDrHcHvu0tTwLzmwHA4N/Gh6zNCqqeOSxC2lb8tQSiMwbuqXIqAcjFh2JjBKGJyShQG6ygVbfJegULWBYcMR3rvb6oCRaQwFPgl1M5rR7/JtBZOIZWx/0+s4QeY5z/1/X2tFnAxPpFELaVkdLN8MWGVr4pCBsfMHN8bmTKfCjZ0Ncp456/x58zLzfw6Qf3ABd8pUgEYmqk5bGyek06IQl1bkXScnlN/u8L24Gdx1qVq91KQvrpgwaAAw9p+wnXPw1YjyWMGtDo2ASOFGMU7SIEUzdYD34vMPmXwLbHgdkFYAtlGiim6DpxJtvq9LtlVr/aWKEB8pUXAOOPAFPzwBTZ9r04vdQ9Ts4pAZ3cd+yHxgfMAOH+vcA69/9Uxijmz/AerYpdar1lNSMYzV+vWY/34I8DY58Gph8Bpo8A04vAFEFIknIHohGVR62QhFRSYjQE6qFri2z3iaPAhHNNlxKwArI0Q1IAxwfReacbC5gBPp66/5ICgLKCtqnsrKKlrFZUFPKOr7osMTtdsxzqQRZ93Q1MPARMPllohUxRqkEK6gShOP0S+dY2hlRv99y+ovRi7IiTnTvLqmg6xDPYpqAUgRgsoR7MxgJmgHD/c4E1FXu7FRRbvEgd7evXWlbPpp9EgUjiJpwe6zwOMlvpAWCMVusJYPIYMOlSDZRpoGiNxKzbdIQlXONMWJbGtw4svdgz3El47nzTRvPrrKptAJT6ZrzfintvAJgx4vsvdQvIXK5VYF3sUZxmJUvgA1FOvwF8spKyBtM1y6EepI4LqVMedbEaTp0EIKdPKh5FqYYqSxgo2jgFr13j6XXHnOiSZOeBVSvyC8qC2r05FVvVw9cAMAOA178AWPMp2LJaaekiCPXExwHw660n1oB/niGQazwOkkSepbJ/72I1x4CJ+cJ6lYI1riccrVicUuVSmIW82pkwnHHVOKbFsOozQGkFkwewnBES37ABYMaAX39ZAUCCb82nIlo+40p2gNnvsoKunxH1xGwA/LOzdQOQJPIuHzV2GBg7Cow7AI0l33XfjOsv6oVodes6ISbBsAZMX+kJxU56KY7pkmFVhOciuvTzSt05v0+ryuT/9gDrZNe4wPMsI7VJP3GcP7gUOOdvgL1rRYJ0ZI5IV3hV4/wrGYPPU3/AiRhYusy2K7mU999P+z90ObD7LuBZK0Xdkeq9NSX2+o4HLwfWlopFCC0fgciBMtAFC8CGrYXVoVjnU2G7rTXrzh4kfRzLY1kyGwBoeiGcPiXb5eAzdXWnazPCSScb4j3xfmav8Cx2p50lAMW0VXINitCogl2r9H2dcctWwQxQsn6ZTBbMNtcgdKIbiZj51VcBk38CXPxoQcfCUg8pjcYgZScw/momACnXyr4leBhs5QaBTHpf7X8dMPYJYO8XgAv9e8QJlAZZq8D4xSuANYKPJQn0AR2AHKy1MACKe9nfFI6IEqduEWoHIJ9wlsVKLekoMCa9EAegSTYQeM4TXco2SEMkAHEbBZoj4bbYtdyCVrFqGXgTSxgXYTZeHLi9AMjEQRCVUXP/n4KUaaT8vVTi+Rtg7GPAuYcAWlMCgUVkQfJ2Q12yBvPXMwHImhDWwf81imsTiLSEvHZkr+jY/p9CQRD4p8DOBwteItai05qn31FFdfLlFxYWgCDUIkRkj/TxbCEi/89jfPZ3X2VqYSJQbmUNQY3HQT7hbv2sLoerVwKQHNEEoCsm8R4MhPRjXUGzVEIKIoY7yaEYuY4dgGb5RXruoSgtSCLLarkICQ9f6QNykGjFdjsIBaI4kGlt8W+Rg5g0HJ8qAp47nihAzFpuWtPIMBZJlASILvR6fQ0DCVbJCkJOJCqnk4pGpb99tZ8MopyiKDX7WWDiwYKXiEQOehCrgKh+eJQ+EQHo1Lby/zRlyf8TIbf9XS5ftIb8I92YugH4ay2pLusorl7dAoonWtMwQSTdOFuQSLTGHyIC8kxSIQuA4hwU2WUAoO4/grBcDbsfWElSzg+JCoYDoEGM1ixSkHzgF/wG7y8sIa3J7JPAGWuFJSQIaU01iJHUiYP4e33BrPOHmG/JMaOfTZVYRhwGav87vWKPJ9/rSH4IOGO5sITqg/ggxXs4TOaBAECbeoOsgfl+DrQShFqcEIhyyt0MbMusEkx76iAZXKM8BvXiZAGlF+KaIbaadYpem4aDgpJZQz6YJABV5VcHAJZ0v4FxX6KG5UpYs0KnqjhRuagEVgPglYAl9ciHf8mdUrJh0Qx9vkDBzBywfbkYQIGwahA/kglATsHsDzKA0BATiPyZ4NEDwIeoa/uFYKKXL2f24nQoIgd9R3yQCMTFqwIAfdBWI7+yB5ZLECYLETd85YJl+2YAUNosLIel/xYlu4Jsl6bhNhD6it4WJCvA2Zc4Gxo73RcgJeOqFmGR6rcChLYACyGojmEYdj59KnZ+tIQRhH9IvWA2hiREjDeRI9Cly7fMF3EtWRFawhQIf5IJwE56wdTIYdt7tp9ys1K8JnoJvod9Wn682PNkP4hUy1ndWgstAtBDMLYN5/6PAc5DGNoF4SrZfN+4+IhT8jqwg2Cp8ThIJ5vfSWBXAVCrWN9SMxDK+skaOvhoAc8me654pmUB3f0wyt+E8FyRAGmPlOEoiSD2qgvmAKoOm52fAuiTDHSyIRxx+lI0QxxADubfF5vffMmSajrWlP7nmZ3dSy+4r/ZzAUEHnQ8R70HsXlK+PgJsW68G4XYGZj0EY2EYATCAT6tAhmE0DXcC4faapcwMgAIfLb0kuzT9Qmw5uwAAIABJREFUSi+EfeALkSrpBovbrQDnkm8wAo8/E3i+CCsZ98NCpAp8cUekZyBavI4ET/TnaAk/RQCyAXy6uNSPA0i+wMeB6ePA5HFgZq2wpNGK3FUDAHmv3fSCe7afX8CB4UNEEOolVi/3obastNwJ9cO5BOBKEQMsAcifHWzRAigWWAlCn5K2bQYAOe1KMjTIR2kRUhKVS7IrLia0v+3xwHMZMCbYNP0KfG79zAqK5DxOvyEuWu6VD5KSHy2YAEQAfpaRdl5UkuUctIpBnCIIl4psD03FtIIP1ADAlBuJM47EqqUX3LX9kSBQcuuyftK78xUkHyQ+RLqHZ3Fv1KcgLj5kAQ1s0Qo6IA1nHhNLQzA8ZxvBXuNx8DcS5UYpNnoYxsCnUIqvZo0F3wPTMa7Hv53HOJVbS/l+5bumX7d+5WLE44hxIRJB2NMCqj9ixwuE90svWCaIA6bAp959EKeWChAyA0PTOV2unGMQveCO7bfqHbcS4rJR7Ewqnw5AWhLuImg2uFQAXAVs8RGmntW4+g2hB3P79L/EJ9zGvqrxOPibiVihAOgrWQOf/EBfBcsPNBBqW9Hv6zzGqFzmoXz3B9AePgXiq6bgiv4YOB9QHS8AfpkAFMMjrWAcQA0iO9XJiQyAnos2vV7ESHOOQfWCO7Zf7F40mZFQScRKAYBaSU6vAVcTgN7xXHiUFpDTMK2dFh56912BTiDcvpkATIXzCL4g3WXTZ4jpGfjoF/oihL+fx+0yWUABLwIwtYKKIabgCzHQvi2ggBKn0McEQDaKT5cGkIOo6SuyYzEfjQB0EM5nZgAPoxe8of3sgSqCQM3jkdFLvpRvR13+7UVRuhUFSavNO6otwp88ZZ3+t4M6HLtch6OT9AG/q9cmtf//gV1JDYcnQ2zY6/YakfSrU+Pg1M45NqPt3IEtoM7WFHokyrWKkooglCMWLYjiUXMtK3g8Uzd1WL3gDe3vRRCoUEYCwGtYFxxqgA2E/jI20F5hhmQod98BHNnlxOTig1aGiDanO21yV4DygWuB8YeB6fnC9WEtiKVVKeE0ZGiXWczeJoWMIig5a9V5DA1ANoKDeDylZ9NSXxyAsiKawrQqmCv2HVf5e8aRoxfc1n7xs+khItAUvojvyWryxVcWJZksVSyZoQRA3dcAoHzax4Gj2wtu6FVKM7gMgti02jbV476oUJJs1j/AbA1mQ3Pm8eTRsoZDtR+xZKCiEKmMXTIeXHPGdhYArX8FwG4DGMEnAHIK4yvT58nWC2b73cexaZgWWaEKgU1gjNbPP7PvOYGsUSBkv3hBtmRWNzxjTk9RWktvxp6POj0vARjY9sWkFel8RWxegjIF4RjwAOnZWMPBTGjqvHmszxJOBUD3xyznL2bqROvoP3N3q84jG4C7M/PpcvMBef0cvV9k6hXv+2Yno5QfGArRbaCC0mWv2YtF3ecerNDhkNZIIsXQRv5dlTtGADJSz2gEE1EJQM//026HdIEZLC8B6A0tk0g1Ja8DuzJdphS82QBEZj5dbj7gxZN5er/IZI+67pscgE7QaDOUMyC0Wb8+gXjuR4F5J6YsaXnFhBoAGEVvUhb60jISgCQnoh/OLBgvIrL8v7DdFkEYM5dtNg97tvz5zJqzdfIBmJlPl5sP+DJP5xtW7xffnzeh7H+Z+3+RpkyWT1YxuURJYVtx6T0fCTocouQV85VkHRIGegEuEv/YKpkA/JceVmL8kv6t5/9pu62tfiPWcFQVEa0DZ9WcLJEPwMx8uvfnjT9IgZyj94t/ldeA/S9tMaGa9SNdmsIxbvVscVJ1GScoMt4UPwhAsmMZ0aXzQBsvdGRBjQz0FUpEJRAJQOq4KAnBdz+sfiPJ3bOYn8fsykyVWMfiN3BOzckS+QDMzKe7OW/88aqQzsfE5kH1fvGjeQ0wADodmVGwOeiMsUqHrGOnS4UFy9P/wAEojkEnI+IqOIJQNLgpCXhcmLAtD/D+kgQE235L93tj+YBqgTX9BiCeW/NedT4AmQ+YkU/3sbzxBymQuZhm8g1T+QbV+wWFdjKO/Te2mEFNlCb6gPF708VJ1TXHgKd91GnZpDfi1k/gM2vqU3DUnCuBmNQe3P9vw6pe229KOvB0K1k+ZS+rnrfM2AlA3JMZtah/EZKZT3drxuDz1O/yxAwu9JgJxr3lQfR+8aa8Buy/wdWQZAVl+ZzCrG3q9c/YrkmHy3IRYryAAqAkEBIlopJxNNUbER+fA/H+/+AAdP9PmS9dazicJybm7mlB8nR2dI1HvgVkOlZGPt2nM29GCamcGZjAwlQ+vvrV+8X/zGsAAUiLVPp/wd+zaTMFWw+/kAA0GQQnpCw5mDsAMIrcRB5mC/+MAffTwgfwKY2KfmCZ6ZIkUShrxXxBX4yYaV8Hzmcn13jUA8CMfDqWYeQcSkhVOl8U6uxH7xekrsg49h8oiCENgC5TUG5vKxxT8f2aRtOtcAKQ1s8soPuOVUIwpchNlEEIOyNSIrrvv3hwnckWIZPZsnbcDyzTpvg3lU8mpZQqozyfK74aj3wAKh1LgrsD5tMxiz/nkGD1sHq/YNFOxkEAcuW7oqmXlisuQOT7VV2jwi/kTgj1RkoZhBje8Z83SCAEEJZW0C3gff8tADCt4VASaWIBK0HI9q8BF5yUAMzIp8tNx5Jg9bB6v/jdDPSRns0BWIZeUitIo9IhHmhXTvzCPQddccnZ76U1V/IvC4SBCFyg26DFNg7c++Mhhb6qiCikT7WVUmr6lYn2nRKyrdZ51GMBlZIc07GUBdMjny6XCiUmpA6j94vMZbgBMFo552pu27PXAqXTyAUQcitOQjAm9xX0N9pIwIPmSCmH5QuPqER0L4kDYgp9zOUL6fYxkbZcFceyAreAF3GlV+NRDwAz8uksnT3jiILVSmpWNlhMze+k94vMZfgGAPJeHDjpCrgM01Tdry9OzvmYAzAqLVWIwEShwzbRwwSEn+MqP6bQK5tZlWyhjCCCsC19Xv7gOnBRbgp7cu/5AOyVjqVMmA75dJZ9nHF0yohWNlhMxKnS+0XmMtwAmFq4imnYbrEqNJPc+9kfd62RKh0On8qV9hXZ9askEPgAfI56ziocUgVbzGT28lEtRMoKtg7lBHtznfZNA+CQ+XQWM8k4uglWK/NLYKzS+8U9GReXD0g/Tyvh4Ne17Yb4Zbr6g6y7/aNWcoPpjKRTsJIags5IJwkEAv6en05S6GUBfRWsUExZyVZVQCQwrgN7Wfdd41GPBczIp8ODeXfTSbBa6YYxlY8/p3q/udc3C+jTbtvqt2oadnB2m4oNgMn0W0p+hYWHWbwg9yU/0Kb9EIy+5y2hiCit4UgKyTeAkN8Valk4Le/ldlONRz4AWWBRM6fdIPfHstw/G+SE5rMnVQ/kA5AkLHS0ak7V7reXfhgACaBqDtD3e/nmc5k9kA/A80JReq+U38zGVp3ObJo/BvAOD3dtwiWar9zEHsgHIGlFubqSx7+Jja36anLLcDvvgwA+NDpDfILv+qlzuXwAXuSjrkKemlO2e3U1uWUYnL8dwB/5e2apca9LNv+vsQfyAUheX4VguB+mzIsaG9ntqxhF4Xbe3QD+n7/uHLAW9wQ1tblMRQ/UA0CaHC7plXEh+q4T0OWcfhleYTSHBK0EH/mi+fcRuKQn4I6fWpeoB4AevCz3HOOm9yb3F5mBlZBNclYCj1aRfyfrbgPCTR6AzK+vD4CyglX7jpmN7HY66d1E0ctdIrEEE4wEIMlam+Pk7YF6AMj7EwAVbU82vTerCwhAXopJN9zVI+AYrOeULLZgErY2x8nZA/kAJGWr0naUWdFpy2cT+oCWjpdjLFxE5UzYIBBpEUX5nLnlvAktb76SPVAfAOUHpiAMm96bsVtCAMaKALICMyxDq6cXfycA+b/mOLl6oF4AiqBRIEzBp7/X2Af0+fi1XIioMIlAI+AIPIGPmeROWV3j1Zuvyu2B+gHoFfZiDS2lC0LiY52WUADkQoTTMH1BFSYRdHoRfKSu5v9qrizMHYPT+vx6ARhSuDcAzzmDo5ZGHT1PAKYMwQxME2jiSo/gEwBrrq+u41ZOy++oD4BaCcsXTPiSI3ey8s4KGoG8QwCMFM+0ggQhLR0BF19SXuD/ayakz7uR0/TsMcxg3SjfqWNA0hsrga/ojaq/8WPcC+YIk4Ke4CMSuB2XVht1Oj8zIfXlU8BtU8DhmYRXWdfrdF1fgr3+S8At48CD04DVjXQSDO70PTUnaJ5uOCwsIIFHSSFy1pKPWCDsZxCpw8UVgKSPxLXM937OzxxAljzcPAbcswU4Qh4V3UN8mKoeKm/bu78IfKJQa8VD48CylHQiL3O3/qg5Rf30BKACMtJXjXKQcfBSK8Dfqc3KVCwuN2VFGRnm/yKZtq4Re5ifyQQgM2A+BeB3GHaZBo5MAIue0l7Kt3cC4xhw+5eL7TuCkJk1jBtyerbUfYG5ExjZ/pqrxE5fAOrOq5SmowVIrRp1IyT2R6+fg0bgVYG4CsyZe2UsaiOGKXr4Sfp9k8CxCYAFSKyvXeY1o1BxQux91yMtfsHPutgnnyUuUvhc0ZsgUXib+nVkq6+ZKaABIHsgVZnuwD9sVo66rrR4ImdhLGSQ8zPL/JgBQxeU1ouWkO9PTgDzbgmXxrzMkatl3keivfG5x4r4IRcz5BfkO5vEZ0kgpIfBZ8yKjlL17syy0tMNcOn9dl4Fy6dLFabj1Mpvow9Ify+I4Nlo9Xt+ZqU9VdJpqZh4QDDyxUyYOYJwHDg+DhgI/WUVZl7aSEt93+GO9Ia2iuZKOfA7lhp9JpvAVy61w2mOwO5hmCgMHC1H9O24gu6UD9jP+ZmbtLRaSsei9SL4XDPbAEh/kGQ/pSUcc0lbApFWb67lQUhpVnLBsoKqqZclFMmUtrxPcwxl3X7vOCAtYLSCcugFQmqhdssH7HU+RznjiOlYXA8wqkOfkItTAom+oKygca4ES8jY+N3z7fSG4hfUtp3ihUHruVSsFy1iRvNP+1N7A5BdJACmVpAgZPhGOyCigEjlPLudn7kvFtOxuB4g6OjD8UWLRkCZFRwrLCEXJQQhp2K+37lQeBCRX1A7KPQto1prFEmSYn2mB9EAsO+kYfk8KQhZF8yjVz5gp/MztyOUjiW9bCUhEBhKRCCgSis45uQ/PhX/xfFWMgOnWu2gxB0TF/o0kEZ/kCDM1Ts+3RHYnwVUL6XhDFrAswfIB6w6P1MrTulY0sum1VICglKwCEACqvQFCUK3gHcsFQCM/ILayqP1k9JshVqrncMalOYYvgcGAyCvIwuod8YBJQmZpmGJeyRwkGw4n8jJOJQNw3idLFhMRNB0SgASTJyKoy/4ieXCeFfJBUeV2SoAclFyR0bbm1OHTUiN0/DTAwD7zQeM52dqj8VsGEkVE2jKetG7AEhQ0frJAv6RC0trC1skl+IWlNinGLbSaZg7Mc0xfA8MbgF1LQV1z08A2G8+oM7PVF9Ms2GUE0gQyp+Lwu2yagLgR9ZaYpkSypQ6a6Q2DCqzpkvietXIFdoZfuieGmcOD0DeP0HEbBhNwYPmA/L8zJQsATAKnguEqS+XTqkE4YfWWwCUFZTksYAYwZfIBeN9Tw0cjOwu8gDIZqsoSSvhEeQDiiGYFoyWiSDRypWgi69UP5sc5fIcquSCNeXqe2X9ZAHfM7Khe2pcOB+AT41+aO5iRD3QAHBEHd9ctuiBBoANEkbaAw0AR9r9zcUbADYYGGkPNAAcafc3F28A2GBgpD3QAHCk3d9cvAFgg4GR9kADwJF2f3PxBoANBkbaAw0AR9r9zcUbADYYGGkPNAAcafc3F28A2GBgpD3QAHCk3d9cfOxqYJ2au9RdPtdp/khoEOlglDYT39V1PzQFXLsMXAlgt9PCxJKPbufyf8/KHIPfBPAZABf79Xc5XQ0ZQ1Q7360NbxoHrlsDvs5ZRsgo0une06by6X1mZvtP99PNAp4F4LsBXA5gjw8EGTeqaGF4QhzQF80CX7cAvGIdeDYAfhdZ2sTKUcVrpE7nd31N5gj8e2dIo2osk7NZpMdK0Z19tv+bJ4F9K8D1ACj8yfNSikHeg+5Z969m57Y/8/ZP+dPLKZhP/rcA+AYAF7g1oRUhEMUzFMt6eSJfX78b2DkPfM0i8GIAX+uWlAMppreUUErn8p2gzTl+2flg/sDbTkvIOik+CP20//mzwAXzwDcCuNTPJeFXpEpM6QEjIHm/zTF8D7T5gATYNQCe69aAloRTGulfBESBSYNyxR5g/Bhw7hKwZwl4vk9LnM5JmsBzUyDGAX3B8G23Mz/g9BuUa/0IiutfMkj7zwKmngAuXSvOpUvAWYBtF4BTnspIj/O8zPaf7qdvWITw6eZA0JLQEhKEGgxZhUj/dz3NzSKwbR44exnYvVKcy+mM5Km0JhxInUtrGkmzCPicg3W5LMGkQiZZTm9xS9Z3+4m2o8C5c4X15pTKW2Lb+fCx7WLtjYxzqiql29Icw/dA5SqYf6RTTilg+lYCIXmICKQ4IK9wxfSJY8AZK8CuFWDnanEua9ZTAMsaCog3Dt92O/MvnRGBtGwkqKRmMEkqCaa+2k+0LQDTh4rP88UHj74kF1WaATo9QHQ7mmP4HugYhtEKj4PB6ZQ+FS0hQahpldPya1kXTOqNY8DscgG+HavAttUCvBxInitrkgL4lcO33c7spBdM3kAuSnq2nx9gQfAh4JyVwvrxwel2z3p4aMlzH6DM2z/lT+8aB+Q/OT4EEqckWQSBkGD6EQKQnDCLwBSnYgcf32fXioGUFawC4esyu7CXXnDP9tOCsyD4KLB1rmgvX7zfbu2WG/Jtme0/3U/vKxBNAMoi0KcjkATCN3HOEr3UAjDrwOP71rXixYEkeKMFlSX8ocwR6KUXTJ7AaNE2tF8WfA4Ye7Kw1mwvX/yZn+eKnvcrfzC6IK/ObP/pfnpfAGQnySoISBqUXyAASS1AK0JfagWYcRDOrAF66TxZQU7jBOEbM0egH71gcgXSFZAV54NQtj9YcNIpbONCyh8Ygi8CVospApDuB63g92W2/3Q/vW8AsqM4gLIKBBIH8bcJwMCNMX68BTqBb8s6sGWtsIA6jwDk662ZI9CvXjA5A6NVa2t/IAicnC/aGV+8T74IQPm/AmGuBc+8/VP+9IEAyLslAKMV/LgAyIUInfnjwPQqMOOgI/DstQ5Mr7UAqMF8V2YXDqoXXNl+EQQ6N9v29aKdesUpWJZbAPyPme0/3U8fGIDssDid/pUASCvCaXgJmFguAEfgEXT27gDkuwaUg/nbmSMwjF7whvbLhSDL5TwwvdRqo9oqHzACkCB8U2b7T/fThwIgO01T1IMCoAZxGRhbKoAXQUcQTjkI+a4B5e5FzjGsXvCG9gdqrLGFYrpVG/UuHzBOw2/LaXxzbh43DKeoJwlAHqLndSs4udoCoIBHQE45EPk3DuitmYOQoxdctp8+rFwIWsGFYiFFoLGNchcEQC6e+OJC5J2Z7T/dTx/aApYdJ37AyJK/DIwvFxYvWr0IwEn/H1Opco5sveDUhSAAF4HJpQJkWixp6k2n4IYfMGf0amDHev2I8+l4/UbvNw8Eozw72wJePOJ8und7EkKj9ztKGA1/7WwATo44n45pWI3e7/AAGPWZ2QBkYHCU+XTMfGGQmYIxjd7vqOE0+PXzATjifDrKtTZ6v4MP/MlyRj4AR5xPF+VaqZLJF1UzKdPV6P2eLDDr3I58AI44n07ZMARbo/d78gMubWE+AEecT8e9YOn2Uheu0fs9tUCYD8AR59MpG6bR+z21gKfW1gNAz4geRT5dTEZo9H5PPRDmAzBmRM8BJzqfLiYjSKKr0fs9dYBYDwBHmE9XtRfMsIz04aQZ1+j9npygrA+Akqs8wfl0BCCTWRq935MTYL1aVQ8Ao1zlAnAi8+kEQGZTNXq/vYb75Pt/fQAcUT5dBGCj93vyAaxXi+oDoFLyT3A+3Rcavd9eY3xS/z8fgCQX/LPR3SOzkon55jg1eyAfgD8M4NcAPD6aDmBtB1e4NMDNcer1QD4AbwbwxwDe4UvRE9wHZG1gNSXDLlwLNcep1QP5APxzzwj9IIAPnXhT5ORc5EYCA9HNcWr1QD4AmRH6FQBMTSZZH98ZmD5Bh5g1FopiNns1x6nTA/kAvAfAEwDudnI+EvQxPfkEzYfaCXRSBluQMB7YHKdGD+QDsBNBH/9+AkAobqTADGK7Inw1x8nfA/kA7EXQt8kgrGAGMfBxZ5Cv5ji5eyAfgL0I+r68uR0QmUFoBQU8vfNvzXHy9kA9AORoMw7CdGQCjoUZDwL4kv/+8OZ1gJhBIjGDgMh3vTavBc035/RAPgD7JegjODfhiMwgoqeJwNPPTaB6Ezq/hq+sB4AcXeXEP+ZhGVo9vRimIQD5v5oPAZCupgDI9wg8/qz/1Xz55usyeyAfgMMQ9GU2Op4eAchpOIJQQEz/VuPlm6/K7IH6AMjgGzdl6QtyX5jWjpQFevF3lq3xf6yhrOlIAUgQCojR8gmE+l9Nl2++JrMH6gEgR5UA5KYsc+AZmCbQCDi+IvgEQMob1XBEAHIajgBMLV+0kCdws6aGu3zqfkV9AGTwjftg3JRVVRAtHQEXX/wbAcoXP5d5CID8GoJKvqDAloKOoIz/y7x8c3pmD4zhaqwjRzCYyQg5gr2ZgsFTLweWr8XQgsXjbwLWrnNtMlKgNoLBmZAa7PTCAuYIBlMvlWQswwr2UlUw45jdDSx8HbD+Ctd+HVCwePKbgJV9aASDM8Yg59TWFDysYPBtmYK91IbNOHaPA/M7gUXKXA4hWDz79cA8+W0aweCMURj+1HYfcBjBYO54MMY3tGDv8I3nmWSHOzYOLJ0LLPGXAQWLz3oB8MQUsEa16kYwOG8whjh74yJkUMFgbsNlCfYO0epwissVY34bsHw2sEIRkAEEi/dcU0SP5qhF1ggG5w3GEGdXr4L5134Fg4kAjuDQgr1DtDqcUmZETwArZwAru4BVqsv0KVh8/o3F4v0QXZBGMDhvMIY4u3MYhv95Zh+Cu1xBcxuOU/HfeDIq5cv7FuwdotXhlCBXjOXZAnyrO4BV6in0IVh8wStLuWCsUAyvEQzOG5ABz+4eB+R/ewnu/kOP/3G/l4kJTERlljQtIot2e53/IwO2OPl4FLtcnCqAp9cahT56CBZf+LpSLhhz1N5qBIPzBmTAs/sLRHcTDKbiNHdBGGymOC/3hglEvgjAnoK9A7Y4+XgiV4zVWYDAs/etxaubYPFFP1QkLtCIP8neaASD8wZkwLP7AyC/tJNg8L/xLNBu+YBdBXsHbHEFAINcMVamgdWZAoRrfPdXm8KitLdmgYveWAq+2y7iMqfuRjA4b1AGOLt/APJLqwSD3+y5T1yI0AoSbAxMMzGV1o8/My2ro2DvAK2t+GgiV4zj4+3AIwDXtwBrVJeuECze+9aW4Dut4PxkIhYsdetGMDhvoDqcPRgA+SWp4O4veQ5Uv/mAGwR78+6rQq4Yq9PAOi2fA4/vBkKudKVU7VZw77uKvWFuZbtcMNb5v0YwOG9g+jx7cADyi6Pg7gccgIxlcA5TKhaD01yYKBmVFpBZMfx/m2Bvny3t8LGqoqTliZbVI+gMgHwnMAnCIFi897cLAAZ6QyzFzzSCwXkD1OPs4QDIL5XgLmk5JHk/SD5gKdibd38VcsVYGmuBTaAzEHLHgyCcaokB7/1IkUET5IKxwF5pBIPzBqbPs4cHIC/AaeqvPL9pmHxAE+zts6VdLCD/lcgVY3UyWD0Bj1ZwqgCggXA7sPfWAoAJvaEtZBrB4Lyx6efsPADyCtmCvf00s/NnOsgVY3m8BTRZPZuGBUACdArY+5lWDqGmYbIrLHEx0ggG5w1OH2fnA7CPizQfaXqgUw80AGywMdIeaAA40u5vLt4AsMHASHugAeBIu7+5eAPABgMj7YEGgCPt/ubiDQAbDIy0BxoAjrT7m4s3AGwwMNIeaAA40u5vLt4AsMHASHugAeBIu7+5eAPABgMj7YEGgCPt/ubiDQAbDIy0B8ZYNMbkX+ZekpuIiOQrPar+xs889HJg6jZg5jAwvVZ8B+ll9PlO5/Fc/o+ECjnHfi8zYfkvM5ulmp4qJXVqx5deD4zfAkw/CGxdAZgoHfuh131QkaI5hu8Bs4Ds8B0AWLnIRGCBsFfn87JffDMwdjOw5R5g8giwZa34jnQQUwDo99wBfJ4TM7COiNdlaj2rA/jeV/vfDeATAP4UGH8I2Lrc6gc+SHqY4oMZ74VSKM0xfA+UUzB/oBUUCKMl6zSQ/PsXqZD5KQC/A0w/DEwcAcYXgYnVwppwADuBkefnCim90FmBWXwnK87Uen53BI8sbuwqaz9p5UgnQhBS+ZN1zE8Ak0utviCwq8DI8/nx5hi+Bzb4gJzKZE1SEFZZgS9/2pWR/gTAJ4HJQ8DEMWB8ARhfBsaWCwDquwQKvvNgHXvOcYVbPFJPkw+dDxC/W1Y4tWDpw/Rlgo4lo1T4/KxTihDNpJwj3/UiMLXemprjffC7eWpzDN8DlYsQDiKtVxzEqoHkyX9HRizW+nIgaQnvAiaeBCbmC0s4tgSMu2rMePAR9X252jXklaTFU108K0MHav/nvJ6ZxVVk9OI7GR2IZoGQNc/HgbHgIwqILIVujuF7oOMqWFawCoRxkfEIB5CWgkREBCNf9wMTc8A4QciBWyoGz16rwNgaML5eWKpctYZL3N+TWLX0gvtuP0HHk2n16JDyxXmVhfU0qywbJbr5GSuXKxA/sV5Y9UYWdnjwyS3qKKgarWA69Wg6fjQOIK0HadnIjPVFB+AiME4AuiUkCFnESyCSkmAuU7Cjm15wX+2X2ifBRn9A8mKcW2UFjULVQcgVDl80u40SYh763FfvquhLCxitoBYUsoJfjXKttByMq9CKcHn4sPuCbgXNJwyWkECcz5Q376UX3LNncZyQAAADEklEQVT9fFgIJs6lBBwtn3Tt6FpIz4RWnuQxPh2XIGzm4CwQ9hWIFgBTK0gQHiIAJddKq0ELQh+KL1qUR4MvSEsoENIKrgALHNiMox+94K7tl9qnnMio8MSf6SNwGpYVjCDk/Ju7isq496fCqX0BkDeqlWwKwic1gAQSpzGREnFgREz01eALLvvq2Kfi45m6cf3qBXdsfxRbJMho8dimqOhEK8cXQRr9QVpvPoDNMXQP9A3ACELFxPh+jACkP0fLIKFCCRRqKuPUdqjlC9o07JZwKVNHeBC94DQcZO0XAAkmgotAk9QYrR9f/BvByYfMSATDVMzwTXMM3QMDAVAgVHCZ7/MaQK4QZUHiNCbBQlqUw74YCb7gcmYkelC9YFlwvVv7RRAorTuBkECU9asCID9/x9B935zYzyKkqpfiNHxcA0gLQgvBAaPVkCqm3h2AtC5m/RyEqzw/4xhGL3hD++MmslgqCbgUfLKAcRrmTlBzDN0DA1tAXUlWcDm1IOIIJAjlT/Fd05lbFQFwjdtgGcewesFt7Rc/Gx8iWjUCjGCT1YvWT1MwgUqrf3NG45tTbcu0aximWx9xENcEQHGbcYAEwtSXSqY0gnCdgeuMI0cvuGx/FUGgFhwEYrR80QckWN+X0fjm1DwAWv8RgJFilJZBznz0pQg+AZAAlVWh1GvGka0XzB0cCQi30aSGVa9AF62fLOB7MhrfnJoPwPER59Px+o3e76mL5Kwp2G57xPl0kxc3er+nLvyKtLmhfUC78RHn081ONnq/pzcAR5xPR9mRRu/31IVgvgUccT4dNaobvd/TGYAjzqejumqj93s6A3DE+XRUg2VSCjdaGr3fUw+I+VPwiPPpqJjO8J1Nw43e7ymHwHoAKMFd7QErAeEE5NNJMb3R+z3lsGcNzgfgiPPpomJ6o/d76oGwPgCOKJ8uKqY3er+nKwBHmE+noqRG7/fUA199U/AI8+kEwEbv93QHoEhZTnA+nYqSGr3fBoAtaiqBUImdm5hPJwA2er+nKwBHnE+X1gUzSbnR+z11wPj/AeCpPDD3t7rvAAAAAElFTkSuQmCC"}}]),n}(Ut),re={LOW:0,MEDIUM:1,HIGH:2,ULTRA:3};var ae=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(G.a)(this,t),this.width=e,this.height=n,this.data=i}return Object(W.a)(t,[{key:"toCanvas",value:function(){return"undefined"==typeof document?null:(t=this.width,e=this.height,n=this.data,i=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),r=i.getContext("2d"),(a=r.createImageData(t,e)).data.set(n),i.width=t,i.height=e,r.putImageData(a,0,0),i);var t,e,n,i,r,a}}],[{key:"from",value:function(e){return new t(e.width,e.height,e.data)}}]),t}(),oe=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(G.a)(this,t),this.x=e,this.y=n}return Object(W.a)(t,[{key:"set",value:function(t,e){return this.x=t,this.y=e,this}},{key:"equals",value:function(t){return this===t||this.x===t.x&&this.y===t.y}}]),t}(),se=function t(){Object(G.a)(this,t),this.min=new oe,this.max=new oe};new se,new se,new Float32Array([0,-.25,.25,-.125,.125,-.375,.375]),new Float32Array([0,0]),new Float32Array([.25,-.25]),new Float32Array([-.25,.25]),new Float32Array([.125,-.125]),new Float32Array([-.125,.125]),new Uint8Array([0,0]),new Uint8Array([3,0]),new Uint8Array([0,3]),new Uint8Array([3,3]),new Uint8Array([1,0]),new Uint8Array([4,0]),new Uint8Array([1,3]),new Uint8Array([4,3]),new Uint8Array([0,1]),new Uint8Array([3,1]),new Uint8Array([0,4]),new Uint8Array([3,4]),new Uint8Array([1,1]),new Uint8Array([4,1]),new Uint8Array([1,4]),new Uint8Array([4,4]),new Uint8Array([0,0]),new Uint8Array([1,0]),new Uint8Array([0,2]),new Uint8Array([1,2]),new Uint8Array([2,0]),new Uint8Array([3,0]),new Uint8Array([2,2]),new Uint8Array([3,2]),new Uint8Array([0,1]),new Uint8Array([1,1]),new Uint8Array([0,3]),new Uint8Array([1,3]),new Uint8Array([2,1]),new Uint8Array([3,1]),new Uint8Array([2,3]),new Uint8Array([3,3]);new Map([[ue([0,0,0,0]),[0,0,0,0]],[ue([0,0,0,1]),[0,0,0,1]],[ue([0,0,1,0]),[0,0,1,0]],[ue([0,0,1,1]),[0,0,1,1]],[ue([0,1,0,0]),[0,1,0,0]],[ue([0,1,0,1]),[0,1,0,1]],[ue([0,1,1,0]),[0,1,1,0]],[ue([0,1,1,1]),[0,1,1,1]],[ue([1,0,0,0]),[1,0,0,0]],[ue([1,0,0,1]),[1,0,0,1]],[ue([1,0,1,0]),[1,0,1,0]],[ue([1,0,1,1]),[1,0,1,1]],[ue([1,1,0,0]),[1,1,0,0]],[ue([1,1,0,1]),[1,1,0,1]],[ue([1,1,1,0]),[1,1,1,0]],[ue([1,1,1,1]),[1,1,1,1]]]);function ce(t,e,n){return t+(e-t)*n}function ue(t){var e=ce(t[0],t[1],.75),n=ce(t[2],t[3],.75);return ce(e,n,.875)}var le='!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}var n=function(){function t(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e(this,t),this.width=a,this.height=n,this.data=s}return a(t,[{key:"toCanvas",value:function(){return"undefined"==typeof document?null:(e=this.width,t=this.height,a=this.data,n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),s=n.getContext("2d"),(r=s.createImageData(e,t)).data.set(a),n.width=e,n.height=t,s.putImageData(r,0,0),n);var e,t,a,n,s,r}}],[{key:"from",value:function(e){return new t(e.width,e.height,e.data)}}]),t}(),s=function(){function t(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e(this,t),this.x=a,this.y=n}return a(t,[{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"equals",value:function(e){return this===e||this.x===e.x&&this.y===e.y}}]),t}(),r=function t(){e(this,t),this.min=new s,this.max=new s},i=new r,y=new r,c=16,u=30,h=new Float32Array([0,-.25,.25,-.125,.125,-.375,.375]),o=[new Float32Array([0,0]),new Float32Array([.25,-.25]),new Float32Array([-.25,.25]),new Float32Array([.125,-.125]),new Float32Array([-.125,.125])],w=[new Uint8Array([0,0]),new Uint8Array([3,0]),new Uint8Array([0,3]),new Uint8Array([3,3]),new Uint8Array([1,0]),new Uint8Array([4,0]),new Uint8Array([1,3]),new Uint8Array([4,3]),new Uint8Array([0,1]),new Uint8Array([3,1]),new Uint8Array([0,4]),new Uint8Array([3,4]),new Uint8Array([1,1]),new Uint8Array([4,1]),new Uint8Array([1,4]),new Uint8Array([4,4])],x=[new Uint8Array([0,0]),new Uint8Array([1,0]),new Uint8Array([0,2]),new Uint8Array([1,2]),new Uint8Array([2,0]),new Uint8Array([3,0]),new Uint8Array([2,2]),new Uint8Array([3,2]),new Uint8Array([0,1]),new Uint8Array([1,1]),new Uint8Array([0,3]),new Uint8Array([1,3]),new Uint8Array([2,1]),new Uint8Array([3,1]),new Uint8Array([2,3]),new Uint8Array([3,3])];function f(e,t,a){return e+(t-e)*a}function l(e,t){var a,n=t.min,s=t.max,r=.5*Math.sqrt(2*n.x),i=.5*Math.sqrt(2*n.y),y=.5*Math.sqrt(2*s.x),c=.5*Math.sqrt(2*s.y),u=(a=e/32,Math.min(Math.max(a,0),1));return n.set(f(r,n.x,u),f(i,n.y,u)),s.set(f(y,s.x,u),f(c,s.y,u)),t}function b(e,t,a,n){var s,r,i,y,c=t.x-e.x,u=t.y-e.y,h=a,o=a+1,w=e.y+u*(h-e.x)/c,x=e.y+u*(o-e.x)/c;return h>=e.x&&h<t.x||o>e.x&&o<=t.x?Math.sign(w)===Math.sign(x)||Math.abs(w)<1e-4||Math.abs(x)<1e-4?(s=(w+x)/2)<0?n.set(Math.abs(s),0):n.set(0,Math.abs(s)):(r=(y=-e.y*c/u+e.x)>e.x?w*(y-Math.trunc(y))/2:0,i=y<t.x?x*(1-(y-Math.trunc(y)))/2:0,(s=Math.abs(r)>Math.abs(i)?r:-i)<0?n.set(Math.abs(r),Math.abs(i)):n.set(Math.abs(i),Math.abs(r))):n.set(0,0),n}function A(e,t,a,n,s){var r=i.min,c=i.max,u=y.min,h=y.max,o=y,w=.5+n,x=.5+n-1,f=t+a+1;switch(e){case 0:s.set(0,0);break;case 1:t<=a?b(r.set(0,x),c.set(f/2,0),t,s):s.set(0,0);break;case 2:t>=a?b(r.set(f/2,0),c.set(f,x),t,s):s.set(0,0);break;case 3:b(r.set(0,x),c.set(f/2,0),t,u),b(r.set(f/2,0),c.set(f,x),t,h),l(f,o),s.set(u.x+h.x,u.y+h.y);break;case 4:t<=a?b(r.set(0,w),c.set(f/2,0),t,s):s.set(0,0);break;case 5:s.set(0,0);break;case 6:Math.abs(n)>0?(b(r.set(0,w),c.set(f,x),t,u),b(r.set(0,w),c.set(f/2,0),t,h),b(r.set(f/2,0),c.set(f,x),t,s),h.set(h.x+s.x,h.y+s.y),s.set((u.x+h.x)/2,(u.y+h.y)/2)):b(r.set(0,w),c.set(f,x),t,s);break;case 7:b(r.set(0,w),c.set(f,x),t,s);break;case 8:t>=a?b(r.set(f/2,0),c.set(f,w),t,s):s.set(0,0);break;case 9:Math.abs(n)>0?(b(r.set(0,x),c.set(f,w),t,u),b(r.set(0,x),c.set(f/2,0),t,h),b(r.set(f/2,0),c.set(f,w),t,s),h.set(h.x+s.x,h.y+s.y),s.set((u.x+h.x)/2,(u.y+h.y)/2)):b(r.set(0,x),c.set(f,w),t,s);break;case 10:s.set(0,0);break;case 11:b(r.set(0,x),c.set(f,w),t,s);break;case 12:b(r.set(0,w),c.set(f/2,0),t,u),b(r.set(f/2,0),c.set(f,w),t,h),l(f,o),s.set(u.x+h.x,u.y+h.y);break;case 13:b(r.set(0,x),c.set(f,w),t,s);break;case 14:b(r.set(0,w),c.set(f,x),t,s);break;case 15:s.set(0,0)}return s}function v(e,t,a,n){var s=e.equals(t);if(!s){var r=(e.x+t.x)/2,i=(e.y+t.y)/2;s=(t.y-e.y)*(a-r)+(e.x-t.x)*(n-i)>0}return s}function k(e,t,a,n){var s,r,i;for(s=0,i=0;i<u;++i)for(r=0;r<u;++r)v(e,t,a+r/29,n+i/29)&&++s;return s/900}function U(e,t,a,n,s,r){var i=x[e],y=i[0],c=i[1];return y>0&&(t.x+=s[0],t.y+=s[1]),c>0&&(a.x+=s[0],a.y+=s[1]),r.set(1-k(t,a,1+n,0+n),k(t,a,1+n,1+n))}function d(e,t,a,n,s){var r=i.min,c=i.max,u=y.min,h=y.max,o=t+a+1;switch(e){case 0:U(e,r.set(1,1),c.set(1+o,1+o),t,n,u),U(e,r.set(1,0),c.set(1+o,0+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 1:U(e,r.set(1,0),c.set(0+o,0+o),t,n,u),U(e,r.set(1,0),c.set(1+o,0+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 2:U(e,r.set(0,0),c.set(1+o,0+o),t,n,u),U(e,r.set(1,0),c.set(1+o,0+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 3:U(e,r.set(1,0),c.set(1+o,0+o),t,n,s);break;case 4:U(e,r.set(1,1),c.set(0+o,0+o),t,n,u),U(e,r.set(1,1),c.set(1+o,0+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 5:U(e,r.set(1,1),c.set(0+o,0+o),t,n,u),U(e,r.set(1,0),c.set(1+o,0+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 6:U(e,r.set(1,1),c.set(1+o,0+o),t,n,s);break;case 7:U(e,r.set(1,1),c.set(1+o,0+o),t,n,u),U(e,r.set(1,0),c.set(1+o,0+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 8:U(e,r.set(0,0),c.set(1+o,1+o),t,n,u),U(e,r.set(1,0),c.set(1+o,1+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 9:U(e,r.set(1,0),c.set(1+o,1+o),t,n,s);break;case 10:U(e,r.set(0,0),c.set(1+o,1+o),t,n,u),U(e,r.set(1,0),c.set(1+o,0+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 11:U(e,r.set(1,0),c.set(1+o,1+o),t,n,u),U(e,r.set(1,0),c.set(1+o,0+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 12:U(e,r.set(1,1),c.set(1+o,1+o),t,n,s);break;case 13:U(e,r.set(1,1),c.set(1+o,1+o),t,n,u),U(e,r.set(1,0),c.set(1+o,1+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 14:U(e,r.set(1,1),c.set(1+o,1+o),t,n,u),U(e,r.set(1,1),c.set(1+o,0+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 15:U(e,r.set(1,1),c.set(1+o,1+o),t,n,u),U(e,r.set(1,0),c.set(1+o,0+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2)}return s}function g(e,t,a){var n,r,i,y,c,u,h,o,w=new s;for(n=0,r=e.length;n<r;++n)for(h=(u=e[n]).data,o=u.width,y=0;y<o;++y)for(i=0;i<o;++i)a?A(n,i,y,t,w):d(n,i,y,t,w),h[c=2*(y*o+i)]=255*w.x,h[c+1]=255*w.y}function m(e,t,a,n,r,i){var y,c,u,h,o,w,x,f,l,b,A=new s,v=i.data,k=i.width;for(y=0,c=t.length;y<c;++y)for(x=a[y],l=(f=t[y]).data,b=f.width,h=0;h<n;++h)for(u=0;u<n;++u)A.set(x[0]*n+e.x+u,x[1]*n+e.y+h),w=r?2*(h*h*b+u*u):2*(h*b+u),v[o=4*(A.y*k+A.x)]=l[w],v[o+1]=l[w+1],v[o+2]=0,v[o+3]=255}var M=function(){function t(){e(this,t)}return a(t,null,[{key:"generate",value:function(){var e,t,a=5*h.length*c,r=new Uint8ClampedArray(160*a*4),i=new n(160,a,r),y=Math.pow(15,2)+1,u=[],f=[],l=new s;for(e=0;e<16;++e)u.push(new n(y,y,new Uint8ClampedArray(y*y*2),2)),f.push(new n(20,20,new Uint8ClampedArray(800),2));for(e=0,t=h.length;e<t;++e)g(u,h[e],!0),l.set(0,80*e),m(l,u,w,c,!0,i);for(e=0,t=o.length;e<t;++e)g(f,o[e],!1),l.set(80,80*e),m(l,f,x,20,!1,i);return i}}]),t}(),p=new Map([[q([0,0,0,0]),[0,0,0,0]],[q([0,0,0,1]),[0,0,0,1]],[q([0,0,1,0]),[0,0,1,0]],[q([0,0,1,1]),[0,0,1,1]],[q([0,1,0,0]),[0,1,0,0]],[q([0,1,0,1]),[0,1,0,1]],[q([0,1,1,0]),[0,1,1,0]],[q([0,1,1,1]),[0,1,1,1]],[q([1,0,0,0]),[1,0,0,0]],[q([1,0,0,1]),[1,0,0,1]],[q([1,0,1,0]),[1,0,1,0]],[q([1,0,1,1]),[1,0,1,1]],[q([1,1,0,0]),[1,1,0,0]],[q([1,1,0,1]),[1,1,0,1]],[q([1,1,1,0]),[1,1,1,0]],[q([1,1,1,1]),[1,1,1,1]]]);function C(e,t,a){return e+(t-e)*a}function q(e){var t=C(e[0],e[1],.75),a=C(e[2],e[3],.75);return C(t,a,.875)}function F(e,t){var a=0;return 1===t[3]&&1!==e[1]&&1!==e[3]&&(a+=1),1===a&&1===t[2]&&1!==e[0]&&1!==e[2]&&(a+=1),a}var D=function(){function t(){e(this,t)}return a(t,null,[{key:"generate",value:function(){var e,t,a,s,r,i,y,c,u,h,o=new Uint8ClampedArray(2178),w=new Uint8ClampedArray(4096);for(t=0;t<33;++t)for(e=0;e<66;++e)a=.03125*e,s=.03125*t,p.has(a)&&p.has(s)&&(i=p.get(a),y=p.get(s),o[r=66*t+e]=127*(c=i,h=void 0,h=0,1===(u=y)[3]&&(h+=1),1===h&&1===u[2]&&1!==c[1]&&1!==c[3]&&(h+=1),h),o[r+33]=127*F(i,y));for(r=0,t=17;t<33;++t)for(e=0;e<64;++e,r+=4)w[r]=o[66*t+e],w[r+3]=255;return new n(64,16,w)}}]),t}();self.addEventListener("message",(function(e){var t=M.generate(),a=D.generate();postMessage({areaImageData:t,searchImageData:a},[t.data.buffer,a.data.buffer]),close()}))}();\n';function he(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=URL.createObjectURL(new Blob([le],{type:"text/javascript"})),n=new Worker(e);return new Promise((function(i,r){n.addEventListener("error",(function(t){return r(t.error)})),n.addEventListener("message",(function(n){var r=ae.from(n.data.searchImageData),a=ae.from(n.data.areaImageData),o=[r.toCanvas().toDataURL(),a.toCanvas().toDataURL()];t||void 0===window.localStorage||(localStorage.setItem("smaa-search",o[0]),localStorage.setItem("smaa-area",o[1])),URL.revokeObjectURL(e),i(o)})),n.postMessage(null)}))}var de=function(t){Object(H.a)(n,t);var e=Object(V.a)(n);function n(t){var i;return Object(G.a)(this,n),(i=e.call(this,t)).disableCache=!1,i}return Object(W.a)(n,[{key:"load",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};4===arguments.length?(e=arguments[1],n=arguments[3]):3!==arguments.length&&"function"==typeof arguments[0]||(e=arguments[1],n=function(){});var i=this.manager,r=new c.cb;return i.itemStart("smaa-search"),i.itemStart("smaa-area"),r.itemStart("smaa-search"),r.itemStart("smaa-area"),new Promise((function(a,o){var s=t.disableCache||void 0===window.localStorage?[null,null]:[localStorage.getItem("smaa-search"),localStorage.getItem("smaa-area")];(null!==s[0]&&null!==s[1]?Promise.resolve(s):he(t.disableCache)).then((function(t){var n=[new Image,new Image];r.onLoad=function(){e(n),a(n)},n[0].addEventListener("load",(function(){i.itemEnd("smaa-search"),r.itemEnd("smaa-search")})),n[1].addEventListener("load",(function(){i.itemEnd("smaa-area"),r.itemEnd("smaa-area")})),n[0].src=t[0],n[1].src=t[1]})).catch((function(t){i.itemError("smaa-search"),i.itemError("smaa-area"),n(t),o(t)}))}))}}]),n}(c.ab),fe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.passes={},e.camLightVector=new c.kc,e.shadowArea=200,e.groundPos=new c.kc,e}return Object(r.c)(e,t),e.prototype.create=function(){this.ts.composer.addPass(new Dt(this.ts.scene,this.ts.camera)),this.ts.qc.shadow&&(this.ts.renderer.shadowMap.enabled=!0);this.ts.scene.fog=this.ts.isDebug?null:new c.H(14079702,this.ts.effectController.fogDensity),this.light=new c.b(0,1),this.ts.scene.add(this.light),this.smaaEffect=new ie(this.ts.assets.getAsset("smaa").data.search,this.ts.assets.getAsset("smaa").data.area,this.ts.site.isMobile?re.LOW:re.ULTRA,ut.DEPTH),this.depthOfFieldEffect=new Zt(this.ts.camera,{focusDistance:.06,focalLength:.35,bokehScale:5}),this.ts.effectController.focus=this.depthOfFieldEffect.circleOfConfusionMaterial.uniforms.focusDistance.value,this.ts.effectController.focalLength=this.depthOfFieldEffect.circleOfConfusionMaterial.uniforms.focalLength.value;var t=new te({blendFunction:Nt});t.blendMode.opacity.value=.1,this.effectPass=new Xt(this.ts.camera,this.smaaEffect,this.depthOfFieldEffect,t),this.ts.composer.addPass(this.effectPass),this.registerOptions(this.ts.gui)},e.prototype.addPass=function(t,e){this.passes[t]=e,e.renderToScreen=!1,this.ts.composer.addPass(e),this.activatePass(t)},e.prototype.activatePass=function(t){var e=this;Object.keys(this.passes).forEach((function(t){e.passes[t].renderToScreen=!1})),this.passes[t].renderToScreen=!0},e.prototype.onRender=function(){this.ts.scene.fog.density=this.ts.effectController.fogDensity},e.prototype.onResize=function(t){this.ts.composer.setSize(this.ts.width,this.ts.height)},e.prototype.onSkyUpdate=function(){},e.prototype.onEffectsUpdate=function(){this.updateFocus()},e.prototype.registerOptions=function(t){var e=this;if(t){new c.t,this.ts.composer.getRenderer().capabilities,this.effectPass,this.depthDownsamplingPass;var n=t.addFolder("Circle of Confusion");n.add(this.ts.effectController,"focus").min(0).max(1).step(.001).onChange((function(){e.updateFocus()})),n.add(this.ts.effectController,"focalLength").min(0).max(1).step(1e-4).onChange((function(){e.updateFocus()}))}},e.prototype.updateFocus=function(){this.depthOfFieldEffect.circleOfConfusionMaterial.uniforms.focusDistance.value=this.ts.effectController.focus,this.depthOfFieldEffect.circleOfConfusionMaterial.uniforms.focalLength.value=this.ts.effectController.focalLength},e}(s),pe=function(){var t=ve,e=new c.Qb({fragmentShader:t.fragmentShader,vertexShader:t.vertexShader,uniforms:c.fc.clone(t.uniforms),side:c.h});return this.mesh=new c.ib(new c.l(1,1,1),e),this.mesh},ve={uniforms:{luminance:{value:1},turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new c.kc},totalRayleigh:{value:new c.kc}},vertexShader:"\n        uniform vec3 sunPosition;\n        // uniform vec3 mieConst;\n        uniform vec3 totalRayleigh;\n        uniform float rayleigh;\n        uniform float turbidity;\n        uniform float mieCoefficient;\n\n        varying vec3 vWorldPosition;\n        varying vec3 vSunDirection;\n        varying float vSunfade;\n        varying vec3 vBetaR;\n        varying vec3 vBetaM;\n        varying float vSunE;\n\n        const vec3 up = vec3( 0.0, 1.0, 0.0 );\n\n        // constants for atmospheric scattering\n        const float e = 2.71828182845904523536028747135266249775724709369995957;\n        const float pi = 3.141592653589793238462643383279502884197169;\n\n        // wavelength of used primaries, according to preetham\n        const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );\n        // this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:\n        // (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))\n        // const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );\n        // const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 0.993562911419845635E-5, 3.5265902468824876E-5 );\n\n        // mie stuff\n        // K coefficient for the primaries\n        const float v = 4.0;\n        const vec3 K = vec3( 0.686, 0.678, 0.666 );\n        // MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K\n        const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );\n        // const vec3 MieConst = vec3( 0.0399918514433978E14, 2.17798023919660528E14, 4.9790479543861094E14 );\n\n        // earth shadow hack\n        // cutoffAngle = pi / 1.95;\n        const float cutoffAngle = 1.6110731556870734;\n        const float steepness = 1.5;\n        const float EE = 1000.0;\n\n        float sunIntensity( float zenithAngleCos ) {\n        \tzenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );\n        \treturn EE * max( 0.0, 1.0 - pow(abs( e), -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );\n        }\n\n        vec3 totalMie( float T ) {\n        \tfloat c = ( 0.2 * T ) * 10E-18;\n        \treturn 0.434 * c * MieConst;\n        }\n\n        void main() {\n\n        \tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n        \tvWorldPosition = worldPosition.xyz;\n\n        \tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n        \tgl_Position.z = gl_Position.w; // set z to camera.far\n\n        \tvSunDirection = normalize( sunPosition );\n\n        \tvSunE = sunIntensity( dot( vSunDirection, up ) );\n\n        \tvSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );\n\n        \tfloat rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );\n\n        // extinction (absorbtion + out scattering)\n        // rayleigh coefficients\n        \tvBetaR = totalRayleigh * rayleighCoefficient;\n\n        // mie coefficients\n        \tvBetaM = totalMie( turbidity ) * mieCoefficient;\n\n        }\n",fragmentShader:"\n        varying vec3 vWorldPosition;\n        varying vec3 vSunDirection;\n        varying float vSunfade;\n        varying vec3 vBetaR;\n        varying vec3 vBetaM;\n        varying float vSunE;\n\n        uniform float luminance;\n        uniform float mieDirectionalG;\n\n        const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );\n\n        // constants for atmospheric scattering\n        const float pi = 3.141592653589793238462643383279502884197169;\n\n        const float n = 1.0003; // refractive index of air\n        const float N = 2.545E25; // number of molecules per unit volume for air at\n        // 288.15K and 1013mb (sea level -45 celsius)\n\n        // optical length at zenith for molecules\n        const float rayleighZenithLength = 8.4E3;\n        const float mieZenithLength = 1.25E3;\n        const vec3 up = vec3( 0.0, 1.0, 0.0 );\n        // 66 arc seconds -> degrees, and the cosine of that\n        const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;\n\n        // 3.0 / ( 16.0 * pi )\n        const float THREE_OVER_SIXTEENPI = 0.05968310365946075;\n        // 1.0 / ( 4.0 * pi )\n        const float ONE_OVER_FOURPI = 0.07957747154594767;\n\n        float rayleighPhase( float cosTheta ) {\n        \treturn THREE_OVER_SIXTEENPI * ( 1.0 + pow( abs( cosTheta), 2.0 ) );\n        }\n\n        float hgPhase( float cosTheta, float g ) {\n        \tfloat g2 = pow( abs(g), 2.0 );\n        \tfloat inverse = 1.0 / pow( abs( 1.0 - 2.0 * g * cosTheta + g2), 1.5 );\n        \treturn ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );\n        }\n\n        // Filmic ToneMapping http://filmicgames.com/archives/75\n        const float A = 0.15; // Shoulder strength\n        const float B = 0.50; // Linear strength\n        const float C = 0.10; // Linear angle\n        const float D = 0.20; // Toe strength\n        const float E = 0.02; // Toe numerator\n        const float F = 0.30; // Toe denominator\n\n        const float whiteScale = 1.0748724675633854; // 1.0 / Uncharted2Tonemap(1000.0)\n\n        vec3 Uncharted2Tonemap( vec3 x ) {\n        \treturn ( ( x * ( A * x + C * B ) + D * E ) / ( x * ( A * x + B ) + D * F ) ) - E / F;\n        }\n\n\n        void main() {\n        // optical length\n        // cutoff angle at 90 to avoid singularity in next formula.\n        \tfloat zenithAngle = acos( max( 0.0, dot( up, normalize( vWorldPosition - cameraPos ) ) ) );\n        \tfloat inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow(abs(  93.885 - ( ( zenithAngle * 180.0 ) / pi )), -1.253 ) );\n        \tfloat sR = rayleighZenithLength * inverse;\n        \tfloat sM = mieZenithLength * inverse;\n\n        // combined extinction factor\n        \tvec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );\n\n        // in scattering\n        \tfloat cosTheta = dot( normalize( vWorldPosition - cameraPos ), vSunDirection );\n\n        \tfloat rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );\n        \tvec3 betaRTheta = vBetaR * rPhase;\n\n        \tfloat mPhase = hgPhase( cosTheta, mieDirectionalG );\n        \tvec3 betaMTheta = vBetaM * mPhase;\n\n        \tvec3 Lin = pow( abs(vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex )), vec3( 1.5 ) );\n        \tLin *= mix( vec3( 1.0 ), pow(abs( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex) , vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );\n\n        // nightsky\n        \tvec3 direction = normalize( vWorldPosition - cameraPos );\n        \tfloat theta = acos( direction.y ); // elevation --\x3e y-axis, [-pi/2, pi/2]\n        \tfloat phi = atan( direction.z, direction.x ); // azimuth --\x3e x-axis [-pi/2, pi/2]\n        \tvec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );\n        \tvec3 L0 = vec3( 0.1 ) * Fex;\n\n        // composition + solar disc\n        \t// float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );\n        \t// L0 += ( vSunE * 19000.0 * Fex ) * sundisk;\n\n        \tvec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );\n\n        \tvec3 curr = Uncharted2Tonemap( ( log2( 2.0 / pow(abs( luminance), 4.0 ) ) ) * texColor );\n        \tvec3 color = curr * whiteScale;\n\n        \tvec3 retColor = pow(abs( color), vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );\n\n          gl_FragColor = vec4( retColor, 1.0 );\n\n\n        }\n        "},me=function(){var t=ge,e=new c.Qb({fragmentShader:t.fragmentShader,vertexShader:t.vertexShader,uniforms:c.fc.clone(t.uniforms),side:c.h,blending:c.a});return this.mesh=new c.ib(new c.Wb(1,10,10),e),this.mesh},ge={uniforms:{resolution:{value:new c.jc(100,100)},time:{value:1},strength:{value:1}},vertexShader:"\n  uniform float time;\n  uniform vec2 resolution;\n  varying vec3 vWorldPosition;\n\n  void main()\t{\n    // vec4 modelViewPosition = modelViewMatrix * vec4(position, 1.0);\n    // gl_Position = projectionMatrix * modelViewPosition;\n\n    vec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n    vWorldPosition = worldPosition.xyz;\n\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n    gl_Position.z = gl_Position.w-0.01; // set z to camera.far\n  }\n",fragmentShader:"\n    uniform vec2 resolution;\n    uniform float time;\n    varying vec3 vWorldPosition;\n    uniform float strength;\n\n    //\tSimplex 3D Noise \n    //\tby Ian McEwan, Ashima Arts\n    //\n    vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}\n    vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}\n    \n    float snoise(vec3 v){ \n      const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n      const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n    \n    // First corner\n      vec3 i  = floor(v + dot(v, C.yyy) );\n      vec3 x0 =   v - i + dot(i, C.xxx) ;\n    \n    // Other corners\n      vec3 g = step(x0.yzx, x0.xyz);\n      vec3 l = 1.0 - g;\n      vec3 i1 = min( g.xyz, l.zxy );\n      vec3 i2 = max( g.xyz, l.zxy );\n    \n      //  x0 = x0 - 0. + 0.0 * C \n      vec3 x1 = x0 - i1 + 1.0 * C.xxx;\n      vec3 x2 = x0 - i2 + 2.0 * C.xxx;\n      vec3 x3 = x0 - 1. + 3.0 * C.xxx;\n    \n    // Permutations\n      i = mod(i, 289.0 ); \n      vec4 p = permute( permute( permute( \n                 i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n               + i.y + vec4(0.0, i1.y, i2.y, 1.0 )) \n               + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n    \n    // Gradients\n    // ( N*N points uniformly over a square, mapped onto an octahedron.)\n      float n_ = 1.0/7.0; // N=7\n      vec3  ns = n_ * D.wyz - D.xzx;\n    \n      vec4 j = p - 49.0 * floor(p * ns.z *ns.z);  //  mod(p,N*N)\n    \n      vec4 x_ = floor(j * ns.z);\n      vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n    \n      vec4 x = x_ *ns.x + ns.yyyy;\n      vec4 y = y_ *ns.x + ns.yyyy;\n      vec4 h = 1.0 - abs(x) - abs(y);\n    \n      vec4 b0 = vec4( x.xy, y.xy );\n      vec4 b1 = vec4( x.zw, y.zw );\n    \n      vec4 s0 = floor(b0)*2.0 + 1.0;\n      vec4 s1 = floor(b1)*2.0 + 1.0;\n      vec4 sh = -step(h, vec4(0.0));\n    \n      vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n      vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n    \n      vec3 p0 = vec3(a0.xy,h.x);\n      vec3 p1 = vec3(a0.zw,h.y);\n      vec3 p2 = vec3(a1.xy,h.z);\n      vec3 p3 = vec3(a1.zw,h.w);\n    \n    //Normalise gradients\n      vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n      p0 *= norm.x;\n      p1 *= norm.y;\n      p2 *= norm.z;\n      p3 *= norm.w;\n    \n    // Mix final noise value\n      vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n      m = m * m;\n      return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1), \n                                    dot(p2,x2), dot(p3,x3) ) );\n    }\n\n\n\n\n\n    float star3d(vec3 p) {\n      return smoothstep(0.80, 1.0, snoise(p/20.0));  \n    }\n\n    void main(void) {\n\n      vec3 p = vWorldPosition-cameraPosition;\n      if (p.y < 0.0){\n        discard; \n      }\n\n      float s1 = star3d(p);\n   \n      float val = s1 * smoothstep(000.0, 400.0, p.y)*0.85;\n\n      gl_FragColor = vec4(val, val, val, strength);\n      if (gl_FragColor.rgb == vec3(0.0,0.0,0.0))\n      discard; \n    }\n        "},ye=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.distance=1e4,e.sunRealPos=new c.kc,e.sunPos=new c.kc,e}return Object(r.c)(e,t),e.prototype.onContextRestored=function(){this.onSkyUpdate()},e.prototype.create=function(){this.sky=new pe,this.sky.scale.setScalar(this.distance),this.ts.scene.add(this.sky),this.stars=new me,this.stars.scale.setScalar(2*this.ts.camera.far),this.ts.scene.add(this.stars),this.sunSphere=new c.ib(new c.Wb(10,16,8),new c.jb({color:new c.t(.5,.5,0),fog:!1,blending:c.a,depthWrite:!1})),this.createSunLight()},e.prototype.createSunLight=function(){},e.prototype.onRender=function(){this.stars.position.copy(this.ts.camera.position),this.sunSphere.position.copy(this.sunPos).add(this.ts.camera.position)},e.prototype.onSkyUpdate=function(){var t=this.sky.material.uniforms;t.turbidity.value=this.ts.skyController.turbidity,t.rayleigh.value=this.ts.skyController.rayleigh,t.luminance.value=this.ts.lightningRunning&&this.ts.lightningHappening?this.ts.luminanceOverride:this.ts.skyController.luminance,t.mieCoefficient.value=this.ts.skyController.mieCoefficient,t.mieDirectionalG.value=this.ts.skyController.mieDirectionalG,t.totalRayleigh.value=new c.kc(this.ts.skyController.totalRayleighX*Math.pow(10,-6),this.ts.skyController.totalRayleighY*Math.pow(10,-5),this.ts.skyController.totalRayleighZ*Math.pow(10,-5));var e=Math.PI*(this.ts.skyController.inclination-.5),n=2*Math.PI*(this.ts.skyController.azimuth-.5),i=this.distance,r=Math.cos(n),a=Math.sin(n),o=Math.cos(e),s=Math.sin(e);this.sunRealPos.x=i*r,this.sunRealPos.y=i*a*s,this.sunRealPos.z=i*a*o;var u=1190;this.sunPos.x=u*r,this.sunPos.y=u*a*s,this.sunPos.z=u*a*o,this.stars.material.uniforms.strength.value=this.ts.skyController.stars,t.sunPosition.value.copy(this.sunRealPos),this.ts.scene.background=null,this.ts.mainScene.visible=!1,this.stars.visible=!1,this.sky.visible=!0,this.ts.cubeCamera.update(this.ts.renderer,this.ts.scene),this.ts.mainScene.visible=!0,this.sky.visible=!1,this.stars.visible=!0,this.ts.scene.background=this.ts.cubeCamera.renderTarget},e}(s),be=n("2Vo4");function _e(t,e){var n=t.__state.conversionName.toString(),i=Math.round(t.r),r=Math.round(t.g),a=Math.round(t.b),o=t.a,s=Math.round(t.h),c=t.s.toFixed(1),u=t.v.toFixed(1);if(e||"THREE_CHAR_HEX"===n||"SIX_CHAR_HEX"===n){for(var l=t.hex.toString(16);l.length<6;)l="0"+l;return"#"+l}return"CSS_RGB"===n?"rgb("+i+","+r+","+a+")":"CSS_RGBA"===n?"rgba("+i+","+r+","+a+","+o+")":"HEX"===n?"0x"+t.hex.toString(16):"RGB_ARRAY"===n?"["+i+","+r+","+a+"]":"RGBA_ARRAY"===n?"["+i+","+r+","+a+","+o+"]":"RGB_OBJ"===n?"{r:"+i+",g:"+r+",b:"+a+"}":"RGBA_OBJ"===n?"{r:"+i+",g:"+r+",b:"+a+",a:"+o+"}":"HSV_OBJ"===n?"{h:"+s+",s:"+c+",v:"+u+"}":"HSVA_OBJ"===n?"{h:"+s+",s:"+c+",v:"+u+",a:"+o+"}":"unknown format"}var we=Array.prototype.forEach,xe=Array.prototype.slice,ke={BREAK:{},extend:function(t){return this.each(xe.call(arguments,1),(function(e){(this.isObject(e)?Object.keys(e):[]).forEach((function(n){this.isUndefined(e[n])||(t[n]=e[n])}).bind(this))}),this),t},defaults:function(t){return this.each(xe.call(arguments,1),(function(e){(this.isObject(e)?Object.keys(e):[]).forEach((function(n){this.isUndefined(t[n])&&(t[n]=e[n])}).bind(this))}),this),t},compose:function(){var t=xe.call(arguments);return function(){for(var e=xe.call(arguments),n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},each:function(t,e,n){if(t)if(we&&t.forEach&&t.forEach===we)t.forEach(e,n);else if(t.length===t.length+0){var i,r=void 0;for(r=0,i=t.length;r<i;r++)if(r in t&&e.call(n,t[r],r)===this.BREAK)return}else for(var a in t)if(e.call(n,t[a],a)===this.BREAK)return},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i=void 0;return function(){var r=this,a=arguments;function o(){i=null,n||t.apply(r,a)}var s=n||!i;clearTimeout(i),i=setTimeout(o,e),s&&t.apply(r,a)}},toArray:function(t){return t.toArray?t.toArray():xe.call(t)},isUndefined:function(t){return void 0===t},isNull:function(t){return null===t},isNaN:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return isNaN(t)})),isArray:Array.isArray||function(t){return t.constructor===Array},isObject:function(t){return t===Object(t)},isNumber:function(t){return t===t+0},isString:function(t){return t===t+""},isBoolean:function(t){return!1===t||!0===t},isFunction:function(t){return t instanceof Function}},Oe=[{litmus:ke.isString,conversions:{THREE_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString()+e[1].toString()+e[2].toString()+e[2].toString()+e[3].toString()+e[3].toString(),0)}},write:_e},SIX_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9]{6})$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString(),0)}},write:_e},CSS_RGB:{read:function(t){var e=t.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3])}},write:_e},CSS_RGBA:{read:function(t){var e=t.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:parseFloat(e[4])}},write:_e}}},{litmus:ke.isNumber,conversions:{HEX:{read:function(t){return{space:"HEX",hex:t,conversionName:"HEX"}},write:function(t){return t.hex}}}},{litmus:ke.isArray,conversions:{RGB_ARRAY:{read:function(t){return 3===t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2]}},write:function(t){return[t.r,t.g,t.b]}},RGBA_ARRAY:{read:function(t){return 4===t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2],a:t[3]}},write:function(t){return[t.r,t.g,t.b,t.a]}}}},{litmus:ke.isObject,conversions:{RGBA_OBJ:{read:function(t){return!!(ke.isNumber(t.r)&&ke.isNumber(t.g)&&ke.isNumber(t.b)&&ke.isNumber(t.a))&&{space:"RGB",r:t.r,g:t.g,b:t.b,a:t.a}},write:function(t){return{r:t.r,g:t.g,b:t.b,a:t.a}}},RGB_OBJ:{read:function(t){return!!(ke.isNumber(t.r)&&ke.isNumber(t.g)&&ke.isNumber(t.b))&&{space:"RGB",r:t.r,g:t.g,b:t.b}},write:function(t){return{r:t.r,g:t.g,b:t.b}}},HSVA_OBJ:{read:function(t){return!!(ke.isNumber(t.h)&&ke.isNumber(t.s)&&ke.isNumber(t.v)&&ke.isNumber(t.a))&&{space:"HSV",h:t.h,s:t.s,v:t.v,a:t.a}},write:function(t){return{h:t.h,s:t.s,v:t.v,a:t.a}}},HSV_OBJ:{read:function(t){return!!(ke.isNumber(t.h)&&ke.isNumber(t.s)&&ke.isNumber(t.v))&&{space:"HSV",h:t.h,s:t.s,v:t.v}},write:function(t){return{h:t.h,s:t.s,v:t.v}}}}}],Se=void 0,Ce=void 0,Ae=function(){Ce=!1;var t=arguments.length>1?ke.toArray(arguments):arguments[0];return ke.each(Oe,(function(e){if(e.litmus(t))return ke.each(e.conversions,(function(e,n){if(Se=e.read(t),!1===Ce&&!1!==Se)return Ce=Se,Se.conversionName=n,Se.conversion=e,ke.BREAK})),ke.BREAK})),Ce},Me=void 0,Te={hsv_to_rgb:function(t,e,n){var i=Math.floor(t/60)%6,r=t/60-Math.floor(t/60),a=n*(1-e),o=n*(1-r*e),s=n*(1-(1-r)*e),c=[[n,s,a],[o,n,a],[a,n,s],[a,o,n],[s,a,n],[n,a,o]][i];return{r:255*c[0],g:255*c[1],b:255*c[2]}},rgb_to_hsv:function(t,e,n){var i=Math.min(t,e,n),r=Math.max(t,e,n),a=r-i,o=void 0;return 0===r?{h:NaN,s:0,v:0}:(o=t===r?(e-n)/a:e===r?2+(n-t)/a:4+(t-e)/a,(o/=6)<0&&(o+=1),{h:360*o,s:a/r,v:r/255})},rgb_to_hex:function(t,e,n){var i=this.hex_with_component(0,2,t);return i=this.hex_with_component(i,1,e),i=this.hex_with_component(i,0,n)},component_from_hex:function(t,e){return t>>8*e&255},hex_with_component:function(t,e,n){return n<<(Me=8*e)|t&~(255<<Me)}},Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pe=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},De=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),je=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},Re=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},Ie=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},Le=function(){function t(){if(Pe(this,t),this.__state=Ae.apply(this,arguments),!1===this.__state)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return De(t,[{key:"toString",value:function(){return _e(this)}},{key:"toHexString",value:function(){return _e(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),t}();function Ne(t,e,n){Object.defineProperty(t,e,{get:function(){return"RGB"===this.__state.space||Le.recalculateRGB(this,e,n),this.__state[e]},set:function(t){"RGB"!==this.__state.space&&(Le.recalculateRGB(this,e,n),this.__state.space="RGB"),this.__state[e]=t}})}function Fe(t,e){Object.defineProperty(t,e,{get:function(){return"HSV"===this.__state.space||Le.recalculateHSV(this),this.__state[e]},set:function(t){"HSV"!==this.__state.space&&(Le.recalculateHSV(this),this.__state.space="HSV"),this.__state[e]=t}})}Le.recalculateRGB=function(t,e,n){if("HEX"===t.__state.space)t.__state[e]=Te.component_from_hex(t.__state.hex,n);else{if("HSV"!==t.__state.space)throw new Error("Corrupted color state");ke.extend(t.__state,Te.hsv_to_rgb(t.__state.h,t.__state.s,t.__state.v))}},Le.recalculateHSV=function(t){var e=Te.rgb_to_hsv(t.r,t.g,t.b);ke.extend(t.__state,{s:e.s,v:e.v}),ke.isNaN(e.h)?ke.isUndefined(t.__state.h)&&(t.__state.h=0):t.__state.h=e.h},Le.COMPONENTS=["r","g","b","h","s","v","hex","a"],Ne(Le.prototype,"r",2),Ne(Le.prototype,"g",1),Ne(Le.prototype,"b",0),Fe(Le.prototype,"h"),Fe(Le.prototype,"s"),Fe(Le.prototype,"v"),Object.defineProperty(Le.prototype,"a",{get:function(){return this.__state.a},set:function(t){this.__state.a=t}}),Object.defineProperty(Le.prototype,"hex",{get:function(){return"HEX"!==this.__state.space&&(this.__state.hex=Te.rgb_to_hex(this.r,this.g,this.b),this.__state.space="HEX"),this.__state.hex},set:function(t){this.__state.space="HEX",this.__state.hex=t}});var Be=function(){function t(e,n){Pe(this,t),this.initialValue=e[n],this.domElement=document.createElement("div"),this.object=e,this.property=n,this.__onChange=void 0,this.__onFinishChange=void 0}return De(t,[{key:"onChange",value:function(t){return this.__onChange=t,this}},{key:"onFinishChange",value:function(t){return this.__onFinishChange=t,this}},{key:"setValue",value:function(t){return this.object[this.property]=t,this.__onChange&&this.__onChange.call(this,t),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),t}(),ze={};ke.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},(function(t,e){ke.each(t,(function(t){ze[t]=e}))}));var Ue=/(\d+(\.\d+)?)px/;function He(t){if("0"===t||ke.isUndefined(t))return 0;var e=t.match(Ue);return ke.isNull(e)?0:parseFloat(e[1])}var Ve={makeSelectable:function(t,e){void 0!==t&&void 0!==t.style&&(t.onselectstart=e?function(){return!1}:function(){},t.style.MozUserSelect=e?"auto":"none",t.style.KhtmlUserSelect=e?"auto":"none",t.unselectable=e?"on":"off")},makeFullscreen:function(t,e,n){var i=n,r=e;ke.isUndefined(r)&&(r=!0),ke.isUndefined(i)&&(i=!0),t.style.position="absolute",r&&(t.style.left=0,t.style.right=0),i&&(t.style.top=0,t.style.bottom=0)},fakeEvent:function(t,e,n,i){var r=n||{},a=ze[e];if(!a)throw new Error("Event type "+e+" not supported.");var o=document.createEvent(a);switch(a){case"MouseEvents":var s=r.x||r.clientX||0,c=r.y||r.clientY||0;o.initMouseEvent(e,r.bubbles||!1,r.cancelable||!0,window,r.clickCount||1,0,0,s,c,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var u=o.initKeyboardEvent||o.initKeyEvent;ke.defaults(r,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),u(e,r.bubbles||!1,r.cancelable,window,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.keyCode,r.charCode);break;default:o.initEvent(e,r.bubbles||!1,r.cancelable||!0)}ke.defaults(o,i),t.dispatchEvent(o)},bind:function(t,e,n,i){var r=i||!1;return t.addEventListener?t.addEventListener(e,n,r):t.attachEvent&&t.attachEvent("on"+e,n),Ve},unbind:function(t,e,n,i){var r=i||!1;return t.removeEventListener?t.removeEventListener(e,n,r):t.detachEvent&&t.detachEvent("on"+e,n),Ve},addClass:function(t,e){if(void 0===t.className)t.className=e;else if(t.className!==e){var n=t.className.split(/ +/);-1===n.indexOf(e)&&(n.push(e),t.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return Ve},removeClass:function(t,e){if(e)if(t.className===e)t.removeAttribute("class");else{var n=t.className.split(/ +/),i=n.indexOf(e);-1!==i&&(n.splice(i,1),t.className=n.join(" "))}else t.className=void 0;return Ve},hasClass:function(t,e){return new RegExp("(?:^|\\s+)"+e+"(?:\\s+|$)").test(t.className)||!1},getWidth:function(t){var e=getComputedStyle(t);return He(e["border-left-width"])+He(e["border-right-width"])+He(e["padding-left"])+He(e["padding-right"])+He(e.width)},getHeight:function(t){var e=getComputedStyle(t);return He(e["border-top-width"])+He(e["border-bottom-width"])+He(e["padding-top"])+He(e["padding-bottom"])+He(e.height)},getOffset:function(t){var e=t,n={left:0,top:0};if(e.offsetParent)do{n.left+=e.offsetLeft,n.top+=e.offsetTop,e=e.offsetParent}while(e);return n},isActive:function(t){return t===document.activeElement&&(t.type||t.href)}},Ge=function(t){function e(t,n){Pe(this,e);var i=Ie(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),r=i;return i.__prev=i.getValue(),i.__checkbox=document.createElement("input"),i.__checkbox.setAttribute("type","checkbox"),Ve.bind(i.__checkbox,"change",(function(){r.setValue(!r.__prev)}),!1),i.domElement.appendChild(i.__checkbox),i.updateDisplay(),i}return Re(e,t),De(e,[{key:"setValue",value:function(t){var n=je(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),n}},{key:"updateDisplay",value:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),je(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(Be),We=function(t){function e(t,n,i){Pe(this,e);var r=Ie(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),a=i,o=r;if(r.__select=document.createElement("select"),ke.isArray(a)){var s={};ke.each(a,(function(t){s[t]=t})),a=s}return ke.each(a,(function(t,e){var n=document.createElement("option");n.innerHTML=e,n.setAttribute("value",t),o.__select.appendChild(n)})),r.updateDisplay(),Ve.bind(r.__select,"change",(function(){var t=this.options[this.selectedIndex].value;o.setValue(t)})),r.domElement.appendChild(r.__select),r}return Re(e,t),De(e,[{key:"setValue",value:function(t){var n=je(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),n}},{key:"updateDisplay",value:function(){return Ve.isActive(this.__select)?this:(this.__select.value=this.getValue(),je(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this))}}]),e}(Be),Xe=function(t){function e(t,n){Pe(this,e);var i=Ie(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),r=i;function a(){r.setValue(r.__input.value)}return i.__input=document.createElement("input"),i.__input.setAttribute("type","text"),Ve.bind(i.__input,"keyup",a),Ve.bind(i.__input,"change",a),Ve.bind(i.__input,"blur",(function(){r.__onFinishChange&&r.__onFinishChange.call(r,r.getValue())})),Ve.bind(i.__input,"keydown",(function(t){13===t.keyCode&&this.blur()})),i.updateDisplay(),i.domElement.appendChild(i.__input),i}return Re(e,t),De(e,[{key:"updateDisplay",value:function(){return Ve.isActive(this.__input)||(this.__input.value=this.getValue()),je(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(Be);function qe(t){var e=t.toString();return e.indexOf(".")>-1?e.length-e.indexOf(".")-1:0}var Ye=function(t){function e(t,n,i){Pe(this,e);var r=Ie(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),a=i||{};return r.__min=a.min,r.__max=a.max,r.__step=a.step,ke.isUndefined(r.__step)?0===r.initialValue?r.__impliedStep=1:r.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(r.initialValue))/Math.LN10))/10:r.__impliedStep=r.__step,r.__precision=qe(r.__impliedStep),r}return Re(e,t),De(e,[{key:"setValue",value:function(t){var n=t;return void 0!==this.__min&&n<this.__min?n=this.__min:void 0!==this.__max&&n>this.__max&&(n=this.__max),void 0!==this.__step&&n%this.__step!=0&&(n=Math.round(n/this.__step)*this.__step),je(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,n)}},{key:"min",value:function(t){return this.__min=t,this}},{key:"max",value:function(t){return this.__max=t,this}},{key:"step",value:function(t){return this.__step=t,this.__impliedStep=t,this.__precision=qe(t),this}}]),e}(Be);var Qe=function(t){function e(t,n,i){Pe(this,e);var r=Ie(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i));r.__truncationSuspended=!1;var a=r,o=void 0;function s(){a.__onFinishChange&&a.__onFinishChange.call(a,a.getValue())}function c(t){var e=o-t.clientY;a.setValue(a.getValue()+e*a.__impliedStep),o=t.clientY}function u(){Ve.unbind(window,"mousemove",c),Ve.unbind(window,"mouseup",u),s()}return r.__input=document.createElement("input"),r.__input.setAttribute("type","text"),Ve.bind(r.__input,"change",(function(){var t=parseFloat(a.__input.value);ke.isNaN(t)||a.setValue(t)})),Ve.bind(r.__input,"blur",(function(){s()})),Ve.bind(r.__input,"mousedown",(function(t){Ve.bind(window,"mousemove",c),Ve.bind(window,"mouseup",u),o=t.clientY})),Ve.bind(r.__input,"keydown",(function(t){13===t.keyCode&&(a.__truncationSuspended=!0,this.blur(),a.__truncationSuspended=!1,s())})),r.updateDisplay(),r.domElement.appendChild(r.__input),r}return Re(e,t),De(e,[{key:"updateDisplay",value:function(){var t,n,i;return this.__input.value=this.__truncationSuspended?this.getValue():(t=this.getValue(),n=this.__precision,i=Math.pow(10,n),Math.round(t*i)/i),je(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(Ye);function Ke(t,e,n,i,r){return i+(t-e)/(n-e)*(r-i)}var Ze=function(t){function e(t,n,i,r,a){Pe(this,e);var o=Ie(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,{min:i,max:r,step:a})),s=o;function c(t){t.preventDefault();var e=s.__background.getBoundingClientRect();return s.setValue(Ke(t.clientX,e.left,e.right,s.__min,s.__max)),!1}function u(){Ve.unbind(window,"mousemove",c),Ve.unbind(window,"mouseup",u),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}function l(t){var e=t.touches[0].clientX,n=s.__background.getBoundingClientRect();s.setValue(Ke(e,n.left,n.right,s.__min,s.__max))}function h(){Ve.unbind(window,"touchmove",l),Ve.unbind(window,"touchend",h),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}return o.__background=document.createElement("div"),o.__foreground=document.createElement("div"),Ve.bind(o.__background,"mousedown",(function(t){document.activeElement.blur(),Ve.bind(window,"mousemove",c),Ve.bind(window,"mouseup",u),c(t)})),Ve.bind(o.__background,"touchstart",(function(t){if(1!==t.touches.length)return;Ve.bind(window,"touchmove",l),Ve.bind(window,"touchend",h),l(t)})),Ve.addClass(o.__background,"slider"),Ve.addClass(o.__foreground,"slider-fg"),o.updateDisplay(),o.__background.appendChild(o.__foreground),o.domElement.appendChild(o.__background),o}return Re(e,t),De(e,[{key:"updateDisplay",value:function(){var t=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*t+"%",je(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(Ye),Je=function(t){function e(t,n,i){Pe(this,e);var r=Ie(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),a=r;return r.__button=document.createElement("div"),r.__button.innerHTML=void 0===i?"Fire":i,Ve.bind(r.__button,"click",(function(t){return t.preventDefault(),a.fire(),!1})),Ve.addClass(r.__button,"button"),r.domElement.appendChild(r.__button),r}return Re(e,t),De(e,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),e}(Be),$e=function(t){function e(t,n){Pe(this,e);var i=Ie(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));i.__color=new Le(i.getValue()),i.__temp=new Le(0);var r=i;i.domElement=document.createElement("div"),Ve.makeSelectable(i.domElement,!1),i.__selector=document.createElement("div"),i.__selector.className="selector",i.__saturation_field=document.createElement("div"),i.__saturation_field.className="saturation-field",i.__field_knob=document.createElement("div"),i.__field_knob.className="field-knob",i.__field_knob_border="2px solid ",i.__hue_knob=document.createElement("div"),i.__hue_knob.className="hue-knob",i.__hue_field=document.createElement("div"),i.__hue_field.className="hue-field",i.__input=document.createElement("input"),i.__input.type="text",i.__input_textShadow="0 1px 1px ",Ve.bind(i.__input,"keydown",(function(t){13===t.keyCode&&h.call(this)})),Ve.bind(i.__input,"blur",h),Ve.bind(i.__selector,"mousedown",(function(){Ve.addClass(this,"drag").bind(window,"mouseup",(function(){Ve.removeClass(r.__selector,"drag")}))})),Ve.bind(i.__selector,"touchstart",(function(){Ve.addClass(this,"drag").bind(window,"touchend",(function(){Ve.removeClass(r.__selector,"drag")}))}));var a,o=document.createElement("div");function s(t){f(t),Ve.bind(window,"mousemove",f),Ve.bind(window,"touchmove",f),Ve.bind(window,"mouseup",u),Ve.bind(window,"touchend",u)}function c(t){p(t),Ve.bind(window,"mousemove",p),Ve.bind(window,"touchmove",p),Ve.bind(window,"mouseup",l),Ve.bind(window,"touchend",l)}function u(){Ve.unbind(window,"mousemove",f),Ve.unbind(window,"touchmove",f),Ve.unbind(window,"mouseup",u),Ve.unbind(window,"touchend",u),d()}function l(){Ve.unbind(window,"mousemove",p),Ve.unbind(window,"touchmove",p),Ve.unbind(window,"mouseup",l),Ve.unbind(window,"touchend",l),d()}function h(){var t=Ae(this.value);!1!==t?(r.__color.__state=t,r.setValue(r.__color.toOriginal())):this.value=r.__color.toString()}function d(){r.__onFinishChange&&r.__onFinishChange.call(r,r.__color.toOriginal())}function f(t){-1===t.type.indexOf("touch")&&t.preventDefault();var e=r.__saturation_field.getBoundingClientRect(),n=t.touches&&t.touches[0]||t,i=n.clientX,a=n.clientY,o=(i-e.left)/(e.right-e.left),s=1-(a-e.top)/(e.bottom-e.top);return s>1?s=1:s<0&&(s=0),o>1?o=1:o<0&&(o=0),r.__color.v=s,r.__color.s=o,r.setValue(r.__color.toOriginal()),!1}function p(t){-1===t.type.indexOf("touch")&&t.preventDefault();var e=r.__hue_field.getBoundingClientRect(),n=1-((t.touches&&t.touches[0]||t).clientY-e.top)/(e.bottom-e.top);return n>1?n=1:n<0&&(n=0),r.__color.h=360*n,r.setValue(r.__color.toOriginal()),!1}return ke.extend(i.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),ke.extend(i.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:i.__field_knob_border+(i.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),ke.extend(i.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),ke.extend(i.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),ke.extend(o.style,{width:"100%",height:"100%",background:"none"}),en(o,"top","rgba(0,0,0,0)","#000"),ke.extend(i.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),(a=i.__hue_field).style.background="",a.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",a.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",a.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",a.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",a.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",ke.extend(i.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:i.__input_textShadow+"rgba(0,0,0,0.7)"}),Ve.bind(i.__saturation_field,"mousedown",s),Ve.bind(i.__saturation_field,"touchstart",s),Ve.bind(i.__field_knob,"mousedown",s),Ve.bind(i.__field_knob,"touchstart",s),Ve.bind(i.__hue_field,"mousedown",c),Ve.bind(i.__hue_field,"touchstart",c),i.__saturation_field.appendChild(o),i.__selector.appendChild(i.__field_knob),i.__selector.appendChild(i.__saturation_field),i.__selector.appendChild(i.__hue_field),i.__hue_field.appendChild(i.__hue_knob),i.domElement.appendChild(i.__input),i.domElement.appendChild(i.__selector),i.updateDisplay(),i}return Re(e,t),De(e,[{key:"updateDisplay",value:function(){var t=Ae(this.getValue());if(!1!==t){var e=!1;ke.each(Le.COMPONENTS,(function(n){if(!ke.isUndefined(t[n])&&!ke.isUndefined(this.__color.__state[n])&&t[n]!==this.__color.__state[n])return e=!0,{}}),this),e&&ke.extend(this.__color.__state,t)}ke.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var n=this.__color.v<.5||this.__color.s>.5?255:0,i=255-n;ke.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+n+","+n+","+n+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,en(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),ke.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+n+","+n+","+n+")",textShadow:this.__input_textShadow+"rgba("+i+","+i+","+i+",.7)"})}}]),e}(Be),tn=["-moz-","-o-","-webkit-","-ms-",""];function en(t,e,n,i){t.style.background="",ke.each(tn,(function(r){t.style.cssText+="background: "+r+"linear-gradient("+e+", "+n+" 0%, "+i+" 100%); "}))}var nn=function(t,e){var n=e||document,i=document.createElement("style");i.type="text/css",i.innerHTML=t;var r=n.getElementsByTagName("head")[0];try{r.appendChild(i)}catch(a){}},rn='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>',an=function(t,e){var n=t[e];return ke.isArray(arguments[2])||ke.isObject(arguments[2])?new We(t,e,arguments[2]):ke.isNumber(n)?ke.isNumber(arguments[2])&&ke.isNumber(arguments[3])?ke.isNumber(arguments[4])?new Ze(t,e,arguments[2],arguments[3],arguments[4]):new Ze(t,e,arguments[2],arguments[3]):ke.isNumber(arguments[4])?new Qe(t,e,{min:arguments[2],max:arguments[3],step:arguments[4]}):new Qe(t,e,{min:arguments[2],max:arguments[3]}):ke.isString(n)?new Xe(t,e):ke.isFunction(n)?new Je(t,e,""):ke.isBoolean(n)?new Ge(t,e):null};var on=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)},sn=function(){function t(){Pe(this,t),this.backgroundElement=document.createElement("div"),ke.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),Ve.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),ke.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var e=this;Ve.bind(this.backgroundElement,"click",(function(){e.hide()}))}return De(t,[{key:"show",value:function(){var t=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),ke.defer((function(){t.backgroundElement.style.opacity=1,t.domElement.style.opacity=1,t.domElement.style.webkitTransform="scale(1)"}))}},{key:"hide",value:function(){var t=this,e=function e(){t.domElement.style.display="none",t.backgroundElement.style.display="none",Ve.unbind(t.domElement,"webkitTransitionEnd",e),Ve.unbind(t.domElement,"transitionend",e),Ve.unbind(t.domElement,"oTransitionEnd",e)};Ve.bind(this.domElement,"webkitTransitionEnd",e),Ve.bind(this.domElement,"transitionend",e),Ve.bind(this.domElement,"oTransitionEnd",e),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-Ve.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-Ve.getHeight(this.domElement)/2+"px"}}]),t}();nn(function(t){if(t&&"undefined"!=typeof window){var e=document.createElement("style");return e.setAttribute("type","text/css"),e.innerHTML=t,document.head.appendChild(e),t}}(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n"));var cn="Default",un=function(){try{return!!window.localStorage}catch(t){return!1}}(),ln=void 0,hn=!0,dn=void 0,fn=!1,pn=[],vn=function t(e){var n=this,i=e||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),Ve.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],i=ke.defaults(i,{closeOnTop:!1,autoPlace:!0,width:t.DEFAULT_WIDTH}),i=ke.defaults(i,{resizable:i.autoPlace,hideable:i.autoPlace}),ke.isUndefined(i.load)?i.load={preset:cn}:i.preset&&(i.load.preset=i.preset),ke.isUndefined(i.parent)&&i.hideable&&pn.push(this),i.resizable=ke.isUndefined(i.parent)&&i.resizable,i.autoPlace&&ke.isUndefined(i.scrollable)&&(i.scrollable=!0);var r,a=un&&"true"===localStorage.getItem(wn(this,"isLocal")),o=void 0,s=void 0;if(Object.defineProperties(this,{parent:{get:function(){return i.parent}},scrollable:{get:function(){return i.scrollable}},autoPlace:{get:function(){return i.autoPlace}},closeOnTop:{get:function(){return i.closeOnTop}},preset:{get:function(){return n.parent?n.getRoot().preset:i.load.preset},set:function(t){n.parent?n.getRoot().preset=t:i.load.preset=t,function(t){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].value===t.preset&&(t.__preset_select.selectedIndex=e)}(this),n.revert()}},width:{get:function(){return i.width},set:function(t){i.width=t,Cn(n,t)}},name:{get:function(){return i.name},set:function(t){i.name=t,s&&(s.innerHTML=i.name)}},closed:{get:function(){return i.closed},set:function(e){i.closed=e,i.closed?Ve.addClass(n.__ul,t.CLASS_CLOSED):Ve.removeClass(n.__ul,t.CLASS_CLOSED),this.onResize(),n.__closeButton&&(n.__closeButton.innerHTML=e?t.TEXT_OPEN:t.TEXT_CLOSED)}},load:{get:function(){return i.load}},useLocalStorage:{get:function(){return a},set:function(t){un&&(a=t,t?Ve.bind(window,"unload",o):Ve.unbind(window,"unload",o),localStorage.setItem(wn(n,"isLocal"),t))}}}),ke.isUndefined(i.parent)){if(this.closed=i.closed||!1,Ve.addClass(this.domElement,t.CLASS_MAIN),Ve.makeSelectable(this.domElement,!1),un&&a){n.useLocalStorage=!0;var c=localStorage.getItem(wn(this,"gui"));c&&(i.load=JSON.parse(c))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=t.TEXT_CLOSED,Ve.addClass(this.__closeButton,t.CLASS_CLOSE_BUTTON),i.closeOnTop?(Ve.addClass(this.__closeButton,t.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(Ve.addClass(this.__closeButton,t.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),Ve.bind(this.__closeButton,"click",(function(){n.closed=!n.closed}))}else{void 0===i.closed&&(i.closed=!0);var u=document.createTextNode(i.name);Ve.addClass(u,"controller-name"),s=mn(n,u);Ve.addClass(this.__ul,t.CLASS_CLOSED),Ve.addClass(s,"title"),Ve.bind(s,"click",(function(t){return t.preventDefault(),n.closed=!n.closed,!1})),i.closed||(this.closed=!1)}i.autoPlace&&(ke.isUndefined(i.parent)&&(hn&&(dn=document.createElement("div"),Ve.addClass(dn,"dg"),Ve.addClass(dn,t.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(dn),hn=!1),dn.appendChild(this.domElement),Ve.addClass(this.domElement,t.CLASS_AUTO_PLACE)),this.parent||Cn(n,i.width)),this.__resizeHandler=function(){n.onResizeDebounced()},Ve.bind(window,"resize",this.__resizeHandler),Ve.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),Ve.bind(this.__ul,"transitionend",this.__resizeHandler),Ve.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),i.resizable&&Sn(this),o=function(){un&&"true"===localStorage.getItem(wn(n,"isLocal"))&&localStorage.setItem(wn(n,"gui"),JSON.stringify(n.getSaveObject()))},this.saveToLocalStorageIfPossible=o,i.parent||((r=n.getRoot()).width+=1,ke.defer((function(){r.width-=1})))};function mn(t,e,n){var i=document.createElement("li");return e&&i.appendChild(e),n?t.__ul.insertBefore(i,n):t.__ul.appendChild(i),t.onResize(),i}function gn(t){Ve.unbind(window,"resize",t.__resizeHandler),t.saveToLocalStorageIfPossible&&Ve.unbind(window,"unload",t.saveToLocalStorageIfPossible)}function yn(t,e){var n=t.__preset_select[t.__preset_select.selectedIndex];n.innerHTML=e?n.value+"*":n.value}function bn(t,e){var n=t.getRoot(),i=n.__rememberedObjects.indexOf(e.object);if(-1!==i){var r=n.__rememberedObjectIndecesToControllers[i];if(void 0===r&&(r={},n.__rememberedObjectIndecesToControllers[i]=r),r[e.property]=e,n.load&&n.load.remembered){var a=n.load.remembered,o=void 0;if(a[t.preset])o=a[t.preset];else{if(!a.Default)return;o=a.Default}if(o[i]&&void 0!==o[i][e.property]){var s=o[i][e.property];e.initialValue=s,e.setValue(s)}}}}function _n(t,e,n,i){if(void 0===e[n])throw new Error('Object "'+e+'" has no property "'+n+'"');var r=void 0;if(i.color)r=new $e(e,n);else{var a=[e,n].concat(i.factoryArgs);r=an.apply(t,a)}i.before instanceof Be&&(i.before=i.before.__li),bn(t,r),Ve.addClass(r.domElement,"c");var o=document.createElement("span");Ve.addClass(o,"property-name"),o.innerHTML=r.property;var s=document.createElement("div");s.appendChild(o),s.appendChild(r.domElement);var c=mn(t,s,i.before);return Ve.addClass(c,vn.CLASS_CONTROLLER_ROW),r instanceof $e?Ve.addClass(c,"color"):Ve.addClass(c,Ee(r.getValue())),function(t,e,n){if(n.__li=e,n.__gui=t,ke.extend(n,{options:function(e){if(arguments.length>1){var i=n.__li.nextElementSibling;return n.remove(),_n(t,n.object,n.property,{before:i,factoryArgs:[ke.toArray(arguments)]})}if(ke.isArray(e)||ke.isObject(e)){var r=n.__li.nextElementSibling;return n.remove(),_n(t,n.object,n.property,{before:r,factoryArgs:[e]})}},name:function(t){return n.__li.firstElementChild.firstElementChild.innerHTML=t,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof Ze){var i=new Qe(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});ke.each(["updateDisplay","onChange","onFinishChange","step","min","max"],(function(t){var e=n[t],r=i[t];n[t]=i[t]=function(){var t=Array.prototype.slice.call(arguments);return r.apply(i,t),e.apply(n,t)}})),Ve.addClass(e,"has-slider"),n.domElement.insertBefore(i.domElement,n.domElement.firstElementChild)}else if(n instanceof Qe){var r=function(e){if(ke.isNumber(n.__min)&&ke.isNumber(n.__max)){var i=n.__li.firstElementChild.firstElementChild.innerHTML,r=n.__gui.__listening.indexOf(n)>-1;n.remove();var a=_n(t,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]});return a.name(i),r&&a.listen(),a}return e};n.min=ke.compose(r,n.min),n.max=ke.compose(r,n.max)}else n instanceof Ge?(Ve.bind(e,"click",(function(){Ve.fakeEvent(n.__checkbox,"click")})),Ve.bind(n.__checkbox,"click",(function(t){t.stopPropagation()}))):n instanceof Je?(Ve.bind(e,"click",(function(){Ve.fakeEvent(n.__button,"click")})),Ve.bind(e,"mouseover",(function(){Ve.addClass(n.__button,"hover")})),Ve.bind(e,"mouseout",(function(){Ve.removeClass(n.__button,"hover")}))):n instanceof $e&&(Ve.addClass(e,"color"),n.updateDisplay=ke.compose((function(t){return e.style.borderLeftColor=n.__color.toString(),t}),n.updateDisplay),n.updateDisplay());n.setValue=ke.compose((function(e){return t.getRoot().__preset_select&&n.isModified()&&yn(t.getRoot(),!0),e}),n.setValue)}(t,c,r),t.__controllers.push(r),r}function wn(t,e){return document.location.href+"."+e}function xn(t,e,n){var i=document.createElement("option");i.innerHTML=e,i.value=e,t.__preset_select.appendChild(i),n&&(t.__preset_select.selectedIndex=t.__preset_select.length-1)}function kn(t,e){e.style.display=t.useLocalStorage?"block":"none"}function On(t){var e=t.__save_row=document.createElement("li");Ve.addClass(t.domElement,"has-save"),t.__ul.insertBefore(e,t.__ul.firstChild),Ve.addClass(e,"save-row");var n=document.createElement("span");n.innerHTML="&nbsp;",Ve.addClass(n,"button gears");var i=document.createElement("span");i.innerHTML="Save",Ve.addClass(i,"button"),Ve.addClass(i,"save");var r=document.createElement("span");r.innerHTML="New",Ve.addClass(r,"button"),Ve.addClass(r,"save-as");var a=document.createElement("span");a.innerHTML="Revert",Ve.addClass(a,"button"),Ve.addClass(a,"revert");var o=t.__preset_select=document.createElement("select");if(t.load&&t.load.remembered?ke.each(t.load.remembered,(function(e,n){xn(t,n,n===t.preset)})):xn(t,cn,!1),Ve.bind(o,"change",(function(){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].innerHTML=t.__preset_select[e].value;t.preset=this.value})),e.appendChild(o),e.appendChild(n),e.appendChild(i),e.appendChild(r),e.appendChild(a),un){var s=document.getElementById("dg-local-explain"),c=document.getElementById("dg-local-storage");document.getElementById("dg-save-locally").style.display="block","true"===localStorage.getItem(wn(0,"isLocal"))&&c.setAttribute("checked","checked"),kn(t,s),Ve.bind(c,"change",(function(){t.useLocalStorage=!t.useLocalStorage,kn(t,s)}))}var u=document.getElementById("dg-new-constructor");Ve.bind(u,"keydown",(function(t){!t.metaKey||67!==t.which&&67!==t.keyCode||ln.hide()})),Ve.bind(n,"click",(function(){u.innerHTML=JSON.stringify(t.getSaveObject(),void 0,2),ln.show(),u.focus(),u.select()})),Ve.bind(i,"click",(function(){t.save()})),Ve.bind(r,"click",(function(){var e=prompt("Enter a new preset name.");e&&t.saveAs(e)})),Ve.bind(a,"click",(function(){t.revert()}))}function Sn(t){var e=void 0;function n(n){return n.preventDefault(),t.width+=e-n.clientX,t.onResize(),e=n.clientX,!1}function i(){Ve.removeClass(t.__closeButton,vn.CLASS_DRAG),Ve.unbind(window,"mousemove",n),Ve.unbind(window,"mouseup",i)}function r(r){return r.preventDefault(),e=r.clientX,Ve.addClass(t.__closeButton,vn.CLASS_DRAG),Ve.bind(window,"mousemove",n),Ve.bind(window,"mouseup",i),!1}t.__resize_handle=document.createElement("div"),ke.extend(t.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),Ve.bind(t.__resize_handle,"mousedown",r),Ve.bind(t.__closeButton,"mousedown",r),t.domElement.insertBefore(t.__resize_handle,t.domElement.firstElementChild)}function Cn(t,e){t.domElement.style.width=e+"px",t.__save_row&&t.autoPlace&&(t.__save_row.style.width=e+"px"),t.__closeButton&&(t.__closeButton.style.width=e+"px")}function An(t,e){var n={};return ke.each(t.__rememberedObjects,(function(i,r){var a={},o=t.__rememberedObjectIndecesToControllers[r];ke.each(o,(function(t,n){a[n]=e?t.initialValue:t.getValue()})),n[r]=a})),n}vn.toggleHide=function(){fn=!fn,ke.each(pn,(function(t){t.domElement.style.display=fn?"none":""}))},vn.CLASS_AUTO_PLACE="a",vn.CLASS_AUTO_PLACE_CONTAINER="ac",vn.CLASS_MAIN="main",vn.CLASS_CONTROLLER_ROW="cr",vn.CLASS_TOO_TALL="taller-than-window",vn.CLASS_CLOSED="closed",vn.CLASS_CLOSE_BUTTON="close-button",vn.CLASS_CLOSE_TOP="close-top",vn.CLASS_CLOSE_BOTTOM="close-bottom",vn.CLASS_DRAG="drag",vn.DEFAULT_WIDTH=245,vn.TEXT_CLOSED="Close Controls",vn.TEXT_OPEN="Open Controls",vn._keydownHandler=function(t){"text"===document.activeElement.type||72!==t.which&&72!==t.keyCode||vn.toggleHide()},Ve.bind(window,"keydown",vn._keydownHandler,!1),ke.extend(vn.prototype,{add:function(t,e){return _n(this,t,e,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(t,e){return _n(this,t,e,{color:!0})},remove:function(t){this.__ul.removeChild(t.__li),this.__controllers.splice(this.__controllers.indexOf(t),1);var e=this;ke.defer((function(){e.onResize()}))},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&dn.removeChild(this.domElement);var t=this;ke.each(this.__folders,(function(e){t.removeFolder(e)})),Ve.unbind(window,"keydown",vn._keydownHandler,!1),gn(this)},addFolder:function(t){if(void 0!==this.__folders[t])throw new Error('You already have a folder in this GUI by the name "'+t+'"');var e={name:t,parent:this};e.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[t]&&(e.closed=this.load.folders[t].closed,e.load=this.load.folders[t]);var n=new vn(e);this.__folders[t]=n;var i=mn(this,n.domElement);return Ve.addClass(i,"folder"),n},removeFolder:function(t){this.__ul.removeChild(t.domElement.parentElement),delete this.__folders[t.name],this.load&&this.load.folders&&this.load.folders[t.name]&&delete this.load.folders[t.name],gn(t);var e=this;ke.each(t.__folders,(function(e){t.removeFolder(e)})),ke.defer((function(){e.onResize()}))},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var t=this.getRoot();if(t.scrollable){var e=Ve.getOffset(t.__ul).top,n=0;ke.each(t.__ul.childNodes,(function(e){t.autoPlace&&e===t.__save_row||(n+=Ve.getHeight(e))})),window.innerHeight-e-20<n?(Ve.addClass(t.domElement,vn.CLASS_TOO_TALL),t.__ul.style.height=window.innerHeight-e-20+"px"):(Ve.removeClass(t.domElement,vn.CLASS_TOO_TALL),t.__ul.style.height="auto")}t.__resize_handle&&ke.defer((function(){t.__resize_handle.style.height=t.__ul.offsetHeight+"px"})),t.__closeButton&&(t.__closeButton.style.width=t.width+"px")},onResizeDebounced:ke.debounce((function(){this.onResize()}),50),remember:function(){if(ke.isUndefined(ln)&&((ln=new sn).domElement.innerHTML=rn),this.parent)throw new Error("You can only call remember on a top level GUI.");var t=this;ke.each(Array.prototype.slice.call(arguments),(function(e){0===t.__rememberedObjects.length&&On(t),-1===t.__rememberedObjects.indexOf(e)&&t.__rememberedObjects.push(e)})),this.autoPlace&&Cn(this,this.width)},getRoot:function(){for(var t=this;t.parent;)t=t.parent;return t},getSaveObject:function(){var t=this.load;return t.closed=this.closed,this.__rememberedObjects.length>0&&(t.preset=this.preset,t.remembered||(t.remembered={}),t.remembered[this.preset]=An(this)),t.folders={},ke.each(this.__folders,(function(e,n){t.folders[n]=e.getSaveObject()})),t},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=An(this),yn(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(t){this.load.remembered||(this.load.remembered={},this.load.remembered.Default=An(this,!0)),this.load.remembered[t]=An(this),this.preset=t,xn(this,t,!0),this.saveToLocalStorageIfPossible()},revert:function(t){ke.each(this.__controllers,(function(e){this.getRoot().load.remembered?bn(t||this.getRoot(),e):e.setValue(e.initialValue),e.__onFinishChange&&e.__onFinishChange.call(e,e.getValue())}),this),ke.each(this.__folders,(function(t){t.revert(t)})),t||yn(this.getRoot(),!1)},listen:function(t){var e=0===this.__listening.length;this.__listening.push(t),e&&function t(e){0!==e.length&&on.call(window,(function(){t(e)}));ke.each(e,(function(t){t.updateDisplay()}))}(this.__listening)},updateDisplay:function(){ke.each(this.__controllers,(function(t){t.updateDisplay()})),ke.each(this.__folders,(function(t){t.updateDisplay()}))}});var Mn={color:{Color:Le,math:Te,interpret:Ae},controllers:{Controller:Be,BooleanController:Ge,OptionController:We,StringController:Xe,NumberController:Ye,NumberControllerBox:Qe,NumberControllerSlider:Ze,FunctionController:Je,ColorController:$e},dom:{dom:Ve},gui:{GUI:vn},GUI:vn};var Tn=function(){this.__data__=[],this.size=0};var En=function(t,e){return t===e||t!=t&&e!=e};var Pn=function(t,e){for(var n=t.length;n--;)if(En(t[n][0],e))return n;return-1},Dn=Array.prototype.splice;var jn=function(t){var e=this.__data__,n=Pn(e,t);return!(n<0)&&(n==e.length-1?e.pop():Dn.call(e,n,1),--this.size,!0)};var Rn=function(t){var e=this.__data__,n=Pn(e,t);return n<0?void 0:e[n][1]};var In=function(t){return Pn(this.__data__,t)>-1};var Ln=function(t,e){var n=this.__data__,i=Pn(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this};function Nn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Nn.prototype.clear=Tn,Nn.prototype.delete=jn,Nn.prototype.get=Rn,Nn.prototype.has=In,Nn.prototype.set=Ln;var Fn=Nn;var Bn=function(){this.__data__=new Fn,this.size=0};var zn=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};var Un=function(t){return this.__data__.get(t)};var Hn=function(t){return this.__data__.has(t)},Vn=n("Ju5/"),Gn=Vn.a.Symbol,Wn=Object.prototype,Xn=Wn.hasOwnProperty,qn=Wn.toString,Yn=Gn?Gn.toStringTag:void 0;var Qn=function(t){var e=Xn.call(t,Yn),n=t[Yn];try{t[Yn]=void 0;var i=!0}catch(a){}var r=qn.call(t);return i&&(e?t[Yn]=n:delete t[Yn]),r},Kn=Object.prototype.toString;var Zn=function(t){return Kn.call(t)},Jn=Gn?Gn.toStringTag:void 0;var $n=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Jn&&Jn in Object(t)?Qn(t):Zn(t)};var ti=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)};var ei,ni=function(t){if(!ti(t))return!1;var e=$n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},ii=Vn.a["__core-js_shared__"],ri=(ei=/[^.]+$/.exec(ii&&ii.keys&&ii.keys.IE_PROTO||""))?"Symbol(src)_1."+ei:"";var ai=function(t){return!!ri&&ri in t},oi=Function.prototype.toString;var si=function(t){if(null!=t){try{return oi.call(t)}catch(e){}try{return t+""}catch(e){}}return""},ci=/^\[object .+?Constructor\]$/,ui=Function.prototype,li=Object.prototype,hi=ui.toString,di=li.hasOwnProperty,fi=RegExp("^"+hi.call(di).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var pi=function(t){return!(!ti(t)||ai(t))&&(ni(t)?fi:ci).test(si(t))};var vi=function(t,e){return null==t?void 0:t[e]};var mi=function(t,e){var n=vi(t,e);return pi(n)?n:void 0},gi=mi(Vn.a,"Map"),yi=mi(Object,"create");var bi=function(){this.__data__=yi?yi(null):{},this.size=0};var _i=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},wi=Object.prototype.hasOwnProperty;var xi=function(t){var e=this.__data__;if(yi){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return wi.call(e,t)?e[t]:void 0},ki=Object.prototype.hasOwnProperty;var Oi=function(t){var e=this.__data__;return yi?void 0!==e[t]:ki.call(e,t)};var Si=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=yi&&void 0===e?"__lodash_hash_undefined__":e,this};function Ci(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Ci.prototype.clear=bi,Ci.prototype.delete=_i,Ci.prototype.get=xi,Ci.prototype.has=Oi,Ci.prototype.set=Si;var Ai=Ci;var Mi=function(){this.size=0,this.__data__={hash:new Ai,map:new(gi||Fn),string:new Ai}};var Ti=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var Ei=function(t,e){var n=t.__data__;return Ti(e)?n["string"==typeof e?"string":"hash"]:n.map};var Pi=function(t){var e=Ei(this,t).delete(t);return this.size-=e?1:0,e};var Di=function(t){return Ei(this,t).get(t)};var ji=function(t){return Ei(this,t).has(t)};var Ri=function(t,e){var n=Ei(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this};function Ii(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Ii.prototype.clear=Mi,Ii.prototype.delete=Pi,Ii.prototype.get=Di,Ii.prototype.has=ji,Ii.prototype.set=Ri;var Li=Ii;var Ni=function(t,e){var n=this.__data__;if(n instanceof Fn){var i=n.__data__;if(!gi||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Li(i)}return n.set(t,e),this.size=n.size,this};function Fi(t){var e=this.__data__=new Fn(t);this.size=e.size}Fi.prototype.clear=Bn,Fi.prototype.delete=zn,Fi.prototype.get=Un,Fi.prototype.has=Hn,Fi.prototype.set=Ni;var Bi=Fi;var zi=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t},Ui=function(){try{var t=mi(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();var Hi=function(t,e,n){"__proto__"==e&&Ui?Ui(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Vi=Object.prototype.hasOwnProperty;var Gi=function(t,e,n){var i=t[e];Vi.call(t,e)&&En(i,n)&&(void 0!==n||e in t)||Hi(t,e,n)};var Wi=function(t,e,n,i){var r=!n;n||(n={});for(var a=-1,o=e.length;++a<o;){var s=e[a],c=i?i(n[s],t[s],s,n,t):void 0;void 0===c&&(c=t[s]),r?Hi(n,s,c):Gi(n,s,c)}return n};var Xi=function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i};var qi=function(t){return null!=t&&"object"==typeof t};var Yi=function(t){return qi(t)&&"[object Arguments]"==$n(t)},Qi=Object.prototype,Ki=Qi.hasOwnProperty,Zi=Qi.propertyIsEnumerable,Ji=Yi(function(){return arguments}())?Yi:function(t){return qi(t)&&Ki.call(t,"callee")&&!Zi.call(t,"callee")},$i=Array.isArray,tr=n("WOAq"),er=/^(?:0|[1-9]\d*)$/;var nr=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&er.test(t))&&t>-1&&t%1==0&&t<e};var ir=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},rr={};rr["[object Float32Array]"]=rr["[object Float64Array]"]=rr["[object Int8Array]"]=rr["[object Int16Array]"]=rr["[object Int32Array]"]=rr["[object Uint8Array]"]=rr["[object Uint8ClampedArray]"]=rr["[object Uint16Array]"]=rr["[object Uint32Array]"]=!0,rr["[object Arguments]"]=rr["[object Array]"]=rr["[object ArrayBuffer]"]=rr["[object Boolean]"]=rr["[object DataView]"]=rr["[object Date]"]=rr["[object Error]"]=rr["[object Function]"]=rr["[object Map]"]=rr["[object Number]"]=rr["[object Object]"]=rr["[object RegExp]"]=rr["[object Set]"]=rr["[object String]"]=rr["[object WeakMap]"]=!1;var ar=function(t){return qi(t)&&ir(t.length)&&!!rr[$n(t)]};var or=function(t){return function(e){return t(e)}},sr=n("xutz"),cr=sr.a&&sr.a.isTypedArray,ur=cr?or(cr):ar,lr=Object.prototype.hasOwnProperty;var hr=function(t,e){var n=$i(t),i=!n&&Ji(t),r=!n&&!i&&Object(tr.a)(t),a=!n&&!i&&!r&&ur(t),o=n||i||r||a,s=o?Xi(t.length,String):[],c=s.length;for(var u in t)!e&&!lr.call(t,u)||o&&("length"==u||r&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||nr(u,c))||s.push(u);return s},dr=Object.prototype;var fr=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||dr)};var pr=function(t,e){return function(n){return t(e(n))}},vr=pr(Object.keys,Object),mr=Object.prototype.hasOwnProperty;var gr=function(t){if(!fr(t))return vr(t);var e=[];for(var n in Object(t))mr.call(t,n)&&"constructor"!=n&&e.push(n);return e};var yr=function(t){return null!=t&&ir(t.length)&&!ni(t)};var br=function(t){return yr(t)?hr(t):gr(t)};var _r=function(t,e){return t&&Wi(e,br(e),t)};var wr=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e},xr=Object.prototype.hasOwnProperty;var kr=function(t){if(!ti(t))return wr(t);var e=fr(t),n=[];for(var i in t)("constructor"!=i||!e&&xr.call(t,i))&&n.push(i);return n};var Or=function(t){return yr(t)?hr(t,!0):kr(t)};var Sr=function(t,e){return t&&Wi(e,Or(e),t)},Cr=n("3/ER");var Ar=function(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e};var Mr=function(t,e){for(var n=-1,i=null==t?0:t.length,r=0,a=[];++n<i;){var o=t[n];e(o,n,t)&&(a[r++]=o)}return a};var Tr=function(){return[]},Er=Object.prototype.propertyIsEnumerable,Pr=Object.getOwnPropertySymbols,Dr=Pr?function(t){return null==t?[]:(t=Object(t),Mr(Pr(t),(function(e){return Er.call(t,e)})))}:Tr;var jr=function(t,e){return Wi(t,Dr(t),e)};var Rr=function(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t},Ir=pr(Object.getPrototypeOf,Object),Lr=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Rr(e,Dr(t)),t=Ir(t);return e}:Tr;var Nr=function(t,e){return Wi(t,Lr(t),e)};var Fr=function(t,e,n){var i=e(t);return $i(t)?i:Rr(i,n(t))};var Br=function(t){return Fr(t,br,Dr)};var zr=function(t){return Fr(t,Or,Lr)},Ur=mi(Vn.a,"DataView"),Hr=mi(Vn.a,"Promise"),Vr=mi(Vn.a,"Set"),Gr=mi(Vn.a,"WeakMap"),Wr="[object Map]",Xr="[object Promise]",qr="[object Set]",Yr="[object WeakMap]",Qr="[object DataView]",Kr=si(Ur),Zr=si(gi),Jr=si(Hr),$r=si(Vr),ta=si(Gr),ea=$n;(Ur&&ea(new Ur(new ArrayBuffer(1)))!=Qr||gi&&ea(new gi)!=Wr||Hr&&ea(Hr.resolve())!=Xr||Vr&&ea(new Vr)!=qr||Gr&&ea(new Gr)!=Yr)&&(ea=function(t){var e=$n(t),n="[object Object]"==e?t.constructor:void 0,i=n?si(n):"";if(i)switch(i){case Kr:return Qr;case Zr:return Wr;case Jr:return Xr;case $r:return qr;case ta:return Yr}return e});var na=ea,ia=Object.prototype.hasOwnProperty;var ra=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&ia.call(t,"index")&&(n.index=t.index,n.input=t.input),n},aa=Vn.a.Uint8Array;var oa=function(t){var e=new t.constructor(t.byteLength);return new aa(e).set(new aa(t)),e};var sa=function(t,e){var n=e?oa(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},ca=/\w*$/;var ua=function(t){var e=new t.constructor(t.source,ca.exec(t));return e.lastIndex=t.lastIndex,e},la=Gn?Gn.prototype:void 0,ha=la?la.valueOf:void 0;var da=function(t){return ha?Object(ha.call(t)):{}};var fa=function(t,e){var n=e?oa(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)};var pa=function(t,e,n){var i=t.constructor;switch(e){case"[object ArrayBuffer]":return oa(t);case"[object Boolean]":case"[object Date]":return new i(+t);case"[object DataView]":return sa(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return fa(t,n);case"[object Map]":return new i;case"[object Number]":case"[object String]":return new i(t);case"[object RegExp]":return ua(t);case"[object Set]":return new i;case"[object Symbol]":return da(t)}},va=Object.create,ma=function(){function t(){}return function(e){if(!ti(e))return{};if(va)return va(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();var ga=function(t){return"function"!=typeof t.constructor||fr(t)?{}:ma(Ir(t))};var ya=function(t){return qi(t)&&"[object Map]"==na(t)},ba=sr.a&&sr.a.isMap,_a=ba?or(ba):ya;var wa=function(t){return qi(t)&&"[object Set]"==na(t)},xa=sr.a&&sr.a.isSet,ka=xa?or(xa):wa,Oa="[object Arguments]",Sa="[object Function]",Ca="[object Object]",Aa={};Aa[Oa]=Aa["[object Array]"]=Aa["[object ArrayBuffer]"]=Aa["[object DataView]"]=Aa["[object Boolean]"]=Aa["[object Date]"]=Aa["[object Float32Array]"]=Aa["[object Float64Array]"]=Aa["[object Int8Array]"]=Aa["[object Int16Array]"]=Aa["[object Int32Array]"]=Aa["[object Map]"]=Aa["[object Number]"]=Aa["[object Object]"]=Aa["[object RegExp]"]=Aa["[object Set]"]=Aa["[object String]"]=Aa["[object Symbol]"]=Aa["[object Uint8Array]"]=Aa["[object Uint8ClampedArray]"]=Aa["[object Uint16Array]"]=Aa["[object Uint32Array]"]=!0,Aa["[object Error]"]=Aa[Sa]=Aa["[object WeakMap]"]=!1;var Ma=function t(e,n,i,r,a,o){var s,c=1&n,u=2&n,l=4&n;if(i&&(s=a?i(e,r,a,o):i(e)),void 0!==s)return s;if(!ti(e))return e;var h=$i(e);if(h){if(s=ra(e),!c)return Ar(e,s)}else{var d=na(e),f=d==Sa||"[object GeneratorFunction]"==d;if(Object(tr.a)(e))return Object(Cr.a)(e,c);if(d==Ca||d==Oa||f&&!a){if(s=u||f?{}:ga(e),!c)return u?Nr(e,Sr(s,e)):jr(e,_r(s,e))}else{if(!Aa[d])return a?e:{};s=pa(e,d,c)}}o||(o=new Bi);var p=o.get(e);if(p)return p;o.set(e,s),ka(e)?e.forEach((function(r){s.add(t(r,n,i,r,e,o))})):_a(e)&&e.forEach((function(r,a){s.set(a,t(r,n,i,a,e,o))}));var v=h?void 0:(l?u?zr:Br:u?Or:br)(e);return zi(v||e,(function(r,a){v&&(r=e[a=r]),Gi(s,a,t(r,n,i,a,e,o))})),s};var Ta=function(t){return Ma(t,5)},Ea=n("pc+1"),Pa=n("nOaX"),Da=(Ea.A.registerPlugin(Pa.a)||Ea.A).core.Tween,ja=c.fb.degToRad,Ra=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentState=0,e.check=-1,e.states=[{sunLight:{h:1,s:0,l:0},lightning:0,dark:0,skyController:{turbidity:1,rayleigh:4,mieCoefficient:.038,mieDirectionalG:.463,luminance:1.1543,inclination:.95,azimuth:.7927,totalRayleighX:100,totalRayleighY:30.5276,totalRayleighZ:39.884,stars:0,sunStrength:1},volumeController:{thunder:0,bgm:0,night:0,wind:.7,forest:.5,electric:0,chimes:0},cameraPos:{x:-513,z:586},rotationDistort:{x:0,y:ja(50),z:0},floatingHeightDif:350,effectController:{focalLength:.1,focus:.1,far:1200,cloudOpacity:1}},{duration:1.5,cameraPos:{x:-400.6576510019527,y:462.2077804194029,z:-750.9342282665305},rotationDistort:{x:ja(-28),y:ja(100),z:ja(10)},floatingHeightDif:700,effectController:{focalLength:.1,focus:.1}},{volumeController:{thunder:0,bgm:0,night:0,wind:.4,forest:.7,electric:0,chimes:0},duration:1,cameraPos:{x:-600,y:462,z:-751},rotationDistort:{x:ja(-5),y:ja(110),z:ja(0)},floatingHeightDif:320,effectController:{focalLength:1,focus:.15}},{volumeController:{thunder:0,bgm:0,night:0,wind:.4,forest:.7,electric:0,chimes:.3},duration:7,cameraPos:{x:-800,y:462,z:-700},rotationDistort:{x:ja(-5),y:ja(110),z:ja(0)},floatingHeightDif:170,effectController:{focalLength:.17,focus:.15,far:1200}},{duration:.5,cameraPos:{x:-850,y:462,z:-650},rotationDistort:{x:ja(-21.5),y:ja(84),z:ja(0)},floatingHeightDif:210,effectController:{focalLength:.1,focus:.1}},{lightning:0,volumeController:{thunder:0,bgm:0,night:0,wind:.4,forest:.7,electric:0,chimes:.3},duration:4.7,cameraPos:{x:-850,y:462,z:-650},floatingHeightDif:220,rotationDistort:{x:ja(-26),y:ja(84),z:ja(0)},effectController:{focalLength:.1,focus:.1,far:1200,fogDensity:.002}},{volumeController:{thunder:0,bgm:0,night:0,wind:.6,forest:.4,electric:0,chimes:0},duration:7,cameraPos:{x:-1450,y:462,z:-650},rotationDistort:{x:ja(0),y:ja(-5),z:ja(0)},floatingHeightDif:320,effectController:{focalLength:.3,focus:.6,far:2e3,fogDensity:.001},skyController:{azimuth:.7927,inclination:.95,luminance:1.154288846259249,mieCoefficient:.038,mieDirectionalG:.463,rayleigh:4,sunStrength:1,totalRayleighX:100,totalRayleighY:30.5276,totalRayleighZ:39.884,turbidity:1}},{lightning:0,volumeController:{thunder:0,bgm:0,night:0,wind:.6,forest:.4,electric:.4,chimes:0},duration:5.9,cameraPos:{x:-1523,y:462,z:-1226},rotationDistort:{x:ja(60),y:ja(-28),z:ja(0)},floatingHeightDif:200,effectController:{focalLength:.5,focus:.5,far:1200,fogDensity:.001},skyController:{stars:0,azimuth:.7927,inclination:.95,luminance:1.154288846259249,mieCoefficient:.038,mieDirectionalG:.463,rayleigh:4,sunStrength:1,totalRayleighX:100,totalRayleighY:30.5276,totalRayleighZ:39.884,turbidity:1},dark:0},{dark:1,sunLight:{h:1,s:0,l:0},lightning:1,duration:.01,effectEase:Ea.b.easeInOut,skyEase:Ea.b.easeInOut,rotationDistort:{x:ja(40),y:ja(-30),z:ja(0)},floatingHeightDif:100,skyController:{stars:1,turbidity:20,rayleigh:4,mieCoefficient:.1,mieDirectionalG:1,luminance:1.154288846259249,inclination:1.47,azimuth:.8490000000000001,totalRayleighX:100,totalRayleighY:20.805400000000002,totalRayleighZ:38.1691,sunStrength:1},cameraPos:{x:400,y:462,z:-2700},effectController:{focalLength:.03,focus:1,far:1200,fogDensity:.002,cloudOpacity:.7},volumeController:{thunder:0,bgm:0,night:0,wind:.6,forest:.4,electric:.4,chimes:0}},{duration:3,volumeController:{thunder:1,bgm:0,night:0,wind:.8,forest:0,electric:0,chimes:0}},{floatingHeightDif:150,duration:8,effectEase:Ea.b.easeInOut,volumeController:{thunder:1,bgm:0,night:0,wind:.8,forest:0,electric:0,chimes:0}},{dark:1,lightning:1,rotationDistort:{x:ja(-20),y:ja(-30),z:ja(0)},floatingHeightDif:200,skyController:{stars:1,turbidity:20,rayleigh:4,mieCoefficient:.1,mieDirectionalG:1,luminance:1.154288846259249,inclination:1.47,azimuth:.8490000000000001,totalRayleighX:100,totalRayleighY:20.805400000000002,totalRayleighZ:38.1691,sunStrength:1},duration:17,effectEase:Ea.b.easeInOut,effectController:{focalLength:.03,focus:1,far:1200,fogDensity:.002,cloudOpacity:.7},volumeController:{thunder:1,bgm:0,night:0,wind:.8,forest:0,electric:0,chimes:0}},{sunLight:{h:1,s:0,l:0},lightning:0,skyController:{stars:0,turbidity:18.7599,rayleigh:1.2974,mieCoefficient:.0954,mieDirectionalG:.8893,luminance:1.0606,inclination:1.4732,azimuth:.8182,totalRayleighX:99.0007,totalRayleighY:20.9661,totalRayleighZ:38.8118,sunStrength:1},duration:13,cameraPos:{x:850,y:462,z:-4703},rotationDistort:{x:ja(30),y:ja(-20),z:ja(0)},effectEase:Ea.b.easeIn,effectController:{focalLength:.03,focus:1,far:1200,fogDensity:.002,cloudOpacity:.7},volumeController:{thunder:.5,bgm:.15,night:0,wind:.7,forest:.5,electric:0,chimes:0}},{sunLight:{h:.07,s:.6,l:.4},volumeController:{thunder:0,bgm:.3,night:0,wind:.7,forest:.5,electric:0,chimes:0},dark:0,effectController:{focalLength:.3,focus:.3,far:1200,fogDensity:.002,cloudOpacity:1},duration:18,cameraPos:{x:1700,y:462,z:-7e3},floatingHeightDif:250,rotationDistort:{x:ja(-5),y:ja(-20),z:ja(0)},skyController:{turbidity:20,rayleigh:.41400000000000003,mieCoefficient:.01,mieDirectionalG:.75,luminance:.4878,inclination:1.4875,azimuth:.7525,totalRayleighX:92.8646,totalRayleighY:21.6736,totalRayleighZ:59.0055,stars:0,sunStrength:1}}],e.stateOverrides=[{sunLight:{h:.1,s:.43,l:.2},floatingHeightDif:250,volumeController:{thunder:0,bgm:.3,night:0,wind:.7,forest:.3,electric:0,chimes:0},dark:0,lightning:0,skyController:{stars:0,azimuth:.7927,inclination:.95,luminance:1.154288846259249,mieCoefficient:.038,mieDirectionalG:.463,rayleigh:4,sunStrength:1,totalRayleighX:100,totalRayleighY:30.5276,totalRayleighZ:39.884,turbidity:1},rotationDistort:{x:ja(-10),y:ja(-80),z:ja(0)},effectController:{focalLength:.2,focus:.2,far:1200,fogDensity:.002,cloudOpacity:1}},{sunLight:{h:.1,s:.43,l:.2},floatingHeightDif:200,volumeController:{thunder:0,bgm:.3,night:0,wind:.5,forest:.3,electric:0,chimes:0},dark:1,lightning:0,skyController:{stars:0,turbidity:14.8,rayleigh:.064,mieCoefficient:.043,mieDirectionalG:.665,luminance:1.1192107426692244,inclination:1.2244000000000002,azimuth:.5158,totalRayleighX:48.5873,totalRayleighY:19.9372,totalRayleighZ:54.6646,sunStrength:1},rotationDistort:{x:ja(-5),y:ja(-80),z:ja(0)},effectController:{focalLength:.2,focus:.2,far:1200,fogDensity:.002,cloudOpacity:1}},{sunLight:{h:.01,s:.8,l:.6},floatingHeightDif:200,volumeController:{thunder:0,bgm:.3,night:.5,wind:.2,forest:0,electric:0,chimes:0},dark:1,lightning:0,skyController:{turbidity:13.8,rayleigh:.309,mieCoefficient:.002,mieDirectionalG:.84,luminance:.8385859139490272,inclination:.4176,azimuth:.4982,totalRayleighX:40.7736,totalRayleighY:10.3872,totalRayleighZ:19.0691,stars:0,sunStrength:1},rotationDistort:{x:ja(-5),y:ja(-80),z:ja(0)},effectController:{focalLength:.2,focus:.2,far:1200,fogDensity:.002,cloudOpacity:.5}},{sunLight:{h:.1,s:.43,l:0},floatingHeightDif:150,lightning:0,volumeController:{thunder:0,bgm:.3,night:.7,wind:0,forest:0,electric:0,chimes:0},dark:1,skyController:{turbidity:15,rayleigh:1.081,mieCoefficient:.1,mieDirectionalG:.612,luminance:1.1192,inclination:.5053,azimuth:.6999,totalRayleighX:13.860000000000001,totalRayleighY:1.7054,totalRayleighZ:1,stars:1,sunStrength:1},rotationDistort:{x:ja(10),y:ja(-150),z:ja(0)},effectController:{focalLength:.3,focus:1,far:1200,fogDensity:.002,cloudOpacity:.5}},{sunLight:{h:.1,s:.43,l:0},floatingHeightDif:200,lightning:1,volumeController:{thunder:.7,bgm:.3,night:0,wind:.3,forest:0,electric:0,chimes:0},dark:0,skyController:{stars:0,azimuth:.7927,inclination:.95,luminance:1.154288846259249,mieCoefficient:.038,mieDirectionalG:.463,rayleigh:4,sunStrength:1,totalRayleighX:100,totalRayleighY:30.5276,totalRayleighZ:39.884,turbidity:1},rotationDistort:{x:ja(-5),y:ja(-80),z:ja(0)},effectController:{focalLength:.2,focus:.2,far:1200,fogDensity:.002,cloudOpacity:1}},{sunLight:{h:.02,s:.8,l:.4},floatingHeightDif:200,volumeController:{thunder:0,bgm:.3,night:0,wind:.5,forest:.3,electric:0,chimes:0},dark:1,lightning:0,skyController:{turbidity:1,rayleigh:.274,mieCoefficient:.039,mieDirectionalG:.805,luminance:.821,inclination:.6106,azimuth:.5158,totalRayleighX:54.6646,totalRayleighY:18.2009,totalRayleighZ:20.8054,stars:0,sunStrength:1},rotationDistort:{x:ja(-5),y:ja(-90),z:ja(0)},effectController:{focalLength:.2,focus:.2,far:1200,fogDensity:.002,cloudOpacity:1}},{sunLight:{h:0,s:.43,l:.2},floatingHeightDif:250,volumeController:{thunder:0,bgm:.3,night:0,wind:.5,forest:.3,electric:0,chimes:0},lightning:0,dark:1,skyController:{stars:1,turbidity:20,rayleigh:.485,mieCoefficient:.003,mieDirectionalG:.682,luminance:.7333516031789531,inclination:1.3297,azimuth:.5245,totalRayleighX:2.5736000000000003,totalRayleighY:12.1236,totalRayleighZ:15.596300000000001,sunStrength:1},rotationDistort:{x:ja(-5),y:ja(-90),z:ja(0)},effectController:{focalLength:1,focus:.8,far:1200,fogDensity:.002,cloudOpacity:1}},{sunLight:{h:.58,s:.43,l:.2},floatingHeightDif:250,lightning:0,volumeController:{thunder:0,bgm:.3,night:0,wind:1,forest:0,electric:0,chimes:0},dark:1,skyController:{stars:1,turbidity:17.6,rayleigh:1.256,mieCoefficient:.029,mieDirectionalG:.77,luminance:1.1192107426692244,inclination:.5229,azimuth:.6385000000000001,totalRayleighX:87.6555,totalRayleighY:4.3099,totalRayleighZ:1,sunStrength:1},rotationDistort:{x:ja(5),y:ja(-130),z:ja(0)},effectController:{focalLength:1,focus:.85,far:1200,fogDensity:.002,cloudOpacity:1}},{sunLight:{h:.1,s:.43,l:.1},floatingHeightDif:250,lightning:0,volumeController:{thunder:0,bgm:.3,night:0,wind:.3,forest:.5,electric:0,chimes:0},dark:0,skyController:{stars:0,turbidity:1,rayleigh:.099,mieCoefficient:.1,mieDirectionalG:.779,luminance:1.0490545354891752,inclination:.8035,azimuth:.6035,totalRayleighX:66.8191,totalRayleighY:19.9372,totalRayleighZ:81.57820000000001,sunStrength:1},rotationDistort:{x:ja(10),y:ja(-90),z:ja(0)},effectController:{focalLength:1,focus:.3,far:1200,fogDensity:.002,cloudOpacity:1}},{sunLight:{h:.1,s:.43,l:.1},floatingHeightDif:250,lightning:0,volumeController:{thunder:0,bgm:.3,night:0,wind:.3,forest:.5,electric:0,chimes:0},dark:0,skyController:{turbidity:4.800000000000001,rayleigh:.379,mieCoefficient:.027,mieDirectionalG:.963,luminance:.8912030693340641,inclination:.9789,azimuth:.5158,totalRayleighX:32.96,totalRayleighY:14.728100000000001,totalRayleighZ:85.9192,stars:0,sunStrength:1},rotationDistort:{x:ja(10),y:ja(-90),z:ja(0)},effectController:{focalLength:1,focus:.3,far:1200,fogDensity:.002,cloudOpacity:1}},{sunLight:{h:.58,s:.43,l:0},floatingHeightDif:250,lightning:1,volumeController:{thunder:.5,bgm:.3,night:0,wind:1.5,forest:0,electric:0,chimes:0},dark:1,skyController:{turbidity:15.600000000000001,rayleigh:.34400000000000003,mieCoefficient:.085,mieDirectionalG:.981,luminance:1.17,inclination:1.0315,azimuth:.8665,totalRayleighX:71.16,totalRayleighY:17.3327,totalRayleighZ:45.9827,stars:1,sunStrength:1},rotationDistort:{x:ja(0),y:ja(30),z:ja(0)},effectController:{focalLength:.1,focus:.35,far:1200,fogDensity:.002,cloudOpacity:1}},{sunLight:{h:.1,s:.43,l:.1},floatingHeightDif:250,lightning:0,volumeController:{thunder:0,bgm:.3,night:0,wind:.5,forest:.3,electric:0,chimes:0},dark:0,skyController:{turbidity:4.3,rayleigh:1.782,mieCoefficient:.027,mieDirectionalG:.8310000000000001,luminance:.8912,inclination:.9789,azimuth:.5158,totalRayleighX:42.510000000000005,totalRayleighY:14.7281,totalRayleighZ:78.97370000000001,stars:0,sunStrength:1},rotationDistort:{x:ja(10),y:ja(-90),z:ja(0)},effectController:{focalLength:1,focus:.3,far:1200,fogDensity:.002,cloudOpacity:1}}],e}return Object(r.c)(e,t),e.prototype.create=function(){this.setState(0,!0,0)},e.prototype.nextState=function(){this.currentState++,this.currentState>this.states.length-1&&(this.currentState=0),this.setState(this.currentState)},e.prototype.setState=function(t,e,n,i){var r=this;void 0===e&&(e=!0),void 0===n&&(n=-1),void 0===i&&(i=null);var a=n>=0,o={};e&&!i&&(this.currentState=t);var s=this.states[t];(s=i||this.states[t]).skyController&&((u=Ta(s.skyController)).onUpdate=this.triggerSkyChange.bind(this),u.ease=Ea.b.easeInOut,o.skyController={target:this.ts.skyController,goal:u},e&&Da.to(this.ts.skyController,a?n:1,u));if(void 0!==s.dark){var u={dark:s.dark,onUpdate:function(){r.ts.darkChange.next(r.ts.dark)}};e&&Da.to(this.ts,a?n:1,u),o.dark={target:this.ts,goal:u}}if(void 0!==s.lightning){var u={lightning:s.lightning,onUpdate:function(){r.ts.lightningChange.next(r.ts.lightning)}};e&&Da.to(this.ts,a?n:1,u),o.lightning={target:this.ts,goal:u}}s.volumeController&&((u=Ta(s.volumeController)).onUpdate=function(){r.ts.volumeChange.next()},o.volumeController={target:this.ts.volumeController,goal:u},e&&Da.to(this.ts.volumeController,a?n:1,u));s.effectController&&((u=Ta(s.effectController)).onUpdate=this.triggerEffectChange.bind(this),u.ease=Ea.b.easeInOut,o.effectController={target:this.ts.effectController,goal:u},e&&Da.to(this.ts.effectController,a?n:1,u));s.cameraController&&((u=Ta(s.cameraController)).onUpdate=this.triggerCameraChange.bind(this),u.ease=Ea.b.easeInOut,o.cameraController={target:this.ts.cameraController,goal:u},e&&Da.to(this.ts.cameraController,a?n:1,u));s.cameraPos&&((u=Ta(s.cameraPos)).onUpdate=this.triggerCamposChange.bind(this),u.onComplete=this.triggerCamposComplete.bind(this),u.ease=Ea.a.easeInOut,o.cameraPos={target:this.ts.controlObj.position,goal:u},e&&Da.to(this.ts.controlObj.position,a?n:1,u));if(s.cameraRot){(u=Ta(s.cameraRot)).ease=Ea.a.easeInOut;var l=(new c.Fb).setFromEuler(new c.C(s.cameraRot.x/180*Math.PI,s.cameraRot.y/180*Math.PI,s.cameraRot.z/180*Math.PI)).normalize();o.cameraRot={target:this.ts.controlObj.quaternion,goal:{x:l.x,y:l.y,z:l.z,w:l.w}},e&&Da.to(this.ts.controlObj.quaternion,a?n:1,u)}if(s.rotationDistort){u=Ta(s.rotationDistort);e&&Da.to(this.ts.rotationDistort,a?n:1,u),o.rotationDistort={target:this.ts.rotationDistort,goal:u}}if(void 0!==s.floatingHeightDif){u={floatingHeightDif:s.floatingHeightDif};e&&Da.to(this.ts,a?n:1,u),o.floatingHeightDif={target:this.ts,goal:u}}if(s.ambientLight){var h={h:0,s:0,l:0};this.ts.pass.light.color.getHSL(h);var d=function(t,e){t.ts.pass.light.color.setHSL(e.h,e.s,e.l)};(u=Ta(s.ambientLight)).onUpdate=d,u.ease=Ea.a.easeInOut,u.onUpdateParams=[this,h],e&&Da.to(h,a?n:1,u),o.ambientLight={target:h,goal:u}}if(s.sunLight){h={h:0,s:0,l:0};this.ts.lensflare.light.color.getHSL(h);d=function(t,e){t.ts.lensflare.light.color.setHSL(e.h,e.s,e.l)};(u=Ta(s.sunLight)).onUpdate=d,u.ease=Ea.a.easeInOut,u.onUpdateParams=[this,h],e&&Da.to(h,a?n:1,u),o.sunLight={target:h,goal:u}}return s.bgColor&&(o.bgColor={target:this.bgColorTarget,goal:{fill:s.bgColor}}),o},e.prototype.triggerEffectChange=function(){this.ts.onEffectsUpdate.next()},e.prototype.triggerSkyChange=function(){this.ts.onSkyUpdate.next()},e.prototype.triggerCameraChange=function(){this.ts.onCameraUpdate.next()},e.prototype.triggerCamposChange=function(){this.ts.onCameraUpdate.next()},e.prototype.triggerCamposComplete=function(t){this.ts.onCameraUpdate.next(),this.ts.cameraIsAnimating=!1},e.prototype.startLighting=function(){var t=this;this.stopLighting(),this.ts.lightningRunning=!0,this.ts.lightningTimeout=setTimeout((function(){t.startLighting(),t.ts.isSoundOn.value&&t.lightning()}),2e3+(6e3*(1-2*(this.ts.lightning-.5))+2e3)*Math.random())},e.prototype.stopLighting=function(){this.ts.lightningRunning=!1,this.ts.lightningHappening=!1,this.ts.lightningTween&&this.ts.lightningTween.kill(),clearTimeout(this.ts.lightningTimeout2),clearTimeout(this.ts.lightningTimeout)},e.prototype.lightning=function(){return Object(r.a)(this,void 0,void 0,(function(){var t,e,n,i,a,o,s=this;return Object(r.d)(this,(function(c){switch(c.label){case 0:t=this.ts.skyController.luminance,e=Math.floor(5+8*Math.random()),this.ts.lightningHappening=!0,n=function(e){var n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return i.ts.lightningRunning?(e%2==0&&(i.ts.luminanceOverride=.01,i.ts.onSkyUpdate.next()),n=300*Math.random()-150,i.ts.lightningTween&&i.ts.lightningTween.kill(),e%2!=0&&(i.ts.lightningTween=Da.to(i.ts,n/1e3,{luminanceOverride:t,onUpdate:function(){s.ts.onSkyUpdate.next()}})),[4,new Promise((function(t){s.ts.lightningTimeout2=setTimeout(t,n)}))]):(i.ts.lightningTween&&i.ts.lightningTween.kill(),clearTimeout(i.ts.lightningTimeout2),i.ts.luminanceOverride=t,i.ts.onSkyUpdate.next(),[2,{value:void 0}]);case 1:return r.sent(),[2]}}))},i=this,a=0,c.label=1;case 1:return a<e?[5,n(a)]:[3,4];case 2:if("object"==typeof(o=c.sent()))return[2,o.value];c.label=3;case 3:return a++,[3,1];case 4:return this.ts.lightningTween&&this.ts.lightningTween.kill(),this.ts.luminanceOverride=t,this.ts.lightningHappening=!1,this.ts.onSkyUpdate.next(),[2]}}))}))},e.prototype.onRender=function(t){},e.prototype.createTimeline=function(){var t=this,e=[];this.states.forEach((function(t){Object.keys(t).forEach((function(t){e.indexOf(t)<0&&e.push(t)}))}));var n={},i=[];return this.states.forEach((function(e,n){var r=t.setState(n,!1);i.push(r)})),this.states.forEach((function(r,a){0!==a&&e.forEach((function(e){if(["delay","duration"].indexOf(e)<0){var o=i[a][e];if(n[e]||(n[e]=C.b.timeline()),o)o.goal.ease=r.scrollEase?r.scrollEase:"none",o.goal.duration=void 0!==r.duration?r.duration:1,o.goal.delay=void 0!==r.delay?r.delay:0,o.goal.onStart=function(){},n[e].to(o.target,o.goal);else{var s=t.findClosestPrev(i,e,a),c=t.findClosestNext(i,e,a);if(c.found&&s.found){var u=s.stepsNeeded+c.stepsNeeded,l=.5*(1-c.stepsNeeded/u),h=.5-.5*(1-s.stepsNeeded/u)+l,d=t.lerpObjects(s.found.goal,c.found.goal,h);d.ease=r.scrollEase?r.scrollEase:"none",d.delay=void 0!==r.delay?r.delay:0,d.duration=void 0!==r.duration?r.duration:1,n[e].to(s.found.target,d)}else{var f={};f.duration=void 0!==r.duration?r.duration:1,n[e].to({},f)}}}}))})),n},e.prototype.findClosestPrev=function(t,e,n,i){var r;void 0===i&&(i=1);var a=n-1,o=null===(r=t[a])||void 0===r?void 0:r[e];return!o&&a>0?this.findClosestPrev(t,e,a,i+1):{key:e,found:o,stepsNeeded:i}},e.prototype.findClosestNext=function(t,e,n,i){var r;void 0===i&&(i=1);var a=n+1,o=null===(r=t[a])||void 0===r?void 0:r[e];return!o&&a<t.length?this.findClosestNext(t,e,a,i+1):{key:e,found:o,stepsNeeded:i}},e.prototype.lerpObjects=function(t,e,n,i){var r=this;void 0===n&&(n=.5),void 0===i&&(i=["onUpdateParams","onUpdate","ease","_gsap"]);var a={};return Object.keys(t).forEach((function(o){i.indexOf(o)<0&&(void 0!==t[o]&&void 0!==e[o]&&"number"==typeof t[o]&&"number"==typeof e[o]?a[o]=c.fb.lerp(t[o],e[o],n):void 0!==t[o]&&void 0!==e[o]&&"object"==typeof t[o]&&"object"==typeof e[o]?a[o]=r.lerpObjects(t[o],e[o],n):a[o]=t[o])})),a},e.prototype.onSkyUpdate=function(){},e}(s),Ia=n("Cfvw"),La=function(){var t=/^[og]\s*(.+)?/,e=/^mtllib /,n=/^usemtl /,i=/^usemap /,r=new c.kc,a=new c.kc,o=new c.kc,s=new c.kc,u=new c.kc;function l(){var t={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(t,e){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=t,void(this.object.fromDeclaration=!1!==e);var n=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:t||"",fromDeclaration:!1!==e,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(t,e){var n=this._finalize(!1);n&&(n.inherited||n.groupCount<=0)&&this.materials.splice(n.index,1);var i={index:this.materials.length,name:t||"",mtllib:Array.isArray(e)&&e.length>0?e[e.length-1]:"",smooth:void 0!==n?n.smooth:this.smooth,groupStart:void 0!==n?n.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(t){var e={index:"number"==typeof t?t:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return e.clone=this.clone.bind(e),e}};return this.materials.push(i),i},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(t){var e=this.currentMaterial();if(e&&-1===e.groupEnd&&(e.groupEnd=this.geometry.vertices.length/3,e.groupCount=e.groupEnd-e.groupStart,e.inherited=!1),t&&this.materials.length>1)for(var n=this.materials.length-1;n>=0;n--)this.materials[n].groupCount<=0&&this.materials.splice(n,1);return t&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),e}},n&&n.name&&"function"==typeof n.clone){var i=n.clone(0);i.inherited=!0,this.object.materials.push(i)}this.objects.push(this.object)},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(t,e){var n=parseInt(t,10);return 3*(n>=0?n-1:n+e/3)},parseNormalIndex:function(t,e){var n=parseInt(t,10);return 3*(n>=0?n-1:n+e/3)},parseUVIndex:function(t,e){var n=parseInt(t,10);return 2*(n>=0?n-1:n+e/2)},addVertex:function(t,e,n){var i=this.vertices,r=this.object.geometry.vertices;r.push(i[t+0],i[t+1],i[t+2]),r.push(i[e+0],i[e+1],i[e+2]),r.push(i[n+0],i[n+1],i[n+2])},addVertexPoint:function(t){var e=this.vertices;this.object.geometry.vertices.push(e[t+0],e[t+1],e[t+2])},addVertexLine:function(t){var e=this.vertices;this.object.geometry.vertices.push(e[t+0],e[t+1],e[t+2])},addNormal:function(t,e,n){var i=this.normals,r=this.object.geometry.normals;r.push(i[t+0],i[t+1],i[t+2]),r.push(i[e+0],i[e+1],i[e+2]),r.push(i[n+0],i[n+1],i[n+2])},addFaceNormal:function(t,e,n){var i=this.vertices,c=this.object.geometry.normals;r.fromArray(i,t),a.fromArray(i,e),o.fromArray(i,n),u.subVectors(o,a),s.subVectors(r,a),u.cross(s),u.normalize(),c.push(u.x,u.y,u.z),c.push(u.x,u.y,u.z),c.push(u.x,u.y,u.z)},addColor:function(t,e,n){var i=this.colors,r=this.object.geometry.colors;void 0!==i[t]&&r.push(i[t+0],i[t+1],i[t+2]),void 0!==i[e]&&r.push(i[e+0],i[e+1],i[e+2]),void 0!==i[n]&&r.push(i[n+0],i[n+1],i[n+2])},addUV:function(t,e,n){var i=this.uvs,r=this.object.geometry.uvs;r.push(i[t+0],i[t+1]),r.push(i[e+0],i[e+1]),r.push(i[n+0],i[n+1])},addDefaultUV:function(){var t=this.object.geometry.uvs;t.push(0,0),t.push(0,0),t.push(0,0)},addUVLine:function(t){var e=this.uvs;this.object.geometry.uvs.push(e[t+0],e[t+1])},addFace:function(t,e,n,i,r,a,o,s,c){var u=this.vertices.length,l=this.parseVertexIndex(t,u),h=this.parseVertexIndex(e,u),d=this.parseVertexIndex(n,u);if(this.addVertex(l,h,d),this.addColor(l,h,d),void 0!==o&&""!==o){var f=this.normals.length;l=this.parseNormalIndex(o,f),h=this.parseNormalIndex(s,f),d=this.parseNormalIndex(c,f),this.addNormal(l,h,d)}else this.addFaceNormal(l,h,d);if(void 0!==i&&""!==i){var p=this.uvs.length;l=this.parseUVIndex(i,p),h=this.parseUVIndex(r,p),d=this.parseUVIndex(a,p),this.addUV(l,h,d),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(t){this.object.geometry.type="Points";for(var e=this.vertices.length,n=0,i=t.length;n<i;n++){var r=this.parseVertexIndex(t[n],e);this.addVertexPoint(r),this.addColor(r)}},addLineGeometry:function(t,e){this.object.geometry.type="Line";for(var n=this.vertices.length,i=this.uvs.length,r=0,a=t.length;r<a;r++)this.addVertexLine(this.parseVertexIndex(t[r],n));var o=0;for(a=e.length;o<a;o++)this.addUVLine(this.parseUVIndex(e[o],i))}};return t.startObject("",!1),t}function h(t){c.ab.call(this,t),this.materials=null}return h.prototype=Object.assign(Object.create(c.ab.prototype),{constructor:h,load:function(t,e,n,i){var r=this,a=new c.E(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(t,(function(n){try{e(r.parse(n))}catch(a){i?i(a):console.error(a),r.manager.itemError(t)}}),n,i)},setMaterials:function(t){return this.materials=t,this},parse:function(r){var a=new l;-1!==r.indexOf("\r\n")&&(r=r.replace(/\r\n/g,"\n")),-1!==r.indexOf("\\\n")&&(r=r.replace(/\\\n/g,""));for(var o=r.split("\n"),s="",u="",h=[],d="function"==typeof"".trimLeft,f=0,p=o.length;f<p;f++)if(s=o[f],0!==(s=d?s.trimLeft():s.trim()).length&&"#"!==(u=s.charAt(0)))if("v"===u){var v=s.split(/\s+/);switch(v[0]){case"v":a.vertices.push(parseFloat(v[1]),parseFloat(v[2]),parseFloat(v[3])),v.length>=7?a.colors.push(parseFloat(v[4]),parseFloat(v[5]),parseFloat(v[6])):a.colors.push(void 0,void 0,void 0);break;case"vn":a.normals.push(parseFloat(v[1]),parseFloat(v[2]),parseFloat(v[3]));break;case"vt":a.uvs.push(parseFloat(v[1]),parseFloat(v[2]))}}else if("f"===u){for(var m=s.substr(1).trim().split(/\s+/),g=[],y=0,b=m.length;y<b;y++){var _=m[y];if(_.length>0){var w=_.split("/");g.push(w)}}var x=g[0];for(y=1,b=g.length-1;y<b;y++){var k=g[y],O=g[y+1];a.addFace(x[0],k[0],O[0],x[1],k[1],O[1],x[2],k[2],O[2])}}else if("l"===u){var S=s.substring(1).trim().split(" "),C=[],A=[];if(-1===s.indexOf("/"))C=S;else for(var M=0,T=S.length;M<T;M++){var E=S[M].split("/");""!==E[0]&&C.push(E[0]),""!==E[1]&&A.push(E[1])}a.addLineGeometry(C,A)}else if("p"===u){var P=s.substr(1).trim().split(" ");a.addPointGeometry(P)}else if(null!==(h=t.exec(s))){var D=(" "+h[0].substr(1).trim()).substr(1);a.startObject(D)}else if(n.test(s))a.object.startMaterial(s.substring(7).trim(),a.materialLibraries);else if(e.test(s))a.materialLibraries.push(s.substring(7).trim());else if(i.test(s))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if("s"===u){if((h=s.split(" ")).length>1){var j=h[1].trim().toLowerCase();a.object.smooth="0"!==j&&"off"!==j}else a.object.smooth=!0;(X=a.object.currentMaterial())&&(X.smooth=a.object.smooth)}else{if("\0"===s)continue;console.warn('THREE.OBJLoader: Unexpected line: "'+s+'"')}a.finalize();var R=new c.J;if(R.materialLibraries=[].concat(a.materialLibraries),!0===!(1===a.objects.length&&0===a.objects[0].geometry.vertices.length))for(f=0,p=a.objects.length;f<p;f++){var I=a.objects[f],L=I.geometry,N=I.materials,F="Line"===L.type,B="Points"===L.type,z=!1;if(0!==L.vertices.length){(K=new c.o).setAttribute("position",new c.F(L.vertices,3)),L.normals.length>0&&K.setAttribute("normal",new c.F(L.normals,3)),L.colors.length>0&&(z=!0,K.setAttribute("color",new c.F(L.colors,3))),!0===L.hasUVIndices&&K.setAttribute("uv",new c.F(L.uvs,2));for(var U,H=[],V=0,G=N.length;V<G;V++){var W=(Q=N[V]).name+"_"+Q.smooth+"_"+z,X=a.materials[W];if(null!==this.materials)if(X=this.materials.create(Q.name),!F||!X||X instanceof c.S){if(B&&X&&!(X instanceof c.Cb)){var q=new c.Cb({size:10,sizeAttenuation:!1});c.eb.prototype.copy.call(q,X),q.color.copy(X.color),q.map=X.map,X=q}}else{var Y=new c.S;c.eb.prototype.copy.call(Y,X),Y.color.copy(X.color),X=Y}void 0===X&&((X=F?new c.S:B?new c.Cb({size:1,sizeAttenuation:!1}):new c.nb).name=Q.name,X.flatShading=!Q.smooth,X.vertexColors=z,a.materials[W]=X),H.push(X)}if(H.length>1){for(V=0,G=N.length;V<G;V++){var Q=N[V];K.addGroup(Q.groupStart,Q.groupCount,V)}U=F?new c.U(K,H):B?new c.Bb(K,H):new c.ib(K,H)}else U=F?new c.U(K,H[0]):B?new c.Bb(K,H[0]):new c.ib(K,H[0]);U.name=I.name,R.add(U)}}else if(a.vertices.length>0){var K;X=new c.Cb({size:1,sizeAttenuation:!1});(K=new c.o).setAttribute("position",new c.F(a.vertices,3)),a.colors.length>0&&(K.setAttribute("color",new c.F(a.colors,3)),X.vertexColors=!0);var Z=new c.Bb(K,X);R.add(Z)}return R}}),h}(),Na={},Fa=void 0,Ba=Na;function za(t,e){var n,i=t.split("."),r=Ba;!(i[0]in r)&&r.execScript&&r.execScript("var "+i[0]);for(;i.length&&(n=i.shift());)i.length||e===Fa?r=r[n]?r[n]:r[n]={}:r[n]=e}var Ua="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array&&"undefined"!=typeof DataView;function Ha(t){var e,n,i,r,a,o,s,c,u,l,h=t.length,d=0,f=Number.POSITIVE_INFINITY;for(c=0;c<h;++c)t[c]>d&&(d=t[c]),t[c]<f&&(f=t[c]);for(e=1<<d,n=new(Ua?Uint32Array:Array)(e),i=1,r=0,a=2;i<=d;){for(c=0;c<h;++c)if(t[c]===i){for(o=0,s=r,u=0;u<i;++u)o=o<<1|1&s,s>>=1;for(l=i<<16|c,u=o;u<e;u+=a)n[u]=l;++r}++i,r<<=1,a<<=1}return[n,d,f]}function Va(t,e){switch(this.g=[],this.h=32768,this.d=this.f=this.a=this.l=0,this.input=Ua?new Uint8Array(t):t,this.m=!1,this.i=Wa,this.r=!1,!e&&(e={})||(e.index&&(this.a=e.index),e.bufferSize&&(this.h=e.bufferSize),e.bufferType&&(this.i=e.bufferType),e.resize&&(this.r=e.resize)),this.i){case Ga:this.b=32768,this.c=new(Ua?Uint8Array:Array)(32768+this.h+258);break;case Wa:this.b=0,this.c=new(Ua?Uint8Array:Array)(this.h),this.e=this.z,this.n=this.v,this.j=this.w;break;default:throw Error("invalid inflate mode")}}var Ga=0,Wa=1,Xa={t:Ga,s:Wa};Va.prototype.k=function(){for(;!this.m;){var t=ho(this,3);switch(1&t&&(this.m=!0),t>>>=1){case 0:var e=this.input,n=this.a,i=this.c,r=this.b,a=e.length,o=Fa,s=i.length,c=Fa;if(this.d=this.f=0,n+1>=a)throw Error("invalid uncompressed block header: LEN");if(o=e[n++]|e[n++]<<8,n+1>=a)throw Error("invalid uncompressed block header: NLEN");if(o===~(e[n++]|e[n++]<<8))throw Error("invalid uncompressed block header: length verify");if(n+o>e.length)throw Error("input buffer is broken");switch(this.i){case Ga:for(;r+o>i.length;){if(o-=c=s-r,Ua)i.set(e.subarray(n,n+c),r),r+=c,n+=c;else for(;c--;)i[r++]=e[n++];this.b=r,i=this.e(),r=this.b}break;case Wa:for(;r+o>i.length;)i=this.e({p:2});break;default:throw Error("invalid inflate mode")}if(Ua)i.set(e.subarray(n,n+o),r),r+=o,n+=o;else for(;o--;)i[r++]=e[n++];this.a=n,this.b=r,this.c=i;break;case 1:this.j(co,lo);break;case 2:var u,l,h,d,f=ho(this,5)+257,p=ho(this,5)+1,v=ho(this,4)+4,m=new(Ua?Uint8Array:Array)(Ka.length),g=Fa,y=Fa,b=Fa,_=Fa,w=Fa;for(w=0;w<v;++w)m[Ka[w]]=ho(this,3);if(!Ua)for(w=v,v=m.length;w<v;++w)m[Ka[w]]=0;for(u=Ha(m),g=new(Ua?Uint8Array:Array)(f+p),w=0,d=f+p;w<d;)switch(y=fo(this,u)){case 16:for(_=3+ho(this,2);_--;)g[w++]=b;break;case 17:for(_=3+ho(this,3);_--;)g[w++]=0;b=0;break;case 18:for(_=11+ho(this,7);_--;)g[w++]=0;b=0;break;default:b=g[w++]=y}l=Ha(Ua?g.subarray(0,f):g.slice(0,f)),h=Ha(Ua?g.subarray(f):g.slice(f)),this.j(l,h);break;default:throw Error("unknown BTYPE: "+t)}}return this.n()};var qa,Ya,Qa=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Ka=Ua?new Uint16Array(Qa):Qa,Za=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],Ja=Ua?new Uint16Array(Za):Za,$a=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],to=Ua?new Uint8Array($a):$a,eo=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],no=Ua?new Uint16Array(eo):eo,io=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ro=Ua?new Uint8Array(io):io,ao=new(Ua?Uint8Array:Array)(288);for(qa=0,Ya=ao.length;qa<Ya;++qa)ao[qa]=143>=qa?8:255>=qa?9:279>=qa?7:8;var oo,so,co=Ha(ao),uo=new(Ua?Uint8Array:Array)(30);for(oo=0,so=uo.length;oo<so;++oo)uo[oo]=5;var lo=Ha(uo);function ho(t,e){for(var n,i=t.f,r=t.d,a=t.input,o=t.a,s=a.length;r<e;){if(o>=s)throw Error("input buffer is broken");i|=a[o++]<<r,r+=8}return n=i&(1<<e)-1,t.f=i>>>e,t.d=r-e,t.a=o,n}function fo(t,e){for(var n,i,r=t.f,a=t.d,o=t.input,s=t.a,c=o.length,u=e[0],l=e[1];a<l&&!(s>=c);)r|=o[s++]<<a,a+=8;if((i=(n=u[r&(1<<l)-1])>>>16)>a)throw Error("invalid code length: "+i);return t.f=r>>i,t.d=a-i,t.a=s,65535&n}function po(t,e){var n,i;switch(this.input=t,this.a=0,!e&&(e={})||(e.index&&(this.a=e.index),e.verify&&(this.A=e.verify)),n=t[this.a++],i=t[this.a++],15&n){case vo:this.method=vo;break;default:throw Error("unsupported compression method")}if(0!=((n<<8)+i)%31)throw Error("invalid fcheck flag:"+((n<<8)+i)%31);if(32&i)throw Error("fdict flag is not supported");this.q=new Va(t,{index:this.a,bufferSize:e.bufferSize,bufferType:e.bufferType,resize:e.resize})}Va.prototype.j=function(t,e){var n=this.c,i=this.b;this.o=t;for(var r,a,o,s,c=n.length-258;256!==(r=fo(this,t));)if(256>r)i>=c&&(this.b=i,n=this.e(),i=this.b),n[i++]=r;else for(s=Ja[a=r-257],0<to[a]&&(s+=ho(this,to[a])),r=fo(this,e),o=no[r],0<ro[r]&&(o+=ho(this,ro[r])),i>=c&&(this.b=i,n=this.e(),i=this.b);s--;)n[i]=n[i++-o];for(;8<=this.d;)this.d-=8,this.a--;this.b=i},Va.prototype.w=function(t,e){var n=this.c,i=this.b;this.o=t;for(var r,a,o,s,c=n.length;256!==(r=fo(this,t));)if(256>r)i>=c&&(c=(n=this.e()).length),n[i++]=r;else for(s=Ja[a=r-257],0<to[a]&&(s+=ho(this,to[a])),r=fo(this,e),o=no[r],0<ro[r]&&(o+=ho(this,ro[r])),i+s>c&&(c=(n=this.e()).length);s--;)n[i]=n[i++-o];for(;8<=this.d;)this.d-=8,this.a--;this.b=i},Va.prototype.e=function(){var t,e,n=new(Ua?Uint8Array:Array)(this.b-32768),i=this.b-32768,r=this.c;if(Ua)n.set(r.subarray(32768,n.length));else for(t=0,e=n.length;t<e;++t)n[t]=r[t+32768];if(this.g.push(n),this.l+=n.length,Ua)r.set(r.subarray(i,i+32768));else for(t=0;32768>t;++t)r[t]=r[i+t];return this.b=32768,r},Va.prototype.z=function(t){var e,n,i,r=this.input.length/this.a+1|0,a=this.input,o=this.c;return t&&("number"==typeof t.p&&(r=t.p),"number"==typeof t.u&&(r+=t.u)),2>r?n=(i=(a.length-this.a)/this.o[2]/2*258|0)<o.length?o.length+i:o.length<<1:n=o.length*r,Ua?(e=new Uint8Array(n)).set(o):e=o,this.c=e},Va.prototype.n=function(){var t,e,n,i,r,a=0,o=this.c,s=this.g,c=new(Ua?Uint8Array:Array)(this.l+(this.b-32768));if(0===s.length)return Ua?this.c.subarray(32768,this.b):this.c.slice(32768,this.b);for(e=0,n=s.length;e<n;++e)for(i=0,r=(t=s[e]).length;i<r;++i)c[a++]=t[i];for(e=32768,n=this.b;e<n;++e)c[a++]=o[e];return this.g=[],this.buffer=c},Va.prototype.v=function(){var t,e=this.b;return Ua?this.r?(t=new Uint8Array(e)).set(this.c.subarray(0,e)):t=this.c.subarray(0,e):(this.c.length>e&&(this.c.length=e),t=this.c),this.buffer=t},po.prototype.k=function(){var t,e,n=this.input;if(t=this.q.k(),this.a=this.q.a,this.A){e=(n[this.a++]<<24|n[this.a++]<<16|n[this.a++]<<8|n[this.a++])>>>0;var i=t;if("string"==typeof i){var r,a,o=i.split("");for(r=0,a=o.length;r<a;r++)o[r]=(255&o[r].charCodeAt(0))>>>0;i=o}for(var s,c=1,u=0,l=i.length,h=0;0<l;){l-=s=1024<l?1024:l;do{u+=c+=i[h++]}while(--s);c%=65521,u%=65521}if(e!==(u<<16|c)>>>0)throw Error("invalid adler-32 checksum")}return t};var vo=8;za("Zlib.Inflate",po),za("Zlib.Inflate.prototype.decompress",po.prototype.k);var mo,go,yo,bo,_o={ADAPTIVE:Xa.s,BLOCK:Xa.t};if(Object.keys)mo=Object.keys(_o);else for(go in mo=[],yo=0,_o)mo[yo++]=go;for(yo=0,bo=mo.length;yo<bo;++yo)za("Zlib.Inflate.BufferType."+(go=mo[yo]),_o[go]);var wo=Na.Zlib.Inflate,xo={findSpan:function(t,e,n){var i=n.length-t-1;if(e>=n[i])return i-1;if(e<=n[t])return t;for(var r=t,a=i,o=Math.floor((r+a)/2);e<n[o]||e>=n[o+1];)e<n[o]?a=o:r=o,o=Math.floor((r+a)/2);return o},calcBasisFunctions:function(t,e,n,i){var r=[],a=[],o=[];r[0]=1;for(var s=1;s<=n;++s){a[s]=e-i[t+1-s],o[s]=i[t+s]-e;for(var c=0,u=0;u<s;++u){var l=o[u+1],h=a[s-u],d=r[u]/(l+h);r[u]=c+l*d,c=h*d}r[s]=c}return r},calcBSplinePoint:function(t,e,n,i){for(var r=this.findSpan(t,i,e),a=this.calcBasisFunctions(r,i,t,e),o=new c.lc(0,0,0,0),s=0;s<=t;++s){var u=n[r-t+s],l=a[s],h=u.w*l;o.x+=u.x*h,o.y+=u.y*h,o.z+=u.z*h,o.w+=u.w*l}return o},calcBasisFunctionDerivatives:function(t,e,n,i,r){for(var a=[],o=0;o<=n;++o)a[o]=0;var s=[];for(o=0;o<=i;++o)s[o]=a.slice(0);var c=[];for(o=0;o<=n;++o)c[o]=a.slice(0);c[0][0]=1;for(var u=a.slice(0),l=a.slice(0),h=1;h<=n;++h){u[h]=e-r[t+1-h],l[h]=r[t+h]-e;for(var d=0,f=0;f<h;++f){var p=l[f+1],v=u[h-f];c[h][f]=p+v;var m=c[f][h-1]/c[h][f];c[f][h]=d+p*m,d=v*m}c[h][h]=d}for(h=0;h<=n;++h)s[0][h]=c[h][n];for(f=0;f<=n;++f){var g=0,y=1,b=[];for(o=0;o<=n;++o)b[o]=a.slice(0);b[0][0]=1;for(var _=1;_<=i;++_){var w=0,x=f-_,k=n-_;f>=_&&(b[y][0]=b[g][0]/c[k+1][x],w=b[y][0]*c[x][k]);var O=f-1<=k?_-1:n-f;for(h=x>=-1?1:-x;h<=O;++h)b[y][h]=(b[g][h]-b[g][h-1])/c[k+1][x+h],w+=b[y][h]*c[x+h][k];f<=k&&(b[y][_]=-b[g][_-1]/c[k+1][f],w+=b[y][_]*c[f][k]),s[_][f]=w;h=g;g=y,y=h}}for(f=n,_=1;_<=i;++_){for(h=0;h<=n;++h)s[_][h]*=f;f*=n-_}return s},calcBSplineDerivatives:function(t,e,n,i,r){for(var a=r<t?r:t,o=[],s=this.findSpan(t,i,e),u=this.calcBasisFunctionDerivatives(s,i,t,a,e),l=[],h=0;h<n.length;++h){var d=(p=n[h].clone()).w;p.x*=d,p.y*=d,p.z*=d,l[h]=p}for(var f=0;f<=a;++f){for(var p=l[s-t].clone().multiplyScalar(u[f][0]),v=1;v<=t;++v)p.add(l[s-t+v].clone().multiplyScalar(u[f][v]));o[f]=p}for(f=a+1;f<=r+1;++f)o[f]=new c.lc(0,0,0);return o},calcKoverI:function(t,e){for(var n=1,i=2;i<=t;++i)n*=i;var r=1;for(i=2;i<=e;++i)r*=i;for(i=2;i<=t-e;++i)r*=i;return n/r},calcRationalCurveDerivatives:function(t){for(var e=t.length,n=[],i=[],r=0;r<e;++r){var a=t[r];n[r]=new c.kc(a.x,a.y,a.z),i[r]=a.w}for(var o=[],s=0;s<e;++s){var u=n[s].clone();for(r=1;r<=s;++r)u.sub(o[s-r].clone().multiplyScalar(this.calcKoverI(s,r)*i[r]));o[s]=u.divideScalar(i[0])}return o},calcNURBSDerivatives:function(t,e,n,i,r){var a=this.calcBSplineDerivatives(t,e,n,i,r);return this.calcRationalCurveDerivatives(a)},calcSurfacePoint:function(t,e,n,i,r,a,o,s){for(var u=this.findSpan(t,a,n),l=this.findSpan(e,o,i),h=this.calcBasisFunctions(u,a,t,n),d=this.calcBasisFunctions(l,o,e,i),f=[],p=0;p<=e;++p){f[p]=new c.lc(0,0,0,0);for(var v=0;v<=t;++v){var m=r[u-t+v][l-e+p].clone(),g=m.w;m.x*=g,m.y*=g,m.z*=g,f[p].add(m.multiplyScalar(h[v]))}}var y=new c.lc(0,0,0,0);for(p=0;p<=e;++p)y.add(f[p].multiplyScalar(d[p]));y.divideScalar(y.w),s.set(y.x,y.y,y.z)}},ko=function(t,e,n,i,r){c.v.call(this),this.degree=t,this.knots=e,this.controlPoints=[],this.startKnot=i||0,this.endKnot=r||this.knots.length-1;for(var a=0;a<n.length;++a){var o=n[a];this.controlPoints[a]=new c.lc(o.x,o.y,o.z,o.w)}};ko.prototype=Object.create(c.v.prototype),ko.prototype.constructor=ko,ko.prototype.getPoint=function(t,e){var n=e||new c.kc,i=this.knots[this.startKnot]+t*(this.knots[this.endKnot]-this.knots[this.startKnot]),r=xo.calcBSplinePoint(this.degree,this.knots,this.controlPoints,i);return 1!=r.w&&r.divideScalar(r.w),n.set(r.x,r.y,r.z)},ko.prototype.getTangent=function(t,e){var n=e||new c.kc,i=this.knots[0]+t*(this.knots[this.knots.length-1]-this.knots[0]),r=xo.calcNURBSDerivatives(this.degree,this.knots,this.controlPoints,i,1);return n.copy(r[1]).normalize(),n};for(var Oo=function(){var t,e,n;function i(t){c.ab.call(this,t)}function r(t,e){this.textureLoader=t,this.manager=e}function a(){}function o(){}function s(){}function u(){}function l(t,e){this.dv=new DataView(t),this.offset=0,this.littleEndian=void 0===e||e}function h(){}function d(t){var e=t.match(/FBXVersion: (\d+)/);if(e)return parseInt(e[1]);throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function f(t){return t/46186158e3}i.prototype=Object.assign(Object.create(c.ab.prototype),{constructor:i,load:function(t,e,n,i){var r=this,a=""===r.path?c.bb.extractUrlBase(t):r.path,o=new c.E(this.manager);o.setPath(r.path),o.setResponseType("arraybuffer"),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(t,(function(n){try{e(r.parse(n,a))}catch(o){i?i(o):console.error(o),r.manager.itemError(t)}}),n,i)},parse:function(e,n){if(o="Kaydara FBX Binary  \0",(a=e).byteLength>=o.length&&o===w(a,0,o.length))t=(new u).parse(e);else{var i=w(e);if(!function(t){var e=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"],n=0;function i(e){var i=t[e-1];return t=t.slice(n+e),n++,i}for(var r=0;r<e.length;++r){if(i(1)===e[r])return!1}return!0}(i))throw new Error("THREE.FBXLoader: Unknown format.");if(d(i)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+d(i));t=(new s).parse(i)}var a,o;return new r(new c.ac(this.manager).setPath(this.resourcePath||n).setCrossOrigin(this.crossOrigin),this.manager).parse(t)}}),r.prototype={constructor:r,parse:function(){e=this.parseConnections();var t=this.parseImages(),i=this.parseTextures(t),r=this.parseMaterials(i),o=this.parseDeformers(),s=(new a).parse(o);return this.parseScene(o,s,r),n},parseConnections:function(){var e=new Map;"Connections"in t&&t.Connections.connections.forEach((function(t){var n=t[0],i=t[1],r=t[2];e.has(n)||e.set(n,{parents:[],children:[]});var a={ID:i,relationship:r};e.get(n).parents.push(a),e.has(i)||e.set(i,{parents:[],children:[]});var o={ID:n,relationship:r};e.get(i).children.push(o)}));return e},parseImages:function(){var e={},n={};if("Video"in t.Objects){var i=t.Objects.Video;for(var r in i){var a=i[r];if(e[u=parseInt(r)]=a.RelativeFilename||a.Filename,"Content"in a){var o=a.Content instanceof ArrayBuffer&&a.Content.byteLength>0,s="string"==typeof a.Content&&""!==a.Content;if(o||s){var c=this.parseImage(i[r]);n[a.RelativeFilename||a.Filename]=c}}}}for(var u in e){var l=e[u];void 0!==n[l]?e[u]=n[l]:e[u]=e[u].split("\\").pop()}return e},parseImage:function(t){var e,n=t.Content,i=t.RelativeFilename||t.Filename,r=i.slice(i.lastIndexOf(".")+1).toLowerCase();switch(r){case"bmp":e="image/bmp";break;case"jpg":case"jpeg":e="image/jpeg";break;case"png":e="image/png";break;case"tif":e="image/tiff";break;case"tga":null===this.manager.getHandler(".tga")&&console.warn("FBXLoader: TGA loader not found, skipping ",i),e="image/tga";break;default:return void console.warn('FBXLoader: Image type "'+r+'" is not supported.')}if("string"==typeof n)return"data:"+e+";base64,"+n;var a=new Uint8Array(n);return window.URL.createObjectURL(new Blob([a],{type:e}))},parseTextures:function(e){var n=new Map;if("Texture"in t.Objects){var i=t.Objects.Texture;for(var r in i){var a=this.parseTexture(i[r],e);n.set(parseInt(r),a)}}return n},parseTexture:function(t,e){var n=this.loadTexture(t,e);n.ID=t.id,n.name=t.attrName;var i=t.WrapModeU,r=t.WrapModeV,a=void 0!==i?i.value:0,o=void 0!==r?r.value:0;if(n.wrapS=0===a?c.Ob:c.r,n.wrapT=0===o?c.Ob:c.r,"Scaling"in t){var s=t.Scaling.value;n.repeat.x=s[0],n.repeat.y=s[1]}return n},loadTexture:function(t,n){var i,r,a=this.textureLoader.path,o=e.get(t.id).children;void 0!==o&&o.length>0&&void 0!==n[o[0].ID]&&(0!==(i=n[o[0].ID]).indexOf("blob:")&&0!==i.indexOf("data:")||this.textureLoader.setPath(void 0));var s=t.FileName.slice(-3).toLowerCase();if("tga"===s){var u=this.manager.getHandler(".tga");null===u?(console.warn("FBXLoader: TGA loader not found, creating placeholder texture for",t.RelativeFilename),r=new c.Zb):r=u.load(i)}else"psd"===s?(console.warn("FBXLoader: PSD textures are not supported, creating placeholder texture for",t.RelativeFilename),r=new c.Zb):r=this.textureLoader.load(i);return this.textureLoader.setPath(a),r},parseMaterials:function(e){var n=new Map;if("Material"in t.Objects){var i=t.Objects.Material;for(var r in i){var a=this.parseMaterial(i[r],e);null!==a&&n.set(parseInt(r),a)}}return n},parseMaterial:function(t,n){var i=t.id,r=t.attrName,a=t.ShadingModel;if("object"==typeof a&&(a=a.value),!e.has(i))return null;var o,s=this.parseParameters(t,n,i);switch(a.toLowerCase()){case"phong":o=new c.nb;break;case"lambert":o=new c.lb;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',a),o=new c.nb}return o.setValues(s),o.name=r,o},parseParameters:function(t,n,i){var r={};t.BumpFactor&&(r.bumpScale=t.BumpFactor.value),t.Diffuse?r.color=(new c.t).fromArray(t.Diffuse.value):!t.DiffuseColor||"Color"!==t.DiffuseColor.type&&"ColorRGB"!==t.DiffuseColor.type||(r.color=(new c.t).fromArray(t.DiffuseColor.value)),t.DisplacementFactor&&(r.displacementScale=t.DisplacementFactor.value),t.Emissive?r.emissive=(new c.t).fromArray(t.Emissive.value):!t.EmissiveColor||"Color"!==t.EmissiveColor.type&&"ColorRGB"!==t.EmissiveColor.type||(r.emissive=(new c.t).fromArray(t.EmissiveColor.value)),t.EmissiveFactor&&(r.emissiveIntensity=parseFloat(t.EmissiveFactor.value)),t.Opacity&&(r.opacity=parseFloat(t.Opacity.value)),r.opacity<1&&(r.transparent=!0),t.ReflectionFactor&&(r.reflectivity=t.ReflectionFactor.value),t.Shininess&&(r.shininess=t.Shininess.value),t.Specular?r.specular=(new c.t).fromArray(t.Specular.value):t.SpecularColor&&"Color"===t.SpecularColor.type&&(r.specular=(new c.t).fromArray(t.SpecularColor.value));var a=this;return e.get(i).children.forEach((function(t){var e=t.relationship;switch(e){case"Bump":r.bumpMap=a.getTexture(n,t.ID);break;case"Maya|TEX_ao_map":r.aoMap=a.getTexture(n,t.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":r.map=a.getTexture(n,t.ID),r.map.encoding=c.qc;break;case"DisplacementColor":r.displacementMap=a.getTexture(n,t.ID);break;case"EmissiveColor":r.emissiveMap=a.getTexture(n,t.ID),r.emissiveMap.encoding=c.qc;break;case"NormalMap":case"Maya|TEX_normal_map":r.normalMap=a.getTexture(n,t.ID);break;case"ReflectionColor":r.envMap=a.getTexture(n,t.ID),r.envMap.mapping=c.B,r.envMap.encoding=c.qc;break;case"SpecularColor":r.specularMap=a.getTexture(n,t.ID),r.specularMap.encoding=c.qc;break;case"TransparentColor":case"TransparencyFactor":r.alphaMap=a.getTexture(n,t.ID),r.transparent=!0;break;case"AmbientColor":case"ShininessExponent":case"SpecularFactor":case"VectorDisplacementColor":default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",e)}})),r},getTexture:function(n,i){return"LayeredTexture"in t.Objects&&i in t.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),i=e.get(i).children[0].ID),n.get(i)},parseDeformers:function(){var n={},i={};if("Deformer"in t.Objects){var r=t.Objects.Deformer;for(var a in r){var o=r[a],s=e.get(parseInt(a));if("Skin"===o.attrType){var c=this.parseSkeleton(s,r);c.ID=a,s.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),c.geometryID=s.parents[0].ID,n[a]=c}else if("BlendShape"===o.attrType){var u={id:a};u.rawTargets=this.parseMorphTargets(s,r),u.id=a,s.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),i[a]=u}}}return{skeletons:n,morphTargets:i}},parseSkeleton:function(t,e){var n=[];return t.children.forEach((function(t){var i=e[t.ID];if("Cluster"===i.attrType){var r={ID:t.ID,indices:[],weights:[],transformLink:(new c.hb).fromArray(i.TransformLink.a)};"Indexes"in i&&(r.indices=i.Indexes.a,r.weights=i.Weights.a),n.push(r)}})),{rawBones:n,bones:[]}},parseMorphTargets:function(t,n){for(var i=[],r=0;r<t.children.length;r++){var a=t.children[r],o=n[a.ID],s={name:o.attrName,initialWeight:o.DeformPercent,id:o.id,fullWeights:o.FullWeights.a};if("BlendShapeChannel"!==o.attrType)return;s.geoID=e.get(parseInt(a.ID)).children.filter((function(t){return void 0===t.relationship}))[0].ID,i.push(s)}return i},parseScene:function(i,r,a){n=new c.J;var s=this.parseModels(i.skeletons,r,a),u=t.Objects.Model,l=this;s.forEach((function(t){var i=u[t.ID];l.setLookAtProperties(t,i),e.get(t.ID).parents.forEach((function(e){var n=s.get(e.ID);void 0!==n&&n.add(t)})),null===t.parent&&n.add(t)})),this.bindSkeleton(i.skeletons,r,s),this.createAmbientLight(),this.setupMorphMaterials(),n.traverse((function(t){if(t.userData.transformData){t.parent&&(t.userData.transformData.parentMatrixWorld=t.parent.matrix);var e=y(t.userData.transformData);t.applyMatrix4(e)}}));var h=(new o).parse();1===n.children.length&&n.children[0].isGroup&&(n.children[0].animations=h,n=n.children[0]),n.animations=h},parseModels:function(n,i,r){var a=new Map,o=t.Objects.Model;for(var s in o){var u=parseInt(s),l=o[s],h=e.get(u),d=this.buildSkeleton(h,n,u,l.attrName);if(!d){switch(l.attrType){case"Camera":d=this.createCamera(h);break;case"Light":d=this.createLight(h);break;case"Mesh":d=this.createMesh(h,i,r);break;case"NurbsCurve":d=this.createCurve(h,i);break;case"LimbNode":case"Root":d=new c.i;break;case"Null":default:d=new c.J}d.name=l.attrName?c.Eb.sanitizeNodeName(l.attrName):"",d.ID=u}this.getTransformData(d,l),a.set(u,d)}return a},buildSkeleton:function(t,e,n,i){var r=null;return t.parents.forEach((function(t){for(var a in e){var o=e[a];o.rawBones.forEach((function(e,a){if(e.ID===t.ID){var s=r;(r=new c.i).matrixWorld.copy(e.transformLink),r.name=i?c.Eb.sanitizeNodeName(i):"",r.ID=n,o.bones[a]=r,null!==s&&r.add(s)}}))}})),r},createCamera:function(e){var n,i;if(e.children.forEach((function(e){var n=t.Objects.NodeAttribute[e.ID];void 0!==n&&(i=n)})),void 0===i)n=new c.wb;else{var r=0;void 0!==i.CameraProjectionType&&1===i.CameraProjectionType.value&&(r=1);var a=1;void 0!==i.NearPlane&&(a=i.NearPlane.value/1e3);var o=1e3;void 0!==i.FarPlane&&(o=i.FarPlane.value/1e3);var s=window.innerWidth,u=window.innerHeight;void 0!==i.AspectWidth&&void 0!==i.AspectHeight&&(s=i.AspectWidth.value,u=i.AspectHeight.value);var l=s/u,h=45;void 0!==i.FieldOfView&&(h=i.FieldOfView.value);var d=i.FocalLength?i.FocalLength.value:null;switch(r){case 0:n=new c.yb(h,l,a,o),null!==d&&n.setFocalLength(d);break;case 1:n=new c.xb(-s/2,s/2,u/2,-u/2,a,o);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+r+"."),n=new c.wb}}return n},createLight:function(e){var n,i;if(e.children.forEach((function(e){var n=t.Objects.NodeAttribute[e.ID];void 0!==n&&(i=n)})),void 0===i)n=new c.wb;else{var r;r=void 0===i.LightType?0:i.LightType.value;var a=16777215;void 0!==i.Color&&(a=(new c.t).fromArray(i.Color.value));var o=void 0===i.Intensity?1:i.Intensity.value/100;void 0!==i.CastLightOnObject&&0===i.CastLightOnObject.value&&(o=0);var s=0;void 0!==i.FarAttenuationEnd&&(s=void 0!==i.EnableFarAttenuation&&0===i.EnableFarAttenuation.value?0:i.FarAttenuationEnd.value);switch(r){case 0:n=new c.Ab(a,o,s,1);break;case 1:n=new c.z(a,o);break;case 2:var u=Math.PI/3;void 0!==i.InnerAngle&&(u=c.fb.degToRad(i.InnerAngle.value));var l=0;void 0!==i.OuterAngle&&(l=c.fb.degToRad(i.OuterAngle.value),l=Math.max(l,1)),n=new c.Xb(a,o,s,u,l,1);break;default:console.warn("THREE.FBXLoader: Unknown light type "+i.LightType.value+", defaulting to a PointLight."),n=new c.Ab(a,o)}void 0!==i.CastShadows&&1===i.CastShadows.value&&(n.castShadow=!0)}return n},createMesh:function(t,e,n){var i,r=null,a=null,o=[];return t.children.forEach((function(t){e.has(t.ID)&&(r=e.get(t.ID)),n.has(t.ID)&&o.push(n.get(t.ID))})),o.length>1?a=o:o.length>0?a=o[0]:(a=new c.nb({color:13421772}),o.push(a)),"color"in r.attributes&&o.forEach((function(t){t.vertexColors=!0})),r.FBX_Deformer?(o.forEach((function(t){t.skinning=!0})),(i=new c.Ub(r,a)).normalizeSkinWeights()):i=new c.ib(r,a),i},createCurve:function(t,e){var n=t.children.reduce((function(t,n){return e.has(n.ID)&&(t=e.get(n.ID)),t}),null),i=new c.S({color:3342591,linewidth:1});return new c.R(n,i)},getTransformData:function(t,e){var n={};"InheritType"in e&&(n.inheritType=parseInt(e.InheritType.value)),n.eulerOrder="RotationOrder"in e?b(e.RotationOrder.value):"ZYX","Lcl_Translation"in e&&(n.translation=e.Lcl_Translation.value),"PreRotation"in e&&(n.preRotation=e.PreRotation.value),"Lcl_Rotation"in e&&(n.rotation=e.Lcl_Rotation.value),"PostRotation"in e&&(n.postRotation=e.PostRotation.value),"Lcl_Scaling"in e&&(n.scale=e.Lcl_Scaling.value),"ScalingOffset"in e&&(n.scalingOffset=e.ScalingOffset.value),"ScalingPivot"in e&&(n.scalingPivot=e.ScalingPivot.value),"RotationOffset"in e&&(n.rotationOffset=e.RotationOffset.value),"RotationPivot"in e&&(n.rotationPivot=e.RotationPivot.value),t.userData.transformData=n},setLookAtProperties:function(i,r){"LookAtProperty"in r&&e.get(i.ID).children.forEach((function(e){if("LookAtProperty"===e.relationship){var r=t.Objects.Model[e.ID];if("Lcl_Translation"in r){var a=r.Lcl_Translation.value;void 0!==i.target?(i.target.position.fromArray(a),n.add(i.target)):i.lookAt((new c.kc).fromArray(a))}}}))},bindSkeleton:function(t,n,i){var r=this.parsePoseNodes();for(var a in t){var o=t[a];e.get(parseInt(o.ID)).parents.forEach((function(t){if(n.has(t.ID)){var a=t.ID;e.get(a).parents.forEach((function(t){i.has(t.ID)&&i.get(t.ID).bind(new c.Tb(o.bones),r[t.ID])}))}}))}},parsePoseNodes:function(){var e={};if("Pose"in t.Objects){var n=t.Objects.Pose;for(var i in n)if("BindPose"===n[i].attrType){var r=n[i].PoseNode;Array.isArray(r)?r.forEach((function(t){e[t.Node]=(new c.hb).fromArray(t.Matrix.a)})):e[r.Node]=(new c.hb).fromArray(r.Matrix.a)}}return e},createAmbientLight:function(){if("GlobalSettings"in t&&"AmbientColor"in t.GlobalSettings){var e=t.GlobalSettings.AmbientColor.value,i=e[0],r=e[1],a=e[2];if(0!==i||0!==r||0!==a){var o=new c.t(i,r,a);n.add(new c.b(o,1))}}},setupMorphMaterials:function(){var t=this;n.traverse((function(e){e.isMesh&&e.geometry.morphAttributes.position&&e.geometry.morphAttributes.position.length&&(Array.isArray(e.material)?e.material.forEach((function(n,i){t.setupMorphMaterial(e,n,i)})):t.setupMorphMaterial(e,e.material))}))},setupMorphMaterial:function(t,e,i){var r=t.uuid,a=e.uuid,o=!1;if(n.traverse((function(t){t.isMesh&&(Array.isArray(t.material)?t.material.forEach((function(e){e.uuid===a&&t.uuid!==r&&(o=!0)})):t.material.uuid===a&&t.uuid!==r&&(o=!0))})),!0===o){var s=e.clone();s.morphTargets=!0,void 0===i?t.material=s:t.material[i]=s}else e.morphTargets=!0}},a.prototype={constructor:a,parse:function(n){var i=new Map;if("Geometry"in t.Objects){var r=t.Objects.Geometry;for(var a in r){var o=e.get(parseInt(a)),s=this.parseGeometry(o,r[a],n);i.set(parseInt(a),s)}}return i},parseGeometry:function(t,e,n){switch(e.attrType){case"Mesh":return this.parseMeshGeometry(t,e,n);case"NurbsCurve":return this.parseNurbsGeometry(e)}},parseMeshGeometry:function(e,n,i){var r=i.skeletons,a=[],o=e.parents.map((function(e){return t.Objects.Model[e.ID]}));if(0!==o.length){var s=e.children.reduce((function(t,e){return void 0!==r[e.ID]&&(t=r[e.ID]),t}),null);e.children.forEach((function(t){void 0!==i.morphTargets[t.ID]&&a.push(i.morphTargets[t.ID])}));var c=o[0],u={};"RotationOrder"in c&&(u.eulerOrder=b(c.RotationOrder.value)),"InheritType"in c&&(u.inheritType=parseInt(c.InheritType.value)),"GeometricTranslation"in c&&(u.translation=c.GeometricTranslation.value),"GeometricRotation"in c&&(u.rotation=c.GeometricRotation.value),"GeometricScaling"in c&&(u.scale=c.GeometricScaling.value);var l=y(u);return this.genGeometry(n,s,a,l)}},genGeometry:function(t,e,n,i){var r=new c.o;t.attrName&&(r.name=t.attrName);var a=this.parseGeoNode(t,e),o=this.genBuffers(a),s=new c.F(o.vertex,3);if(s.applyMatrix4(i),r.setAttribute("position",s),o.colors.length>0&&r.setAttribute("color",new c.F(o.colors,3)),e&&(r.setAttribute("skinIndex",new c.dc(o.weightsIndices,4)),r.setAttribute("skinWeight",new c.F(o.vertexWeights,4)),r.FBX_Deformer=e),o.normal.length>0){var u=(new c.gb).getNormalMatrix(i),l=new c.F(o.normal,3);l.applyNormalMatrix(u),r.setAttribute("normal",l)}if(o.uvs.forEach((function(t,e){var n="uv"+(e+1).toString();0===e&&(n="uv"),r.setAttribute(n,new c.F(o.uvs[e],2))})),a.material&&"AllSame"!==a.material.mappingType){var h=o.materialIndex[0],d=0;if(o.materialIndex.forEach((function(t,e){t!==h&&(r.addGroup(d,e-d,h),h=t,d=e)})),r.groups.length>0){var f=r.groups[r.groups.length-1],p=f.start+f.count;p!==o.materialIndex.length&&r.addGroup(p,o.materialIndex.length-p,h)}0===r.groups.length&&r.addGroup(0,o.materialIndex.length,o.materialIndex[0])}return this.addMorphTargets(r,t,n,i),r},parseGeoNode:function(t,e){var n={};if(n.vertexPositions=void 0!==t.Vertices?t.Vertices.a:[],n.vertexIndices=void 0!==t.PolygonVertexIndex?t.PolygonVertexIndex.a:[],t.LayerElementColor&&(n.color=this.parseVertexColors(t.LayerElementColor[0])),t.LayerElementMaterial&&(n.material=this.parseMaterialIndices(t.LayerElementMaterial[0])),t.LayerElementNormal&&(n.normal=this.parseNormals(t.LayerElementNormal[0])),t.LayerElementUV){n.uv=[];for(var i=0;t.LayerElementUV[i];)t.LayerElementUV[i].UV&&n.uv.push(this.parseUVs(t.LayerElementUV[i])),i++}return n.weightTable={},null!==e&&(n.skeleton=e,e.rawBones.forEach((function(t,e){t.indices.forEach((function(i,r){void 0===n.weightTable[i]&&(n.weightTable[i]=[]),n.weightTable[i].push({id:e,weight:t.weights[r]})}))}))),n},genBuffers:function(t){var e={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]},n=0,i=0,r=!1,a=[],o=[],s=[],c=[],u=[],l=[],h=this;return t.vertexIndices.forEach((function(d,f){var p=!1;d<0&&(d^=-1,p=!0);var m=[],g=[];if(a.push(3*d,3*d+1,3*d+2),t.color){var y=v(f,n,d,t.color);s.push(y[0],y[1],y[2])}if(t.skeleton){if(void 0!==t.weightTable[d]&&t.weightTable[d].forEach((function(t){g.push(t.weight),m.push(t.id)})),g.length>4){r||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),r=!0);var b=[0,0,0,0],_=[0,0,0,0];g.forEach((function(t,e){var n=t,i=m[e];_.forEach((function(t,e,r){if(n>t){r[e]=n,n=t;var a=b[e];b[e]=i,i=a}}))})),m=b,g=_}for(;g.length<4;)g.push(0),m.push(0);for(var w=0;w<4;++w)u.push(g[w]),l.push(m[w])}if(t.normal){y=v(f,n,d,t.normal);o.push(y[0],y[1],y[2])}if(t.material&&"AllSame"!==t.material.mappingType)var x=v(f,n,d,t.material)[0];t.uv&&t.uv.forEach((function(t,e){var i=v(f,n,d,t);void 0===c[e]&&(c[e]=[]),c[e].push(i[0]),c[e].push(i[1])})),i++,p&&(h.genFace(e,t,a,x,o,s,c,u,l,i),n++,i=0,a=[],o=[],s=[],c=[],u=[],l=[])})),e},genFace:function(t,e,n,i,r,a,o,s,c,u){for(var l=2;l<u;l++)t.vertex.push(e.vertexPositions[n[0]]),t.vertex.push(e.vertexPositions[n[1]]),t.vertex.push(e.vertexPositions[n[2]]),t.vertex.push(e.vertexPositions[n[3*(l-1)]]),t.vertex.push(e.vertexPositions[n[3*(l-1)+1]]),t.vertex.push(e.vertexPositions[n[3*(l-1)+2]]),t.vertex.push(e.vertexPositions[n[3*l]]),t.vertex.push(e.vertexPositions[n[3*l+1]]),t.vertex.push(e.vertexPositions[n[3*l+2]]),e.skeleton&&(t.vertexWeights.push(s[0]),t.vertexWeights.push(s[1]),t.vertexWeights.push(s[2]),t.vertexWeights.push(s[3]),t.vertexWeights.push(s[4*(l-1)]),t.vertexWeights.push(s[4*(l-1)+1]),t.vertexWeights.push(s[4*(l-1)+2]),t.vertexWeights.push(s[4*(l-1)+3]),t.vertexWeights.push(s[4*l]),t.vertexWeights.push(s[4*l+1]),t.vertexWeights.push(s[4*l+2]),t.vertexWeights.push(s[4*l+3]),t.weightsIndices.push(c[0]),t.weightsIndices.push(c[1]),t.weightsIndices.push(c[2]),t.weightsIndices.push(c[3]),t.weightsIndices.push(c[4*(l-1)]),t.weightsIndices.push(c[4*(l-1)+1]),t.weightsIndices.push(c[4*(l-1)+2]),t.weightsIndices.push(c[4*(l-1)+3]),t.weightsIndices.push(c[4*l]),t.weightsIndices.push(c[4*l+1]),t.weightsIndices.push(c[4*l+2]),t.weightsIndices.push(c[4*l+3])),e.color&&(t.colors.push(a[0]),t.colors.push(a[1]),t.colors.push(a[2]),t.colors.push(a[3*(l-1)]),t.colors.push(a[3*(l-1)+1]),t.colors.push(a[3*(l-1)+2]),t.colors.push(a[3*l]),t.colors.push(a[3*l+1]),t.colors.push(a[3*l+2])),e.material&&"AllSame"!==e.material.mappingType&&(t.materialIndex.push(i),t.materialIndex.push(i),t.materialIndex.push(i)),e.normal&&(t.normal.push(r[0]),t.normal.push(r[1]),t.normal.push(r[2]),t.normal.push(r[3*(l-1)]),t.normal.push(r[3*(l-1)+1]),t.normal.push(r[3*(l-1)+2]),t.normal.push(r[3*l]),t.normal.push(r[3*l+1]),t.normal.push(r[3*l+2])),e.uv&&e.uv.forEach((function(e,n){void 0===t.uvs[n]&&(t.uvs[n]=[]),t.uvs[n].push(o[n][0]),t.uvs[n].push(o[n][1]),t.uvs[n].push(o[n][2*(l-1)]),t.uvs[n].push(o[n][2*(l-1)+1]),t.uvs[n].push(o[n][2*l]),t.uvs[n].push(o[n][2*l+1])}))},addMorphTargets:function(e,n,i,r){if(0!==i.length){e.morphTargetsRelative=!0,e.morphAttributes.position=[];var a=this;i.forEach((function(i){i.rawTargets.forEach((function(i){var o=t.Objects.Geometry[i.geoID];void 0!==o&&a.genMorphGeometry(e,n,o,r,i.name)}))}))}},genMorphGeometry:function(t,e,n,i,r){for(var a=void 0!==e.PolygonVertexIndex?e.PolygonVertexIndex.a:[],o=void 0!==n.Vertices?n.Vertices.a:[],s=void 0!==n.Indexes?n.Indexes.a:[],u=3*t.attributes.position.count,l=new Float32Array(u),h=0;h<s.length;h++){var d=3*s[h];l[d]=o[3*h],l[d+1]=o[3*h+1],l[d+2]=o[3*h+2]}var f={vertexIndices:a,vertexPositions:l},p=this.genBuffers(f),v=new c.F(p.vertex,3);v.name=r||n.attrName,v.applyMatrix4(i),t.morphAttributes.position.push(v)},parseNormals:function(t){var e=t.MappingInformationType,n=t.ReferenceInformationType,i=t.Normals.a,r=[];return"IndexToDirect"===n&&("NormalIndex"in t?r=t.NormalIndex.a:"NormalsIndex"in t&&(r=t.NormalsIndex.a)),{dataSize:3,buffer:i,indices:r,mappingType:e,referenceType:n}},parseUVs:function(t){var e=t.MappingInformationType,n=t.ReferenceInformationType,i=t.UV.a,r=[];return"IndexToDirect"===n&&(r=t.UVIndex.a),{dataSize:2,buffer:i,indices:r,mappingType:e,referenceType:n}},parseVertexColors:function(t){var e=t.MappingInformationType,n=t.ReferenceInformationType,i=t.Colors.a,r=[];return"IndexToDirect"===n&&(r=t.ColorIndex.a),{dataSize:4,buffer:i,indices:r,mappingType:e,referenceType:n}},parseMaterialIndices:function(t){var e=t.MappingInformationType,n=t.ReferenceInformationType;if("NoMappingInformation"===e)return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:n};for(var i=t.Materials.a,r=[],a=0;a<i.length;++a)r.push(a);return{dataSize:1,buffer:i,indices:r,mappingType:e,referenceType:n}},parseNurbsGeometry:function(t){if(void 0===ko)return console.error("THREE.FBXLoader: The loader relies on NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry."),new c.o;var e=parseInt(t.Order);if(isNaN(e))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",t.Order,t.id),new c.o;for(var n,i,r=e-1,a=t.KnotVector.a,o=[],s=t.Points.a,u=0,l=s.length;u<l;u+=4)o.push((new c.lc).fromArray(s,u));if("Closed"===t.Form)o.push(o[0]);else if("Periodic"===t.Form){n=r,i=a.length-1-n;for(u=0;u<r;++u)o.push(o[u])}var h=new ko(r,a,o,n,i).getPoints(7*o.length),d=new Float32Array(3*h.length);h.forEach((function(t,e){t.toArray(d,3*e)}));var f=new c.o;return f.setAttribute("position",new c.n(d,3)),f}},o.prototype={constructor:o,parse:function(){var t=[],e=this.parseClips();if(void 0!==e)for(var n in e){var i=e[n],r=this.addClip(i);t.push(r)}return t},parseClips:function(){if(void 0!==t.Objects.AnimationCurve){var e=this.parseAnimationCurveNodes();this.parseAnimationCurves(e);var n=this.parseAnimationLayers(e);return this.parseAnimStacks(n)}},parseAnimationCurveNodes:function(){var e=t.Objects.AnimationCurveNode,n=new Map;for(var i in e){var r=e[i];if(null!==r.attrName.match(/S|R|T|DeformPercent/)){var a={id:r.id,attr:r.attrName,curves:{}};n.set(a.id,a)}}return n},parseAnimationCurves:function(n){var i=t.Objects.AnimationCurve;for(var r in i){var a={id:i[r].id,times:i[r].KeyTime.a.map(f),values:i[r].KeyValueFloat.a},o=e.get(a.id);if(void 0!==o){var s=o.parents[0].ID,c=o.parents[0].relationship;c.match(/X/)?n.get(s).curves.x=a:c.match(/Y/)?n.get(s).curves.y=a:c.match(/Z/)?n.get(s).curves.z=a:c.match(/d|DeformPercent/)&&n.has(s)&&(n.get(s).curves.morph=a)}}},parseAnimationLayers:function(i){var r=t.Objects.AnimationLayer,a=new Map;for(var o in r){var s=[],u=e.get(parseInt(o));if(void 0!==u)u.children.forEach((function(r,a){if(i.has(r.ID)){var o=i.get(r.ID);if(void 0!==o.curves.x||void 0!==o.curves.y||void 0!==o.curves.z){if(void 0===s[a])if(void 0!==(p=e.get(r.ID).parents.filter((function(t){return void 0!==t.relationship}))[0].ID)){if(void 0===(l=t.Objects.Model[p.toString()]))return void console.warn("THREE.FBXLoader: Encountered a unused curve.",r);var u={modelName:l.attrName?c.Eb.sanitizeNodeName(l.attrName):"",ID:l.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};n.traverse((function(t){t.ID===l.id&&(u.transform=t.matrix,t.userData.transformData&&(u.eulerOrder=t.userData.transformData.eulerOrder))})),u.transform||(u.transform=new c.hb),"PreRotation"in l&&(u.preRotation=l.PreRotation.value),"PostRotation"in l&&(u.postRotation=l.PostRotation.value),s[a]=u}s[a]&&(s[a][o.attr]=o)}else if(void 0!==o.curves.morph){if(void 0===s[a]){var l,h=e.get(r.ID).parents.filter((function(t){return void 0!==t.relationship}))[0].ID,d=e.get(h).parents[0].ID,f=e.get(d).parents[0].ID,p=e.get(f).parents[0].ID;u={modelName:(l=t.Objects.Model[p]).attrName?c.Eb.sanitizeNodeName(l.attrName):"",morphName:t.Objects.Deformer[h].attrName};s[a]=u}s[a][o.attr]=o}}})),a.set(parseInt(o),s)}return a},parseAnimStacks:function(n){var i=t.Objects.AnimationStack,r={};for(var a in i){var o=e.get(parseInt(a)).children;o.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");var s=n.get(o[0].ID);r[a]={name:i[a].attrName,layer:s}}return r},addClip:function(t){var e=[],n=this;return t.layer.forEach((function(t){e=e.concat(n.generateTracks(t))})),new c.c(t.name,-1,e)},generateTracks:function(t){var e=[],n=new c.kc,i=new c.Fb,r=new c.kc;if(t.transform&&t.transform.decompose(n,i,r),n=n.toArray(),i=(new c.C).setFromQuaternion(i,t.eulerOrder).toArray(),r=r.toArray(),void 0!==t.T&&Object.keys(t.T.curves).length>0){var a=this.generateVectorTrack(t.modelName,t.T.curves,n,"position");void 0!==a&&e.push(a)}if(void 0!==t.R&&Object.keys(t.R.curves).length>0){var o=this.generateRotationTrack(t.modelName,t.R.curves,i,t.preRotation,t.postRotation,t.eulerOrder);void 0!==o&&e.push(o)}if(void 0!==t.S&&Object.keys(t.S.curves).length>0){var s=this.generateVectorTrack(t.modelName,t.S.curves,r,"scale");void 0!==s&&e.push(s)}if(void 0!==t.DeformPercent){var u=this.generateMorphTrack(t);void 0!==u&&e.push(u)}return e},generateVectorTrack:function(t,e,n,i){var r=this.getTimesForAllAxes(e),a=this.getKeyframeTrackValues(r,e,n);return new c.mc(t+"."+i,r,a)},generateRotationTrack:function(t,e,n,i,r,a){void 0!==e.x&&(this.interpolateRotations(e.x),e.x.values=e.x.values.map(c.fb.degToRad)),void 0!==e.y&&(this.interpolateRotations(e.y),e.y.values=e.y.values.map(c.fb.degToRad)),void 0!==e.z&&(this.interpolateRotations(e.z),e.z.values=e.z.values.map(c.fb.degToRad));var o=this.getTimesForAllAxes(e),s=this.getKeyframeTrackValues(o,e,n);void 0!==i&&((i=i.map(c.fb.degToRad)).push(a),i=(new c.C).fromArray(i),i=(new c.Fb).setFromEuler(i)),void 0!==r&&((r=r.map(c.fb.degToRad)).push(a),r=(new c.C).fromArray(r),r=(new c.Fb).setFromEuler(r).invert());for(var u=new c.Fb,l=new c.C,h=[],d=0;d<s.length;d+=3)l.set(s[d],s[d+1],s[d+2],a),u.setFromEuler(l),void 0!==i&&u.premultiply(i),void 0!==r&&u.multiply(r),u.toArray(h,d/3*4);return new c.Gb(t+".quaternion",o,h)},generateMorphTrack:function(t){var e=t.DeformPercent.curves.morph,i=e.values.map((function(t){return t/100})),r=n.getObjectByName(t.modelName).morphTargetDictionary[t.morphName];return new c.vb(t.modelName+".morphTargetInfluences["+r+"]",e.times,i)},getTimesForAllAxes:function(t){var e=[];return void 0!==t.x&&(e=e.concat(t.x.times)),void 0!==t.y&&(e=e.concat(t.y.times)),void 0!==t.z&&(e=e.concat(t.z.times)),e=e.sort((function(t,e){return t-e})).filter((function(t,e,n){return n.indexOf(t)==e}))},getKeyframeTrackValues:function(t,e,n){var i=n,r=[],a=-1,o=-1,s=-1;return t.forEach((function(t){if(e.x&&(a=e.x.times.indexOf(t)),e.y&&(o=e.y.times.indexOf(t)),e.z&&(s=e.z.times.indexOf(t)),-1!==a){var n=e.x.values[a];r.push(n),i[0]=n}else r.push(i[0]);if(-1!==o){var c=e.y.values[o];r.push(c),i[1]=c}else r.push(i[1]);if(-1!==s){var u=e.z.values[s];r.push(u),i[2]=u}else r.push(i[2])})),r},interpolateRotations:function(t){for(var e=1;e<t.values.length;e++){var n=t.values[e-1],i=t.values[e]-n,r=Math.abs(i);if(r>=180){for(var a=r/180,o=i/a,s=n+o,c=t.times[e-1],u=(t.times[e]-c)/a,l=c+u,h=[],d=[];l<t.times[e];)h.push(l),l+=u,d.push(s),s+=o;t.times=x(t.times,e,h),t.values=x(t.values,e,d)}}}},s.prototype={constructor:s,getPrevNode:function(){return this.nodeStack[this.currentIndent-2]},getCurrentNode:function(){return this.nodeStack[this.currentIndent-1]},getCurrentProp:function(){return this.currentProp},pushStack:function(t){this.nodeStack.push(t),this.currentIndent+=1},popStack:function(){this.nodeStack.pop(),this.currentIndent-=1},setCurrentProp:function(t,e){this.currentProp=t,this.currentPropName=e},parse:function(t){this.currentIndent=0,this.allNodes=new h,this.nodeStack=[],this.currentProp=[],this.currentPropName="";var e=this,n=t.split(/[\r\n]+/);return n.forEach((function(t,i){var r=t.match(/^[\s\t]*;/),a=t.match(/^[\s\t]*$/);if(!r&&!a){var o=t.match("^\\t{"+e.currentIndent+"}(\\w+):(.*){",""),s=t.match("^\\t{"+e.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),c=t.match("^\\t{"+(e.currentIndent-1)+"}}");o?e.parseNodeBegin(t,o):s?e.parseNodeProperty(t,s,n[++i]):c?e.popStack():t.match(/^[^\s\t}]/)&&e.parseNodePropertyContinued(t)}})),this.allNodes},parseNodeBegin:function(t,e){var n=e[1].trim().replace(/^"/,"").replace(/"$/,""),i=e[2].split(",").map((function(t){return t.trim().replace(/^"/,"").replace(/"$/,"")})),r={name:n},a=this.parseNodeAttr(i),o=this.getCurrentNode();0===this.currentIndent?this.allNodes.add(n,r):n in o?("PoseNode"===n?o.PoseNode.push(r):void 0!==o[n].id&&(o[n]={},o[n][o[n].id]=o[n]),""!==a.id&&(o[n][a.id]=r)):"number"==typeof a.id?(o[n]={},o[n][a.id]=r):"Properties70"!==n&&(o[n]="PoseNode"===n?[r]:r),"number"==typeof a.id&&(r.id=a.id),""!==a.name&&(r.attrName=a.name),""!==a.type&&(r.attrType=a.type),this.pushStack(r)},parseNodeAttr:function(t){var e=t[0];""!==t[0]&&(e=parseInt(t[0]),isNaN(e)&&(e=t[0]));var n="",i="";return t.length>1&&(n=t[1].replace(/^(\w+)::/,""),i=t[2]),{id:e,name:n,type:i}},parseNodeProperty:function(t,e,n){var i=e[1].replace(/^"/,"").replace(/"$/,"").trim(),r=e[2].replace(/^"/,"").replace(/"$/,"").trim();"Content"===i&&","===r&&(r=n.replace(/"/g,"").replace(/,$/,"").trim());var a=this.getCurrentNode();if("Properties70"!==a.name){if("C"===i){var o=r.split(",").slice(1),s=parseInt(o[0]),c=parseInt(o[1]),u=r.split(",").slice(3);i="connections",function(t,e){for(var n=0,i=t.length,r=e.length;n<r;n++,i++)t[i]=e[n]}(r=[s,c],u=u.map((function(t){return t.trim().replace(/^"/,"")}))),void 0===a[i]&&(a[i]=[])}"Node"===i&&(a.id=r),i in a&&Array.isArray(a[i])?a[i].push(r):"a"!==i?a[i]=r:a.a=r,this.setCurrentProp(a,i),"a"===i&&","!==r.slice(-1)&&(a.a=_(r))}else this.parseNodeSpecialProperty(t,i,r)},parseNodePropertyContinued:function(t){var e=this.getCurrentNode();e.a+=t,","!==t.slice(-1)&&(e.a=_(e.a))},parseNodeSpecialProperty:function(t,e,n){var i=n.split('",').map((function(t){return t.trim().replace(/^\"/,"").replace(/\s/,"_")})),r=i[0],a=i[1],o=i[2],s=i[3],c=i[4];switch(a){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":c=parseFloat(c);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":c=_(c)}this.getPrevNode()[r]={type:a,type2:o,flag:s,value:c},this.setCurrentProp(this.getPrevNode(),r)}},u.prototype={constructor:u,parse:function(t){var e=new l(t);e.skip(23);var n=e.getUint32();if(n<6400)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+n);for(var i=new h;!this.endOfContent(e);){var r=this.parseNode(e,n);null!==r&&i.add(r.name,r)}return i},endOfContent:function(t){return t.size()%16==0?(t.getOffset()+160+16&-16)>=t.size():t.getOffset()+160+16>=t.size()},parseNode:function(t,e){var n={},i=e>=7500?t.getUint64():t.getUint32(),r=e>=7500?t.getUint64():t.getUint32();e>=7500?t.getUint64():t.getUint32();var a=t.getUint8(),o=t.getString(a);if(0===i)return null;for(var s=[],c=0;c<r;c++)s.push(this.parseProperty(t));var u=s.length>0?s[0]:"",l=s.length>1?s[1]:"",h=s.length>2?s[2]:"";for(n.singleProperty=1===r&&t.getOffset()===i;i>t.getOffset();){var d=this.parseNode(t,e);null!==d&&this.parseSubNode(o,n,d)}return n.propertyList=s,"number"==typeof u&&(n.id=u),""!==l&&(n.attrName=l),""!==h&&(n.attrType=h),""!==o&&(n.name=o),n},parseSubNode:function(t,e,n){if(!0===n.singleProperty){var i=n.propertyList[0];Array.isArray(i)?(e[n.name]=n,n.a=i):e[n.name]=i}else if("Connections"===t&&"C"===n.name){var r=[];n.propertyList.forEach((function(t,e){0!==e&&r.push(t)})),void 0===e.connections&&(e.connections=[]),e.connections.push(r)}else if("Properties70"===n.name){Object.keys(n).forEach((function(t){e[t]=n[t]}))}else if("Properties70"===t&&"P"===n.name){var a,o=n.propertyList[0],s=n.propertyList[1],c=n.propertyList[2],u=n.propertyList[3];0===o.indexOf("Lcl ")&&(o=o.replace("Lcl ","Lcl_")),0===s.indexOf("Lcl ")&&(s=s.replace("Lcl ","Lcl_")),a="Color"===s||"ColorRGB"===s||"Vector"===s||"Vector3D"===s||0===s.indexOf("Lcl_")?[n.propertyList[4],n.propertyList[5],n.propertyList[6]]:n.propertyList[4],e[o]={type:s,type2:c,flag:u,value:a}}else void 0===e[n.name]?"number"==typeof n.id?(e[n.name]={},e[n.name][n.id]=n):e[n.name]=n:"PoseNode"===n.name?(Array.isArray(e[n.name])||(e[n.name]=[e[n.name]]),e[n.name].push(n)):void 0===e[n.name][n.id]&&(e[n.name][n.id]=n)},parseProperty:function(t){var e=t.getString(1);switch(e){case"C":return t.getBoolean();case"D":return t.getFloat64();case"F":return t.getFloat32();case"I":return t.getInt32();case"L":return t.getInt64();case"R":var n=t.getUint32();return t.getArrayBuffer(n);case"S":n=t.getUint32();return t.getString(n);case"Y":return t.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":var i=t.getUint32(),r=t.getUint32(),a=t.getUint32();if(0===r)switch(e){case"b":case"c":return t.getBooleanArray(i);case"d":return t.getFloat64Array(i);case"f":return t.getFloat32Array(i);case"i":return t.getInt32Array(i);case"l":return t.getInt64Array(i)}void 0===wo&&console.error("THREE.FBXLoader: External library Inflate.min.js required, obtain or import from https://github.com/imaya/zlib.js");var o=new l(new wo(new Uint8Array(t.getArrayBuffer(a))).decompress().buffer);switch(e){case"b":case"c":return o.getBooleanArray(i);case"d":return o.getFloat64Array(i);case"f":return o.getFloat32Array(i);case"i":return o.getInt32Array(i);case"l":return o.getInt64Array(i)}default:throw new Error("THREE.FBXLoader: Unknown property type "+e)}}},l.prototype={constructor:l,getOffset:function(){return this.offset},size:function(){return this.dv.buffer.byteLength},skip:function(t){this.offset+=t},getBoolean:function(){return 1==(1&this.getUint8())},getBooleanArray:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getBoolean());return e},getUint8:function(){var t=this.dv.getUint8(this.offset);return this.offset+=1,t},getInt16:function(){var t=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,t},getInt32:function(){var t=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,t},getInt32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt32());return e},getUint32:function(){var t=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,t},getInt64:function(){var t,e;return this.littleEndian?(t=this.getUint32(),e=this.getUint32()):(e=this.getUint32(),t=this.getUint32()),2147483648&e?(e=4294967295&~e,4294967295===(t=4294967295&~t)&&(e=e+1&4294967295),-(4294967296*e+(t=t+1&4294967295))):4294967296*e+t},getInt64Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt64());return e},getUint64:function(){var t,e;return this.littleEndian?(t=this.getUint32(),e=this.getUint32()):(e=this.getUint32(),t=this.getUint32()),4294967296*e+t},getFloat32:function(){var t=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t},getFloat32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getFloat32());return e},getFloat64:function(){var t=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t},getFloat64Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getFloat64());return e},getArrayBuffer:function(t){var e=this.dv.buffer.slice(this.offset,this.offset+t);return this.offset+=t,e},getString:function(t){for(var e=[],n=0;n<t;n++)e[n]=this.getUint8();var i=e.indexOf(0);return i>=0&&(e=e.slice(0,i)),c.bb.decodeText(new Uint8Array(e))}},h.prototype={constructor:h,add:function(t,e){this[t]=e}};var p=[];function v(t,e,n,i){var r;switch(i.mappingType){case"ByPolygonVertex":r=t;break;case"ByPolygon":r=e;break;case"ByVertice":r=n;break;case"AllSame":r=i.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+i.mappingType)}"IndexToDirect"===i.referenceType&&(r=i.indices[r]);var a=r*i.dataSize,o=a+i.dataSize;return function(t,e,n,i){for(var r=n,a=0;r<i;r++,a++)t[a]=e[r];return t}(p,i.buffer,a,o)}var m=new c.C,g=new c.kc;function y(t){var e,n=new c.hb,i=new c.hb,r=new c.hb,a=new c.hb,o=new c.hb,s=new c.hb,u=new c.hb,l=new c.hb,h=new c.hb,d=new c.hb,f=new c.hb,p=t.inheritType?t.inheritType:0;(t.translation&&n.setPosition(g.fromArray(t.translation)),t.preRotation)&&((e=t.preRotation.map(c.fb.degToRad)).push(t.eulerOrder),i.makeRotationFromEuler(m.fromArray(e)));t.rotation&&((e=t.rotation.map(c.fb.degToRad)).push(t.eulerOrder),r.makeRotationFromEuler(m.fromArray(e)));t.postRotation&&((e=t.postRotation.map(c.fb.degToRad)).push(t.eulerOrder),a.makeRotationFromEuler(m.fromArray(e)));t.scale&&o.scale(g.fromArray(t.scale)),t.scalingOffset&&u.setPosition(g.fromArray(t.scalingOffset)),t.scalingPivot&&s.setPosition(g.fromArray(t.scalingPivot)),t.rotationOffset&&l.setPosition(g.fromArray(t.rotationOffset)),t.rotationPivot&&h.setPosition(g.fromArray(t.rotationPivot)),t.parentMatrixWorld&&(d=t.parentMatrixWorld);var v=i.multiply(r).multiply(a),y=new c.hb;d.extractRotation(y),(new c.hb).copyPosition(d);var b=new c.hb;b.copy(y).invert().multiply(d);var _=new c.hb;if(0===p)_.copy(y).multiply(v).multiply(b).multiply(o);else if(1===p)_.copy(y).multiply(b).multiply(v).multiply(o);else{var w=new c.hb;w.copy(o).invert();var x=(new c.hb).multiply(b).multiply(w);_.copy(y).multiply(v).multiply(x).multiply(o)}var k=new c.hb;k.copy(h).invert();var O=new c.hb;O.copy(s).invert();var S=new c.hb;S.copy(n).multiply(l).multiply(h).multiply(i).multiply(r).multiply(a).multiply(k).multiply(u).multiply(s).multiply(o).multiply(O);var C=(new c.hb).copyPosition(S),A=(new c.hb).copy(d).multiply(C);return f.copyPosition(A),S=(new c.hb).multiply(f).multiply(_)}function b(t){var e=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return 6===(t=t||0)?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),e[0]):e[t]}function _(t){return t.split(",").map((function(t){return parseFloat(t)}))}function w(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=t.byteLength),c.bb.decodeText(new Uint8Array(t,e,n))}function x(t,e,n){return t.slice(0,e).concat(n).concat(t.slice(e))}return i}(),So=function(){function t(t){c.ab.call(this,t),this.dracoLoader=null,this.ddsLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register((function(t){return new o(t)})),this.register((function(t){return new u(t)})),this.register((function(t){return new l(t)})),this.register((function(t){return new s(t)})),this.register((function(t){return new r(t)})),this.register((function(t){return new h(t)}))}function e(){var t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}t.prototype=Object.assign(Object.create(c.ab.prototype),{constructor:t,load:function(t,e,n,i){var r,a=this;r=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:c.bb.extractUrlBase(t),this.manager.itemStart(t);var o=function(e){i?i(e):console.error(e),a.manager.itemError(t),a.manager.itemEnd(t)},s=new c.E(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(t,(function(n){try{a.parse(n,r,(function(n){e(n),a.manager.itemEnd(t)}),o)}catch(i){o(i)}}),n,o)},setDRACOLoader:function(t){return this.dracoLoader=t,this},setDDSLoader:function(t){return this.ddsLoader=t,this},setKTX2Loader:function(t){return this.ktx2Loader=t,this},setMeshoptDecoder:function(t){return this.meshoptDecoder=t,this},register:function(t){return-1===this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.push(t),this},unregister:function(t){return-1!==this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this},parse:function(t,e,r,o){var s,u={},l={};if("string"==typeof t)s=t;else if(c.bb.decodeText(new Uint8Array(t,0,4))===d){try{u[n.KHR_BINARY_GLTF]=new v(t)}catch(k){return void(o&&o(k))}s=u[n.KHR_BINARY_GLTF].content}else s=c.bb.decodeText(new Uint8Array(t));var h=JSON.parse(s);if(void 0===h.asset||h.asset.version[0]<2)o&&o(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var f=new G(h,{path:e||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});f.fileLoader.setRequestHeader(this.requestHeader);for(var p=0;p<this.pluginCallbacks.length;p++){var y=this.pluginCallbacks[p](f);l[y.name]=y,u[y.name]=!0}if(h.extensionsUsed)for(p=0;p<h.extensionsUsed.length;++p){var w=h.extensionsUsed[p],x=h.extensionsRequired||[];switch(w){case n.KHR_MATERIALS_UNLIT:u[w]=new a;break;case n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:u[w]=new b;break;case n.KHR_DRACO_MESH_COMPRESSION:u[w]=new m(h,this.dracoLoader);break;case n.MSFT_TEXTURE_DDS:u[w]=new i(this.ddsLoader);break;case n.KHR_TEXTURE_TRANSFORM:u[w]=new g;break;case n.KHR_MESH_QUANTIZATION:u[w]=new _;break;default:x.indexOf(w)>=0&&void 0===l[w]&&console.warn('THREE.GLTFLoader: Unknown extension "'+w+'".')}}f.setExtensions(u),f.setPlugins(l),f.parse(r,o)}}});var n={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function i(t){if(!t)throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader");this.name=n.MSFT_TEXTURE_DDS,this.ddsLoader=t}function r(t){this.parser=t,this.name=n.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}function a(){this.name=n.KHR_MATERIALS_UNLIT}function o(t){this.parser=t,this.name=n.KHR_MATERIALS_CLEARCOAT}function s(t){this.parser=t,this.name=n.KHR_MATERIALS_TRANSMISSION}function u(t){this.parser=t,this.name=n.KHR_TEXTURE_BASISU}function l(t){this.parser=t,this.name=n.EXT_TEXTURE_WEBP,this.isSupported=null}function h(t){this.name=n.EXT_MESHOPT_COMPRESSION,this.parser=t}r.prototype._markDefs=function(){for(var t=this.parser,e=this.parser.json.nodes||[],n=0,i=e.length;n<i;n++){var r=e[n];r.extensions&&r.extensions[this.name]&&void 0!==r.extensions[this.name].light&&t._addNodeRef(this.cache,r.extensions[this.name].light)}},r.prototype._loadLight=function(t){var e=this.parser,n="light:"+t,i=e.cache.get(n);if(i)return i;var r,a=e.json,o=((a.extensions&&a.extensions[this.name]||{}).lights||[])[t],s=new c.t(16777215);void 0!==o.color&&s.fromArray(o.color);var u=void 0!==o.range?o.range:0;switch(o.type){case"directional":(r=new c.z(s)).target.position.set(0,0,-1),r.add(r.target);break;case"point":(r=new c.Ab(s)).distance=u;break;case"spot":(r=new c.Xb(s)).distance=u,o.spot=o.spot||{},o.spot.innerConeAngle=void 0!==o.spot.innerConeAngle?o.spot.innerConeAngle:0,o.spot.outerConeAngle=void 0!==o.spot.outerConeAngle?o.spot.outerConeAngle:Math.PI/4,r.angle=o.spot.outerConeAngle,r.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,r.target.position.set(0,0,-1),r.add(r.target);break;default:throw new Error('THREE.GLTFLoader: Unexpected light type, "'+o.type+'".')}return r.position.set(0,0,0),r.decay=2,void 0!==o.intensity&&(r.intensity=o.intensity),r.name=e.createUniqueName(o.name||"light_"+t),i=Promise.resolve(r),e.cache.add(n,i),i},r.prototype.createNodeAttachment=function(t){var e=this,n=this.parser,i=n.json.nodes[t],r=(i.extensions&&i.extensions[this.name]||{}).light;return void 0===r?null:this._loadLight(r).then((function(t){return n._getNodeRef(e.cache,r,t)}))},a.prototype.getMaterialType=function(){return c.jb},a.prototype.extendParams=function(t,e,n){var i=[];t.color=new c.t(1,1,1),t.opacity=1;var r=e.pbrMetallicRoughness;if(r){if(Array.isArray(r.baseColorFactor)){var a=r.baseColorFactor;t.color.fromArray(a),t.opacity=a[3]}void 0!==r.baseColorTexture&&i.push(n.assignTexture(t,"map",r.baseColorTexture))}return Promise.all(i)},o.prototype.getMaterialType=function(t){var e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?c.ob:null},o.prototype.extendMaterialParams=function(t,e){var n=this.parser,i=n.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();var r=[],a=i.extensions[this.name];if(void 0!==a.clearcoatFactor&&(e.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&r.push(n.assignTexture(e,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(e.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&r.push(n.assignTexture(e,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(r.push(n.assignTexture(e,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){var o=a.clearcoatNormalTexture.scale;e.clearcoatNormalScale=new c.jc(o,o)}return Promise.all(r)},s.prototype.getMaterialType=function(t){var e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?c.ob:null},s.prototype.extendMaterialParams=function(t,e){var n=this.parser,i=n.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();var r=[],a=i.extensions[this.name];return void 0!==a.transmissionFactor&&(e.transmission=a.transmissionFactor),void 0!==a.transmissionTexture&&r.push(n.assignTexture(e,"transmissionMap",a.transmissionTexture)),Promise.all(r)},u.prototype.loadTexture=function(t){var e=this.parser,n=e.json,i=n.textures[t];if(!i.extensions||!i.extensions[this.name])return null;var r=i.extensions[this.name],a=n.images[r.source],o=e.options.ktx2Loader;if(!o){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return e.loadTextureImage(t,a,o)},l.prototype.loadTexture=function(t){var e=this.name,n=this.parser,i=n.json,r=i.textures[t];if(!r.extensions||!r.extensions[e])return null;var a=r.extensions[e],o=i.images[a.source],s=o.uri?n.options.manager.getHandler(o.uri):n.textureLoader;return this.detectSupport().then((function(r){if(r)return n.loadTextureImage(t,o,s);if(i.extensionsRequired&&i.extensionsRequired.indexOf(e)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(t)}))},l.prototype.detectSupport=function(){return this.isSupported||(this.isSupported=new Promise((function(t){var e=new Image;e.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",e.onload=e.onerror=function(){t(1===e.height)}}))),this.isSupported},h.prototype.loadBufferView=function(t){var e=this.parser.json,n=e.bufferViews[t];if(n.extensions&&n.extensions[this.name]){var i=n.extensions[this.name],r=this.parser.getDependency("buffer",i.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(e.extensionsRequired&&e.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([r,a.ready]).then((function(t){var e=i.byteOffset||0,n=i.byteLength||0,r=i.count,o=i.byteStride,s=new ArrayBuffer(r*o),c=new Uint8Array(t[0],e,n);return a.decodeGltfBuffer(new Uint8Array(s),r,o,c,i.mode,i.filter),s}))}return null};var d="glTF",f=1313821514,p=5130562;function v(t){this.name=n.KHR_BINARY_GLTF,this.content=null,this.body=null;var e=new DataView(t,0,12);if(this.header={magic:c.bb.decodeText(new Uint8Array(t.slice(0,4))),version:e.getUint32(4,!0),length:e.getUint32(8,!0)},this.header.magic!==d)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var i=new DataView(t,12),r=0;r<i.byteLength;){var a=i.getUint32(r,!0);r+=4;var o=i.getUint32(r,!0);if(r+=4,o===f){var s=new Uint8Array(t,12+r,a);this.content=c.bb.decodeText(s)}else if(o===p){var u=12+r;this.body=t.slice(u,u+a)}r+=a}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function m(t,e){if(!e)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=n.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=e,this.dracoLoader.preload()}function g(){this.name=n.KHR_TEXTURE_TRANSFORM}function y(t){c.pb.call(this),this.isGLTFSpecularGlossinessMaterial=!0;var e=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),n=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),i=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),r=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),a=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.specularRoughness += geometryRoughness;","material.specularRoughness = min( material.specularRoughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),o={specular:{value:(new c.t).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=o,this.onBeforeCompile=function(t){for(var s in o)t.uniforms[s]=o[s];t.fragmentShader=t.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",e).replace("#include <metalnessmap_pars_fragment>",n).replace("#include <roughnessmap_fragment>",i).replace("#include <metalnessmap_fragment>",r).replace("#include <lights_physical_fragment>",a)},Object.defineProperties(this,{specular:{get:function(){return o.specular.value},set:function(t){o.specular.value=t}},specularMap:{get:function(){return o.specularMap.value},set:function(t){o.specularMap.value=t,t?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return o.glossiness.value},set:function(t){o.glossiness.value=t}},glossinessMap:{get:function(){return o.glossinessMap.value},set:function(t){o.glossinessMap.value=t,t?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(t)}function b(){return{name:n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return y},extendParams:function(t,e,n){var i=e.extensions[this.name];t.color=new c.t(1,1,1),t.opacity=1;var r=[];if(Array.isArray(i.diffuseFactor)){var a=i.diffuseFactor;t.color.fromArray(a),t.opacity=a[3]}if(void 0!==i.diffuseTexture&&r.push(n.assignTexture(t,"map",i.diffuseTexture)),t.emissive=new c.t(0,0,0),t.glossiness=void 0!==i.glossinessFactor?i.glossinessFactor:1,t.specular=new c.t(1,1,1),Array.isArray(i.specularFactor)&&t.specular.fromArray(i.specularFactor),void 0!==i.specularGlossinessTexture){var o=i.specularGlossinessTexture;r.push(n.assignTexture(t,"glossinessMap",o)),r.push(n.assignTexture(t,"specularMap",o))}return Promise.all(r)},createMaterial:function(t){var e=new y(t);return e.fog=!0,e.color=t.color,e.map=void 0===t.map?null:t.map,e.lightMap=null,e.lightMapIntensity=1,e.aoMap=void 0===t.aoMap?null:t.aoMap,e.aoMapIntensity=1,e.emissive=t.emissive,e.emissiveIntensity=1,e.emissiveMap=void 0===t.emissiveMap?null:t.emissiveMap,e.bumpMap=void 0===t.bumpMap?null:t.bumpMap,e.bumpScale=1,e.normalMap=void 0===t.normalMap?null:t.normalMap,e.normalMapType=c.Yb,t.normalScale&&(e.normalScale=t.normalScale),e.displacementMap=null,e.displacementScale=1,e.displacementBias=0,e.specularMap=void 0===t.specularMap?null:t.specularMap,e.specular=t.specular,e.glossinessMap=void 0===t.glossinessMap?null:t.glossinessMap,e.glossiness=t.glossiness,e.alphaMap=null,e.envMap=void 0===t.envMap?null:t.envMap,e.envMapIntensity=1,e.refractionRatio=.98,e}}}function _(){this.name=n.KHR_MESH_QUANTIZATION}function w(t,e,n,i){c.O.call(this,t,e,n,i)}m.prototype.decodePrimitive=function(t,e){var n=this.json,i=this.dracoLoader,r=t.extensions[this.name].bufferView,a=t.extensions[this.name].attributes,o={},s={},c={};for(var u in a){var l=j[u]||u.toLowerCase();o[l]=a[u]}for(u in t.attributes){l=j[u]||u.toLowerCase();if(void 0!==a[u]){var h=n.accessors[t.attributes[u]],d=T[h.componentType];c[l]=d,s[l]=!0===h.normalized}}return e.getDependency("bufferView",r).then((function(t){return new Promise((function(e){i.decodeDracoFile(t,(function(t){for(var n in t.attributes){var i=t.attributes[n],r=s[n];void 0!==r&&(i.normalized=r)}e(t)}),o,c)}))}))},g.prototype.extendTexture=function(t,e){return t=t.clone(),void 0!==e.offset&&t.offset.fromArray(e.offset),void 0!==e.rotation&&(t.rotation=e.rotation),void 0!==e.scale&&t.repeat.fromArray(e.scale),void 0!==e.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),t.needsUpdate=!0,t},y.prototype=Object.create(c.pb.prototype),y.prototype.constructor=y,y.prototype.copy=function(t){return c.pb.prototype.copy.call(this,t),this.specularMap=t.specularMap,this.specular.copy(t.specular),this.glossinessMap=t.glossinessMap,this.glossiness=t.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this},w.prototype=Object.create(c.O.prototype),w.prototype.constructor=w,w.prototype.copySampleValue_=function(t){for(var e=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=t*i*3+i,a=0;a!==i;a++)e[a]=n[r+a];return e},w.prototype.beforeStart_=w.prototype.copySampleValue_,w.prototype.afterEnd_=w.prototype.copySampleValue_,w.prototype.interpolate_=function(t,e,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=2*o,c=3*o,u=i-e,l=(n-e)/u,h=l*l,d=h*l,f=t*c,p=f-c,v=-2*d+3*h,m=d-h,g=1-v,y=m-h+l,b=0;b!==o;b++){var _=a[p+b+o],w=a[p+b+s]*u,x=a[f+b+o],k=a[f+b]*u;r[b]=g*_+y*w+v*x+m*k}return r};var x=0,k=1,O=2,S=3,C=4,A=5,M=6,T={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},E={9728:c.sb,9729:c.W,9984:c.ub,9985:c.Z,9986:c.tb,9987:c.Y},P={33071:c.r,33648:c.qb,10497:c.Ob},D={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},j={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},R={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},I={CUBICSPLINE:void 0,LINEAR:c.Q,STEP:c.P},L="OPAQUE",N="MASK",F="BLEND";function B(t,e){return"string"!=typeof t||""===t?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}function z(t,e,n){for(var i in n.extensions)void 0===t[i]&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=n.extensions[i])}function U(t,e){void 0!==e.extras&&("object"==typeof e.extras?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function H(t,e){if(t.updateMorphTargets(),void 0!==e.weights)for(var n=0,i=e.weights.length;n<i;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){var r=e.extras.targetNames;if(t.morphTargetInfluences.length===r.length){t.morphTargetDictionary={};for(n=0,i=r.length;n<i;n++)t.morphTargetDictionary[r[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function V(t){for(var e="",n=Object.keys(t).sort(),i=0,r=n.length;i<r;i++)e+=n[i]+":"+t[n[i]]+";";return e}function G(t,n){this.json=t||{},this.extensions={},this.plugins={},this.options=n||{},this.cache=new e,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.nodeNamesUsed={},"undefined"!=typeof createImageBitmap&&!1===/Firefox/.test(navigator.userAgent)?this.textureLoader=new c.K(this.options.manager):this.textureLoader=new c.ac(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new c.E(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}function W(t,e,n){var i=e.attributes,r=[];function a(e,i){return n.getDependency("accessor",e).then((function(e){t.setAttribute(i,e)}))}for(var o in i){var s=j[o]||o.toLowerCase();s in t.attributes||r.push(a(i[o],s))}if(void 0!==e.indices&&!t.index){var u=n.getDependency("accessor",e.indices).then((function(e){t.setIndex(e)}));r.push(u)}return U(t,e),function(t,e,n){var i=e.attributes,r=new c.k;if(void 0!==i.POSITION){var a=(f=n.json.accessors[i.POSITION]).min,o=f.max;if(void 0!==a&&void 0!==o){r.set(new c.kc(a[0],a[1],a[2]),new c.kc(o[0],o[1],o[2]));var s=e.targets;if(void 0!==s){for(var u=new c.kc,l=new c.kc,h=0,d=s.length;h<d;h++){var f,p=s[h];if(void 0!==p.POSITION)a=(f=n.json.accessors[p.POSITION]).min,o=f.max,void 0!==a&&void 0!==o?(l.setX(Math.max(Math.abs(a[0]),Math.abs(o[0]))),l.setY(Math.max(Math.abs(a[1]),Math.abs(o[1]))),l.setZ(Math.max(Math.abs(a[2]),Math.abs(o[2]))),u.max(l)):console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}r.expandByVector(u)}t.boundingBox=r;var v=new c.Vb;r.getCenter(v.center),v.radius=r.min.distanceTo(r.max)/2,t.boundingSphere=v}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(t,e,n),Promise.all(r).then((function(){return void 0!==e.targets?function(t,e,n){for(var i=!1,r=!1,a=0,o=e.length;a<o&&(void 0!==(u=e[a]).POSITION&&(i=!0),void 0!==u.NORMAL&&(r=!0),!i||!r);a++);if(!i&&!r)return Promise.resolve(t);var s=[],c=[];for(a=0,o=e.length;a<o;a++){var u=e[a];if(i){var l=void 0!==u.POSITION?n.getDependency("accessor",u.POSITION):t.attributes.position;s.push(l)}r&&(l=void 0!==u.NORMAL?n.getDependency("accessor",u.NORMAL):t.attributes.normal,c.push(l))}return Promise.all([Promise.all(s),Promise.all(c)]).then((function(e){var n=e[0],a=e[1];return i&&(t.morphAttributes.position=n),r&&(t.morphAttributes.normal=a),t.morphTargetsRelative=!0,t}))}(t,e.targets,n):t}))}function X(t,e){var n=t.getIndex();if(null===n){var i=[],r=t.getAttribute("position");if(void 0===r)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t;for(var a=0;a<r.count;a++)i.push(a);t.setIndex(i),n=t.getIndex()}var o=n.count-2,s=[];if(e===c.bc)for(a=1;a<=o;a++)s.push(n.getX(0)),s.push(n.getX(a)),s.push(n.getX(a+1));else for(a=0;a<o;a++)a%2==0?(s.push(n.getX(a)),s.push(n.getX(a+1)),s.push(n.getX(a+2))):(s.push(n.getX(a+2)),s.push(n.getX(a+1)),s.push(n.getX(a)));s.length/3!==o&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var u=t.clone();return u.setIndex(s),u}return G.prototype.setExtensions=function(t){this.extensions=t},G.prototype.setPlugins=function(t){this.plugins=t},G.prototype.parse=function(t,e){var n=this,i=this.json,r=this.extensions;this.cache.removeAll(),this._invokeAll((function(t){return t._markDefs&&t._markDefs()})),Promise.all([this.getDependencies("scene"),this.getDependencies("animation"),this.getDependencies("camera")]).then((function(e){var a={scene:e[0][i.scene||0],scenes:e[0],animations:e[1],cameras:e[2],asset:i.asset,parser:n,userData:{}};z(r,a,i),U(a,i),t(a)})).catch(e)},G.prototype._markDefs=function(){for(var t=this.json.nodes||[],e=this.json.skins||[],n=this.json.meshes||[],i=0,r=e.length;i<r;i++)for(var a=e[i].joints,o=0,s=a.length;o<s;o++)t[a[o]].isBone=!0;for(var c=0,u=t.length;c<u;c++){var l=t[c];void 0!==l.mesh&&(this._addNodeRef(this.meshCache,l.mesh),void 0!==l.skin&&(n[l.mesh].isSkinnedMesh=!0)),void 0!==l.camera&&this._addNodeRef(this.cameraCache,l.camera)}},G.prototype._addNodeRef=function(t,e){void 0!==e&&(void 0===t.refs[e]&&(t.refs[e]=t.uses[e]=0),t.refs[e]++)},G.prototype._getNodeRef=function(t,e,n){if(t.refs[e]<=1)return n;var i=n.clone();return i.name+="_instance_"+t.uses[e]++,i},G.prototype._invokeOne=function(t){var e=Object.values(this.plugins);e.push(this);for(var n=0;n<e.length;n++){var i=t(e[n]);if(i)return i}},G.prototype._invokeAll=function(t){var e=Object.values(this.plugins);e.unshift(this);for(var n=[],i=0;i<e.length;i++){var r=t(e[i]);r&&n.push(r)}return n},G.prototype.getDependency=function(t,e){var n=t+":"+e,i=this.cache.get(n);if(!i){switch(t){case"scene":i=this.loadScene(e);break;case"node":i=this.loadNode(e);break;case"mesh":i=this._invokeOne((function(t){return t.loadMesh&&t.loadMesh(e)}));break;case"accessor":i=this.loadAccessor(e);break;case"bufferView":i=this._invokeOne((function(t){return t.loadBufferView&&t.loadBufferView(e)}));break;case"buffer":i=this.loadBuffer(e);break;case"material":i=this._invokeOne((function(t){return t.loadMaterial&&t.loadMaterial(e)}));break;case"texture":i=this._invokeOne((function(t){return t.loadTexture&&t.loadTexture(e)}));break;case"skin":i=this.loadSkin(e);break;case"animation":i=this.loadAnimation(e);break;case"camera":i=this.loadCamera(e);break;default:throw new Error("Unknown type: "+t)}this.cache.add(n,i)}return i},G.prototype.getDependencies=function(t){var e=this.cache.get(t);if(!e){var n=this,i=this.json[t+("mesh"===t?"es":"s")]||[];e=Promise.all(i.map((function(e,i){return n.getDependency(t,i)}))),this.cache.add(t,e)}return e},G.prototype.loadBuffer=function(t){var e=this.json.buffers[t],i=this.fileLoader;if(e.type&&"arraybuffer"!==e.type)throw new Error("THREE.GLTFLoader: "+e.type+" buffer type is not supported.");if(void 0===e.uri&&0===t)return Promise.resolve(this.extensions[n.KHR_BINARY_GLTF].body);var r=this.options;return new Promise((function(t,n){i.load(B(e.uri,r.path),t,void 0,(function(){n(new Error('THREE.GLTFLoader: Failed to load buffer "'+e.uri+'".'))}))}))},G.prototype.loadBufferView=function(t){var e=this.json.bufferViews[t];return this.getDependency("buffer",e.buffer).then((function(t){var n=e.byteLength||0,i=e.byteOffset||0;return t.slice(i,i+n)}))},G.prototype.loadAccessor=function(t){var e=this,n=this.json,i=this.json.accessors[t];if(void 0===i.bufferView&&void 0===i.sparse)return Promise.resolve(null);var r=[];return void 0!==i.bufferView?r.push(this.getDependency("bufferView",i.bufferView)):r.push(null),void 0!==i.sparse&&(r.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),r.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(r).then((function(t){var r,a,o=t[0],s=D[i.type],u=T[i.componentType],l=u.BYTES_PER_ELEMENT,h=l*s,d=i.byteOffset||0,f=void 0!==i.bufferView?n.bufferViews[i.bufferView].byteStride:void 0,p=!0===i.normalized;if(f&&f!==h){var v=Math.floor(d/f),m="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+v+":"+i.count,g=e.cache.get(m);g||(r=new u(o,v*f,i.count*f/l),g=new c.M(r,f/l),e.cache.add(m,g)),a=new c.N(g,s,d%f/l,p)}else r=null===o?new u(i.count*s):new u(o,d,i.count*s),a=new c.n(r,s,p);if(void 0!==i.sparse){var y=D.SCALAR,b=T[i.sparse.indices.componentType],_=i.sparse.indices.byteOffset||0,w=i.sparse.values.byteOffset||0,x=new b(t[1],_,i.sparse.count*y),k=new u(t[2],w,i.sparse.count*s);null!==o&&(a=new c.n(a.array.slice(),a.itemSize,a.normalized));for(var O=0,S=x.length;O<S;O++){var C=x[O];if(a.setX(C,k[O*s]),s>=2&&a.setY(C,k[O*s+1]),s>=3&&a.setZ(C,k[O*s+2]),s>=4&&a.setW(C,k[O*s+3]),s>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return a}))},G.prototype.loadTexture=function(t){var e,i,r=this.json,a=this.options,o=r.textures[t],s=o.extensions||{};return(e=s[n.MSFT_TEXTURE_DDS]?r.images[s[n.MSFT_TEXTURE_DDS].source]:r.images[o.source]).uri&&(i=a.manager.getHandler(e.uri)),i||(i=s[n.MSFT_TEXTURE_DDS]?this.extensions[n.MSFT_TEXTURE_DDS].ddsLoader:this.textureLoader),this.loadTextureImage(t,e,i)},G.prototype.loadTextureImage=function(t,e,n){var i=this,r=this.json,a=this.options,o=r.textures[t],s=self.URL||self.webkitURL,u=e.uri,l=!1,h=!0;return"image/jpeg"===e.mimeType&&(h=!1),void 0!==e.bufferView&&(u=i.getDependency("bufferView",e.bufferView).then((function(t){if("image/png"===e.mimeType){var n=new DataView(t,25,1).getUint8(0,!1);h=6===n||4===n||3===n}l=!0;var i=new Blob([t],{type:e.mimeType});return u=s.createObjectURL(i)}))),Promise.resolve(u).then((function(t){return new Promise((function(e,i){var r=e;!0===n.isImageBitmapLoader&&(r=function(t){e(new c.q(t))}),n.load(B(t,a.path),r,void 0,i)}))})).then((function(e){!0===l&&s.revokeObjectURL(u),e.flipY=!1,o.name&&(e.name=o.name),h||(e.format=c.Jb);var n=(r.samplers||{})[o.sampler]||{};return e.magFilter=E[n.magFilter]||c.W,e.minFilter=E[n.minFilter]||c.Y,e.wrapS=P[n.wrapS]||c.Ob,e.wrapT=P[n.wrapT]||c.Ob,i.associations.set(e,{type:"textures",index:t}),e}))},G.prototype.assignTexture=function(t,e,i){var r=this;return this.getDependency("texture",i.index).then((function(a){if(void 0===i.texCoord||0==i.texCoord||"aoMap"===e&&1==i.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+i.texCoord+" for texture "+e+" not yet supported."),r.extensions[n.KHR_TEXTURE_TRANSFORM]){var o=void 0!==i.extensions?i.extensions[n.KHR_TEXTURE_TRANSFORM]:void 0;if(o){var s=r.associations.get(a);a=r.extensions[n.KHR_TEXTURE_TRANSFORM].extendTexture(a,o),r.associations.set(a,s)}}t[e]=a}))},G.prototype.assignFinalMaterial=function(t){var e=t.geometry,n=t.material,i=void 0!==e.attributes.tangent,r=void 0!==e.attributes.color,a=void 0===e.attributes.normal,o=!0===t.isSkinnedMesh,s=Object.keys(e.morphAttributes).length>0,u=s&&void 0!==e.morphAttributes.normal;if(t.isPoints){var l="PointsMaterial:"+n.uuid,h=this.cache.get(l);h||(h=new c.Cb,c.eb.prototype.copy.call(h,n),h.color.copy(n.color),h.map=n.map,h.sizeAttenuation=!1,this.cache.add(l,h)),n=h}else if(t.isLine){l="LineBasicMaterial:"+n.uuid;var d=this.cache.get(l);d||(d=new c.S,c.eb.prototype.copy.call(d,n),d.color.copy(n.color),this.cache.add(l,d)),n=d}if(i||r||a||o||s){l="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(l+="specular-glossiness:"),o&&(l+="skinning:"),i&&(l+="vertex-tangents:"),r&&(l+="vertex-colors:"),a&&(l+="flat-shading:"),s&&(l+="morph-targets:"),u&&(l+="morph-normals:");var f=this.cache.get(l);f||(f=n.clone(),o&&(f.skinning=!0),i&&(f.vertexTangents=!0),r&&(f.vertexColors=!0),a&&(f.flatShading=!0),s&&(f.morphTargets=!0),u&&(f.morphNormals=!0),this.cache.add(l,f),this.associations.set(f,this.associations.get(n))),n=f}n.aoMap&&void 0===e.attributes.uv2&&void 0!==e.attributes.uv&&e.setAttribute("uv2",e.attributes.uv),n.normalScale&&!i&&(n.normalScale.y=-n.normalScale.y),n.clearcoatNormalScale&&!i&&(n.clearcoatNormalScale.y=-n.clearcoatNormalScale.y),t.material=n},G.prototype.getMaterialType=function(){return c.pb},G.prototype.loadMaterial=function(t){var e,i=this,r=this.json,a=this.extensions,o=r.materials[t],s={},u=o.extensions||{},l=[];if(u[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var h=a[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];e=h.getMaterialType(),l.push(h.extendParams(s,o,i))}else if(u[n.KHR_MATERIALS_UNLIT]){var d=a[n.KHR_MATERIALS_UNLIT];e=d.getMaterialType(),l.push(d.extendParams(s,o,i))}else{var f=o.pbrMetallicRoughness||{};if(s.color=new c.t(1,1,1),s.opacity=1,Array.isArray(f.baseColorFactor)){var p=f.baseColorFactor;s.color.fromArray(p),s.opacity=p[3]}void 0!==f.baseColorTexture&&l.push(i.assignTexture(s,"map",f.baseColorTexture)),s.metalness=void 0!==f.metallicFactor?f.metallicFactor:1,s.roughness=void 0!==f.roughnessFactor?f.roughnessFactor:1,void 0!==f.metallicRoughnessTexture&&(l.push(i.assignTexture(s,"metalnessMap",f.metallicRoughnessTexture)),l.push(i.assignTexture(s,"roughnessMap",f.metallicRoughnessTexture))),e=this._invokeOne((function(e){return e.getMaterialType&&e.getMaterialType(t)})),l.push(Promise.all(this._invokeAll((function(e){return e.extendMaterialParams&&e.extendMaterialParams(t,s)}))))}!0===o.doubleSided&&(s.side=c.A);var v=o.alphaMode||L;return v===F?(s.transparent=!0,s.depthWrite=!1):(s.transparent=!1,v===N&&(s.alphaTest=void 0!==o.alphaCutoff?o.alphaCutoff:.5)),void 0!==o.normalTexture&&e!==c.jb&&(l.push(i.assignTexture(s,"normalMap",o.normalTexture)),s.normalScale=new c.jc(1,1),void 0!==o.normalTexture.scale&&s.normalScale.set(o.normalTexture.scale,o.normalTexture.scale)),void 0!==o.occlusionTexture&&e!==c.jb&&(l.push(i.assignTexture(s,"aoMap",o.occlusionTexture)),void 0!==o.occlusionTexture.strength&&(s.aoMapIntensity=o.occlusionTexture.strength)),void 0!==o.emissiveFactor&&e!==c.jb&&(s.emissive=(new c.t).fromArray(o.emissiveFactor)),void 0!==o.emissiveTexture&&e!==c.jb&&l.push(i.assignTexture(s,"emissiveMap",o.emissiveTexture)),Promise.all(l).then((function(){var r;return r=e===y?a[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(s):new e(s),o.name&&(r.name=o.name),r.map&&(r.map.encoding=c.qc),r.emissiveMap&&(r.emissiveMap.encoding=c.qc),U(r,o),i.associations.set(r,{type:"materials",index:t}),o.extensions&&z(a,r,o),r}))},G.prototype.createUniqueName=function(t){for(var e=c.Eb.sanitizeNodeName(t||""),n=1;this.nodeNamesUsed[e];++n)e=t+"_"+n;return this.nodeNamesUsed[e]=!0,e},G.prototype.loadGeometries=function(t){var e=this,i=this.extensions,r=this.primitiveCache;function a(t){return i[n.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(t,e).then((function(n){return W(n,t,e)}))}for(var o,s,u=[],l=0,h=t.length;l<h;l++){var d,f=t[l],p=(s=void 0,(s=(o=f).extensions&&o.extensions[n.KHR_DRACO_MESH_COMPRESSION])?"draco:"+s.bufferView+":"+s.indices+":"+V(s.attributes):o.indices+":"+V(o.attributes)+":"+o.mode),v=r[p];if(v)u.push(v.promise);else d=f.extensions&&f.extensions[n.KHR_DRACO_MESH_COMPRESSION]?a(f):W(new c.o,f,e),r[p]={primitive:f,promise:d},u.push(d)}return Promise.all(u)},G.prototype.loadMesh=function(t){for(var e,n=this,i=this.json,r=this.extensions,a=i.meshes[t],o=a.primitives,s=[],u=0,l=o.length;u<l;u++){var h=void 0===o[u].material?(void 0===(e=this.cache).DefaultMaterial&&(e.DefaultMaterial=new c.pb({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:c.I})),e.DefaultMaterial):this.getDependency("material",o[u].material);s.push(h)}return s.push(n.loadGeometries(o)),Promise.all(s).then((function(e){for(var i=e.slice(0,e.length-1),s=e[e.length-1],u=[],l=0,h=s.length;l<h;l++){var d,f=s[l],p=o[l],v=i[l];if(p.mode===C||p.mode===A||p.mode===M||void 0===p.mode)!0!==(d=!0===a.isSkinnedMesh?new c.Ub(f,v):new c.ib(f,v)).isSkinnedMesh||d.geometry.attributes.skinWeight.normalized||d.normalizeSkinWeights(),p.mode===A?d.geometry=X(d.geometry,c.cc):p.mode===M&&(d.geometry=X(d.geometry,c.bc));else if(p.mode===k)d=new c.U(f,v);else if(p.mode===S)d=new c.R(f,v);else if(p.mode===O)d=new c.T(f,v);else{if(p.mode!==x)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+p.mode);d=new c.Bb(f,v)}Object.keys(d.geometry.morphAttributes).length>0&&H(d,a),d.name=n.createUniqueName(a.name||"mesh_"+t),U(d,a),p.extensions&&z(r,d,p),n.assignFinalMaterial(d),u.push(d)}if(1===u.length)return u[0];var m=new c.J;for(l=0,h=u.length;l<h;l++)m.add(u[l]);return m}))},G.prototype.loadCamera=function(t){var e,n=this.json.cameras[t],i=n[n.type];if(i)return"perspective"===n.type?e=new c.yb(c.fb.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):"orthographic"===n.type&&(e=new c.xb(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),n.name&&(e.name=this.createUniqueName(n.name)),U(e,n),Promise.resolve(e);console.warn("THREE.GLTFLoader: Missing camera parameters.")},G.prototype.loadSkin=function(t){var e=this.json.skins[t],n={joints:e.joints};return void 0===e.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",e.inverseBindMatrices).then((function(t){return n.inverseBindMatrices=t,n}))},G.prototype.loadAnimation=function(t){for(var e=this.json.animations[t],n=[],i=[],r=[],a=[],o=[],s=0,u=e.channels.length;s<u;s++){var l=e.channels[s],h=e.samplers[l.sampler],d=l.target,f=void 0!==d.node?d.node:d.id,p=void 0!==e.parameters?e.parameters[h.input]:h.input,v=void 0!==e.parameters?e.parameters[h.output]:h.output;n.push(this.getDependency("node",f)),i.push(this.getDependency("accessor",p)),r.push(this.getDependency("accessor",v)),a.push(h),o.push(d)}return Promise.all([Promise.all(n),Promise.all(i),Promise.all(r),Promise.all(a),Promise.all(o)]).then((function(n){for(var i=n[0],r=n[1],a=n[2],o=n[3],s=n[4],u=[],l=0,h=i.length;l<h;l++){var d=i[l],f=r[l],p=a[l],v=o[l],m=s[l];if(void 0!==d){var g;switch(d.updateMatrix(),d.matrixAutoUpdate=!0,R[m.path]){case R.weights:g=c.vb;break;case R.rotation:g=c.Gb;break;case R.position:case R.scale:default:g=c.mc}var y=d.name?d.name:d.uuid,b=void 0!==v.interpolation?I[v.interpolation]:c.Q,_=[];R[m.path]===R.weights?d.traverse((function(t){!0===t.isMesh&&t.morphTargetInfluences&&_.push(t.name?t.name:t.uuid)})):_.push(y);var x=p.array;if(p.normalized){var k;if(x.constructor===Int8Array)k=1/127;else if(x.constructor===Uint8Array)k=1/255;else if(x.constructor==Int16Array)k=1/32767;else{if(x.constructor!==Uint16Array)throw new Error("THREE.GLTFLoader: Unsupported output accessor component type.");k=1/65535}for(var O=new Float32Array(x.length),S=0,C=x.length;S<C;S++)O[S]=x[S]*k;x=O}for(S=0,C=_.length;S<C;S++){var A=new g(_[S]+"."+R[m.path],f.array,x,b);"CUBICSPLINE"===v.interpolation&&(A.createInterpolant=function(t){return new w(this.times,this.values,this.getValueSize()/3,t)},A.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),u.push(A)}}}var M=e.name?e.name:"animation_"+t;return new c.c(M,void 0,u)}))},G.prototype.loadNode=function(t){var e,n=this.json,i=this.extensions,r=this,a=n.nodes[t],o=a.name?r.createUniqueName(a.name):"";return(e=[],void 0!==a.mesh&&e.push(r.getDependency("mesh",a.mesh).then((function(t){var e=r._getNodeRef(r.meshCache,a.mesh,t);return void 0!==a.weights&&e.traverse((function(t){if(t.isMesh)for(var e=0,n=a.weights.length;e<n;e++)t.morphTargetInfluences[e]=a.weights[e]})),e}))),void 0!==a.camera&&e.push(r.getDependency("camera",a.camera).then((function(t){return r._getNodeRef(r.cameraCache,a.camera,t)}))),r._invokeAll((function(e){return e.createNodeAttachment&&e.createNodeAttachment(t)})).forEach((function(t){e.push(t)})),Promise.all(e)).then((function(e){var n;if((n=!0===a.isBone?new c.i:e.length>1?new c.J:1===e.length?e[0]:new c.wb)!==e[0])for(var s=0,u=e.length;s<u;s++)n.add(e[s]);if(a.name&&(n.userData.name=a.name,n.name=o),U(n,a),a.extensions&&z(i,n,a),void 0!==a.matrix){var l=new c.hb;l.fromArray(a.matrix),n.applyMatrix4(l)}else void 0!==a.translation&&n.position.fromArray(a.translation),void 0!==a.rotation&&n.quaternion.fromArray(a.rotation),void 0!==a.scale&&n.scale.fromArray(a.scale);return r.associations.set(n,{type:"nodes",index:t}),n}))},G.prototype.loadScene=function(){function t(e,n,i,r){var a=i.nodes[e];return r.getDependency("node",e).then((function(t){return void 0===a.skin?t:r.getDependency("skin",a.skin).then((function(t){for(var n=[],i=0,a=(e=t).joints.length;i<a;i++)n.push(r.getDependency("node",e.joints[i]));return Promise.all(n)})).then((function(n){return t.traverse((function(t){if(t.isMesh){for(var i=[],r=[],a=0,o=n.length;a<o;a++){var s=n[a];if(s){i.push(s);var u=new c.hb;void 0!==e.inverseBindMatrices&&u.fromArray(e.inverseBindMatrices.array,16*a),r.push(u)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',e.joints[a])}t.bind(new c.Tb(i,r),t.matrixWorld)}})),t}));var e})).then((function(e){n.add(e);var o=[];if(a.children)for(var s=a.children,c=0,u=s.length;c<u;c++){var l=s[c];o.push(t(l,e,i,r))}return Promise.all(o)}))}return function(e){var n=this.json,i=this.extensions,r=this.json.scenes[e],a=new c.J;r.name&&(a.name=this.createUniqueName(r.name)),U(a,r),r.extensions&&z(i,a,r);for(var o=r.nodes||[],s=[],u=0,l=o.length;u<l;u++)s.push(t(o[u],a,n,this));return Promise.all(s).then((function(){return a}))}}(),t}(),Co=function(t,e,n,i,r,a){void 0===e&&(e=0),void 0===n&&(n=1),void 0===i&&(i=1),void 0===r&&(r=1),void 0===a&&(a=!1),this.src=t,this.delay=e,this.volume=n,this.refDistance=i,this.refRolloff=r,this.isBgMusic=a,this.isInited=!1,this.isLoaded=new be.a(!1),this.tempVol=0},Ao=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.audioLoader=new c.g(e.ts.assets.loadingManager),e.audioChange=new a.a,e.sounds={electric:new Co("assets/sounds/electric.mp3"),forest:new Co("assets/sounds/forest.mp3"),wind:new Co("assets/sounds/wind.mp3"),chimes:new Co("assets/sounds/chimes.mp3"),night:new Co("assets/sounds/night.mp3"),thunder:new Co("assets/sounds/thunder2.mp3"),bgm:new Co("assets/sounds/bg.mp3",0,1,1,1,!0)},e.volumeChange=new a.a,e.masterVolume=0,e.masterVolumeTempVol=1,e.bgmVolume=0,e}return Object(r.c)(e,t),e.prototype.create=function(){var t=this,e=function(){t.ts.isSoundOn.value&&t.ts.isMusicOn.value?(t.bgmTween&&(t.bgmTween.kill(),t.bgmTween=null),t.bgmTween=C.a.to(t,2,{bgmVolume:1,onUpdate:function(){t.ts.volumeChange.next()}})):(t.bgmTween&&(t.bgmTween.kill(),t.bgmTween=null),t.bgmTween=C.a.to(t,1,{bgmVolume:0,onUpdate:function(){t.ts.volumeChange.next()}}))},n=function(){t.ts.isSoundOn.value&&t.ts.isTempMuteOff.value?(t.masterTween&&t.masterTween.kill(),t.masterTween=C.a.to(t,2,{masterVolume:1,onUpdate:function(){t.ts.listener.setMasterVolume(t.masterVolume)}})):(t.masterTween&&t.masterTween.kill(),t.masterTween=C.a.to(t,1,{masterVolume:0,onUpdate:function(){t.ts.listener.setMasterVolume(t.masterVolume)}})),t.ts.volumeChange.next()};this.ts.isTempMuteOff.subscribe((function(){n()})),this.ts.isSoundOn.subscribe((function(){e(),n()})),this.ts.isMusicOn.subscribe((function(){e()})),this.preloadAll(),this.ts.volumeChange.subscribe((function(){Object.keys(t.sounds).forEach((function(e){var n=t.sounds[e],i=t.ts.volumeController[e];n.isBgMusic&&(i*=t.bgmVolume),!n.isInited&&i>0&&t.initAudio(e,n),n.sound&&(n.sound.setVolume(.5*i),0===i?n.sound.pause():n.sound.isPlaying||n.sound.play(n.delay))}))}))},e.prototype.preloadAll=function(){var t=this;Object.keys(this.sounds).forEach((function(e){var n=t.sounds[e];n.isInited||t.initAudio(e,n)}))},e.prototype.initAudio=function(t,e){var n=this;e.isInited||(e.isInited=!0,e.sound=new c.e(this.ts.listener),this.loadAudio(e).subscribe((function(i){e.isLoaded.next(!0),e.sound.setBuffer(i),e.sound.setLoop(!0);var r=t?n.ts.volumeController[t]:n.bgmVolume;e.sound.pause(),e.sound.setVolume(0),r>0?(e.sound.play(e.delay),C.a.to(e,5,{tempVol:r,onUpdate:function(){e.sound.setVolume(e.tempVol)}})):e.sound.pause()})))},e.prototype.loadAudio=function(t){var e=this;return Object(Ia.a)(new Promise((function(n,i){e.audioLoader.load(t.src,(function(t){n(t)}),(function(t){}),(function(t){}))})))},e}(s),Mo=function(){function t(){}return t.TEXTURE="texture",t.AUDIO="audio",t.OBJ="obj",t.MATERIAL="mtl",t.FONT="font",t.OBJMTL="objmtl",t.IMAGE="image",t.SMAA="smaa",t.FBX="fbx",t.TGA="tga",t.GLTF="gltf",t}(),To=function(){function t(t,e,n,i){void 0===i&&(i={}),this.id=t,this.type=e,this.src=n,this.props=i,this.onLoad=new be.a(this),this.isLoaded=!1}return t.prototype.loaded=function(t,e){void 0===e&&(e=!0),this.data=t,this.isLoaded=!0,e&&this.onLoad.next(this)},t}(),Eo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loadingManager=new c.cb,e.onAllAssetLoaded=new a.a,e.audioLoader=new c.g(e.loadingManager),e.textureLoader=new c.ac(e.loadingManager),e.objLoader=new La(e.loadingManager),e.fbxLoader=new Oo(e.loadingManager),e.smaaImageLoader=new de(e.loadingManager),e.gltfLoader=new So(e.loadingManager),e.positionalSounds={chapel:new Co("assets/sounds/chapel.mp3",null,1,20,1),village:new Co("assets/sounds/village.mp3",null,2,100,1)},e.assets=[new To("smaa",Mo.SMAA,""),new To("cloud",Mo.TEXTURE,"assets/cloud.png"),new To("lensflare1",Mo.TEXTURE,"assets/lensflare2.png"),new To("lensflare2",Mo.TEXTURE,"assets/lensflare3.png"),new To("lensflare3",Mo.TEXTURE,"assets/lensflare4.png"),new To("fo0",Mo.OBJ,"assets/models/converted/fo.obj"),new To("tr0",Mo.OBJ,"assets/models/converted/tr.obj"),new To("fo0d",Mo.TEXTURE,"assets/models/converted/fo_diff1.png"),new To("me",Mo.FBX,"assets/models/man/man_tshirt_jeans.FBX"),new To("meAnim",Mo.FBX,"assets/models/man/animations/@idle.FBX"),new To("house",Mo.FBX,"assets/models/house/house.FBX"),new To("cat2",Mo.GLTF,"assets/models/cat_animated/cat.gltf"),new To("rock2",Mo.OBJ,"assets/models/converted/rock/Rock_2.obj"),new To("tower",Mo.OBJ,"assets/obj/tower.obj"),new To("chapel",Mo.OBJ,"assets/models/chapel/chapel.obj"),new To("v1",Mo.OBJ,"assets/models/village/1.obj"),new To("v2",Mo.OBJ,"assets/models/village/2.obj"),new To("v3",Mo.OBJ,"assets/models/village/3.obj")],e}return Object(r.c)(e,t),e.prototype.createTreeLoaders=function(t,e,n){void 0===n&&(n=4);for(var i=[],r=0;r<n;r++){var a=void 0;a=0===r?new To(t,Mo.OBJMTL,"assets/models/goodpines/"+e+".obj",{path:"assets/models/goodpines/",mtl:e+".mtl"}):new To(t+"_lod"+r,Mo.OBJMTL,"assets/models/goodpines/"+e+"_lod"+r+".obj",{path:"assets/models/goodpines/",mtl:e+"_lod"+r+".mtl"}),i.push(a)}return i},e.prototype.createRockLoaders=function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n],r=new To("rock"+i,Mo.OBJ,"assets/models/rocks/Rock_"+i+".obj"),a=new To("rock"+i+"map",Mo.TEXTURE,"assets/models/rocks/Rock_"+i+"_Tex/Rock_"+i+"_Base_Color.jpg"),o=new To("rock"+i+"ao",Mo.TEXTURE,"assets/models/rocks/Rock_"+i+"_Tex/Rock_"+i+"_Mixed_AO.jpg"),s=new To("rock"+i+"glossiness",Mo.TEXTURE,"assets/models/rocks/Rock_"+i+"_Tex/Rock_"+i+"_Glossiness.jpg"),c=new To("rock"+i+"normal",Mo.TEXTURE,"assets/models/rocks/Rock_"+i+"_Tex/Rock_"+i+"_Normal.jpg");e.push(r,a,o,s,c)}return e},e.prototype.create=function(){var t=this;this.ts.onFirstContact.subscribe((function(e){e&&t.fireAudioEventsAfterFirstContact()})),this.assets.forEach((function(e){t.loadAsset(e)}))},e.prototype.getPositionalAudio=function(t){var e,n=this.positionalSounds[t];return n.isInited?(e=new c.Db(this.ts.listener),n.isLoaded.value?e.setBuffer(n.positionalSound.buffer):n.isLoaded.subscribe((function(t){t&&e.setBuffer(n.positionalSound.buffer)})),e.setRolloffFactor(n.refRolloff),e.setRefDistance(n.refDistance),e.setLoop(!0),e.setVolume(n.volume)):(n.isInited=!0,e=n.positionalSound=new c.Db(this.ts.listener),this.loadAudio(n).subscribe((function(t){n.isLoaded.next(!0),n.positionalSound.setBuffer(t),n.positionalSound.setRolloffFactor(n.refRolloff),n.positionalSound.setRefDistance(n.refDistance),n.positionalSound.setLoop(!0),n.positionalSound.setVolume(n.volume)}))),e},e.prototype.loadAudio=function(t){var e=this;return Object(Ia.a)(new Promise((function(n,i){e.audioLoader.load(t.src,(function(t){n(t)}),(function(t){}),(function(t){}))})))},e.prototype.loadAsset=function(t){var e=this;t.type===Mo.TEXTURE?this.textureLoader.load(t.src,(function(e){t.loaded(e)}),(function(t){}),(function(t){})):t.type===Mo.AUDIO?this.audioLoader.load(t.src,(function(n){t.loaded(n,e.ts.firstContact)}),(function(t){}),(function(t){})):t.type===Mo.OBJ?this.objLoader.load(t.src,(function(e){t.loaded(e)})):t.type===Mo.SMAA?this.smaaImageLoader.load((function(e){var n=e[0],i=e[1];t.loaded({search:n,area:i})})):t.type===Mo.FBX?this.fbxLoader.load(t.src,(function(e){t.loaded(e)})):t.type===Mo.GLTF&&this.gltfLoader.load(t.src,(function(e){t.loaded(e)})),t.onLoad.subscribe((function(t){e.assetLoaded(t)}))},e.prototype.assetLoaded=function(t){var e=!0;this.assets.forEach((function(t){!0!==t.isLoaded&&t.type!==Mo.AUDIO&&(e=!1)})),e&&this.onAllAssetLoaded.next()},e.prototype.fireAudioEventsAfterFirstContact=function(){this.assets.forEach((function(t){t.type===Mo.AUDIO&&t.isLoaded&&t.onLoad.next(t)}))},e.prototype.getAsset=function(t){var e=this.assets.find((function(e){return e.id===t}));if(e)return e;console.log("Asset not found")},e.prototype.onRender=function(t){},e.prototype.onSkyUpdate=function(){},e}(s),Po=n("7u5G"),Do=function(){function t(t,e,n){void 0===t&&(t=new c.kc(500,0,500)),void 0===e&&(e=new c.kc(3,1,3)),void 0===n&&(n=new c.kc),this.size=t,this.dimension=e,this.currentArea=n,this.loadedAreas=[],this.positionalSpawnables=[],this.spawnedPositionalInstances=[],this.normalizedArea=new c.kc,this.largeArea=new c.kc,this.areaSize=new c.kc(this.dimension.x*this.size.x,this.dimension.y*this.size.y,this.dimension.z*this.size.z),this.onAreaChange=new a.a,this.onUpdateGround=new a.a}return t.prototype.triggerAreaChange=function(){this.largeArea.x=Math.floor((this.currentArea.x+this.dimension.x/2)/this.dimension.x),this.largeArea.y=Math.floor((this.currentArea.y+this.dimension.y/2)/this.dimension.y),this.largeArea.z=Math.floor((this.currentArea.z+this.dimension.z/2)/this.dimension.z),this.normalizedArea.x=this.currentArea.x-this.largeArea.x*this.dimension.x,this.normalizedArea.y=this.currentArea.y-this.largeArea.y*this.dimension.y,this.normalizedArea.z=this.currentArea.z-this.largeArea.z*this.dimension.z,this.onUpdateGround.next(this.currentArea),this.onAreaChange.next(this.currentArea),this.checkPositionalSpawnables(),this.clearPositionalSpawnables()},t.prototype.addPositionalSpawnable=function(t,e,n){this.positionalSpawnables[e]?this.positionalSpawnables[e][n]||(this.positionalSpawnables[e][n]=[]):(this.positionalSpawnables[e]=[],this.positionalSpawnables[e][n]=[]),this.positionalSpawnables[e][n].push(t)},t.prototype.checkPositionalSpawnables=function(){for(var t=this,e=0;e<this.dimension.x;e++){var n=this.currentArea.x-e+Math.floor(this.dimension.x/2);if(this.positionalSpawnables[n])for(var i=0;i<this.dimension.z;i++){var r=this.currentArea.z-i+Math.floor(this.dimension.z/2),a=this.positionalSpawnables[n][r];a&&a.forEach((function(e){e.spawn(),t.spawnedPositionalInstances.push(e)}))}}},t.prototype.clearPositionalSpawnables=function(){for(var t=Math.floor(this.dimension.x/2),e=0;e<this.spawnedPositionalInstances.length;e++){var n=this.spawnedPositionalInstances[e];(n.areaX>this.currentArea.x+t||n.areaX<this.currentArea.x-t||n.areaZ>this.currentArea.z+t||n.areaZ<this.currentArea.z-t)&&(n.remove(),this.spawnedPositionalInstances.splice(e,1),e--)}},t}(),jo=n("SxV6"),Ro=n("GJmQ"),Io=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bigAreaSize=0,e.positions=[new m("rockPositional",new c.kc(-1e3,0,-800),{something:1546}),new m("rockPositional",new c.kc(-966.8059485385949,0,-1025.116006665105),{something:1546}),new m("scenePositional",new c.kc(-1055.8090396075659,531.1200522127425,-697.8694691786698),{scene:"me"}),new m("rockPositional",new c.kc(-972.0664972293348,8,-620.1887551726018),{something:1546}),new m("rockPositional",new c.kc(-1100.0664972293348,0,-700.1887551726018),{something:1546}),new m("treePositional",new c.kc(-1150.0664972293348,0,-730.1887551726018),{something:1546}),new m("treePositional",new c.kc(-1050.0664972293348,0,-780.1887551726018),{something:1546}),new m("treePositional",new c.kc(-1150.0664972293348,0,-780.1887551726018),{something:1546}),new m("treePositional",new c.kc(-1200.0664972293348,0,-750.1887551726018),{something:1546}),new m("treePositional",new c.kc(-935.3580890553195,0,-881.04699),{something:1546}),new m("treePositional",new c.kc(-1236.0617211871618,0,-496.475),{something:1546}),new m("treePositional",new c.kc(-1086,0,-559),{something:1546}),new m("treePositional",new c.kc(-1193,0,-298),{something:1546}),new m("treePositional",new c.kc(-1102,0,-437),{something:1546}),new m("treePositional",new c.kc(-1108,0,-255),{something:1546}),new m("treePositional",new c.kc(-1019,0,-75),{something:1546}),new m("treePositional",new c.kc(-1083,0,-82),{something:1546}),new m("treePositional",new c.kc(-947,0,-766),{something:1546}),new m("cityPositional",new c.kc(-1245,0,-1613),{something:1546})],e.bigAreas=[],e}return Object(r.c)(e,t),e.prototype.create=function(){this.bigAreaSize=this.ts.areas.bigArea.size.x,this.processPositions(this.positions)},e.prototype.processPositions=function(t){for(var e=0,n=this.positions;e<n.length;e++){var i=n[e],r=Math.floor((i.pos.x+this.bigAreaSize/2)/this.bigAreaSize),a=Math.floor((i.pos.z+this.bigAreaSize/2)/this.bigAreaSize);this.bigAreas[r]?(this.bigAreas[r][a]||(this.bigAreas[r][a]=[]),this.bigAreas[r][a].push(i)):(this.bigAreas[r]=[],this.bigAreas[r][a]=[],this.bigAreas[r][a].push(i))}},e.prototype.getBigAreaElements=function(t){var e=this;return new Promise((function(n,i){var r=[];t.forEach((function(t){e.bigAreas[t.x]&&e.bigAreas[t.x][t.z]&&(r=r.concat(e.bigAreas[t.x][t.z]))})),n(r)}))},e}(s),Lo=1001,No=1006,Fo=1008,Bo=1023,zo=7680,Uo=[],Ho=0;Ho<256;Ho++)Uo[Ho]=(Ho<16?"0":"")+Ho.toString(16);var Vo=1234567,Go={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(Uo[255&t]+Uo[t>>8&255]+Uo[t>>16&255]+Uo[t>>24&255]+"-"+Uo[255&e]+Uo[e>>8&255]+"-"+Uo[e>>16&15|64]+Uo[e>>24&255]+"-"+Uo[63&n|128]+Uo[n>>8&255]+"-"+Uo[n>>16&255]+Uo[n>>24&255]+Uo[255&i]+Uo[i>>8&255]+Uo[i>>16&255]+Uo[i>>24&255]).toUpperCase()},clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){return void 0!==t&&(Vo=t%2147483647),((Vo=16807*Vo%2147483647)-1)/2147483646},degToRad:function(t){return t*Go.DEG2RAD},radToDeg:function(t){return t*Go.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,e,n,i,r){var a=Math.cos,o=Math.sin,s=a(n/2),c=o(n/2),u=a((e+i)/2),l=o((e+i)/2),h=a((e-i)/2),d=o((e-i)/2),f=a((i-e)/2),p=o((i-e)/2);switch(r){case"XYX":t.set(s*l,c*h,c*d,s*u);break;case"YZY":t.set(c*d,s*l,c*h,s*u);break;case"ZXZ":t.set(c*h,c*d,s*l,s*u);break;case"XZX":t.set(s*l,c*p,c*f,s*u);break;case"YXY":t.set(c*f,s*l,c*p,s*u);break;case"ZYZ":t.set(c*p,c*f,s*l,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}},Wo=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Object(G.a)(this,t),Object.defineProperty(this,"isQuaternion",{value:!0}),this._x=e,this._y=n,this._z=i,this._w=r}return Object(W.a)(t,[{key:"set",value:function(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._w=i,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=t._x,i=t._y,r=t._z,a=t._order,o=Math.cos,s=Math.sin,c=o(n/2),u=o(i/2),l=o(r/2),h=s(n/2),d=s(i/2),f=s(r/2);switch(a){case"XYZ":this._x=h*u*l+c*d*f,this._y=c*d*l-h*u*f,this._z=c*u*f+h*d*l,this._w=c*u*l-h*d*f;break;case"YXZ":this._x=h*u*l+c*d*f,this._y=c*d*l-h*u*f,this._z=c*u*f-h*d*l,this._w=c*u*l+h*d*f;break;case"ZXY":this._x=h*u*l-c*d*f,this._y=c*d*l+h*u*f,this._z=c*u*f+h*d*l,this._w=c*u*l-h*d*f;break;case"ZYX":this._x=h*u*l-c*d*f,this._y=c*d*l+h*u*f,this._z=c*u*f-h*d*l,this._w=c*u*l+h*d*f;break;case"YZX":this._x=h*u*l+c*d*f,this._y=c*d*l+h*u*f,this._z=c*u*f-h*d*l,this._w=c*u*l-h*d*f;break;case"XZY":this._x=h*u*l-c*d*f,this._y=c*d*l-h*u*f,this._z=c*u*f+h*d*l,this._w=c*u*l+h*d*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==e&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(t,e){var n=e/2,i=Math.sin(n);return this._x=t.x*i,this._y=t.y*i,this._z=t.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(t){var e=t.elements,n=e[0],i=e[4],r=e[8],a=e[1],o=e[5],s=e[9],c=e[2],u=e[6],l=e[10],h=n+o+l;if(h>0){var d=.5/Math.sqrt(h+1);this._w=.25/d,this._x=(u-s)*d,this._y=(r-c)*d,this._z=(a-i)*d}else if(n>o&&n>l){var f=2*Math.sqrt(1+n-o-l);this._w=(u-s)/f,this._x=.25*f,this._y=(i+a)/f,this._z=(r+c)/f}else if(o>l){var p=2*Math.sqrt(1+o-n-l);this._w=(r-c)/p,this._x=(i+a)/p,this._y=.25*p,this._z=(s+u)/p}else{var v=2*Math.sqrt(1+l-n-o);this._w=(a-i)/v,this._x=(r+c)/v,this._y=(s+u)/v,this._z=.25*v}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(t,e){var n=t.dot(e)+1;return n<1e-6?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(t){return 2*Math.acos(Math.abs(Go.clamp(this.dot(t),-1,1)))}},{key:"rotateTowards",value:function(t,e){var n=this.angleTo(t);if(0===n)return this;var i=Math.min(1,e/n);return this.slerp(t,i),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}},{key:"multiply",value:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)}},{key:"premultiply",value:function(t){return this.multiplyQuaternions(t,this)}},{key:"multiplyQuaternions",value:function(t,e){var n=t._x,i=t._y,r=t._z,a=t._w,o=e._x,s=e._y,c=e._z,u=e._w;return this._x=n*u+a*o+i*c-r*s,this._y=i*u+a*s+r*o-n*c,this._z=r*u+a*c+n*s-i*o,this._w=a*u-n*o-i*s-r*c,this._onChangeCallback(),this}},{key:"slerp",value:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,i=this._y,r=this._z,a=this._w,o=a*t._w+n*t._x+i*t._y+r*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=a,this._x=n,this._y=i,this._z=r,this;var s=1-o*o;if(s<=Number.EPSILON){var c=1-e;return this._w=c*a+e*this._w,this._x=c*n+e*this._x,this._y=c*i+e*this._y,this._z=c*r+e*this._z,this.normalize(),this._onChangeCallback(),this}var u=Math.sqrt(s),l=Math.atan2(u,o),h=Math.sin((1-e)*l)/u,d=Math.sin(e*l)/u;return this._w=a*h+this._w*d,this._x=n*h+this._x*d,this._y=i*h+this._y*d,this._z=r*h+this._z*d,this._onChangeCallback(),this}},{key:"equals",value:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}},{key:"fromBufferAttribute",value:function(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}},{key:"_onChange",value:function(t){return this._onChangeCallback=t,this}},{key:"_onChangeCallback",value:function(){}},{key:"x",get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(t){this._w=t,this._onChangeCallback()}}],[{key:"slerp",value:function(t,e,n,i){return n.copy(t).slerp(e,i)}},{key:"slerpFlat",value:function(t,e,n,i,r,a,o){var s=n[i+0],c=n[i+1],u=n[i+2],l=n[i+3],h=r[a+0],d=r[a+1],f=r[a+2],p=r[a+3];if(l!==p||s!==h||c!==d||u!==f){var v=1-o,m=s*h+c*d+u*f+l*p,g=m>=0?1:-1,y=1-m*m;if(y>Number.EPSILON){var b=Math.sqrt(y),_=Math.atan2(b,m*g);v=Math.sin(v*_)/b,o=Math.sin(o*_)/b}var w=o*g;if(s=s*v+h*w,c=c*v+d*w,u=u*v+f*w,l=l*v+p*w,v===1-o){var x=1/Math.sqrt(s*s+c*c+u*u+l*l);s*=x,c*=x,u*=x,l*=x}}t[e]=s,t[e+1]=c,t[e+2]=u,t[e+3]=l}},{key:"multiplyQuaternionsFlat",value:function(t,e,n,i,r,a){var o=n[i],s=n[i+1],c=n[i+2],u=n[i+3],l=r[a],h=r[a+1],d=r[a+2],f=r[a+3];return t[e]=o*f+u*l+s*d-c*h,t[e+1]=s*f+u*h+c*l-o*d,t[e+2]=c*f+u*d+o*h-s*l,t[e+3]=u*f-o*l-s*h-c*d,t}}]),t}(),Xo=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(G.a)(this,t),Object.defineProperty(this,"isVector3",{value:!0}),this.x=e,this.y=n,this.z=i}return Object(W.a)(t,[{key:"set",value:function(t,e,n){return void 0===n&&(n=this.z),this.x=t,this.y=e,this.z=n,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this.z=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setZ",value:function(t){return this.z=t,this}},{key:"setComponent",value:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}},{key:"add",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this.z+=t,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}},{key:"addScaledVector",value:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}},{key:"sub",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this.z-=t,this}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}},{key:"multiply",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this}},{key:"multiplyVectors",value:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}},{key:"applyEuler",value:function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Yo.setFromEuler(t))}},{key:"applyAxisAngle",value:function(t,e){return this.applyQuaternion(Yo.setFromAxisAngle(t,e))}},{key:"applyMatrix3",value:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6]*i,this.y=r[1]*e+r[4]*n+r[7]*i,this.z=r[2]*e+r[5]*n+r[8]*i,this}},{key:"applyNormalMatrix",value:function(t){return this.applyMatrix3(t).normalize()}},{key:"applyMatrix4",value:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements,a=1/(r[3]*e+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*e+r[4]*n+r[8]*i+r[12])*a,this.y=(r[1]*e+r[5]*n+r[9]*i+r[13])*a,this.z=(r[2]*e+r[6]*n+r[10]*i+r[14])*a,this}},{key:"applyQuaternion",value:function(t){var e=this.x,n=this.y,i=this.z,r=t.x,a=t.y,o=t.z,s=t.w,c=s*e+a*i-o*n,u=s*n+o*e-r*i,l=s*i+r*n-a*e,h=-r*e-a*n-o*i;return this.x=c*s+h*-r+u*-o-l*-a,this.y=u*s+h*-a+l*-r-c*-o,this.z=l*s+h*-o+c*-a-u*-r,this}},{key:"project",value:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}},{key:"unproject",value:function(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}},{key:"transformDirection",value:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[4]*n+r[8]*i,this.y=r[1]*e+r[5]*n+r[9]*i,this.z=r[2]*e+r[6]*n+r[10]*i,this.normalize()}},{key:"divide",value:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}},{key:"clampScalar",value:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}},{key:"clampLength",value:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}},{key:"lerpVectors",value:function(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}},{key:"cross",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)}},{key:"crossVectors",value:function(t,e){var n=t.x,i=t.y,r=t.z,a=e.x,o=e.y,s=e.z;return this.x=i*s-r*o,this.y=r*a-n*s,this.z=n*o-i*a,this}},{key:"projectOnVector",value:function(t){var e=t.lengthSq();if(0===e)return this.set(0,0,0);var n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}},{key:"projectOnPlane",value:function(t){return qo.copy(this).projectOnVector(t),this.sub(qo)}},{key:"reflect",value:function(t){return this.sub(qo.copy(t).multiplyScalar(2*this.dot(t)))}},{key:"angleTo",value:function(t){var e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;var n=this.dot(t)/e;return Math.acos(Go.clamp(n,-1,1))}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:"distanceToSquared",value:function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return e*e+n*n+i*i}},{key:"manhattanDistanceTo",value:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}},{key:"setFromSpherical",value:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}},{key:"setFromSphericalCoords",value:function(t,e,n){var i=Math.sin(e)*t;return this.x=i*Math.sin(n),this.y=Math.cos(e)*t,this.z=i*Math.cos(n),this}},{key:"setFromCylindrical",value:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}},{key:"setFromCylindricalCoords",value:function(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}},{key:"setFromMatrixPosition",value:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}},{key:"setFromMatrixScale",value:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),i=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=i,this}},{key:"setFromMatrixColumn",value:function(t,e){return this.fromArray(t.elements,4*e)}},{key:"setFromMatrix3Column",value:function(t,e){return this.fromArray(t.elements,3*e)}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}},{key:"fromBufferAttribute",value:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}]),t}(),qo=new Xo,Yo=new Wo,Qo=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(G.a)(this,t),Object.defineProperty(this,"isVector2",{value:!0}),this.x=e,this.y=n}return Object(W.a)(t,[{key:"set",value:function(t,e){return this.x=t,this.y=e,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setComponent",value:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this}},{key:"add",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}},{key:"addScaledVector",value:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}},{key:"sub",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}},{key:"multiply",value:function(t){return this.x*=t.x,this.y*=t.y,this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this}},{key:"divide",value:function(t){return this.x/=t.x,this.y/=t.y,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"applyMatrix3",value:function(t){var e=this.x,n=this.y,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6],this.y=i[1]*e+i[4]*n+i[7],this}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}},{key:"clampScalar",value:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}},{key:"clampLength",value:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"cross",value:function(t){return this.x*t.y-this.y*t.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var t=Math.atan2(-this.y,-this.x)+Math.PI;return t}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:"distanceToSquared",value:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n}},{key:"manhattanDistanceTo",value:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}},{key:"lerpVectors",value:function(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t}},{key:"fromBufferAttribute",value:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this}},{key:"rotateAround",value:function(t,e){var n=Math.cos(e),i=Math.sin(e),r=this.x-t.x,a=this.y-t.y;return this.x=r*n-a*i+t.x,this.y=r*i+a*n+t.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:"width",get:function(){return this.x},set:function(t){this.x=t}},{key:"height",get:function(){return this.y},set:function(t){this.y=t}}]),t}(),Ko=function(){function t(e,n){Object(G.a)(this,t),Object.defineProperty(this,"isBox3",{value:!0}),this.min=void 0!==e?e:new Xo(1/0,1/0,1/0),this.max=void 0!==n?n:new Xo(-1/0,-1/0,-1/0)}return Object(W.a)(t,[{key:"set",value:function(t,e){return this.min.copy(t),this.max.copy(e),this}},{key:"setFromArray",value:function(t){for(var e=1/0,n=1/0,i=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,c=t.length;s<c;s+=3){var u=t[s],l=t[s+1],h=t[s+2];u<e&&(e=u),l<n&&(n=l),h<i&&(i=h),u>r&&(r=u),l>a&&(a=l),h>o&&(o=h)}return this.min.set(e,n,i),this.max.set(r,a,o),this}},{key:"setFromBufferAttribute",value:function(t){for(var e=1/0,n=1/0,i=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,c=t.count;s<c;s++){var u=t.getX(s),l=t.getY(s),h=t.getZ(s);u<e&&(e=u),l<n&&(n=l),h<i&&(i=h),u>r&&(r=u),l>a&&(a=l),h>o&&(o=h)}return this.min.set(e,n,i),this.max.set(r,a,o),this}},{key:"setFromPoints",value:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}},{key:"setFromCenterAndSize",value:function(t,e){var n=$o.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}},{key:"setFromObject",value:function(t){return this.makeEmpty(),this.expandByObject(t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.min.copy(t.min),this.max.copy(t.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(t){return void 0===t&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new Xo),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(t){return void 0===t&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new Xo),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(t){return this.min.min(t),this.max.max(t),this}},{key:"expandByVector",value:function(t){return this.min.sub(t),this.max.add(t),this}},{key:"expandByScalar",value:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this}},{key:"expandByObject",value:function(t){t.updateWorldMatrix(!1,!1);var e=t.geometry;void 0!==e&&(null===e.boundingBox&&e.computeBoundingBox(),ts.copy(e.boundingBox),ts.applyMatrix4(t.matrixWorld),this.union(ts));for(var n=t.children,i=0,r=n.length;i<r;i++)this.expandByObject(n[i]);return this}},{key:"containsPoint",value:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}},{key:"containsBox",value:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}},{key:"getParameter",value:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .getParameter() target is now required"),e=new Xo),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}},{key:"intersectsSphere",value:function(t){return this.clampPoint(t.center,$o),$o.distanceToSquared(t.center)<=t.radius*t.radius}},{key:"intersectsPlane",value:function(t){var e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}},{key:"intersectsTriangle",value:function(t){if(this.isEmpty())return!1;this.getCenter(ss),cs.subVectors(this.max,ss),es.subVectors(t.a,ss),ns.subVectors(t.b,ss),is.subVectors(t.c,ss),rs.subVectors(ns,es),as.subVectors(is,ns),os.subVectors(es,is);var e=[0,-rs.z,rs.y,0,-as.z,as.y,0,-os.z,os.y,rs.z,0,-rs.x,as.z,0,-as.x,os.z,0,-os.x,-rs.y,rs.x,0,-as.y,as.x,0,-os.y,os.x,0];return!!Zo(e,es,ns,is,cs)&&(!!Zo(e=[1,0,0,0,1,0,0,0,1],es,ns,is,cs)&&(us.crossVectors(rs,as),Zo(e=[us.x,us.y,us.z],es,ns,is,cs)))}},{key:"clampPoint",value:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .clampPoint() target is now required"),e=new Xo),e.copy(t).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(t){return $o.copy(t).clamp(this.min,this.max).sub(t).length()}},{key:"getBoundingSphere",value:function(t){return void 0===t&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(t.center),t.radius=.5*this.getSize($o).length(),t}},{key:"intersect",value:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(t){return this.min.min(t.min),this.max.max(t.max),this}},{key:"applyMatrix4",value:function(t){return this.isEmpty()||(Jo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Jo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Jo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Jo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Jo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Jo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Jo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Jo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Jo)),this}},{key:"translate",value:function(t){return this.min.add(t),this.max.add(t),this}},{key:"equals",value:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}]),t}();function Zo(t,e,n,i,r){for(var a=0,o=t.length-3;a<=o;a+=3){ls.fromArray(t,a);var s=r.x*Math.abs(ls.x)+r.y*Math.abs(ls.y)+r.z*Math.abs(ls.z),c=e.dot(ls),u=n.dot(ls),l=i.dot(ls);if(Math.max(-Math.max(c,u,l),Math.min(c,u,l))>s)return!1}return!0}var Jo=[new Xo,new Xo,new Xo,new Xo,new Xo,new Xo,new Xo,new Xo],$o=new Xo,ts=new Ko,es=new Xo,ns=new Xo,is=new Xo,rs=new Xo,as=new Xo,os=new Xo,ss=new Xo,cs=new Xo,us=new Xo,ls=new Xo,hs=new Ko,ds=function(){function t(e,n){Object(G.a)(this,t),this.center=void 0!==e?e:new Xo,this.radius=void 0!==n?n:-1}return Object(W.a)(t,[{key:"set",value:function(t,e){return this.center.copy(t),this.radius=e,this}},{key:"setFromPoints",value:function(t,e){var n=this.center;void 0!==e?n.copy(e):hs.setFromPoints(t).getCenter(n);for(var i=0,r=0,a=t.length;r<a;r++)i=Math.max(i,n.distanceToSquared(t[r]));return this.radius=Math.sqrt(i),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.center.copy(t.center),this.radius=t.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(t){return t.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}},{key:"intersectsBox",value:function(t){return t.intersectsSphere(this)}},{key:"intersectsPlane",value:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(t,e){var n=this.center.distanceToSquared(t);return void 0===e&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),e=new Xo),e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}},{key:"getBoundingBox",value:function(t){return void 0===t&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),t=new Ko),this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}},{key:"applyMatrix4",value:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}},{key:"translate",value:function(t){return this.center.add(t),this}},{key:"equals",value:function(t){return t.center.equals(this.center)&&t.radius===this.radius}}]),t}(),fs=new Xo,ps=new Xo,vs=new Xo,ms=new Xo,gs=new Xo,ys=new Xo,bs=new Xo,_s=function(){function t(e,n){Object(G.a)(this,t),this.origin=void 0!==e?e:new Xo,this.direction=void 0!==n?n:new Xo(0,0,-1)}return Object(W.a)(t,[{key:"set",value:function(t,e){return this.origin.copy(t),this.direction.copy(e),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}},{key:"at",value:function(t,e){return void 0===e&&(console.warn("THREE.Ray: .at() target is now required"),e=new Xo),e.copy(this.direction).multiplyScalar(t).add(this.origin)}},{key:"lookAt",value:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this}},{key:"recast",value:function(t){return this.origin.copy(this.at(t,fs)),this}},{key:"closestPointToPoint",value:function(t,e){void 0===e&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),e=new Xo),e.subVectors(t,this.origin);var n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(n).add(this.origin)}},{key:"distanceToPoint",value:function(t){return Math.sqrt(this.distanceSqToPoint(t))}},{key:"distanceSqToPoint",value:function(t){var e=fs.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(fs.copy(this.direction).multiplyScalar(e).add(this.origin),fs.distanceToSquared(t))}},{key:"distanceSqToSegment",value:function(t,e,n,i){ps.copy(t).add(e).multiplyScalar(.5),vs.copy(e).sub(t).normalize(),ms.copy(this.origin).sub(ps);var r,a,o,s,c=.5*t.distanceTo(e),u=-this.direction.dot(vs),l=ms.dot(this.direction),h=-ms.dot(vs),d=ms.lengthSq(),f=Math.abs(1-u*u);if(f>0)if(a=u*l-h,s=c*f,(r=u*h-l)>=0)if(a>=-s)if(a<=s){var p=1/f;o=(r*=p)*(r+u*(a*=p)+2*l)+a*(u*r+a+2*h)+d}else a=c,o=-(r=Math.max(0,-(u*a+l)))*r+a*(a+2*h)+d;else a=-c,o=-(r=Math.max(0,-(u*a+l)))*r+a*(a+2*h)+d;else a<=-s?o=-(r=Math.max(0,-(-u*c+l)))*r+(a=r>0?-c:Math.min(Math.max(-c,-h),c))*(a+2*h)+d:a<=s?(r=0,o=(a=Math.min(Math.max(-c,-h),c))*(a+2*h)+d):o=-(r=Math.max(0,-(u*c+l)))*r+(a=r>0?c:Math.min(Math.max(-c,-h),c))*(a+2*h)+d;else a=u>0?-c:c,o=-(r=Math.max(0,-(u*a+l)))*r+a*(a+2*h)+d;return n&&n.copy(this.direction).multiplyScalar(r).add(this.origin),i&&i.copy(vs).multiplyScalar(a).add(ps),o}},{key:"intersectSphere",value:function(t,e){fs.subVectors(t.center,this.origin);var n=fs.dot(this.direction),i=fs.dot(fs)-n*n,r=t.radius*t.radius;if(i>r)return null;var a=Math.sqrt(r-i),o=n-a,s=n+a;return o<0&&s<0?null:o<0?this.at(s,e):this.at(o,e)}},{key:"intersectsSphere",value:function(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}},{key:"distanceToPlane",value:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}},{key:"intersectPlane",value:function(t,e){var n=this.distanceToPlane(t);return null===n?null:this.at(n,e)}},{key:"intersectsPlane",value:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0}},{key:"intersectBox",value:function(t,e){var n,i,r,a,o,s,c=1/this.direction.x,u=1/this.direction.y,l=1/this.direction.z,h=this.origin;return c>=0?(n=(t.min.x-h.x)*c,i=(t.max.x-h.x)*c):(n=(t.max.x-h.x)*c,i=(t.min.x-h.x)*c),u>=0?(r=(t.min.y-h.y)*u,a=(t.max.y-h.y)*u):(r=(t.max.y-h.y)*u,a=(t.min.y-h.y)*u),n>a||r>i?null:((r>n||n!=n)&&(n=r),(a<i||i!=i)&&(i=a),l>=0?(o=(t.min.z-h.z)*l,s=(t.max.z-h.z)*l):(o=(t.max.z-h.z)*l,s=(t.min.z-h.z)*l),n>s||o>i?null:((o>n||n!=n)&&(n=o),(s<i||i!=i)&&(i=s),i<0?null:this.at(n>=0?n:i,e)))}},{key:"intersectsBox",value:function(t){return null!==this.intersectBox(t,fs)}},{key:"intersectTriangle",value:function(t,e,n,i,r){gs.subVectors(e,t),ys.subVectors(n,t),bs.crossVectors(gs,ys);var a,o=this.direction.dot(bs);if(o>0){if(i)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}ms.subVectors(this.origin,t);var s=a*this.direction.dot(ys.crossVectors(ms,ys));if(s<0)return null;var c=a*this.direction.dot(gs.cross(ms));if(c<0)return null;if(s+c>o)return null;var u=-a*ms.dot(bs);return u<0?null:this.at(u/o,r)}},{key:"applyMatrix4",value:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}},{key:"equals",value:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}]),t}(),ws=function(){function t(){Object(G.a)(this,t),Object.defineProperty(this,"isMatrix4",{value:!0}),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}return Object(W.a)(t,[{key:"set",value:function(t,e,n,i,r,a,o,s,c,u,l,h,d,f,p,v){var m=this.elements;return m[0]=t,m[4]=e,m[8]=n,m[12]=i,m[1]=r,m[5]=a,m[9]=o,m[13]=s,m[2]=c,m[6]=u,m[10]=l,m[14]=h,m[3]=d,m[7]=f,m[11]=p,m[15]=v,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new t).fromArray(this.elements)}},{key:"copy",value:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}},{key:"copyPosition",value:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}},{key:"extractBasis",value:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(t){var e=this.elements,n=t.elements,i=1/xs.setFromMatrixColumn(t,0).length(),r=1/xs.setFromMatrixColumn(t,1).length(),a=1/xs.setFromMatrixColumn(t,2).length();return e[0]=n[0]*i,e[1]=n[1]*i,e[2]=n[2]*i,e[3]=0,e[4]=n[4]*r,e[5]=n[5]*r,e[6]=n[6]*r,e[7]=0,e[8]=n[8]*a,e[9]=n[9]*a,e[10]=n[10]*a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}},{key:"makeRotationFromEuler",value:function(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,n=t.x,i=t.y,r=t.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(i),c=Math.sin(i),u=Math.cos(r),l=Math.sin(r);if("XYZ"===t.order){var h=a*u,d=a*l,f=o*u,p=o*l;e[0]=s*u,e[4]=-s*l,e[8]=c,e[1]=d+f*c,e[5]=h-p*c,e[9]=-o*s,e[2]=p-h*c,e[6]=f+d*c,e[10]=a*s}else if("YXZ"===t.order){var v=s*u,m=s*l,g=c*u,y=c*l;e[0]=v+y*o,e[4]=g*o-m,e[8]=a*c,e[1]=a*l,e[5]=a*u,e[9]=-o,e[2]=m*o-g,e[6]=y+v*o,e[10]=a*s}else if("ZXY"===t.order){var b=s*u,_=s*l,w=c*u,x=c*l;e[0]=b-x*o,e[4]=-a*l,e[8]=w+_*o,e[1]=_+w*o,e[5]=a*u,e[9]=x-b*o,e[2]=-a*c,e[6]=o,e[10]=a*s}else if("ZYX"===t.order){var k=a*u,O=a*l,S=o*u,C=o*l;e[0]=s*u,e[4]=S*c-O,e[8]=k*c+C,e[1]=s*l,e[5]=C*c+k,e[9]=O*c-S,e[2]=-c,e[6]=o*s,e[10]=a*s}else if("YZX"===t.order){var A=a*s,M=a*c,T=o*s,E=o*c;e[0]=s*u,e[4]=E-A*l,e[8]=T*l+M,e[1]=l,e[5]=a*u,e[9]=-o*u,e[2]=-c*u,e[6]=M*l+T,e[10]=A-E*l}else if("XZY"===t.order){var P=a*s,D=a*c,j=o*s,R=o*c;e[0]=s*u,e[4]=-l,e[8]=c*u,e[1]=P*l+R,e[5]=a*u,e[9]=D*l-j,e[2]=j*l-D,e[6]=o*u,e[10]=R*l+P}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(t){return this.compose(Os,t,Ss)}},{key:"lookAt",value:function(t,e,n){var i=this.elements;return Ms.subVectors(t,e),0===Ms.lengthSq()&&(Ms.z=1),Ms.normalize(),Cs.crossVectors(n,Ms),0===Cs.lengthSq()&&(1===Math.abs(n.z)?Ms.x+=1e-4:Ms.z+=1e-4,Ms.normalize(),Cs.crossVectors(n,Ms)),Cs.normalize(),As.crossVectors(Ms,Cs),i[0]=Cs.x,i[4]=As.x,i[8]=Ms.x,i[1]=Cs.y,i[5]=As.y,i[9]=Ms.y,i[2]=Cs.z,i[6]=As.z,i[10]=Ms.z,this}},{key:"multiply",value:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)}},{key:"premultiply",value:function(t){return this.multiplyMatrices(t,this)}},{key:"multiplyMatrices",value:function(t,e){var n=t.elements,i=e.elements,r=this.elements,a=n[0],o=n[4],s=n[8],c=n[12],u=n[1],l=n[5],h=n[9],d=n[13],f=n[2],p=n[6],v=n[10],m=n[14],g=n[3],y=n[7],b=n[11],_=n[15],w=i[0],x=i[4],k=i[8],O=i[12],S=i[1],C=i[5],A=i[9],M=i[13],T=i[2],E=i[6],P=i[10],D=i[14],j=i[3],R=i[7],I=i[11],L=i[15];return r[0]=a*w+o*S+s*T+c*j,r[4]=a*x+o*C+s*E+c*R,r[8]=a*k+o*A+s*P+c*I,r[12]=a*O+o*M+s*D+c*L,r[1]=u*w+l*S+h*T+d*j,r[5]=u*x+l*C+h*E+d*R,r[9]=u*k+l*A+h*P+d*I,r[13]=u*O+l*M+h*D+d*L,r[2]=f*w+p*S+v*T+m*j,r[6]=f*x+p*C+v*E+m*R,r[10]=f*k+p*A+v*P+m*I,r[14]=f*O+p*M+v*D+m*L,r[3]=g*w+y*S+b*T+_*j,r[7]=g*x+y*C+b*E+_*R,r[11]=g*k+y*A+b*P+_*I,r[15]=g*O+y*M+b*D+_*L,this}},{key:"multiplyScalar",value:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}},{key:"determinant",value:function(){var t=this.elements,e=t[0],n=t[4],i=t[8],r=t[12],a=t[1],o=t[5],s=t[9],c=t[13],u=t[2],l=t[6],h=t[10],d=t[14];return t[3]*(+r*s*l-i*c*l-r*o*h+n*c*h+i*o*d-n*s*d)+t[7]*(+e*s*d-e*c*h+r*a*h-i*a*d+i*c*u-r*s*u)+t[11]*(+e*c*l-e*o*d-r*a*l+n*a*d+r*o*u-n*c*u)+t[15]*(-i*o*u-e*s*l+e*o*h+i*a*l-n*a*h+n*s*u)}},{key:"transpose",value:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}},{key:"setPosition",value:function(t,e,n){var i=this.elements;return t.isVector3?(i[12]=t.x,i[13]=t.y,i[14]=t.z):(i[12]=t,i[13]=e,i[14]=n),this}},{key:"invert",value:function(){var t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],a=t[4],o=t[5],s=t[6],c=t[7],u=t[8],l=t[9],h=t[10],d=t[11],f=t[12],p=t[13],v=t[14],m=t[15],g=l*v*c-p*h*c+p*s*d-o*v*d-l*s*m+o*h*m,y=f*h*c-u*v*c-f*s*d+a*v*d+u*s*m-a*h*m,b=u*p*c-f*l*c+f*o*d-a*p*d-u*o*m+a*l*m,_=f*l*s-u*p*s-f*o*h+a*p*h+u*o*v-a*l*v,w=e*g+n*y+i*b+r*_;if(0===w)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var x=1/w;return t[0]=g*x,t[1]=(p*h*r-l*v*r-p*i*d+n*v*d+l*i*m-n*h*m)*x,t[2]=(o*v*r-p*s*r+p*i*c-n*v*c-o*i*m+n*s*m)*x,t[3]=(l*s*r-o*h*r-l*i*c+n*h*c+o*i*d-n*s*d)*x,t[4]=y*x,t[5]=(u*v*r-f*h*r+f*i*d-e*v*d-u*i*m+e*h*m)*x,t[6]=(f*s*r-a*v*r-f*i*c+e*v*c+a*i*m-e*s*m)*x,t[7]=(a*h*r-u*s*r+u*i*c-e*h*c-a*i*d+e*s*d)*x,t[8]=b*x,t[9]=(f*l*r-u*p*r-f*n*d+e*p*d+u*n*m-e*l*m)*x,t[10]=(a*p*r-f*o*r+f*n*c-e*p*c-a*n*m+e*o*m)*x,t[11]=(u*o*r-a*l*r-u*n*c+e*l*c+a*n*d-e*o*d)*x,t[12]=_*x,t[13]=(u*p*i-f*l*i+f*n*h-e*p*h-u*n*v+e*l*v)*x,t[14]=(f*o*i-a*p*i-f*n*s+e*p*s+a*n*v-e*o*v)*x,t[15]=(a*l*i-u*o*i+u*n*s-e*l*s-a*n*h+e*o*h)*x,this}},{key:"scale",value:function(t){var e=this.elements,n=t.x,i=t.y,r=t.z;return e[0]*=n,e[4]*=i,e[8]*=r,e[1]*=n,e[5]*=i,e[9]*=r,e[2]*=n,e[6]*=i,e[10]*=r,e[3]*=n,e[7]*=i,e[11]*=r,this}},{key:"getMaxScaleOnAxis",value:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],i=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,i))}},{key:"makeTranslation",value:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this}},{key:"makeRotationY",value:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(t,e){var n=Math.cos(e),i=Math.sin(e),r=1-n,a=t.x,o=t.y,s=t.z,c=r*a,u=r*o;return this.set(c*a+n,c*o-i*s,c*s+i*o,0,c*o+i*s,u*o+n,u*s-i*a,0,c*s-i*o,u*s+i*a,r*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this}},{key:"compose",value:function(t,e,n){var i=this.elements,r=e._x,a=e._y,o=e._z,s=e._w,c=r+r,u=a+a,l=o+o,h=r*c,d=r*u,f=r*l,p=a*u,v=a*l,m=o*l,g=s*c,y=s*u,b=s*l,_=n.x,w=n.y,x=n.z;return i[0]=(1-(p+m))*_,i[1]=(d+b)*_,i[2]=(f-y)*_,i[3]=0,i[4]=(d-b)*w,i[5]=(1-(h+m))*w,i[6]=(v+g)*w,i[7]=0,i[8]=(f+y)*x,i[9]=(v-g)*x,i[10]=(1-(h+p))*x,i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,this}},{key:"decompose",value:function(t,e,n){var i=this.elements,r=xs.set(i[0],i[1],i[2]).length(),a=xs.set(i[4],i[5],i[6]).length(),o=xs.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),t.x=i[12],t.y=i[13],t.z=i[14],ks.copy(this);var s=1/r,c=1/a,u=1/o;return ks.elements[0]*=s,ks.elements[1]*=s,ks.elements[2]*=s,ks.elements[4]*=c,ks.elements[5]*=c,ks.elements[6]*=c,ks.elements[8]*=u,ks.elements[9]*=u,ks.elements[10]*=u,e.setFromRotationMatrix(ks),n.x=r,n.y=a,n.z=o,this}},{key:"makePerspective",value:function(t,e,n,i,r,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,s=2*r/(e-t),c=2*r/(n-i),u=(e+t)/(e-t),l=(n+i)/(n-i),h=-(a+r)/(a-r),d=-2*a*r/(a-r);return o[0]=s,o[4]=0,o[8]=u,o[12]=0,o[1]=0,o[5]=c,o[9]=l,o[13]=0,o[2]=0,o[6]=0,o[10]=h,o[14]=d,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}},{key:"makeOrthographic",value:function(t,e,n,i,r,a){var o=this.elements,s=1/(e-t),c=1/(n-i),u=1/(a-r),l=(e+t)*s,h=(n+i)*c,d=(a+r)*u;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-l,o[1]=0,o[5]=2*c,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=-2*u,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}},{key:"equals",value:function(t){for(var e=this.elements,n=t.elements,i=0;i<16;i++)if(e[i]!==n[i])return!1;return!0}},{key:"fromArray",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=t[n+e];return this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}]),t}(),xs=new Xo,ks=new ws,Os=new Xo(0,0,0),Ss=new Xo(1,1,1),Cs=new Xo,As=new Xo,Ms=new Xo;function Ts(){}Object.assign(Ts.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var n=this._listeners[t];if(void 0!==n){var i=n.indexOf(e);-1!==i&&n.splice(i,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var n=e.slice(0),i=0,r=n.length;i<r;i++)n[i].call(this,t)}}}});var Es=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.DefaultOrder;Object(G.a)(this,t),Object.defineProperty(this,"isEuler",{value:!0}),this._x=e,this._y=n,this._z=i,this._order=r}return Object(W.a)(t,[{key:"set",value:function(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._order=i||this._order,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(t,e,n){var i=Go.clamp,r=t.elements,a=r[0],o=r[4],s=r[8],c=r[1],u=r[5],l=r[9],h=r[2],d=r[6],f=r[10];switch(e=e||this._order){case"XYZ":this._y=Math.asin(i(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-l,f),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(d,u),this._z=0);break;case"YXZ":this._x=Math.asin(-i(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(s,f),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-h,a),this._z=0);break;case"ZXY":this._x=Math.asin(i(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-h,f),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(c,a));break;case"ZYX":this._y=Math.asin(-i(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(d,f),this._z=Math.atan2(c,a)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(i(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-l,u),this._y=Math.atan2(-h,a)):(this._x=0,this._y=Math.atan2(s,f));break;case"XZY":this._z=Math.asin(-i(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,u),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-l,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!1!==n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(t,e,n){return Ps.makeRotationFromQuaternion(t),this.setFromRotationMatrix(Ps,e,n)}},{key:"setFromVector3",value:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)}},{key:"reorder",value:function(t){return Ds.setFromEuler(this),this.setFromQuaternion(Ds,t)}},{key:"equals",value:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}},{key:"fromArray",value:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}},{key:"toVector3",value:function(t){return t?t.set(this._x,this._y,this._z):new Xo(this._x,this._y,this._z)}},{key:"_onChange",value:function(t){return this._onChangeCallback=t,this}},{key:"_onChangeCallback",value:function(){}},{key:"x",get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(t){this._order=t,this._onChangeCallback()}}]),t}();Es.DefaultOrder="XYZ",Es.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var Ps=new ws,Ds=new Wo,js=function(){function t(){Object(G.a)(this,t),this.mask=1}return Object(W.a)(t,[{key:"set",value:function(t){this.mask=1<<t|0}},{key:"enable",value:function(t){this.mask|=1<<t|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(t){this.mask^=1<<t|0}},{key:"disable",value:function(t){this.mask&=~(1<<t|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(t){return 0!=(this.mask&t.mask)}}]),t}(),Rs=function(){function t(){Object(G.a)(this,t),Object.defineProperty(this,"isMatrix3",{value:!0}),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}return Object(W.a)(t,[{key:"set",value:function(t,e,n,i,r,a,o,s,c){var u=this.elements;return u[0]=t,u[1]=i,u[2]=o,u[3]=e,u[4]=r,u[5]=s,u[6]=n,u[7]=a,u[8]=c,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}},{key:"copy",value:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}},{key:"extractBasis",value:function(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}},{key:"multiply",value:function(t){return this.multiplyMatrices(this,t)}},{key:"premultiply",value:function(t){return this.multiplyMatrices(t,this)}},{key:"multiplyMatrices",value:function(t,e){var n=t.elements,i=e.elements,r=this.elements,a=n[0],o=n[3],s=n[6],c=n[1],u=n[4],l=n[7],h=n[2],d=n[5],f=n[8],p=i[0],v=i[3],m=i[6],g=i[1],y=i[4],b=i[7],_=i[2],w=i[5],x=i[8];return r[0]=a*p+o*g+s*_,r[3]=a*v+o*y+s*w,r[6]=a*m+o*b+s*x,r[1]=c*p+u*g+l*_,r[4]=c*v+u*y+l*w,r[7]=c*m+u*b+l*x,r[2]=h*p+d*g+f*_,r[5]=h*v+d*y+f*w,r[8]=h*m+d*b+f*x,this}},{key:"multiplyScalar",value:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}},{key:"determinant",value:function(){var t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],a=t[4],o=t[5],s=t[6],c=t[7],u=t[8];return e*a*u-e*o*c-n*r*u+n*o*s+i*r*c-i*a*s}},{key:"invert",value:function(){var t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],a=t[4],o=t[5],s=t[6],c=t[7],u=t[8],l=u*a-o*c,h=o*s-u*r,d=c*r-a*s,f=e*l+n*h+i*d;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);var p=1/f;return t[0]=l*p,t[1]=(i*c-u*n)*p,t[2]=(o*n-i*a)*p,t[3]=h*p,t[4]=(u*e-i*s)*p,t[5]=(i*r-o*e)*p,t[6]=d*p,t[7]=(n*s-c*e)*p,t[8]=(a*e-n*r)*p,this}},{key:"transpose",value:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}},{key:"getNormalMatrix",value:function(t){return this.setFromMatrix4(t).copy(this).invert().transpose()}},{key:"transposeIntoArray",value:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}},{key:"setUvTransform",value:function(t,e,n,i,r,a,o){var s=Math.cos(r),c=Math.sin(r);this.set(n*s,n*c,-n*(s*a+c*o)+a+t,-i*c,i*s,-i*(-c*a+s*o)+o+e,0,0,1)}},{key:"scale",value:function(t,e){var n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=e,n[4]*=e,n[7]*=e,this}},{key:"rotate",value:function(t){var e=Math.cos(t),n=Math.sin(t),i=this.elements,r=i[0],a=i[3],o=i[6],s=i[1],c=i[4],u=i[7];return i[0]=e*r+n*s,i[3]=e*a+n*c,i[6]=e*o+n*u,i[1]=-n*r+e*s,i[4]=-n*a+e*c,i[7]=-n*o+e*u,this}},{key:"translate",value:function(t,e){var n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=e*n[2],n[4]+=e*n[5],n[7]+=e*n[8],this}},{key:"equals",value:function(t){for(var e=this.elements,n=t.elements,i=0;i<9;i++)if(e[i]!==n[i])return!1;return!0}},{key:"fromArray",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=t[n+e];return this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}}]),t}(),Is=0,Ls=new Xo,Ns=new Wo,Fs=new ws,Bs=new Xo,zs=new Xo,Us=new Xo,Hs=new Wo,Vs=new Xo(1,0,0),Gs=new Xo(0,1,0),Ws=new Xo(0,0,1),Xs={type:"added"},qs={type:"removed"};function Ys(){Object.defineProperty(this,"id",{value:Is++}),this.uuid=Go.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ys.DefaultUp.clone();var t=new Xo,e=new Es,n=new Wo,i=new Xo(1,1,1);e._onChange((function(){n.setFromEuler(e,!1)})),n._onChange((function(){e.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new ws},normalMatrix:{value:new Rs}}),this.matrix=new ws,this.matrixWorld=new ws,this.matrixAutoUpdate=Ys.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new js,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}Ys.DefaultUp=new Xo(0,1,0),Ys.DefaultMatrixAutoUpdate=!0,Ys.prototype=Object.assign(Object.create(Ts.prototype),{constructor:Ys,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(t,e){return Ns.setFromAxisAngle(t,e),this.quaternion.multiply(Ns),this},rotateOnWorldAxis:function(t,e){return Ns.setFromAxisAngle(t,e),this.quaternion.premultiply(Ns),this},rotateX:function(t){return this.rotateOnAxis(Vs,t)},rotateY:function(t){return this.rotateOnAxis(Gs,t)},rotateZ:function(t){return this.rotateOnAxis(Ws,t)},translateOnAxis:function(t,e){return Ls.copy(t).applyQuaternion(this.quaternion),this.position.add(Ls.multiplyScalar(e)),this},translateX:function(t){return this.translateOnAxis(Vs,t)},translateY:function(t){return this.translateOnAxis(Gs,t)},translateZ:function(t){return this.translateOnAxis(Ws,t)},localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(t){return t.applyMatrix4(Fs.copy(this.matrixWorld).invert())},lookAt:function(t,e,n){t.isVector3?Bs.copy(t):Bs.set(t,e,n);var i=this.parent;this.updateWorldMatrix(!0,!1),zs.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Fs.lookAt(zs,Bs,this.up):Fs.lookAt(Bs,zs,this.up),this.quaternion.setFromRotationMatrix(Fs),i&&(Fs.extractRotation(i.matrixWorld),Ns.setFromRotationMatrix(Fs),this.quaternion.premultiply(Ns.invert()))},add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(Xs)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}var n=this.children.indexOf(t);return-1!==n&&(t.parent=null,this.children.splice(n,1),t.dispatchEvent(qs)),this},clear:function(){for(var t=0;t<this.children.length;t++){var e=this.children[t];e.parent=null,e.dispatchEvent(qs)}return this.children.length=0,this},attach:function(t){return this.updateWorldMatrix(!0,!1),Fs.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),Fs.multiply(t.parent.matrixWorld)),t.applyMatrix4(Fs),t.updateWorldMatrix(!1,!1),this.add(t),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var n=0,i=this.children.length;n<i;n++){var r=this.children[n].getObjectByProperty(t,e);if(void 0!==r)return r}},getWorldPosition:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),t=new Xo),this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),t=new Wo),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(zs,t,Us),t},getWorldScale:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),t=new Xo),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(zs,Hs,t),t},getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),t=new Xo),this.updateWorldMatrix(!0,!1);var e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()},raycast:function(){},traverse:function(t){t(this);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].updateMatrixWorld(t)},updateWorldMatrix:function(t,e){var n=this.parent;if(!0===t&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e)for(var i=this.children,r=0,a=i.length;r<a;r++)i[r].updateWorldMatrix(!1,!0)},toJSON:function(t){var e=void 0===t||"string"==typeof t,n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var i={};function r(e,n){return void 0===e[n.uuid]&&(e[n.uuid]=n.toJSON(t)),n.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){i.geometry=r(t.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,c=o.length;s<c;s++){var u=o[s];r(t.shapes,u)}else r(t.shapes,o)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(t.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var l=[],h=0,d=this.material.length;h<d;h++)l.push(r(t.materials,this.material[h]));i.material=l}else i.material=r(t.materials,this.material);if(this.children.length>0){i.children=[];for(var f=0;f<this.children.length;f++)i.children.push(this.children[f].toJSON(t).object)}if(this.animations.length>0){i.animations=[];for(var p=0;p<this.animations.length;p++){var v=this.animations[p];i.animations.push(r(t.animations,v))}}if(e){var m=k(t.geometries),g=k(t.materials),y=k(t.textures),b=k(t.images),_=k(t.shapes),w=k(t.skeletons),x=k(t.animations);m.length>0&&(n.geometries=m),g.length>0&&(n.materials=g),y.length>0&&(n.textures=y),b.length>0&&(n.images=b),_.length>0&&(n.shapes=_),w.length>0&&(n.skeletons=w),x.length>0&&(n.animations=x)}return n.object=i,n;function k(t){var e=[];for(var n in t){var i=t[n];delete i.metadata,e.push(i)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var n=0;n<t.children.length;n++){var i=t.children[n];this.add(i.clone())}return this}});var Qs=new Xo,Ks=new Xo,Zs=new Rs,Js=function(){function t(e,n){Object(G.a)(this,t),Object.defineProperty(this,"isPlane",{value:!0}),this.normal=void 0!==e?e:new Xo(1,0,0),this.constant=void 0!==n?n:0}return Object(W.a)(t,[{key:"set",value:function(t,e){return this.normal.copy(t),this.constant=e,this}},{key:"setComponents",value:function(t,e,n,i){return this.normal.set(t,e,n),this.constant=i,this}},{key:"setFromNormalAndCoplanarPoint",value:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(t,e,n){var i=Qs.subVectors(n,e).cross(Ks.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(i,t),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this}},{key:"normalize",value:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(t){return this.normal.dot(t)+this.constant}},{key:"distanceToSphere",value:function(t){return this.distanceToPoint(t.center)-t.radius}},{key:"projectPoint",value:function(t,e){return void 0===e&&(console.warn("THREE.Plane: .projectPoint() target is now required"),e=new Xo),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}},{key:"intersectLine",value:function(t,e){void 0===e&&(console.warn("THREE.Plane: .intersectLine() target is now required"),e=new Xo);var n=t.delta(Qs),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(t.start)?e.copy(t.start):void 0;var r=-(t.start.dot(this.normal)+this.constant)/i;return r<0||r>1?void 0:e.copy(n).multiplyScalar(r).add(t.start)}},{key:"intersectsLine",value:function(t){var e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0}},{key:"intersectsBox",value:function(t){return t.intersectsPlane(this)}},{key:"intersectsSphere",value:function(t){return t.intersectsPlane(this)}},{key:"coplanarPoint",value:function(t){return void 0===t&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),t=new Xo),t.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(t,e){var n=e||Zs.getNormalMatrix(t),i=this.coplanarPoint(Qs).applyMatrix4(t),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this}},{key:"translate",value:function(t){return this.constant-=t.dot(this.normal),this}},{key:"equals",value:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}]),t}(),$s=new Xo,tc=new Xo,ec=new Xo,nc=new Xo,ic=new Xo,rc=new Xo,ac=new Xo,oc=new Xo,sc=new Xo,cc=new Xo,uc=function(){function t(e,n,i){Object(G.a)(this,t),this.a=void 0!==e?e:new Xo,this.b=void 0!==n?n:new Xo,this.c=void 0!==i?i:new Xo}return Object(W.a)(t,[{key:"set",value:function(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(t,e,n,i){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[i]),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}},{key:"getArea",value:function(){return $s.subVectors(this.c,this.b),tc.subVectors(this.a,this.b),.5*$s.cross(tc).length()}},{key:"getMidpoint",value:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),t=new Xo),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(e){return t.getNormal(this.a,this.b,this.c,e)}},{key:"getPlane",value:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getPlane() target is now required"),t=new Js),t.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(e,n){return t.getBarycoord(e,this.a,this.b,this.c,n)}},{key:"getUV",value:function(e,n,i,r,a){return t.getUV(e,this.a,this.b,this.c,n,i,r,a)}},{key:"containsPoint",value:function(e){return t.containsPoint(e,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(e){return t.isFrontFacing(this.a,this.b,this.c,e)}},{key:"intersectsBox",value:function(t){return t.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(t,e){void 0===e&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),e=new Xo);var n,i,r=this.a,a=this.b,o=this.c;ic.subVectors(a,r),rc.subVectors(o,r),oc.subVectors(t,r);var s=ic.dot(oc),c=rc.dot(oc);if(s<=0&&c<=0)return e.copy(r);sc.subVectors(t,a);var u=ic.dot(sc),l=rc.dot(sc);if(u>=0&&l<=u)return e.copy(a);var h=s*l-u*c;if(h<=0&&s>=0&&u<=0)return n=s/(s-u),e.copy(r).addScaledVector(ic,n);cc.subVectors(t,o);var d=ic.dot(cc),f=rc.dot(cc);if(f>=0&&d<=f)return e.copy(o);var p=d*c-s*f;if(p<=0&&c>=0&&f<=0)return i=c/(c-f),e.copy(r).addScaledVector(rc,i);var v=u*f-d*l;if(v<=0&&l-u>=0&&d-f>=0)return ac.subVectors(o,a),i=(l-u)/(l-u+(d-f)),e.copy(a).addScaledVector(ac,i);var m=1/(v+p+h);return n=p*m,i=h*m,e.copy(r).addScaledVector(ic,n).addScaledVector(rc,i)}},{key:"equals",value:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}],[{key:"getNormal",value:function(t,e,n,i){void 0===i&&(console.warn("THREE.Triangle: .getNormal() target is now required"),i=new Xo),i.subVectors(n,e),$s.subVectors(t,e),i.cross($s);var r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}},{key:"getBarycoord",value:function(t,e,n,i,r){$s.subVectors(i,e),tc.subVectors(n,e),ec.subVectors(t,e);var a=$s.dot($s),o=$s.dot(tc),s=$s.dot(ec),c=tc.dot(tc),u=tc.dot(ec),l=a*c-o*o;if(void 0===r&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),r=new Xo),0===l)return r.set(-2,-1,-1);var h=1/l,d=(c*s-o*u)*h,f=(a*u-o*s)*h;return r.set(1-d-f,f,d)}},{key:"containsPoint",value:function(t,e,n,i){return this.getBarycoord(t,e,n,i,nc),nc.x>=0&&nc.y>=0&&nc.x+nc.y<=1}},{key:"getUV",value:function(t,e,n,i,r,a,o,s){return this.getBarycoord(t,e,n,i,nc),s.set(0,0),s.addScaledVector(r,nc.x),s.addScaledVector(a,nc.y),s.addScaledVector(o,nc.z),s}},{key:"isFrontFacing",value:function(t,e,n,i){return $s.subVectors(n,e),tc.subVectors(t,e),$s.cross(tc).dot(i)<0}}]),t}(),lc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},hc={h:0,s:0,l:0},dc={h:0,s:0,l:0};function fc(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}function pc(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function vc(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}var mc=function(){function t(e,n,i){return Object(G.a)(this,t),Object.defineProperty(this,"isColor",{value:!0}),void 0===n&&void 0===i?this.set(e):this.setRGB(e,n,i)}return Object(W.a)(t,[{key:"set",value:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this}},{key:"setScalar",value:function(t){return this.r=t,this.g=t,this.b=t,this}},{key:"setHex",value:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this}},{key:"setRGB",value:function(t,e,n){return this.r=t,this.g=e,this.b=n,this}},{key:"setHSL",value:function(t,e,n){if(t=Go.euclideanModulo(t,1),e=Go.clamp(e,0,1),n=Go.clamp(n,0,1),0===e)this.r=this.g=this.b=n;else{var i=n<=.5?n*(1+e):n+e-n*e,r=2*n-i;this.r=fc(r,i,t+1/3),this.g=fc(r,i,t),this.b=fc(r,i,t-1/3)}return this}},{key:"setStyle",value:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var i,r=n[1],a=n[2];switch(r){case"rgb":case"rgba":if(i=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,e(i[5]),this;if(i=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,e(i[5]),this;break;case"hsl":case"hsla":if(i=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var o=parseFloat(i[1])/360,s=parseInt(i[2],10)/100,c=parseInt(i[3],10)/100;return e(i[5]),this.setHSL(o,s,c)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(t)){var u=n[1],l=u.length;if(3===l)return this.r=parseInt(u.charAt(0)+u.charAt(0),16)/255,this.g=parseInt(u.charAt(1)+u.charAt(1),16)/255,this.b=parseInt(u.charAt(2)+u.charAt(2),16)/255,this;if(6===l)return this.r=parseInt(u.charAt(0)+u.charAt(1),16)/255,this.g=parseInt(u.charAt(2)+u.charAt(3),16)/255,this.b=parseInt(u.charAt(4)+u.charAt(5),16)/255,this}return t&&t.length>0?this.setColorName(t):this}},{key:"setColorName",value:function(t){var e=lc[t];return void 0!==e?this.setHex(e):console.warn("THREE.Color: Unknown color "+t),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}},{key:"copyGammaToLinear",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this}},{key:"copyLinearToGamma",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this}},{key:"convertGammaToLinear",value:function(t){return this.copyGammaToLinear(this,t),this}},{key:"convertLinearToGamma",value:function(t){return this.copyLinearToGamma(this,t),this}},{key:"copySRGBToLinear",value:function(t){return this.r=pc(t.r),this.g=pc(t.g),this.b=pc(t.b),this}},{key:"copyLinearToSRGB",value:function(t){return this.r=vc(t.r),this.g=vc(t.g),this.b=vc(t.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}},{key:"getHexString",value:function(){return("000000"+this.getHex().toString(16)).slice(-6)}},{key:"getHSL",value:function(t){void 0===t&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});var e,n,i=this.r,r=this.g,a=this.b,o=Math.max(i,r,a),s=Math.min(i,r,a),c=(s+o)/2;if(s===o)e=0,n=0;else{var u=o-s;switch(n=c<=.5?u/(o+s):u/(2-o-s),o){case i:e=(r-a)/u+(r<a?6:0);break;case r:e=(a-i)/u+2;break;case a:e=(i-r)/u+4}e/=6}return t.h=e,t.s=n,t.l=c,t}},{key:"getStyle",value:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}},{key:"offsetHSL",value:function(t,e,n){return this.getHSL(hc),hc.h+=t,hc.s+=e,hc.l+=n,this.setHSL(hc.h,hc.s,hc.l),this}},{key:"add",value:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}},{key:"addColors",value:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}},{key:"addScalar",value:function(t){return this.r+=t,this.g+=t,this.b+=t,this}},{key:"sub",value:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}},{key:"multiply",value:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}},{key:"multiplyScalar",value:function(t){return this.r*=t,this.g*=t,this.b*=t,this}},{key:"lerp",value:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}},{key:"lerpHSL",value:function(t,e){this.getHSL(hc),t.getHSL(dc);var n=Go.lerp(hc.h,dc.h,e),i=Go.lerp(hc.s,dc.s,e),r=Go.lerp(hc.l,dc.l,e);return this.setHSL(n,i,r),this}},{key:"equals",value:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}},{key:"fromBufferAttribute",value:function(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),!0===t.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}},{key:"toJSON",value:function(){return this.getHex()}}]),t}();mc.NAMES=lc,mc.prototype.r=1,mc.prototype.g=1,mc.prototype.b=1;var gc=function(){function t(e,n,i,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;Object(G.a)(this,t),this.a=e,this.b=n,this.c=i,this.normal=r&&r.isVector3?r:new Xo,this.vertexNormals=Array.isArray(r)?r:[],this.color=a&&a.isColor?a:new mc,this.vertexColors=Array.isArray(a)?a:[],this.materialIndex=o}return Object(W.a)(t,[{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,n=t.vertexNormals.length;e<n;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(var i=0,r=t.vertexColors.length;i<r;i++)this.vertexColors[i]=t.vertexColors[i].clone();return this}}]),t}(),yc=0;function bc(){Object.defineProperty(this,"id",{value:yc++}),this.uuid=Go.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=zo,this.stencilZFail=zo,this.stencilZPass=zo,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function _c(t){bc.call(this),this.type="MeshBasicMaterial",this.color=new mc(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(t)}bc.prototype=Object.assign(Object.create(Ts.prototype),{constructor:bc,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(t){if(void 0!==t)for(var e in t){var n=t[e];if(void 0!==n)if("shading"!==e){var i=this[e];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[e]=n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}},toJSON:function(t){var e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function i(t){var e=[];for(var n in t){var i=t[n];delete i.metadata,e.push(i)}return e}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),0!==this.side&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),e){var r=i(t.textures),a=i(t.images);r.length>0&&(n.textures=r),a.length>0&&(n.images=a)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;var e=t.clippingPlanes,n=null;if(null!==e){var i=e.length;n=new Array(i);for(var r=0;r!==i;++r)n[r]=e[r].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(bc.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),_c.prototype=Object.create(bc.prototype),_c.prototype.constructor=_c,_c.prototype.isMeshBasicMaterial=!0,_c.prototype.copy=function(t){return bc.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this};var wc=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Object(G.a)(this,t),Object.defineProperty(this,"isVector4",{value:!0}),this.x=e,this.y=n,this.z=i,this.w=r}return Object(W.a)(t,[{key:"set",value:function(t,e,n,i){return this.x=t,this.y=e,this.z=n,this.w=i,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setZ",value:function(t){return this.z=t,this}},{key:"setW",value:function(t){return this.w=t,this}},{key:"setComponent",value:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}},{key:"add",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}},{key:"addScaledVector",value:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}},{key:"sub",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}},{key:"applyMatrix4",value:function(t){var e=this.x,n=this.y,i=this.z,r=this.w,a=t.elements;return this.x=a[0]*e+a[4]*n+a[8]*i+a[12]*r,this.y=a[1]*e+a[5]*n+a[9]*i+a[13]*r,this.z=a[2]*e+a[6]*n+a[10]*i+a[14]*r,this.w=a[3]*e+a[7]*n+a[11]*i+a[15]*r,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"setAxisAngleFromQuaternion",value:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}},{key:"setAxisAngleFromRotationMatrix",value:function(t){var e,n,i,r,a=.01,o=.1,s=t.elements,c=s[0],u=s[4],l=s[8],h=s[1],d=s[5],f=s[9],p=s[2],v=s[6],m=s[10];if(Math.abs(u-h)<a&&Math.abs(l-p)<a&&Math.abs(f-v)<a){if(Math.abs(u+h)<o&&Math.abs(l+p)<o&&Math.abs(f+v)<o&&Math.abs(c+d+m-3)<o)return this.set(1,0,0,0),this;e=Math.PI;var g=(c+1)/2,y=(d+1)/2,b=(m+1)/2,_=(u+h)/4,w=(l+p)/4,x=(f+v)/4;return g>y&&g>b?g<a?(n=0,i=.707106781,r=.707106781):(i=_/(n=Math.sqrt(g)),r=w/n):y>b?y<a?(n=.707106781,i=0,r=.707106781):(n=_/(i=Math.sqrt(y)),r=x/i):b<a?(n=.707106781,i=.707106781,r=0):(n=w/(r=Math.sqrt(b)),i=x/r),this.set(n,i,r,e),this}var k=Math.sqrt((v-f)*(v-f)+(l-p)*(l-p)+(h-u)*(h-u));return Math.abs(k)<.001&&(k=1),this.x=(v-f)/k,this.y=(l-p)/k,this.z=(h-u)/k,this.w=Math.acos((c+d+m-1)/2),this}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}},{key:"clampScalar",value:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}},{key:"clampLength",value:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}},{key:"lerpVectors",value:function(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}},{key:"fromBufferAttribute",value:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:"width",get:function(){return this.z},set:function(t){this.z=t}},{key:"height",get:function(){return this.w},set:function(t){this.w=t}}]),t}(),xc=new Xo,kc=new Qo;function Oc(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}function Sc(t,e,n){Oc.call(this,new Int8Array(t),e,n)}function Cc(t,e,n){Oc.call(this,new Uint8Array(t),e,n)}function Ac(t,e,n){Oc.call(this,new Uint8ClampedArray(t),e,n)}function Mc(t,e,n){Oc.call(this,new Int16Array(t),e,n)}function Tc(t,e,n){Oc.call(this,new Uint16Array(t),e,n)}function Ec(t,e,n){Oc.call(this,new Int32Array(t),e,n)}function Pc(t,e,n){Oc.call(this,new Uint32Array(t),e,n)}function Dc(t,e,n){Oc.call(this,new Uint16Array(t),e,n)}function jc(t,e,n){Oc.call(this,new Float32Array(t),e,n)}function Rc(t,e,n){Oc.call(this,new Float64Array(t),e,n)}Object.defineProperty(Oc.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Oc.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var i=0,r=this.itemSize;i<r;i++)this.array[t+i]=e.array[n+i];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var a=t[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),a=new mc),e[n++]=a.r,e[n++]=a.g,e[n++]=a.b}return this},copyVector2sArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var a=t[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),a=new Qo),e[n++]=a.x,e[n++]=a.y}return this},copyVector3sArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var a=t[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),a=new Xo),e[n++]=a.x,e[n++]=a.y,e[n++]=a.z}return this},copyVector4sArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var a=t[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),a=new wc),e[n++]=a.x,e[n++]=a.y,e[n++]=a.z,e[n++]=a.w}return this},applyMatrix3:function(t){if(2===this.itemSize)for(var e=0,n=this.count;e<n;e++)kc.fromBufferAttribute(this,e),kc.applyMatrix3(t),this.setXY(e,kc.x,kc.y);else if(3===this.itemSize)for(var i=0,r=this.count;i<r;i++)xc.fromBufferAttribute(this,i),xc.applyMatrix3(t),this.setXYZ(i,xc.x,xc.y,xc.z);return this},applyMatrix4:function(t){for(var e=0,n=this.count;e<n;e++)xc.x=this.getX(e),xc.y=this.getY(e),xc.z=this.getZ(e),xc.applyMatrix4(t),this.setXYZ(e,xc.x,xc.y,xc.z);return this},applyNormalMatrix:function(t){for(var e=0,n=this.count;e<n;e++)xc.x=this.getX(e),xc.y=this.getY(e),xc.z=this.getZ(e),xc.applyNormalMatrix(t),this.setXYZ(e,xc.x,xc.y,xc.z);return this},transformDirection:function(t){for(var e=0,n=this.count;e<n;e++)xc.x=this.getX(e),xc.y=this.getY(e),xc.z=this.getZ(e),xc.transformDirection(t),this.setXYZ(e,xc.x,xc.y,xc.z);return this},set:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this},setXYZW:function(t,e,n,i,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this.array[t+3]=r,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),Sc.prototype=Object.create(Oc.prototype),Sc.prototype.constructor=Sc,Cc.prototype=Object.create(Oc.prototype),Cc.prototype.constructor=Cc,Ac.prototype=Object.create(Oc.prototype),Ac.prototype.constructor=Ac,Mc.prototype=Object.create(Oc.prototype),Mc.prototype.constructor=Mc,Tc.prototype=Object.create(Oc.prototype),Tc.prototype.constructor=Tc,Ec.prototype=Object.create(Oc.prototype),Ec.prototype.constructor=Ec,Pc.prototype=Object.create(Oc.prototype),Pc.prototype.constructor=Pc,Dc.prototype=Object.create(Oc.prototype),Dc.prototype.constructor=Dc,Dc.prototype.isFloat16BufferAttribute=!0,jc.prototype=Object.create(Oc.prototype),jc.prototype.constructor=jc,Rc.prototype=Object.create(Oc.prototype),Rc.prototype.constructor=Rc;var Ic=function(){function t(){Object(G.a)(this,t),this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}return Object(W.a)(t,[{key:"computeGroups",value:function(t){var e,n,i=[],r=void 0,a=t.faces;for(n=0;n<a.length;n++){var o=a[n];o.materialIndex!==r&&(r=o.materialIndex,void 0!==e&&(e.count=3*n-e.start,i.push(e)),e={start:3*n,materialIndex:r})}void 0!==e&&(e.count=3*n-e.start,i.push(e)),this.groups=i}},{key:"fromGeometry",value:function(t){var e,n=t.faces,i=t.vertices,r=t.faceVertexUvs,a=r[0]&&r[0].length>0,o=r[1]&&r[1].length>0,s=t.morphTargets,c=s.length;if(c>0){e=[];for(var u=0;u<c;u++)e[u]={name:s[u].name,data:[]};this.morphTargets.position=e}var l,h=t.morphNormals,d=h.length;if(d>0){l=[];for(var f=0;f<d;f++)l[f]={name:h[f].name,data:[]};this.morphTargets.normal=l}var p=t.skinIndices,v=t.skinWeights,m=p.length===i.length,g=v.length===i.length;i.length>0&&0===n.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(var y=0;y<n.length;y++){var b=n[y];this.vertices.push(i[b.a],i[b.b],i[b.c]);var _=b.vertexNormals;if(3===_.length)this.normals.push(_[0],_[1],_[2]);else{var w=b.normal;this.normals.push(w,w,w)}var x=b.vertexColors;if(3===x.length)this.colors.push(x[0],x[1],x[2]);else{var k=b.color;this.colors.push(k,k,k)}if(!0===a){var O=r[0][y];void 0!==O?this.uvs.push(O[0],O[1],O[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",y),this.uvs.push(new Qo,new Qo,new Qo))}if(!0===o){var S=r[1][y];void 0!==S?this.uvs2.push(S[0],S[1],S[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",y),this.uvs2.push(new Qo,new Qo,new Qo))}for(var C=0;C<c;C++){var A=s[C].vertices;e[C].data.push(A[b.a],A[b.b],A[b.c])}for(var M=0;M<d;M++){var T=h[M].vertexNormals[y];l[M].data.push(T.a,T.b,T.c)}m&&this.skinIndices.push(p[b.a],p[b.b],p[b.c]),g&&this.skinWeights.push(v[b.a],v[b.b],v[b.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this}}]),t}();Int8Array,Uint8Array,"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;var Lc=1,Nc=new ws,Fc=new Ys,Bc=new Xo,zc=new Ko,Uc=new Ko,Hc=new Xo;function Vc(){Object.defineProperty(this,"id",{value:Lc+=2}),this.uuid=Go.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}Vc.prototype=Object.assign(Object.create(Ts.prototype),{constructor:Vc,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){return Array.isArray(t)?this.index=new(function(t){if(0===t.length)return-1/0;for(var e=t[0],n=1,i=t.length;n<i;++n)t[n]>e&&(e=t[n]);return e}(t)>65535?Pc:Tc)(t,1):this.index=t,this},getAttribute:function(t){return this.attributes[t]},setAttribute:function(t,e){return this.attributes[t]=e,this},deleteAttribute:function(t){return delete this.attributes[t],this},hasAttribute:function(t){return void 0!==this.attributes[t]},addGroup:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:t,count:e,materialIndex:n})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix4:function(t){var e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var i=(new Rs).getNormalMatrix(t);n.applyNormalMatrix(i),n.needsUpdate=!0}var r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(t),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(t){return Nc.makeRotationX(t),this.applyMatrix4(Nc),this},rotateY:function(t){return Nc.makeRotationY(t),this.applyMatrix4(Nc),this},rotateZ:function(t){return Nc.makeRotationZ(t),this.applyMatrix4(Nc),this},translate:function(t,e,n){return Nc.makeTranslation(t,e,n),this.applyMatrix4(Nc),this},scale:function(t,e,n){return Nc.makeScale(t,e,n),this.applyMatrix4(Nc),this},lookAt:function(t){return Fc.lookAt(t),Fc.updateMatrix(),this.applyMatrix4(Fc.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Bc).negate(),this.translate(Bc.x,Bc.y,Bc.z),this},setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){var n=new jc(3*e.vertices.length,3),i=new jc(3*e.colors.length,3);if(this.setAttribute("position",n.copyVector3sArray(e.vertices)),this.setAttribute("color",i.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var r=new jc(e.lineDistances.length,1);this.setAttribute("lineDistance",r.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},setFromPoints:function(t){for(var e=[],n=0,i=t.length;n<i;n++){var r=t[n];e.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new jc(e,3)),this},updateFromObject:function(t){var e=t.geometry;if(t.isMesh){var n=e.__directGeometry;if(!0===e.elementsNeedUpdate&&(n=void 0,e.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(e);n.verticesNeedUpdate=e.verticesNeedUpdate,n.normalsNeedUpdate=e.normalsNeedUpdate,n.colorsNeedUpdate=e.colorsNeedUpdate,n.uvsNeedUpdate=e.uvsNeedUpdate,n.groupsNeedUpdate=e.groupsNeedUpdate,e.verticesNeedUpdate=!1,e.normalsNeedUpdate=!1,e.colorsNeedUpdate=!1,e.uvsNeedUpdate=!1,e.groupsNeedUpdate=!1,e=n}if(!0===e.verticesNeedUpdate){var i=this.attributes.position;void 0!==i&&(i.copyVector3sArray(e.vertices),i.needsUpdate=!0),e.verticesNeedUpdate=!1}if(!0===e.normalsNeedUpdate){var r=this.attributes.normal;void 0!==r&&(r.copyVector3sArray(e.normals),r.needsUpdate=!0),e.normalsNeedUpdate=!1}if(!0===e.colorsNeedUpdate){var a=this.attributes.color;void 0!==a&&(a.copyColorsArray(e.colors),a.needsUpdate=!0),e.colorsNeedUpdate=!1}if(e.uvsNeedUpdate){var o=this.attributes.uv;void 0!==o&&(o.copyVector2sArray(e.uvs),o.needsUpdate=!0),e.uvsNeedUpdate=!1}if(e.lineDistancesNeedUpdate){var s=this.attributes.lineDistance;void 0!==s&&(s.copyArray(e.lineDistances),s.needsUpdate=!0),e.lineDistancesNeedUpdate=!1}return e.groupsNeedUpdate&&(e.computeGroups(t.geometry),this.groups=e.groups,e.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new Ic).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.setAttribute("position",new Oc(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var n=new Float32Array(3*t.normals.length);this.setAttribute("normal",new Oc(n,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var i=new Float32Array(3*t.colors.length);this.setAttribute("color",new Oc(i,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var r=new Float32Array(2*t.uvs.length);this.setAttribute("uv",new Oc(r,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var a=new Float32Array(2*t.uvs2.length);this.setAttribute("uv2",new Oc(a,2).copyVector2sArray(t.uvs2))}for(var o in this.groups=t.groups,t.morphTargets){for(var s=[],c=t.morphTargets[o],u=0,l=c.length;u<l;u++){var h=c[u],d=new jc(3*h.data.length,3);d.name=h.name,s.push(d.copyVector3sArray(h.data))}this.morphAttributes[o]=s}if(t.skinIndices.length>0){var f=new jc(4*t.skinIndices.length,4);this.setAttribute("skinIndex",f.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var p=new jc(4*t.skinWeights.length,4);this.setAttribute("skinWeight",p.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Ko);var t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Xo(-1/0,-1/0,-1/0),new Xo(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(var n=0,i=e.length;n<i;n++){var r=e[n];zc.setFromBufferAttribute(r),this.morphTargetsRelative?(Hc.addVectors(this.boundingBox.min,zc.min),this.boundingBox.expandByPoint(Hc),Hc.addVectors(this.boundingBox.max,zc.max),this.boundingBox.expandByPoint(Hc)):(this.boundingBox.expandByPoint(zc.min),this.boundingBox.expandByPoint(zc.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new ds);var t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Xo,1/0);if(t){var n=this.boundingSphere.center;if(zc.setFromBufferAttribute(t),e)for(var i=0,r=e.length;i<r;i++){var a=e[i];Uc.setFromBufferAttribute(a),this.morphTargetsRelative?(Hc.addVectors(zc.min,Uc.min),zc.expandByPoint(Hc),Hc.addVectors(zc.max,Uc.max),zc.expandByPoint(Hc)):(zc.expandByPoint(Uc.min),zc.expandByPoint(Uc.max))}zc.getCenter(n);for(var o=0,s=0,c=t.count;s<c;s++)Hc.fromBufferAttribute(t,s),o=Math.max(o,n.distanceToSquared(Hc));if(e)for(var u=0,l=e.length;u<l;u++)for(var h=e[u],d=this.morphTargetsRelative,f=0,p=h.count;f<p;f++)Hc.fromBufferAttribute(h,f),d&&(Bc.fromBufferAttribute(t,f),Hc.add(Bc)),o=Math.max(o,n.distanceToSquared(Hc));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.getAttribute("position");if(void 0!==e){var n=this.getAttribute("normal");if(void 0===n)n=new Oc(new Float32Array(3*e.count),3),this.setAttribute("normal",n);else for(var i=0,r=n.count;i<r;i++)n.setXYZ(i,0,0,0);var a=new Xo,o=new Xo,s=new Xo,c=new Xo,u=new Xo,l=new Xo,h=new Xo,d=new Xo;if(t)for(var f=0,p=t.count;f<p;f+=3){var v=t.getX(f+0),m=t.getX(f+1),g=t.getX(f+2);a.fromBufferAttribute(e,v),o.fromBufferAttribute(e,m),s.fromBufferAttribute(e,g),h.subVectors(s,o),d.subVectors(a,o),h.cross(d),c.fromBufferAttribute(n,v),u.fromBufferAttribute(n,m),l.fromBufferAttribute(n,g),c.add(h),u.add(h),l.add(h),n.setXYZ(v,c.x,c.y,c.z),n.setXYZ(m,u.x,u.y,u.z),n.setXYZ(g,l.x,l.y,l.z)}else for(var y=0,b=e.count;y<b;y+=3)a.fromBufferAttribute(e,y+0),o.fromBufferAttribute(e,y+1),s.fromBufferAttribute(e,y+2),h.subVectors(s,o),d.subVectors(a,o),h.cross(d),n.setXYZ(y+0,h.x,h.y,h.z),n.setXYZ(y+1,h.x,h.y,h.z),n.setXYZ(y+2,h.x,h.y,h.z);this.normalizeNormals(),n.needsUpdate=!0}},merge:function(t,e){if(t&&t.isBufferGeometry){void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var i in n)if(void 0!==t.attributes[i])for(var r=n[i].array,a=t.attributes[i],o=a.array,s=a.itemSize*e,c=Math.min(o.length,r.length-s),u=0,l=s;u<c;u++,l++)r[l]=o[u];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t)},normalizeNormals:function(){for(var t=this.attributes.normal,e=0,n=t.count;e<n;e++)Hc.fromBufferAttribute(t,e),Hc.normalize(),t.setXYZ(e,Hc.x,Hc.y,Hc.z)},toNonIndexed:function(){function t(t,e){for(var n=t.array,i=t.itemSize,r=t.normalized,a=new n.constructor(e.length*i),o=0,s=0,c=0,u=e.length;c<u;c++){o=e[c]*i;for(var l=0;l<i;l++)a[s++]=n[o++]}return new Oc(a,i,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var e=new Vc,n=this.index.array,i=this.attributes;for(var r in i){var a=t(i[r],n);e.setAttribute(r,a)}var o=this.morphAttributes;for(var s in o){for(var c=[],u=o[s],l=0,h=u.length;l<h;l++){var d=t(u[l],n);c.push(d)}e.morphAttributes[s]=c}e.morphTargetsRelative=this.morphTargetsRelative;for(var f=this.groups,p=0,v=f.length;p<v;p++){var m=f[p];e.addGroup(m.start,m.count,m.materialIndex)}return e},toJSON:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};var i=this.index;null!==i&&(t.data.index={type:i.array.constructor.name,array:Array.prototype.slice.call(i.array)});var r=this.attributes;for(var a in r){var o=r[a],s=o.toJSON(t.data);""!==o.name&&(s.name=o.name),t.data.attributes[a]=s}var c={},u=!1;for(var l in this.morphAttributes){for(var h=this.morphAttributes[l],d=[],f=0,p=h.length;f<p;f++){var v=h[f],m=v.toJSON(t.data);""!==v.name&&(m.name=v.name),d.push(m)}d.length>0&&(c[l]=d,u=!0)}u&&(t.data.morphAttributes=c,t.data.morphTargetsRelative=this.morphTargetsRelative);var g=this.groups;g.length>0&&(t.data.groups=JSON.parse(JSON.stringify(g)));var y=this.boundingSphere;return null!==y&&(t.data.boundingSphere={center:y.center.toArray(),radius:y.radius}),t},clone:function(){return(new Vc).copy(this)},copy:function(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var e={};this.name=t.name;var n=t.index;null!==n&&this.setIndex(n.clone(e));var i=t.attributes;for(var r in i){var a=i[r];this.setAttribute(r,a.clone(e))}var o=t.morphAttributes;for(var s in o){for(var c=[],u=o[s],l=0,h=u.length;l<h;l++)c.push(u[l].clone(e));this.morphAttributes[s]=c}this.morphTargetsRelative=t.morphTargetsRelative;for(var d=t.groups,f=0,p=d.length;f<p;f++){var v=d[f];this.addGroup(v.start,v.count,v.materialIndex)}var m=t.boundingBox;null!==m&&(this.boundingBox=m.clone());var g=t.boundingSphere;return null!==g&&(this.boundingSphere=g.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Gc=new ws,Wc=new _s,Xc=new ds,qc=new Xo,Yc=new Xo,Qc=new Xo,Kc=new Xo,Zc=new Xo,Jc=new Xo,$c=new Xo,tu=new Xo,eu=new Xo,nu=new Qo,iu=new Qo,ru=new Qo,au=new Xo,ou=new Xo;function su(t,e){Ys.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new Vc,this.material=void 0!==e?e:new _c,this.updateMorphTargets()}function cu(t,e,n,i,r,a,o,s){if(null===(1===e.side?i.intersectTriangle(o,a,r,!0,s):i.intersectTriangle(r,a,o,2!==e.side,s)))return null;ou.copy(s),ou.applyMatrix4(t.matrixWorld);var c=n.ray.origin.distanceTo(ou);return c<n.near||c>n.far?null:{distance:c,point:ou.clone(),object:t}}function uu(t,e,n,i,r,a,o,s,c,u,l,h){qc.fromBufferAttribute(r,u),Yc.fromBufferAttribute(r,l),Qc.fromBufferAttribute(r,h);var d=t.morphTargetInfluences;if(e.morphTargets&&a&&d){$c.set(0,0,0),tu.set(0,0,0),eu.set(0,0,0);for(var f=0,p=a.length;f<p;f++){var v=d[f],m=a[f];0!==v&&(Kc.fromBufferAttribute(m,u),Zc.fromBufferAttribute(m,l),Jc.fromBufferAttribute(m,h),o?($c.addScaledVector(Kc,v),tu.addScaledVector(Zc,v),eu.addScaledVector(Jc,v)):($c.addScaledVector(Kc.sub(qc),v),tu.addScaledVector(Zc.sub(Yc),v),eu.addScaledVector(Jc.sub(Qc),v)))}qc.add($c),Yc.add(tu),Qc.add(eu)}t.isSkinnedMesh&&(t.boneTransform(u,qc),t.boneTransform(l,Yc),t.boneTransform(h,Qc));var g=cu(t,e,n,i,qc,Yc,Qc,au);if(g){s&&(nu.fromBufferAttribute(s,u),iu.fromBufferAttribute(s,l),ru.fromBufferAttribute(s,h),g.uv=uc.getUV(au,qc,Yc,Qc,nu,iu,ru,new Qo)),c&&(nu.fromBufferAttribute(c,u),iu.fromBufferAttribute(c,l),ru.fromBufferAttribute(c,h),g.uv2=uc.getUV(au,qc,Yc,Qc,nu,iu,ru,new Qo));var y=new gc(u,l,h);uc.getNormal(qc,Yc,Qc,y.normal),g.face=y}return g}su.prototype=Object.assign(Object.create(Ys.prototype),{constructor:su,isMesh:!0,copy:function(t){return Ys.prototype.copy.call(this,t),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this},updateMorphTargets:function(){var t=this.geometry;if(t.isBufferGeometry){var e=t.morphAttributes,n=Object.keys(e);if(n.length>0){var i=e[n[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,a=i.length;r<a;r++){var o=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}else{var s=t.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(t,e){var n,i=this.geometry,r=this.material,a=this.matrixWorld;if(void 0!==r&&(null===i.boundingSphere&&i.computeBoundingSphere(),Xc.copy(i.boundingSphere),Xc.applyMatrix4(a),!1!==t.ray.intersectsSphere(Xc)&&(Gc.copy(a).invert(),Wc.copy(t.ray).applyMatrix4(Gc),null===i.boundingBox||!1!==Wc.intersectsBox(i.boundingBox))))if(i.isBufferGeometry){var o=i.index,s=i.attributes.position,c=i.morphAttributes.position,u=i.morphTargetsRelative,l=i.attributes.uv,h=i.attributes.uv2,d=i.groups,f=i.drawRange;if(null!==o)if(Array.isArray(r))for(var p=0,v=d.length;p<v;p++)for(var m=d[p],g=r[m.materialIndex],y=Math.max(m.start,f.start),b=Math.min(m.start+m.count,f.start+f.count);y<b;y+=3){var _=o.getX(y),w=o.getX(y+1),x=o.getX(y+2);(n=uu(this,g,t,Wc,s,c,u,l,h,_,w,x))&&(n.faceIndex=Math.floor(y/3),n.face.materialIndex=m.materialIndex,e.push(n))}else for(var k=Math.max(0,f.start),O=Math.min(o.count,f.start+f.count);k<O;k+=3){var S=o.getX(k),C=o.getX(k+1),A=o.getX(k+2);(n=uu(this,r,t,Wc,s,c,u,l,h,S,C,A))&&(n.faceIndex=Math.floor(k/3),e.push(n))}else if(void 0!==s)if(Array.isArray(r))for(var M=0,T=d.length;M<T;M++)for(var E=d[M],P=r[E.materialIndex],D=Math.max(E.start,f.start),j=Math.min(E.start+E.count,f.start+f.count);D<j;D+=3){(n=uu(this,P,t,Wc,s,c,u,l,h,D,D+1,D+2))&&(n.faceIndex=Math.floor(D/3),n.face.materialIndex=E.materialIndex,e.push(n))}else for(var R=Math.max(0,f.start),I=Math.min(s.count,f.start+f.count);R<I;R+=3){(n=uu(this,r,t,Wc,s,c,u,l,h,R,R+1,R+2))&&(n.faceIndex=Math.floor(R/3),e.push(n))}}else if(i.isGeometry){var L,N=Array.isArray(r),F=i.vertices,B=i.faces,z=i.faceVertexUvs[0];z.length>0&&(L=z);for(var U=0,H=B.length;U<H;U++){var V=B[U],G=N?r[V.materialIndex]:r;if(void 0!==G){var W=F[V.a],X=F[V.b],q=F[V.c];if(n=cu(this,G,t,Wc,W,X,q,au)){if(L&&L[U]){var Y=L[U];nu.copy(Y[0]),iu.copy(Y[1]),ru.copy(Y[2]),n.uv=uc.getUV(au,W,X,q,nu,iu,ru,new Qo)}n.face=V,n.faceIndex=U,e.push(n)}}}}}});var lu=function(t){Object(H.a)(n,t);var e=Object(V.a)(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;Object(G.a)(this,n),(t=e.call(this)).type="BoxBufferGeometry",t.parameters={width:i,height:r,depth:a,widthSegments:o,heightSegments:s,depthSegments:c};var u=Object(z.a)(t);o=Math.floor(o),s=Math.floor(s),c=Math.floor(c);var l=[],h=[],d=[],f=[],p=0,v=0;function m(t,e,n,i,r,a,o,s,c,m,g){for(var y=a/c,b=o/m,_=a/2,w=o/2,x=s/2,k=c+1,O=m+1,S=0,C=0,A=new Xo,M=0;M<O;M++)for(var T=M*b-w,E=0;E<k;E++){var P=E*y-_;A[t]=P*i,A[e]=T*r,A[n]=x,h.push(A.x,A.y,A.z),A[t]=0,A[e]=0,A[n]=s>0?1:-1,d.push(A.x,A.y,A.z),f.push(E/c),f.push(1-M/m),S+=1}for(var D=0;D<m;D++)for(var j=0;j<c;j++){var R=p+j+k*D,I=p+j+k*(D+1),L=p+(j+1)+k*(D+1),N=p+(j+1)+k*D;l.push(R,I,N),l.push(I,L,N),C+=6}u.addGroup(v,C,g),v+=C,p+=S}return m("z","y","x",-1,-1,a,r,i,c,s,0),m("z","y","x",1,-1,a,r,-i,c,s,1),m("x","z","y",1,1,i,a,r,o,c,2),m("x","z","y",1,-1,i,a,-r,o,c,3),m("x","y","z",1,-1,i,r,a,o,s,4),m("x","y","z",-1,-1,i,r,-a,o,s,5),t.setIndex(l),t.setAttribute("position",new jc(h,3)),t.setAttribute("normal",new jc(d,3)),t.setAttribute("uv",new jc(f,2)),t}return n}(Vc);function hu(t){var e={};for(var n in t)for(var i in e[n]={},t[n]){var r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}return e}var du;function fu(t){bc.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="\nvoid main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n",this.fragmentShader="\nvoid main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}\n",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}fu.prototype=Object.create(bc.prototype),fu.prototype.constructor=fu,fu.prototype.isShaderMaterial=!0,fu.prototype.copy=function(t){return bc.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=hu(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this},fu.prototype.toJSON=function(t){var e=bc.prototype.toJSON.call(this,t);for(var n in e.glslVersion=this.glslVersion,e.uniforms={},this.uniforms){var i=this.uniforms[n].value;i&&i.isTexture?e.uniforms[n]={type:"t",value:i.toJSON(t).uuid}:i&&i.isColor?e.uniforms[n]={type:"c",value:i.getHex()}:i&&i.isVector2?e.uniforms[n]={type:"v2",value:i.toArray()}:i&&i.isVector3?e.uniforms[n]={type:"v3",value:i.toArray()}:i&&i.isVector4?e.uniforms[n]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?e.uniforms[n]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?e.uniforms[n]={type:"m4",value:i.toArray()}:e.uniforms[n]={value:i}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;var r={};for(var a in this.extensions)!0===this.extensions[a]&&(r[a]=!0);return Object.keys(r).length>0&&(e.extensions=r),e};var pu=function(t){if(/^data:/i.test(t.src))return t.src;if("undefined"==typeof HTMLCanvasElement)return t.src;var e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===du&&(du=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),du.width=t.width,du.height=t.height;var n=du.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),e=du}return e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")},vu=0;function mu(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mu.DEFAULT_IMAGE,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mu.DEFAULT_MAPPING,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lo,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Lo,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:No,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Fo,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Bo,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1009,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:3e3;Object.defineProperty(this,"id",{value:vu++}),this.uuid=Go.generateUUID(),this.name="",this.image=t,this.mipmaps=[],this.mapping=e,this.wrapS=n,this.wrapT=i,this.magFilter=r,this.minFilter=a,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=s,this.offset=new Qo(0,0),this.repeat=new Qo(1,1),this.center=new Qo(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Rs,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.version=0,this.onUpdate=null}function gu(t){return"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap?pu(t):t.data?{data:Array.prototype.slice.call(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}function yu(t,e,n){this.width=t,this.height=e,this.scissor=new wc(0,0,t,e),this.scissorTest=!1,this.viewport=new wc(0,0,t,e),n=n||{},this.texture=new mu(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=t,this.texture.image.height=e,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:No,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function bu(){Ys.call(this),this.type="Camera",this.matrixWorldInverse=new ws,this.projectionMatrix=new ws,this.projectionMatrixInverse=new ws}function _u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;bu.call(this),this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}mu.DEFAULT_IMAGE=void 0,mu.DEFAULT_MAPPING=300,mu.prototype=Object.assign(Object.create(Ts.prototype),{constructor:mu,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){var e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var i=this.image;if(void 0===i.uuid&&(i.uuid=Go.generateUUID()),!e&&void 0===t.images[i.uuid]){var r;if(Array.isArray(i)){r=[];for(var a=0,o=i.length;a<o;a++)i[a].isDataTexture?r.push(gu(i[a].image)):r.push(gu(i[a]))}else r=gu(i);t.images[i.uuid]={uuid:i.uuid,url:r}}n.image=i.uuid}return e||(t.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case 1e3:t.x=t.x-Math.floor(t.x);break;case Lo:t.x=t.x<0?0:1;break;case 1002:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case 1e3:t.y=t.y-Math.floor(t.y);break;case Lo:t.y=t.y<0?0:1;break;case 1002:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}}),Object.defineProperty(mu.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),yu.prototype=Object.assign(Object.create(Ts.prototype),{constructor:yu,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.texture.image.width=t,this.texture.image.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),bu.prototype=Object.assign(Object.create(Ys.prototype),{constructor:bu,isCamera:!0,copy:function(t,e){return Ys.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this},getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),t=new Xo),this.updateWorldMatrix(!0,!1);var e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()},updateMatrixWorld:function(t){Ys.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()},updateWorldMatrix:function(t,e){Ys.prototype.updateWorldMatrix.call(this,t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()},clone:function(){return(new this.constructor).copy(this)}}),_u.prototype=Object.assign(Object.create(bu.prototype),{constructor:_u,isPerspectiveCamera:!0,copy:function(t,e){return bu.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*Go.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*Go.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*Go.RAD2DEG*Math.atan(Math.tan(.5*Go.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,i,r,a){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*Go.DEG2RAD*this.fov)/this.zoom,n=2*e,i=this.aspect*n,r=-.5*i,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;r+=a.offsetX*i/o,e-=a.offsetY*n/s,i*=a.width/o,n*=a.height/s}var c=this.filmOffset;0!==c&&(r+=t*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,e,e-n,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(t){var e=Ys.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}});var wu=90;function xu(t,e,n){if(Ys.call(this),this.type="CubeCamera",!0===n.isWebGLCubeRenderTarget){this.renderTarget=n;var i=new _u(wu,1,t,e);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new Xo(1,0,0)),this.add(i);var r=new _u(wu,1,t,e);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new Xo(-1,0,0)),this.add(r);var a=new _u(wu,1,t,e);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(new Xo(0,1,0)),this.add(a);var o=new _u(wu,1,t,e);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(new Xo(0,-1,0)),this.add(o);var s=new _u(wu,1,t,e);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new Xo(0,0,1)),this.add(s);var c=new _u(wu,1,t,e);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new Xo(0,0,-1)),this.add(c),this.update=function(t,e){null===this.parent&&this.updateMatrixWorld();var u=t.xr.enabled,l=t.getRenderTarget();t.xr.enabled=!1;var h=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0),t.render(e,i),t.setRenderTarget(n,1),t.render(e,r),t.setRenderTarget(n,2),t.render(e,a),t.setRenderTarget(n,3),t.render(e,o),t.setRenderTarget(n,4),t.render(e,s),n.texture.generateMipmaps=h,t.setRenderTarget(n,5),t.render(e,c),t.setRenderTarget(l),t.xr.enabled=u}}else console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.")}function ku(t,e,n,i,r,a,o,s,c,u){t=void 0!==t?t:[],e=void 0!==e?e:301,o=void 0!==o?o:1022,mu.call(this,t,e,n,i,r,a,o,s,c,u),this.flipY=!1,this._needsFlipEnvMap=!0}function Ou(t,e,n){Number.isInteger(e)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),e=n),yu.call(this,t,t,e),e=e||{},this.texture=new ku(void 0,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.encoding),this.texture._needsFlipEnvMap=!1}xu.prototype=Object.create(Ys.prototype),xu.prototype.constructor=xu,ku.prototype=Object.create(mu.prototype),ku.prototype.constructor=ku,ku.prototype.isCubeTexture=!0,Object.defineProperty(ku.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}}),Ou.prototype=Object.create(yu.prototype),Ou.prototype.constructor=Ou,Ou.prototype.isWebGLCubeRenderTarget=!0,Ou.prototype.fromEquirectangularTexture=function(t,e){this.texture.type=e.type,this.texture.format=Bo,this.texture.encoding=e.encoding,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;var n={tEquirect:{value:null}},i="\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t#include <begin_vertex>\n\t\t\t\t#include <project_vertex>\n\n\t\t\t}\n\t\t",r="\n\n\t\t\tuniform sampler2D tEquirect;\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t}\n\t\t",a=new lu(5,5,5),o=new fu({name:"CubemapFromEquirect",uniforms:hu(n),vertexShader:i,fragmentShader:r,side:1,blending:0});o.uniforms.tEquirect.value=e;var s=new su(a,o),c=e.minFilter;return e.minFilter===Fo&&(e.minFilter=No),new xu(1,10,this).update(t,s),e.minFilter=c,s.geometry.dispose(),s.material.dispose(),this},Ou.prototype.clear=function(t,e,n,i){for(var r=t.getRenderTarget(),a=0;a<6;a++)t.setRenderTarget(this,a),t.clear(e,n,i);t.setRenderTarget(r)};var Su=function t(){c.ib.call(this,t.Geometry,new c.jb({opacity:0,transparent:!0})),this.type="Lensflare",this.frustumCulled=!1,this.renderOrder=1/0;var e=new c.kc,n=new c.kc,i=new c.w(new Uint8Array(768),16,16,c.Jb);i.minFilter=c.sb,i.magFilter=c.sb,i.wrapS=c.r,i.wrapT=c.r;var r=new c.w(new Uint8Array(768),16,16,c.Jb);r.minFilter=c.sb,r.magFilter=c.sb,r.wrapS=c.r,r.wrapT=c.r;var a=t.Geometry,o=new c.Lb({uniforms:{scale:{value:null},screenPosition:{value:null}},vertexShader:["precision highp float;","uniform vec3 screenPosition;","uniform vec2 scale;","attribute vec3 position;","void main() {","\tgl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["precision highp float;","void main() {","\tgl_FragColor = vec4( 1.0, 0.0, 1.0, 1.0 );","}"].join("\n"),depthTest:!0,depthWrite:!1,transparent:!1}),s=new c.Lb({uniforms:{map:{value:i},scale:{value:null},screenPosition:{value:null}},vertexShader:["precision highp float;","uniform vec3 screenPosition;","uniform vec2 scale;","attribute vec3 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","\tvUV = uv;","\tgl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["precision highp float;","uniform sampler2D map;","varying vec2 vUV;","void main() {","\tgl_FragColor = texture2D( map, vUV );","}"].join("\n"),depthTest:!1,depthWrite:!1,transparent:!1}),u=new c.ib(a,o),l=[],h=Tu.Shader,d=new c.Lb({uniforms:{map:{value:null},occlusionMap:{value:r},color:{value:new c.t(16777215)},scale:{value:new c.jc},screenPosition:{value:new c.kc}},vertexShader:h.vertexShader,fragmentShader:h.fragmentShader,blending:c.a,transparent:!0,depthWrite:!1}),f=new c.ib(a,d);this.addElement=function(t){l.push(t)};var p=new c.jc,v=new c.jc,m=new c.j,g=new c.lc;this.onBeforeRender=function(t,c,h){t.getCurrentViewport(g);var y=g.w/g.z,b=g.z/2,_=g.w/2,w=16/g.w;if(p.set(w*y,w),m.min.set(g.x,g.y),m.max.set(g.x+(g.z-16),g.y+(g.w-16)),n.setFromMatrixPosition(this.matrixWorld),n.applyMatrix4(h.matrixWorldInverse),!(n.z>0)&&(e.copy(n).applyMatrix4(h.projectionMatrix),v.x=g.x+e.x*b+b-8,v.y=g.y+e.y*_+_-8,m.containsPoint(v))){t.copyFramebufferToTexture(v,i),(C=o.uniforms).scale.value=p,C.screenPosition.value=e,t.renderBufferDirect(h,null,a,o,u,null),t.copyFramebufferToTexture(v,r),(C=s.uniforms).scale.value=p,C.screenPosition.value=e,t.renderBufferDirect(h,null,a,s,u,null);for(var x=2*-e.x,k=2*-e.y,O=0,S=l.length;O<S;O++){var C,A=l[O];(C=d.uniforms).color.value.copy(A.color),C.map.value=A.texture,C.screenPosition.value.x=e.x+x*A.distance,C.screenPosition.value.y=e.y+k*A.distance;w=A.size/g.w,y=g.w/g.z;C.scale.value.set(w*y,w),d.uniformsNeedUpdate=!0,t.renderBufferDirect(h,null,a,d,f,null)}}},this.dispose=function(){o.dispose(),s.dispose(),d.dispose(),i.dispose(),r.dispose();for(var t=0,e=l.length;t<e;t++)l[t].texture.dispose()}};Su.prototype=Object.create(c.ib.prototype),Su.prototype.constructor=Su,Su.prototype.isLensflare=!0;var Cu,Au,Mu,Tu=function(t,e,n,i){this.texture=t,this.size=e||1,this.distance=n||0,this.color=i||new c.t(16777215)};Tu.Shader={uniforms:{map:{value:null},occlusionMap:{value:null},color:{value:null},scale:{value:null},screenPosition:{value:null}},vertexShader:["precision highp float;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform sampler2D occlusionMap;","attribute vec3 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","\tvUV = uv;","\tvec2 pos = position.xy;","\tvec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","\tvisibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","\tvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","\tvVisibility =        visibility.r / 9.0;","\tvVisibility *= 1.0 - visibility.g / 9.0;","\tvVisibility *=       visibility.b / 9.0;","\tgl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["precision highp float;","uniform sampler2D map;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","\tvec4 texture = texture2D( map, vUV );","\ttexture.a *= vVisibility;","\tgl_FragColor = texture;","\tgl_FragColor.rgb *= color;","}"].join("\n")},Su.Geometry=(Cu=new c.o,Au=new Float32Array([-1,-1,0,0,0,1,-1,0,1,0,1,1,0,1,1,-1,1,0,0,1]),Mu=new c.M(Au,5),Cu.setIndex([0,1,2,0,2,3]),Cu.setAttribute("position",new c.N(Mu,3,0,!1)),Cu.setAttribute("uv",new c.N(Mu,2,3,!1)),Cu);var Eu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sunColor={h:0,s:0,l:1},e}return Object(r.c)(e,t),e.prototype.create=function(){this.textureFlare0=this.ts.assets.getAsset("lensflare1").data,this.textureFlare3=this.ts.assets.getAsset("lensflare2").data,this.textureFlare4=this.ts.assets.getAsset("lensflare3").data,this.addLight(.995,.5,.9,0,500,-500)},e.prototype.addLight=function(t,e,n,i,r,a){this.light=new c.Ab(16777215,0),this.light.position.set(i,r,a),this.ts.mainScene.add(this.light);var o=new Su;o.addElement(new Tu(this.textureFlare0,400,0,this.light.color)),o.addElement(new Tu(this.textureFlare4,300,.01,this.light.color)),o.addElement(new Tu(this.textureFlare3,60,.6,this.light.color)),o.addElement(new Tu(this.textureFlare3,400,.7,this.light.color)),o.addElement(new Tu(this.textureFlare3,200,.2,this.light.color)),o.addElement(new Tu(this.textureFlare3,140,1,this.light.color)),this.light.add(o)},e.prototype.onRender=function(t){this.light.position.copy(this.ts.sky.sunSphere.position),this.light.lookAt(0,0,0)},e.prototype.onSkyUpdate=function(){},e}(s),Pu=n("fXoL"),Du=function(){function t(t,e,n){var i=this;this.zone=t,this.nippleService=e,this.site=n,this.isDebug=!1,this.debugZ=this.isDebug?7e3:0,this.cameraTemp=new c.kc,this.cameraDir=new c.kc,this.listener=new c.f,this.mainScene=new c.wb,this.onRender=new a.a,this.onResize=new a.a,this.onSkyUpdate=new a.a,this.onEffectsUpdate=new a.a,this.onCameraUpdate=new a.a,this.onAssetLoaded=new a.a,this.onInited=new be.a(!1),this.onFirstContact=new be.a(!1),this.siteEntered=new be.a(!1),this.contextLost=new a.a,this.contextRestored=new a.a,this.isFreeFlight=new be.a(!1),this.isSoundOn=new be.a(!1),this.isMusicOn=new be.a(!1),this.isTempMuteOff=new be.a(!0),this.autofly=!1,this.dark=0,this.darkChange=new be.a(0),this.lightning=0,this.lightningChange=new a.a,this.luminanceOverride=0,this.lightningRunning=!1,this.lightningHappening=!1,this.firstContact=!1,this.inited=!1,this.clock=new c.s,this.cameraPosObj={value:new c.kc(0,0,0)},this.boundRender=this.render.bind(this),this.boundContextLost=function(t){t.preventDefault(),i.contextLost.next(),console.warn("WEBGL_CONTEXT_LOST")},this.boundContextRestored=function(t){i.contextRestored.next(),i.updateContextListeners(),console.warn("WEBGL_CONTEXT_RESTORED")},this.width=0,this.height=0,this.pixelRatio=0,this.qualityLevel=0,this.qualityDef={groundVertices:[11,6],shadow:[!0,!1],treeDensity:[14,7],stoneDensity:[7,1],birdDensity:[3,1],birdFlockSize:[10,5]},this.qc={},this.skyController={turbidity:6,rayleigh:.37,mieCoefficient:.005,mieDirectionalG:.8,luminance:1,inclination:.51,azimuth:.41,totalRayleighX:42,totalRayleighY:24,totalRayleighZ:22,stars:1,sunStrength:1},this.effectController={focus:0,focalLength:0,near:.1,wind:.005,cloudOpacity:1,fogDensity:.002,far:1200},this.volumeController={thunder:0,bgm:0,night:0,wind:0,forest:0,electric:0,chimes:0},this.volumeChange=new be.a(null),this.cameraController={extraY:this.isDebug?400:0,shiftY:0},this.mouse={pos:new c.jc,isDown:!1},this.cameraIsAnimating=!1,this.controlPos=new c.kc(0,350,1500),this.controlObj=new c.wb,this.rotationDistort=new c.kc,this.floatingHeightDif=this.controlPos.y,this.mainAreaSize=1e3,this.areas={mainArea:new Do(new c.kc(this.mainAreaSize,0,this.mainAreaSize)),bigArea:new Do(new c.kc(10*this.mainAreaSize,0,10*this.mainAreaSize)),aClouds:new Do(new c.kc(250,0,250),new c.kc(5,1,5)),aGrass:new Do(new c.kc(50,0,50))},this.isRenderPaused=!1,this.dir=new c.kc,this.homeVector=new c.kc(0,0,0),this.arrow=new c.ib(new c.m(10,1e3,10),new c.jb({color:"#ff0000"})),this.slowTicks=0,this.average10=-1,this.nippleService.userInteraction.subscribe((function(t){i.autofly=!1})),this.lightningChange.subscribe((function(t){i.lightning<=0&&i.lightningRunning?i.anim.stopLighting():i.lightning>=.5&&!i.lightningRunning&&i.anim.startLighting()})),this.listener.setMasterVolume(0);var r=JSON.parse(localStorage.getItem("effectSettings")),o=JSON.parse(localStorage.getItem("skySettings"));r&&(this.effectController=Object.assign(this.effectController,r)),o&&(this.skyController=Object.assign(this.skyController,o))}return t.prototype.startFreeFlight=function(){this.isFreeFlight.next(!0),this.control.damping=40,this.control.ydamping=10},t.prototype.stopFreeFlight=function(){this.isFreeFlight.next(!1),this.control.damping=10,this.control.ydamping=10,this.autofly=!1},t.prototype.pauseRender=function(){this.isRenderPaused=!0},t.prototype.resumeRender=function(){this.isRenderPaused=!1},t.prototype.updateContextListeners=function(){var t,e;(null===(e=null===(t=this.renderer)||void 0===t?void 0:t.getContext())||void 0===e?void 0:e.canvas)&&(this.renderer.getContext().canvas.removeEventListener("webglcontextlost",this.boundContextLost,!1),this.renderer.getContext().canvas.removeEventListener("webglcontextrestored",this.boundContextRestored,!1),this.renderer.getContext().canvas.addEventListener("webglcontextlost",this.boundContextLost,!1),this.renderer.getContext().canvas.addEventListener("webglcontextrestored",this.boundContextRestored,!1))},t.prototype.init=function(){var t=this;this.resize(),this.site.screenSizeChange.subscribe((function(e){t.resize()})),this.zone.runOutsideAngular((function(){t.boundRender(),window.document.addEventListener("mousemove",t.mouseMove.bind(t)),window.document.addEventListener("mousedown",t.mouseDown.bind(t)),window.document.addEventListener("mouseup",t.mouseUp.bind(t)),window.document.addEventListener("click",t.clickEvent.bind(t)),window.document.addEventListener("touchstart",t.touchStart.bind(t))})),this.inited=!0},t.prototype.create=function(t,e,n){var i=this;void 0===n&&(n=null),Object.keys(this.qualityDef).forEach((function(t){i.qc[t]=i.qualityDef[t][i.qualityLevel]})),n&&(this.helperCanvas=n.nativeElement),this.wrapper=t.nativeElement,this.canvas=e.nativeElement,this.renderer=new c.pc({canvas:this.canvas,alpha:!1,antialias:!1,powerPreference:"high-performance"}),this.composer=new Qt(this.renderer),this.updateContextListeners(),this.scene=new c.Pb,this.scene.add(this.mainScene),this.camera=new c.yb(70,this.wrapper.clientWidth/this.wrapper.clientHeight,5,1200),this.camera.add(this.listener),this.scene.add(this.camera),this.cubeCamera=new c.u(1,50,new Ou(512)),this.scene.background=this.cubeCamera.renderTarget,this.initAssets(),this.assets.onAllAssetLoaded.pipe(Object(jo.a)()).subscribe((function(){i.initComposer(),i.initSky(),i.effectChange(),i.skyChange(),i.init(),i.api=new Io(i),i.api.create(),i.assetsLoaded()}))},t.prototype.setStartingPos=function(){this.camera.position.x=this.anim.states[0].cameraPos.x,this.camera.position.z=this.anim.states[0].cameraPos.z,this.camera.position.y=this.spawner.ground.getGroundLevel(this.camera.position)+this.anim.states[0].floatingHeightDif+200,this.controlObj.position.copy(this.camera.position),this.anim.create(),this.camera.rotation.x=this.anim.states[0].rotationDistort.x,this.camera.rotation.y=this.anim.states[0].rotationDistort.y,this.camera.rotation.z=this.anim.states[0].rotationDistort.z,this.controlObj.rotation.x=this.camera.rotation.x,this.controlObj.rotation.y=this.camera.rotation.y,this.controlObj.rotation.z=this.camera.rotation.z,this.controlObj.rotation.order="YXZ"},t.prototype.assetsLoaded=function(){var t=this;setTimeout((function(){t.poi=new l(t),t.poi.create(),t.population=new d(t),t.population.create(),t.spawner=new E(t),t.spawner.create().then((function(){t.anim=new Ra(t),t.setStartingPos(),t.initControl(),t.initAudio(),setTimeout((function(){t.onInited.next(!0),t.site.onInited.next(!0)}))}))}))},t.prototype.createGui=function(){this.gui=new Mn.GUI({width:300}),this.gui.domElement.parentElement.style.zIndex="10000",this.gui.domElement.parentElement.style.right="300px",this.gui.add(this.effectController,"focus",10,3e3,10).onChange(this.effectChange.bind(this)).listen(),this.gui.add(this.effectController,"wind",0,.05,.001).onChange(this.effectChange.bind(this)).listen(),this.gui.add(this.effectController,"fogDensity",0,.1,.001).onChange(this.effectChange.bind(this)).listen(),this.gui.add(this.effectController,"far",0,3e3,1).onChange(this.effectChange.bind(this)).listen(),this.gui.add(this.skyController,"turbidity",1,20,.1).onChange(this.skyChange.bind(this)).listen(),this.gui.add(this.skyController,"rayleigh",0,4,.001).onChange(this.skyChange.bind(this)).listen(),this.gui.add(this.skyController,"mieCoefficient",0,.1,.001).onChange(this.skyChange.bind(this)).listen(),this.gui.add(this.skyController,"mieDirectionalG",0,1,.001).onChange(this.skyChange.bind(this)).listen(),this.gui.add(this.skyController,"luminance",0,2).onChange(this.skyChange.bind(this)).listen(),this.gui.add(this.skyController,"inclination",0,2,1e-4).onChange(this.skyChange.bind(this)).listen(),this.gui.add(this.skyController,"azimuth",0,1,1e-4).onChange(this.skyChange.bind(this)).listen(),this.gui.add(this.skyController,"totalRayleighX",1,100,1e-4).onChange(this.skyChange.bind(this)).listen(),this.gui.add(this.skyController,"totalRayleighY",1,100,1e-4).onChange(this.skyChange.bind(this)).listen(),this.gui.add(this.skyController,"totalRayleighZ",1,100,1e-4).onChange(this.skyChange.bind(this)).listen(),this.gui.add(this.rotationDistort,"x",-Math.PI,Math.PI,.01).onChange(this.camChange.bind(this)).listen(),this.gui.add(this.rotationDistort,"z",-Math.PI,Math.PI,.01).onChange(this.camChange.bind(this)).listen(),this.gui.close()},t.prototype.initAssets=function(){this.assets=new Eo(this),this.assets.create()},t.prototype.initControl=function(){this.control=new P(this),this.control.create()},t.prototype.initAudio=function(){var t=this;this.onFirstContact.pipe(Object(Ro.a)((function(t){return!1===t}),!0)).subscribe((function(e){e&&(t.audio=new Ao(t),t.audio.create())}))},t.prototype.initComposer=function(){this.pass=new fe(this),this.pass.create()},t.prototype.initSky=function(){this.sky=new ye(this),this.sky.create(),this.lensflare=new Eu(this),this.lensflare.create(),this.skyChange()},t.prototype.effectChange=function(){this.onEffectsUpdate.next(),this.resize()},t.prototype.skyChange=function(){this.onSkyUpdate.next(),this.resize()},t.prototype.camChange=function(){},t.prototype.prepareFogMaterial=function(t){var e=this;return new Promise((function(n){t.onBeforeCompile=function(t){t.uniforms.fogMap={value:e.cubeCamera.renderTarget.texture},t.uniforms.cameraPosition=e.cameraPosObj,t.vertexShader="\n          varying vec3 myViewDir;\n          varying vec3 myWorldPos;\n              "+t.vertexShader,t.vertexShader=t.vertexShader.replace("#include <fog_vertex>","#include <fog_vertex>\n\n                vec4 myworldPosition = vec4( transformed, 1.0 );\n                myWorldPos = (modelMatrix *  myworldPosition).xyz;\n                #ifdef USE_INSTANCING\n                myworldPosition = instanceMatrix * myworldPosition;\n                #endif\n                myworldPosition = modelMatrix * myworldPosition;\n                myViewDir = normalize(myworldPosition.xyz - cameraPosition ); \n                  "),t.fragmentShader="\n                  uniform samplerCube fogMap;\n                  varying vec3 myViewDir;\n                  varying vec3 myWorldPos;\n                  "+t.fragmentShader,t.fragmentShader=t.fragmentShader.replace("#include <fog_fragment>","\n                      \n                      vec4 myFogColor = textureCube( fogMap, vec3( 1.0 * myViewDir.x, myViewDir.yz )  );\n                      #ifdef USE_FOG\n                          \n                          #ifdef FOG_EXP2\n                              float fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n                          #else\n                              float fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n                          #endif\n                          gl_FragColor.rgb = mix( gl_FragColor.rgb, myFogColor.xyz, fogFactor);\n\n                      #endif\n                    "),n(t)}}))},t.prototype.updateAreas=function(){var t=this;Object.keys(this.areas).forEach((function(e){var n=t.areas[e];t.cameraTemp.copy(t.camera.position),t.camera.getWorldDirection(t.cameraDir);var i=t.cameraTemp.add(t.cameraDir.multiplyScalar(500)),r=Math.floor((i.x+n.size.x/2)/n.size.x),a=Math.floor((i.z+n.size.z/2)/n.size.z);if(n.currentArea.x===r&&n.currentArea.z===a||(n.currentArea.x=r,n.currentArea.z=a,n.triggerAreaChange()),n.dimension.y>1){var o=Math.floor((i.y+n.size.y/2)/n.size.y);n.currentArea.y===o&&n.currentArea.y===o||(n.currentArea.y=o,n.triggerAreaChange())}}))},t.prototype.render=function(){if(!this.isRenderPaused){var t=this.clock.getDelta(),e=this.clock.getElapsedTime();this.updateAreas(),this.controls&&this.controls.update(),this.dir.subVectors(this.camera.position,this.homeVector).normalize(),this.dir.multiplyVectors(this.dir,this.cameraDir),this.cameraPosObj.value.copy(this.camera.position),this.camera.far!==this.effectController.far&&(this.camera.far=this.effectController.far,this.camera.updateProjectionMatrix()),this.onRender.next({elapsedTime:e,delta:t}),this.composer.render(t),this.slowTicks+=t>.05?1:0,t<.02&&(this.slowTicks=0),-1===this.average10?this.average10=t:this.average10=(9*this.average10+t)/10}requestAnimationFrame(this.boundRender)},t.prototype.touchStart=function(){this.firstContact||(this.firstContact=!0,this.onFirstContact.next(!0))},t.prototype.clickEvent=function(t){if(this.firstContact||(this.firstContact=!0,this.onFirstContact.next(!0)),this.builder){var e=new c.Mb;this.mouse.pos.x=t.clientX/window.innerWidth*2-1,this.mouse.pos.y=-t.clientY/window.innerHeight*2+1,e.setFromCamera(this.mouse.pos,this.camera);for(var n=e.intersectObjects(this.spawner.ground.groundobj.children,!0),i=0;i<n.length;i++)0===i&&this.builder.build(n[i].point)}},t.prototype.mouseMove=function(t){this.mouse.pos.x=t.clientX/window.innerWidth*2-1,this.mouse.pos.y=-t.clientY/window.innerHeight*2+1},t.prototype.mouseDown=function(){this.mouse.isDown=!0},t.prototype.mouseUp=function(){this.mouse.isDown=!1},t.prototype.resize=function(){this.width=this.site.screen.w,this.height=this.site.screen.h,this.pixelRatio=window.devicePixelRatio?window.devicePixelRatio:1,this.site.isMobile?this.pixelRatio=Math.min(2,window.devicePixelRatio):this.pixelRatio=Math.min(3,window.devicePixelRatio),this.renderer.setPixelRatio(this.pixelRatio),this.renderer.setSize(this.width,this.height),this.renderer.setViewport(0,0,this.width*this.pixelRatio,this.height*this.pixelRatio),this.camera.aspect=this.width/this.height,this.camera.updateProjectionMatrix(),this.onResize.next({width:this.width,height:this.height})},t.\u0275fac=function(e){return new(e||t)(Pu.jc(Pu.L),Pu.jc(Po.a),Pu.jc(i.a))},t.\u0275prov=Pu.Wb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},xutz:function(t,e,n){"use strict";(function(t){var i=n("XqMk"),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=r&&"object"==typeof t&&t&&!t.nodeType&&t,o=a&&a.exports===r&&i.a.process,s=function(){try{var t=a&&a.require&&a.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(e){}}();e.a=s}).call(this,n("3UD+")(t))},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("HDdC"),r=n("ngJS"),a=n("jZKg");function o(t,e){return e?Object(a.a)(t,e):new i.a(Object(r.a)(t))}},"z+Ro":function(t,e,n){"use strict";function i(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return i}))},z6cu:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("HDdC");function r(t,e){return e?new i.a((function(n){return e.schedule(a,0,{error:t,subscriber:n})})):new i.a((function(e){return e.error(t)}))}function a(t){var e=t.error;t.subscriber.error(e)}},zP0r:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("Ji7U"),r=n("LK+K"),a=n("1OyB"),o=n("vuIU"),s=n("7o/Q");function c(t){return function(e){return e.lift(new u(t))}}var u=function(){function t(e){Object(a.a)(this,t),this.total=e}return Object(o.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new l(t,this.total))}}]),t}(),l=function(t){Object(i.a)(n,t);var e=Object(r.a)(n);function n(t,i){var r;return Object(a.a)(this,n),(r=e.call(this,t)).total=i,r.count=0,r}return Object(o.a)(n,[{key:"_next",value:function(t){++this.count>this.total&&this.destination.next(t)}}]),n}(s.a)},zUnb:function(t,e,n){"use strict";n.r(e);var i=n("fXoL"),r=!0,a=n("jhN1"),o=n("tyNb"),s=[{path:"",loadChildren:"./core/core.module#CoreModule"}],c=function(){function t(){}return t.\u0275mod=i.Yb({type:t}),t.\u0275inj=i.Xb({factory:function(e){return new(e||t)},imports:[[o.d.forRoot(s)],o.d]}),t}(),u=n("3Pt+"),l=n("iiaH"),h=n("0IaG"),d=n("8mYk"),f=n("tk/3"),p=n("ofXK"),v=n("bTqV"),m=n("NFeN"),g=n("kmnG"),y=n("qFsG"),b=n("ODXe"),_=n("1OyB"),w=n("vuIU"),x=n("mrSG"),k=n("LRne"),O=n("2Vo4"),S=n("XNiG");function C(t,e,n,i,r){window.ng2recaptchaloaded=function(){e(grecaptcha)};var a=document.createElement("script");a.innerHTML="";var o=i||"https://www.google.com/recaptcha/api.js";a.src="".concat(o,"?render=").concat(t,"&onload=ng2recaptchaloaded").concat(n),r&&(a.nonce=r),a.async=!0,a.defer=!0,document.head.appendChild(a)}var A,M=new i.A("recaptcha-language"),T=new i.A("recaptcha-base-url"),E=new i.A("recaptcha-nonce-tag"),P=new i.A("recaptcha-settings"),D=new i.A("recaptcha-v3-site-key"),j=A=function(){function t(e,n,i,r,a){Object(_.a)(this,t),this.platformId=e,this.language=n,this.baseUrl=i,this.nonce=r,this.v3SiteKey=a,this.init(),this.ready=Object(p.r)(this.platformId)?A.ready.asObservable():Object(k.a)()}return Object(w.a)(t,[{key:"init",value:function(){if(!A.ready&&Object(p.r)(this.platformId)){var t=new O.a(null);A.ready=t;var e=this.language?"&hl="+this.language:"";C(this.v3SiteKey||"explicit",(function(e){return t.next(e)}),e,this.baseUrl,this.nonce)}}}]),t}();j.\u0275fac=function(t){return new(t||j)(i.jc(i.O),i.jc(M,8),i.jc(T,8),i.jc(E,8),i.jc(D,8))},j.\u0275prov=i.Wb({token:j,factory:function(t){return j.\u0275fac(t)}}),j.ready=null,j.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.y,args:[i.O]}]},{type:String,decorators:[{type:i.M},{type:i.y,args:[M]}]},{type:String,decorators:[{type:i.M},{type:i.y,args:[T]}]},{type:String,decorators:[{type:i.M},{type:i.y,args:[E]}]},{type:String,decorators:[{type:i.M},{type:i.y,args:[D]}]}]},j=A=Object(x.b)([Object(x.e)(0,Object(i.y)(i.O)),Object(x.e)(1,Object(i.M)()),Object(x.e)(1,Object(i.y)(M)),Object(x.e)(2,Object(i.M)()),Object(x.e)(2,Object(i.y)(T)),Object(x.e)(3,Object(i.M)()),Object(x.e)(3,Object(i.y)(E)),Object(x.e)(4,Object(i.M)()),Object(x.e)(4,Object(i.y)(D))],j);var R=0,I=function(){function t(e,n,r,a){Object(_.a)(this,t),this.elementRef=e,this.loader=n,this.zone=r,this.id="ngrecaptcha-".concat(R++),this.errorMode="default",this.resolved=new i.t,this.error=new i.t,a&&(this.siteKey=a.siteKey,this.theme=a.theme,this.type=a.type,this.size=a.size,this.badge=a.badge)}return Object(w.a)(t,[{key:"ngAfterViewInit",value:function(){var t=this;this.subscription=this.loader.ready.subscribe((function(e){null!=e&&e.render instanceof Function&&(t.grecaptcha=e,t.renderRecaptcha())}))}},{key:"ngOnDestroy",value:function(){this.grecaptchaReset(),this.subscription&&this.subscription.unsubscribe()}},{key:"execute",value:function(){"invisible"===this.size&&(null!=this.widget?this.grecaptcha.execute(this.widget):this.executeRequested=!0)}},{key:"reset",value:function(){null!=this.widget&&(this.grecaptcha.getResponse(this.widget)&&this.resolved.emit(null),this.grecaptchaReset())}},{key:"expired",value:function(){this.resolved.emit(null)}},{key:"errored",value:function(t){this.error.emit(t)}},{key:"captchaResponseCallback",value:function(t){this.resolved.emit(t)}},{key:"grecaptchaReset",value:function(){var t=this;null!=this.widget&&this.zone.runOutsideAngular((function(){return t.grecaptcha.reset(t.widget)}))}},{key:"renderRecaptcha",value:function(){var t=this,e={badge:this.badge,callback:function(e){t.zone.run((function(){return t.captchaResponseCallback(e)}))},"expired-callback":function(){t.zone.run((function(){return t.expired()}))},sitekey:this.siteKey,size:this.size,tabindex:this.tabIndex,theme:this.theme,type:this.type};"handled"===this.errorMode&&(e["error-callback"]=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.zone.run((function(){return t.errored(n)}))}),this.widget=this.grecaptcha.render(this.elementRef.nativeElement,e),!0===this.executeRequested&&(this.executeRequested=!1,this.execute())}}]),t}();I.\u0275fac=function(t){return new(t||I)(i.ac(i.r),i.ac(j),i.ac(i.L),i.ac(P,8))},I.\u0275cmp=i.Ub({type:I,selectors:[["re-captcha"]],hostVars:1,hostBindings:function(t,e){2&t&&i.Rb("id",e.id)},inputs:{id:"id",errorMode:"errorMode",siteKey:"siteKey",theme:"theme",type:"type",size:"size",badge:"badge",tabIndex:"tabIndex"},outputs:{resolved:"resolved",error:"error"},exportAs:["reCaptcha"],decls:0,vars:0,template:function(t,e){},encapsulation:2}),I.ctorParameters=function(){return[{type:i.r},{type:j},{type:i.L},{type:void 0,decorators:[{type:i.M},{type:i.y,args:[P]}]}]},Object(x.b)([Object(i.C)(),Object(i.v)("attr.id")],I.prototype,"id",void 0),Object(x.b)([Object(i.C)()],I.prototype,"siteKey",void 0),Object(x.b)([Object(i.C)()],I.prototype,"theme",void 0),Object(x.b)([Object(i.C)()],I.prototype,"type",void 0),Object(x.b)([Object(i.C)()],I.prototype,"size",void 0),Object(x.b)([Object(i.C)()],I.prototype,"tabIndex",void 0),Object(x.b)([Object(i.C)()],I.prototype,"badge",void 0),Object(x.b)([Object(i.C)()],I.prototype,"errorMode",void 0),Object(x.b)([Object(i.N)()],I.prototype,"resolved",void 0),Object(x.b)([Object(i.N)()],I.prototype,"error",void 0),I=Object(x.b)([Object(x.e)(3,Object(i.M)()),Object(x.e)(3,Object(i.y)(P))],I);var L=function t(){Object(_.a)(this,t)};L.\u0275mod=i.Yb({type:L}),L.\u0275inj=i.Xb({factory:function(t){return new(t||L)}});var N,F=N=function(){function t(){Object(_.a)(this,t)}return Object(w.a)(t,null,[{key:"forRoot",value:function(){return N}}]),t}();F.\u0275mod=i.Yb({type:F}),F.\u0275inj=i.Xb({factory:function(t){return new(t||F)},providers:[j],imports:[[L]]});var B=function(){function t(e,n,i,r,a,o){var s=this;Object(_.a)(this,t),this.onLoadComplete=function(t){s.grecaptcha=t,s.actionBacklog&&s.actionBacklog.length>0&&(s.actionBacklog.forEach((function(t){var e=Object(b.a)(t,2),n=e[0],i=e[1];return s.executeActionWithSubject(n,i)})),s.actionBacklog=void 0)},this.zone=e,this.isBrowser=Object(p.r)(i),this.siteKey=n,this.nonce=a,this.language=o,this.baseUrl=r,this.init()}return Object(w.a)(t,[{key:"execute",value:function(t){var e=new S.a;return this.isBrowser&&(this.grecaptcha?this.executeActionWithSubject(t,e):(this.actionBacklog||(this.actionBacklog=[]),this.actionBacklog.push([t,e]))),e.asObservable()}},{key:"executeActionWithSubject",value:function(t,e){var n=this,i=function(i){n.zone.run((function(){e.error(i),n.onExecuteErrorSubject&&n.onExecuteErrorSubject.next({action:t,error:i})}))};this.zone.runOutsideAngular((function(){try{n.grecaptcha.execute(n.siteKey,{action:t}).then((function(i){n.zone.run((function(){e.next(i),e.complete(),n.onExecuteSubject&&n.onExecuteSubject.next({action:t,token:i})}))}),i)}catch(r){i(r)}}))}},{key:"init",value:function(){if(this.isBrowser)if("grecaptcha"in window)this.grecaptcha=grecaptcha;else{var t=this.language?"&hl="+this.language:"";C(this.siteKey,this.onLoadComplete,t,this.baseUrl,this.nonce)}}},{key:"onExecute",get:function(){return this.onExecuteSubject||(this.onExecuteSubject=new S.a,this.onExecuteObservable=this.onExecuteSubject.asObservable()),this.onExecuteObservable}},{key:"onExecuteError",get:function(){return this.onExecuteErrorSubject||(this.onExecuteErrorSubject=new S.a,this.onExecuteErrorObservable=this.onExecuteErrorSubject.asObservable()),this.onExecuteErrorObservable}}]),t}();B.\u0275fac=function(t){return new(t||B)(i.jc(i.L),i.jc(D),i.jc(i.O),i.jc(T,8),i.jc(E,8),i.jc(M,8))},B.\u0275prov=i.Wb({token:B,factory:function(t){return B.\u0275fac(t)}}),B.ctorParameters=function(){return[{type:i.L},{type:String,decorators:[{type:i.y,args:[D]}]},{type:void 0,decorators:[{type:i.y,args:[i.O]}]},{type:String,decorators:[{type:i.M},{type:i.y,args:[T]}]},{type:String,decorators:[{type:i.M},{type:i.y,args:[E]}]},{type:String,decorators:[{type:i.M},{type:i.y,args:[M]}]}]},B=Object(x.b)([Object(x.e)(1,Object(i.y)(D)),Object(x.e)(2,Object(i.y)(i.O)),Object(x.e)(3,Object(i.M)()),Object(x.e)(3,Object(i.y)(T)),Object(x.e)(4,Object(i.M)()),Object(x.e)(4,Object(i.y)(E)),Object(x.e)(5,Object(i.M)()),Object(x.e)(5,Object(i.y)(M))],B);var z=function t(){Object(_.a)(this,t)};z.\u0275mod=i.Yb({type:z}),z.\u0275inj=i.Xb({factory:function(t){return new(t||z)},providers:[B]});var U,H=U=function(){function t(e){Object(_.a)(this,t),this.host=e}return Object(w.a)(t,[{key:"writeValue",value:function(t){t||this.host.reset()}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"onResolve",value:function(t){this.onChange&&this.onChange(t),this.onTouched&&this.onTouched()}}]),t}();H.\u0275fac=function(t){return new(t||H)(i.ac(I))},H.\u0275dir=i.Vb({type:H,selectors:[["re-captcha","formControlName",""],["re-captcha","formControl",""],["re-captcha","ngModel",""]],hostBindings:function(t,e){1&t&&i.mc("resolved",(function(t){return e.onResolve(t)}))},features:[i.Pb([{multi:!0,provide:u.g,useExisting:Object(i.jb)((function(){return U}))}])]}),H.ctorParameters=function(){return[{type:I}]},Object(x.b)([Object(i.w)("resolved",["$event"])],H.prototype,"onResolve",null);var V=function t(){Object(_.a)(this,t)};V.\u0275mod=i.Yb({type:V}),V.\u0275inj=i.Xb({factory:function(t){return new(t||V)},imports:[[u.f,L]]});var G=n("Xa2L");function W(t,e){1&t&&(i.fc(0,"mat-error"),i.Mc(1," Name is "),i.fc(2,"strong"),i.Mc(3,"required"),i.ec(),i.ec())}function X(t,e){1&t&&(i.fc(0,"mat-error"),i.Mc(1," Please enter a valid email address "),i.ec())}function q(t,e){1&t&&(i.fc(0,"mat-error"),i.Mc(1," Message is "),i.fc(2,"strong"),i.Mc(3,"required"),i.ec(),i.ec())}function Y(t,e){1&t&&(i.fc(0,"span"),i.Mc(1,"Send"),i.ec())}function Q(t,e){1&t&&(i.fc(0,"div"),i.Mc(1," Sending "),i.fc(2,"div",22),i.bc(3,"mat-progress-spinner",23),i.ec(),i.ec()),2&t&&(i.Qb(3),i.vc("diameter",14)("color","primary")("mode","indeterminate"))}var K=function(t){return{hide:t}},Z=function(t){return{show:t}},J=function(){function t(t,e,n,i){this.dialogRef=t,this.data=e,this.ga=n,this.http=i,this.isSending=!1,this.messageSent=!1,this.form=new u.d({name:new u.b("",u.m.required),email:new u.b("",[u.m.required,u.m.email]),message:new u.b("",u.m.required),recaptcha:new u.b(null,u.m.required)})}return t.prototype.gotoLink=function(t){this.ga.event("social_click","social_clicks","Social clicked "+t),window.open(t,"_blank")},t.prototype.ngOnInit=function(){},t.prototype.otherFieldsValid=function(){return this.form.get("name").valid&&this.form.get("email").valid&&this.form.get("message").valid},t.prototype.okClicked=function(){this.dialogRef.close()},t.prototype.close=function(){this.dialogRef.close()},t.prototype.onSubmit=function(t){var e=this;if(this.form.valid){this.isSending=!0;var n={};n.name=this.form.get("name").value,n.email=this.form.get("email").value,n.message=this.form.get("message").value,n["g-recaptcha-response"]=this.form.get("recaptcha").value,this.http.post("https://europe-west1-logartisinfocontactform.cloudfunctions.net/ContactForm_LogartisInfo",n).subscribe((function(n){e.isSending=!1,e.messageSent=!0,e.form.reset(),t.resetForm()}))}},t.\u0275fac=function(e){return new(e||t)(i.ac(h.d),i.ac(l.a),i.ac(d.a),i.ac(f.a))},t.\u0275cmp=i.Ub({type:t,selectors:[["app-contact"]],decls:37,vars:22,consts:[[1,"row","justify-content-center"],[1,"col-12"],[1,"p-0","p-sm-3","p-md-5","d-flex","flex-column",3,"ngClass"],[1,"d-flex","align-items-center","justify-content-center","mb-3"],[1,"text-left","mb-0"],[1,"spacer","flex-grow-1"],["mat-icon-button","","aria-label","Behance button",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24"],["d","M22 7h-7v-2h7v2zm1.726 10c-.442 1.297-2.029 3-5.101 3-3.074 0-5.564-1.729-5.564-5.675 0-3.91 2.325-5.92 5.466-5.92 3.082 0 4.964 1.782 5.375 4.426.078.506.109 1.188.095 2.14h-8.027c.13 3.211 3.483 3.312 4.588 2.029h3.168zm-7.686-4h4.965c-.105-1.547-1.136-2.219-2.477-2.219-1.466 0-2.277.768-2.488 2.219zm-9.574 6.988h-6.466v-14.967h6.953c5.476.081 5.58 5.444 2.72 6.906 3.461 1.26 3.577 8.061-3.207 8.061zm-3.466-8.988h3.584c2.508 0 2.906-3-.312-3h-3.272v3zm3.391 3h-3.391v3.016h3.341c3.055 0 2.868-3.016.05-3.016z"],["mat-icon-button","","aria-label","Facebook button",3,"click"],["mat-icon-button","","aria-label","Twitter button",3,"click"],["d","M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"],["id","contactForm",1,"example-container","secondary-text","d-flex","flex-column",3,"formGroup","ngClass","ngSubmit"],["formDirective","ngForm"],["formControlName","name","matInput","","placeholder","Your name"],[4,"ngIf"],["formControlName","email","matInput","","placeholder","Your email"],["formControlName","message","matInput","","placeholder","Your message","matTextareaAutosize",""],["formControlName","recaptcha","siteKey","6LdSmbQUAAAAAMnONhdbz8RqzBlQRiDmgMNkSydI",1,"align-self-center","justify-content-center","mb-3","w-auto",3,"ngClass"],["type","submit","form","contactForm","mat-stroked-button","",1,"align-self-center","justify-content-center","custom-button","dark","action-button",3,"disabled","ngClass"],[1,"message-sent","text-center",3,"ngClass"],["type","button",1,"btn","btn-dark","mt-3",3,"click"],[1,"progresswrapper","ml-3"],[3,"diameter","color","mode"]],template:function(t,e){if(1&t){var n=i.gc();i.fc(0,"div",0),i.fc(1,"div",1),i.fc(2,"div",2),i.fc(3,"div",3),i.fc(4,"h4",4),i.Mc(5,"Get in touch"),i.ec(),i.bc(6,"div",5),i.fc(7,"button",6),i.mc("click",(function(){return e.gotoLink("https://www.behance.net/logartis/")})),i.pc(),i.fc(8,"svg",7),i.bc(9,"path",8),i.ec(),i.ec(),i.oc(),i.fc(10,"button",9),i.mc("click",(function(){return e.gotoLink("https://www.facebook.com/logartis.info")})),i.fc(11,"mat-icon"),i.Mc(12,"facebook"),i.ec(),i.ec(),i.fc(13,"button",10),i.mc("click",(function(){return e.gotoLink("https://twitter.com/logartis")})),i.pc(),i.fc(14,"svg",7),i.bc(15,"path",11),i.ec(),i.ec(),i.ec(),i.oc(),i.fc(16,"form",12,13),i.mc("ngSubmit",(function(){i.Dc(n);var t=i.zc(17);return e.onSubmit(t)})),i.fc(18,"mat-form-field"),i.bc(19,"input",14),i.Lc(20,W,4,0,"mat-error",15),i.ec(),i.fc(21,"mat-form-field"),i.bc(22,"input",16),i.Lc(23,X,2,0,"mat-error",15),i.ec(),i.fc(24,"mat-form-field"),i.bc(25,"textarea",17),i.Lc(26,q,4,0,"mat-error",15),i.ec(),i.bc(27,"re-captcha",18),i.ec(),i.fc(28,"button",19),i.Lc(29,Y,2,0,"span",15),i.Lc(30,Q,4,3,"div",15),i.ec(),i.ec(),i.fc(31,"div",20),i.fc(32,"h4"),i.Mc(33,"Thank you for getting in touch with me!"),i.ec(),i.Mc(34," I will get back to you quickly. "),i.fc(35,"button",21),i.mc("click",(function(){return e.okClicked()})),i.Mc(36,"Close"),i.ec(),i.ec(),i.ec(),i.ec()}2&t&&(i.Qb(2),i.vc("ngClass",i.wc(12,K,e.messageSent)),i.Qb(14),i.vc("formGroup",e.form)("ngClass",i.wc(14,K,e.messageSent)),i.Qb(4),i.vc("ngIf",e.form.get("name").hasError("required")),i.Qb(3),i.vc("ngIf",e.form.get("email").hasError("email")||!e.form.get("email").hasError("required")),i.Qb(3),i.vc("ngIf",e.form.get("message").hasError("required")),i.Qb(1),i.vc("ngClass",i.wc(16,K,!e.otherFieldsValid())),i.Qb(1),i.vc("disabled",e.form.invalid||e.isSending)("ngClass",i.wc(18,K,e.messageSent)),i.Qb(1),i.vc("ngIf",!e.isSending),i.Qb(1),i.vc("ngIf",e.isSending),i.Qb(1),i.vc("ngClass",i.wc(20,Z,e.messageSent)))},directives:[p.i,v.a,m.a,u.n,u.j,u.e,g.c,u.a,y.a,u.i,u.c,p.k,y.c,I,H,g.b,G.a],styles:["[_nghost-%COMP%]{background:#fff;position:relative}[_nghost-%COMP%]     .mat-progress-spinner circle, [_nghost-%COMP%]     .mat-spinner circle{stroke:#000}@media (min-width:1199px){[_nghost-%COMP%]{padding-bottom:100px}}[_nghost-%COMP%]   .row[_ngcontent-%COMP%]{overflow:hidden}.custom-button[_ngcontent-%COMP%]{border-width:2px}.custom-button.mat-button-disabled[_ngcontent-%COMP%]{border-color:rgba(0,0,0,.2)!important}[_nghost-%COMP%]  .mat-form-field-label{color:#000!important}[_nghost-%COMP%]  .mat-form-field-ripple, [_nghost-%COMP%]  .mat-form-field-underline{background-color:#000!important}re-captcha.hide[_ngcontent-%COMP%]{display:none}.hide[_ngcontent-%COMP%]{transition-delay:0s;pointer-events:none;opacity:0}.btn[_ngcontent-%COMP%], .message-sent[_ngcontent-%COMP%]{transition:opacity .3s}.message-sent[_ngcontent-%COMP%]{opacity:0;position:absolute;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:1rem;pointer-events:none}.message-sent.show[_ngcontent-%COMP%]{pointer-events:all;opacity:1}mat-form-field[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:1rem}@media (min-width:1199px){mat-form-field[_ngcontent-%COMP%]{font-size:1.3rem}}.example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.example-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}textarea[_ngcontent-%COMP%]{overflow:hidden!important}.wrapper[_ngcontent-%COMP%]{position:relative}.action-button[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}"]}),t}(),$=n("xu0b"),tt=n("+O9J"),et=function(t){return{inited:t}},nt=function(){function t(t){this.site=t}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)(i.ac(tt.a))},t.\u0275cmp=i.Ub({type:t,selectors:[["app-loader"]],decls:12,vars:5,consts:[[1,"hider",3,"ngClass"],[1,"heartwrap"],[1,"heart"],[1,"left"],[1,"right"],[1,"heart","delay"],[1,"heart","delay2"]],template:function(t,e){1&t&&(i.fc(0,"div",0),i.rc(1,"async"),i.fc(2,"div",1),i.fc(3,"div",2),i.bc(4,"div",3),i.bc(5,"div",4),i.ec(),i.fc(6,"div",5),i.bc(7,"div",3),i.bc(8,"div",4),i.ec(),i.fc(9,"div",6),i.bc(10,"div",3),i.bc(11,"div",4),i.ec(),i.ec(),i.ec()),2&t&&i.vc("ngClass",i.wc(3,et,i.sc(1,1,e.site.onInited)&&!e.site.forcePreloader))},directives:[p.i],pipes:[p.b],styles:["[_nghost-%COMP%]{z-index:500;display:block;pointer-events:none}[_nghost-%COMP%], [_nghost-%COMP%]   .hider[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]   .hider[_ngcontent-%COMP%]{z-index:12;background:#b9b9b9;transition:opacity 1s ease-in-out;opacity:1;display:flex;align-items:center;justify-content:center;pointer-events:all}[_nghost-%COMP%]   .hider.inited[_ngcontent-%COMP%]{transition:opacity 1s ease-in-out 1s;opacity:0;pointer-events:none}[_nghost-%COMP%]   .hider.inited[_ngcontent-%COMP%]   .heartwrap[_ngcontent-%COMP%]{transform:scale(0)}[_nghost-%COMP%]   .hider[_ngcontent-%COMP%]   .heartwrap[_ngcontent-%COMP%]{width:5em;height:5em;transform-origin:12.5% -100%;transition:transform 1s ease-in;position:relative}[_nghost-%COMP%]   .hider[_ngcontent-%COMP%]   .heart[_ngcontent-%COMP%]{top:50%;left:50%;font-size:6px;transform-origin:50% 50%;-webkit-animation:heartWrapperAnim 1.5s ease-in-out infinite;animation:heartWrapperAnim 1.5s ease-in-out infinite;width:5em;height:5em;position:absolute}[_nghost-%COMP%]   .hider[_ngcontent-%COMP%]   .heart.delay[_ngcontent-%COMP%]{opacity:.5}[_nghost-%COMP%]   .hider[_ngcontent-%COMP%]   .heart.delay[_ngcontent-%COMP%], [_nghost-%COMP%]   .hider[_ngcontent-%COMP%]   .heart.delay[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], [_nghost-%COMP%]   .hider[_ngcontent-%COMP%]   .heart.delay[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{-webkit-animation-delay:.05s;animation-delay:.05s}[_nghost-%COMP%]   .hider[_ngcontent-%COMP%]   .heart.delay2[_ngcontent-%COMP%]{opacity:.2}[_nghost-%COMP%]   .hider[_ngcontent-%COMP%]   .heart.delay2[_ngcontent-%COMP%], [_nghost-%COMP%]   .hider[_ngcontent-%COMP%]   .heart.delay2[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], [_nghost-%COMP%]   .hider[_ngcontent-%COMP%]   .heart.delay2[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{-webkit-animation-delay:.1s;animation-delay:.1s}[_nghost-%COMP%]   .hider[_ngcontent-%COMP%]   .heart[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], [_nghost-%COMP%]   .hider[_ngcontent-%COMP%]   .heart[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{width:5em;height:4em;border-radius:2.5em;position:absolute;background:#000}[_nghost-%COMP%]   .hider[_ngcontent-%COMP%]   .heart[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{transform:translateX(-25%) translateY(-50%) rotate(28deg);-webkit-animation:leftHeart 1.5s ease-in-out infinite,heartAnim 1.5s ease-in-out infinite;animation:leftHeart 1.5s ease-in-out infinite,heartAnim 1.5s ease-in-out infinite}[_nghost-%COMP%]   .hider[_ngcontent-%COMP%]   .heart[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{transform:translateX(25%) translateY(-50%) rotate(-28deg);-webkit-animation:rightHeart 1.5s ease-in-out infinite,heartAnim 1.5s ease-in-out infinite;animation:rightHeart 1.5s ease-in-out infinite,heartAnim 1.5s ease-in-out infinite}@-webkit-keyframes heartWrapperAnim{0%{transform:translateX(-50%) translateY(-50%) rotate(0deg) scale(1)}50%{transform:translateX(-50%) translateY(-50%) rotate(0deg) scale(.5)}to{transform:translateX(-50%) translateY(-50%) rotate(1turn) scale(1)}}@keyframes heartWrapperAnim{0%{transform:translateX(-50%) translateY(-50%) rotate(0deg) scale(1)}50%{transform:translateX(-50%) translateY(-50%) rotate(0deg) scale(.5)}to{transform:translateX(-50%) translateY(-50%) rotate(1turn) scale(1)}}@-webkit-keyframes heartAnim{0%{height:3em}50%{height:5em}to{height:3em}}@keyframes heartAnim{0%{height:3em}50%{height:5em}to{height:3em}}@-webkit-keyframes leftHeart{0%{border-bottom-right-radius:1%;transform:translateX(-15%) translateY(-50%) rotate(45deg)}50%{border-bottom-right-radius:2.5em;transform:translateX(0) translateY(-50%) rotate(45deg)}to{border-bottom-right-radius:1%;transform:translateX(-15%) translateY(-50%) rotate(45deg)}}@keyframes leftHeart{0%{border-bottom-right-radius:1%;transform:translateX(-15%) translateY(-50%) rotate(45deg)}50%{border-bottom-right-radius:2.5em;transform:translateX(0) translateY(-50%) rotate(45deg)}to{border-bottom-right-radius:1%;transform:translateX(-15%) translateY(-50%) rotate(45deg)}}@-webkit-keyframes rightHeart{0%{border-bottom-left-radius:1%;transform:translateX(15%) translateY(-50%) rotate(-45deg)}50%{border-bottom-left-radius:2.5em;transform:translateX(0) translateY(-50%) rotate(-45deg)}to{border-bottom-left-radius:1%;transform:translateX(15%) translateY(-50%) rotate(-45deg)}}@keyframes rightHeart{0%{border-bottom-left-radius:1%;transform:translateX(15%) translateY(-50%) rotate(-45deg)}50%{border-bottom-left-radius:2.5em;transform:translateX(0) translateY(-50%) rotate(-45deg)}to{border-bottom-left-radius:1%;transform:translateX(15%) translateY(-50%) rotate(-45deg)}}"]}),t}(),it=n("rDax"),rt=n("u47x"),at=n("FKr1"),ot=n("vxfF"),st=n("cH1L"),ct=n("8LU1"),ut=n("FtGj"),lt=n("0MNC"),ht=n("nLfN"),dt=n("+rOU"),ft=n("1G5W"),pt=n("IzEk"),vt=n("R0Ic"),mt={tooltipState:Object(vt.k)("state",[Object(vt.h)("initial, void, hidden",Object(vt.i)({opacity:0,transform:"scale(0)"})),Object(vt.h)("visible",Object(vt.i)({transform:"scale(1)"})),Object(vt.j)("* => visible",Object(vt.e)("200ms cubic-bezier(0, 0, 0.2, 1)",Object(vt.f)([Object(vt.i)({opacity:0,transform:"scale(0)",offset:0}),Object(vt.i)({opacity:.5,transform:"scale(0.99)",offset:.5}),Object(vt.i)({opacity:1,transform:"scale(1)",offset:1})]))),Object(vt.j)("* => hidden",Object(vt.e)("100ms cubic-bezier(0, 0, 0.2, 1)",Object(vt.i)({opacity:0})))])},gt=Object(ht.f)({passive:!0});var yt=new i.A("mat-tooltip-scroll-strategy");var bt={provide:yt,deps:[it.b],useFactory:function(t){return function(){return t.scrollStrategies.reposition({scrollThrottle:20})}}},_t=new i.A("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});var wt=function(){function t(e,n,i,r,a,o,s,c,u,l,h){var d=this;Object(_.a)(this,t),this._overlay=e,this._elementRef=n,this._scrollDispatcher=i,this._viewContainerRef=r,this._ngZone=a,this._platform=o,this._ariaDescriber=s,this._focusMonitor=c,this._dir=l,this._defaultOptions=h,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new S.a,this._handleKeydown=function(t){d._isTooltipVisible()&&t.keyCode===ut.e&&!Object(ut.o)(t)&&(t.preventDefault(),t.stopPropagation(),d._ngZone.run((function(){return d.hide(0)})))},this._scrollStrategy=u,h&&(h.position&&(this.position=h.position),h.touchGestures&&(this.touchGestures=h.touchGestures)),a.runOutsideAngular((function(){n.nativeElement.addEventListener("keydown",d._handleKeydown)}))}return Object(w.a)(t,[{key:"ngAfterViewInit",value:function(){var t=this;this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Object(ft.a)(this._destroyed)).subscribe((function(e){e?"keyboard"===e&&t._ngZone.run((function(){return t.show()})):t._ngZone.run((function(){return t.hide(0)}))}))}},{key:"ngOnDestroy",value:function(){var t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),t.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach((function(e){var n=Object(b.a)(e,2),i=n[0],r=n[1];t.removeEventListener(i,r,gt)})),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message),this._focusMonitor.stopMonitoring(t)}},{key:"show",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.showDelay;if(!this.disabled&&this.message&&(!this._isTooltipVisible()||this._tooltipInstance._showTimeoutId||this._tooltipInstance._hideTimeoutId)){var n=this._createOverlay();this._detach(),this._portal=this._portal||new dt.c(xt,this._viewContainerRef),this._tooltipInstance=n.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(Object(ft.a)(this._destroyed)).subscribe((function(){return t._detach()})),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(e)}}},{key:"hide",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.hideDelay;this._tooltipInstance&&this._tooltipInstance.hide(t)}},{key:"toggle",value:function(){this._isTooltipVisible()?this.hide():this.show()}},{key:"_isTooltipVisible",value:function(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}},{key:"_createOverlay",value:function(){var t=this;if(this._overlayRef)return this._overlayRef;var e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),n=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(".mat-tooltip").withFlexibleDimensions(!1).withViewportMargin(8).withScrollableContainers(e);return n.positionChanges.pipe(Object(ft.a)(this._destroyed)).subscribe((function(e){t._tooltipInstance&&e.scrollableViewProperties.isOverlayClipped&&t._tooltipInstance.isVisible()&&t._ngZone.run((function(){return t.hide(0)}))})),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:n,panelClass:"mat-tooltip-panel",scrollStrategy:this._scrollStrategy()}),this._updatePosition(),this._overlayRef.detachments().pipe(Object(ft.a)(this._destroyed)).subscribe((function(){return t._detach()})),this._overlayRef}},{key:"_detach",value:function(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}},{key:"_updatePosition",value:function(){var t=this._overlayRef.getConfig().positionStrategy,e=this._getOrigin(),n=this._getOverlayPosition();t.withPositions([Object.assign(Object.assign({},e.main),n.main),Object.assign(Object.assign({},e.fallback),n.fallback)])}},{key:"_getOrigin",value:function(){var t,e=!this._dir||"ltr"==this._dir.value,n=this.position;"above"==n||"below"==n?t={originX:"center",originY:"above"==n?"top":"bottom"}:"before"==n||"left"==n&&e||"right"==n&&!e?t={originX:"start",originY:"center"}:("after"==n||"right"==n&&e||"left"==n&&!e)&&(t={originX:"end",originY:"center"});var i=this._invertPosition(t.originX,t.originY);return{main:t,fallback:{originX:i.x,originY:i.y}}}},{key:"_getOverlayPosition",value:function(){var t,e=!this._dir||"ltr"==this._dir.value,n=this.position;"above"==n?t={overlayX:"center",overlayY:"bottom"}:"below"==n?t={overlayX:"center",overlayY:"top"}:"before"==n||"left"==n&&e||"right"==n&&!e?t={overlayX:"end",overlayY:"center"}:("after"==n||"right"==n&&e||"left"==n&&!e)&&(t={overlayX:"start",overlayY:"center"});var i=this._invertPosition(t.overlayX,t.overlayY);return{main:t,fallback:{overlayX:i.x,overlayY:i.y}}}},{key:"_updateTooltipMessage",value:function(){var t=this;this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Object(pt.a)(1),Object(ft.a)(this._destroyed)).subscribe((function(){t._tooltipInstance&&t._overlayRef.updatePosition()})))}},{key:"_setTooltipClass",value:function(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}},{key:"_invertPosition",value:function(t,e){return"above"===this.position||"below"===this.position?"top"===e?e="bottom":"bottom"===e&&(e="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:e}}},{key:"_setupPointerEnterEventsIfNeeded",value:function(){var t=this;!this._disabled&&this.message&&this._viewInitialized&&!this._passiveListeners.length&&(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",function(){t._setupPointerExitEventsIfNeeded(),t.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",function(){t._setupPointerExitEventsIfNeeded(),clearTimeout(t._touchstartTimeout),t._touchstartTimeout=setTimeout((function(){return t.show()}),500)}])),this._addListeners(this._passiveListeners))}},{key:"_setupPointerExitEventsIfNeeded",value:function(){var t,e=this;if(!this._pointerExitEventsInitialized){this._pointerExitEventsInitialized=!0;var n=[];if(this._platformSupportsMouseEvents())n.push(["mouseleave",function(){return e.hide()}]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();var i=function(){clearTimeout(e._touchstartTimeout),e.hide(e._defaultOptions.touchendHideDelay)};n.push(["touchend",i],["touchcancel",i])}this._addListeners(n),(t=this._passiveListeners).push.apply(t,n)}}},{key:"_addListeners",value:function(t){var e=this;t.forEach((function(t){var n=Object(b.a)(t,2),i=n[0],r=n[1];e._elementRef.nativeElement.addEventListener(i,r,gt)}))}},{key:"_platformSupportsMouseEvents",value:function(){return!this._platform.IOS&&!this._platform.ANDROID}},{key:"_disableNativeGesturesIfNecessary",value:function(){var t=this.touchGestures;if("off"!==t){var e=this._elementRef.nativeElement,n=e.style;("on"===t||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName)&&(n.userSelect=n.msUserSelect=n.webkitUserSelect=n.MozUserSelect="none"),"on"!==t&&e.draggable||(n.webkitUserDrag="none"),n.touchAction="none",n.webkitTapHighlightColor="transparent"}}},{key:"position",get:function(){return this._position},set:function(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&this._tooltipInstance.show(0),this._overlayRef.updatePosition()))}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Object(ct.b)(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}},{key:"message",get:function(){return this._message},set:function(t){var e=this;this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular((function(){Promise.resolve().then((function(){e._ariaDescriber.describe(e._elementRef.nativeElement,e.message)}))})))}},{key:"tooltipClass",get:function(){return this._tooltipClass},set:function(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}}]),t}();wt.\u0275fac=function(t){return new(t||wt)(i.ac(it.b),i.ac(i.r),i.ac(ot.b),i.ac(i.fb),i.ac(i.L),i.ac(ht.a),i.ac(rt.b),i.ac(rt.c),i.ac(yt),i.ac(st.b,8),i.ac(_t,8))},wt.\u0275dir=i.Vb({type:wt,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]}),wt.ctorParameters=function(){return[{type:it.b},{type:i.r},{type:ot.b},{type:i.fb},{type:i.L},{type:ht.a},{type:rt.b},{type:rt.c},{type:void 0,decorators:[{type:i.y,args:[yt]}]},{type:st.b,decorators:[{type:i.M}]},{type:void 0,decorators:[{type:i.M},{type:i.y,args:[_t]}]}]},wt.propDecorators={position:[{type:i.C,args:["matTooltipPosition"]}],disabled:[{type:i.C,args:["matTooltipDisabled"]}],showDelay:[{type:i.C,args:["matTooltipShowDelay"]}],hideDelay:[{type:i.C,args:["matTooltipHideDelay"]}],touchGestures:[{type:i.C,args:["matTooltipTouchGestures"]}],message:[{type:i.C,args:["matTooltip"]}],tooltipClass:[{type:i.C,args:["matTooltipClass"]}]};var xt=function(){function t(e,n){Object(_.a)(this,t),this._changeDetectorRef=e,this._breakpointObserver=n,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new S.a,this._isHandset=this._breakpointObserver.observe(lt.b.Handset)}return Object(w.a)(t,[{key:"show",value:function(t){var e=this;this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout((function(){e._visibility="visible",e._showTimeoutId=null,e._markForCheck()}),t)}},{key:"hide",value:function(t){var e=this;this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),this._hideTimeoutId=setTimeout((function(){e._visibility="hidden",e._hideTimeoutId=null,e._markForCheck()}),t)}},{key:"afterHidden",value:function(){return this._onHide}},{key:"isVisible",value:function(){return"visible"===this._visibility}},{key:"ngOnDestroy",value:function(){this._onHide.complete()}},{key:"_animationStart",value:function(){this._closeOnInteraction=!1}},{key:"_animationDone",value:function(t){var e=t.toState;"hidden"!==e||this.isVisible()||this._onHide.next(),"visible"!==e&&"hidden"!==e||(this._closeOnInteraction=!0)}},{key:"_handleBodyInteraction",value:function(){this._closeOnInteraction&&this.hide(0)}},{key:"_markForCheck",value:function(){this._changeDetectorRef.markForCheck()}}]),t}();xt.\u0275fac=function(t){return new(t||xt)(i.ac(i.j),i.ac(lt.a))},xt.\u0275cmp=i.Ub({type:xt,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,e){1&t&&i.mc("click",(function(){return e._handleBodyInteraction()}),!1,i.Ac),2&t&&i.Ic("zoom","visible"===e._visibility?1:null)},decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(t,e){if(1&t&&(i.fc(0,"div",0),i.mc("@state.start",(function(){return e._animationStart()}))("@state.done",(function(t){return e._animationDone(t)})),i.rc(1,"async"),i.Mc(2),i.ec()),2&t){var n;i.Sb("mat-tooltip-handset",null==(n=i.sc(1,5,e._isHandset))?null:n.matches),i.vc("ngClass",e.tooltipClass)("@state",e._visibility),i.Qb(2),i.Nc(e.message)}},directives:[p.i],pipes:[p.b],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[mt.tooltipState]},changeDetection:0}),xt.ctorParameters=function(){return[{type:i.j},{type:lt.a}]};var kt=function t(){Object(_.a)(this,t)};function Ot(t,e){if(1&t){var n=i.gc();i.fc(0,"button",15),i.mc("click",(function(){return i.Dc(n),i.qc().freeFlightOff()})),i.fc(1,"mat-icon"),i.Mc(2,"chevron_left"),i.ec(),i.Mc(3," Exit "),i.fc(4,"span",16),i.Mc(5,"\xa0freeflight"),i.ec(),i.ec()}}function St(t,e){if(1&t){var n=i.gc();i.fc(0,"button",17),i.mc("click",(function(){return i.Dc(n),i.qc().freeFlightOn()})),i.fc(1,"mat-icon",18),i.Mc(2,"airplane_ticket"),i.ec(),i.fc(3,"span",16),i.Mc(4,"Skip to freeflight"),i.ec(),i.fc(5,"span",19),i.Mc(6,"Freeflight"),i.ec(),i.ec()}}function Ct(t,e){1&t&&(i.fc(0,"mat-icon"),i.Mc(1,"volume_up"),i.ec())}function At(t,e){1&t&&(i.fc(0,"mat-icon"),i.Mc(1,"volume_off"),i.ec())}function Mt(t,e){1&t&&(i.fc(0,"mat-icon"),i.Mc(1,"volume_up"),i.ec())}function Tt(t,e){1&t&&(i.fc(0,"mat-icon"),i.Mc(1,"volume_off"),i.ec())}function Et(t,e){1&t&&(i.fc(0,"mat-icon"),i.Mc(1,"music_note"),i.ec())}function Pt(t,e){1&t&&(i.fc(0,"mat-icon"),i.Mc(1,"music_off"),i.ec())}function Dt(t,e){if(1&t){var n=i.gc();i.fc(0,"div",20),i.mc("click",(function(t){return i.Dc(n),t.stopPropagation()}))("mouseleave",(function(){i.Dc(n);var t=i.qc();return t.soundOverlayVisible=!t.soundOverlayVisible})),i.fc(1,"button",21),i.mc("click",(function(){return i.Dc(n),i.qc().toggleSound()})),i.Lc(2,Mt,2,0,"mat-icon",13),i.rc(3,"async"),i.Lc(4,Tt,2,0,"mat-icon",13),i.rc(5,"async"),i.ec(),i.fc(6,"button",22),i.mc("click",(function(){return i.Dc(n),i.qc().toggleMusic()})),i.Lc(7,Et,2,0,"mat-icon",13),i.rc(8,"async"),i.Lc(9,Pt,2,0,"mat-icon",13),i.rc(10,"async"),i.ec(),i.ec()}if(2&t){var r=i.qc();i.Qb(1),i.vc("matTooltipPosition","left"),i.Qb(1),i.vc("ngIf",i.sc(3,6,r.ts.isSoundOn)),i.Qb(2),i.vc("ngIf",!i.sc(5,8,r.ts.isSoundOn)),i.Qb(2),i.vc("matTooltipPosition","left"),i.Qb(1),i.vc("ngIf",i.sc(8,10,r.ts.isMusicOn)),i.Qb(2),i.vc("ngIf",!i.sc(10,12,r.ts.isMusicOn))}}kt.\u0275mod=i.Yb({type:kt}),kt.\u0275inj=i.Xb({factory:function(t){return new(t||kt)},providers:[bt],imports:[[rt.a,p.c,it.e,at.c],at.c,ot.a]});var jt=function(t){return{open:t}},Rt=function(t){return{dark:t}},It=function(t,e){return{disable:t,withscroll:e}},Lt=function(){function t(t,e,n,i,r,a){this.dialog=t,this.ts=e,this.site=n,this.router=i,this.renderer=r,this.ga=a,this.title="soli",this.interactions=[],this.freeflightSkip=!1,this.soundOverlayVisible=!1,this.returnClicked=!1,this.menuOpen=!1,console.log("\n    \u2588\u2588\u2588\u2588\u2588\u2588\u2584\u2584\u2584\u2588\u2588\u2588\u2588\u2588\u2593\u2584\u2584\u2584    \u2593\u2588\u2588   \u2588\u2588\u2593                   \n  \u2592\u2588\u2588    \u2592\u2593  \u2588\u2588\u2592 \u2593\u2592\u2588\u2588\u2588\u2588\u2584   \u2592\u2588\u2588  \u2588\u2588\u2592                   \n  \u2591 \u2593\u2588\u2588\u2584  \u2592 \u2593\u2588\u2588\u2591 \u2592\u2592\u2588\u2588  \u2580\u2588\u2584  \u2592\u2588\u2588 \u2588\u2588\u2591                   \n    \u2592   \u2588\u2588\u2591 \u2593\u2588\u2588\u2593 \u2591\u2591\u2588\u2588\u2584\u2584\u2584\u2584\u2588\u2588 \u2591 \u2590\u2588\u2588\u2593\u2591                   \n  \u2592\u2588\u2588\u2588\u2588\u2588\u2588\u2592\u2592 \u2592\u2588\u2588\u2592 \u2591 \u2593\u2588   \u2593\u2588\u2588\u2592\u2591 \u2588\u2588\u2592\u2593\u2591                   \n  \u2592 \u2592\u2593\u2592 \u2592 \u2591 \u2592 \u2591\u2591   \u2592\u2592   \u2593\u2592\u2588\u2591 \u2588\u2588\u2592\u2592\u2592                    \n  \u2591 \u2591\u2592  \u2591 \u2591   \u2591     \u2592   \u2592\u2592 \u2593\u2588\u2588 \u2591\u2592\u2591                    \n  \u2591  \u2591  \u2591   \u2591       \u2591   \u2592  \u2592 \u2592 \u2591\u2591                     \n        \u2591               \u2591  \u2591 \u2591                        \n   \u2584\u2588\u2588\u2588\u2588\u2584  \u2588    \u2588\u2588 \u2588\u2588\u2580\u2588\u2588\u2588  \u2588\u2588\u2593\u2592\u2588\u2588\u2588\u2588\u2588  \u2588    \u2588\u2588  \u2588\u2588\u2588\u2588\u2588\u2588 \n  \u2592\u2588\u2588\u2580 \u2580\u2588  \u2588\u2588  \u2593\u2588\u2588\u2593\u2588\u2588 \u2592 \u2588\u2588\u2593\u2588\u2588\u2592\u2588\u2588\u2592  \u2588\u2588\u2592\u2588\u2588  \u2593\u2588\u2588\u2592\u2588\u2588    \u2592 \n  \u2592\u2593\u2588    \u2584\u2593\u2588\u2588  \u2592\u2588\u2588\u2593\u2588\u2588 \u2591\u2584\u2588 \u2592\u2588\u2588\u2592\u2588\u2588\u2591  \u2588\u2588\u2593\u2588\u2588  \u2592\u2588\u2588\u2591 \u2593\u2588\u2588\u2584   \n  \u2592\u2593\u2593\u2584 \u2584\u2588\u2588\u2593\u2593\u2588  \u2591\u2588\u2588\u2592\u2588\u2588\u2580\u2580\u2588\u2584 \u2591\u2588\u2588\u2592\u2588\u2588   \u2588\u2588\u2593\u2593\u2588  \u2591\u2588\u2588\u2591 \u2592   \u2588\u2588\u2592\n  \u2592 \u2593\u2588\u2588\u2588\u2580 \u2592\u2592\u2588\u2588\u2588\u2588\u2588\u2593\u2591\u2588\u2588\u2593 \u2592\u2588\u2588\u2591\u2588\u2588\u2591 \u2588\u2588\u2588\u2588\u2593\u2592\u2592\u2592\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2588\u2588\u2588\u2588\u2588\u2588\u2592\u2592\n  \u2591 \u2591\u2592 \u2592  \u2591\u2592\u2593\u2592 \u2592 \u2592\u2591 \u2592\u2593 \u2591\u2592\u2593\u2591\u2593 \u2591 \u2592\u2591\u2592\u2591\u2592\u2591\u2591\u2592\u2593\u2592 \u2592 \u2592\u2592 \u2592\u2593\u2592 \u2592 \u2591\n    \u2591  \u2592  \u2591\u2591\u2592\u2591 \u2591 \u2591  \u2591\u2592 \u2591 \u2592\u2591\u2592 \u2591 \u2591 \u2592 \u2592\u2591\u2591\u2591\u2592\u2591 \u2591 \u2591\u2591 \u2591\u2592  \u2591 \u2591\n  \u2591        \u2591\u2591\u2591 \u2591 \u2591  \u2591\u2591   \u2591 \u2592 \u2591 \u2591 \u2591 \u2592  \u2591\u2591\u2591 \u2591 \u2591\u2591  \u2591  \u2591  \n  \u2591 \u2591        \u2591       \u2591     \u2591     \u2591 \u2591    \u2591          \u2591  \n  \u2591                                                   \n  ")}return t.prototype.clicked=function(){this.soundOverlayVisible&&this.ga.event("sound_overlay_close","sound_overlay","Sound Overlay Close"),this.soundOverlayVisible=!1},t.prototype.ngOnInit=function(){this.freeflightSkip="true"===localStorage.getItem("freeflight")},t.prototype.toggleSoundOverlay=function(){this.soundOverlayVisible=!this.soundOverlayVisible,this.soundOverlayVisible?this.ga.event("sound_overlay_open","sound_overlay","Sound Overlay Open"):this.ga.event("sound_overlay_close","sound_overlay","Sound Overlay Close")},t.prototype.openMenu=function(){this.menuOpen=!0},t.prototype.closeMenu=function(){this.menuOpen=!1},t.prototype.openIllustration=function(){this.router.navigate(["/illustration"]),this.closeMenu()},t.prototype.openDev=function(){this.router.navigate(["/design-and-dev"]),this.closeMenu()},t.prototype.openContact=function(){this.dialog.open(J,{width:"600px",maxHeight:"100%",data:{},autoFocus:!1,panelClass:"contact-modal"});this.closeMenu()},t.prototype.toggleSound=function(){this.ts.onFirstContact.next(!0),this.ts.firstContact=!0,this.ts.isSoundOn.next(!this.ts.isSoundOn.value),this.ts.isMusicOn.next(this.ts.isSoundOn.value),this.ts.isSoundOn.value?this.ga.event("sound_overlay_allSoundsOn","sound_overlay","All sounds turned on with button"):this.ga.event("sound_overlay_allSoundsOff","sound_overlay","All sounds turned off with button")},t.prototype.toggleMusic=function(){this.ts.isMusicOn.next(!this.ts.isMusicOn.value),this.ts.isMusicOn.value?(this.ts.isSoundOn.next(!0),this.ga.event("sound_overlay_musicOn","sound_overlay","Music turned on with button")):this.ga.event("sound_overlay_musicOff","sound_overlay","Music turned off with button")},t.prototype.openAbout=function(){this.router.navigate(["about"]),this.closeMenu()},t.prototype.freeFlightOff=function(){var t=this;this.returnClicked=!0,this.freeflightSkip=!0,this.ga.event("button_click_return","button_click","Return button clicked"),this.site.forcePreloader=!0,setTimeout((function(){t.ts.stopFreeFlight(),t.site.scrolledEl.scrollTop=0,t.ts.anim.setState(0,!0,0),setTimeout((function(e){t.site.forcePreloader=!1,t.returnClicked=!1}),1e3)}),1e3)},t.prototype.freeFlightOn=function(){this.ga.event("button_click_directfreeflight","button_click","Directly to Freeflight clicked"),this.ts.startFreeFlight(),this.ts.anim.setState(null,!0,-1,this.ts.anim.stateOverrides[0])},t.\u0275fac=function(e){return new(e||t)(i.ac(h.b),i.ac($.a),i.ac(tt.a),i.ac(o.c),i.ac(i.S),i.ac(d.a))},t.\u0275cmp=i.Ub({type:t,selectors:[["app-root"]],hostBindings:function(t,e){1&t&&i.mc("click",(function(){return e.clicked()}),!1,i.Bc)},decls:40,vars:31,consts:[[1,"mobile-nav","d-flex","d-lg-none",3,"ngClass"],["mat-button","","aria-label","About button",1,"custom-button","dark",3,"click"],["mat-button","","aria-label","Illustration works button",1,"custom-button","dark",3,"click"],["mat-button","","aria-label","Development works button",1,"custom-button","dark",3,"click"],["mat-button","","aria-label","Contact button",1,"custom-button","dark",3,"click"],[1,"xmark","dark",3,"click"],[1,"toolbar",3,"ngClass"],["class","custom-button dark icon","mat-button","","aria-label","Return button",3,"click",4,"ngIf"],["class","custom-button dark icon","mat-button","","aria-label","Skip to Freeflight button",3,"click",4,"ngIf"],[1,"spacer","flex-grow-1"],[1,"d-none","d-lg-inline"],["mat-icon-button","","aria-label","Menu",1,"d-inline","d-lg-none",3,"click"],["mat-icon-button","","aria-label","Volume",3,"ngClass","mouseenter","click"],[4,"ngIf"],["class","soundoverlay",3,"click","mouseleave",4,"ngIf"],["mat-button","","aria-label","Return button",1,"custom-button","dark","icon",3,"click"],[1,"d-none","d-sm-inline"],["mat-button","","aria-label","Skip to Freeflight button",1,"custom-button","dark","icon",3,"click"],[1,"mr-2","ml-2"],[1,"d-inline","d-sm-none"],[1,"soundoverlay",3,"click","mouseleave"],["mat-icon-button","","aria-label","Volume","matTooltip","Toggle all sounds",3,"matTooltipPosition","click"],["mat-icon-button","","aria-label","Volume","matTooltip","Toggle music only",3,"matTooltipPosition","click"]],template:function(t,e){1&t&&(i.bc(0,"router-outlet"),i.bc(1,"app-loader"),i.fc(2,"div",0),i.fc(3,"button",1),i.mc("click",(function(){return e.openAbout()})),i.Mc(4,"About"),i.ec(),i.fc(5,"button",2),i.mc("click",(function(){return e.openIllustration()})),i.Mc(6,"Illustration"),i.ec(),i.fc(7,"button",3),i.mc("click",(function(){return e.openDev()})),i.Mc(8,"Design & Dev"),i.ec(),i.fc(9,"button",4),i.mc("click",(function(){return e.openContact()})),i.Mc(10,"Contact"),i.ec(),i.fc(11,"div",5),i.mc("click",(function(){return e.closeMenu()})),i.ec(),i.ec(),i.fc(12,"div",6),i.Lc(13,Ot,6,0,"button",7),i.rc(14,"async"),i.Lc(15,St,7,0,"button",8),i.rc(16,"async"),i.bc(17,"div",9),i.fc(18,"div",10),i.fc(19,"button",1),i.mc("click",(function(){return e.openAbout()})),i.Mc(20,"About"),i.ec(),i.fc(21,"button",2),i.mc("click",(function(){return e.openIllustration()})),i.Mc(22,"Illustration"),i.ec(),i.fc(23,"button",3),i.mc("click",(function(){return e.openDev()})),i.Mc(24,"Design & Dev"),i.ec(),i.fc(25,"button",4),i.mc("click",(function(){return e.openContact()})),i.Mc(26,"Contact"),i.ec(),i.ec(),i.fc(27,"button",11),i.mc("click",(function(){return e.openMenu()})),i.fc(28,"mat-icon"),i.Mc(29,"menu"),i.ec(),i.ec(),i.fc(30,"button",12),i.mc("mouseenter",(function(){return e.toggleSoundOverlay()}))("click",(function(t){return e.toggleSoundOverlay(),t.stopPropagation()})),i.rc(31,"async"),i.rc(32,"async"),i.rc(33,"async"),i.rc(34,"async"),i.Lc(35,Ct,2,0,"mat-icon",13),i.rc(36,"async"),i.Lc(37,At,2,0,"mat-icon",13),i.rc(38,"async"),i.ec(),i.Lc(39,Dt,11,14,"div",14),i.ec()),2&t&&(i.Qb(2),i.vc("ngClass",i.wc(24,jt,e.menuOpen)),i.Qb(10),i.vc("ngClass",i.wc(26,Rt,e.ts.dark>.5)),i.Qb(1),i.vc("ngIf",i.sc(14,8,e.ts.isFreeFlight)&&!e.returnClicked),i.Qb(2),i.vc("ngIf",!i.sc(16,10,e.ts.isFreeFlight)&&e.freeflightSkip&&e.ts.inited),i.Qb(15),i.vc("ngClass",i.xc(28,It,!i.sc(31,12,e.ts.siteEntered)&&!i.sc(32,14,e.ts.isFreeFlight),i.sc(33,16,e.ts.siteEntered)&&i.sc(34,18,e.ts.isFreeFlight))),i.Qb(5),i.vc("ngIf",i.sc(36,20,e.ts.isSoundOn)),i.Qb(2),i.vc("ngIf",!i.sc(38,22,e.ts.isSoundOn)),i.Qb(2),i.vc("ngIf",e.soundOverlayVisible))},directives:[o.e,nt,p.i,v.a,p.k,m.a,wt],pipes:[p.b],styles:["[_nghost-%COMP%]{overflow:hidden}[_nghost-%COMP%]   .mobile-nav[_ngcontent-%COMP%]{position:fixed;width:100%;background-color:#d0d0d0;top:0;z-index:1000;left:0;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:15px;transform:translateY(-100%);transition:transform .3s ease-in-out}[_nghost-%COMP%]   .mobile-nav[_ngcontent-%COMP%]   .xmark[_ngcontent-%COMP%]{position:absolute;top:15px;right:15px}[_nghost-%COMP%]   .mobile-nav[_ngcontent-%COMP%]   .custom-button[_ngcontent-%COMP%]{margin-bottom:10px}[_nghost-%COMP%]   .mobile-nav.open[_ngcontent-%COMP%]{transform:translateY(0)}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;z-index:501;display:flex;align-items:center;padding:.5em;pointer-events:none}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   button.disable[_ngcontent-%COMP%]{pointer-events:none;margin-right:-40px;opacity:0}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .custom-button[_ngcontent-%COMP%]{transition:color 2s,border-color 2s}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .soundoverlay[_ngcontent-%COMP%]{position:absolute;right:12px;top:12px;background-color:#000;border-radius:500px;display:flex;flex-direction:column}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .soundoverlay[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}[_nghost-%COMP%]   .toolbar.dark[_ngcontent-%COMP%]   .custom-button[_ngcontent-%COMP%]{color:#fff!important;border-color:#fff!important}[_nghost-%COMP%]   .toolbar.dark[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{color:#fff}[_nghost-%COMP%]   .toolbar.dark[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#fff}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{pointer-events:all;color:#000;transition:color 2s,margin-right .3s ease-in-out}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#000;transition:fill 2s}"]}),t}(),Nt=n("R1ws"),Ft=n("pKmL"),Bt=n("T5bk"),zt=n("NXyV"),Ut=n("z6cu"),Ht=n("xgIS"),Vt=n("GyhO"),Gt=n("HDdC"),Wt=n("KqfI"),Xt=new Gt.a(Wt.a);var qt=n("VRyK"),Yt=n("lJxs"),Qt=n("pLZG"),Kt=n("eIep"),Zt=n("oB13");var Jt=n("vkgz"),$t=n("Ji7U"),te=n("LK+K"),ee=n("D0XW");function ne(t){return t instanceof Date&&!isNaN(+t)}var ie=n("7o/Q"),re=n("WMd4");var ae=function(){function t(e,n){Object(_.a)(this,t),this.delay=e,this.scheduler=n}return Object(w.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new oe(t,this.delay,this.scheduler))}}]),t}(),oe=function(t){Object($t.a)(n,t);var e=Object(te.a)(n);function n(t,i,r){var a;return Object(_.a)(this,n),(a=e.call(this,t)).delay=i,a.scheduler=r,a.queue=[],a.active=!1,a.errored=!1,a}return Object(w.a)(n,[{key:"_schedule",value:function(t){this.active=!0,this.destination.add(t.schedule(n.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}},{key:"scheduleNotification",value:function(t){if(!0!==this.errored){var e=this.scheduler,n=new se(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}}},{key:"_next",value:function(t){this.scheduleNotification(re.a.createNext(t))}},{key:"_error",value:function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(re.a.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){for(var e=t.source,n=e.queue,i=t.scheduler,r=t.destination;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){var a=Math.max(0,n[0].time-i.now());this.schedule(t,a)}else this.unsubscribe(),e.active=!1}}]),n}(ie.a),se=function t(e,n){Object(_.a)(this,t),this.time=e,this.notification=n},ce="Service workers are disabled or not supported by this browser";var ue=function(){function t(e){if(Object(_.a)(this,t),this.serviceWorker=e,e){var n=Object(Ht.a)(e,"controllerchange").pipe(Object(Yt.a)((function(){return e.controller}))),i=Object(zt.a)((function(){return Object(k.a)(e.controller)})),r=Object(Vt.a)(i,n);this.worker=r.pipe(Object(Qt.a)((function(t){return!!t}))),this.registration=this.worker.pipe(Object(Kt.a)((function(){return e.getRegistration()})));var a=Object(Ht.a)(e,"message").pipe(Object(Yt.a)((function(t){return t.data}))).pipe(Object(Qt.a)((function(t){return t&&t.type}))).pipe(o?Object(Zt.a)((function(){return new S.a}),o):Object(Zt.a)(new S.a));a.connect(),this.events=a}else this.worker=this.events=this.registration=(s=ce,Object(zt.a)((function(){return Object(Ut.a)(new Error(s))})));var o,s}return Object(w.a)(t,[{key:"postMessage",value:function(t,e){return this.worker.pipe(Object(pt.a)(1),Object(Jt.a)((function(n){n.postMessage(Object.assign({action:t},e))}))).toPromise().then((function(){}))}},{key:"postMessageWithStatus",value:function(t,e,n){var i=this.waitForStatus(n),r=this.postMessage(t,e);return Promise.all([i,r]).then((function(){}))}},{key:"generateNonce",value:function(){return Math.round(1e7*Math.random())}},{key:"eventsOfType",value:function(t){return this.events.pipe(Object(Qt.a)((function(e){return e.type===t})))}},{key:"nextEventOfType",value:function(t){return this.eventsOfType(t).pipe(Object(pt.a)(1))}},{key:"waitForStatus",value:function(t){return this.eventsOfType("STATUS").pipe(Object(Qt.a)((function(e){return e.nonce===t})),Object(pt.a)(1),Object(Yt.a)((function(t){if(!t.status)throw new Error(t.error)}))).toPromise()}},{key:"isEnabled",get:function(){return!!this.serviceWorker}}]),t}(),le=function(){function t(e){if(Object(_.a)(this,t),this.sw=e,this.subscriptionChanges=new S.a,!e.isEnabled)return this.messages=Xt,this.notificationClicks=Xt,void(this.subscription=Xt);this.messages=this.sw.eventsOfType("PUSH").pipe(Object(Yt.a)((function(t){return t.data}))),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Object(Yt.a)((function(t){return t.data}))),this.pushManager=this.sw.registration.pipe(Object(Yt.a)((function(t){return t.pushManager})));var n=this.pushManager.pipe(Object(Kt.a)((function(t){return t.getSubscription()})));this.subscription=Object(qt.a)(n,this.subscriptionChanges)}return Object(w.a)(t,[{key:"requestSubscription",value:function(t){var e=this;if(!this.sw.isEnabled)return Promise.reject(new Error(ce));for(var n={userVisibleOnly:!0},i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),r=new Uint8Array(new ArrayBuffer(i.length)),a=0;a<i.length;a++)r[a]=i.charCodeAt(a);return n.applicationServerKey=r,this.pushManager.pipe(Object(Kt.a)((function(t){return t.subscribe(n)})),Object(pt.a)(1)).toPromise().then((function(t){return e.subscriptionChanges.next(t),t}))}},{key:"unsubscribe",value:function(){var t=this;if(!this.sw.isEnabled)return Promise.reject(new Error(ce));return this.subscription.pipe(Object(pt.a)(1),Object(Kt.a)((function(e){if(null===e)throw new Error("Not subscribed to push notifications.");return e.unsubscribe().then((function(e){if(!e)throw new Error("Unsubscribe failed!");t.subscriptionChanges.next(null)}))}))).toPromise()}},{key:"decodeBase64",value:function(t){return atob(t)}},{key:"isEnabled",get:function(){return this.sw.isEnabled}}]),t}();le.\u0275fac=function(t){return new(t||le)(i.jc(ue))},le.\u0275prov=i.Wb({token:le,factory:le.\u0275fac}),le.ctorParameters=function(){return[{type:ue}]};var he=function(){function t(e){if(Object(_.a)(this,t),this.sw=e,!e.isEnabled)return this.available=Xt,void(this.activated=Xt);this.available=this.sw.eventsOfType("UPDATE_AVAILABLE"),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED")}return Object(w.a)(t,[{key:"checkForUpdate",value:function(){if(!this.sw.isEnabled)return Promise.reject(new Error(ce));var t=this.sw.generateNonce();return this.sw.postMessageWithStatus("CHECK_FOR_UPDATES",{statusNonce:t},t)}},{key:"activateUpdate",value:function(){if(!this.sw.isEnabled)return Promise.reject(new Error(ce));var t=this.sw.generateNonce();return this.sw.postMessageWithStatus("ACTIVATE_UPDATE",{statusNonce:t},t)}},{key:"isEnabled",get:function(){return this.sw.isEnabled}}]),t}();he.\u0275fac=function(t){return new(t||he)(i.jc(ue))},he.\u0275prov=i.Wb({token:he,factory:he.\u0275fac}),he.ctorParameters=function(){return[{type:ue}]};var de=function t(){Object(_.a)(this,t)},fe=new i.A("NGSW_REGISTER_SCRIPT");function pe(t,e,n,r){return function(){if(Object(p.r)(r)&&"serviceWorker"in navigator&&!1!==n.enabled){var a;if(navigator.serviceWorker.addEventListener("controllerchange",(function(){null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})})),"function"==typeof n.registrationStrategy)a=n.registrationStrategy();else{var o=(n.registrationStrategy||"registerWhenStable:30000").split(":"),s=Object(Bt.a)(o),c=s[0],u=s.slice(1);switch(c){case"registerImmediately":a=Object(k.a)(null);break;case"registerWithDelay":a=ve(+u[0]||0);break;case"registerWhenStable":a=u[0]?Object(qt.a)(me(t),ve(+u[0])):me(t);break;default:throw new Error("Unknown ServiceWorker registration strategy: ".concat(n.registrationStrategy))}}t.get(i.L).runOutsideAngular((function(){return a.pipe(Object(pt.a)(1)).subscribe((function(){return navigator.serviceWorker.register(e,{scope:n.scope}).catch((function(t){return console.error("Service worker registration failed with:",t)}))}))}))}}}function ve(t){return Object(k.a)(null).pipe(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ee.a,n=ne(t)?+t-e.now():Math.abs(t);return function(t){return t.lift(new ae(n,e))}}(t))}function me(t){return t.get(i.g).isStable.pipe(Object(Qt.a)((function(t){return t})))}function ge(t,e){return new ue(Object(p.r)(e)&&!1!==t.enabled?navigator.serviceWorker:void 0)}var ye=function(){function t(){Object(_.a)(this,t)}return Object(w.a)(t,null,[{key:"register",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{ngModule:t,providers:[{provide:fe,useValue:e},{provide:de,useValue:n},{provide:ue,useFactory:ge,deps:[de,i.O]},{provide:i.d,useFactory:pe,deps:[i.B,fe,de,i.O],multi:!0}]}}}]),t}();ye.\u0275mod=i.Yb({type:ye}),ye.\u0275inj=i.Xb({factory:function(t){return new(t||ye)},providers:[le,he]});var be=function(){function t(){}return t.\u0275prov=i.Wb({token:t,factory:t.\u0275fac}),t.\u0275mod=i.Yb({type:t,bootstrap:[Lt]}),t.\u0275inj=i.Xb({factory:function(e){return new(e||t)},providers:[],imports:[[a.a,d.b.forRoot("G-7WH50KCDPS"),d.c,c,Nt.b,Ft.CoreModule,u.l,f.b,F,V,kt,v.b,m.b,h.c,y.b,G.b,ye.register("ngsw-worker.js",{enabled:r,registrationStrategy:"registerImmediately"})]]}),t}();r&&Object(i.ib)(),a.c().bootstrapModule(be).catch((function(t){return console.error(t)}))},zx2A:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return d}));var i=n("1OyB"),r=n("vuIU"),a=n("Ji7U"),o=n("LK+K"),s=n("7o/Q"),c=n("HDdC"),u=n("SeVD"),l=function(t){Object(a.a)(n,t);var e=Object(o.a)(n);function n(t){var r;return Object(i.a)(this,n),(r=e.call(this)).parent=t,r}return Object(r.a)(n,[{key:"_next",value:function(t){this.parent.notifyNext(t)}},{key:"_error",value:function(t){this.parent.notifyError(t),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(s.a),h=(s.a,function(t){Object(a.a)(n,t);var e=Object(o.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyError",value:function(t){this.destination.error(t)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(s.a));s.a;function d(t,e){if(!e.closed)return t instanceof c.a?t.subscribe(e):Object(u.a)(t)(e)}}},[[0,0]]]);