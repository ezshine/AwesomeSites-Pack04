!function(e,t,a,n,r){var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i="function"==typeof o.parcelRequire94c2&&o.parcelRequire94c2,s=i.cache||{},c="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function l(t,a){if(!s[t]){if(!e[t]){var n="function"==typeof o.parcelRequire94c2&&o.parcelRequire94c2;if(!a&&n)return n(t,!0);if(i)return i(t,!0);if(c&&"string"==typeof t)return c(t);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}f.resolve=function(a){var n=e[t][1][a];return null!=n?n:a},f.cache={};var d=s[t]=new l.Module(t);e[t][0].call(d.exports,f,d,d.exports,this)}return s[t].exports;function f(e){var t=f.resolve(e);return!1===t?{}:l(t)}}l.isParcelRequire=!0,l.Module=function(e){this.id=e,this.bundle=l,this.exports={}},l.modules=e,l.cache=s,l.parent=i,l.register=function(t,a){e[t]=[function(e,t){t.exports=a},{}]},Object.defineProperty(l,"root",{get:function(){return o.parcelRequire94c2}}),o.parcelRequire94c2=l;for(var d=0;d<t.length;d++)l(t[d]);var f=l(a);"object"==typeof exports&&"undefined"!=typeof module?module.exports=f:"function"==typeof define&&define.amd&&define((function(){return f}))}({hS2lx:[function(e,t,a){var n=e("@parcel/transformer-js/src/esmodule-helpers.js"),r=e("./resources/families-tps-en"),o=n.interopDefault(r),i=e("./resources/family-groups-tps-en"),s=n.interopDefault(i),c=e("./resources/subnotes-tps-en"),l=n.interopDefault(c),d=e("./resources/families-mit-it"),f=n.interopDefault(d),m=e("./components/tabbed-ff"),u=n.interopDefault(m),p=e("./components/matchPercentage"),h=n.interopDefault(p),g=e("./config/tps-config"),_=n.interopDefault(g),b=e("./config/mit-config"),v=n.interopDefault(b),y=e("./translations/translations"),w=n.interopDefault(y);!function(){var e,t,a,n,r,i,c,d,m,p,g,b,y,S,E,C,M,N,P={};function $(e){e.target.classList.contains("tabbed-tab")||L(),k(e.target.getAttribute("data-action"))}function L(){a.scrollIntoView({behavior:"smooth"})}function k(e){switch(e){case"you-may-also-like":m.classList.add("tabbed-tab--active"),p.classList.remove("tabbed-tab--active"),g.classList.remove("tabbed-tab--active"),y.classList.add("d-none"),S.classList.add("d-none"),b.classList.remove("d-none");break;case"similar-scents":p.classList.add("tabbed-tab--active"),m.classList.remove("tabbed-tab--active"),g.classList.remove("tabbed-tab--active"),b.classList.add("d-none"),y.classList.remove("d-none"),S.classList.add("d-none");break;case"find-your-match":g.classList.add("tabbed-tab--active"),m.classList.remove("tabbed-tab--active"),p.classList.remove("tabbed-tab--active"),b.classList.add("d-none"),S.classList.remove("d-none"),y.classList.add("d-none")}sessionStorage.setItem("tabbedFFLastTab",e),Q()}function T(){var T;window.tabbedComponentConfig?.enableTabbed?(console.log("Tabbed component is activating"),function(){const e={tps:_.default,mit:v.default},t={tps:{en1:o.default},mit:{it:f.default}},a={tps:{en1:s.default}},n={tps:{en1:l.default}},r=window.tabbedComponentConfig?.config||"tps",i=window.tabbedComponentConfig?.language||"en1";P.config=e[r]||_.default,P.lang=i,P.families=t[r][i],P.familyGroups=a[r][i],P.subnotes=n[r][i]}(),P.config.checkCorrectPage()&&(console.log("Tabbed component: The page is correct"),function(){if(!window.tabbedComponentConfig?.forbiddenBrands)return!0;for(var e=window.tabbedComponentConfig?.forbiddenBrands,t=window.location.href,a=0;a<e.length;a++)if(-1!==t.toLowerCase().indexOf(e[a].toLowerCase()))return!1;return!0}()&&(!function(){var e=document.createElement("div");e.className="buttons-block d-none";var t=document.createElement("div");t.className="buttons-block-upper";var a=document.createElement("button");a.className="buttons-block-upper-button",a.setAttribute("data-action","you-may-also-like"),a.innerText=(0,w.default)("buttons_block_ymalb"),t.appendChild(a);var n=document.createElement("div");n.className="buttons-block-separator",t.appendChild(n);var r=document.createElement("button");r.className="buttons-block-upper-button",r.setAttribute("data-action","similar-scents"),r.innerText=(0,w.default)("buttons_block_ssb"),t.appendChild(r),e.appendChild(t);var o=document.createElement("div");o.className="buttons-block-lower";var i=document.createElement("button");i.className="buttons-block-lower-button",i.setAttribute("data-action","find-your-match"),i.innerText=(0,w.default)("buttons_block_fymb"),o.appendChild(i);var s=document.createElement("div");s.className="buttons-block-lower-decorator-container";var c=document.createElement("div");c.className="buttons-block-lower-left-flower";var l=document.createElement("div");l.className="buttons-block-lower-right-flower",s.appendChild(c),s.appendChild(l),o.appendChild(s),e.appendChild(o),document.body.appendChild(e);var d=document.createElement("div");d.className="tabbed-container d-none";var f=document.createElement("div");f.className="tabbed-anchor",d.appendChild(f);var m=document.createElement("div");m.className="tabbed-tabs";var u=document.createElement("button");u.className="tabbed-tab",u.setAttribute("data-action","you-may-also-like"),u.innerText=(0,w.default)("tabbed_tabs_ymalt"),m.appendChild(u);var p=document.createElement("button");p.className="tabbed-tab tabbed-tab--active",p.setAttribute("data-action","similar-scents"),p.innerText=(0,w.default)("tabbed_tabs_sst"),m.appendChild(p);var h=document.createElement("button");h.className="tabbed-tab",h.setAttribute("data-action","find-your-match"),h.innerText=(0,w.default)("tabbed_tabs_fymt"),m.appendChild(h),d.appendChild(m);var g=document.createElement("div");g.className="tabbed-content";var _=document.createElement("div");_.className="tabbed-slot tabbed-slot-1 d-none",g.appendChild(_);var b=document.createElement("div");b.className="tabbed-slot tabbed-slot-2";var v=document.createElement("div");v.className="tabbed-carousel__container";var y=document.createElement("div");y.className="tabbed-carousel__spinner",v.appendChild(y),b.appendChild(v);var S=document.createElement("button");S.className="tabbed-carousel__slider-control tabbed-carousel__slider-control-left",S.id="tabbed-slider-left",S.setAttribute("data-direction","left"),S.innerText="<",b.appendChild(S);var E=document.createElement("button");E.className="tabbed-carousel__slider-control tabbed-carousel__slider-control-right",E.id="tabbed-slider-right",E.setAttribute("data-direction","right"),E.innerText=">",b.appendChild(E),g.appendChild(b);var C=document.createElement("div");C.className="tabbed-slot tabbed-slot-3 d-none",g.appendChild(C),d.appendChild(g),document.body.appendChild(d),F()}(),e=P.config.getGalleryCarouselContainer(),t=document.querySelector(".buttons-block"),a=document.querySelector(".tabbed-anchor"),n=P.config.getTabbedTargetPlace(),r=document.querySelector('.buttons-block-upper-button[data-action="you-may-also-like"]'),i=document.querySelector('.buttons-block-upper-button[data-action="similar-scents"]'),c=document.querySelector('.buttons-block-lower-button[data-action="find-your-match"]'),d=document.querySelector(".tabbed-container"),m=document.querySelector('.tabbed-tab[data-action="you-may-also-like"]'),p=document.querySelector('.tabbed-tab[data-action="similar-scents"]'),g=document.querySelector('.tabbed-tab[data-action="find-your-match"]'),b=document.querySelector(".tabbed-slot-1"),y=document.querySelector(".tabbed-slot-2"),S=document.querySelector(".tabbed-slot-3"),E=document.querySelector(".tabbed-carousel__container"),C=document.querySelector(".tabbed-carousel__spinner"),M=document.querySelector("#tabbed-slider-left"),N=document.querySelector("#tabbed-slider-right"),(T=document.createElement("link")).rel="stylesheet",T.href="https://fonts.googleapis.com/icon?family=Material+Icons",document.head.appendChild(T),function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),a=t.length;--a>=0&&t.item(a)!==this;);return a>-1});Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(Element.prototype.matches.call(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null})}(),P.rendering={},P.months={0:(0,w.default)("months_0"),1:(0,w.default)("months_1"),2:(0,w.default)("months_2"),3:(0,w.default)("months_3"),4:(0,w.default)("months_4"),5:(0,w.default)("months_5"),6:(0,w.default)("months_6"),7:(0,w.default)("months_7"),8:(0,w.default)("months_8"),9:(0,w.default)("months_9"),10:(0,w.default)("months_10"),11:(0,w.default)("months_11")},P.carouselPosition=0,P.currentSorting="most-recent",P.currentFilter="all_ratings",P.currentFragranceGtin="",P.matchPercentageReady=()=>{},P.scrollToTabbed=L,P.setActiveTab=k,function(){e&&e.appendChild(t);t.classList.remove("d-none")}(),setInterval((function(){const t=document.querySelector(".buttons-block");if(t)P.buttonsBlockCloned=t.cloneNode(!0);else if(e){var a=P.buttonsBlockCloned.cloneNode(!0);P.config.getGalleryCarouselContainer().appendChild(a),r=document.querySelector('.buttons-block-upper-button[data-action="you-may-also-like"]'),i=document.querySelector('.buttons-block-upper-button[data-action="similar-scents"]'),c=document.querySelector('.buttons-block-lower-button[data-action="find-your-match"]'),r.addEventListener("click",$),r.addEventListener("mouseenter",D),r.addEventListener("mouseleave",x),r.addEventListener("touchstart",x),i.addEventListener("click",$),i.addEventListener("mouseenter",D),i.addEventListener("mouseleave",x),i.addEventListener("touchstart",x),c.addEventListener("click",$)}}),1e3),function(){n&&n.appendChild(d);d.classList.remove("d-none")}(),r.addEventListener("click",$),r.addEventListener("mouseenter",D),r.addEventListener("mouseleave",x),r.addEventListener("touchstart",x),m.addEventListener("click",$),i.addEventListener("click",$),i.addEventListener("mouseenter",D),i.addEventListener("mouseleave",x),i.addEventListener("touchstart",x),p.addEventListener("click",$),c.addEventListener("click",$),g.addEventListener("click",$),M.addEventListener("click",j),N.addEventListener("click",j),E.addEventListener("mousedown",A),E.addEventListener("touchstart",A),E.addEventListener("mouseup",q),E.addEventListener("touchend",q),E.addEventListener("mouseleave",q),E.addEventListener("click",Y),window.addEventListener("resize",I,!0),window.onunload=function(){r.removeEventListener("click",$),r.removeEventListener("mouseenter",D),r.removeEventListener("mouseleave",x),r.removeEventListener("touchstart",x),m.removeEventListener("click",$),i.removeEventListener("click",$),i.removeEventListener("mouseenter",D),i.removeEventListener("mouseleave",x),i.removeEventListener("touchstart",x),p.removeEventListener("click",$),c.removeEventListener("click",$),g.removeEventListener("click",$),M.removeEventListener("click",j),N.removeEventListener("click",j),E.removeEventListener("mousedown",A),E.removeEventListener("touchstart",A),E.removeEventListener("mouseup",q),E.removeEventListener("touchend",q),E.removeEventListener("mouseleave",q),E.removeEventListener("click",Y),window.removeEventListener("resize",I,!0)},P.dragging={dragDown:!1,startY:0,startX:0},setInterval((function(){var e=P.config.getInsiderCarouselSelector();if(e&&!e.closest(".tabbed-slot-1")){b.appendChild(e);var t=document.querySelector(".ins-web-smart-recommender-main-wrapper")||document.querySelector(".ins-mobile-web-smart-recommender-main-wrapper");t&&(t.setAttribute("style","display: block !important"),F())}}),1e3),(0,u.default)(P),(0,h.default)(P),function(){const e=P.config.getBreadCrumbsText(),t=window.tabbedComponentConfig.nonPerfumeMustInclude,a=window.tabbedComponentConfig.nonPerfumeMustNotInclude;let n=!1;for(let a=0;a<t.length;a++)-1!==e.indexOf(t[a])&&(n=!0);for(let t=0;t<a.length;t++)-1!==e.indexOf(a[t])&&(n=!1);if(!n){const e=document.createElement("style");e.textContent='.buttons-block{display:none}.tabbed-tab[data-action="similar-scents"]{display:none}',document.head.append(e)}}(),G(P.config.getTokenUrl(),!1,(function(e){P.token=e.access_token,P.config.getGtinAsync(B)}),(function(){console.log("Error while getting token")}))))):console.log("Tabbed component is not enabled")}function F(){const e=document.querySelector(".buttons-block-upper-button[data-action=you-may-also-like]"),t=document.querySelector(".buttons-block-separator"),a=document.querySelector(".tabbed-tab[data-action=you-may-also-like]");e&&t&&a&&(P.config.getInsiderCarouselSelector()?(e.classList.remove("d-none"),t.classList.remove("d-none"),a.classList.remove("d-none"),k("you-may-also-like")):(e.classList.add("d-none"),t.classList.add("d-none"),a.classList.add("d-none")))}function D(e){e.target.classList.add("buttons-block-upper-button--hovered")}function x(e){setTimeout((function(){e.target.classList.remove("buttons-block-upper-button--hovered")}),100)}function A(e){P.dragging.dragDown=!0,e.changedTouches&&e.changedTouches.length?(P.dragging.startX=e.changedTouches[0].clientX,P.dragging.startY=e.changedTouches[0].clientY):(P.dragging.startX=e.clientX,P.dragging.startY=e.clientY)}function q(e){if(P.dragging.dragDown){var t,a;P.dragging.dragDown=!1,e.changedTouches?(t=e.changedTouches[0].clientX,a=e.changedTouches[0].clientY):(t=e.clientX,a=e.clientY);var n=Math.abs(t-P.dragging.startX);n<Math.abs(a-P.dragging.startY)||n<innerWidth/10||(t>P.dragging.startX?O("left"):O("right"))}}function R(e,t){e.style.webkitTransform=t,e.style.mozTransform=t,e.style.msTransform=t,e.style.oTransform=t,e.style.transform=t}function I(){P.carouselPosition=0,R(E,"translate(0, 0)"),Q()}function j(e){O(e.target.getAttribute("data-direction"))}function O(e){var t,a=document.querySelector(".tabbed-carousel__item"),n=a.getBoundingClientRect().width,r=parseInt(window.getComputedStyle(a,null).marginRight),o=-(P.tabbedRecommendations.length*(n+2*r)-y.getBoundingClientRect().width+2*parseInt(window.getComputedStyle(E,null).paddingRight));"left"===e&&(t=P.carouselPosition+n+2*r),"right"===e&&(t=P.carouselPosition-n-2*r),t>0&&(t=0),t<o&&(t=o),P.carouselPosition=t,R(E,"translate("+t+"px, 0)"),Q()}function G(e,t,a,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===this.readyState)if(200===this.status)try{a(JSON.parse(this.responseText))}catch(e){console.log("ERROR: ",e),n()}else n()},r.open("GET",e),r.setRequestHeader("Accept","application/json"),t&&r.setRequestHeader("Authorization","Bearer "+P.token),r.send()}function z(){G("https://fotw-ws.fragrancesoftheworld.com/api/MerchantFragrance/"+P.currentFragranceGtin+"/Recommendations",!0,(function(e){P.tabbedRecommendations=e.sort(((e,t)=>t.MatchPercentage-e.MatchPercentage)),P.tabbedRecommendations[0]&&(P.tabbedRecommendations[0].isTopMatch=!0);const t={Water:"00",Floral:"01","Soft Floral":"02","Floral Amber":"03","Soft Amber":"04",Amber:"05","Woody Amber":"06","Mossy Woods":"07","Dry Woods":"08",Citrus:"09",Green:"10","Aromatic Fougère":"11",Woods:"12",Fruity:"13"}[P.tabbedRecommendations[0]?.Family||""]||"00";const a=P.tabbedRecommendations[0]?.Gender||"u",n=function(e,t,a,n){try{const r=a[0].toLowerCase(),o=n[0].toLowerCase(),i=window.ffMerchandising?.[e]?.[t]||[],s=new Date;for(let e of i){const t=new Date(e.startDate),a=new Date(e.endDate);if(s>t&&s<a){if("u"===r&&"u"===o)return e.gtin;if("u"===r&&"u"!==o&&o===e.gender)return e.gtin;if(e.gender===r)return e.gtin}}return!1}catch(e){return!1}}("Families",t,P.fragranceDetails?.Gender||"u",a);n?G(`https://fotw-ws.fragrancesoftheworld.com/api/MerchantFragrance/${n}/Details`,!0,(function(e){e.isSponsored=!0,P.tabbedRecommendations=[e,...P.tabbedRecommendations],J()}),(function(){console.log("Error while getting sponsored fragrance details"),J()})):J()}),(function(){console.log("Error while getting recommendations")}))}function B(e){!function(e){P.currentFragranceGtin=e;G(`https://fotw-ws.fragrancesoftheworld.com/api/MerchantFragrance/${P.currentFragranceGtin}/Details`,!0,(function(e){P.fragranceDetails=e,z(),window.tabbedComponentConfig?.showNotesFamilyCard&&function(){if(!window.tabbedComponentConfig?.forbiddenNotesFamilyBrands)return!0;const e=window.tabbedComponentConfig?.forbiddenNotesFamilyBrands,t=window.location.href;for(var a=0;a<e.length;a++)if(-1!==t.toLowerCase().indexOf(e[a].toLowerCase()))return!1;return!0}()&&function(){if(!P.fragranceDetails)return void console.log("Fragrance Details are missing");let e=P.families.find((function(e){return e.title_en===P.fragranceDetails.Family}));e||(console.log("Family not found in list"),e=P.families[0]);const t=P.config.getProductDescriptionTitle();if(!t)return;const a=function(e,t){const a=document.createElement("div");a.className="nfCard nfCard--closed";const n=document.createElement("div");n.className="nfCard-container";const r=document.createElement("div");r.className="nfCard-family-card",r.setAttribute("data-action","family-on");const o=document.createElement("div");o.className="nfCard-family-card-title",o.innerText=`${e.title} ${(0,w.default)("nfcard_scent")}`;const i=document.createElement("div");i.className="nfCard-family-card-image",i.style.setProperty("background-image",`url("${e.image}")`);const s=document.createElement("div");s.className="nfCard-family-card-close",s.setAttribute("data-action","family-off");const c=document.createElement("i");c.className="material-icons 20 md-dark",c.style.fontSize="20px",c.innerText="close",s.appendChild(c),r.appendChild(s),r.appendChild(o),r.appendChild(i),n.appendChild(r);for(let e=0;e<t.length;e++){const a=document.createElement("div");a.className="nfCard-note-card",a.setAttribute("data-action","open-note"),a.setAttribute("data-note",t[e].Name),a.setAttribute("data-gender",P.fragranceDetails.Gender.substring(0,1).toLowerCase());const r=document.createElement("div");r.className="nfCard-note-card-title",r.innerText=`${t[e].Name_ol[P.lang]}\n${(0,w.default)("nfcard_note")}`;const o=document.createElement("div");o.className="nfCard-note-card-image",o.style.setProperty("background-image",`url("https://d1jqjf61hb3kk6.cloudfront.net/cnimages/${t[e].Image}")`),a.appendChild(o),a.appendChild(r),n.appendChild(a)}a.appendChild(n);const l=document.createElement("div");l.className="nfCard-description";const d=document.createElement("div");d.className="nfCard-description-title",d.innerText=`${e.title} ${(0,w.default)("nfcard_family")}`;const f=document.createElement("div");f.className="nfCard-description-text",f.innerText=e.description;const m=document.createElement("div");m.className="nfCard-description-image",m.style.setProperty("background-image",`radial-gradient(transparent, white 71%), url("${e.image}")`);const u=document.createElement("button");u.className="nfCard-description-button",u.innerText=(0,w.default)("nfcard_explore_family"),u.setAttribute("data-action","open-family"),u.setAttribute("data-family",e.title),u.setAttribute("data-gender",P.fragranceDetails.Gender.substring(0,1).toLowerCase());const p=document.createElement("div");p.className="nfCard-description-close",p.setAttribute("data-action","family-off");const h=document.createElement("i");return h.className="material-icons 20 md-dark",h.style.fontSize="20px",h.innerText="close",p.appendChild(h),l.appendChild(d),l.appendChild(f),l.appendChild(m),l.appendChild(u),l.appendChild(p),a.appendChild(l),a}(e,P.fragranceDetails.DominantConsolidatedIngredients_Images);a.addEventListener("click",H),t.innerText=(0,w.default)("nfcard_description_title");const n=function(){const e=document.createElement("div");return e.className="nfCard-short-description",e.innerText=(0,w.default)("nfcard_description_text"),e}(),r=P.config.getNfCardTargetElement();r.parentNode.insertBefore(n,r.nextSibling),n.parentNode.insertBefore(a,n.nextSibling)}()}),(function(){console.log("Error while getting fragrance details")}))}(e),P.matchPercentageReady()}function H(e){if(e.target.closest('[data-action="open-note"]')){const t=e.target.closest('[data-action="open-note"]');K(t.getAttribute("data-note"),t.getAttribute("data-gender"))}else{if(!e.target.closest('[data-action="open-family"]'))return e.target.closest('[data-action="family-off"]')?(e.stopPropagation(),void function(){const e=document.querySelector(".nfCard");if(!e)return;e.classList.remove("nfCard--opened"),e.classList.add("nfCard--closed")}()):e.target.closest('[data-action="family-on"]')?(e.stopPropagation(),void function(){const e=document.querySelector(".nfCard");if(!e)return;e.classList.remove("nfCard--closed"),e.classList.add("nfCard--opened")}()):void 0;{const t=e.target.closest('[data-action="open-family"]');X(t.getAttribute("data-family"),t.getAttribute("data-gender"))}}}function W(){var e=P.tabbedRecommendations.some((function(e){return!e.MerchDetails})),t=P.tabbedRecommendations.some((function(e){return!e.FeefoSummary})),a=P.tabbedRecommendations.some((function(e){return!e.FeefoReviews}));e||t||a||function(e){if(!0!==P.rendering.cards){P.rendering.cards=!0,C.classList.add("d-none"),function(){for(var e=E.children,t=0;t<e.length;t++){var a=e[t];a.classList.contains("tabbed-carousel__item")&&a.parentNode.removeChild(a)}}();for(var t=document.createDocumentFragment(),a=0;a<e.length;a++)V(e[a],a,t);E.appendChild(t),Q(),P.rendering.cards=!1}}(P.tabbedRecommendations)}function Y(e){var t,a;switch(e.target.getAttribute("data-action")){case"open-flip-side":t=e.target.getAttribute("data-gtin"),a='.tabbed-carousel__item[data-gtin="'+t+'"]',E.querySelector(a).querySelector(".tabbed-carousel__flipside-container").classList.remove("zero-size");break;case"close-flip-side":!function(e){var t='.tabbed-carousel__item[data-gtin="'+e+'"]';E.querySelector(t).querySelector(".tabbed-carousel__flipside-container").classList.add("zero-size")}(e.target.getAttribute("data-gtin"));break;case"sort-by-most-recent":P.currentSorting="most-recent",U(e.target.getAttribute("data-gtin"));break;case"sort-by-popular":P.currentSorting="popular",U(e.target.getAttribute("data-gtin"));break;case"open-reviews-filter":!function(e){var t='.tabbed-carousel__item[data-gtin="'+e+'"]';E.querySelector(t).querySelector(".tabbed-carousel__flipside-container .tabbed-carousel__flipside-reviews-dropdown-container").classList.toggle("d-none")}(e.target.getAttribute("data-gtin"));break;case"filter-reviews":P.currentFilter=e.target.getAttribute("data-option"),U(e.target.getAttribute("data-gtin"));break;case"open-family":X(e.target.getAttribute("data-family"),e.target.getAttribute("data-gender"));break;case"open-note":K(e.target.getAttribute("data-note"),e.target.getAttribute("data-gender"));break;default:return}}function U(e){if(!P.isFilteringSorting){P.isFilteringSorting=!0;var t='.tabbed-carousel__item[data-gtin="'+e+'"]',a=E.querySelector(t);a.querySelector(".tabbed-carousel__flipside-container .tabbed-carousel__flipside-reviews-dropdown-container").classList.add("d-none"),"most-recent"===P.currentSorting&&(a.querySelector(".tabbed-carousel__flipside-container .tabbed-carousel__flipside-reviews-most-recent").classList.add("tabbed-carousel__flipside-reviews-most-recent--active"),a.querySelector(".tabbed-carousel__flipside-container .tabbed-carousel__flipside-reviews-popular").classList.remove("tabbed-carousel__flipside-reviews-popular--active")),"popular"===P.currentSorting&&(a.querySelector(".tabbed-carousel__flipside-container .tabbed-carousel__flipside-reviews-most-recent").classList.remove("tabbed-carousel__flipside-reviews-most-recent--active"),a.querySelector(".tabbed-carousel__flipside-container .tabbed-carousel__flipside-reviews-popular").classList.add("tabbed-carousel__flipside-reviews-popular--active")),a.querySelectorAll(".tabbed-carousel__flipside-container .tabbed-carousel__flipside-reviews-dropdown-item").forEach((function(e){e.classList.remove("tabbed-carousel__flipside-reviews-dropdown-item--active"),e.getAttribute("data-option")===P.currentFilter&&e.classList.add("tabbed-carousel__flipside-reviews-dropdown-item--active")}));a.querySelector(".tabbed-carousel__flipside-container .tabbed-carousel__flipside-reviews-selector").childNodes[0].textContent={all_ratings:"All ratings","5_stars":"5 stars","4_stars":"4 stars","3_stars":"3 stars","2_stars":"2 stars","1_star":"1 star"}[P.currentFilter];for(var n={"5_stars":5,"4_stars":4,"3_stars":3,"2_stars":2,"1_star":1},r=P.tabbedRecommendations.find((function(t){return t.MerchantFragranceDetails.gtin===e})).FeefoReviews.reviews.slice().filter((function(e){return"all_ratings"===P.currentFilter||e.products[0].rating.rating===n[P.currentFilter]})).sort((function(e,t){if("most-recent"===P.currentSorting)return 0;var a=e.products[0].helpful_votes||0;return(t.products[0].helpful_votes||0)-a})),o=a.querySelector(".tabbed-carousel__flipside-reviews-container");o.lastElementChild;)o.removeChild(o.lastElementChild);var i=Z(r);o.appendChild(i),P.isFilteringSorting=!1}}function X(e,t){G("https://fotw-ws.fragrancesoftheworld.com/api/Families",!0,(function(a){!function(e,t,a){for(var n,r=0;r<e.length;r++)if(e[r].Name===t){n=e[r].ID;break}n&&(window.location.href="/fragrance-finder/family/"+n+"/"+a+"?hideBack=true")}(a,e,t)}),(function(){console.log("Error while getting recommendations")}))}function K(e,t){G(`https://fotw-ws.fragrancesoftheworld.com/api/ConsolidatedIngredients?q=${e}`,!0,(function(a){!function(e,t,a){var n;console.log("NOTE:",t);for(var r=0;r<e.length;r++)if(e[r].Name===t){n=e[r].ID;break}n&&(window.location.href="/fragrance-finder/note/"+n+"/"+a+"?hideBack=true")}(a,e,t)}),(function(){console.log("Error while getting notes")}))}function J(){!function(e){for(let t=0;t<e.length;t++)G(P.config.getMerchantInfoUrl(e[t]),!1,(function(e){P.tabbedRecommendations[t].MerchDetails=P.config.processMerchDetails(e),W()}),(function(){console.log("Error while getting merchant details"),P.tabbedRecommendations[t].MerchDetails="Error",W()}))}(P.tabbedRecommendations),function(e){for(let t=0;t<e.length;t++)G(P.config.getSummaryUrl(e[t]),!1,(function(e){P.tabbedRecommendations[t].FeefoSummary=e,W()}),(function(){console.log("Error while getting feefo summary"),P.tabbedRecommendations[t].FeefoSummary="Error",W()}))}(P.tabbedRecommendations),function(e){for(let t=0;t<e.length;t++)G(P.config.getReviewsUrl(e[t]),!1,(function(e){P.tabbedRecommendations[t].FeefoReviews=e,W()}),(function(){console.log("Error while getting feefo reviews"),P.tabbedRecommendations[t].FeefoReviews="Error",W()}))}(P.tabbedRecommendations)}function Q(){P.carouselPosition>=0?M.classList.add("d-none"):M.classList.remove("d-none");var e=document.querySelector(".tabbed-carousel__item");if(e){var t=e.getBoundingClientRect().width,a=parseInt(window.getComputedStyle(e,null).marginRight),n=-(P.tabbedRecommendations.length*(t+2*a)-y.getBoundingClientRect().width+2*parseInt(window.getComputedStyle(E,null).paddingRight));P.carouselPosition<=n?N.classList.add("d-none"):N.classList.remove("d-none")}}function V(e,t,a){var n=document.createElement("div");n.className="tabbed-carousel__item",e.isSponsored&&(n.className+=" tabbed-carousel__item--sponsored"),n.setAttribute("data-gtin",e.MerchantFragranceDetails.gtin);var r=function(e,t){var a=document.createDocumentFragment(),n=function(e){var t=document.createElement("div");if(e.isTopMatch)t.className="tabbed-carousel__item-top-match-label",t.innerText=(0,w.default)("product_label_topmatch");else if(e.isSponsored)t.className="tabbed-carousel__item-top-match-label",t.innerText=(0,w.default)("product_label_sponsored");else if(e.MatchPercentage>=50){t.className="tabbed-carousel__item-match-score";var a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttributeNS(null,"class","tabbed-carousel__item-match-ring"),a.setAttributeNS(null,"height","60"),a.setAttributeNS(null,"width","60");var n=document.createElementNS("http://www.w3.org/2000/svg","circle");n.setAttributeNS(null,"class","tabbed-carousel__item-match-ring--back-ring"),n.setAttributeNS(null,"cx","30"),n.setAttributeNS(null,"cy","30"),n.setAttributeNS(null,"r","23"),a.appendChild(n);var r=Number(e.MatchPercentage)||0,o=250-145*r/100,i=.01*r,s=document.createElementNS("http://www.w3.org/2000/svg","circle");s.setAttributeNS(null,"class","tabbed-carousel__item-match-ring--front-ring"),s.setAttributeNS(null,"cx","30"),s.setAttributeNS(null,"cy","30"),s.setAttributeNS(null,"r","23"),s.style.strokeDashoffset=o.toString(),s.style.opacity=i.toString(),a.appendChild(s),t.appendChild(a);var c=document.createElement("span");c.className="tabbed-carousel__item-match-ring--text",c.innerText=`${e.MatchPercentage}${(0,w.default)("product_label_match")}`,t.appendChild(c)}return t}(e);a.appendChild(n);var r=document.createElement("a");r.className="tabbed-carousel__item-image",r.href=e.MerchantFragranceDetails.link,r.target="_blank",r.rel="noopener noreferrer",r.style.backgroundImage="url(https://d1jqjf61hb3kk6.cloudfront.net/lg/"+e.Images.LargerImage+")",a.appendChild(r);var o=document.createElement("div");o.className="tabbed-carousel__item-brand",o.innerText=e.Brand,a.appendChild(o);var i=document.createElement("div");i.className="tabbed-carousel__item-title",i.innerText=e.FragranceName,a.appendChild(i);var s=document.createElement("div");s.className="tabbed-carousel__item-size",e.MerchDetails&&e.MerchDetails.volume?s.innerText=e.MerchDetails.volume:s.innerText="";a.appendChild(s);var c=document.createElement("div");c.className="tabbed-carousel__item-price-block";var l=document.createElement("span");l.className="tabbed-carousel__item-price",e.MerchDetails&&e.MerchDetails.mainPrice?l.innerText=e.MerchDetails.mainPrice:l.innerText="";c.appendChild(l);var d=document.createElement("span");d.className="tabbed-carousel__item-discount",e.MerchDetails&&e.MerchDetails.altPrice?d.innerText=`${(0,w.default)("product_tile_save")} ${e.MerchDetails.altPrice}`:d.innerText="";c.appendChild(d),a.appendChild(c);var f,m=document.createElement("div");m.className="tabbed-carousel__item-rating",f=e.FeefoSummary.meta?e.FeefoSummary.meta.count:0;if(0!==f){var u=document.createElement("div");u.className="tabbed-carousel__item-rating-stars-block";var p=ee(e.FeefoSummary.rating.rating);u.appendChild(p),m.appendChild(u);var h=document.createElement("button");h.className="tabbed-carousel__item-rating-read",h.setAttribute("data-gtin",e.MerchantFragranceDetails.gtin),h.setAttribute("data-action","open-flip-side"),h.innerText=1===f?(0,w.default)("product_tile_feefo_read_single",{numberOfReviews:f}):(0,w.default)("product_tile_feefo_read_multiple",{numberOfReviews:f}),m.appendChild(h)}a.appendChild(m);var g=document.createElement("a");g.className="tabbed-carousel__item-family",g.innerText=e.Family_ol[P.lang],g.setAttribute("data-action","open-family"),g.setAttribute("data-family",e.Family),g.setAttribute("data-gender",e.Gender.substring(0,1).toLowerCase()),a.appendChild(g);var _=document.createElement("div");_.className="tabbed-carousel__item-notes-title",_.innerText=(0,w.default)("product_tile_notes"),a.appendChild(_);var b=document.createElement("div");b.className="tabbed-carousel__item-notes-block";for(var v=0;v<e.DominantConsolidatedIngredients_Images.length;v++){var y=document.createElement("a");y.className="tabbed-carousel__item-note",y.setAttribute("data-action","open-note"),y.setAttribute("data-note",e.DominantConsolidatedIngredients_Images[v].Name),y.setAttribute("data-gender",e.Gender.substring(0,1).toLowerCase());var S=document.createElement("div");S.className="tabbed-carousel__item-note-image",S.style.backgroundImage="url(https://d1jqjf61hb3kk6.cloudfront.net/cnimages/"+e.DominantConsolidatedIngredients_Images[v].Image+")",y.appendChild(S);var E=document.createElement("div");E.className="tabbed-carousel__item-note-title",E.innerText=e.DominantConsolidatedIngredients_Images[v].Name_ol[P.lang],y.appendChild(E),b.appendChild(y)}return a.appendChild(b),a}(e);n.appendChild(r);var o=function(e){var t,a=document.createElement("div");a.className="tabbed-carousel__flipside-container zero-size",t=e.FeefoSummary.meta?e.FeefoSummary.meta.count:0;if(0===t)return a;var n=document.createElement("div");n.className="tabbed-carousel__flipside-header";var r=document.createElement("div");r.className="tabbed-carousel__flipside-perfume-thumbnail",r.style.backgroundImage="url(https://d1jqjf61hb3kk6.cloudfront.net/lg/"+e.Images.LargerImage+")",n.appendChild(r);var o=document.createElement("div");o.className="tabbed-carousel__flipside-header-block";var i=document.createElement("div");i.className="tabbed-carousel__flipside-header-block-upper";var s=document.createElement("div");s.className="tabbed-carousel__flipside-header-block-stars-block";var c=ee(e.FeefoSummary.rating.rating);s.appendChild(c),i.appendChild(s);var l=document.createElement("div");l.className="tabbed-carousel__flipside-header-block-rating",l.innerText=`${e.FeefoSummary.rating.rating}/5`;var d=document.createElement("span");d.className="tabbed-carousel__flipside-header-block-icon";var f=document.createElement("i");f.className="material-icons 10 md-dark ",f.style.fontSize="10px",f.innerText="arrow_drop_down",d.appendChild(f),l.appendChild(d),i.appendChild(l);var m=document.createElement("div");m.className="tabbed-carousel__flipside-header-block-logo",i.appendChild(m),o.appendChild(i);var u=document.createElement("div");u.className="tabbed-carousel__flipside-header-block-lower",u.innerHTML=(0,w.default)("product_feefo_counter",{numberOfReviews:t}),o.appendChild(u),n.appendChild(o);var p=document.createElement("div");p.className="tabbed-carousel__flipside-close-icon tabbed-carousel__flipside-close-icon-text";var h=document.createElement("i");h.className="material-icons 20 md-dark",h.style.fontSize="20px",h.innerText="close",h.setAttribute("data-action","close-flip-side"),h.setAttribute("data-gtin",e.MerchantFragranceDetails.gtin),p.appendChild(h),n.appendChild(p),a.appendChild(n);var g=document.createElement("div");g.className="tabbed-carousel__flipside-reviews";var _=document.createElement("div");_.className="tabbed-carousel__flipside-reviews-upper";var b=document.createElement("div");b.className="tabbed-carousel__flipside-reviews-total",b.innerHTML=(0,w.default)("product_feefo_view_reviews",{numberOfReviews:t}),_.appendChild(b);var v=document.createElement("div");v.className="tabbed-carousel__flipside-reviews-filter";var y=document.createElement("button");y.className="tabbed-carousel__flipside-reviews-most-recent tabbed-carousel__flipside-reviews-most-recent--active",y.innerText=(0,w.default)("product_feefo_most_recent"),y.setAttribute("data-action","sort-by-most-recent"),y.setAttribute("data-gtin",e.MerchantFragranceDetails.gtin),v.appendChild(y);var S=document.createElement("button");S.className="tabbed-carousel__flipside-reviews-popular",S.innerText=(0,w.default)("product_feefo_popular"),S.setAttribute("data-action","sort-by-popular"),S.setAttribute("data-gtin",e.MerchantFragranceDetails.gtin),v.appendChild(S),_.appendChild(v);var E=document.createElement("div");E.className="tabbed-carousel__flipside-reviews-filter-container";var C=document.createElement("div");C.className="tabbed-carousel__flipside-reviews-selector",C.innerText=(0,w.default)("product_feefo_rating_all"),C.setAttribute("data-action","open-reviews-filter"),C.setAttribute("data-gtin",e.MerchantFragranceDetails.gtin);var M=document.createElement("span");M.className="tabbed-carousel__flipside-reviews-selector-icon";var N=document.createElement("i");N.className="material-icons 20 md-dark",N.style.fontSize="20px",N.innerText="arrow_drop_down",N.setAttribute("data-action","open-reviews-filter"),N.setAttribute("data-gtin",e.MerchantFragranceDetails.gtin),M.appendChild(N),C.appendChild(M),E.appendChild(C);var P=document.createElement("div");P.className="tabbed-carousel__flipside-reviews-dropdown-container d-none";for(var $=[{value:"all_ratings",label:(0,w.default)("product_feefo_rating_all")},{value:"5_stars",label:(0,w.default)("product_feefo_rating_5")},{value:"4_stars",label:(0,w.default)("product_feefo_rating_4")},{value:"3_stars",label:(0,w.default)("product_feefo_rating_3")},{value:"2_stars",label:(0,w.default)("product_feefo_rating_2")},{value:"1_star",label:(0,w.default)("product_feefo_rating_1")}],L=0;L<$.length;L++){var k=document.createElement("div");k.className="tabbed-carousel__flipside-reviews-dropdown-item",0===L&&k.classList.add("tabbed-carousel__flipside-reviews-dropdown-item--active"),k.setAttribute("data-option",$[L].value),k.setAttribute("data-gtin",e.MerchantFragranceDetails.gtin),k.setAttribute("data-action","filter-reviews"),k.innerText=$[L].label,P.appendChild(k)}E.appendChild(P),_.appendChild(E),g.appendChild(_);var T=document.createElement("div");T.className="tabbed-carousel__flipside-reviews-container";var F=Z(e.FeefoReviews.reviews);T.appendChild(F),g.appendChild(T),a.appendChild(g);var D=document.createElement("div");return D.className="tabbed-carousel__flipside-fader",a.appendChild(D),a}(e);n.appendChild(o),a.appendChild(n)}function Z(e){var t=document.createDocumentFragment();if(0===e.length){var a=document.createElement("div");return a.className="tabbed-carousel__flipside-reviews-no-reviews",t.appendChild(a),t}for(var n=0;n<e.length;n++){var r=document.createElement("div");r.className="tabbed-carousel__flipside-review";var o,i=e[n].products[0].rating.rating||0,s=new Date(e[n].last_updated_date),c=P.months[s.getMonth()],l=s.getFullYear(),d=s.getDate()+" "+c+" "+l;o=e[n].customer&&e[n].customer.display_name?e[n].customer.display_name+" ":(0,w.default)("product_feefo_default_customer");var f=document.createElement("div");f.className="tabbed-carousel__flipside-review-rating";var m=ee(i);f.appendChild(m),r.appendChild(f);var u=document.createElement("div");u.className="tabbed-carousel__flipside-review-title";var p=document.createElement("span");p.className="tabbed-carousel__flipside-review-author",p.innerText=o,u.appendChild(p);var h=document.createElement("span");h.innerText=d,u.appendChild(h),r.appendChild(u);var g=document.createElement("div");g.className="tabbed-carousel__flipside-review-comment",g.innerText=e[n].products[0].review,r.appendChild(g),t.appendChild(r)}return t}function ee(e){var t=e/5*100||0,a=document.createElement("div");a.className="stars-container";var n=document.createElement("div");n.className="stars-hollow";for(var r=0;r<5;r++){var o=document.createElement("span");o.innerText="☆",n.appendChild(o)}a.appendChild(n);var i=document.createElement("div");i.className="stars-full",i.style.width=t+"%";for(var s=0;s<5;s++){var c=document.createElement("span");c.innerText="★",i.appendChild(c)}return a.appendChild(i),a}"loading"!==document.readyState?T():document.addEventListener("DOMContentLoaded",(function(){T()}))}()},{"./resources/families-tps-en":"6uY3Z","./resources/family-groups-tps-en":"cBFbn","./resources/subnotes-tps-en":"cHJTB","./resources/families-mit-it":"gFX8K","./components/tabbed-ff":"ll6O9","./components/matchPercentage":"bPl4w","./config/tps-config":"4rney","./config/mit-config":"4Y57x","./translations/translations":"cO8gF","@parcel/transformer-js/src/esmodule-helpers.js":"4doKB"}],"6uY3Z":[function(e,t,a){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(a),a.default=[{id:"00",title_en:"Water",title:"Water",description:"This Fragrance Family evokes the scent of a sea breeze, the freshness of a waterfall, or the ozonic note of wet air after a thunderstorm.",seeAll:"Explore water family",short_description:"aquatic, sea-breeze, cooling",image:"https://www.theperfumeshop.com/medias/sys_master/root/11550853955614/ff-family-water.png"},{id:"01",title_en:"Floral",title:"Floral",description:"This Fragrance Family captures the essence of living flowers in a bottle. From single flower scents to aromas of complex bouquets.",short_description:"fresh-cut flowers bloom",seeAll:"Explore floral family",image:"https://www.theperfumeshop.com/medias/sys_master/root/11550325178398/ff-family-floral.png"},{id:"02",title_en:"Soft Floral",title:"Soft Floral",description:"This Fragrance Family marries sparkling aldehydes with delicate flowers, while musk creates soft, often powdery, abstract florals.",short_description:"powdery, sheer, musky",seeAll:"Explore soft floral family",image:"https://www.theperfumeshop.com/medias/sys_master/root/11550328586270/ff-family-soft-floral.png"},{id:"03",title_en:"Floral Amber",title:"Floral Amber",description:"This Fragrance Family warms luminous flowers with spices, resins, and the sweetness of vanilla.",short_description:"warm, radiant, enveloping",seeAll:"Explore floral amber family",image:"https://www.theperfumeshop.com/medias/sys_master/root/11550325997598/ff-family-floral-amber.png"},{id:"04",title_en:"Soft Amber",title:"Soft Amber",description:"This Fragrance Family brings incense together with sweet spices and resins, to create soft and sensual fragrances.",short_description:"spicy, incense, opulent",seeAll:"Explore soft amber family",image:"https://www.theperfumeshop.com/medias/sys_master/root/11550327963678/ff-family-soft-amber.png"},{id:"05",title_en:"Amber",title:"Amber",description:"This Fragrance Family boasts blends of golden resins, opulent flowers, and sweet vanilla.",short_description:"sweet, balsamic, sumptuous",seeAll:"Explore amber family",image:"https://www.theperfumeshop.com/medias/sys_master/root/11550318690334/ff-family-amber.png"},{id:"06",title_en:"Woody Amber",title:"Woody Amber",description:"This Fragrance Family combines spicy amber accords with potent wood notes of patchouli, oud and sandalwood.",short_description:"potent woods, bold, complex",seeAll:"Explore woody amber family",image:"https://www.theperfumeshop.com/medias/sys_master/root/11550855528478/ff-family-woody-amber.png"},{id:"07",title_en:"Mossy Woods",title:"Mossy Woods",description:"This Fragrance Family blends velvety notes of oakmoss and patchouli with amber and citrus.",short_description:"velvety, earthy, deep",seeAll:"Explore mossy woods family",image:"https://www.theperfumeshop.com/medias/sys_master/root/11550327537694/ff-family-mossy-woods.png"},{id:"08",title_en:"Dry Woods",title:"Dry Woods",description:"This Fragrance Family brings the addition of dry, smoky leather and tobacco notes to woody fragrances.",short_description:"leathery, smoky, sophisticated",seeAll:"Explore dry woods family",image:"https://www.theperfumeshop.com/medias/sys_master/root/11550324555806/ff-family-dry-woods.png"},{id:"09",title_en:"Citrus",title:"Citrus",description:"This Fragrance Family exhibits clean, zesty, and refreshing notes of bergamot and lemon, mandarin and lime, oranges and grapefruit.",seeAll:"Explore citrus family",short_description:"invigorating, effervescent, clean",image:"https://www.theperfumeshop.com/medias/sys_master/root/11550323933214/ff-family-citrus.png"},{id:"10",title_en:"Green",title:"Green",description:"This Fragrance Family is reminiscent of a freshly mowed lawn. The sharp notes of fresh-cut grass, violet leaves or cucumber invigorate the senses.",seeAll:"Explore green family",short_description:"grassy, leafy, sharp",image:"https://www.theperfumeshop.com/medias/sys_master/root/11550326718494/ff-family-green.png"},{id:"11",title_en:"Aromatic Fougère",title:"Aromatic Fougère",description:"This Fragrance Family blends the earthy notes of lavender and geranium with zesty citrus, herbs, and woods.",short_description:"herbaceous, refreshing, enlivening",seeAll:"Explore aromatic fougère family",image:"https://www.theperfumeshop.com/medias/sys_master/root/11550322982942/ff-family-aromatic-fougere.png"},{id:"12",title_en:"Woods",title:"Woods",description:"This Fragrance Family captures sheer, traditional woody notes like cedar, patchouli, pine, sandalwood and vetiver.",short_description:"elegant woods, textured, evocative",seeAll:"Explore woody family",image:"https://www.theperfumeshop.com/medias/sys_master/root/11550854447134/ff-family-woods.png"},{id:"13",title_en:"Fruity",title:"Fruity",description:"This Fragrance Family brings a burst of orchard fruits and summer berries, while the addition of flowers can create delicious, fruity-floral cocktails.",short_description:"juicy, vibrant, delectable",seeAll:"Explore fruity family",image:"https://www.theperfumeshop.com/medias/sys_master/root/11550731862046/ff-family-fruity.png"}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"4doKB"}],"4doKB":[function(e,t,a){a.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},a.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},a.exportAll=function(e,t){return Object.keys(e).forEach((function(a){"default"===a||"__esModule"===a||t.hasOwnProperty(a)||Object.defineProperty(t,a,{enumerable:!0,get:function(){return e[a]}})})),t},a.export=function(e,t,a){Object.defineProperty(e,t,{enumerable:!0,get:a})}},{}],cBFbn:[function(e,t,a){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(a),a.default=[{id:"1",short_description:"fresh cut flowers and soft petals accented with spices that are reminiscent of a florist shop",image:"https://www.theperfumeshop.com/medias/sys_master/root/11627827953694/1-floral-group.png"},{id:"2",short_description:"resins, spices and opulent flowers that create warmth and sensuality",image:"https://www.theperfumeshop.com/medias/sys_master/root/11627829985310/2-ambery-group.png"},{id:"3",short_description:"fresh cut timber, velvety oakmoss and smoky woods; an array of textures",image:"https://www.theperfumeshop.com/medias/sys_master/root/11627831394334/3-woody-group.png"},{id:"4",short_description:"citrus, fruit, green herbs and marine note that refresh the senses",image:"https://www.theperfumeshop.com/medias/sys_master/root/11627831885854/4-fresh-group.png"}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"4doKB"}],cHJTB:[function(e,t,a){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(a),a.default=[{id:"2",image:"https://www-uat-perfumeshop.uk.aswatson.net/medias/sys_master/root/10652895608862/2-green-subnote.png"},{id:"3",image:"https://www-uat-perfumeshop.uk.aswatson.net/medias/sys_master/root/10652895903774/3-fruity-subnote.png"},{id:"4",image:"https://www-uat-perfumeshop.uk.aswatson.net/medias/sys_master/root/10652896198686/4-water-subnote.png"},{id:"5",image:"https://www-uat-perfumeshop.uk.aswatson.net/medias/sys_master/root/10652896493598/5-white-flower-subnote.png"},{id:"6",image:"https://www-uat-perfumeshop.uk.aswatson.net/medias/sys_master/root/10652896788510/6-rose-subnote.png"},{id:"7",image:"https://www-uat-perfumeshop.uk.aswatson.net/medias/sys_master/root/10652897083422/7-tuberose-subnote.png"},{id:"8",image:"https://www-uat-perfumeshop.uk.aswatson.net/medias/sys_master/root/10652897378334/8-lily-of-the-valley-subnote.png"},{id:"9",image:"https://www-uat-perfumeshop.uk.aswatson.net/medias/sys_master/root/10652897673246/9-gardenia-subnote.png"},{id:"10",image:"https://www-uat-perfumeshop.uk.aswatson.net/medias/sys_master/root/10652897968158/10-jasmine-subnote.png"},{id:"11",image:"https://www-uat-perfumeshop.uk.aswatson.net/medias/sys_master/root/10652898263070/11-orange-blossom-subnote.png"},{id:"12",image:"https://www-uat-perfumeshop.uk.aswatson.net/medias/sys_master/root/10652898557982/12-violet-subnote.png"},{id:"13",image:"https://www-uat-perfumeshop.uk.aswatson.net/medias/sys_master/root/10652898918430/13-aromatic-subnote.png"},{id:"14",image:"https://www-uat-perfumeshop.uk.aswatson.net/medias/sys_master/root/10652899213342/14-citrus-subnote.png"},{id:"15",image:"https://www-uat-perfumeshop.uk.aswatson.net/medias/sys_master/root/10652899508254/15-spicy-subnote.png"},{id:"16",image:"https://www-uat-perfumeshop.uk.aswatson.net/medias/sys_master/root/10652899803166/16-citrus-fruity-subnote.png"},{id:"18",image:"https://www-uat-perfumeshop.uk.aswatson.net/medias/sys_master/root/10652900098078/18-bouquet-subnote.png"},{id:"19",image:"https://www-uat-perfumeshop.uk.aswatson.net/medias/sys_master/root/10652900392990/19-lavender-subnote.png"},{id:"20",image:"https://www-uat-perfumeshop.uk.aswatson.net/medias/sys_master/root/10652900687902/20-ylang-ylang-subnote.png"},{id:"21",image:"https://www-uat-perfumeshop.uk.aswatson.net/medias/sys_master/root/10652901048350/21-freesia-subnote.png"},{id:"22",image:"https://www-uat-perfumeshop.uk.aswatson.net/medias/sys_master/root/10652901343262/22-honeysuckle-subnote.png"},{id:"23",image:"https://www-uat-perfumeshop.uk.aswatson.net/medias/sys_master/root/10652901638174/23-lily-subnote.png"},{id:"24",image:"https://www-uat-perfumeshop.uk.aswatson.net/medias/sys_master/root/10652901933086/24-mimosa-subnote.png"},{id:"25",image:"https://www-uat-perfumeshop.uk.aswatson.net/medias/sys_master/root/10652902227998/25-sweet-pea-subnote.png"},{id:"27",image:"https://www-uat-perfumeshop.uk.aswatson.net/medias/sys_master/root/10652902522910/27-iris-subnote.png"},{id:"28",image:"https://www-uat-perfumeshop.uk.aswatson.net/medias/sys_master/root/10652902817822/28-lime-blossom-subnote.png"},{id:"29",image:"https://www-uat-perfumeshop.uk.aswatson.net/medias/sys_master/root/10652903112734/29-carnation-subnote.png"},{id:"31",image:"https://www-uat-perfumeshop.uk.aswatson.net/medias/sys_master/root/10652903407646/31-lilac-subnote.png"},{id:"34",image:"https://www-uat-perfumeshop.uk.aswatson.net/medias/sys_master/root/10652903866398/34-magnolia-subnote.png"},{id:"35",image:"https://www-uat-perfumeshop.uk.aswatson.net/medias/sys_master/root/10652904456222/36-gourmand-subnote.png"}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"4doKB"}],gFX8K:[function(e,t,a){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(a),a.default=[{id:"00",title_en:"Acqua",title:"Acquatico",description:"Questa famiglia di fragranze evoca il profumo della brezza marina, la freschezza di una cascata o la nota dell'aria umida appena dopo un temporale.",seeAll:"Scopri ora",image:"https://7phto9ik4ok657jhjnu7ewe.blob.core.windows.net/fragrance-finder/MIT/tabbed-component/images/families/ff-family-water.png"},{id:"01",title_en:"Floral",title:"Floreale",description:"Questa famiglia di fragranze racchiude tutta l'essenza dei fiori freschi in una boccetta, comprendendo sia i sentori dei singoli fiori sia gli aromi dei bouqet più complessi.",seeAll:"Scopri ora",image:"https://7phto9ik4ok657jhjnu7ewe.blob.core.windows.net/fragrance-finder/MIT/tabbed-component/images/families/ff-family-floral.png"},{id:"02",title_en:"Soft Floral",title:"Floreale Delicato",description:"Questa famiglia di fragranze sposa aldeidi scintillanti con fiori delicati, mentre il muschio crea un sentore di fiori astratti morbidi, spesso talcati.",seeAll:"Scopri ora",image:"https://7phto9ik4ok657jhjnu7ewe.blob.core.windows.net/fragrance-finder/MIT/tabbed-component/images/families/ff-family-soft-floral.png"},{id:"03",title_en:"Floral Amber",title:"Ambrato Floreale",description:"Questa famiglia di fragranze riesce a miscelare l'odore di fiori con spezie, resine e la dolcezza della vaniglia.",seeAll:"Scopri ora",image:"https://7phto9ik4ok657jhjnu7ewe.blob.core.windows.net/fragrance-finder/MIT/tabbed-component/images/families/ff-family-floral-amber.png"},{id:"04",title_en:"Soft Amber",title:"Ambrato Delicato",description:"Questa famiglia di fragranze unisce l'incenso alle spezie dolci e alle resine, per creare delle fragranze morbide e sensuali.",seeAll:"Scopri ora",image:"https://7phto9ik4ok657jhjnu7ewe.blob.core.windows.net/fragrance-finder/MIT/tabbed-component/images/families/ff-family-soft-amber.png"},{id:"05",title_en:"Amber",title:"Ambrato",description:"Questa famiglia di fragranze vanta miscele di resine dorate, fiori opulenti e vaniglia dolce.",seeAll:"Scopri ora",image:"https://7phto9ik4ok657jhjnu7ewe.blob.core.windows.net/fragrance-finder/MIT/tabbed-component/images/families/ff-family-amber.png"},{id:"06",title_en:"Woody Amber",title:"Ambrato Legnoso",description:"Questa famiglia di fragranze combina gli accordi speziati dell' ambra con le potenti note legnose del patchouli, dell'oud e del legno di sandalo.",seeAll:"Scopri ora",image:"https://7phto9ik4ok657jhjnu7ewe.blob.core.windows.net/fragrance-finder/MIT/tabbed-component/images/families/ff-family-woody-amber.png"},{id:"07",title_en:"Mossy Woods",title:"Legnoso Muschiato",description:"Questa famiglia di fragranze fonde le note vellutate del muschio e della quercia, insieme al patchouli con ambra e agrumi.",seeAll:"Scopri ora",image:"https://7phto9ik4ok657jhjnu7ewe.blob.core.windows.net/fragrance-finder/MIT/tabbed-component/images/families/ff-family-mossy-woods.png"},{id:"08",title_en:"Dry Woods",title:"Legnoso Secco",description:"Questa famiglia di fragranze apporta l'aggiunta di note secche, affumicate di cuoio e tabacco alle fragranze legnose.",seeAll:"Scopri ora",image:"https://7phto9ik4ok657jhjnu7ewe.blob.core.windows.net/fragrance-finder/MIT/tabbed-component/images/families/ff-family-dry-woods.png"},{id:"09",title_en:"Citrus",title:"Agrumato",description:"Questa famiglia di fragranze sprigiona note fresche, agrumate e rinfrescanti di bergamotto e limone, mandarino e lime, arancia e pompelmo.",seeAll:"Scopri ora",image:"https://7phto9ik4ok657jhjnu7ewe.blob.core.windows.net/fragrance-finder/MIT/tabbed-component/images/families/ff-family-citrus.png"},{id:"10",title_en:"Green",title:"Note Verdi",description:"Questa famiglia di fragranze ricorda un prato appena tagliato. Le note acute dell'erba fresca, le foglie di violetta e il cetriolo rinvigoriscono i sensi.",seeAll:"Scopri ora",image:"https://7phto9ik4ok657jhjnu7ewe.blob.core.windows.net/fragrance-finder/MIT/tabbed-component/images/families/ff-family-green.png"},{id:"11",title_en:"Aromatic Fougère",title:"Felce Aromatica",description:"Questa famiglia di fragranze fonde al suo interno le note terrose della lavanda e del geranio con gli agrumi, le erbe aromatiche e il legno.",seeAll:"Scopri ora",image:"https://7phto9ik4ok657jhjnu7ewe.blob.core.windows.net/fragrance-finder/MIT/tabbed-component/images/families/ff-family-aromatic-fougere.png"},{id:"12",title_en:"Woods",title:"Legnoso",description:"Questa famiglia di fragranze cattura le note legnose e tradizionali del cedro, del patchouli, del pino, del legno di sandalo e del vetiver.",seeAll:"Scopri ora",image:"https://7phto9ik4ok657jhjnu7ewe.blob.core.windows.net/fragrance-finder/MIT/tabbed-component/images/families/ff-family-woods.png"},{id:"13",title_en:"Fruity",title:"Fruttato",description:"Questa famiglia di fragranze sprigiona un'esplosione di frutta e bacche estive, grazie all'aggiunta dei fiori, riesce a creare dei deliziosi cocktail fruttati-floreali.",seeAll:"Scopri ora",image:"https://7phto9ik4ok657jhjnu7ewe.blob.core.windows.net/fragrance-finder/MIT/tabbed-component/images/families/ff-family-fruity.png"}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"4doKB"}],ll6O9:[function(e,t,a){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(a);var r=e("../translations/translations"),o=n.interopDefault(r),i=e("../utils/drawPie"),s=n.interopDefault(i);a.default=function(e){const t=e.config.getMaxSelectedPerfumes();let a,n="",r="",i=!0,c=null;const l="INITIAL",d="GETTING_RECOMMENDATIONS",f="GETTING_RECOMMENDATIONS_DETAILS",m="FINISHED",u="CLOSED",p="CREATING_PROFILE",h="SAVING_PROFILE",g="EDITING_PROFILE",_="CLOSED",b="BASED_ON_SUGGESTIONS",v="VIEW_DETAILS",y="LEFT",w="RIGHT",S="MOST_RECENT",E="POPULAR",C="RATING_ALL",M="RATING_5",N="RATING_4",P="RATING_3",$="RATING_2",L="RATING_1",k="CLOSED",T="OPEN",F="CLOSED",D="OPEN",x="CLOSED",A="OPEN",q={slide0:{d:4,m:3},slide1:{d:4,m:3},slide2:{d:4,m:3},slide3:{d:4,m:3}};function R(){const t=document.querySelector(".tabbed-ff-container"),s=document.createElement("div");s.className="tabbed-ff-search__container";const l=document.createElement("div");l.className="tabbed-ff-search__intro-selector";const f=document.createElement("div");f.className="tabbed-ff-search__intro";const m=document.createElement("div");m.className="tabbed-ff-search__intro-text";const h=document.createElement("div");h.className="tabbed-ff-search__intro-infobutton",h.addEventListener("click",(()=>{e.ffMatcherProfileDetailsState=v,W()}));const g=document.createElement("div");g.className="tabbed-ff-search__intro-infobutton-label",g.innerText="i",h.appendChild(g);const S=function(){const e="tabbed-ff-search__profile-selector",t=document.createElement("div");t.className=`${e} d-none`;const a=document.createElement("div");return a.className=`${e}-container`,t.appendChild(a),t}(),E=document.createElement("div");E.className="tabbed-ff-search__selected-row";const C=function(){const e=document.createElement("div");e.className="tabbed-ff-search__selected-search-new-button",e.addEventListener("click",oe);const t=document.createElement("span");t.className="tabbed-ff-search__selected-search-new-button-text",t.innerText=(0,o.default)("ff_matcher_new_search");const a=document.createElement("div");a.className="tabbed-ff-search__selected-search-new-button-icon-container";const n=document.createElement("i");return n.className="material-icons md-24 md-dark tabbed-ff-search__selected-search-new-button-search",n.innerText="search",e.appendChild(t),a.appendChild(n),e.appendChild(a),e}(),M=document.createElement("div");M.className="tabbed-ff-search__selected",M.addEventListener("click",ye);const N=document.createElement("div");N.className="tabbed-ff-search__selected-desktop";const P=function(){const t="tabbed-ff-search__selected-add-new-button",a=document.createElement("div");a.className=`${t} d-none`,a.addEventListener("click",(()=>{return e.ffMatcherSearchAllowed=!0,O(),(t=document.querySelector(".tabbed-ff-search__input"))&&t.focus(),void j();var t}));const n=document.createElement("span");n.className=`${t}-text`,n.innerText=(0,o.default)("ff_matcher_add_new");const r=document.createElement("i");return r.className="material-icons md-24 md-dark tabbed-ff-search__selected-add-new-button-icon",r.innerText="add_circle_outline",a.appendChild(n),a.appendChild(r),a}(),$=document.createElement("div");$.className="tabbed-ff-search__field-container";const L=document.createElement("div");L.className="tabbed-ff-search__field-icon-container";const k=document.createElement("i");k.className="material-icons md-24 md-dark",k.innerText="search";const T=document.createElement("input");T.className="tabbed-ff-search__input",T.setAttribute("placeholder",(0,o.default)("ff_matcher_search_placeholder"));const F=function(){const e=document.createElement("div");e.className="tabbed-ff-search__carousel";const t=document.createElement("div");t.className="tabbed-ff-search__carousel-button-left",t.innerText="<",t.addEventListener("click",(()=>Ce(y)));const a=document.createElement("div");a.className="tabbed-ff-search__carousel-button-right",a.innerText=">",a.addEventListener("click",(()=>Ce(w)));const n=document.createElement("div");n.className="tabbed-ff-search__carousel-spinner";const r=document.createElement("div");r.className="tabbed-ff-search__carousel-items",r.addEventListener("mousedown",Pe),r.addEventListener("touchstart",Pe),r.addEventListener("mouseup",$e),r.addEventListener("touchend",$e),r.addEventListener("mouseleave",$e),window.addEventListener("resize",Ne,!0);const o=document.createElement("div");return o.className="tabbed-ff-search__carousel-items-container",r.appendChild(o),e.appendChild(r),e.appendChild(t),e.appendChild(a),e.appendChild(n),e}(),D=document.createElement("button");D.className="tabbed-ff-search__button",D.innerText=(0,o.default)("ff_matcher_find_match"),D.addEventListener("click",Ae),f.appendChild(h),f.appendChild(m),l.appendChild(f),l.appendChild(S),s.appendChild(l),E.appendChild(M),E.appendChild(N),E.appendChild(C),E.appendChild(P),s.appendChild(E),$.appendChild(T),L.appendChild(k),$.appendChild(L),s.appendChild($),s.appendChild(F),s.appendChild(D),t.appendChild(s),document.body.appendChild(function(){const t="tabbed-ff-search__save-profile",a=document.createElement("div");a.className=`${t} d-none`;const n=document.createElement("div");n.className=`${t}-card`;const r=document.createElement("div");r.className=`${t}-heading-row`;const i=document.createElement("div");i.className=`${t}-back-to-profile-details`,i.innerText="<",i.addEventListener("click",(()=>{e.ffMatcherSaveProfileState=u,e.ffMatcherProfileDetailsState=b,W(),X()}));const s=document.createElement("div");s.className=`${t}-heading`,s.innerText=(0,o.default)("ff_matcher_save_your_scent_profile");const c=document.createElement("div");c.className=`${t}-intro`,c.innerText=(0,o.default)("ff_matcher_intro_0");const l=document.createElement("div");l.className=`${t}-selected-row`;const f=document.createElement("div");f.className=`${t}-selected-list`;const m=document.createElement("span");m.className=`${t}-edit-favourites`,m.innerText=(0,o.default)("ff_matcher_edit_your_favourites"),m.addEventListener("click",de);const p=document.createElement("div");p.className=`${t}-name-heading`,p.innerText=(0,o.default)("ff_matcher_enter_name");const h=document.createElement("input");h.className=`${t}-name-input`,h.placeholder=(0,o.default)("ff_matcher_name_placeholder"),setInterval((()=>{e.ffMatcherProfileForm.name=h.value}),300);const g=document.createElement("div");g.className=`${t}-gender-heading`,g.innerText=(0,o.default)("ff_matcher_this_profile_is_for");const _=document.createElement("div");_.className=`${t}-gender-list`;const v=document.createElement("div");v.className=`${t}-gender-item`,v.setAttribute("data-gender","m"),v.addEventListener("click",(()=>se("m")));const y=document.createElement("div");y.className=`${t}-gender-checkbox`;const w=document.createElement("div");w.className=`${t}-gender-label`,w.innerText=(0,o.default)("ff_matcher_gender_male");const S=document.createElement("div");S.className=`${t}-gender-item`,S.setAttribute("data-gender","f"),S.addEventListener("click",(()=>se("f")));const E=document.createElement("div");E.className=`${t}-gender-checkbox`;const C=document.createElement("div");C.className=`${t}-gender-label`,C.innerText=(0,o.default)("ff_matcher_gender_female");const M=document.createElement("div");M.className=`${t}-gender-item`,M.setAttribute("data-gender","u"),M.addEventListener("click",(()=>se("u")));const N=document.createElement("div");N.className=`${t}-gender-checkbox`;const P=document.createElement("div");P.className=`${t}-gender-label`,P.innerText=(0,o.default)("ff_matcher_gender_both");const $=document.createElement("button");$.className=`${t}-find-a-match`,$.innerText=(0,o.default)("ff_matcher_find_match"),$.addEventListener("click",(()=>{pe(),ve(),e.ffMatcherSaveProfileState=u,e.ffMatcherState=d,X(),H(),j(),O(),je(),I(),z(),ne(),B(),J()}));const L=document.createElement("button");L.className=`${t}-save-a-profile`,L.innerText=(0,o.default)("ff_matcher_save_profile"),L.addEventListener("click",(()=>(e.ffMatcherSaveProfileState=u,pe(),ve(),H(),void X())));const k=document.createElement("span");k.className=`${t}-skip-profile`,k.innerText=(0,o.default)("ff_matcher_proceed_without_profile"),k.addEventListener("click",(()=>Ie()));const T=document.createElement("button");T.className=`${t}-save-changes`,T.innerText=(0,o.default)("ff_matcher_save_changes"),T.addEventListener("click",Re);const F=document.createElement("button");F.className=`${t}-delete-profile`,F.innerText=(0,o.default)("ff_matcher_delete_profile"),F.addEventListener("click",(()=>{ge(e.ffMatcherSelectedProfile)}));const D=document.createElement("div");D.className=`${t}-close-icon`,D.addEventListener("click",be);const x=document.createElement("div");return x.className=`${t}-close-cross`,x.innerText="x",r.appendChild(i),r.appendChild(s),n.appendChild(r),n.appendChild(c),l.appendChild(f),l.appendChild(m),n.appendChild(l),n.appendChild(p),n.appendChild(h),n.appendChild(g),v.appendChild(y),v.appendChild(w),_.appendChild(v),S.appendChild(E),S.appendChild(C),_.appendChild(S),M.appendChild(N),M.appendChild(P),_.appendChild(M),n.appendChild(_),n.appendChild(L),n.appendChild($),n.appendChild(k),n.appendChild(T),n.appendChild(F),D.appendChild(x),n.appendChild(D),a.appendChild(n),a}()),document.body.appendChild(function(){const t="tabbed-ff-search__profile-details",a=document.createElement("div");a.className=`${t} d-none`;const n=document.createElement("div");n.className=`${t}-card`;const r=document.createElement("div");r.className=`${t}-heading`,r.innerText=(0,o.default)("ff_matcher_profile_details_heading_based");const i=document.createElement("div");i.className=`${t}-piechart`;const s=document.createElement("div");s.className=`${t}-items-row`;const c=document.createElement("div");c.className=`${t}-items-row-additional`;const l=document.createElement("div");l.className=`${t}-load-more-button`,l.innerText=(0,o.default)("ff_matcher_profile_details_load_more"),l.addEventListener("click",(()=>{e.ffMatcherProfileDetailsLoadMore=!0,U()}));const d=document.createElement("div");d.className=`${t}-load-less-button`,d.innerText=(0,o.default)("ff_matcher_profile_details_load_less"),d.addEventListener("click",(()=>{e.ffMatcherProfileDetailsLoadMore=!1,U()}));const f=document.createElement("div");f.className=`${t}-sentence`;const m=document.createElement("button");m.className=`${t}-save-your-scent-profile`,m.innerText=(0,o.default)("ff_matcher_profile_save_your_scent"),m.addEventListener("click",(()=>{e.ffMatcherProfileDetailsState=_,e.ffMatcherSaveProfileState=p,W(),X(),e.config.oldMatcher()&&(he(),Ie())}));const u=document.createElement("span");u.className=`${t}-proceed-without-profile`,u.innerText=(0,o.default)("ff_matcher_profile_proceed_without_profile"),u.addEventListener("click",(()=>{e.ffMatcherProfileDetailsState=_,W(),Ie()}));const h=document.createElement("span");h.className=`${t}-edit-your-favourites`,h.innerText=(0,o.default)("ff_matcher_profile_edit_your_favourites"),h.addEventListener("click",le);const g=document.createElement("div");g.className=`${t}-close-icon`,g.addEventListener("click",_e);const b=document.createElement("div");b.className=`${t}-close-cross`,b.innerText="x";const v=document.createElement("div");return v.className=`${t}-loader`,v.innerText="Loading...",n.appendChild(r),n.appendChild(i),n.appendChild(s),n.appendChild(c),n.appendChild(l),n.appendChild(d),n.appendChild(f),n.appendChild(m),n.appendChild(u),n.appendChild(h),g.appendChild(b),n.appendChild(g),n.appendChild(v),a.appendChild(n),a}()),a=setInterval((()=>{!function(){const t=document.querySelector(".tabbed-ff-search__input");r=t.value,n!==r?(n=r,i=!1):!i&&n&&(i=!0,Fe(!0),c&&c.abort(),xe(`https://fotw-ws.fragrancesoftheworld.com/api/Fragrances?q=${n}&gender=u`,!0,(t=>{Fe(!1),e.ffMatcherSearchResults=t,function(){if(ke(),e.ffMatcherSearchResults.length<1)return;const t=document.querySelector(".tabbed-ff-search__field-container"),a=document.createElement("div");a.className="tabbed-ff-search__search-results-container";const n=document.createDocumentFragment();for(let t=0;t<e.ffMatcherSearchResults.length;t++){const a=e.ffMatcherSearchResults[t],r=document.createElement("div");r.className="tabbed-ff-search__item",r.setAttribute("data-id",`${t}`);const o=document.createElement("div");o.className="tabbed-ff-search__item-image",o.style.setProperty("background-image",`url("https://d1jqjf61hb3kk6.cloudfront.net/online/${a.Images.Thumbnail}")`);const i=document.createElement("div");i.className="tabbed-ff-search__item-details";const s=document.createElement("div");s.className="tabbed-ff-search__item-name",s.innerText=a.Name;const c=document.createElement("div");c.className="tabbed-ff-search__item-brand",c.innerText=a.Brand,i.appendChild(s),i.appendChild(c),r.appendChild(o),r.appendChild(i),n.appendChild(r)}a.appendChild(n),a.addEventListener("click",Te),r=a,o=t,o.parentNode.insertBefore(r,o.nextSibling);var r,o}()}),(()=>{Fe(!1),console.log("TabbedFF: Error while fetching searched fragrances")}),(e=>{c=e})))}()}),1e3),ne(),re(),I(),G(),j(),z(),H(),B(),J(),e.config.oldMatcher()&&fe(0)}function I(){const t=document.querySelector(".tabbed-ff-search__button");e.ffMatcherSelectedFragrances.length>0&&e.ffMatcherState===l?(t.classList.remove("d-none"),t.classList.add("tabbed-ff-search__button--active"),t.innerText=(0,o.default)("ff_matcher_find_match")):e.ffMatcherSelectedFragrances.length<1&&e.ffMatcherState===l?(t.classList.remove("d-none"),t.classList.remove("tabbed-ff-search__button--active"),t.innerText=(0,o.default)("ff_matcher_find_match")):(t.classList.add("d-none"),t.classList.remove("tabbed-ff-search__button--active"),t.innerText=(0,o.default)("ff_matcher_find_match"))}function j(){const t=document.querySelector(".tabbed-ff-search__selected-add-new-button");e.ffMatcherState===l&&e.ffMatcherSelectedFragrances.length<3&&!e.ffMatcherSearchAllowed?t.classList.remove("d-none"):t.classList.add("d-none")}function O(){const a=document.querySelector(".tabbed-ff-search__field-container");e.ffMatcherState===l&&e.ffMatcherSearchAllowed&&e.ffMatcherSelectedFragrances.length<t?a.classList.remove("d-none"):(a.classList.add("d-none"),ke())}function G(){const t=document.querySelector(".tabbed-ff-search__selected-search-new-button");e.ffMatcherState===m?t.classList.remove("d-none"):t.classList.add("d-none")}function z(){const t=document.querySelector(".tabbed-ff-search__intro-text"),a=document.querySelector(".tabbed-ff-search__intro-infobutton");e.ffMatcherState===m?t.innerText=(0,o.default)("ff_matcher_intro_2"):t.innerText=(0,o.default)("ff_matcher_intro_1"),null!==e.ffMatcherSelectedProfile?a.classList.remove("d-none"):a.classList.add("d-none")}function B(){const t=document.querySelector(".tabbed-ff-background");e.ffMatcherState===l?(t.classList.remove("tabbed-ff-background--rest"),t.classList.add("tabbed-ff-background--initial")):(t.classList.remove("tabbed-ff-background--initial"),t.classList.add("tabbed-ff-background--rest"))}function H(){const t="tabbed-ff-search__profile-selector",a=document.querySelector(`.${t}`),n=document.querySelector(`.${t}-container`);if(e.ffMatcherState!==l||e.ffMatcherProfiles.length)if(e.ffMatcherState===l&&e.ffMatcherProfiles.length&&null===e.ffMatcherSelectedProfile&&e.ffMatcherProfileSelectorState===x){a.classList.remove("d-none");const e=document.createElement("div");e.className=`${t}-container`;const r=document.createElement("div");r.className=`${t}-selector`,r.addEventListener("click",(()=>ie(A)));const i=document.createElement("div");i.className=`${t}-selector-heading`,i.innerText=(0,o.default)("ff_matcher_do_you_have_profile");const s=document.createElement("div");s.className=`${t}-selector-right`;const c=document.createElement("div");c.className=`${t}-selector-select`,c.innerText=(0,o.default)("ff_matcher_select");const l=document.createElement("span");l.className=`${t}-selector-arrow-container`;const d=document.createElement("span");d.className=`${t}-selector-arrow`,d.innerText=">",s.appendChild(c),l.appendChild(d),s.appendChild(l),r.appendChild(i),r.appendChild(s),e.appendChild(r),a.replaceChild(e,n)}else if(e.ffMatcherState===l&&e.ffMatcherProfiles.length&&null===e.ffMatcherSelectedProfile&&e.ffMatcherProfileSelectorState===A){a.classList.remove("d-none");const r=document.createElement("div");r.className=`${t}-container`;const i=document.createElement("div");i.className=`${t}-selector`,setTimeout((()=>{i.classList.add(`${t}-selector--open`)}),0),i.addEventListener("click",(()=>ie(x)));const s=document.createElement("div");s.className=`${t}-selector-heading`,s.innerText=(0,o.default)("ff_matcher_do_you_have_profile");const c=document.createElement("div");c.className=`${t}-selector-right`;const l=document.createElement("div");l.className=`${t}-selector-select`,l.innerText=(0,o.default)("ff_matcher_select");const d=document.createElement("span");d.className=`${t}-selector-arrow-container`;const f=document.createElement("span");f.className=`${t}-selector-arrow`,f.innerText=">";const m=document.createElement("div");m.className=`${t}-list`;for(let a=0;a<e.ffMatcherProfiles.length;a++){const n=document.createElement("div");n.className=`${t}-profile`,n.addEventListener("click",(()=>{fe(e.ffMatcherProfiles[a].id),ie(x)}));const r=document.createElement("div");r.className=`${t}-profile-name`,r.innerText=e.ffMatcherProfiles[a].name;const o=document.createElement("div");o.className=`${t}-profile-fragrances`;for(let n=0;n<e.ffMatcherProfiles[a].favourites.length;n++){const r=document.createElement("div");r.className=`${t}-profile-fragrance`,r.style.setProperty("background-image",`url("https://d1jqjf61hb3kk6.cloudfront.net/online/${e.ffMatcherProfiles[a].favourites[n].Images.Thumbnail}")`),o.appendChild(r)}n.appendChild(r),n.appendChild(o),m.appendChild(n)}c.appendChild(l),d.appendChild(f),c.appendChild(d),i.appendChild(s),i.appendChild(c),r.appendChild(i),r.appendChild(m),a.replaceChild(r,n)}else if(e.ffMatcherState===l&&e.ffMatcherProfiles.length&&null!==e.ffMatcherSelectedProfile&&e.ffMatcherProfileSelectorState===x){a.classList.remove("d-none");const r=document.createElement("div");r.className=`${t}-container`;const o=document.createElement("div");o.className=`${t}-selector ${t}-selector--selected`,o.addEventListener("click",(()=>ie(A)));const i=e.ffMatcherProfiles.filter((t=>e.ffMatcherSelectedProfile===t.id))?.[0]||{},s=document.createElement("div");s.className=`${t}-selector-right ${t}-selector-right--initial`;const c=document.createElement("div");c.className=`${t}-selector-select ${t}-selector-select--selected`,c.innerText=i.name;const l=document.createElement("span");l.className=`${t}-selector-arrow-container`;const d=document.createElement("span");d.className=`${t}-selector-arrow`,d.innerText=">",s.appendChild(c),l.appendChild(d),s.appendChild(l),o.appendChild(s),r.appendChild(o),a.replaceChild(r,n)}else if(e.ffMatcherState===m&&e.ffMatcherProfiles.length&&null!==e.ffMatcherSelectedProfile&&e.ffMatcherProfileSelectorState===x){a.classList.remove("d-none");const r=document.createElement("div");r.className=`${t}-container`;const o=document.createElement("div");o.className=`${t}-selector ${t}-selector--selected`,o.addEventListener("click",(()=>ie(A)));const i=e.ffMatcherProfiles.filter((t=>e.ffMatcherSelectedProfile===t.id))?.[0]||{},s=document.createElement("div");s.className=`${t}-selector-infobutton`,s.addEventListener("click",ce);const c=document.createElement("div");c.className=`${t}-selector-infobutton-label`,c.innerText="i";const l=document.createElement("div");l.className=`${t}-selector-favourites`;for(let e=0;e<i.favourites.length;e++){const a=document.createElement("div");a.className=`${t}-selector-favourites-item`,a.style.setProperty("background-image",`url("https://d1jqjf61hb3kk6.cloudfront.net/online/${i.favourites[e].Images.Thumbnail}")`),l.appendChild(a)}const d=document.createElement("div");d.className=`${t}-selector-right`;const f=document.createElement("div");f.className=`${t}-selector-select ${t}-selector-select--selected`,f.innerText=i.name;const m=document.createElement("span");m.className=`${t}-selector-arrow-container`;const u=document.createElement("span");u.className=`${t}-selector-arrow`,u.innerText=">",d.appendChild(f),m.appendChild(u),d.appendChild(m),s.appendChild(c),o.appendChild(s),o.appendChild(l),o.appendChild(d),r.appendChild(o),a.replaceChild(r,n)}else if(e.ffMatcherState!==l&&e.ffMatcherState!==m||!e.ffMatcherProfiles.length||null===e.ffMatcherSelectedProfile||e.ffMatcherProfileSelectorState!==A)if(e.ffMatcherState===d||e.ffMatcherState===f)a.classList.add("d-none");else if(e.ffMatcherState===m&&null===e.ffMatcherSelectedProfile){a.classList.remove("d-none");const r=document.createElement("div");r.className=`${t}-container`;const i=document.createElement("div");i.className=`${t}-save-your-scent-profile`,i.addEventListener("click",(()=>(e.ffMatcherSaveProfileState=h,void X())));const s=document.createElement("div");s.className=`${t}-save-your-scent-profile-selected`;for(let a=0;a<e.ffMatcherSelectedFragrances.length;a++){const n=document.createElement("div");n.className=`${t}-save-your-scent-profile-item`,n.style.setProperty("background-image",`url("https://d1jqjf61hb3kk6.cloudfront.net/online/${e.ffMatcherSelectedFragrances[a].Images.Thumbnail}")`),s.appendChild(n)}const c=document.createElement("div");c.className=`${t}-save-your-scent-profile-text`,c.innerText=(0,o.default)("ff_matcher_save_your_scent_profile"),i.appendChild(s),i.appendChild(c),r.appendChild(i),a.replaceChild(r,n)}else a.classList.add("d-none");else{const r=e.ffMatcherProfiles.filter((t=>e.ffMatcherSelectedProfile===t.id))?.[0]||{};a.classList.remove("d-none");const i=document.createElement("div");i.className=`${t}-container`;const s=document.createElement("div");s.className=`${t}-selector`,setTimeout((()=>{s.classList.add(`${t}-selector--open`)}),0),s.addEventListener("click",(()=>ie(x)));const c=document.createElement("div");c.className=`${t}-selector-manage`;const f=document.createElement("i");f.className=`material-icons md-24 md-dark ${t}-selector-manage-icon`,f.innerText="delete",f.addEventListener("click",(t=>{t.stopPropagation(),ge(e.ffMatcherSelectedProfile)}));const u=document.createElement("div");u.className=`${t}-selector-manage-edit`,u.innerText=(0,o.default)("ff_matcher_edit_profile"),u.addEventListener("click",(e=>{e.stopPropagation(),qe()}));const p=document.createElement("div");p.className=`${t}-selector-right`;const h=document.createElement("div");h.className=`${t}-selector-select`,h.innerText=r.name;const g=document.createElement("span");g.className=`${t}-selector-arrow-container`;const _=document.createElement("span");_.className=`${t}-selector-arrow`,_.innerText=">";const b=document.createElement("div");b.className=`${t}-list`;for(let a=0;a<e.ffMatcherProfiles.length;a++){if(e.ffMatcherProfiles[a].id===e.ffMatcherSelectedProfile)continue;const n=document.createElement("div");n.className=`${t}-profile`,n.addEventListener("click",(()=>{fe(e.ffMatcherProfiles[a].id),ie(x),e.ffMatcherState===m&&(e.ffMatcherState=d,O(),je(),I(),G(),j(),z(),ne(),re(),H(),B(),J())}));const r=document.createElement("div");r.className=`${t}-profile-name`,r.innerText=e.ffMatcherProfiles[a].name;const o=document.createElement("div");o.className=`${t}-profile-fragrances`;for(let n=0;n<e.ffMatcherProfiles[a].favourites.length;n++){const r=document.createElement("div");r.className=`${t}-profile-fragrance`,r.style.setProperty("background-image",`url("https://d1jqjf61hb3kk6.cloudfront.net/online/${e.ffMatcherProfiles[a].favourites[n].Images.Thumbnail}")`),o.appendChild(r)}n.appendChild(r),n.appendChild(o),b.appendChild(n)}const v=document.createElement("div");v.className=`${t}-create-new-profile`,v.innerText=(0,o.default)("ff_matcher_create_profile"),v.addEventListener("click",(()=>(e.ffMatcherSelectedFragrances=[],e.ffMatcherRecommendations=[],e.ffMatcherSearchAllowed=!0,e.ffMatcherSelectedProfile=null,e.ffMatcherProfileSelectorState=x,ue(),e.ffMatcherState=l,X(),j(),O(),ne(),re(),H(),G(),I(),z(),void J()))),b.appendChild(v),p.appendChild(h),g.appendChild(_),p.appendChild(g),c.appendChild(f),c.appendChild(u),s.appendChild(c),s.appendChild(p),i.appendChild(s),i.appendChild(b),a.replaceChild(i,n)}else a.classList.add("d-none")}function W(){const t="tabbed-ff-search__profile-details",a=document.querySelector(`.${t}`),n=document.querySelector(`.${t}-card`),r=e.ffMatcherProfileDetails,i=document.querySelector("main"),c=document.querySelector(`.${t}-heading`);if(e.ffMatcherProfileDetailsState===_)a.classList.add("d-none"),i.classList.remove("tabbed-blur"),document.body.classList.remove("stop-scrolling");else if(e.ffMatcherProfileDetailsState===b||e.ffMatcherProfileDetailsState===v){a.classList.remove("d-none"),i.classList.add("tabbed-blur"),document.body.classList.add("stop-scrolling"),e.ffMatcherProfileDetailsState===b&&(c.innerText=(0,o.default)("ff_matcher_profile_details_heading_based"),n.classList.remove(`${t}-card--preferences`)),e.ffMatcherProfileDetailsState===v&&(c.innerText=(0,o.default)("ff_matcher_profile_details_heading_preferences"),n.classList.add(`${t}-card--preferences`));const l=document.querySelector(`.${t}-loader`);if(!r)return void l.classList.remove("d-none");const d=document.querySelector(`.${t}-piechart`),f=document.createElement("div");if(f.className=`${t}-piechart`,null!==e.ffMatcherProfileDetails){const a=document.createElement("div");a.className=`${t}-piechart-container`;const n=document.createElement("div");n.className=`${t}-piechart-border`;const r=document.createElement("div");r.className=`${t}-piechart-highlighter ${t}-piechart-highlighter--hidden`;const i=document.createElement("div");i.className=`${t}-piechart-central-label`,i.innerText=(0,o.default)(`ff_matcher_profile_details_piechart_central_label_${e.ffMatcherProfileDetailsSlide}`),a.appendChild(n),a.appendChild(r),a.appendChild(i),f.appendChild(a);let c=[];0===e.ffMatcherProfileDetailsSlide&&(c=e.ffMatcherProfileDetails.FamilyGroup.map((t=>({url:e.familyGroups.find((e=>t.ID===e.id)).image,percent:t.Percentage})))),1===e.ffMatcherProfileDetailsSlide&&(c=e.ffMatcherProfileDetails.Family.map((t=>({url:e.families.find((e=>t.ID===e.id)).image,percent:t.Percentage})))),2===e.ffMatcherProfileDetailsSlide&&(c=e.ffMatcherProfileDetails.DominantConsolidatedIngredients.map((e=>({url:e.WImage?`https://d25ps0pnbb5gt0.cloudfront.net/cnwimages/${e.WImage}`:`https://d25ps0pnbb5gt0.cloudfront.net/cnimages/${e.Image}`,percent:e.Percentage})))),3===e.ffMatcherProfileDetailsSlide&&(c=e.ffMatcherProfileDetails.SubNote.map((e=>({url:`https://d25ps0pnbb5gt0.cloudfront.net/subnote/${e.Image}`,percent:e.Percentage})))),(0,s.default)(a,`${t}-piechart`,c);const l=document.createElement("div");l.className=`${t}-owldots-container`;const d=[0,1,2,3];for(let a=0;a<d.length;a++){const n=document.createElement("div");n.className=`${t}-owldots-item`;const r=e.ffMatcherProfileDetailsSlide===d[a];r&&n.classList.add(`${t}-owldots-item--active`),r||n.addEventListener("click",(()=>{e.ffMatcherProfileDetailsSlide=d[a],e.ffMatcherProfileDetailsLoadMore=!1,e.ffMatcherProfileDetailsHighlightedWheelItem="",W()})),l.appendChild(n)}if(f.appendChild(l),e.ffMatcherProfileDetailsSlide>0){const a=document.createElement("div");a.className=`${t}-piechart-slide-left`,a.addEventListener("click",(()=>{e.ffMatcherProfileDetailsSlide-=1,e.ffMatcherProfileDetailsLoadMore=!1,e.ffMatcherProfileDetailsHighlightedWheelItem="",W()}));const n=document.createElement("div");n.className=`${t}-piechart-slide-left-arrow`,n.innerText="<",a.appendChild(n),f.appendChild(a)}if(e.ffMatcherProfileDetailsSlide<d.length-1){const a=document.createElement("div");a.className=`${t}-piechart-slide-right`,a.addEventListener("click",(()=>{e.ffMatcherProfileDetailsSlide+=1,e.ffMatcherProfileDetailsLoadMore=!1,e.ffMatcherProfileDetailsHighlightedWheelItem="",W()}));const n=document.createElement("div");n.className=`${t}-piechart-slide-right-arrow`,n.innerText=">",a.appendChild(n),f.appendChild(a)}}n.replaceChild(f,d);const m=document.querySelector(`.${t}-items-row`),u=document.createElement("div");u.className=`${t}-items-row`;let p=[];const h=q[`slide${e.ffMatcherProfileDetailsSlide}`][window.innerWidth<715?"m":"d"];0===e.ffMatcherProfileDetailsSlide&&(p=r.FamilyGroup.map((t=>{const a=e.familyGroups.find((e=>t.ID===e.id)).image;return{name:t.Name,image:a,percent:t.Percentage}}))),1===e.ffMatcherProfileDetailsSlide&&(p=r.Family.map((t=>{const a=e.families.find((e=>t.ID===e.id)).image;return{name:t.Name_ol[e.lang],image:a,percent:t.Percentage}}))),2===e.ffMatcherProfileDetailsSlide&&(p=r.DominantConsolidatedIngredients.map((t=>({name:t.Name_ol[e.lang],image:`https://d25ps0pnbb5gt0.cloudfront.net/cnimages/${t.Image}`,percent:t.Percentage})))),3===e.ffMatcherProfileDetailsSlide&&(p=r.SubNote.map((t=>({name:t.Name_ol[e.lang],image:`https://d25ps0pnbb5gt0.cloudfront.net/subnote/${t.Image}`,percent:t.Percentage}))));const g=p.slice(0,h),_=p.slice(h);for(let a=0;a<g.length;a++){const n=(a+1)%2==0,r=1===g.length,i=document.createElement("div");i.className=`${t}-item`,i.addEventListener("click",(()=>{e.ffMatcherProfileDetailsHighlightedWheelItem===g[a].image?(e.ffMatcherProfileDetailsHighlightedWheelItem="",Y()):(e.ffMatcherProfileDetailsHighlightedWheelItem=g[a].image,Y())})),n&&i.classList.add(`${t}-item--last-in-row`),r&&i.classList.add(`${t}-item--only-one`);const s=document.createElement("div");s.className=`${t}-item-text`;const c=document.createElement("span");c.className=`${t}-item-name`,c.innerText=`${g[a].name} ${1===e.ffMatcherProfileDetailsSlide?(0,o.default)("ff_matcher_profile_details_scent_family"):""}`;const l=document.createElement("span");l.className=`${t}-item-percent`,l.innerText=`${g[a].percent}%`;const d=document.createElement("div");d.className=`${t}-item-image-container`;const f=document.createElement("div");f.className=`${t}-item-image ${t}-item-image--loading`;const m=new Image;m.onload=function(){f.style.setProperty("background-image",`url("${m.src}")`),f.classList.remove(`${t}-item-image--loading`)},m.src=g[a].image,s.appendChild(l),s.appendChild(c),i.appendChild(s),d.appendChild(f),i.appendChild(d),u.appendChild(i)}n.replaceChild(u,m);const y=document.querySelector(`.${t}-items-row-additional`),w=document.createElement("div");w.className=`${t}-items-row-additional`,e.ffMatcherProfileDetailsLoadMore||w.classList.add("d-none");for(let a=0;a<_.length;a++){const n=(a+1)%2==0,r=document.createElement("div");r.addEventListener("click",(()=>{e.ffMatcherProfileDetailsHighlightedWheelItem===_[a].image?(e.ffMatcherProfileDetailsHighlightedWheelItem="",Y()):(e.ffMatcherProfileDetailsHighlightedWheelItem=_[a].image,Y())})),r.className=`${t}-item`,n&&r.classList.add(`${t}-item--last-in-row`);const i=document.createElement("div");i.className=`${t}-item-text`;const s=document.createElement("span");s.className=`${t}-item-name`,s.innerText=`${_[a].name} ${1===e.ffMatcherProfileDetailsSlide?(0,o.default)("ff_matcher_profile_details_scent_family"):""}`;const c=document.createElement("span");c.className=`${t}-item-percent`,c.innerText=`${_[a].percent}%`;const l=document.createElement("div");l.className=`${t}-item-image-container`;const d=document.createElement("div");d.className=`${t}-item-image ${t}-item-image--loading`;const f=new Image;f.onload=function(){d.style.setProperty("background-image",`url("${f.src}")`),d.classList.remove(`${t}-item-image--loading`)},f.src=_[a].image,i.appendChild(c),i.appendChild(s),r.appendChild(i),l.appendChild(d),r.appendChild(l),w.appendChild(r)}n.replaceChild(w,y);const S=document.querySelector(`.${t}-load-more-button`),E=document.querySelector(`.${t}-load-less-button`);_.length?e.ffMatcherProfileDetailsLoadMore?(S.classList.add("d-none"),E.classList.remove("d-none")):(S.classList.remove("d-none"),E.classList.add("d-none")):(S.classList.add("d-none"),E.classList.add("d-none"));document.querySelector(`.${t}-sentence`).innerText=function(t,a){const n=t.FamilyGroup[0].Name_ol[e.lang],r=t.FamilyGroup[0].ShortDescription_ol[e.lang],i=t.Family[0].Name_ol[e.lang],s=t.Family[0].ShortDescription_ol[e.lang],c=[...t.DominantConsolidatedIngredients].sort(((e,t)=>t.Percentage-e.Percentage)).slice(0,3).map((t=>t.Name_ol[e.lang])),l=t.SubNote[0].Name_ol[e.lang];if(1===a)return(0,o.default)("ff_matcher_profile_details_sentence_single",{familyGroupText:n,shortFamilyGroupDescription:r,familyText:i,shortFamilyDescription:s,dominantIngredients:c});const d=1===t.Family.length,f=1===t.FamilyGroup.length,m=3===t.DominantConsolidatedIngredients.length;t.SubNote.length;return f&&d&&m?(0,o.default)("ff_matcher_profile_details_sentence_1",{familyGroupText:n,shortFamilyGroupDescription:r,familyText:i,shortFamilyDescription:s,dominantIngredients:c}):f&&d&&!m?(0,o.default)("ff_matcher_profile_details_sentence_2",{familyGroupText:n,shortFamilyGroupDescription:r,familyText:i,shortFamilyDescription:s,subnoteText:l}):f&&!d&&m?(0,o.default)("ff_matcher_profile_details_sentence_3",{familyGroupText:n,shortFamilyGroupDescription:r,dominantIngredients:c}):!f||d||m?!f&&d&&m?(0,o.default)("ff_matcher_profile_details_sentence_5",{familyText:i,shortFamilyDescription:s,dominantIngredients:c}):f||!d||m?f||d||!m?(0,o.default)("ff_matcher_profile_details_sentence_nomatch"):(0,o.default)("ff_matcher_profile_details_sentence_7",{dominantIngredients:c}):(0,o.default)("ff_matcher_profile_details_sentence_6",{familyText:i,shortFamilyDescription:s,subnoteText:l}):(0,o.default)("ff_matcher_profile_details_sentence_4",{familyGroupText:n,shortFamilyGroupDescription:r,subnoteText:l})}(r,e.ffMatcherSelectedFragrances.length);const C=document.querySelector(`.${t}-edit-your-favourites`),M=document.querySelector(`.${t}-save-your-scent-profile`),N=document.querySelector(`.${t}-proceed-without-profile`);e.ffMatcherProfileDetailsState===b&&(C.classList.add("d-none"),M.classList.remove("d-none"),N.classList.remove("d-none")),e.ffMatcherProfileDetailsState===v&&(C.classList.remove("d-none"),M.classList.add("d-none"),N.classList.add("d-none")),l.classList.add("d-none")}}function Y(){const t="tabbed-ff-search__profile-details",a=document.querySelector(`.${t}-piechart-highlighter`);if(!a)return void console.log("No highlighter");const n=document.querySelectorAll(`.${t}-piechart-pie`);if(e.ffMatcherProfileDetailsHighlightedWheelItem){const r=document.querySelector(`.${t}-piechart-pie[data-image="${e.ffMatcherProfileDetailsHighlightedWheelItem}"]`);r?(a.classList.add(`${t}-piechart-highlighter--hidden`),setTimeout((()=>{for(let e=0;e<n.length;e++)n[e].classList.remove(`${t}-piechart-pie--active`)}),100),setTimeout((()=>{r.classList.add(`${t}-piechart-pie--active`),a.classList.remove(`${t}-piechart-highlighter--hidden`)}),200)):a.classList.add(`${t}-piechart-highlighter--hidden`)}else a.classList.add(`${t}-piechart-highlighter--hidden`),setTimeout((()=>{for(let e=0;e<n.length;e++)n[e].classList.remove(`${t}-piechart-pie--active`)}),100)}function U(){const t="tabbed-ff-search__profile-details",a=document.querySelector(`.${t}-items-row-additional`);e.ffMatcherProfileDetailsLoadMore?a.classList.remove("d-none"):a.classList.add("d-none");const n=document.querySelector(`.${t}-load-more-button`),r=document.querySelector(`.${t}-load-less-button`);e.ffMatcherProfileDetailsLoadMore?(n.classList.add("d-none"),r.classList.remove("d-none")):(n.classList.remove("d-none"),r.classList.add("d-none"))}function X(){const t="tabbed-ff-search__save-profile",a=document.querySelector(`.${t}`),n=document.querySelector("main"),r=document.querySelector(`.${t}-back-to-profile-details`);if(e.ffMatcherSaveProfileState===p){a.classList.remove("d-none"),n.classList.add("tabbed-blur"),document.body.classList.add("stop-scrolling"),r.classList.remove("d-none");document.querySelector(`.${t}-heading`).innerText=(0,o.default)("ff_matcher_save_your_scent_profile");const i=document.querySelector(`.${t}-selected-row`),s=document.querySelector(`.${t}-selected-list`),c=document.createElement("div");c.className=`${t}-selected-list`;const l=document.createElement("div");l.className=`${t}-infobutton`,l.addEventListener("click",(()=>{e.ffMatcherProfileDetailsState=v,W()}));const d=document.createElement("div");d.className=`${t}-infobutton-label`,d.innerText="i",l.appendChild(d),c.appendChild(l);for(let a=0;a<e.ffMatcherSelectedFragrances.length;a++){const n=e.ffMatcherSelectedFragrances[a],r=document.createElement("div");r.className=`${t}-selected-item`,r.style.setProperty("background-image",`url("https://d1jqjf61hb3kk6.cloudfront.net/online/${n.Images.Thumbnail}")`),c.appendChild(r)}i.replaceChild(c,s);const f=["m","f","u"],m="tabbed-ff-search__save-profile-gender-item";for(let t=0;t<f.length;t++){const a=document.querySelector(`.${m}[data-gender="${f[t]}"]`);e.ffMatcherProfileForm.gender===f[t]?a.classList.add(`${m}--checked`):a.classList.remove(`${m}--checked`)}document.querySelector(".tabbed-ff-search__save-profile-name-input").value=e.ffMatcherProfileForm.name;document.querySelector(`.${t}-find-a-match`).classList.remove("d-none");document.querySelector(`.${t}-skip-profile`).classList.remove("d-none");document.querySelector(`.${t}-save-a-profile`).classList.add("d-none");document.querySelector(`.${t}-save-changes`).classList.add("d-none");document.querySelector(`.${t}-delete-profile`).classList.add("d-none");document.querySelector(`.${t}-edit-favourites`).classList.remove("d-none")}else if(e.ffMatcherSaveProfileState===h){a.classList.remove("d-none"),n.classList.add("tabbed-blur"),document.body.classList.add("stop-scrolling"),r.classList.remove("d-none");document.querySelector(`.${t}-heading`).innerText=(0,o.default)("ff_matcher_save_your_scent_profile");const i=document.querySelector(`.${t}-selected-row`),s=document.querySelector(`.${t}-selected-list`),c=document.createElement("div");c.className=`${t}-selected-list`;const l=document.createElement("div");l.className=`${t}-infobutton`,l.addEventListener("click",(()=>{e.ffMatcherProfileDetailsState=v,W()}));const d=document.createElement("div");d.className=`${t}-infobutton-label`,d.innerText="i",l.appendChild(d),c.appendChild(l);for(let a=0;a<e.ffMatcherSelectedFragrances.length;a++){const n=e.ffMatcherSelectedFragrances[a],r=document.createElement("div");r.className=`${t}-selected-item`,r.style.setProperty("background-image",`url("https://d1jqjf61hb3kk6.cloudfront.net/online/${n.Images.Thumbnail}")`),c.appendChild(r)}i.replaceChild(c,s);const f=["m","f","u"],m="tabbed-ff-search__save-profile-gender-item";for(let t=0;t<f.length;t++){const a=document.querySelector(`.${m}[data-gender="${f[t]}"]`);e.ffMatcherProfileForm.gender===f[t]?a.classList.add(`${m}--checked`):a.classList.remove(`${m}--checked`)}document.querySelector(".tabbed-ff-search__save-profile-name-input").value=e.ffMatcherProfileForm.name;document.querySelector(`.${t}-find-a-match`).classList.add("d-none");document.querySelector(`.${t}-skip-profile`).classList.add("d-none");document.querySelector(`.${t}-save-a-profile`).classList.remove("d-none");document.querySelector(`.${t}-save-changes`).classList.add("d-none");document.querySelector(`.${t}-delete-profile`).classList.add("d-none");document.querySelector(`.${t}-edit-favourites`).classList.remove("d-none")}else if(e.ffMatcherSaveProfileState===g){a.classList.remove("d-none"),n.classList.add("tabbed-blur"),document.body.classList.add("stop-scrolling"),r.classList.add("d-none");document.querySelector(`.${t}-heading`).innerText=(0,o.default)("ff_matcher_edit_your_scent_profile");const i=document.querySelector(`.${t}-selected-row`),s=document.querySelector(`.${t}-selected-list`),c=document.createElement("div");c.className=`${t}-selected-list`;const l=document.createElement("div");l.className=`${t}-infobutton`,l.addEventListener("click",(()=>{e.ffMatcherProfileDetailsState=v,W()}));const d=document.createElement("div");d.className=`${t}-infobutton-label`,d.innerText="i",l.appendChild(d),c.appendChild(l);for(let a=0;a<e.ffMatcherSelectedFragrances.length;a++){const n=e.ffMatcherSelectedFragrances[a],r=document.createElement("div");r.className=`${t}-selected-item`,r.style.setProperty("background-image",`url("https://d1jqjf61hb3kk6.cloudfront.net/online/${n.Images.Thumbnail}")`),c.appendChild(r)}i.replaceChild(c,s);const f=["m","f","u"],m="tabbed-ff-search__save-profile-gender-item";for(let t=0;t<f.length;t++){const a=document.querySelector(`.${m}[data-gender="${f[t]}"]`);e.ffMatcherProfileForm.gender===f[t]?a.classList.add(`${m}--checked`):a.classList.remove(`${m}--checked`)}document.querySelector(".tabbed-ff-search__save-profile-name-input").value=e.ffMatcherProfileForm.name;document.querySelector(`.${t}-find-a-match`).classList.add("d-none");document.querySelector(`.${t}-skip-profile`).classList.add("d-none");document.querySelector(`.${t}-save-a-profile`).classList.add("d-none");document.querySelector(`.${t}-save-changes`).classList.remove("d-none");document.querySelector(`.${t}-delete-profile`).classList.remove("d-none");document.querySelector(`.${t}-edit-favourites`).classList.remove("d-none")}else e.ffMatcherSaveProfileState===u?(a.classList.add("d-none"),n.classList.remove("tabbed-blur"),e.ffMatcherProfileDetailsState===_&&document.body.classList.remove("stop-scrolling")):(a.classList.add("d-none"),n.classList.remove("tabbed-blur"),document.body.classList.remove("stop-scrolling"))}function K(t){document.querySelector(".tabbed-ff-search__save-profile-name-input").value=t,e.ffMatcherProfileForm.name=t}function J(){const t=document.querySelector(".tabbed-ff-search__carousel");if(e.ffMatcherState===l){Ne(),t.classList.add("d-none");t.querySelector(".tabbed-ff-search__carousel-spinner").classList.remove("d-none");const e=t.querySelector(".tabbed-ff-search__carousel-items-container");e&&e.parentNode.removeChild(e)}else if(e.ffMatcherState===m){t.classList.remove("d-none");t.querySelector(".tabbed-ff-search__carousel-spinner").classList.add("d-none"),function(){const t=document.querySelector(".tabbed-ff-search__carousel"),a=t.querySelector(".tabbed-ff-search__carousel-items-container"),n=function(){const t=document.createElement("div");t.className="tabbed-ff-search__carousel-items-container";for(let a=0;a<e.ffMatcherRecommendations.length;a++){const n=e.ffMatcherRecommendations[a],r=document.createElement("div");r.className="tabbed-ff-search__carousel-item";const o=ee(n,a),i=te(n,a);r.appendChild(o),r.appendChild(i),t.appendChild(r)}return t}();a&&a.parentNode.removeChild(a);t.querySelector(".tabbed-ff-search__carousel-items").appendChild(n)}()}else{t.classList.remove("d-none");t.querySelector(".tabbed-ff-search__carousel-spinner").classList.remove("d-none");const e=t.querySelector(".tabbed-ff-search__carousel-items-container");e&&e.parentNode.removeChild(e)}}function Q(){const t=document.querySelector(".tabbed-ff-search__carousel-button-left"),a=document.querySelector(".tabbed-ff-search__carousel-button-right");e.ffMatcherCarouselPosition>=0?t.classList.add("d-none"):t.classList.remove("d-none");const n=document.querySelector(".tabbed-ff-search__carousel-item");if(!n)return void a.classList.add("d-none");const r=n.getBoundingClientRect().width,o=parseInt(window.getComputedStyle(n,null).marginRight),i=document.querySelector(".tabbed-ff-search__carousel-items"),s=document.querySelector(".tabbed-ff-search__carousel-items-container"),c=-(e.ffMatcherRecommendations.length*(r+2*o)-i.getBoundingClientRect().width+2*parseInt(window.getComputedStyle(s,null).paddingRight));e.ffMatcherCarouselPosition<=c?a.classList.add("d-none"):a.classList.remove("d-none"),e.ffMatcherRecommendations.length<2&&(t.classList.add("d-none"),a.classList.add("d-none"))}function V(t){const a=document.querySelector(".tabbed-ff-search__carousel-items-container").children[t].querySelector(".tabbed-ff-search__carousel-item-flipside-container");e.ffMatcherRecommendations[t].reviewsState===T&&a.classList.remove("zero-size"),e.ffMatcherRecommendations[t].reviewsState===k&&a.classList.add("zero-size")}function Z(t){const a=document.querySelector(".tabbed-ff-search__carousel-items-container");if(!a)return;const n=e.ffMatcherRecommendations[t],r=document.createElement("div");r.className="tabbed-ff-search__carousel-item";const o=ee(n,t),i=te(n,t);r.appendChild(o),r.appendChild(i),a.replaceChild(r,a.children[t])}function ee(t,a){const n=document.createElement("div");n.className="tabbed-ff-search__carousel-item-front";const r=document.createElement("div");r.className="tabbed-ff-search__carousel-item-image";const i=`https://d1jqjf61hb3kk6.cloudfront.net/lg/${t.Images.LargerImage}`;r.style.setProperty("background-image",`url("${i}")`);const s=document.createElement("a");s.className="tabbed-ff-search__carousel-item-moredetails",s.href=t.MerchantFragranceDetails.link,s.target="_blank",s.rel="noopener noreferrer";const c=document.createElement("div");c.className="tabbed-ff-search__carousel-item-moredetails-button",c.innerText=(0,o.default)("product_tile_more_details");const l=document.createElement("div");l.className="tabbed-ff-search__carousel-item-brand",l.innerText=t.Brand;const d=document.createElement("div");d.className="tabbed-ff-search__carousel-item-name",d.innerText=t.FragranceName;const f=document.createElement("div");f.className="tabbed-ff-search__carousel-item-volume",t.MerchDetails?.volume&&(f.innerText=t.MerchDetails.volume);const m=document.createElement("div");m.className="tabbed-ff-search__carousel-item-price-container";const u=document.createElement("span");u.className="tabbed-ff-search__carousel-item-price",t.MerchDetails?.mainPrice&&(u.innerText=t.MerchDetails.mainPrice);const p=document.createElement("span");p.className="tabbed-ff-search__carousel-item-price-discount",t.MerchDetails.altPrice&&(p.innerText=`${(0,o.default)("product_tile_save")} ${t.MerchDetails.altPrice}`);const h=function(t,a){const n="tabbed-ff-search__carousel-item-",r=document.createElement("div");let i;r.className=`${n}rating`,i=t.FeefoSummary.meta?t.FeefoSummary.meta.count:0;if(0!==i){const s=document.createElement("div");s.className=`${n}rating-stars-block`;const c=ae(t.FeefoSummary.rating.rating);s.appendChild(c),r.appendChild(s);const l=document.createElement("button");l.className=`${n}rating-read`,l.addEventListener("click",(()=>function(t){e.ffMatcherRecommendations[t].reviewsState=T,V(t)}(a))),l.innerText=1===i?(0,o.default)("product_tile_feefo_read_single",{numberOfReviews:i}):(0,o.default)("product_tile_feefo_read_multiple",{numberOfReviews:i}),r.appendChild(l)}return r}(t,a),g=document.createElement("div");g.className="tabbed-ff-search__carousel-item-family",g.innerText=t.Family_ol[e.lang],g.addEventListener("click",(()=>function(e,t){const a="https://fotw-ws.fragrancesoftheworld.com/api/Families",n=t.substring(0,1).toLowerCase();xe(a,!0,(t=>{!function(e,t,a){let n;for(let a=0;a<e.length;a++)if(e[a].Name===t){n=e[a].ID;break}n&&(window.location.href=`/fragrance-finder/family/${n}/${a}?hideBack=true`)}(t,e,n)}),(()=>{console.log("TabbedFF: Error while getting familiesTpsEn list")}))}(t.Family,t.Gender)));const _=document.createElement("div");_.className="tabbed-ff-search__carousel-item-notes-title",_.innerText=(0,o.default)("product_tile_notes");const b=function(t){const a=t.DominantConsolidatedIngredients_Images,n=document.createElement("div");n.className="tabbed-ff-search__carousel-item-notes";for(let r=0;r<a.length;r++){const o=document.createElement("div");o.className="tabbed-ff-search__carousel-item-note",o.addEventListener("click",(()=>Ee(a[r],t.Gender)));const i=`https://d1jqjf61hb3kk6.cloudfront.net/cnimages/${a[r].Image}`,s=document.createElement("div");s.className="tabbed-ff-search__carousel-item-note-image",s.style.setProperty("background-image",`url("${i}")`);const c=document.createElement("div");c.className="tabbed-ff-search__carousel-item-note-name",c.innerText=a[r].Name_ol[e.lang],o.appendChild(s),o.appendChild(c),n.appendChild(o)}return n}(t),v=function(e,t){const a=document.createElement("div");if(t)a.className="tabbed-ff-search__carousel-item-top-match-label",a.innerText=(0,o.default)("product_label_topmatch");else if(e.finalMatchPercentage>=50){a.className="tabbed-ff-search__carousel-item-match-score";const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttributeNS(null,"class","tabbed-ff-search__carousel-item-match-ring"),t.setAttributeNS(null,"height","60"),t.setAttributeNS(null,"width","60");const n=document.createElementNS("http://www.w3.org/2000/svg","circle");n.setAttributeNS(null,"class","tabbed-ff-search__carousel-item-match-ring--back-ring"),n.setAttributeNS(null,"cx","30"),n.setAttributeNS(null,"cy","30"),n.setAttributeNS(null,"r","23"),t.appendChild(n);const r=Number(e.finalMatchPercentage)||0,i=250-145*r/100,s=.01*r,c=document.createElementNS("http://www.w3.org/2000/svg","circle");c.setAttributeNS(null,"class","tabbed-ff-search__carousel-item-match-ring--front-ring"),c.setAttributeNS(null,"cx","30"),c.setAttributeNS(null,"cy","30"),c.setAttributeNS(null,"r","23"),c.style.strokeDashoffset=i.toString(),c.style.opacity=s.toString(),t.appendChild(c),a.appendChild(t);const l=document.createElement("span");l.className="tabbed-ff-search__carousel-item-match-ring--text",l.innerText=`${e.finalMatchPercentage}${(0,o.default)("product_label_match")}`,a.appendChild(l)}return a}(t,0===a);return s.appendChild(c),r.appendChild(s),n.appendChild(r),n.appendChild(l),n.appendChild(d),n.appendChild(f),m.appendChild(u),m.appendChild(p),n.appendChild(m),n.appendChild(h),n.appendChild(g),n.appendChild(_),n.appendChild(b),n.appendChild(v),n}function te(t,a){const n="tabbed-ff-search__carousel-item-",r=document.createElement("div");let i;if(r.className=`${n}flipside-container`,t.reviewsState===k&&r.classList.add("zero-size"),i=t.FeefoSummary?.meta?t.FeefoSummary?.meta?.count:0,0===i)return r;const s=document.createElement("div");s.className=`${n}flipside-header`;const c=document.createElement("div");c.className=`${n}flipside-perfume-thumbnail`;const l=`https://d1jqjf61hb3kk6.cloudfront.net/lg/${t.Images.LargerImage}`;c.style.backgroundImage=`url("${l}")`,s.appendChild(c);const d=document.createElement("div");d.className=`${n}flipside-header-block`;const f=document.createElement("div");f.className=`${n}flipside-header-block-upper`;const m=document.createElement("div");m.className=`${n}flipside-header-block-stars-block`;const u=ae(t.FeefoSummary.rating.rating);m.appendChild(u),f.appendChild(m);const p=document.createElement("div");p.className=`${n}flipside-header-block-rating`,p.innerText=`${t.FeefoSummary.rating.rating}/5`;const h=document.createElement("span");h.className=`${n}flipside-header-block-icon`;const g=document.createElement("i");g.className="material-icons 10 md-dark ",g.style.fontSize="10px",g.innerText="arrow_drop_down",h.appendChild(g),p.appendChild(h),f.appendChild(p);const _=document.createElement("div");_.className=`${n}flipside-header-block-logo`,f.appendChild(_),d.appendChild(f);const b=document.createElement("div");b.className=`${n}flipside-header-block-lower`,b.innerHTML=(0,o.default)("product_feefo_counter",{numberOfReviews:i}),d.appendChild(b),s.appendChild(d);const v=document.createElement("div");v.className=`${n}flipside-close-icon ${n}flipside-close-icon-text`,v.addEventListener("click",(()=>function(t){e.ffMatcherRecommendations[t].reviewsState=k,V(t)}(a)));const y=document.createElement("i");y.className="material-icons 20 md-dark",y.style.fontSize="20px",y.innerText="close",v.appendChild(y),s.appendChild(v),r.appendChild(s);const w=document.createElement("div");w.className=`${n}flipside-reviews`;const T=document.createElement("div");T.className=`${n}flipside-reviews-upper`;const x=document.createElement("div");x.className=`${n}flipside-reviews-total`,x.innerHTML="View <strong>"+i+" </strong> reviews",T.appendChild(x);const A=document.createElement("div");A.className=`${n}flipside-reviews-filter`;const q=document.createElement("button");q.className=`${n}flipside-reviews-most-recent`,q.innerText=(0,o.default)("product_feefo_most_recent"),t.feefoSorting===S&&q.classList.add(`${n}flipside-reviews-most-recent--active`),q.addEventListener("click",(()=>we(a,S))),A.appendChild(q);const R=document.createElement("button");R.className=`${n}flipside-reviews-popular`,R.innerText=(0,o.default)("product_feefo_popular"),t.feefoSorting===E&&R.classList.add(`${n}flipside-reviews-popular--active`),R.addEventListener("click",(()=>we(a,E))),A.appendChild(R),T.appendChild(A);const I={[C]:(0,o.default)("product_feefo_rating_all"),[M]:(0,o.default)("product_feefo_rating_5"),[N]:(0,o.default)("product_feefo_rating_4"),[P]:(0,o.default)("product_feefo_rating_3"),[$]:(0,o.default)("product_feefo_rating_2"),[L]:(0,o.default)("product_feefo_rating_1")},j=document.createElement("div");j.className=`${n}flipside-reviews-filter-container`,j.addEventListener("click",(()=>function(t){e.ffMatcherRecommendations[t].feefoDropdown===F?e.ffMatcherRecommendations[t].feefoDropdown=D:e.ffMatcherRecommendations[t].feefoDropdown=F;Z(t)}(a)));const O=document.createElement("div");O.className=`${n}flipside-reviews-selector`,O.innerText=I[t.feefoFilter];const G=document.createElement("span");G.className=`${n}flipside-reviews-selector-icon`;const z=document.createElement("i");z.className="material-icons 20 md-dark",z.style.fontSize="20px",z.innerText="arrow_drop_down",G.appendChild(z),O.appendChild(G),j.appendChild(O);const B=document.createElement("div");B.className=`${n}flipside-reviews-dropdown-container`,t.feefoDropdown===F&&B.classList.add("d-none");const H=[{value:C,label:(0,o.default)("product_feefo_rating_all")},{value:M,label:(0,o.default)("product_feefo_rating_5")},{value:N,label:(0,o.default)("product_feefo_rating_4")},{value:P,label:(0,o.default)("product_feefo_rating_3")},{value:$,label:(0,o.default)("product_feefo_rating_2")},{value:L,label:(0,o.default)("product_feefo_rating_1")}];for(let e=0;e<H.length;e++){const r=document.createElement("div");r.className=`${n}flipside-reviews-dropdown-item`,H[e].value===t.feefoFilter&&r.classList.add(`${n}flipside-reviews-dropdown-item--active`),r.innerText=H[e].label,r.addEventListener("click",(t=>Se(t,a,H[e].value))),B.appendChild(r)}j.appendChild(B),T.appendChild(j),w.appendChild(T);const W=document.createElement("div");W.className=`${n}flipside-reviews-container`;const Y=function(t){const a="tabbed-ff-search__carousel-item-";let n=[...t.FeefoReviews.reviews];const r=document.createDocumentFragment();if(0===n.length){const e=document.createElement("div");return e.className=`${a}flipside-reviews-no-reviews`,r.appendChild(e),r}t.feefoSorting===E&&n.sort(((e,t)=>{const a=e.products[0].helpful_votes||0;return(t.products[0].helpful_votes||0)-a}));t.feefoFilter===M?n=n.filter((e=>5===e.products[0].rating.rating)):t.feefoFilter===N?n=n.filter((e=>4===e.products[0].rating.rating)):t.feefoFilter===P?n=n.filter((e=>3===e.products[0].rating.rating)):t.feefoFilter===$?n=n.filter((e=>2===e.products[0].rating.rating)):t.feefoFilter===L&&(n=n.filter((e=>1===e.products[0].rating.rating)));for(let t=0;t<n.length;t++){const i=document.createElement("div");i.className=`${a}flipside-review`;const s=n[t].products[0].rating.rating||0,c=new Date(n[t].last_updated_date),l=e.months[c.getMonth()],d=c.getFullYear(),f=c.getDate()+" "+l+" "+d;let m;m=n[t].customer&&n[t].customer.display_name?n[t].customer.display_name+" ":(0,o.default)("product_feefo_default_customer");const u=document.createElement("div");u.className=`${a}flipside-review-rating`;const p=ae(s);u.appendChild(p),i.appendChild(u);const h=document.createElement("div");h.className=`${a}flipside-review-title`;const g=document.createElement("span");g.className=`${a}flipside-review-author`,g.innerText=m,h.appendChild(g);const _=document.createElement("span");_.innerText=f,h.appendChild(_),i.appendChild(h);const b=document.createElement("div");b.className=`${a}flipside-review-comment`,b.innerText=n[t].products[0].review,i.appendChild(b),r.appendChild(i)}return r}(t);W.appendChild(Y),w.appendChild(W),r.appendChild(w);const U=document.createElement("div");return U.className=`${n}flipside-fader`,r.appendChild(U),r}function ae(e){const t=e/5*100||0,a=document.createElement("div");a.className="stars-container";const n=document.createElement("div");n.className="stars-hollow";for(let e=0;e<5;e++){const e=document.createElement("span");e.innerText="☆",n.appendChild(e)}a.appendChild(n);const r=document.createElement("div");r.className="stars-full",r.style.width=`${t}%`;for(let e=0;e<5;e++){const e=document.createElement("span");e.innerText="★",r.appendChild(e)}return a.appendChild(r),a}function ne(){const t=document.querySelector(".tabbed-ff-search__selected");if(e.ffMatcherState===l){t.classList.remove("d-none");const a=document.querySelector(".tabbed-ff-search__selected-container");if(a&&a.parentNode.removeChild(a),e.ffMatcherSelectedFragrances.length<1)return;const n=document.createElement("div");n.className="tabbed-ff-search__selected-container";for(let t=0;t<e.ffMatcherSelectedFragrances.length;t++){const a=e.ffMatcherSelectedFragrances[t],r=document.createElement("div");r.className="tabbed-ff-search__selected-item",r.setAttribute("data-id",a.ID);const o=document.createElement("div");o.className="tabbed-ff-search__selected-item-image",o.style.setProperty("background-image",`url("https://d1jqjf61hb3kk6.cloudfront.net/online/${a.Images.Thumbnail}")`);const i=document.createElement("div");i.className="tabbed-ff-search__selected-item-details";const s=document.createElement("div");s.className="tabbed-ff-search__selected-item-name",s.innerText=a.Name;const c=document.createElement("div");c.className="tabbed-ff-search__selected-item-brand",c.innerText=a.Brand;const l=document.createElement("i");l.className="tabbed-ff-search__selected-item-close material-icons 20 md-dark",l.style.setProperty("font-size","15px"),l.innerText="close",r.appendChild(o),i.appendChild(s),i.appendChild(c),r.appendChild(i),r.appendChild(l),n.appendChild(r)}t.appendChild(n)}else t.classList.add("d-none")}function re(){const t=document.querySelector(".tabbed-ff-search__selected-desktop");if(e.ffMatcherState===m){t.classList.remove("d-none");const a=document.querySelector(".tabbed-ff-search__selected-desktop-container");if(a&&a.parentNode.removeChild(a),e.ffMatcherSelectedFragrances.length<1)return;const n=document.createElement("div");n.className="tabbed-ff-search__selected-desktop-container";for(let t=0;t<e.ffMatcherSelectedFragrances.length;t++){const a=e.ffMatcherSelectedFragrances[t],r=document.createElement("div");r.className="tabbed-ff-search__selected-item";const o=document.createElement("div");o.className="tabbed-ff-search__selected-item-image",o.style.setProperty("background-image",`url("https://d1jqjf61hb3kk6.cloudfront.net/online/${a.Images.Thumbnail}")`);const i=document.createElement("div");i.className="tabbed-ff-search__selected-item-details";const s=document.createElement("div");s.className="tabbed-ff-search__selected-item-name",s.innerText=a.Name_ol[e.lang];const c=document.createElement("div");c.className="tabbed-ff-search__selected-item-brand",c.innerText=a.Brand,r.appendChild(o),i.appendChild(s),i.appendChild(c),r.appendChild(i),n.appendChild(r)}t.appendChild(n)}else t.classList.add("d-none")}function oe(){e.ffMatcherState=l,e.ffMatcherSelectedProfile=null,e.ffMatcherSelectedFragrances=[],e.ffMatcherProfileDetails=null,e.ffMatcherRecommendations=[],e.ffMatcherSearchAllowed=!0,j(),I(),H(),ne(),re(),O(),G(),z(),B(),J()}function ie(t){t?e.ffMatcherProfileSelectorState=t:e.ffMatcherProfileSelectorState===x?e.ffMatcherProfileSelectorState=A:e.ffMatcherProfileSelectorState===A&&(e.ffMatcherProfileSelectorState=x),H()}function se(t){e.ffMatcherProfileForm.gender!==t&&(e.ffMatcherProfileForm.gender=t,X())}function ce(t){t.stopPropagation(),e.ffMatcherSaveProfileState=u,e.ffMatcherProfileSelectorState=x,e.ffMatcherProfileDetailsState=v,e.ffMatcherProfileDetailsSlide=0,W(),X(),H()}function le(){e.ffMatcherProfileDetailsState=_,W(),de()}function de(){e.ffMatcherState=l,e.ffMatcherSaveProfileState=u,e.ffMatcherProfileSelectorState=x,e.ffMatcherRecommendations=[],H(),X(),j(),I(),ne(),re(),O(),G(),z(),B(),J()}function fe(t){const a=e.ffMatcherProfiles.filter((e=>t===e.id))?.[0];a&&(e.ffMatcherSelectedProfile=t,e.ffMatcherSelectedFragrances=[...a.favourites],e.ffMatcherProfileDetails=a.profileDetails,K(a.name),e.ffMatcherProfileForm.gender=a.gender,sessionStorage.setItem("tabbedFFLastProfile",t),ne(),re(),z(),O(),I())}function me(t){fe(t),ie(x),e.ffMatcherState!==l?e.ffMatcherState===m&&(e.ffMatcherState=d,O(),je(),I(),G(),j(),z(),ne(),re(),H(),B(),J()):Ae()}function ue(){K(""),e.ffMatcherProfileForm.gender="u"}function pe(){let t=[...e.ffMatcherProfiles].sort(((e,t)=>t.id-e.id))[0]?.id;void 0===t&&(t=0);const a={id:t+1,name:e.ffMatcherProfileForm.name||`${(0,o.default)("ff_matcher_default_profile_name")} ${t+1}`,gender:e.ffMatcherProfileForm.gender||"u",favourites:[...e.ffMatcherSelectedFragrances],profileDetails:e.ffMatcherProfileDetails};e.ffMatcherProfileForm.name||(a.noName=!0),e.ffMatcherProfiles.push(a),fe(a.id)}function he(){for(let t=0;t<e.ffMatcherProfiles.length;t++)if(e.ffMatcherProfiles[t].id===e.ffMatcherSelectedProfile){e.ffMatcherProfiles[t].favourites=[...e.ffMatcherSelectedFragrances],ve();break}}function ge(t){e.ffMatcherProfiles=e.ffMatcherProfiles.filter((e=>e.id!==t)),ve(),e.ffMatcherSelectedProfile===t&&(e.ffMatcherSelectedFragrances=[],e.ffMatcherSearchAllowed=!0,e.ffMatcherSelectedProfile=null,e.ffMatcherProfileSelectorState=x,ue(),e.ffMatcherState=l,e.ffMatcherSaveProfileState=u,z(),X(),j(),O(),ne(),re(),H(),G(),I(),J())}function _e(){e.ffMatcherProfileDetailsState=_,W()}function be(){e.ffMatcherSaveProfileState=u,X()}function ve(){localStorage.setItem("tabbedFFSaved",JSON.stringify(e.ffMatcherProfiles))}function ye(t){if(!t.target.classList.contains("tabbed-ff-search__selected-item-close"))return;const a=t.target.closest(".tabbed-ff-search__selected-item");if(!a)return;const n=+a.getAttribute("data-id");var r;r=n,e.ffMatcherSelectedFragrances=e.ffMatcherSelectedFragrances.filter((e=>e.ID!==r)),O(),j(),ne(),I()}function we(t,a){e.ffMatcherRecommendations[t].feefoSorting!==a&&(e.ffMatcherRecommendations[t].feefoSorting=a,Z(t))}function Se(t,a,n){t.stopPropagation(),e.ffMatcherRecommendations[a].feefoFilter=n,e.ffMatcherRecommendations[a].feefoDropdown=F,Z(a)}function Ee(e,t){const a=t.substring(0,1).toLowerCase();xe(`https://fotw-ws.fragrancesoftheworld.com/api/ConsolidatedIngredients?q=${e.Name}`,!0,(t=>{!function(e,t,a){let n;for(let a=0;a<e.length;a++)if(e[a].Name===t.Name){n=e[a].ID;break}n&&(window.location.href=`/fragrance-finder/note/${n}/${a}?hideBack=true`)}(t,e,a)}),(()=>{console.log("Tabbed-ffMatcher: Error while getting notes list")}))}function Ce(e){e===y&&Le(y),e===w&&Le(w)}function Me(e,t){e.style.webkitTransform=t,e.style.mozTransform=t,e.style.msTransform=t,e.style.oTransform=t,e.style.transform=t}function Ne(){e.ffMatcherCarouselPosition=0;const t=document.querySelector(".tabbed-ff-search__carousel-items-container");t&&(Me(t,"translate(0, 0)"),Q())}function Pe(t){e.ffMatcherCarouselDragging.dragDown=!0,t.changedTouches&&t.changedTouches.length?(e.ffMatcherCarouselDragging.startX=t.changedTouches[0].clientX,e.ffMatcherCarouselDragging.startY=t.changedTouches[0].clientY):(e.ffMatcherCarouselDragging.startX=t.clientX,e.ffMatcherCarouselDragging.startY=t.clientY)}function $e(t){if(!e.ffMatcherCarouselDragging.dragDown)return;let a,n;e.ffMatcherCarouselDragging.dragDown=!1,t.changedTouches?(a=t.changedTouches[0].clientX,n=t.changedTouches[0].clientY):(a=t.clientX,n=t.clientY);const r=Math.abs(a-e.ffMatcherCarouselDragging.startX);r<Math.abs(n-e.ffMatcherCarouselDragging.startY)||r<innerWidth/10||(a>e.ffMatcherCarouselDragging.startX?Ce(y):Ce(w))}function Le(t){const a=document.querySelector(".tabbed-ff-search__carousel-item");if(!a)return;const n=document.querySelector(".tabbed-ff-search__carousel-items"),r=document.querySelector(".tabbed-ff-search__carousel-items-container"),o=a.getBoundingClientRect().width,i=parseInt(window.getComputedStyle(a,null).marginRight),s=-(e.ffMatcherRecommendations.length*(o+2*i)-n.getBoundingClientRect().width+2*parseInt(window.getComputedStyle(r,null).paddingRight));let c;t===y&&(c=e.ffMatcherCarouselPosition+o+2*i),t===w&&(c=e.ffMatcherCarouselPosition-o-2*i),c>0&&(c=0),c<s&&(c=s),e.ffMatcherCarouselPosition=c,Me(r,"translate("+c+"px, 0)"),Q()}function ke(){const e=document.querySelector(".tabbed-ff-search__search-results-container");e&&e.parentNode.removeChild(e)}function Te(a){const n=a.target.closest(".tabbed-ff-search__item");if(!n)return;const r=+n.getAttribute("data-id");if(function(a){e.ffMatcherSelectedFragrances.length===t&&(e.ffMatcherSelectedFragrances=e.ffMatcherSelectedFragrances.slice(1)),e.ffMatcherSelectedFragrances.push(a),e.config.oldMatcher()||(e.ffMatcherSearchAllowed=!1),O(),j(),ne(),I()}(e.ffMatcherSearchResults[r]),c)try{c.abort()}catch(e){}ke(),document.querySelector(".tabbed-ff-search__input").value=""}function Fe(e){const t=document.querySelector(".tabbed-ff-search__field-icon-container");e?(t.classList.add("tabbed-ff-search__field-icon-container--loading"),t.querySelector("i").innerText="data_saver_off"):(t.classList.remove("tabbed-ff-search__field-icon-container--loading"),t.querySelector("i").innerText="search")}function De(t,a,n,r,o,i){const s=new XMLHttpRequest;s.onreadystatechange=function(){if(4===this.readyState)if(200===this.status)try{r(JSON.parse(this.responseText))}catch(e){console.log("TabbedFF Request Error: ",e),o()}else o()},s.open("POST",t),s.setRequestHeader("Accept","application/json"),s.setRequestHeader("Content-Type","application/json"),n&&s.setRequestHeader("Authorization","Bearer "+e.token),s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.setRequestHeader("Access-Control-Allow-Origin","*"),s.send(a),i&&i(s)}function xe(t,a,n,r,o){const i=new XMLHttpRequest;i.onreadystatechange=function(){if(4===this.readyState)if(200===this.status)try{n(JSON.parse(this.responseText))}catch(e){console.log("TabbedFF Request Error: ",e),r()}else r()},i.open("GET",t),i.setRequestHeader("Accept","application/json"),a&&i.setRequestHeader("Authorization","Bearer "+e.token),i.send(),o&&o(i)}function Ae(){e.ffMatcherState===l&&(e.ffMatcherSelectedFragrances.length<1||e.ffMatcherRecommendations.length>0||(null===e.ffMatcherSelectedProfile?(!function(){e.ffMatcherProfileDetails=null;const t={Gtin:e.currentFragranceGtin,Fragrances:e.ffMatcherSelectedFragrances.map((e=>({ID:e.ID})))};De("https://fotw-ws.fragrancesoftheworld.com/api/MerchantFragrance/DetailsProfile",JSON.stringify(t),!0,(t=>{e.ffMatcherProfileDetails=function(e){try{const t=["DominantConsolidatedIngredients","Family","FamilyGroup","SubNote"];for(let a=0;a<t.length;a++)e[t[a]]=e[t[a]].sort(((e,t)=>t.Percentage-e.Percentage));return e}catch(t){return console.log("Error while sorting ProfileDetailsItems: ",t),e}}(t.Profile),W()}),(()=>{console.log("TabbedFF: Error while getting profile details"),e.ffMatcherProfileDetailsState=_,W()}))}(),e.ffMatcherProfileDetailsState=b,e.ffMatcherProfileDetailsSlide=0,W()):(he(),e.ffMatcherState=d,O(),je(),I(),j(),z(),ne(),H(),B(),J())))}function qe(){e.ffMatcherSaveProfileState=g,e.ffMatcherProfileSelectorState=x,X(),H()}function Re(){!function(){for(let t=0;t<e.ffMatcherProfiles.length;t++)if(e.ffMatcherProfiles[t].id===e.ffMatcherSelectedProfile){const a=e.ffMatcherProfiles[t];a.name=e.ffMatcherProfileForm.name,a.gender=e.ffMatcherProfileForm.gender,a.favourites=[...e.ffMatcherSelectedFragrances],ve();break}}(),e.ffMatcherSaveProfileState=u,e.ffMatcherProfileSelectorState=x,X(),H()}function Ie(){e.ffMatcherSaveProfileState=u,e.ffMatcherState=d,je(),X(),H(),ne(),j(),O(),I(),z(),B(),J()}function je(){const t=e.ffMatcherProfiles.filter((t=>e.ffMatcherSelectedProfile===t.id))?.[0]||{};t.gender||(console.log("No profile selected, setting gender as unisex"),t.gender="u");const a={Fragrances:e.ffMatcherSelectedFragrances.map((e=>({ID:e.ID}))),Gender:t.gender||"u"};De("https://fotw-ws.fragrancesoftheworld.com/api/Fragrance/MultipleRecommendations",JSON.stringify(a),!0,(a=>{"u"===t.gender&&(e.ffMatcherRecommendations=[...a.Recommendations.Masculine,...a.Recommendations.Feminine,...a.Recommendations.Unisex]),"m"===t.gender&&(e.ffMatcherRecommendations=[...a.Recommendations.Masculine,...a.Recommendations.Unisex]),"f"===t.gender&&(e.ffMatcherRecommendations=[...a.Recommendations.Feminine,...a.Recommendations.Unisex]);for(let t=0;t<e.ffMatcherRecommendations.length;t++){const a=e.ffMatcherRecommendations[t].MatchPercentage.reduce(((e,t)=>e+t.Percentage),0);e.ffMatcherRecommendations[t].finalMatchPercentage=Math.round(a/e.ffMatcherRecommendations[t].MatchPercentage.length)}e.ffMatcherRecommendations.sort(((e,t)=>t.finalMatchPercentage-e.finalMatchPercentage)),function(){e.ffMatcherState=f;for(let t=0;t<e.ffMatcherRecommendations.length;t++)Oe(e.ffMatcherRecommendations[t]),Ge(t,e.ffMatcherRecommendations[t])}()}),(()=>{console.log("TabbedFF: Error while getting recommendations")}))}function Oe(e){e.reviewsState=k,e.feefoDropdown=F,e.feefoSorting=S,e.feefoFilter=C}function Ge(t,a){xe(e.config.getMerchantInfoUrl(a),!1,(a=>{e.ffMatcherRecommendations[t].MerchDetails=e.config.processMerchDetails(a),ze()}),(()=>{console.log("TabbedFF: Error while getting merch details"),e.ffMatcherRecommendations[t].MerchDetails="Error",ze()})),xe(e.config.getSummaryUrl(a),!1,(a=>{e.ffMatcherRecommendations[t].FeefoSummary=a,ze()}),(()=>{console.log("TabbedFF: Error while getting feefo summary"),e.ffMatcherRecommendations[t].FeefoSummary="Error",ze()})),xe(e.config.getReviewsUrl(a),!1,(a=>{e.ffMatcherRecommendations[t].FeefoReviews=a,ze()}),(()=>{console.log("TabbedFF: Error while getting feefo reviews"),e.ffMatcherRecommendations[t].FeefoReviews="Error",ze()}))}function ze(){const t=e.ffMatcherRecommendations.some((e=>!e.MerchDetails)),a=e.ffMatcherRecommendations.some((e=>!e.FeefoSummary)),n=e.ffMatcherRecommendations.some((e=>!e.FeefoReviews));t||a||n||(e.ffMatcherState=m,G(),z(),re(),B(),J(),H(),Q())}!function(){try{const t=localStorage.getItem("tabbedFFSaved");if(!t)return console.log("TabbedFF: No saved data found"),e.ffMatcherProfiles=[],void(e.config.oldMatcher()&&(e.ffMatcherProfiles=[{favourites:[],gender:"u",id:0,name:"User"}],e.ffMatcherSelectedProfile=0));const a=JSON.parse(t);if(a.length<1)return console.log("TabbedFF: Saved profiles are empty"),e.ffMatcherProfiles=[],void(e.config.oldMatcher()&&(e.ffMatcherProfiles=[{favourites:[],gender:"u",id:0,name:"User"}],e.ffMatcherSelectedProfile=0));e.ffMatcherProfiles=a,e.config.oldMatcher()&&(e.ffMatcherSelectedProfile=0,console.log("Old matcher mode is on, switching to existing profile"))}catch(t){console.log("TabbedFF: Error while reading saved data: ",t),e.ffMatcherProfiles=[]}}(),e.ffMatcherRecommendations=[],e.ffMatcherState=l,e.ffMatcherSaveProfileState=u,e.ffMatcherProfileDetailsState=_,e.ffMatcherProfileDetailsSlide=0,e.ffMatcherProfileDetailsLoadMore=!1,e.ffMatcherProfileDetailsHighlightedWheelItem="",e.ffMatcherProfileSelectorState=x,e.ffMatcherSearchAllowed=!0,e.ffMatcherSelectedFragrances=[],e.config.oldMatcher()||(e.ffMatcherSelectedProfile=null),e.ffMatcherCarouselPosition=0,e.ffMatcherCarouselDragging={dragDown:!1,startY:0,startX:0},e.ffMatcherProfileForm={gender:"u",name:""},e.handleSelectProfile=fe,e.handleEditProfileClick=qe,e.handleSelectProfileFromMatchPercentage=me,function(){const e=document.querySelector(".tabbed-slot.tabbed-slot-3");if(!e)return;const t=document.createElement("div");t.className="tabbed-ff-background",e.appendChild(t);const a=document.createElement("div");a.className="tabbed-ff-container",e.appendChild(a)}(),R()}},{"../translations/translations":"cO8gF","../utils/drawPie":"5H6qd","@parcel/transformer-js/src/esmodule-helpers.js":"4doKB"}],cO8gF:[function(e,t,a){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(a);var r=e("./mit-it"),o=n.interopDefault(r),i=e("./tps-en"),s=n.interopDefault(i);a.default=function(){const e={tps:{en1:s.default},mit:{it:o.default}},t=window.tabbedComponentConfig?.config||"tps",a=window.tabbedComponentConfig?.language||"en1",n=e[t][a];return function(e,t){return t?n[e]?.(t)||e:n[e]||e}}()},{"./mit-it":"4r1lY","./tps-en":"3PFNh","@parcel/transformer-js/src/esmodule-helpers.js":"4doKB"}],"4r1lY":[function(e,t,a){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(a),a.default={buttons_block_ymalb:"Potrebbe piacerti anche",buttons_block_ssb:"Note olfattive simili",buttons_block_fymb:"CERCA ORA",tabbed_tabs_ymalt:"Potrebbe piacerti anche",tabbed_tabs_sst:"Note olfattive simili",tabbed_tabs_fymt:"CERCA ORA",nfcard_description_title:"DETTAGLI PRODOTTO",nfcard_description_text:" ",nfcard_scent:"Note olfattive",nfcard_note:"Note",nfcard_family:"Famiglia",nfcard_explore_family:"Scopri ora",product_tile_save:"Salva",product_label_topmatch:"La scelta migliore",product_label_sponsored:"SCELTO DA NOI",product_label_match:"%\nmatch",product_tile_notes:"Note",product_tile_more_details:"Piu' dettagli",product_tile_feefo_read_single:({numberOfReviews:e})=>`leggi ${e} recensioni`,product_tile_feefo_read_multiple:({numberOfReviews:e})=>`leggi ${e} recensioni`,product_feefo_counter:({numberOfReviews:e})=>`Opinioni indipendenti basate su <strong>${e}</strong> recensioni verificate`,product_feefo_view_reviews:({numberOfReviews:e})=>`Vedi <strong>${e}</strong> recensioni`,product_feefo_most_recent:"Piu' Recente",product_feefo_popular:"Popolare",product_feefo_rating_all:"Tutte le recensioni",product_feefo_rating_5:"5 stelle",product_feefo_rating_4:"4 stelle",product_feefo_rating_3:"3 stelle",product_feefo_rating_2:"2 stelle",product_feefo_rating_1:"1 stelle",product_feefo_default_customer:"Cliente ",months_0:"Gennaio",months_1:"Febbraio",months_2:"Marzo",months_3:"Aprile",months_4:"Maggio",months_5:"Giugno",months_6:"Luglio",months_7:"Agosto",months_8:"Settembre",months_9:"Ottobre",months_10:"Novembre",months_11:"Dicembre",ff_matcher_find_match:"TROVA IL TUO PREFERITO!",ff_matcher_intro_0:"We will use your favourites to recommend something scentsational!",ff_matcher_intro_1:"Lasciati ispirare dal tuo profumo preferito...",ff_matcher_intro_2:"In base al tuo profumo preferito, ti consigliamo...",ff_matcher_search_placeholder:"Cerca e scegli il tuo preferito...",ff_matcher_edit_your_favourites:"Edit your favourites",ff_matcher_enter_name:"Enter a name for your scent profile:",ff_matcher_this_profile_is_for:"This scent profile is for a...",ff_matcher_gender_male:"Male",ff_matcher_gender_female:"Female",ff_matcher_gender_both:"Both",ff_matcher_save_profile:"Save Profile",ff_matcher_save_your_scent_profile:"Save your scent profile",ff_matcher_proceed_without_profile:"Proceed without profile",ff_matcher_do_you_have_profile:"Do you already have a profile?",ff_matcher_save_changes:"Save changes",ff_matcher_delete_profile:"Delete Profile",ff_matcher_add_new:"Add new",ff_matcher_new_search:"NUOVA RICERCA",ff_matcher_select:"Select",ff_matcher_edit_profile:"Edit profile",ff_matcher_create_profile:"Create a new profile",ff_matcher_edit_your_scent_profile:"Edit your scent profile"}},{"@parcel/transformer-js/src/esmodule-helpers.js":"4doKB"}],"3PFNh":[function(e,t,a){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(a),a.default={buttons_block_ymalb:"You may also like",buttons_block_ssb:"Similar scents",buttons_block_fymb:"Find your match",tabbed_tabs_ymalt:"You may also like",tabbed_tabs_sst:"Similar scents",tabbed_tabs_fymt:"Find your match",nfcard_description_title:"About this fragrance",nfcard_description_text:"Discover the Fragrance Family of this scent and some key notes within it. Click each element to find out more.",nfcard_scent:"Scent",nfcard_note:"Note",nfcard_family:"Family",nfcard_explore_family:"Explore Family",product_tile_save:"Save",product_label_topmatch:"Top Match",product_label_sponsored:"Sponsored Match",product_label_match:"%\nmatch",product_tile_notes:"Notes",product_tile_more_details:"More Details",product_tile_feefo_read_single:({numberOfReviews:e})=>`Read ${e} review`,product_tile_feefo_read_multiple:({numberOfReviews:e})=>`Read ${e} reviews`,product_feefo_counter:({numberOfReviews:e})=>`Independent opinion based on <strong>${e}</strong> verified reviews.`,product_feefo_view_reviews:({numberOfReviews:e})=>`View <strong>${e}</strong> reviews`,product_feefo_most_recent:"Most Recent",product_feefo_popular:"Popular",product_feefo_rating_all:"All ratings",product_feefo_rating_5:"5 stars",product_feefo_rating_4:"4 stars",product_feefo_rating_3:"3 stars",product_feefo_rating_2:"2 stars",product_feefo_rating_1:"1 star",product_feefo_default_customer:"Customer ",months_0:"January",months_1:"February",months_2:"March",months_3:"April",months_4:"May",months_5:"June",months_6:"July",months_7:"August",months_8:"September",months_9:"October",months_10:"November",months_11:"December",ff_matcher_find_match:"Find a match",ff_matcher_intro_0:"We will use your favourites to recommend something scentsational!",ff_matcher_intro_1:"Find inspiration from your favourite scent...",ff_matcher_intro_2:"Based on your favourite scent, we recommend...",ff_matcher_search_placeholder:"Search and select your favourite...",ff_matcher_edit_your_favourites:"Edit your favourites",ff_matcher_enter_name:"Enter a name for your scent profile:",ff_matcher_name_placeholder:"Text your profile name",ff_matcher_default_profile_name:"Profile",ff_matcher_this_profile_is_for:"This scent profile is for a...",ff_matcher_gender_male:"Male",ff_matcher_gender_female:"Female",ff_matcher_gender_both:"Both",ff_matcher_save_profile:"Save Profile",ff_matcher_save_your_scent_profile:"Save your scent profile",ff_matcher_proceed_without_profile:"Proceed without saving",ff_matcher_do_you_have_profile:"Do you already have a profile?",ff_matcher_save_changes:"Save changes",ff_matcher_delete_profile:"Delete Profile",ff_matcher_add_new:"Add new",ff_matcher_new_search:"New search",ff_matcher_select:"Select",ff_matcher_edit_profile:"Edit profile",ff_matcher_create_profile:"Create a new profile",ff_matcher_edit_your_scent_profile:"Edit your scent profile",ff_matcher_scent_profile:"Scent Profile",ff_matcher_profile_details_heading_based:"Based on your favourites",ff_matcher_profile_details_heading_preferences:"Your Scent Profile",ff_matcher_profile_details_piechart_central_label_0:"Family\nGroup",ff_matcher_profile_details_piechart_central_label_1:"Family",ff_matcher_profile_details_piechart_central_label_2:"Notes",ff_matcher_profile_details_piechart_central_label_3:"Sub\nNote",ff_matcher_profile_save_your_scent:"Save your scent profile",ff_matcher_profile_proceed_without_profile:"Proceed without saving",ff_matcher_profile_edit_your_favourites:"Edit your favourites",ff_matcher_profile_details_scent_family:"Scent",ff_matcher_profile_details_note:"Note",ff_matcher_profile_details_load_more:"Load More",ff_matcher_profile_details_load_less:"Load Less",ff_matcher_profile_details_sentence_single:({familyGroupText:e,shortFamilyGroupDescription:t,familyText:a,shortFamilyDescription:n,dominantIngredients:r})=>`You seem to like ${e} fragrances that resemble ${t}. More specifically, your fragrance profile is characterized by ${a} fragrances that are ${n}, with notes of ${r[0]}, ${r[1]} and ${r[2]}.`,ff_matcher_profile_details_sentence_1:({familyGroupText:e,shortFamilyGroupDescription:t,familyText:a,shortFamilyDescription:n,dominantIngredients:r})=>`You seem to like ${e} fragrances that resemble ${t}. More specifically, your fragrance profile is characterized by ${a} fragrances that are ${n}, with notes of ${r[0]}, ${r[1]} and ${r[2]}.`,ff_matcher_profile_details_sentence_2:({familyGroupText:e,shortFamilyGroupDescription:t,familyText:a,shortFamilyDescription:n,subnoteText:r})=>`You seem to like ${e} fragrances that resemble ${t}. More specifically, your fragrance profile is characterized by ${a} fragrances that are ${n}, with ${r}`,ff_matcher_profile_details_sentence_3:({familyGroupText:e,shortFamilyGroupDescription:t,dominantIngredients:a})=>`You seem to like ${e} fragrances that resemble ${t} with notes of ${a[0]}, ${a[1]} and ${a[2]}.`,ff_matcher_profile_details_sentence_4:({familyGroupText:e,shortFamilyGroupDescription:t,subnoteText:a})=>`You seem to like ${e} fragrances that resemble ${t} with ${a}.`,ff_matcher_profile_details_sentence_5:({familyText:e,shortFamilyDescription:t,dominantIngredients:a})=>`Your fragrance profile is characterized by ${e} fragrances that are ${t}, with notes of ${a[0]}, ${a[1]} and ${a[2]}.`,ff_matcher_profile_details_sentence_6:({familyText:e,shortFamilyDescription:t,subnoteText:a})=>`Your fragrance profile is characterized by ${e} fragrances that are ${t}, with ${a}.`,ff_matcher_profile_details_sentence_7:({dominantIngredients:e})=>`You seem to like fragrances with notes of ${e[0]}, ${e[1]} and ${e[2]}.`,ff_matcher_profile_details_sentence_nomatch:"Scroll through the fragrance wheels to explore the families, notes and sub-notes that you love in a fragrance. When you’re ready, proceed to find your closest matched scents.",ff_matching_percentage_select_your_profile:"Select your profile",ff_matching_percentage_match:"Match",ff_matching_percentage_edit:"Edit",ff_matching_percentage_favourite:"'s\nFavourite",ff_matching_percentage_favourite_no_name:"Favourite\nParfume"}},{"@parcel/transformer-js/src/esmodule-helpers.js":"4doKB"}],"5H6qd":[function(e,t,a){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(a),a.default=function(){function e(e){return e*Math.PI/180}function t(t,a,n,r){const o=document.createElement("canvas"),i=o.getContext("2d");let s,c;n.width>n.height?(s=o.width=n.height,c=o.height=n.height):(s=o.width=n.width,c=o.height=n.width);const l=(r.endAngle+r.startAngle)/2,d=s/4*((r.endAngle-r.startAngle)%360/360),f=s-(s/2-d*Math.sin(e(l))),m=d*Math.cos(e(l))+s/2;i.fillStyle="white",i.fillRect(0,0,o.width,o.height),i.drawImage(n,m-n.width/2,f-n.height/2),i.globalCompositeOperation="destination-in",i.beginPath(),i.arc(s/2,c/2,c/2,e(r.startAngle),e(r.endAngle)),i.lineTo(s/2,c/2),i.closePath(),i.fill();const u=o.toDataURL(),p=document.createElement("div");p.className=`${a}-pie`,p.style.setProperty("background-image",`url("${u}")`),p.style.setProperty("opacity","0"),p.setAttribute("data-image",r.url),t.appendChild(p),setTimeout((()=>{p.style.setProperty("opacity","1")}),0)}return function(e,a,n){let r=(o=-180,i=180,o=Math.ceil(o),i=Math.floor(i),Math.floor(Math.random()*(i-o+1))+o);var o,i;for(let o=0;o<n.length;o++){n[o].startAngle=r,n[o].endAngle=r+360*n[o].percent/100,r=n[o].endAngle;const i=new Image;i.crossOrigin="Anonymous",i.onload=()=>t(e,a,i,n[o]),i.src=n[o].url}!function(e,t,a){if(!(a.length<2))for(let n=0;n<a.length;n++){let r=document.createElement("div");r.className=`${t}-line-container`;let o=document.createElement("div");o.className=`${t}-line-left`;let i=document.createElement("div");i.className=`${t}-line-right`,r.appendChild(o),r.appendChild(i),r.style.setProperty("transform",`rotate(${a[n].endAngle}deg)`),e.appendChild(r)}}(e,a,n)}}()},{"@parcel/transformer-js/src/esmodule-helpers.js":"4doKB"}],bPl4w:[function(e,t,a){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(a);var r=e("../translations/translations"),o=n.interopDefault(r);a.default=function(e){const t="OPEN",a="CLOSED";function n(){const n="tabbed-ff__match-percentage",d=document.querySelector(`.${n}`);if(d)if(e.ffMatchPercentageState!==a||e.ffMatcherProfiles.length)if(e.ffMatchPercentageState===a&&e.ffMatcherProfiles.length&&null===e.ffMatchPercentageSelectedProfile){const e=document.createElement("div");e.className=n;const t=document.createElement("div");t.className=`${n}-container`;const a=document.createElement("div");a.className=`${n}-outline`;const r=document.createElement("div");r.className=`${n}-select-button`,r.addEventListener("click",s);const i=document.createElement("i");i.className=`${n}-select-button-icon material-icons`,i.innerText="account_circle";const c=document.createElement("div");c.className=`${n}-select-button-text`,c.innerText=(0,o.default)("ff_matching_percentage_select_your_profile"),r.appendChild(i),r.appendChild(c),t.appendChild(a),t.appendChild(r),e.appendChild(t),d.parentNode.replaceChild(e,d)}else if(e.ffMatchPercentageState===t&&e.ffMatcherProfiles.length&&null===e.ffMatchPercentageSelectedProfile){const t=document.createElement("div");t.className=n;const a=document.createElement("div");a.className=`${n}-container`;const r=document.createElement("div");r.className=`${n}-outline`;const s=document.createElement("div");s.className=`${n}-select-button ${n}-select-button--open`,s.addEventListener("click",c);const l=document.createElement("i");l.className=`${n}-select-button-icon material-icons`,l.innerText="account_circle";const f=document.createElement("div");f.className=`${n}-select-button-text`,f.innerText=(0,o.default)("ff_matching_percentage_select_your_profile");const m=document.createElement("div");m.className=`${n}-profile-list`;for(let t=0;t<e.ffMatcherProfiles.length;t++){const a=document.createElement("div");a.className=`${n}-profile-item`,a.innerText=e.ffMatcherProfiles[t].name,a.addEventListener("click",(()=>{i(e.ffMatcherProfiles[t].id)})),m.appendChild(a)}s.appendChild(l),s.appendChild(f),a.appendChild(r),a.appendChild(m),a.appendChild(s),t.appendChild(a),d.parentNode.replaceChild(t,d)}else if(e.ffMatchPercentageState===a&&null!==e.ffMatchPercentageSelectedProfile&&null===e.ffMatchPercentagetDetails){const e=document.createElement("div");e.className=n;const t=document.createElement("div");t.className=`${n}-container`;const a=document.createElement("div");a.className=`${n}-outline`;const r=document.createElement("div");r.className=`${n}-loader`,t.appendChild(a),t.appendChild(r),e.appendChild(t),d.parentNode.replaceChild(e,d)}else if(e.ffMatchPercentageState===a&&null!==e.ffMatchPercentageSelectedProfile&&null!==e.ffMatchPercentagetDetails){let t=!1;for(let a=0;a<e.ffMatchPercentageSelectedProfile.favourites.length;a++)if(e.ffMatchPercentageSelectedProfile.favourites[a].ID===e.ffMatchPercentagetDetails.Details.ID){t=!0;break}const a=e.ffMatchPercentagetDetails.Details.MatchPercentage.reduce(((e,t)=>e+t.Percentage),0),i=Math.round(a/e.ffMatchPercentagetDetails.Details.MatchPercentage.length),c=document.createElement("div");c.className=n;const l=document.createElement("div");l.className=`${n}-container`;const f=document.createElement("div");if(f.className=`${n}-outline`,t){l.appendChild(f);const t=document.createElement("div");t.className=`${n}-favourite-fragrance-block`,t.addEventListener("click",s);const a=document.createElement("div");a.className=`${n}-favourite-fragrance-icon-container`;const r=document.createElement("div");r.className=`${n}-favourite-fragrance-icon`;const i=document.createElement("i");i.className=`material-icons ${n}-favourite-fragrance-icon-body`,i.innerText="crop_3_2";const m=document.createElement("i");m.className=`material-icons ${n}-favourite-fragrance-icon-star`,m.innerText="star";const u=document.createElement("i");u.className=`material-icons ${n}-favourite-fragrance-icon-upper`,u.innerText="beach_access",r.appendChild(i),r.appendChild(m),r.appendChild(u),a.appendChild(r);const p=document.createElement("div");return p.className=`${n}-favourite-fragrance-text`,p.innerText=e.ffMatchPercentageSelectedProfile.noName?`${(0,o.default)("ff_matching_percentage_favourite_no_name")}`:`${e.ffMatchPercentageSelectedProfile.name}${(0,o.default)("ff_matching_percentage_favourite")}`,t.appendChild(a),t.appendChild(p),l.appendChild(t),c.appendChild(l),void d.parentNode.replaceChild(c,d)}if(i<60)return d.parentNode.replaceChild(c,d),void e.scrollToTabbed();const m=document.createElement("div");m.className=`${n}-match-percent`,m.addEventListener("click",s);const u=r(i,n),p=document.createElement("div");p.className=`${n}-match-percent-text`,p.innerText=`${i}%\n${(0,o.default)("ff_matching_percentage_match")}`,l.appendChild(f),m.appendChild(u),m.appendChild(p),l.appendChild(m),c.appendChild(l),d.parentNode.replaceChild(c,d)}else if(e.ffMatchPercentageState===t&&null!==e.ffMatchPercentageSelectedProfile&&null!==e.ffMatchPercentagetDetails){let t=!1;for(let a=0;a<e.ffMatchPercentageSelectedProfile.favourites.length;a++)if(e.ffMatchPercentageSelectedProfile.favourites[a].ID===e.ffMatchPercentagetDetails.Details.ID){t=!0;break}const a=e.ffMatchPercentagetDetails.Details.MatchPercentage.reduce(((e,t)=>e+t.Percentage),0),s=Math.round(a/e.ffMatchPercentagetDetails.Details.MatchPercentage.length),f=e.ffMatcherProfiles.find((t=>t.id===e.ffMatchPercentageSelectedProfile.id)),m=document.createElement("div");m.className=n,s<60&&d.parentNode.replaceChild(m,d);const u=document.createElement("div");u.className=`${n}-container`;const p=document.createElement("div");p.className=`${n}-outline`;const h=document.createElement("div");if(h.className=`${n}-match-percent`,h.addEventListener("click",c),!t){const e=r(s,n);h.appendChild(e)}const g=document.createElement("div");g.className=`${n}-match-edit-text`,g.innerText=`${(0,o.default)("ff_matching_percentage_edit")}\n${f.name}`,g.addEventListener("click",l);const _=document.createElement("div");_.className=`${n}-profile-list ${n}-profile-list--faded`;for(let t=0;t<e.ffMatcherProfiles.length;t++){if(e.ffMatcherProfiles[t].id===e.ffMatchPercentageSelectedProfile.id)continue;const a=document.createElement("div");a.className=`${n}-profile-item`,a.innerText=e.ffMatcherProfiles[t].name,a.addEventListener("click",(()=>{i(e.ffMatcherProfiles[t].id)})),_.appendChild(a)}u.appendChild(p),u.appendChild(h),u.appendChild(_),u.appendChild(g),m.appendChild(u),d.parentNode.replaceChild(m,d)}else console.log("FFMatchPercentage: state out of options;"),d.classList.add("d-none");else d.classList.add("d-none")}function r(e,t){const a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttributeNS(null,"class",`${t}-percentage-ring`),a.setAttributeNS(null,"height","60"),a.setAttributeNS(null,"width","60");const n=document.createElementNS("http://www.w3.org/2000/svg","circle");n.setAttributeNS(null,"class",`${t}-percentage-ring--back-ring`),n.setAttributeNS(null,"cx","35"),n.setAttributeNS(null,"cy","35"),n.setAttributeNS(null,"r","29"),a.appendChild(n);const r=250-182*e/100,o=.01*e,i=document.createElementNS("http://www.w3.org/2000/svg","circle");return i.setAttributeNS(null,"class",`${t}-percentage-ring--front-ring`),i.setAttributeNS(null,"cx","35"),i.setAttributeNS(null,"cy","35"),i.setAttributeNS(null,"r","29"),i.style.strokeDashoffset=r.toString(),i.style.opacity=o.toString(),a.appendChild(i),a}function i(t){const r=e.ffMatcherProfiles.filter((e=>e.id===t))[0];if(!r)return;e.ffMatchPercentageSelectedProfile=r,e.ffMatchPercentagetDetails=null,e.ffMatchPercentageState=a,n(),function(){const t={Gtin:e.currentFragranceGtin,Fragrances:e.ffMatchPercentageSelectedProfile.favourites.map((e=>({ID:e.ID})))};!function(t,a,n,r,o,i){const s=new XMLHttpRequest;s.onreadystatechange=function(){if(4===this.readyState)if(200===this.status)try{r(JSON.parse(this.responseText))}catch(e){console.log("MatchPercentage Request Error: ",e),o()}else o()},s.open("POST",t),s.setRequestHeader("Accept","application/json"),s.setRequestHeader("Content-Type","application/json"),n&&s.setRequestHeader("Authorization","Bearer "+e.token);s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.setRequestHeader("Access-Control-Allow-Origin","*"),s.send(a),i&&i(s)}("https://fotw-ws.fragrancesoftheworld.com/api/MerchantFragrance/DetailsProfile",JSON.stringify(t),!0,(t=>{e.ffMatchPercentagetDetails=t,n()}),(()=>{console.log("TabbedFF: Error while getting profile details")}))}(),e.handleSelectProfileFromMatchPercentage(t);const o=sessionStorage.getItem("tabbedFFLastTab");o&&1===e.ffMatcherProfiles.length?e.setActiveTab(o):e.setActiveTab("find-your-match")}function s(){e.ffMatchPercentageState=t,n()}function c(){e.ffMatchPercentageState=a,n()}function l(t){t.stopPropagation(),c(),e.scrollToTabbed(),document.querySelector(".tabbed-tab[data-action=find-your-match]").click(),e.handleSelectProfile(e.ffMatchPercentageSelectedProfile.id),e.handleEditProfileClick()}e.ffMatchPercentageState=a,e.ffMatchPercentageSelectedProfile=null,e.ffMatchPercentagetDetails=null,function(){const t=e.config.getMatchPercentagePlace();if(!t)return void console.log("FFMatchPercentage: target place has not been found.");const a=document.createElement("div");a.className="tabbed-ff__match-percentage d-none",t.appendChild(a)}(),e.matchPercentageReady=function(){if(1===e.ffMatcherProfiles.length){const t=sessionStorage.getItem("tabbedFFLastProfile");if(t&&+t===e.ffMatcherProfiles[0].id)return void i(+t)}n()}}},{"../translations/translations":"cO8gF","@parcel/transformer-js/src/esmodule-helpers.js":"4doKB"}],"4rney":[function(e,t,a){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(a),a.default={checkCorrectPage:()=>!!document.querySelector("section#product"),getProductDescriptionTitle:()=>document.querySelector(".product_descr__title"),getNfCardTargetElement:()=>document.querySelector(".product_descr__title"),getGalleryCarouselContainer:()=>document.querySelector(".product_gallery__carousel_container"),getTabbedTargetPlace:()=>document.querySelector("section#product"),getTokenUrl:()=>"https://aswatson.ovolab.com/fragrance_finder/token.php?domain=www.theperfumeshop.com&client_key=15A137CB-E5EF-430E-9EDB-B5AE89C8FC04",getBreadCrumbsText:()=>document.querySelector(".breadcrumbs__container").textContent,getGtin(){let e="3423474889457";try{e=document.querySelector(".product_info__secondary_info span[data-gtin]").dataset.gtin}catch(e){console.log("Couldn't get gtin from the page")}return e},getGtinAsync(e){let t;!function a(){try{t=document.querySelector(".product_info__secondary_info span[data-gtin]").dataset.gtin,t?e(t):(console.log("Couldn't get gtin from the page"),setTimeout(a,300))}catch(e){console.log("Couldn't get gtin from the page: ",e),setTimeout(a,300)}}()},getLanguageCode:()=>0,getMerchantInfoUrl:e=>"/baseProductUrl/p/"+e.MerchantFragranceDetails.gid+"/get-product-details?productCode="+e.MerchantFragranceDetails.gid,getInsiderCarouselSelector:()=>document.querySelector(".ins-preview-wrapper.ins-preview-wrapper-783")||document.querySelector(".ins-preview-wrapper.ins-preview-wrapper-812"),processMerchDetails(e){const t=e.baseOptions?.[0]?.selected?.priceData?.formattedValue,a=e.baseOptions?.[0]?.selected?.savePrice?.formattedValue,n=e.baseOptions[0]?.selected?.igcContentSizeUnit;return{mainPrice:t,altPrice:a,volume:n}},getSummaryUrl:e=>`https://api.feefo.com/api/10/reviews/summary/product?merchant_identifier=the-perfume-shop&product_sku=${e.MerchantFragranceDetails.gid}`,getReviewsUrl:e=>`https://api.feefo.com/api/10/reviews/product?merchant_identifier=the-perfume-shop&product_sku=${e.MerchantFragranceDetails.gid}&page_size=100`,getMaxSelectedPerfumes:()=>3,oldMatcher:()=>!1,getMatchPercentagePlace(){const e=document.querySelector("section#product");return e&&e.style.setProperty("position","relative"),e}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"4doKB"}],"4Y57x":[function(e,t,a){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(a),a.default={checkCorrectPage:()=>!!document.querySelector(".pdp"),getProductDescriptionTitle:()=>document.querySelector(".heading__text"),getNfCardTargetElement:()=>document.querySelector(".heading"),getGalleryCarouselContainer:()=>document.querySelector(".pdp__gallery .e2-product-gallery"),getTabbedTargetPlace:()=>document.querySelector(".tabs.js-tabs.tabs-responsive"),getTokenUrl:()=>"https://aswatson.ovolab.com/fragrance_finder/token.php?domain=www.marionnaud.it&client_key=6DCA3456-83A4-4C1B-8533-DFF92C057936",getGtin:()=>window.__ecore2.store.getState().product.details.ean,getGtinAsync(e){let t;!function a(){try{t=window.__ecore2.store.getState().product.details.ean,t?e(t):(console.log("Couldn't get gtin from the store"),setTimeout(a,300))}catch(e){console.log("Couldn't get gtin from the store"),setTimeout(a,300)}}()},getBreadCrumbsText:()=>"Fragrance",getLanguageCode:()=>9,getMerchantInfoUrl:e=>`/api/v2/mit/products/${e.MerchantFragranceDetails.gid}/?fields=FULL&lang=it_IT`,getInsiderCarouselSelector:()=>document.querySelector(".ins-preview-wrapper.ins-preview-wrapper-115")||document.querySelector(".ins-preview-wrapper.ins-preview-wrapper-135"),processMerchDetails(e){const t=e.price.formattedValue,a=e.price.value,n=e.price.oldValue,r=n&&a?`€ ${(n-a).toFixed(2).replace(".",",")}`:"",o=e.variantValueCategories?.[0]?.name;return{mainPrice:t,altPrice:r,volume:o}},getSummaryUrl:e=>`https://api.feefo.com/api/10/reviews/summary/product?merchant_identifier=marionnaud-it&parent_product_sku=${e.MerchantFragranceDetails.gid}`,getReviewsUrl:e=>`https://api.feefo.com/api/10/reviews/product?merchant_identifier=marionnaud-it&parent_product_sku=${e.MerchantFragranceDetails.gid}&page_size=100`,getMaxSelectedPerfumes:()=>1,oldMatcher:()=>!0}},{"@parcel/transformer-js/src/esmodule-helpers.js":"4doKB"}]},["hS2lx"],"hS2lx");
//# sourceMappingURL=tabbed-recommendations.efb880e8.js.map
