let var_494021e4_bd44_5d8b_9b4a_812d17647200,__tla=(async()=>{var va=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),ba=va((exports,module)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function e(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=e(n);fetch(n.href,o)}})();const scriptRel="modulepreload",assetsURL=function(t){return"/"+t},seen={},__vitePreload=function(t,e,r){if(!e||e.length===0)return t();const n=document.getElementsByTagName("link");return Promise.all(e.map(o=>{if(o=assetsURL(o),o in seen)return;seen[o]=!0;const s=o.endsWith(".css"),c=s?'[rel="stylesheet"]':"";if(r)for(let u=n.length-1;u>=0;u--){const m=n[u];if(m.href===o&&(!s||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${c}`))return;const d=document.createElement("link");if(d.rel=s?"stylesheet":scriptRel,s||(d.as="script",d.crossOrigin=""),d.href=o,document.head.appendChild(d),s)return new Promise((u,m)=>{d.addEventListener("load",u),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})};function makeMap(t,e){const r=Object.create(null),n=t.split(",");for(let o=0;o<n.length;o++)r[n[o]]=!0;return e?o=>!!r[o.toLowerCase()]:o=>!!r[o]}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=t=>onRE.test(t),isModelListener=t=>t.startsWith("onUpdate:"),extend$1=Object.assign,remove=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},hasOwnProperty$f=Object.prototype.hasOwnProperty,hasOwn$1=(t,e)=>hasOwnProperty$f.call(t,e),isArray$3=Array.isArray,isMap$2=t=>toTypeString$1(t)==="[object Map]",isSet$2=t=>toTypeString$1(t)==="[object Set]",isFunction$3=t=>typeof t=="function",isString$2=t=>typeof t=="string",isSymbol$1=t=>typeof t=="symbol",isObject$4=t=>t!==null&&typeof t=="object",isPromise=t=>isObject$4(t)&&isFunction$3(t.then)&&isFunction$3(t.catch),objectToString$3=Object.prototype.toString,toTypeString$1=t=>objectToString$3.call(t),toRawType=t=>toTypeString$1(t).slice(8,-1),isPlainObject$3=t=>toTypeString$1(t)==="[object Object]",isIntegerKey=t=>isString$2(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(t=>t.replace(camelizeRE,(e,r)=>r?r.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(t=>t.replace(hyphenateRE,"-$1").toLowerCase()),capitalize$1=cacheStringFunction(t=>t.charAt(0).toUpperCase()+t.slice(1)),toHandlerKey=cacheStringFunction(t=>t?`on${capitalize$1(t)}`:""),hasChanged=(t,e)=>!Object.is(t,e),invokeArrayFns=(t,e)=>{for(let r=0;r<t.length;r++)t[r](e)},def=(t,e,r)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r})},looseToNumber=t=>{const e=parseFloat(t);return isNaN(e)?t:e},toNumber$1=t=>{const e=isString$2(t)?Number(t):NaN;return isNaN(e)?t:e};let _globalThis$1;const getGlobalThis$1=()=>_globalThis$1||(_globalThis$1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(t){if(isArray$3(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],o=isString$2(n)?parseStringStyle(n):normalizeStyle(n);if(o)for(const s in o)e[s]=o[s]}return e}else if(isString$2(t)||isObject$4(t))return t}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(t){const e={};return t.replace(styleCommentRE,"").split(listDelimiterRE).forEach(r=>{if(r){const n=r.split(propertyDelimiterRE);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function normalizeClass(t){let e="";if(isString$2(t))e=t;else if(isArray$3(t))for(let r=0;r<t.length;r++){const n=normalizeClass(t[r]);n&&(e+=n+" ")}else if(isObject$4(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(t){return!!t||t===""}const toDisplayString$1=t=>isString$2(t)?t:t==null?"":isArray$3(t)||isObject$4(t)&&(t.toString===objectToString$3||!isFunction$3(t.toString))?JSON.stringify(t,replacer,2):String(t),replacer=(t,e)=>e&&e.__v_isRef?replacer(t,e.value):isMap$2(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,o])=>(r[`${n} =>`]=o,r),{})}:isSet$2(e)?{[`Set(${e.size})`]:[...e.values()]}:isObject$4(e)&&!isArray$3(e)&&!isPlainObject$3(e)?String(e):e;let activeEffectScope;class EffectScope{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!e&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const r=activeEffectScope;try{return activeEffectScope=this,e()}finally{activeEffectScope=r}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(e){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function effectScope(t){return new EffectScope(t)}function recordEffectScope(t,e=activeEffectScope){e&&e.active&&e.effects.push(t)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(t){activeEffectScope&&activeEffectScope.cleanups.push(t)}const createDep=t=>{const e=new Set(t);return e.w=0,e.n=0,e},wasTracked=t=>(t.w&trackOpBit)>0,newTracked=t=>(t.n&trackOpBit)>0,initDepMarkers=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=trackOpBit},finalizeDepMarkers=t=>{const{deps:e}=t;if(e.length){let r=0;for(let n=0;n<e.length;n++){const o=e[n];wasTracked(o)&&!newTracked(o)?o.delete(t):e[r++]=o,o.w&=~trackOpBit,o.n&=~trackOpBit}e.length=r}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(e,r=null,n){this.fn=e,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,n)}run(){if(!this.active)return this.fn();let e=activeEffect,r=shouldTrack;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(t){const{deps:e}=t;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(t);e.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const t=trackStack.pop();shouldTrack=t===void 0?!0:t}function track(t,e,r){if(shouldTrack&&activeEffect){let n=targetMap.get(t);n||targetMap.set(t,n=new Map);let o=n.get(r);o||n.set(r,o=createDep()),trackEffects(o)}}function trackEffects(t,e){let r=!1;effectTrackDepth<=maxMarkerBits?newTracked(t)||(t.n|=trackOpBit,r=!wasTracked(t)):r=!t.has(activeEffect),r&&(t.add(activeEffect),activeEffect.deps.push(t))}function trigger(t,e,r,n,o,s){const c=targetMap.get(t);if(!c)return;let d=[];if(e==="clear")d=[...c.values()];else if(r==="length"&&isArray$3(t)){const u=Number(n);c.forEach((m,_)=>{(_==="length"||_>=u)&&d.push(m)})}else switch(r!==void 0&&d.push(c.get(r)),e){case"add":isArray$3(t)?isIntegerKey(r)&&d.push(c.get("length")):(d.push(c.get(ITERATE_KEY)),isMap$2(t)&&d.push(c.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$3(t)||(d.push(c.get(ITERATE_KEY)),isMap$2(t)&&d.push(c.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap$2(t)&&d.push(c.get(ITERATE_KEY));break}if(d.length===1)d[0]&&triggerEffects(d[0]);else{const u=[];for(const m of d)m&&u.push(...m);triggerEffects(createDep(u))}}function triggerEffects(t,e){const r=isArray$3(t)?t:[...t];for(const n of r)n.computed&&triggerEffect(n);for(const n of r)n.computed||triggerEffect(n)}function triggerEffect(t,e){(t!==activeEffect||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function getDepFromReactive(t,e){var r;return(r=targetMap.get(t))==null?void 0:r.get(e)}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(isSymbol$1)),get$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const n=toRaw(this);for(let s=0,c=this.length;s<c;s++)track(n,"get",s+"");const o=n[e](...r);return o===-1||o===!1?n[e](...r.map(toRaw)):o}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){pauseTracking();const n=toRaw(this)[e].apply(this,r);return resetTracking(),n}}),t}function hasOwnProperty$e(t){const e=toRaw(this);return track(e,"has",t),e.hasOwnProperty(t)}function createGetter(t=!1,e=!1){return function(r,n,o){if(n==="__v_isReactive")return!t;if(n==="__v_isReadonly")return t;if(n==="__v_isShallow")return e;if(n==="__v_raw"&&o===(t?e?shallowReadonlyMap:readonlyMap:e?shallowReactiveMap:reactiveMap).get(r))return r;const s=isArray$3(r);if(!t){if(s&&hasOwn$1(arrayInstrumentations,n))return Reflect.get(arrayInstrumentations,n,o);if(n==="hasOwnProperty")return hasOwnProperty$e}const c=Reflect.get(r,n,o);return(isSymbol$1(n)?builtInSymbols.has(n):isNonTrackableKeys(n))||(t||track(r,"get",n),e)?c:isRef(c)?s&&isIntegerKey(n)?c:c.value:isObject$4(c)?t?readonly(c):reactive(c):c}}const set$1=createSetter(),shallowSet=createSetter(!0);function createSetter(t=!1){return function(e,r,n,o){let s=e[r];if(isReadonly(s)&&isRef(s)&&!isRef(n))return!1;if(!t&&(!isShallow(n)&&!isReadonly(n)&&(s=toRaw(s),n=toRaw(n)),!isArray$3(e)&&isRef(s)&&!isRef(n)))return s.value=n,!0;const c=isArray$3(e)&&isIntegerKey(r)?Number(r)<e.length:hasOwn$1(e,r),d=Reflect.set(e,r,n,o);return e===toRaw(o)&&(c?hasChanged(n,s)&&trigger(e,"set",r,n):trigger(e,"add",r,n)),d}}function deleteProperty(t,e){const r=hasOwn$1(t,e);t[e];const n=Reflect.deleteProperty(t,e);return n&&r&&trigger(t,"delete",e,void 0),n}function has$1(t,e){const r=Reflect.has(t,e);return(!isSymbol$1(e)||!builtInSymbols.has(e))&&track(t,"has",e),r}function ownKeys(t){return track(t,"iterate",isArray$3(t)?"length":ITERATE_KEY),Reflect.ownKeys(t)}const mutableHandlers={get:get$1,set:set$1,deleteProperty,has:has$1,ownKeys},readonlyHandlers={get:readonlyGet,set(t,e){return!0},deleteProperty(t,e){return!0}},shallowReactiveHandlers=extend$1({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=t=>t,getProto=t=>Reflect.getPrototypeOf(t);function get(t,e,r=!1,n=!1){t=t.__v_raw;const o=toRaw(t),s=toRaw(e);r||(e!==s&&track(o,"get",e),track(o,"get",s));const{has:c}=getProto(o),d=n?toShallow:r?toReadonly:toReactive;if(c.call(o,e))return d(t.get(e));if(c.call(o,s))return d(t.get(s));t!==o&&t.get(e)}function has(t,e=!1){const r=this.__v_raw,n=toRaw(r),o=toRaw(t);return e||(t!==o&&track(n,"has",t),track(n,"has",o)),t===o?r.has(t):r.has(t)||r.has(o)}function size(t,e=!1){return t=t.__v_raw,!e&&track(toRaw(t),"iterate",ITERATE_KEY),Reflect.get(t,"size",t)}function add(t){t=toRaw(t);const e=toRaw(this);return getProto(e).has.call(e,t)||(e.add(t),trigger(e,"add",t,t)),this}function set(t,e){e=toRaw(e);const r=toRaw(this),{has:n,get:o}=getProto(r);let s=n.call(r,t);s||(t=toRaw(t),s=n.call(r,t));const c=o.call(r,t);return r.set(t,e),s?hasChanged(e,c)&&trigger(r,"set",t,e):trigger(r,"add",t,e),this}function deleteEntry(t){const e=toRaw(this),{has:r,get:n}=getProto(e);let o=r.call(e,t);o||(t=toRaw(t),o=r.call(e,t)),n&&n.call(e,t);const s=e.delete(t);return o&&trigger(e,"delete",t,void 0),s}function clear(){const t=toRaw(this),e=t.size!==0,r=t.clear();return e&&trigger(t,"clear",void 0,void 0),r}function createForEach(t,e){return function(r,n){const o=this,s=o.__v_raw,c=toRaw(s),d=e?toShallow:t?toReadonly:toReactive;return!t&&track(c,"iterate",ITERATE_KEY),s.forEach((u,m)=>r.call(n,d(u),d(m),o))}}function createIterableMethod(t,e,r){return function(...n){const o=this.__v_raw,s=toRaw(o),c=isMap$2(s),d=t==="entries"||t===Symbol.iterator&&c,u=t==="keys"&&c,m=o[t](...n),_=r?toShallow:e?toReadonly:toReactive;return!e&&track(s,"iterate",u?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:g,done:f}=m.next();return f?{value:g,done:f}:{value:d?[_(g[0]),_(g[1])]:_(g),done:f}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(t){return function(...e){return t==="delete"?!1:this}}function createInstrumentations(){const t={get(o){return get(this,o)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},e={get(o){return get(this,o,!1,!0)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},r={get(o){return get(this,o,!0)},get size(){return size(this,!0)},has(o){return has.call(this,o,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},n={get(o){return get(this,o,!0,!0)},get size(){return size(this,!0)},has(o){return has.call(this,o,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=createIterableMethod(o,!1,!1),r[o]=createIterableMethod(o,!0,!1),e[o]=createIterableMethod(o,!1,!0),n[o]=createIterableMethod(o,!0,!0)}),[t,r,e,n]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(t,e){const r=e?t?shallowReadonlyInstrumentations:shallowInstrumentations:t?readonlyInstrumentations:mutableInstrumentations;return(n,o,s)=>o==="__v_isReactive"?!t:o==="__v_isReadonly"?t:o==="__v_raw"?n:Reflect.get(hasOwn$1(r,o)&&o in n?r:n,o,s)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(t){return t.__v_skip||!Object.isExtensible(t)?0:targetTypeMap(toRawType(t))}function reactive(t){return isReadonly(t)?t:createReactiveObject(t,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(t){return createReactiveObject(t,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(t){return createReactiveObject(t,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(t,e,r,n,o){if(!isObject$4(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=o.get(t);if(s)return s;const c=getTargetType(t);if(c===0)return t;const d=new Proxy(t,c===2?n:r);return o.set(t,d),d}function isReactive(t){return isReadonly(t)?isReactive(t.__v_raw):!!(t&&t.__v_isReactive)}function isReadonly(t){return!!(t&&t.__v_isReadonly)}function isShallow(t){return!!(t&&t.__v_isShallow)}function isProxy(t){return isReactive(t)||isReadonly(t)}function toRaw(t){const e=t&&t.__v_raw;return e?toRaw(e):t}function markRaw(t){return def(t,"__v_skip",!0),t}const toReactive=t=>isObject$4(t)?reactive(t):t,toReadonly=t=>isObject$4(t)?readonly(t):t;function trackRefValue(t){shouldTrack&&activeEffect&&(t=toRaw(t),trackEffects(t.dep||(t.dep=createDep())))}function triggerRefValue(t,e){t=toRaw(t);const r=t.dep;r&&triggerEffects(r)}function isRef(t){return!!(t&&t.__v_isRef===!0)}function ref(t){return createRef(t,!1)}function shallowRef(t){return createRef(t,!0)}function createRef(t,e){return isRef(t)?t:new RefImpl(t,e)}class RefImpl{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:toRaw(e),this._value=r?e:toReactive(e)}get value(){return trackRefValue(this),this._value}set value(e){const r=this.__v_isShallow||isShallow(e)||isReadonly(e);e=r?e:toRaw(e),hasChanged(e,this._rawValue)&&(this._rawValue=e,this._value=r?e:toReactive(e),triggerRefValue(this))}}function unref(t){return isRef(t)?t.value:t}const shallowUnwrapHandlers={get:(t,e,r)=>unref(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const o=t[e];return isRef(o)&&!isRef(r)?(o.value=r,!0):Reflect.set(t,e,r,n)}};function proxyRefs(t){return isReactive(t)?t:new Proxy(t,shallowUnwrapHandlers)}function toRefs(t){const e=isArray$3(t)?new Array(t.length):{};for(const r in t)e[r]=propertyToRef(t,r);return e}class ObjectRefImpl{constructor(e,r,n){this._object=e,this._key=r,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}function propertyToRef(t,e,r){const n=t[e];return isRef(n)?n:new ObjectRefImpl(t,e,r)}class ComputedRefImpl{constructor(e,r,n,o){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ReactiveEffect(e,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=n}get value(){const e=toRaw(this);return trackRefValue(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function computed$1(t,e,r=!1){let n,o;const s=isFunction$3(t);return s?(n=t,o=NOOP):(n=t.get,o=t.set),new ComputedRefImpl(n,o,s||!o,r)}function warn$1(t,...e){}function callWithErrorHandling(t,e,r,n){let o;try{o=n?t(...n):t()}catch(s){handleError(s,e,r)}return o}function callWithAsyncErrorHandling(t,e,r,n){if(isFunction$3(t)){const s=callWithErrorHandling(t,e,r,n);return s&&isPromise(s)&&s.catch(c=>{handleError(c,e,r)}),s}const o=[];for(let s=0;s<t.length;s++)o.push(callWithAsyncErrorHandling(t[s],e,r,n));return o}function handleError(t,e,r,n=!0){const o=e?e.vnode:null;if(e){let s=e.parent;const c=e.proxy,d=r;for(;s;){const m=s.ec;if(m){for(let _=0;_<m.length;_++)if(m[_](t,c,d)===!1)return}s=s.parent}const u=e.appContext.config.errorHandler;if(u){callWithErrorHandling(u,null,10,[t,c,d]);return}}logError(t,r,o,n)}function logError(t,e,r,n=!0){console.error(t)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(t){const e=currentFlushPromise||resolvedPromise;return t?e.then(this?t.bind(this):t):e}function findInsertionIndex(t){let e=flushIndex+1,r=queue.length;for(;e<r;){const n=e+r>>>1;getId(queue[n])<t?e=n+1:r=n}return e}function queueJob(t){(!queue.length||!queue.includes(t,isFlushing&&t.allowRecurse?flushIndex+1:flushIndex))&&(t.id==null?queue.push(t):queue.splice(findInsertionIndex(t.id),0,t),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(t){const e=queue.indexOf(t);e>flushIndex&&queue.splice(e,1)}function queuePostFlushCb(t){isArray$3(t)?pendingPostFlushCbs.push(...t):(!activePostFlushCbs||!activePostFlushCbs.includes(t,t.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(t),queueFlush()}function flushPreFlushCbs(t,e=isFlushing?flushIndex+1:0){for(;e<queue.length;e++){const r=queue[e];r&&r.pre&&(queue.splice(e,1),e--,r())}}function flushPostFlushCbs(t){if(pendingPostFlushCbs.length){const e=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...e);return}for(activePostFlushCbs=e,activePostFlushCbs.sort((r,n)=>getId(r)-getId(n)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=t=>t.id==null?1/0:t.id,comparator=(t,e)=>{const r=getId(t)-getId(e);if(r===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return r};function flushJobs(t){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const e=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const r=queue[flushIndex];r&&r.active!==!1&&callWithErrorHandling(r,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||EMPTY_OBJ;let o=r;const s=e.startsWith("update:"),c=s&&e.slice(7);if(c&&c in n){const _=`${c==="modelValue"?"model":c}Modifiers`,{number:g,trim:f}=n[_]||EMPTY_OBJ;f&&(o=r.map(y=>isString$2(y)?y.trim():y)),g&&(o=r.map(looseToNumber))}let d,u=n[d=toHandlerKey(e)]||n[d=toHandlerKey(camelize(e))];!u&&s&&(u=n[d=toHandlerKey(hyphenate(e))]),u&&callWithAsyncErrorHandling(u,t,6,o);const m=n[d+"Once"];if(m){if(!t.emitted)t.emitted={};else if(t.emitted[d])return;t.emitted[d]=!0,callWithAsyncErrorHandling(m,t,6,o)}}function normalizeEmitsOptions(t,e,r=!1){const n=e.emitsCache,o=n.get(t);if(o!==void 0)return o;const s=t.emits;let c={},d=!1;if(!isFunction$3(t)){const u=m=>{const _=normalizeEmitsOptions(m,e,!0);_&&(d=!0,extend$1(c,_))};!r&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!s&&!d?(isObject$4(t)&&n.set(t,null),null):(isArray$3(s)?s.forEach(u=>c[u]=null):extend$1(c,s),isObject$4(t)&&n.set(t,c),c)}function isEmitListener(t,e){return!t||!isOn(e)?!1:(e=e.slice(2).replace(/Once$/,""),hasOwn$1(t,e[0].toLowerCase()+e.slice(1))||hasOwn$1(t,hyphenate(e))||hasOwn$1(t,e))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(t){const e=currentRenderingInstance;return currentRenderingInstance=t,currentScopeId=t&&t.type.__scopeId||null,e}function pushScopeId(t){currentScopeId=t}function popScopeId(){currentScopeId=null}function withCtx(t,e=currentRenderingInstance,r){if(!e||t._n)return t;const n=(...o)=>{n._d&&setBlockTracking(-1);const s=setCurrentRenderingInstance(e);let c;try{c=t(...o)}finally{setCurrentRenderingInstance(s),n._d&&setBlockTracking(1)}return c};return n._n=!0,n._c=!0,n._d=!0,n}function markAttrsAccessed(){}function renderComponentRoot(t){const{type:e,vnode:r,proxy:n,withProxy:o,props:s,propsOptions:[c],slots:d,attrs:u,emit:m,render:_,renderCache:g,data:f,setupState:y,ctx:M,inheritAttrs:T}=t;let A,E;const C=setCurrentRenderingInstance(t);try{if(r.shapeFlag&4){const O=o||n;A=normalizeVNode(_.call(O,O,g,s,y,f,M)),E=u}else{const O=e;A=normalizeVNode(O.length>1?O(s,{attrs:u,slots:d,emit:m}):O(s,null)),E=e.props?u:getFunctionalFallthrough(u)}}catch(O){blockStack.length=0,handleError(O,t,1),A=createVNode(Comment)}let k=A;if(E&&T!==!1){const O=Object.keys(E),{shapeFlag:I}=k;O.length&&I&7&&(c&&O.some(isModelListener)&&(E=filterModelListeners(E,c)),k=cloneVNode(k,E))}return r.dirs&&(k=cloneVNode(k),k.dirs=k.dirs?k.dirs.concat(r.dirs):r.dirs),r.transition&&(k.transition=r.transition),A=k,setCurrentRenderingInstance(C),A}const getFunctionalFallthrough=t=>{let e;for(const r in t)(r==="class"||r==="style"||isOn(r))&&((e||(e={}))[r]=t[r]);return e},filterModelListeners=(t,e)=>{const r={};for(const n in t)(!isModelListener(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function shouldUpdateComponent(t,e,r){const{props:n,children:o,component:s}=t,{props:c,children:d,patchFlag:u}=e,m=s.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&u>=0){if(u&1024)return!0;if(u&16)return n?hasPropsChanged(n,c,m):!!c;if(u&8){const _=e.dynamicProps;for(let g=0;g<_.length;g++){const f=_[g];if(c[f]!==n[f]&&!isEmitListener(m,f))return!0}}}else return(o||d)&&(!d||!d.$stable)?!0:n===c?!1:n?c?hasPropsChanged(n,c,m):!0:!!c;return!1}function hasPropsChanged(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let o=0;o<n.length;o++){const s=n[o];if(e[s]!==t[s]&&!isEmitListener(r,s))return!0}return!1}function updateHOCHostEl({vnode:t,parent:e},r){for(;e&&e.subTree===t;)(t=e.vnode).el=r,e=e.parent}const isSuspense=t=>t.__isSuspense;function queueEffectWithSuspense(t,e){e&&e.pendingBranch?isArray$3(t)?e.effects.push(...t):e.effects.push(t):queuePostFlushCb(t)}function watchPostEffect(t,e){return doWatch(t,null,{flush:"post"})}const INITIAL_WATCHER_VALUE={};function watch(t,e,r){return doWatch(t,e,r)}function doWatch(t,e,{immediate:r,deep:n,flush:o,onTrack:s,onTrigger:c}=EMPTY_OBJ){var d;const u=getCurrentScope()===((d=currentInstance)==null?void 0:d.scope)?currentInstance:null;let m,_=!1,g=!1;if(isRef(t)?(m=()=>t.value,_=isShallow(t)):isReactive(t)?(m=()=>t,n=!0):isArray$3(t)?(g=!0,_=t.some(O=>isReactive(O)||isShallow(O)),m=()=>t.map(O=>{if(isRef(O))return O.value;if(isReactive(O))return traverse(O);if(isFunction$3(O))return callWithErrorHandling(O,u,2)})):isFunction$3(t)?e?m=()=>callWithErrorHandling(t,u,2):m=()=>{if(!(u&&u.isUnmounted))return f&&f(),callWithAsyncErrorHandling(t,u,3,[y])}:m=NOOP,e&&n){const O=m;m=()=>traverse(O())}let f,y=O=>{f=C.onStop=()=>{callWithErrorHandling(O,u,4)}},M;if(isInSSRComponentSetup)if(y=NOOP,e?r&&callWithAsyncErrorHandling(e,u,3,[m(),g?[]:void 0,y]):m(),o==="sync"){const O=useSSRContext();M=O.__watcherHandles||(O.__watcherHandles=[])}else return NOOP;let T=g?new Array(t.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const A=()=>{if(C.active)if(e){const O=C.run();(n||_||(g?O.some((I,B)=>hasChanged(I,T[B])):hasChanged(O,T)))&&(f&&f(),callWithAsyncErrorHandling(e,u,3,[O,T===INITIAL_WATCHER_VALUE?void 0:g&&T[0]===INITIAL_WATCHER_VALUE?[]:T,y]),T=O)}else C.run()};A.allowRecurse=!!e;let E;o==="sync"?E=A:o==="post"?E=()=>queuePostRenderEffect(A,u&&u.suspense):(A.pre=!0,u&&(A.id=u.uid),E=()=>queueJob(A));const C=new ReactiveEffect(m,E);e?r?A():T=C.run():o==="post"?queuePostRenderEffect(C.run.bind(C),u&&u.suspense):C.run();const k=()=>{C.stop(),u&&u.scope&&remove(u.scope.effects,C)};return M&&M.push(k),k}function instanceWatch(t,e,r){const n=this.proxy,o=isString$2(t)?t.includes(".")?createPathGetter(n,t):()=>n[t]:t.bind(n,n);let s;isFunction$3(e)?s=e:(s=e.handler,r=e);const c=currentInstance;setCurrentInstance(this);const d=doWatch(o,s.bind(n),r);return c?setCurrentInstance(c):unsetCurrentInstance(),d}function createPathGetter(t,e){const r=e.split(".");return()=>{let n=t;for(let o=0;o<r.length&&n;o++)n=n[r[o]];return n}}function traverse(t,e){if(!isObject$4(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),isRef(t))traverse(t.value,e);else if(isArray$3(t))for(let r=0;r<t.length;r++)traverse(t[r],e);else if(isSet$2(t)||isMap$2(t))t.forEach(r=>{traverse(r,e)});else if(isPlainObject$3(t))for(const r in t)traverse(t[r],e);return t}function withDirectives(t,e){const r=currentRenderingInstance;if(r===null)return t;const n=getExposeProxy(r)||r.proxy,o=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[c,d,u,m=EMPTY_OBJ]=e[s];c&&(isFunction$3(c)&&(c={mounted:c,updated:c}),c.deep&&traverse(d),o.push({dir:c,instance:n,value:d,oldValue:void 0,arg:u,modifiers:m}))}return t}function invokeDirectiveHook(t,e,r,n){const o=t.dirs,s=e&&e.dirs;for(let c=0;c<o.length;c++){const d=o[c];s&&(d.oldValue=s[c].value);let u=d.dir[n];u&&(pauseTracking(),callWithAsyncErrorHandling(u,r,8,[t.el,d,t,e]),resetTracking())}}function useTransitionState(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{t.isMounted=!0}),onBeforeUnmount(()=>{t.isUnmounting=!0}),t}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup(t,{slots:e}){const r=getCurrentInstance(),n=useTransitionState();let o;return()=>{const s=e.default&&getTransitionRawChildren(e.default(),!0);if(!s||!s.length)return;let c=s[0];if(s.length>1){for(const T of s)if(T.type!==Comment){c=T;break}}const d=toRaw(t),{mode:u}=d;if(n.isLeaving)return emptyPlaceholder(c);const m=getKeepAliveChild(c);if(!m)return emptyPlaceholder(c);const _=resolveTransitionHooks(m,d,n,r);setTransitionHooks(m,_);const g=r.subTree,f=g&&getKeepAliveChild(g);let y=!1;const{getTransitionKey:M}=m.type;if(M){const T=M();o===void 0?o=T:T!==o&&(o=T,y=!0)}if(f&&f.type!==Comment&&(!isSameVNodeType(m,f)||y)){const T=resolveTransitionHooks(f,d,n,r);if(setTransitionHooks(f,T),u==="out-in")return n.isLeaving=!0,T.afterLeave=()=>{n.isLeaving=!1,r.update.active!==!1&&r.update()},emptyPlaceholder(c);u==="in-out"&&m.type!==Comment&&(T.delayLeave=(A,E,C)=>{const k=getLeavingNodesForType(n,f);k[String(f.key)]=f,A._leaveCb=()=>{E(),A._leaveCb=void 0,delete _.delayedLeave},_.delayedLeave=C})}return c}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(t,e){const{leavingVNodes:r}=t;let n=r.get(e.type);return n||(n=Object.create(null),r.set(e.type,n)),n}function resolveTransitionHooks(t,e,r,n){const{appear:o,mode:s,persisted:c=!1,onBeforeEnter:d,onEnter:u,onAfterEnter:m,onEnterCancelled:_,onBeforeLeave:g,onLeave:f,onAfterLeave:y,onLeaveCancelled:M,onBeforeAppear:T,onAppear:A,onAfterAppear:E,onAppearCancelled:C}=e,k=String(t.key),O=getLeavingNodesForType(r,t),I=(U,N)=>{U&&callWithAsyncErrorHandling(U,n,9,N)},B=(U,N)=>{const W=N[1];I(U,N),isArray$3(U)?U.every(ne=>ne.length<=1)&&W():U.length<=1&&W()},j={mode:s,persisted:c,beforeEnter(U){let N=d;if(!r.isMounted)if(o)N=T||d;else return;U._leaveCb&&U._leaveCb(!0);const W=O[k];W&&isSameVNodeType(t,W)&&W.el._leaveCb&&W.el._leaveCb(),I(N,[U])},enter(U){let N=u,W=m,ne=_;if(!r.isMounted)if(o)N=A||u,W=E||m,ne=C||_;else return;let re=!1;const le=U._enterCb=ae=>{re||(re=!0,ae?I(ne,[U]):I(W,[U]),j.delayedLeave&&j.delayedLeave(),U._enterCb=void 0)};N?B(N,[U,le]):le()},leave(U,N){const W=String(t.key);if(U._enterCb&&U._enterCb(!0),r.isUnmounting)return N();I(g,[U]);let ne=!1;const re=U._leaveCb=le=>{ne||(ne=!0,N(),le?I(M,[U]):I(y,[U]),U._leaveCb=void 0,O[W]===t&&delete O[W])};O[W]=t,f?B(f,[U,re]):re()},clone(U){return resolveTransitionHooks(U,e,r,n)}};return j}function emptyPlaceholder(t){if(isKeepAlive(t))return t=cloneVNode(t),t.children=null,t}function getKeepAliveChild(t){return isKeepAlive(t)?t.children?t.children[0]:void 0:t}function setTransitionHooks(t,e){t.shapeFlag&6&&t.component?setTransitionHooks(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function getTransitionRawChildren(t,e=!1,r){let n=[],o=0;for(let s=0;s<t.length;s++){let c=t[s];const d=r==null?c.key:String(r)+String(c.key!=null?c.key:s);c.type===Fragment?(c.patchFlag&128&&o++,n=n.concat(getTransitionRawChildren(c.children,e,d))):(e||c.type!==Comment)&&n.push(d!=null?cloneVNode(c,{key:d}):c)}if(o>1)for(let s=0;s<n.length;s++)n[s].patchFlag=-2;return n}function defineComponent(t,e){return isFunction$3(t)?(()=>extend$1({name:t.name},e,{setup:t}))():t}const isAsyncWrapper=t=>!!t.type.__asyncLoader,isKeepAlive=t=>t.type.__isKeepAlive;function onActivated(t,e){registerKeepAliveHook(t,"a",e)}function onDeactivated(t,e){registerKeepAliveHook(t,"da",e)}function registerKeepAliveHook(t,e,r=currentInstance){const n=t.__wdc||(t.__wdc=()=>{let o=r;for(;o;){if(o.isDeactivated)return;o=o.parent}return t()});if(injectHook(e,n,r),r){let o=r.parent;for(;o&&o.parent;)isKeepAlive(o.parent.vnode)&&injectToKeepAliveRoot(n,e,r,o),o=o.parent}}function injectToKeepAliveRoot(t,e,r,n){const o=injectHook(e,t,n,!0);onUnmounted(()=>{remove(n[e],o)},r)}function injectHook(t,e,r=currentInstance,n=!1){if(r){const o=r[t]||(r[t]=[]),s=e.__weh||(e.__weh=(...c)=>{if(r.isUnmounted)return;pauseTracking(),setCurrentInstance(r);const d=callWithAsyncErrorHandling(e,r,t,c);return unsetCurrentInstance(),resetTracking(),d});return n?o.unshift(s):o.push(s),s}}const createHook=t=>(e,r=currentInstance)=>(!isInSSRComponentSetup||t==="sp")&&injectHook(t,(...n)=>e(...n),r),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(t,e=currentInstance){injectHook("ec",t,e)}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function renderList(t,e,r,n){let o;const s=r&&r[n];if(isArray$3(t)||isString$2(t)){o=new Array(t.length);for(let c=0,d=t.length;c<d;c++)o[c]=e(t[c],c,void 0,s&&s[c])}else if(typeof t=="number"){o=new Array(t);for(let c=0;c<t;c++)o[c]=e(c+1,c,void 0,s&&s[c])}else if(isObject$4(t))if(t[Symbol.iterator])o=Array.from(t,(c,d)=>e(c,d,void 0,s&&s[d]));else{const c=Object.keys(t);o=new Array(c.length);for(let d=0,u=c.length;d<u;d++){const m=c[d];o[d]=e(t[m],m,d,s&&s[d])}}else o=[];return r&&(r[n]=o),o}function renderSlot(t,e,r={},n,o){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return e!=="default"&&(r.name=e),createVNode("slot",r,n&&n());let s=t[e];s&&s._c&&(s._d=!1),openBlock();const c=s&&ensureValidVNode(s(r)),d=createBlock(Fragment,{key:r.key||c&&c.key||`_${e}`},c||(n?n():[]),c&&t._===1?64:-2);return!o&&d.scopeId&&(d.slotScopeIds=[d.scopeId+"-s"]),s&&s._c&&(s._d=!0),d}function ensureValidVNode(t){return t.some(e=>isVNode$1(e)?!(e.type===Comment||e.type===Fragment&&!ensureValidVNode(e.children)):!0)?t:null}const getPublicInstance=t=>t?isStatefulComponent(t)?getExposeProxy(t)||t.proxy:getPublicInstance(t.parent):null,publicPropertiesMap=extend$1(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>getPublicInstance(t.parent),$root:t=>getPublicInstance(t.root),$emit:t=>t.emit,$options:t=>resolveMergedOptions(t),$forceUpdate:t=>t.f||(t.f=()=>queueJob(t.update)),$nextTick:t=>t.n||(t.n=nextTick.bind(t.proxy)),$watch:t=>instanceWatch.bind(t)}),hasSetupBinding=(t,e)=>t!==EMPTY_OBJ&&!t.__isScriptSetup&&hasOwn$1(t,e),PublicInstanceProxyHandlers={get({_:t},e){const{ctx:r,setupState:n,data:o,props:s,accessCache:c,type:d,appContext:u}=t;let m;if(e[0]!=="$"){const y=c[e];if(y!==void 0)switch(y){case 1:return n[e];case 2:return o[e];case 4:return r[e];case 3:return s[e]}else{if(hasSetupBinding(n,e))return c[e]=1,n[e];if(o!==EMPTY_OBJ&&hasOwn$1(o,e))return c[e]=2,o[e];if((m=t.propsOptions[0])&&hasOwn$1(m,e))return c[e]=3,s[e];if(r!==EMPTY_OBJ&&hasOwn$1(r,e))return c[e]=4,r[e];shouldCacheAccess&&(c[e]=0)}}const _=publicPropertiesMap[e];let g,f;if(_)return e==="$attrs"&&track(t,"get",e),_(t);if((g=d.__cssModules)&&(g=g[e]))return g;if(r!==EMPTY_OBJ&&hasOwn$1(r,e))return c[e]=4,r[e];if(f=u.config.globalProperties,hasOwn$1(f,e))return f[e]},set({_:t},e,r){const{data:n,setupState:o,ctx:s}=t;return hasSetupBinding(o,e)?(o[e]=r,!0):n!==EMPTY_OBJ&&hasOwn$1(n,e)?(n[e]=r,!0):hasOwn$1(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:o,propsOptions:s}},c){let d;return!!r[c]||t!==EMPTY_OBJ&&hasOwn$1(t,c)||hasSetupBinding(e,c)||(d=s[0])&&hasOwn$1(d,c)||hasOwn$1(n,c)||hasOwn$1(publicPropertiesMap,c)||hasOwn$1(o.config.globalProperties,c)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:hasOwn$1(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function normalizePropsOrEmits(t){return isArray$3(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let shouldCacheAccess=!0;function applyOptions(t){const e=resolveMergedOptions(t),r=t.proxy,n=t.ctx;shouldCacheAccess=!1,e.beforeCreate&&callHook$1(e.beforeCreate,t,"bc");const{data:o,computed:s,methods:c,watch:d,provide:u,inject:m,created:_,beforeMount:g,mounted:f,beforeUpdate:y,updated:M,activated:T,deactivated:A,beforeDestroy:E,beforeUnmount:C,destroyed:k,unmounted:O,render:I,renderTracked:B,renderTriggered:j,errorCaptured:U,serverPrefetch:N,expose:W,inheritAttrs:ne,components:re,directives:le,filters:ae}=e;if(m&&resolveInjections(m,n,null),c)for(const K in c){const q=c[K];isFunction$3(q)&&(n[K]=q.bind(r))}if(o){const K=o.call(r,r);isObject$4(K)&&(t.data=reactive(K))}if(shouldCacheAccess=!0,s)for(const K in s){const q=s[K],D=isFunction$3(q)?q.bind(r,r):isFunction$3(q.get)?q.get.bind(r,r):NOOP,z=!isFunction$3(q)&&isFunction$3(q.set)?q.set.bind(r):NOOP,J=computed({get:D,set:z});Object.defineProperty(n,K,{enumerable:!0,configurable:!0,get:()=>J.value,set:ie=>J.value=ie})}if(d)for(const K in d)createWatcher(d[K],n,r,K);if(u){const K=isFunction$3(u)?u.call(r):u;Reflect.ownKeys(K).forEach(q=>{provide(q,K[q])})}_&&callHook$1(_,t,"c");function pe(K,q){isArray$3(q)?q.forEach(D=>K(D.bind(r))):q&&K(q.bind(r))}if(pe(onBeforeMount,g),pe(onMounted,f),pe(onBeforeUpdate,y),pe(onUpdated,M),pe(onActivated,T),pe(onDeactivated,A),pe(onErrorCaptured,U),pe(onRenderTracked,B),pe(onRenderTriggered,j),pe(onBeforeUnmount,C),pe(onUnmounted,O),pe(onServerPrefetch,N),isArray$3(W))if(W.length){const K=t.exposed||(t.exposed={});W.forEach(q=>{Object.defineProperty(K,q,{get:()=>r[q],set:D=>r[q]=D})})}else t.exposed||(t.exposed={});I&&t.render===NOOP&&(t.render=I),ne!=null&&(t.inheritAttrs=ne),re&&(t.components=re),le&&(t.directives=le)}function resolveInjections(t,e,r=NOOP){isArray$3(t)&&(t=normalizeInject(t));for(const n in t){const o=t[n];let s;isObject$4(o)?"default"in o?s=inject$1(o.from||n,o.default,!0):s=inject$1(o.from||n):s=inject$1(o),isRef(s)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:c=>s.value=c}):e[n]=s}}function callHook$1(t,e,r){callWithAsyncErrorHandling(isArray$3(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function createWatcher(t,e,r,n){const o=n.includes(".")?createPathGetter(r,n):()=>r[n];if(isString$2(t)){const s=e[t];isFunction$3(s)&&watch(o,s)}else if(isFunction$3(t))watch(o,t.bind(r));else if(isObject$4(t))if(isArray$3(t))t.forEach(s=>createWatcher(s,e,r,n));else{const s=isFunction$3(t.handler)?t.handler.bind(r):e[t.handler];isFunction$3(s)&&watch(o,s,t)}}function resolveMergedOptions(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:o,optionsCache:s,config:{optionMergeStrategies:c}}=t.appContext,d=s.get(e);let u;return d?u=d:!o.length&&!r&&!n?u=e:(u={},o.length&&o.forEach(m=>mergeOptions(u,m,c,!0)),mergeOptions(u,e,c)),isObject$4(e)&&s.set(e,u),u}function mergeOptions(t,e,r,n=!1){const{mixins:o,extends:s}=e;s&&mergeOptions(t,s,r,!0),o&&o.forEach(c=>mergeOptions(t,c,r,!0));for(const c in e)if(!(n&&c==="expose")){const d=internalOptionMergeStrats[c]||r&&r[c];t[c]=d?d(t[c],e[c]):e[c]}return t}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(t,e){return e?t?function(){return extend$1(isFunction$3(t)?t.call(this,this):t,isFunction$3(e)?e.call(this,this):e)}:e:t}function mergeInject(t,e){return mergeObjectOptions(normalizeInject(t),normalizeInject(e))}function normalizeInject(t){if(isArray$3(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function mergeAsArray(t,e){return t?[...new Set([].concat(t,e))]:e}function mergeObjectOptions(t,e){return t?extend$1(Object.create(null),t,e):e}function mergeEmitsOrPropsOptions(t,e){return t?isArray$3(t)&&isArray$3(e)?[...new Set([...t,...e])]:extend$1(Object.create(null),normalizePropsOrEmits(t),normalizePropsOrEmits(e??{})):e}function mergeWatchOptions(t,e){if(!t)return e;if(!e)return t;const r=extend$1(Object.create(null),t);for(const n in e)r[n]=mergeAsArray(t[n],e[n]);return r}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(t,e){return function(r,n=null){isFunction$3(r)||(r=extend$1({},r)),n!=null&&!isObject$4(n)&&(n=null);const o=createAppContext(),s=new Set;let c=!1;const d=o.app={_uid:uid$1++,_component:r,_props:n,_container:null,_context:o,_instance:null,version,get config(){return o.config},set config(u){},use(u,...m){return s.has(u)||(u&&isFunction$3(u.install)?(s.add(u),u.install(d,...m)):isFunction$3(u)&&(s.add(u),u(d,...m))),d},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),d},component(u,m){return m?(o.components[u]=m,d):o.components[u]},directive(u,m){return m?(o.directives[u]=m,d):o.directives[u]},mount(u,m,_){if(!c){const g=createVNode(r,n);return g.appContext=o,m&&e?e(g,u):t(g,u,_),c=!0,d._container=u,u.__vue_app__=d,getExposeProxy(g.component)||g.component.proxy}},unmount(){c&&(t(null,d._container),delete d._container.__vue_app__)},provide(u,m){return o.provides[u]=m,d},runWithContext(u){currentApp=d;try{return u()}finally{currentApp=null}}};return d}}let currentApp=null;function provide(t,e){if(currentInstance){let r=currentInstance.provides;const n=currentInstance.parent&&currentInstance.parent.provides;n===r&&(r=currentInstance.provides=Object.create(n)),r[t]=e}}function inject$1(t,e,r=!1){const n=currentInstance||currentRenderingInstance;if(n||currentApp){const o=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:currentApp._context.provides;if(o&&t in o)return o[t];if(arguments.length>1)return r&&isFunction$3(e)?e.call(n&&n.proxy):e}}function hasInjectionContext(){return!!(currentInstance||currentRenderingInstance||currentApp)}function initProps(t,e,r,n=!1){const o={},s={};def(s,InternalObjectKey,1),t.propsDefaults=Object.create(null),setFullProps(t,e,o,s);for(const c in t.propsOptions[0])c in o||(o[c]=void 0);r?t.props=n?o:shallowReactive(o):t.type.props?t.props=o:t.props=s,t.attrs=s}function updateProps(t,e,r,n){const{props:o,attrs:s,vnode:{patchFlag:c}}=t,d=toRaw(o),[u]=t.propsOptions;let m=!1;if((n||c>0)&&!(c&16)){if(c&8){const _=t.vnode.dynamicProps;for(let g=0;g<_.length;g++){let f=_[g];if(isEmitListener(t.emitsOptions,f))continue;const y=e[f];if(u)if(hasOwn$1(s,f))y!==s[f]&&(s[f]=y,m=!0);else{const M=camelize(f);o[M]=resolvePropValue(u,d,M,y,t,!1)}else y!==s[f]&&(s[f]=y,m=!0)}}}else{setFullProps(t,e,o,s)&&(m=!0);let _;for(const g in d)(!e||!hasOwn$1(e,g)&&((_=hyphenate(g))===g||!hasOwn$1(e,_)))&&(u?r&&(r[g]!==void 0||r[_]!==void 0)&&(o[g]=resolvePropValue(u,d,g,void 0,t,!0)):delete o[g]);if(s!==d)for(const g in s)(!e||!hasOwn$1(e,g))&&(delete s[g],m=!0)}m&&trigger(t,"set","$attrs")}function setFullProps(t,e,r,n){const[o,s]=t.propsOptions;let c=!1,d;if(e)for(let u in e){if(isReservedProp(u))continue;const m=e[u];let _;o&&hasOwn$1(o,_=camelize(u))?!s||!s.includes(_)?r[_]=m:(d||(d={}))[_]=m:isEmitListener(t.emitsOptions,u)||(!(u in n)||m!==n[u])&&(n[u]=m,c=!0)}if(s){const u=toRaw(r),m=d||EMPTY_OBJ;for(let _=0;_<s.length;_++){const g=s[_];r[g]=resolvePropValue(o,u,g,m[g],t,!hasOwn$1(m,g))}}return c}function resolvePropValue(t,e,r,n,o,s){const c=t[r];if(c!=null){const d=hasOwn$1(c,"default");if(d&&n===void 0){const u=c.default;if(c.type!==Function&&!c.skipFactory&&isFunction$3(u)){const{propsDefaults:m}=o;r in m?n=m[r]:(setCurrentInstance(o),n=m[r]=u.call(null,e),unsetCurrentInstance())}else n=u}c[0]&&(s&&!d?n=!1:c[1]&&(n===""||n===hyphenate(r))&&(n=!0))}return n}function normalizePropsOptions(t,e,r=!1){const n=e.propsCache,o=n.get(t);if(o)return o;const s=t.props,c={},d=[];let u=!1;if(!isFunction$3(t)){const _=g=>{u=!0;const[f,y]=normalizePropsOptions(g,e,!0);extend$1(c,f),y&&d.push(...y)};!r&&e.mixins.length&&e.mixins.forEach(_),t.extends&&_(t.extends),t.mixins&&t.mixins.forEach(_)}if(!s&&!u)return isObject$4(t)&&n.set(t,EMPTY_ARR),EMPTY_ARR;if(isArray$3(s))for(let _=0;_<s.length;_++){const g=camelize(s[_]);validatePropName(g)&&(c[g]=EMPTY_OBJ)}else if(s)for(const _ in s){const g=camelize(_);if(validatePropName(g)){const f=s[_],y=c[g]=isArray$3(f)||isFunction$3(f)?{type:f}:extend$1({},f);if(y){const M=getTypeIndex(Boolean,y.type),T=getTypeIndex(String,y.type);y[0]=M>-1,y[1]=T<0||M<T,(M>-1||hasOwn$1(y,"default"))&&d.push(g)}}}const m=[c,d];return isObject$4(t)&&n.set(t,m),m}function validatePropName(t){return t[0]!=="$"}function getType(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function isSameType(t,e){return getType(t)===getType(e)}function getTypeIndex(t,e){return isArray$3(e)?e.findIndex(r=>isSameType(r,t)):isFunction$3(e)&&isSameType(e,t)?0:-1}const isInternalKey=t=>t[0]==="_"||t==="$stable",normalizeSlotValue=t=>isArray$3(t)?t.map(normalizeVNode):[normalizeVNode(t)],normalizeSlot=(t,e,r)=>{if(e._n)return e;const n=withCtx((...o)=>normalizeSlotValue(e(...o)),r);return n._c=!1,n},normalizeObjectSlots=(t,e,r)=>{const n=t._ctx;for(const o in t){if(isInternalKey(o))continue;const s=t[o];if(isFunction$3(s))e[o]=normalizeSlot(o,s,n);else if(s!=null){const c=normalizeSlotValue(s);e[o]=()=>c}}},normalizeVNodeSlots=(t,e)=>{const r=normalizeSlotValue(e);t.slots.default=()=>r},initSlots=(t,e)=>{if(t.vnode.shapeFlag&32){const r=e._;r?(t.slots=toRaw(e),def(e,"_",r)):normalizeObjectSlots(e,t.slots={})}else t.slots={},e&&normalizeVNodeSlots(t,e);def(t.slots,InternalObjectKey,1)},updateSlots=(t,e,r)=>{const{vnode:n,slots:o}=t;let s=!0,c=EMPTY_OBJ;if(n.shapeFlag&32){const d=e._;d?r&&d===1?s=!1:(extend$1(o,e),!r&&d===1&&delete o._):(s=!e.$stable,normalizeObjectSlots(e,o)),c=e}else e&&(normalizeVNodeSlots(t,e),c={default:1});if(s)for(const d in o)!isInternalKey(d)&&!(d in c)&&delete o[d]};function setRef(t,e,r,n,o=!1){if(isArray$3(t)){t.forEach((f,y)=>setRef(f,e&&(isArray$3(e)?e[y]:e),r,n,o));return}if(isAsyncWrapper(n)&&!o)return;const s=n.shapeFlag&4?getExposeProxy(n.component)||n.component.proxy:n.el,c=o?null:s,{i:d,r:u}=t,m=e&&e.r,_=d.refs===EMPTY_OBJ?d.refs={}:d.refs,g=d.setupState;if(m!=null&&m!==u&&(isString$2(m)?(_[m]=null,hasOwn$1(g,m)&&(g[m]=null)):isRef(m)&&(m.value=null)),isFunction$3(u))callWithErrorHandling(u,d,12,[c,_]);else{const f=isString$2(u),y=isRef(u);if(f||y){const M=()=>{if(t.f){const T=f?hasOwn$1(g,u)?g[u]:_[u]:u.value;o?isArray$3(T)&&remove(T,s):isArray$3(T)?T.includes(s)||T.push(s):f?(_[u]=[s],hasOwn$1(g,u)&&(g[u]=_[u])):(u.value=[s],t.k&&(_[t.k]=u.value))}else f?(_[u]=c,hasOwn$1(g,u)&&(g[u]=c)):y&&(u.value=c,t.k&&(_[t.k]=c))};c?(M.id=-1,queuePostRenderEffect(M,r)):M()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(t){return baseCreateRenderer(t)}function baseCreateRenderer(t,e){const r=getGlobalThis$1();r.__VUE__=!0;const{insert:n,remove:o,patchProp:s,createElement:c,createText:d,createComment:u,setText:m,setElementText:_,parentNode:g,nextSibling:f,setScopeId:y=NOOP,insertStaticContent:M}=t,T=(ue,X,$,ge=null,ve=null,me=null,ce=!1,Se=null,ye=!!X.dynamicChildren)=>{if(ue===X)return;ue&&!isSameVNodeType(ue,X)&&(ge=Y(ue),fe(ue,ve,me,!0),ue=null),X.patchFlag===-2&&(ye=!1,X.dynamicChildren=null);const{type:be,ref:he,shapeFlag:se}=X;switch(be){case Text:A(ue,X,$,ge);break;case Comment:E(ue,X,$,ge);break;case Static:ue==null&&C(X,$,ge,ce);break;case Fragment:re(ue,X,$,ge,ve,me,ce,Se,ye);break;default:se&1?I(ue,X,$,ge,ve,me,ce,Se,ye):se&6?le(ue,X,$,ge,ve,me,ce,Se,ye):(se&64||se&128)&&be.process(ue,X,$,ge,ve,me,ce,Se,ye,Te)}he!=null&&ve&&setRef(he,ue&&ue.ref,me,X||ue,!X)},A=(ue,X,$,ge)=>{if(ue==null)n(X.el=d(X.children),$,ge);else{const ve=X.el=ue.el;X.children!==ue.children&&m(ve,X.children)}},E=(ue,X,$,ge)=>{ue==null?n(X.el=u(X.children||""),$,ge):X.el=ue.el},C=(ue,X,$,ge)=>{[ue.el,ue.anchor]=M(ue.children,X,$,ge,ue.el,ue.anchor)},k=({el:ue,anchor:X},$,ge)=>{let ve;for(;ue&&ue!==X;)ve=f(ue),n(ue,$,ge),ue=ve;n(X,$,ge)},O=({el:ue,anchor:X})=>{let $;for(;ue&&ue!==X;)$=f(ue),o(ue),ue=$;o(X)},I=(ue,X,$,ge,ve,me,ce,Se,ye)=>{ce=ce||X.type==="svg",ue==null?B(X,$,ge,ve,me,ce,Se,ye):N(ue,X,ve,me,ce,Se,ye)},B=(ue,X,$,ge,ve,me,ce,Se)=>{let ye,be;const{type:he,props:se,shapeFlag:Ee,transition:Oe,dirs:Fe}=ue;if(ye=ue.el=c(ue.type,me,se&&se.is,se),Ee&8?_(ye,ue.children):Ee&16&&U(ue.children,ye,null,ge,ve,me&&he!=="foreignObject",ce,Se),Fe&&invokeDirectiveHook(ue,null,ge,"created"),j(ye,ue,ue.scopeId,ce,ge),se){for(const Ue in se)Ue!=="value"&&!isReservedProp(Ue)&&s(ye,Ue,null,se[Ue],me,ue.children,ge,ve,de);"value"in se&&s(ye,"value",null,se.value),(be=se.onVnodeBeforeMount)&&invokeVNodeHook(be,ge,ue)}Fe&&invokeDirectiveHook(ue,null,ge,"beforeMount");const Ne=(!ve||ve&&!ve.pendingBranch)&&Oe&&!Oe.persisted;Ne&&Oe.beforeEnter(ye),n(ye,X,$),((be=se&&se.onVnodeMounted)||Ne||Fe)&&queuePostRenderEffect(()=>{be&&invokeVNodeHook(be,ge,ue),Ne&&Oe.enter(ye),Fe&&invokeDirectiveHook(ue,null,ge,"mounted")},ve)},j=(ue,X,$,ge,ve)=>{if($&&y(ue,$),ge)for(let me=0;me<ge.length;me++)y(ue,ge[me]);if(ve){let me=ve.subTree;if(X===me){const ce=ve.vnode;j(ue,ce,ce.scopeId,ce.slotScopeIds,ve.parent)}}},U=(ue,X,$,ge,ve,me,ce,Se,ye=0)=>{for(let be=ye;be<ue.length;be++){const he=ue[be]=Se?cloneIfMounted(ue[be]):normalizeVNode(ue[be]);T(null,he,X,$,ge,ve,me,ce,Se)}},N=(ue,X,$,ge,ve,me,ce)=>{const Se=X.el=ue.el;let{patchFlag:ye,dynamicChildren:be,dirs:he}=X;ye|=ue.patchFlag&16;const se=ue.props||EMPTY_OBJ,Ee=X.props||EMPTY_OBJ;let Oe;$&&toggleRecurse($,!1),(Oe=Ee.onVnodeBeforeUpdate)&&invokeVNodeHook(Oe,$,X,ue),he&&invokeDirectiveHook(X,ue,$,"beforeUpdate"),$&&toggleRecurse($,!0);const Fe=ve&&X.type!=="foreignObject";if(be?W(ue.dynamicChildren,be,Se,$,ge,Fe,me):ce||D(ue,X,Se,null,$,ge,Fe,me,!1),ye>0){if(ye&16)ne(Se,X,se,Ee,$,ge,ve);else if(ye&2&&se.class!==Ee.class&&s(Se,"class",null,Ee.class,ve),ye&4&&s(Se,"style",se.style,Ee.style,ve),ye&8){const Ne=X.dynamicProps;for(let Ue=0;Ue<Ne.length;Ue++){const je=Ne[Ue],Le=se[je],Xe=Ee[je];(Xe!==Le||je==="value")&&s(Se,je,Le,Xe,ve,ue.children,$,ge,de)}}ye&1&&ue.children!==X.children&&_(Se,X.children)}else!ce&&be==null&&ne(Se,X,se,Ee,$,ge,ve);((Oe=Ee.onVnodeUpdated)||he)&&queuePostRenderEffect(()=>{Oe&&invokeVNodeHook(Oe,$,X,ue),he&&invokeDirectiveHook(X,ue,$,"updated")},ge)},W=(ue,X,$,ge,ve,me,ce)=>{for(let Se=0;Se<X.length;Se++){const ye=ue[Se],be=X[Se],he=ye.el&&(ye.type===Fragment||!isSameVNodeType(ye,be)||ye.shapeFlag&70)?g(ye.el):$;T(ye,be,he,null,ge,ve,me,ce,!0)}},ne=(ue,X,$,ge,ve,me,ce)=>{if($!==ge){if($!==EMPTY_OBJ)for(const Se in $)!isReservedProp(Se)&&!(Se in ge)&&s(ue,Se,$[Se],null,ce,X.children,ve,me,de);for(const Se in ge){if(isReservedProp(Se))continue;const ye=ge[Se],be=$[Se];ye!==be&&Se!=="value"&&s(ue,Se,be,ye,ce,X.children,ve,me,de)}"value"in ge&&s(ue,"value",$.value,ge.value)}},re=(ue,X,$,ge,ve,me,ce,Se,ye)=>{const be=X.el=ue?ue.el:d(""),he=X.anchor=ue?ue.anchor:d("");let{patchFlag:se,dynamicChildren:Ee,slotScopeIds:Oe}=X;Oe&&(Se=Se?Se.concat(Oe):Oe),ue==null?(n(be,$,ge),n(he,$,ge),U(X.children,$,he,ve,me,ce,Se,ye)):se>0&&se&64&&Ee&&ue.dynamicChildren?(W(ue.dynamicChildren,Ee,$,ve,me,ce,Se),(X.key!=null||ve&&X===ve.subTree)&&traverseStaticChildren(ue,X,!0)):D(ue,X,$,he,ve,me,ce,Se,ye)},le=(ue,X,$,ge,ve,me,ce,Se,ye)=>{X.slotScopeIds=Se,ue==null?X.shapeFlag&512?ve.ctx.activate(X,$,ge,ce,ye):ae(X,$,ge,ve,me,ce,ye):pe(ue,X,ye)},ae=(ue,X,$,ge,ve,me,ce)=>{const Se=ue.component=createComponentInstance(ue,ge,ve);if(isKeepAlive(ue)&&(Se.ctx.renderer=Te),setupComponent(Se),Se.asyncDep){if(ve&&ve.registerDep(Se,K),!ue.el){const ye=Se.subTree=createVNode(Comment);E(null,ye,X,$)}return}K(Se,ue,X,$,ve,me,ce)},pe=(ue,X,$)=>{const ge=X.component=ue.component;if(shouldUpdateComponent(ue,X,$))if(ge.asyncDep&&!ge.asyncResolved){q(ge,X,$);return}else ge.next=X,invalidateJob(ge.update),ge.update();else X.el=ue.el,ge.vnode=X},K=(ue,X,$,ge,ve,me,ce)=>{const Se=()=>{if(ue.isMounted){let{next:he,bu:se,u:Ee,parent:Oe,vnode:Fe}=ue,Ne=he,Ue;toggleRecurse(ue,!1),he?(he.el=Fe.el,q(ue,he,ce)):he=Fe,se&&invokeArrayFns(se),(Ue=he.props&&he.props.onVnodeBeforeUpdate)&&invokeVNodeHook(Ue,Oe,he,Fe),toggleRecurse(ue,!0);const je=renderComponentRoot(ue),Le=ue.subTree;ue.subTree=je,T(Le,je,g(Le.el),Y(Le),ue,ve,me),he.el=je.el,Ne===null&&updateHOCHostEl(ue,je.el),Ee&&queuePostRenderEffect(Ee,ve),(Ue=he.props&&he.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(Ue,Oe,he,Fe),ve)}else{let he;const{el:se,props:Ee}=X,{bm:Oe,m:Fe,parent:Ne}=ue,Ue=isAsyncWrapper(X);if(toggleRecurse(ue,!1),Oe&&invokeArrayFns(Oe),!Ue&&(he=Ee&&Ee.onVnodeBeforeMount)&&invokeVNodeHook(he,Ne,X),toggleRecurse(ue,!0),se&&Ae){const je=()=>{ue.subTree=renderComponentRoot(ue),Ae(se,ue.subTree,ue,ve,null)};Ue?X.type.__asyncLoader().then(()=>!ue.isUnmounted&&je()):je()}else{const je=ue.subTree=renderComponentRoot(ue);T(null,je,$,ge,ue,ve,me),X.el=je.el}if(Fe&&queuePostRenderEffect(Fe,ve),!Ue&&(he=Ee&&Ee.onVnodeMounted)){const je=X;queuePostRenderEffect(()=>invokeVNodeHook(he,Ne,je),ve)}(X.shapeFlag&256||Ne&&isAsyncWrapper(Ne.vnode)&&Ne.vnode.shapeFlag&256)&&ue.a&&queuePostRenderEffect(ue.a,ve),ue.isMounted=!0,X=$=ge=null}},ye=ue.effect=new ReactiveEffect(Se,()=>queueJob(be),ue.scope),be=ue.update=()=>ye.run();be.id=ue.uid,toggleRecurse(ue,!0),be()},q=(ue,X,$)=>{X.component=ue;const ge=ue.vnode.props;ue.vnode=X,ue.next=null,updateProps(ue,X.props,ge,$),updateSlots(ue,X.children,$),pauseTracking(),flushPreFlushCbs(),resetTracking()},D=(ue,X,$,ge,ve,me,ce,Se,ye=!1)=>{const be=ue&&ue.children,he=ue?ue.shapeFlag:0,se=X.children,{patchFlag:Ee,shapeFlag:Oe}=X;if(Ee>0){if(Ee&128){J(be,se,$,ge,ve,me,ce,Se,ye);return}else if(Ee&256){z(be,se,$,ge,ve,me,ce,Se,ye);return}}Oe&8?(he&16&&de(be,ve,me),se!==be&&_($,se)):he&16?Oe&16?J(be,se,$,ge,ve,me,ce,Se,ye):de(be,ve,me,!0):(he&8&&_($,""),Oe&16&&U(se,$,ge,ve,me,ce,Se,ye))},z=(ue,X,$,ge,ve,me,ce,Se,ye)=>{ue=ue||EMPTY_ARR,X=X||EMPTY_ARR;const be=ue.length,he=X.length,se=Math.min(be,he);let Ee;for(Ee=0;Ee<se;Ee++){const Oe=X[Ee]=ye?cloneIfMounted(X[Ee]):normalizeVNode(X[Ee]);T(ue[Ee],Oe,$,null,ve,me,ce,Se,ye)}be>he?de(ue,ve,me,!0,!1,se):U(X,$,ge,ve,me,ce,Se,ye,se)},J=(ue,X,$,ge,ve,me,ce,Se,ye)=>{let be=0;const he=X.length;let se=ue.length-1,Ee=he-1;for(;be<=se&&be<=Ee;){const Oe=ue[be],Fe=X[be]=ye?cloneIfMounted(X[be]):normalizeVNode(X[be]);if(isSameVNodeType(Oe,Fe))T(Oe,Fe,$,null,ve,me,ce,Se,ye);else break;be++}for(;be<=se&&be<=Ee;){const Oe=ue[se],Fe=X[Ee]=ye?cloneIfMounted(X[Ee]):normalizeVNode(X[Ee]);if(isSameVNodeType(Oe,Fe))T(Oe,Fe,$,null,ve,me,ce,Se,ye);else break;se--,Ee--}if(be>se){if(be<=Ee){const Oe=Ee+1,Fe=Oe<he?X[Oe].el:ge;for(;be<=Ee;)T(null,X[be]=ye?cloneIfMounted(X[be]):normalizeVNode(X[be]),$,Fe,ve,me,ce,Se,ye),be++}}else if(be>Ee)for(;be<=se;)fe(ue[be],ve,me,!0),be++;else{const Oe=be,Fe=be,Ne=new Map;for(be=Fe;be<=Ee;be++){const ze=X[be]=ye?cloneIfMounted(X[be]):normalizeVNode(X[be]);ze.key!=null&&Ne.set(ze.key,be)}let Ue,je=0;const Le=Ee-Fe+1;let Xe=!1,Ye=0;const qe=new Array(Le);for(be=0;be<Le;be++)qe[be]=0;for(be=Oe;be<=se;be++){const ze=ue[be];if(je>=Le){fe(ze,ve,me,!0);continue}let Je;if(ze.key!=null)Je=Ne.get(ze.key);else for(Ue=Fe;Ue<=Ee;Ue++)if(qe[Ue-Fe]===0&&isSameVNodeType(ze,X[Ue])){Je=Ue;break}Je===void 0?fe(ze,ve,me,!0):(qe[Je-Fe]=be+1,Je>=Ye?Ye=Je:Xe=!0,T(ze,X[Je],$,null,ve,me,ce,Se,ye),je++)}const He=Xe?getSequence(qe):EMPTY_ARR;for(Ue=He.length-1,be=Le-1;be>=0;be--){const ze=Fe+be,Je=X[ze],ot=ze+1<he?X[ze+1].el:ge;qe[be]===0?T(null,Je,$,ot,ve,me,ce,Se,ye):Xe&&(Ue<0||be!==He[Ue]?ie(Je,$,ot,2):Ue--)}}},ie=(ue,X,$,ge,ve=null)=>{const{el:me,type:ce,transition:Se,children:ye,shapeFlag:be}=ue;if(be&6){ie(ue.component.subTree,X,$,ge);return}if(be&128){ue.suspense.move(X,$,ge);return}if(be&64){ce.move(ue,X,$,Te);return}if(ce===Fragment){n(me,X,$);for(let he=0;he<ye.length;he++)ie(ye[he],X,$,ge);n(ue.anchor,X,$);return}if(ce===Static){k(ue,X,$);return}if(ge!==2&&be&1&&Se)if(ge===0)Se.beforeEnter(me),n(me,X,$),queuePostRenderEffect(()=>Se.enter(me),ve);else{const{leave:he,delayLeave:se,afterLeave:Ee}=Se,Oe=()=>n(me,X,$),Fe=()=>{he(me,()=>{Oe(),Ee&&Ee()})};se?se(me,Oe,Fe):Fe()}else n(me,X,$)},fe=(ue,X,$,ge=!1,ve=!1)=>{const{type:me,props:ce,ref:Se,children:ye,dynamicChildren:be,shapeFlag:he,patchFlag:se,dirs:Ee}=ue;if(Se!=null&&setRef(Se,null,$,ue,!0),he&256){X.ctx.deactivate(ue);return}const Oe=he&1&&Ee,Fe=!isAsyncWrapper(ue);let Ne;if(Fe&&(Ne=ce&&ce.onVnodeBeforeUnmount)&&invokeVNodeHook(Ne,X,ue),he&6)te(ue.component,$,ge);else{if(he&128){ue.suspense.unmount($,ge);return}Oe&&invokeDirectiveHook(ue,null,X,"beforeUnmount"),he&64?ue.type.remove(ue,X,$,ve,Te,ge):be&&(me!==Fragment||se>0&&se&64)?de(be,X,$,!1,!0):(me===Fragment&&se&384||!ve&&he&16)&&de(ye,X,$),ge&&ee(ue)}(Fe&&(Ne=ce&&ce.onVnodeUnmounted)||Oe)&&queuePostRenderEffect(()=>{Ne&&invokeVNodeHook(Ne,X,ue),Oe&&invokeDirectiveHook(ue,null,X,"unmounted")},$)},ee=ue=>{const{type:X,el:$,anchor:ge,transition:ve}=ue;if(X===Fragment){Z($,ge);return}if(X===Static){O(ue);return}const me=()=>{o($),ve&&!ve.persisted&&ve.afterLeave&&ve.afterLeave()};if(ue.shapeFlag&1&&ve&&!ve.persisted){const{leave:ce,delayLeave:Se}=ve,ye=()=>ce($,me);Se?Se(ue.el,me,ye):ye()}else me()},Z=(ue,X)=>{let $;for(;ue!==X;)$=f(ue),o(ue),ue=$;o(X)},te=(ue,X,$)=>{const{bum:ge,scope:ve,update:me,subTree:ce,um:Se}=ue;ge&&invokeArrayFns(ge),ve.stop(),me&&(me.active=!1,fe(ce,ue,X,$)),Se&&queuePostRenderEffect(Se,X),queuePostRenderEffect(()=>{ue.isUnmounted=!0},X),X&&X.pendingBranch&&!X.isUnmounted&&ue.asyncDep&&!ue.asyncResolved&&ue.suspenseId===X.pendingId&&(X.deps--,X.deps===0&&X.resolve())},de=(ue,X,$,ge=!1,ve=!1,me=0)=>{for(let ce=me;ce<ue.length;ce++)fe(ue[ce],X,$,ge,ve)},Y=ue=>ue.shapeFlag&6?Y(ue.component.subTree):ue.shapeFlag&128?ue.suspense.next():f(ue.anchor||ue.el),we=(ue,X,$)=>{ue==null?X._vnode&&fe(X._vnode,null,null,!0):T(X._vnode||null,ue,X,null,null,null,$),flushPreFlushCbs(),flushPostFlushCbs(),X._vnode=ue},Te={p:T,um:fe,m:ie,r:ee,mt:ae,mc:U,pc:D,pbc:W,n:Y,o:t};let Me,Ae;return e&&([Me,Ae]=e(Te)),{render:we,hydrate:Me,createApp:createAppAPI(we,Me)}}function toggleRecurse({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function traverseStaticChildren(t,e,r=!1){const n=t.children,o=e.children;if(isArray$3(n)&&isArray$3(o))for(let s=0;s<n.length;s++){const c=n[s];let d=o[s];d.shapeFlag&1&&!d.dynamicChildren&&((d.patchFlag<=0||d.patchFlag===32)&&(d=o[s]=cloneIfMounted(o[s]),d.el=c.el),r||traverseStaticChildren(c,d)),d.type===Text&&(d.el=c.el)}}function getSequence(t){const e=t.slice(),r=[0];let n,o,s,c,d;const u=t.length;for(n=0;n<u;n++){const m=t[n];if(m!==0){if(o=r[r.length-1],t[o]<m){e[n]=o,r.push(n);continue}for(s=0,c=r.length-1;s<c;)d=s+c>>1,t[r[d]]<m?s=d+1:c=d;m<t[r[s]]&&(s>0&&(e[n]=r[s-1]),r[s]=n)}}for(s=r.length,c=r[s-1];s-- >0;)r[s]=c,c=e[c];return r}const isTeleport=t=>t.__isTeleport,Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(t=!1){blockStack.push(currentBlock=t?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(t){isBlockTreeEnabled+=t}function setupBlock(t){return t.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(t),t}function createElementBlock(t,e,r,n,o,s){return setupBlock(createBaseVNode(t,e,r,n,o,s,!0))}function createBlock(t,e,r,n,o){return setupBlock(createVNode(t,e,r,n,o,!0))}function isVNode$1(t){return t?t.__v_isVNode===!0:!1}function isSameVNodeType(t,e){return t.type===e.type&&t.key===e.key}const InternalObjectKey="__vInternal",normalizeKey=({key:t})=>t??null,normalizeRef=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?isString$2(t)||isRef(t)||isFunction$3(t)?{i:currentRenderingInstance,r:t,k:e,f:!!r}:t:null);function createBaseVNode(t,e=null,r=null,n=0,o=null,s=t===Fragment?0:1,c=!1,d=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&normalizeKey(e),ref:e&&normalizeRef(e),scopeId:currentScopeId,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return d?(normalizeChildren(u,r),s&128&&t.normalize(u)):r&&(u.shapeFlag|=isString$2(r)?8:16),isBlockTreeEnabled>0&&!c&&currentBlock&&(u.patchFlag>0||s&6)&&u.patchFlag!==32&&currentBlock.push(u),u}const createVNode=_createVNode;function _createVNode(t,e=null,r=null,n=0,o=null,s=!1){if((!t||t===NULL_DYNAMIC_COMPONENT)&&(t=Comment),isVNode$1(t)){const d=cloneVNode(t,e,!0);return r&&normalizeChildren(d,r),isBlockTreeEnabled>0&&!s&&currentBlock&&(d.shapeFlag&6?currentBlock[currentBlock.indexOf(t)]=d:currentBlock.push(d)),d.patchFlag|=-2,d}if(isClassComponent(t)&&(t=t.__vccOpts),e){e=guardReactiveProps(e);let{class:d,style:u}=e;d&&!isString$2(d)&&(e.class=normalizeClass(d)),isObject$4(u)&&(isProxy(u)&&!isArray$3(u)&&(u=extend$1({},u)),e.style=normalizeStyle(u))}const c=isString$2(t)?1:isSuspense(t)?128:isTeleport(t)?64:isObject$4(t)?4:isFunction$3(t)?2:0;return createBaseVNode(t,e,r,n,o,c,s,!0)}function guardReactiveProps(t){return t?isProxy(t)||InternalObjectKey in t?extend$1({},t):t:null}function cloneVNode(t,e,r=!1){const{props:n,ref:o,patchFlag:s,children:c}=t,d=e?mergeProps(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:d,key:d&&normalizeKey(d),ref:e&&e.ref?r&&o?isArray$3(o)?o.concat(normalizeRef(e)):[o,normalizeRef(e)]:normalizeRef(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:c,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Fragment?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&cloneVNode(t.ssContent),ssFallback:t.ssFallback&&cloneVNode(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function createTextVNode(t=" ",e=0){return createVNode(Text,null,t,e)}function createCommentVNode(t="",e=!1){return e?(openBlock(),createBlock(Comment,null,t)):createVNode(Comment,null,t)}function normalizeVNode(t){return t==null||typeof t=="boolean"?createVNode(Comment):isArray$3(t)?createVNode(Fragment,null,t.slice()):typeof t=="object"?cloneIfMounted(t):createVNode(Text,null,String(t))}function cloneIfMounted(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:cloneVNode(t)}function normalizeChildren(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(isArray$3(e))r=16;else if(typeof e=="object")if(n&65){const o=e.default;o&&(o._c&&(o._d=!1),normalizeChildren(t,o()),o._c&&(o._d=!0));return}else{r=32;const o=e._;!o&&!(InternalObjectKey in e)?e._ctx=currentRenderingInstance:o===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else isFunction$3(e)?(e={default:e,_ctx:currentRenderingInstance},r=32):(e=String(e),n&64?(r=16,e=[createTextVNode(e)]):r=8);t.children=e,t.shapeFlag|=r}function mergeProps(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const o in n)if(o==="class")e.class!==n.class&&(e.class=normalizeClass([e.class,n.class]));else if(o==="style")e.style=normalizeStyle([e.style,n.style]);else if(isOn(o)){const s=e[o],c=n[o];c&&s!==c&&!(isArray$3(s)&&s.includes(c))&&(e[o]=s?[].concat(s,c):c)}else o!==""&&(e[o]=n[o])}return e}function invokeVNodeHook(t,e,r,n=null){callWithAsyncErrorHandling(t,e,7,[r,n])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(t,e,r){const n=t.type,o=(e?e.appContext:t.appContext)||emptyAppContext,s={uid:uid++,vnode:t,type:n,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(n,o),emitsOptions:normalizeEmitsOptions(n,o),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:n.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=emit.bind(null,s),t.ce&&t.ce(s),s}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,globalCurrentInstanceSetters,settersKey="__VUE_INSTANCE_SETTERS__";(globalCurrentInstanceSetters=getGlobalThis$1()[settersKey])||(globalCurrentInstanceSetters=getGlobalThis$1()[settersKey]=[]),globalCurrentInstanceSetters.push(t=>currentInstance=t),internalSetCurrentInstance=t=>{globalCurrentInstanceSetters.length>1?globalCurrentInstanceSetters.forEach(e=>e(t)):globalCurrentInstanceSetters[0](t)};const setCurrentInstance=t=>{internalSetCurrentInstance(t),t.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(t){return t.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(t,e=!1){isInSSRComponentSetup=e;const{props:r,children:n}=t.vnode,o=isStatefulComponent(t);initProps(t,r,o,e),initSlots(t,n);const s=o?setupStatefulComponent(t,e):void 0;return isInSSRComponentSetup=!1,s}function setupStatefulComponent(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=markRaw(new Proxy(t.ctx,PublicInstanceProxyHandlers));const{setup:n}=r;if(n){const o=t.setupContext=n.length>1?createSetupContext(t):null;setCurrentInstance(t),pauseTracking();const s=callWithErrorHandling(n,t,0,[t.props,o]);if(resetTracking(),unsetCurrentInstance(),isPromise(s)){if(s.then(unsetCurrentInstance,unsetCurrentInstance),e)return s.then(c=>{handleSetupResult(t,c,e)}).catch(c=>{handleError(c,t,0)});t.asyncDep=s}else handleSetupResult(t,s,e)}else finishComponentSetup(t,e)}function handleSetupResult(t,e,r){isFunction$3(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:isObject$4(e)&&(t.setupState=proxyRefs(e)),finishComponentSetup(t,r)}let compile;function finishComponentSetup(t,e,r){const n=t.type;if(!t.render){if(!e&&compile&&!n.render){const o=n.template||resolveMergedOptions(t).template;if(o){const{isCustomElement:s,compilerOptions:c}=t.appContext.config,{delimiters:d,compilerOptions:u}=n,m=extend$1(extend$1({isCustomElement:s,delimiters:d},c),u);n.render=compile(o,m)}}t.render=n.render||NOOP}setCurrentInstance(t),pauseTracking(),applyOptions(t),resetTracking(),unsetCurrentInstance()}function getAttrsProxy(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,r){return track(t,"get","$attrs"),e[r]}}))}function createSetupContext(t){const e=r=>{t.exposed=r||{}};return{get attrs(){return getAttrsProxy(t)},slots:t.slots,emit:t.emit,expose:e}}function getExposeProxy(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(proxyRefs(markRaw(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in publicPropertiesMap)return publicPropertiesMap[r](t)},has(e,r){return r in e||r in publicPropertiesMap}}))}function isClassComponent(t){return isFunction$3(t)&&"__vccOpts"in t}const computed=(t,e)=>computed$1(t,e,isInSSRComponentSetup);function h$9(t,e,r){const n=arguments.length;return n===2?isObject$4(e)&&!isArray$3(e)?isVNode$1(e)?createVNode(t,null,[e]):createVNode(t,e):createVNode(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&isVNode$1(r)&&(r=[r]),createVNode(t,e,r))}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject$1(ssrContextKey),version="3.3.4",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const o=e?doc.createElementNS(svgNS,t):doc.createElement(t,r?{is:r}:void 0);return t==="select"&&n&&n.multiple!=null&&o.setAttribute("multiple",n.multiple),o},createText:t=>doc.createTextNode(t),createComment:t=>doc.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>doc.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,o,s){const c=r?r.previousSibling:e.lastChild;if(o&&(o===s||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),r),!(o===s||!(o=o.nextSibling)););else{templateContainer.innerHTML=n?`<svg>${t}</svg>`:t;const d=templateContainer.content;if(n){const u=d.firstChild;for(;u.firstChild;)d.appendChild(u.firstChild);d.removeChild(u)}e.insertBefore(d,r)}return[c?c.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}};function patchClass(t,e,r){const n=t._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}function patchStyle(t,e,r){const n=t.style,o=isString$2(r);if(r&&!o){if(e&&!isString$2(e))for(const s in e)r[s]==null&&setStyle(n,s,"");for(const s in r)setStyle(n,s,r[s])}else{const s=n.display;o?e!==r&&(n.cssText=r):e&&t.removeAttribute("style"),"_vod"in t&&(n.display=s)}}const importantRE=/\s*!important$/;function setStyle(t,e,r){if(isArray$3(r))r.forEach(n=>setStyle(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=autoPrefix(t,e);importantRE.test(r)?t.setProperty(hyphenate(n),r.replace(importantRE,""),"important"):t[n]=r}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(t,e){const r=prefixCache[e];if(r)return r;let n=camelize(e);if(n!=="filter"&&n in t)return prefixCache[e]=n;n=capitalize$1(n);for(let o=0;o<prefixes.length;o++){const s=prefixes[o]+n;if(s in t)return prefixCache[e]=s}return e}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(t,e,r,n,o){if(n&&e.startsWith("xlink:"))r==null?t.removeAttributeNS(xlinkNS,e.slice(6,e.length)):t.setAttributeNS(xlinkNS,e,r);else{const s=isSpecialBooleanAttr(e);r==null||s&&!includeBooleanAttr(r)?t.removeAttribute(e):t.setAttribute(e,s?"":r)}}function patchDOMProp(t,e,r,n,o,s,c){if(e==="innerHTML"||e==="textContent"){n&&c(n,o,s),t[e]=r??"";return}const d=t.tagName;if(e==="value"&&d!=="PROGRESS"&&!d.includes("-")){t._value=r;const m=d==="OPTION"?t.getAttribute("value"):t.value,_=r??"";m!==_&&(t.value=_),r==null&&t.removeAttribute(e);return}let u=!1;if(r===""||r==null){const m=typeof t[e];m==="boolean"?r=includeBooleanAttr(r):r==null&&m==="string"?(r="",u=!0):m==="number"&&(r=0,u=!0)}try{t[e]=r}catch{}u&&t.removeAttribute(e)}function addEventListener(t,e,r,n){t.addEventListener(e,r,n)}function removeEventListener(t,e,r,n){t.removeEventListener(e,r,n)}function patchEvent(t,e,r,n,o=null){const s=t._vei||(t._vei={}),c=s[e];if(n&&c)c.value=n;else{const[d,u]=parseName(e);if(n){const m=s[e]=createInvoker(n,o);addEventListener(t,d,m,u)}else c&&(removeEventListener(t,d,c,u),s[e]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(t){let e;if(optionsModifierRE.test(t)){e={};let r;for(;r=t.match(optionsModifierRE);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):hyphenate(t.slice(2)),e]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(n,r.value),e,5,[n])};return r.value=t,r.attached=getNow(),r}function patchStopImmediatePropagation(t,e){if(isArray$3(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>o=>!o._stopped&&n&&n(o))}else return e}const nativeOnRE=/^on[a-z]/,patchProp=(t,e,r,n,o=!1,s,c,d,u)=>{e==="class"?patchClass(t,n,o):e==="style"?patchStyle(t,r,n):isOn(e)?isModelListener(e)||patchEvent(t,e,r,n,c):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):shouldSetAsProp(t,e,n,o))?patchDOMProp(t,e,n,s,c,d,u):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),patchAttr(t,e,n,o))};function shouldSetAsProp(t,e,r,n){return n?!!(e==="innerHTML"||e==="textContent"||e in t&&nativeOnRE.test(e)&&isFunction$3(r)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||nativeOnRE.test(e)&&isString$2(r)?!1:e in t}function useCssVars(t){const e=getCurrentInstance();if(!e)return;const r=e.ut=(o=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>setVarsOnNode(s,o))},n=()=>{const o=t(e.proxy);setVarsOnVNode(e.subTree,o),r(o)};watchPostEffect(n),onMounted(()=>{const o=new MutationObserver(n);o.observe(e.subTree.el.parentNode,{childList:!0}),onUnmounted(()=>o.disconnect())})}function setVarsOnVNode(t,e){if(t.shapeFlag&128){const r=t.suspense;t=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{setVarsOnVNode(r.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)setVarsOnNode(t.el,e);else if(t.type===Fragment)t.children.forEach(r=>setVarsOnVNode(r,e));else if(t.type===Static){let{el:r,anchor:n}=t;for(;r&&(setVarsOnNode(r,e),r!==n);)r=r.nextSibling}}function setVarsOnNode(t,e){if(t.nodeType===1){const r=t.style;for(const n in e)r.setProperty(`--${n}`,e[n])}}const TRANSITION="transition",ANIMATION="animation",Transition=(t,{slots:e})=>h$9(BaseTransition,resolveTransitionProps(t),e);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=Transition.props=extend$1({},BaseTransitionPropsValidators,DOMTransitionPropsValidators),callHook=(t,e=[])=>{isArray$3(t)?t.forEach(r=>r(...e)):t&&t(...e)},hasExplicitCallback=t=>t?isArray$3(t)?t.some(e=>e.length>1):t.length>1:!1;function resolveTransitionProps(t){const e={};for(const re in t)re in DOMTransitionPropsValidators||(e[re]=t[re]);if(t.css===!1)return e;const{name:r="v",type:n,duration:o,enterFromClass:s=`${r}-enter-from`,enterActiveClass:c=`${r}-enter-active`,enterToClass:d=`${r}-enter-to`,appearFromClass:u=s,appearActiveClass:m=c,appearToClass:_=d,leaveFromClass:g=`${r}-leave-from`,leaveActiveClass:f=`${r}-leave-active`,leaveToClass:y=`${r}-leave-to`}=t,M=normalizeDuration(o),T=M&&M[0],A=M&&M[1],{onBeforeEnter:E,onEnter:C,onEnterCancelled:k,onLeave:O,onLeaveCancelled:I,onBeforeAppear:B=E,onAppear:j=C,onAppearCancelled:U=k}=e,N=(re,le,ae)=>{removeTransitionClass(re,le?_:d),removeTransitionClass(re,le?m:c),ae&&ae()},W=(re,le)=>{re._isLeaving=!1,removeTransitionClass(re,g),removeTransitionClass(re,y),removeTransitionClass(re,f),le&&le()},ne=re=>(le,ae)=>{const pe=re?j:C,K=()=>N(le,re,ae);callHook(pe,[le,K]),nextFrame(()=>{removeTransitionClass(le,re?u:s),addTransitionClass(le,re?_:d),hasExplicitCallback(pe)||whenTransitionEnds(le,n,T,K)})};return extend$1(e,{onBeforeEnter(re){callHook(E,[re]),addTransitionClass(re,s),addTransitionClass(re,c)},onBeforeAppear(re){callHook(B,[re]),addTransitionClass(re,u),addTransitionClass(re,m)},onEnter:ne(!1),onAppear:ne(!0),onLeave(re,le){re._isLeaving=!0;const ae=()=>W(re,le);addTransitionClass(re,g),forceReflow(),addTransitionClass(re,f),nextFrame(()=>{re._isLeaving&&(removeTransitionClass(re,g),addTransitionClass(re,y),hasExplicitCallback(O)||whenTransitionEnds(re,n,A,ae))}),callHook(O,[re,ae])},onEnterCancelled(re){N(re,!1),callHook(k,[re])},onAppearCancelled(re){N(re,!0),callHook(U,[re])},onLeaveCancelled(re){W(re),callHook(I,[re])}})}function normalizeDuration(t){if(t==null)return null;if(isObject$4(t))return[NumberOf(t.enter),NumberOf(t.leave)];{const e=NumberOf(t);return[e,e]}}function NumberOf(t){return toNumber$1(t)}function addTransitionClass(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t._vtc||(t._vtc=new Set)).add(e)}function removeTransitionClass(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const{_vtc:r}=t;r&&(r.delete(e),r.size||(t._vtc=void 0))}function nextFrame(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let endId=0;function whenTransitionEnds(t,e,r,n){const o=t._endId=++endId,s=()=>{o===t._endId&&n()};if(r)return setTimeout(s,r);const{type:c,timeout:d,propCount:u}=getTransitionInfo(t,e);if(!c)return n();const m=c+"end";let _=0;const g=()=>{t.removeEventListener(m,f),s()},f=y=>{y.target===t&&++_>=u&&g()};setTimeout(()=>{_<u&&g()},d+1),t.addEventListener(m,f)}function getTransitionInfo(t,e){const r=window.getComputedStyle(t),n=M=>(r[M]||"").split(", "),o=n(`${TRANSITION}Delay`),s=n(`${TRANSITION}Duration`),c=getTimeout(o,s),d=n(`${ANIMATION}Delay`),u=n(`${ANIMATION}Duration`),m=getTimeout(d,u);let _=null,g=0,f=0;e===TRANSITION?c>0&&(_=TRANSITION,g=c,f=s.length):e===ANIMATION?m>0&&(_=ANIMATION,g=m,f=u.length):(g=Math.max(c,m),_=g>0?c>m?TRANSITION:ANIMATION:null,f=_?_===TRANSITION?s.length:u.length:0);const y=_===TRANSITION&&/\b(transform|all)(,|$)/.test(n(`${TRANSITION}Property`).toString());return{type:_,timeout:g,propCount:f,hasTransform:y}}function getTimeout(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,n)=>toMs(r)+toMs(t[n])))}function toMs(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}const positionMap=new WeakMap,newPositionMap=new WeakMap,TransitionGroupImpl={name:"TransitionGroup",props:extend$1({},TransitionPropsValidators,{tag:String,moveClass:String}),setup(t,{slots:e}){const r=getCurrentInstance(),n=useTransitionState();let o,s;return onUpdated(()=>{if(!o.length)return;const c=t.moveClass||`${t.name||"v"}-move`;if(!hasCSSTransform(o[0].el,r.vnode.el,c))return;o.forEach(callPendingCbs),o.forEach(recordPosition);const d=o.filter(applyTranslation);forceReflow(),d.forEach(u=>{const m=u.el,_=m.style;addTransitionClass(m,c),_.transform=_.webkitTransform=_.transitionDuration="";const g=m._moveCb=f=>{f&&f.target!==m||(!f||/transform$/.test(f.propertyName))&&(m.removeEventListener("transitionend",g),m._moveCb=null,removeTransitionClass(m,c))};m.addEventListener("transitionend",g)})}),()=>{const c=toRaw(t),d=resolveTransitionProps(c);let u=c.tag||Fragment;o=s,s=e.default?getTransitionRawChildren(e.default()):[];for(let m=0;m<s.length;m++){const _=s[m];_.key!=null&&setTransitionHooks(_,resolveTransitionHooks(_,d,n,r))}if(o)for(let m=0;m<o.length;m++){const _=o[m];setTransitionHooks(_,resolveTransitionHooks(_,d,n,r)),positionMap.set(_,_.el.getBoundingClientRect())}return createVNode(u,null,s)}}},removeMode=t=>delete t.mode;TransitionGroupImpl.props;const TransitionGroup=TransitionGroupImpl;function callPendingCbs(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function recordPosition(t){newPositionMap.set(t,t.el.getBoundingClientRect())}function applyTranslation(t){const e=positionMap.get(t),r=newPositionMap.get(t),n=e.left-r.left,o=e.top-r.top;if(n||o){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${n}px,${o}px)`,s.transitionDuration="0s",t}}function hasCSSTransform(t,e,r){const n=t.cloneNode();t._vtc&&t._vtc.forEach(c=>{c.split(/\s+/).forEach(d=>d&&n.classList.remove(d))}),r.split(/\s+/).forEach(c=>c&&n.classList.add(c)),n.style.display="none";const o=e.nodeType===1?e:e.parentNode;o.appendChild(n);const{hasTransform:s}=getTransitionInfo(n);return o.removeChild(n),s}const vShow={beforeMount(t,{value:e},{transition:r}){t._vod=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):setDisplay(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:n}){!e!=!r&&(n?e?(n.beforeEnter(t),setDisplay(t,!0),n.enter(t)):n.leave(t,()=>{setDisplay(t,!1)}):setDisplay(t,e))},beforeUnmount(t,{value:e}){setDisplay(t,e)}};function setDisplay(t,e){t.style.display=e?t._vod:"none"}const rendererOptions=extend$1({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...t)=>{const e=ensureRenderer().createApp(...t),{mount:r}=e;return e.mount=n=>{const o=normalizeContainer(n);if(!o)return;const s=e._component;!isFunction$3(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.innerHTML="";const c=r(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),c},e};function normalizeContainer(t){return isString$2(t)?document.querySelector(t):t}var isVue2=!1;let activePinia;const setActivePinia=t=>activePinia=t,piniaSymbol=Symbol();function isPlainObject$2(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var MutationType;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const t=effectScope(!0),e=t.run(()=>ref({}));let r=[],n=[];const o=markRaw({install(s){setActivePinia(o),o._a=s,s.provide(piniaSymbol,o),s.config.globalProperties.$pinia=o,n.forEach(c=>r.push(c)),n=[]},use(s){return!this._a&&!isVue2?n.push(s):r.push(s),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return o}const noop$1=()=>{};function addSubscription(t,e,r,n=noop$1){t.push(e);const o=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),n())};return!r&&getCurrentScope()&&onScopeDispose(o),o}function triggerSubscriptions(t,...e){t.slice().forEach(r=>{r(...e)})}const fallbackRunWithContext=t=>t();function mergeReactiveObjects(t,e){t instanceof Map&&e instanceof Map&&e.forEach((r,n)=>t.set(n,r)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r],o=t[r];isPlainObject$2(o)&&isPlainObject$2(n)&&t.hasOwnProperty(r)&&!isRef(n)&&!isReactive(n)?t[r]=mergeReactiveObjects(o,n):t[r]=n}return t}const skipHydrateSymbol=Symbol();function shouldHydrate(t){return!isPlainObject$2(t)||!t.hasOwnProperty(skipHydrateSymbol)}const{assign:assign$1}=Object;function isComputed(t){return!!(isRef(t)&&t.effect)}function createOptionsStore(t,e,r,n){const{state:o,actions:s,getters:c}=e,d=r.state.value[t];let u;function m(){d||(r.state.value[t]=o?o():{});const _=toRefs(r.state.value[t]);return assign$1(_,s,Object.keys(c||{}).reduce((g,f)=>(g[f]=markRaw(computed(()=>{setActivePinia(r);const y=r._s.get(t);return c[f].call(y,y)})),g),{}))}return u=createSetupStore(t,m,e,r,n,!0),u}function createSetupStore(t,e,r={},n,o,s){let c;const d=assign$1({actions:{}},r),u={deep:!0};let m,_,g=[],f=[],y;const M=n.state.value[t];!s&&!M&&(n.state.value[t]={}),ref({});let T;function A(U){let N;m=_=!1,typeof U=="function"?(U(n.state.value[t]),N={type:MutationType.patchFunction,storeId:t,events:y}):(mergeReactiveObjects(n.state.value[t],U),N={type:MutationType.patchObject,payload:U,storeId:t,events:y});const W=T=Symbol();nextTick().then(()=>{T===W&&(m=!0)}),_=!0,triggerSubscriptions(g,N,n.state.value[t])}const E=s?function(){const{state:U}=r,N=U?U():{};this.$patch(W=>{assign$1(W,N)})}:noop$1;function C(){c.stop(),g=[],f=[],n._s.delete(t)}function k(U,N){return function(){setActivePinia(n);const W=Array.from(arguments),ne=[],re=[];function le(K){ne.push(K)}function ae(K){re.push(K)}triggerSubscriptions(f,{args:W,name:U,store:I,after:le,onError:ae});let pe;try{pe=N.apply(this&&this.$id===t?this:I,W)}catch(K){throw triggerSubscriptions(re,K),K}return pe instanceof Promise?pe.then(K=>(triggerSubscriptions(ne,K),K)).catch(K=>(triggerSubscriptions(re,K),Promise.reject(K))):(triggerSubscriptions(ne,pe),pe)}}const O={_p:n,$id:t,$onAction:addSubscription.bind(null,f),$patch:A,$reset:E,$subscribe(U,N={}){const W=addSubscription(g,U,N.detached,()=>ne()),ne=c.run(()=>watch(()=>n.state.value[t],re=>{(N.flush==="sync"?_:m)&&U({storeId:t,type:MutationType.direct,events:y},re)},assign$1({},u,N)));return W},$dispose:C},I=reactive(O);n._s.set(t,I);const B=n._a&&n._a.runWithContext||fallbackRunWithContext,j=n._e.run(()=>(c=effectScope(),B(()=>c.run(e))));for(const U in j){const N=j[U];if(isRef(N)&&!isComputed(N)||isReactive(N))s||(M&&shouldHydrate(N)&&(isRef(N)?N.value=M[U]:mergeReactiveObjects(N,M[U])),n.state.value[t][U]=N);else if(typeof N=="function"){const W=k(U,N);j[U]=W,d.actions[U]=N}}return assign$1(I,j),assign$1(toRaw(I),j),Object.defineProperty(I,"$state",{get:()=>n.state.value[t],set:U=>{A(N=>{assign$1(N,U)})}}),n._p.forEach(U=>{assign$1(I,c.run(()=>U({store:I,app:n._a,pinia:n,options:d})))}),M&&s&&r.hydrate&&r.hydrate(I.$state,M),m=!0,_=!0,I}function defineStore(t,e,r){let n,o;const s=typeof e=="function";typeof t=="string"?(n=t,o=s?r:e):(o=t,n=t.id);function c(d,u){const m=hasInjectionContext();return d=d||(m?inject$1(piniaSymbol,null):null),d&&setActivePinia(d),d=activePinia,d._s.has(n)||(s?createSetupStore(n,e,o,d):createOptionsStore(n,o,d)),d._s.get(n)}return c.$id=n,c}const inBrowser=typeof window<"u",hasSymbol=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",makeSymbol=t=>hasSymbol?Symbol(t):t,generateFormatCacheKey=(t,e,r)=>friendlyJSONstringify({l:t,k:e,s:r}),friendlyJSONstringify=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),isNumber$1=t=>typeof t=="number"&&isFinite(t),isDate$1=t=>toTypeString(t)==="[object Date]",isRegExp$1=t=>toTypeString(t)==="[object RegExp]",isEmptyObject=t=>isPlainObject$1(t)&&Object.keys(t).length===0;function warn(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const assign=Object.assign;let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function escapeHtml(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const hasOwnProperty$d=Object.prototype.hasOwnProperty;function hasOwn(t,e){return hasOwnProperty$d.call(t,e)}const isArray$2=Array.isArray,isFunction$2=t=>typeof t=="function",isString$1=t=>typeof t=="string",isBoolean$1=t=>typeof t=="boolean",isObject$3=t=>t!==null&&typeof t=="object",objectToString$2=Object.prototype.toString,toTypeString=t=>objectToString$2.call(t),isPlainObject$1=t=>toTypeString(t)==="[object Object]",toDisplayString=t=>t==null?"":isArray$2(t)||isPlainObject$1(t)&&t.toString===objectToString$2?JSON.stringify(t,null,2):String(t),CompileErrorCodes={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,__EXTEND_POINT__:15};function createCompileError(t,e,r={}){const{domain:n,messages:o,args:s}=r,c=t,d=new SyntaxError(String(c));return d.code=t,e&&(d.location=e),d.domain=n,d}function defaultOnError(t){throw t}function createPosition(t,e,r){return{line:t,column:e,offset:r}}function createLocation(t,e,r){const n={start:t,end:e};return r!=null&&(n.source=r),n}const CHAR_SP=" ",CHAR_CR="\r",CHAR_LF=`
`,CHAR_LS=String.fromCharCode(8232),CHAR_PS=String.fromCharCode(8233);function createScanner(t){const e=t;let r=0,n=1,o=1,s=0;const c=j=>e[j]===CHAR_CR&&e[j+1]===CHAR_LF,d=j=>e[j]===CHAR_LF,u=j=>e[j]===CHAR_PS,m=j=>e[j]===CHAR_LS,_=j=>c(j)||d(j)||u(j)||m(j),g=()=>r,f=()=>n,y=()=>o,M=()=>s,T=j=>c(j)||u(j)||m(j)?CHAR_LF:e[j],A=()=>T(r),E=()=>T(r+s);function C(){return s=0,_(r)&&(n++,o=0),c(r)&&r++,r++,o++,e[r]}function k(){return c(r+s)&&s++,s++,e[r+s]}function O(){r=0,n=1,o=1,s=0}function I(j=0){s=j}function B(){const j=r+s;for(;j!==r;)C();s=0}return{index:g,line:f,column:y,peekOffset:M,charAt:T,currentChar:A,currentPeek:E,next:C,peek:k,reset:O,resetPeek:I,skipToPeek:B}}const EOF=void 0,LITERAL_DELIMITER="'",ERROR_DOMAIN$1="tokenizer";function createTokenizer(t,e={}){const r=e.location!==!1,n=createScanner(t),o=()=>n.index(),s=()=>createPosition(n.line(),n.column(),n.index()),c=s(),d=o(),u={currentType:14,offset:d,startLoc:c,endLoc:c,lastType:14,lastOffset:d,lastStartLoc:c,lastEndLoc:c,braceNest:0,inLinked:!1,text:""},m=()=>u,{onError:_}=e;function g(X,$,ge,...ve){const me=m();if($.column+=ge,$.offset+=ge,_){const ce=createLocation(me.startLoc,$),Se=createCompileError(X,ce,{domain:ERROR_DOMAIN$1,args:ve});_(Se)}}function f(X,$,ge){X.endLoc=s(),X.currentType=$;const ve={type:$};return r&&(ve.loc=createLocation(X.startLoc,X.endLoc)),ge!=null&&(ve.value=ge),ve}const y=X=>f(X,14);function M(X,$){return X.currentChar()===$?(X.next(),$):(g(CompileErrorCodes.EXPECTED_TOKEN,s(),0,$),"")}function T(X){let $="";for(;X.currentPeek()===CHAR_SP||X.currentPeek()===CHAR_LF;)$+=X.currentPeek(),X.peek();return $}function A(X){const $=T(X);return X.skipToPeek(),$}function E(X){if(X===EOF)return!1;const $=X.charCodeAt(0);return $>=97&&$<=122||$>=65&&$<=90||$===95}function C(X){if(X===EOF)return!1;const $=X.charCodeAt(0);return $>=48&&$<=57}function k(X,$){const{currentType:ge}=$;if(ge!==2)return!1;T(X);const ve=E(X.currentPeek());return X.resetPeek(),ve}function O(X,$){const{currentType:ge}=$;if(ge!==2)return!1;T(X);const ve=X.currentPeek()==="-"?X.peek():X.currentPeek(),me=C(ve);return X.resetPeek(),me}function I(X,$){const{currentType:ge}=$;if(ge!==2)return!1;T(X);const ve=X.currentPeek()===LITERAL_DELIMITER;return X.resetPeek(),ve}function B(X,$){const{currentType:ge}=$;if(ge!==8)return!1;T(X);const ve=X.currentPeek()===".";return X.resetPeek(),ve}function j(X,$){const{currentType:ge}=$;if(ge!==9)return!1;T(X);const ve=E(X.currentPeek());return X.resetPeek(),ve}function U(X,$){const{currentType:ge}=$;if(!(ge===8||ge===12))return!1;T(X);const ve=X.currentPeek()===":";return X.resetPeek(),ve}function N(X,$){const{currentType:ge}=$;if(ge!==10)return!1;const ve=()=>{const ce=X.currentPeek();return ce==="{"?E(X.peek()):ce==="@"||ce==="%"||ce==="|"||ce===":"||ce==="."||ce===CHAR_SP||!ce?!1:ce===CHAR_LF?(X.peek(),ve()):E(ce)},me=ve();return X.resetPeek(),me}function W(X){T(X);const $=X.currentPeek()==="|";return X.resetPeek(),$}function ne(X){const $=T(X),ge=X.currentPeek()==="%"&&X.peek()==="{";return X.resetPeek(),{isModulo:ge,hasSpace:$.length>0}}function re(X,$=!0){const ge=(me=!1,ce="",Se=!1)=>{const ye=X.currentPeek();return ye==="{"?ce==="%"?!1:me:ye==="@"||!ye?ce==="%"?!0:me:ye==="%"?(X.peek(),ge(me,"%",!0)):ye==="|"?ce==="%"||Se?!0:!(ce===CHAR_SP||ce===CHAR_LF):ye===CHAR_SP?(X.peek(),ge(!0,CHAR_SP,Se)):ye===CHAR_LF?(X.peek(),ge(!0,CHAR_LF,Se)):!0},ve=ge();return $&&X.resetPeek(),ve}function le(X,$){const ge=X.currentChar();return ge===EOF?EOF:$(ge)?(X.next(),ge):null}function ae(X){return le(X,$=>{const ge=$.charCodeAt(0);return ge>=97&&ge<=122||ge>=65&&ge<=90||ge>=48&&ge<=57||ge===95||ge===36})}function pe(X){return le(X,$=>{const ge=$.charCodeAt(0);return ge>=48&&ge<=57})}function K(X){return le(X,$=>{const ge=$.charCodeAt(0);return ge>=48&&ge<=57||ge>=65&&ge<=70||ge>=97&&ge<=102})}function q(X){let $="",ge="";for(;$=pe(X);)ge+=$;return ge}function D(X){A(X);const $=X.currentChar();return $!=="%"&&g(CompileErrorCodes.EXPECTED_TOKEN,s(),0,$),X.next(),"%"}function z(X){let $="";for(;;){const ge=X.currentChar();if(ge==="{"||ge==="}"||ge==="@"||ge==="|"||!ge)break;if(ge==="%")if(re(X))$+=ge,X.next();else break;else if(ge===CHAR_SP||ge===CHAR_LF)if(re(X))$+=ge,X.next();else{if(W(X))break;$+=ge,X.next()}else $+=ge,X.next()}return $}function J(X){A(X);let $="",ge="";for(;$=ae(X);)ge+=$;return X.currentChar()===EOF&&g(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,s(),0),ge}function ie(X){A(X);let $="";return X.currentChar()==="-"?(X.next(),$+=`-${q(X)}`):$+=q(X),X.currentChar()===EOF&&g(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,s(),0),$}function fe(X){A(X),M(X,"'");let $="",ge="";const ve=ce=>ce!==LITERAL_DELIMITER&&ce!==CHAR_LF;for(;$=le(X,ve);)$==="\\"?ge+=ee(X):ge+=$;const me=X.currentChar();return me===CHAR_LF||me===EOF?(g(CompileErrorCodes.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,s(),0),me===CHAR_LF&&(X.next(),M(X,"'")),ge):(M(X,"'"),ge)}function ee(X){const $=X.currentChar();switch($){case"\\":case"'":return X.next(),`\\${$}`;case"u":return Z(X,$,4);case"U":return Z(X,$,6);default:return g(CompileErrorCodes.UNKNOWN_ESCAPE_SEQUENCE,s(),0,$),""}}function Z(X,$,ge){M(X,$);let ve="";for(let me=0;me<ge;me++){const ce=K(X);if(!ce){g(CompileErrorCodes.INVALID_UNICODE_ESCAPE_SEQUENCE,s(),0,`\\${$}${ve}${X.currentChar()}`);break}ve+=ce}return`\\${$}${ve}`}function te(X){A(X);let $="",ge="";const ve=me=>me!=="{"&&me!=="}"&&me!==CHAR_SP&&me!==CHAR_LF;for(;$=le(X,ve);)ge+=$;return ge}function de(X){let $="",ge="";for(;$=ae(X);)ge+=$;return ge}function Y(X){const $=(ge=!1,ve)=>{const me=X.currentChar();return me==="{"||me==="%"||me==="@"||me==="|"||!me||me===CHAR_SP?ve:me===CHAR_LF?(ve+=me,X.next(),$(ge,ve)):(ve+=me,X.next(),$(!0,ve))};return $(!1,"")}function we(X){A(X);const $=M(X,"|");return A(X),$}function Te(X,$){let ge=null;switch(X.currentChar()){case"{":return $.braceNest>=1&&g(CompileErrorCodes.NOT_ALLOW_NEST_PLACEHOLDER,s(),0),X.next(),ge=f($,2,"{"),A(X),$.braceNest++,ge;case"}":return $.braceNest>0&&$.currentType===2&&g(CompileErrorCodes.EMPTY_PLACEHOLDER,s(),0),X.next(),ge=f($,3,"}"),$.braceNest--,$.braceNest>0&&A(X),$.inLinked&&$.braceNest===0&&($.inLinked=!1),ge;case"@":return $.braceNest>0&&g(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,s(),0),ge=Me(X,$)||y($),$.braceNest=0,ge;default:let ve=!0,me=!0,ce=!0;if(W(X))return $.braceNest>0&&g(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,s(),0),ge=f($,1,we(X)),$.braceNest=0,$.inLinked=!1,ge;if($.braceNest>0&&($.currentType===5||$.currentType===6||$.currentType===7))return g(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,s(),0),$.braceNest=0,Ae(X,$);if(ve=k(X,$))return ge=f($,5,J(X)),A(X),ge;if(me=O(X,$))return ge=f($,6,ie(X)),A(X),ge;if(ce=I(X,$))return ge=f($,7,fe(X)),A(X),ge;if(!ve&&!me&&!ce)return ge=f($,13,te(X)),g(CompileErrorCodes.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,ge.value),A(X),ge;break}return ge}function Me(X,$){const{currentType:ge}=$;let ve=null;const me=X.currentChar();switch((ge===8||ge===9||ge===12||ge===10)&&(me===CHAR_LF||me===CHAR_SP)&&g(CompileErrorCodes.INVALID_LINKED_FORMAT,s(),0),me){case"@":return X.next(),ve=f($,8,"@"),$.inLinked=!0,ve;case".":return A(X),X.next(),f($,9,".");case":":return A(X),X.next(),f($,10,":");default:return W(X)?(ve=f($,1,we(X)),$.braceNest=0,$.inLinked=!1,ve):B(X,$)||U(X,$)?(A(X),Me(X,$)):j(X,$)?(A(X),f($,12,de(X))):N(X,$)?(A(X),me==="{"?Te(X,$)||ve:f($,11,Y(X))):(ge===8&&g(CompileErrorCodes.INVALID_LINKED_FORMAT,s(),0),$.braceNest=0,$.inLinked=!1,Ae(X,$))}}function Ae(X,$){let ge={type:14};if($.braceNest>0)return Te(X,$)||y($);if($.inLinked)return Me(X,$)||y($);switch(X.currentChar()){case"{":return Te(X,$)||y($);case"}":return g(CompileErrorCodes.UNBALANCED_CLOSING_BRACE,s(),0),X.next(),f($,3,"}");case"@":return Me(X,$)||y($);default:if(W(X))return ge=f($,1,we(X)),$.braceNest=0,$.inLinked=!1,ge;const{isModulo:ve,hasSpace:me}=ne(X);if(ve)return me?f($,0,z(X)):f($,4,D(X));if(re(X))return f($,0,z(X));break}return ge}function ue(){const{currentType:X,offset:$,startLoc:ge,endLoc:ve}=u;return u.lastType=X,u.lastOffset=$,u.lastStartLoc=ge,u.lastEndLoc=ve,u.offset=o(),u.startLoc=s(),n.currentChar()===EOF?f(u,14):Ae(n,u)}return{nextToken:ue,currentOffset:o,currentPosition:s,context:m}}const ERROR_DOMAIN="parser",KNOWN_ESCAPES=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function fromEscapeSequence(t,e,r){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const n=parseInt(e||r,16);return n<=55295||n>=57344?String.fromCodePoint(n):"\uFFFD"}}}function createParser(t={}){const e=t.location!==!1,{onError:r}=t;function n(E,C,k,O,...I){const B=E.currentPosition();if(B.offset+=O,B.column+=O,r){const j=createLocation(k,B),U=createCompileError(C,j,{domain:ERROR_DOMAIN,args:I});r(U)}}function o(E,C,k){const O={type:E,start:C,end:C};return e&&(O.loc={start:k,end:k}),O}function s(E,C,k,O){E.end=C,O&&(E.type=O),e&&E.loc&&(E.loc.end=k)}function c(E,C){const k=E.context(),O=o(3,k.offset,k.startLoc);return O.value=C,s(O,E.currentOffset(),E.currentPosition()),O}function d(E,C){const k=E.context(),{lastOffset:O,lastStartLoc:I}=k,B=o(5,O,I);return B.index=parseInt(C,10),E.nextToken(),s(B,E.currentOffset(),E.currentPosition()),B}function u(E,C){const k=E.context(),{lastOffset:O,lastStartLoc:I}=k,B=o(4,O,I);return B.key=C,E.nextToken(),s(B,E.currentOffset(),E.currentPosition()),B}function m(E,C){const k=E.context(),{lastOffset:O,lastStartLoc:I}=k,B=o(9,O,I);return B.value=C.replace(KNOWN_ESCAPES,fromEscapeSequence),E.nextToken(),s(B,E.currentOffset(),E.currentPosition()),B}function _(E){const C=E.nextToken(),k=E.context(),{lastOffset:O,lastStartLoc:I}=k,B=o(8,O,I);return C.type!==12?(n(E,CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_MODIFIER,k.lastStartLoc,0),B.value="",s(B,O,I),{nextConsumeToken:C,node:B}):(C.value==null&&n(E,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,getTokenCaption(C)),B.value=C.value||"",s(B,E.currentOffset(),E.currentPosition()),{node:B})}function g(E,C){const k=E.context(),O=o(7,k.offset,k.startLoc);return O.value=C,s(O,E.currentOffset(),E.currentPosition()),O}function f(E){const C=E.context(),k=o(6,C.offset,C.startLoc);let O=E.nextToken();if(O.type===9){const I=_(E);k.modifier=I.node,O=I.nextConsumeToken||E.nextToken()}switch(O.type!==10&&n(E,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,getTokenCaption(O)),O=E.nextToken(),O.type===2&&(O=E.nextToken()),O.type){case 11:O.value==null&&n(E,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,getTokenCaption(O)),k.key=g(E,O.value||"");break;case 5:O.value==null&&n(E,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,getTokenCaption(O)),k.key=u(E,O.value||"");break;case 6:O.value==null&&n(E,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,getTokenCaption(O)),k.key=d(E,O.value||"");break;case 7:O.value==null&&n(E,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,getTokenCaption(O)),k.key=m(E,O.value||"");break;default:n(E,CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_KEY,C.lastStartLoc,0);const I=E.context(),B=o(7,I.offset,I.startLoc);return B.value="",s(B,I.offset,I.startLoc),k.key=B,s(k,I.offset,I.startLoc),{nextConsumeToken:O,node:k}}return s(k,E.currentOffset(),E.currentPosition()),{node:k}}function y(E){const C=E.context(),k=C.currentType===1?E.currentOffset():C.offset,O=C.currentType===1?C.endLoc:C.startLoc,I=o(2,k,O);I.items=[];let B=null;do{const N=B||E.nextToken();switch(B=null,N.type){case 0:N.value==null&&n(E,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,getTokenCaption(N)),I.items.push(c(E,N.value||""));break;case 6:N.value==null&&n(E,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,getTokenCaption(N)),I.items.push(d(E,N.value||""));break;case 5:N.value==null&&n(E,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,getTokenCaption(N)),I.items.push(u(E,N.value||""));break;case 7:N.value==null&&n(E,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,getTokenCaption(N)),I.items.push(m(E,N.value||""));break;case 8:const W=f(E);I.items.push(W.node),B=W.nextConsumeToken||null;break}}while(C.currentType!==14&&C.currentType!==1);const j=C.currentType===1?C.lastOffset:E.currentOffset(),U=C.currentType===1?C.lastEndLoc:E.currentPosition();return s(I,j,U),I}function M(E,C,k,O){const I=E.context();let B=O.items.length===0;const j=o(1,C,k);j.cases=[],j.cases.push(O);do{const U=y(E);B||(B=U.items.length===0),j.cases.push(U)}while(I.currentType!==14);return B&&n(E,CompileErrorCodes.MUST_HAVE_MESSAGES_IN_PLURAL,k,0),s(j,E.currentOffset(),E.currentPosition()),j}function T(E){const C=E.context(),{offset:k,startLoc:O}=C,I=y(E);return C.currentType===14?I:M(E,k,O,I)}function A(E){const C=createTokenizer(E,assign({},t)),k=C.context(),O=o(0,k.offset,k.startLoc);return e&&O.loc&&(O.loc.source=E),O.body=T(C),k.currentType!==14&&n(C,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,E[k.offset]||""),s(O,C.currentOffset(),C.currentPosition()),O}return{parse:A}}function getTokenCaption(t){if(t.type===14)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"\u2026":e}function createTransformer(t,e={}){const r={ast:t,helpers:new Set};return{context:()=>r,helper:n=>(r.helpers.add(n),n)}}function traverseNodes(t,e){for(let r=0;r<t.length;r++)traverseNode(t[r],e)}function traverseNode(t,e){switch(t.type){case 1:traverseNodes(t.cases,e),e.helper("plural");break;case 2:traverseNodes(t.items,e);break;case 6:traverseNode(t.key,e),e.helper("linked"),e.helper("type");break;case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function transform(t,e={}){const r=createTransformer(t);r.helper("normalize"),t.body&&traverseNode(t.body,r);const n=r.context();t.helpers=Array.from(n.helpers)}function createCodeGenerator(t,e){const{sourceMap:r,filename:n,breakLineCode:o,needIndent:s}=e,c={source:t.loc.source,filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:o,needIndent:s,indentLevel:0},d=()=>c;function u(y,M){c.code+=y}function m(y,M=!0){const T=M?o:"";u(s?T+"  ".repeat(y):T)}function _(y=!0){const M=++c.indentLevel;y&&m(M)}function g(y=!0){const M=--c.indentLevel;y&&m(M)}function f(){m(c.indentLevel)}return{context:d,push:u,indent:_,deindent:g,newline:f,helper:y=>`_${y}`,needIndent:()=>c.needIndent}}function generateLinkedNode(t,e){const{helper:r}=t;t.push(`${r("linked")}(`),generateNode(t,e.key),e.modifier?(t.push(", "),generateNode(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function generateMessageNode(t,e){const{helper:r,needIndent:n}=t;t.push(`${r("normalize")}([`),t.indent(n());const o=e.items.length;for(let s=0;s<o&&(generateNode(t,e.items[s]),s!==o-1);s++)t.push(", ");t.deindent(n()),t.push("])")}function generatePluralNode(t,e){const{helper:r,needIndent:n}=t;if(e.cases.length>1){t.push(`${r("plural")}([`),t.indent(n());const o=e.cases.length;for(let s=0;s<o&&(generateNode(t,e.cases[s]),s!==o-1);s++)t.push(", ");t.deindent(n()),t.push("])")}}function generateResource(t,e){e.body?generateNode(t,e.body):t.push("null")}function generateNode(t,e){const{helper:r}=t;switch(e.type){case 0:generateResource(t,e);break;case 1:generatePluralNode(t,e);break;case 2:generateMessageNode(t,e);break;case 6:generateLinkedNode(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${r("interpolate")}(${r("list")}(${e.index}))`,e);break;case 4:t.push(`${r("interpolate")}(${r("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break}}const generate=(t,e={})=>{const r=isString$1(e.mode)?e.mode:"normal",n=isString$1(e.filename)?e.filename:"message.intl",o=!!e.sourceMap,s=e.breakLineCode!=null?e.breakLineCode:r==="arrow"?";":`
`,c=e.needIndent?e.needIndent:r!=="arrow",d=t.helpers||[],u=createCodeGenerator(t,{mode:r,filename:n,sourceMap:o,breakLineCode:s,needIndent:c});u.push(r==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),u.indent(c),d.length>0&&(u.push(`const { ${d.map(g=>`${g}: _${g}`).join(", ")} } = ctx`),u.newline()),u.push("return "),generateNode(u,t),u.deindent(c),u.push("}");const{code:m,map:_}=u.context();return{ast:t,code:m,map:_?_.toJSON():void 0}};function baseCompile(t,e={}){const r=assign({},e),n=createParser(r).parse(t);return transform(n,r),generate(n,r)}const IntlifyDevToolsHooks={I18nInit:"i18n:init",FunctionTranslate:"function:translate"},pathStateMachine=[];pathStateMachine[0]={w:[0],i:[3,0],"[":[4],o:[7]},pathStateMachine[1]={w:[1],".":[2],"[":[4],o:[7]},pathStateMachine[2]={w:[2],i:[3,0],0:[3,0]},pathStateMachine[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]},pathStateMachine[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]},pathStateMachine[5]={"'":[4,0],o:8,l:[5,0]},pathStateMachine[6]={'"':[4,0],o:8,l:[6,0]};const literalValueRE=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function isLiteral(t){return literalValueRE.test(t)}function stripQuotes(t){const e=t.charCodeAt(0),r=t.charCodeAt(t.length-1);return e===r&&(e===34||e===39)?t.slice(1,-1):t}function getPathCharType(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function formatSubPath(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:isLiteral(e)?stripQuotes(e):"*"+e}function parse(t){const e=[];let r=-1,n=0,o=0,s,c,d,u,m,_,g;const f=[];f[0]=()=>{c===void 0?c=d:c+=d},f[1]=()=>{c!==void 0&&(e.push(c),c=void 0)},f[2]=()=>{f[0](),o++},f[3]=()=>{if(o>0)o--,n=4,f[0]();else{if(o=0,c===void 0||(c=formatSubPath(c),c===!1))return!1;f[1]()}};function y(){const M=t[r+1];if(n===5&&M==="'"||n===6&&M==='"')return r++,d="\\"+M,f[0](),!0}for(;n!==null;)if(r++,s=t[r],!(s==="\\"&&y())){if(u=getPathCharType(s),g=pathStateMachine[n],m=g[u]||g.l||8,m===8||(n=m[0],m[1]!==void 0&&(_=f[m[1]],_&&(d=s,_()===!1))))return;if(n===7)return e}}const cache=new Map;function resolveWithKeyValue(t,e){return isObject$3(t)?t[e]:null}function resolveValue(t,e){if(!isObject$3(t))return null;let r=cache.get(e);if(r||(r=parse(e),r&&cache.set(e,r)),!r)return null;const n=r.length;let o=t,s=0;for(;s<n;){const c=o[r[s]];if(c===void 0)return null;o=c,s++}return o}const DEFAULT_MODIFIER=t=>t,DEFAULT_MESSAGE=t=>"",DEFAULT_MESSAGE_DATA_TYPE="text",DEFAULT_NORMALIZE=t=>t.length===0?"":t.join(""),DEFAULT_INTERPOLATE=toDisplayString;function pluralDefault(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function getPluralIndex(t){const e=isNumber$1(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(isNumber$1(t.named.count)||isNumber$1(t.named.n))?isNumber$1(t.named.count)?t.named.count:isNumber$1(t.named.n)?t.named.n:e:e}function normalizeNamed(t,e){e.count||(e.count=t),e.n||(e.n=t)}function createMessageContext(t={}){const e=t.locale,r=getPluralIndex(t),n=isObject$3(t.pluralRules)&&isString$1(e)&&isFunction$2(t.pluralRules[e])?t.pluralRules[e]:pluralDefault,o=isObject$3(t.pluralRules)&&isString$1(e)&&isFunction$2(t.pluralRules[e])?pluralDefault:void 0,s=A=>A[n(r,A.length,o)],c=t.list||[],d=A=>c[A],u=t.named||{};isNumber$1(t.pluralIndex)&&normalizeNamed(r,u);const m=A=>u[A];function _(A){return(isFunction$2(t.messages)?t.messages(A):isObject$3(t.messages)?t.messages[A]:!1)||(t.parent?t.parent.message(A):DEFAULT_MESSAGE)}const g=A=>t.modifiers?t.modifiers[A]:DEFAULT_MODIFIER,f=isPlainObject$1(t.processor)&&isFunction$2(t.processor.normalize)?t.processor.normalize:DEFAULT_NORMALIZE,y=isPlainObject$1(t.processor)&&isFunction$2(t.processor.interpolate)?t.processor.interpolate:DEFAULT_INTERPOLATE,M=isPlainObject$1(t.processor)&&isString$1(t.processor.type)?t.processor.type:DEFAULT_MESSAGE_DATA_TYPE,T={list:d,named:m,plural:s,linked:(A,...E)=>{const[C,k]=E;let O="text",I="";E.length===1?isObject$3(C)?(I=C.modifier||I,O=C.type||O):isString$1(C)&&(I=C||I):E.length===2&&(isString$1(C)&&(I=C||I),isString$1(k)&&(O=k||O));let B=_(A)(T);return O==="vnode"&&isArray$2(B)&&I&&(B=B[0]),I?g(I)(B,O):B},message:_,type:M,interpolate:y,normalize:f};return T}let devtools=null;function setDevToolsHook(t){devtools=t}function initI18nDevTools(t,e,r){devtools&&devtools.emit(IntlifyDevToolsHooks.I18nInit,{timestamp:Date.now(),i18n:t,version:e,meta:r})}const translateDevTools=createDevToolsHook(IntlifyDevToolsHooks.FunctionTranslate);function createDevToolsHook(t){return e=>devtools&&devtools.emit(t,e)}function fallbackWithSimple(t,e,r){return[...new Set([r,...isArray$2(e)?e:isObject$3(e)?Object.keys(e):isString$1(e)?[e]:[r]])]}function fallbackWithLocaleChain(t,e,r){const n=isString$1(r)?r:DEFAULT_LOCALE,o=t;o.__localeChainCache||(o.__localeChainCache=new Map);let s=o.__localeChainCache.get(n);if(!s){s=[];let c=[r];for(;isArray$2(c);)c=appendBlockToChain(s,c,e);const d=isArray$2(e)||!isPlainObject$1(e)?e:e.default?e.default:null;c=isString$1(d)?[d]:d,isArray$2(c)&&appendBlockToChain(s,c,!1),o.__localeChainCache.set(n,s)}return s}function appendBlockToChain(t,e,r){let n=!0;for(let o=0;o<e.length&&isBoolean$1(n);o++){const s=e[o];isString$1(s)&&(n=appendLocaleToChain(t,e[o],r))}return n}function appendLocaleToChain(t,e,r){let n;const o=e.split("-");do{const s=o.join("-");n=appendItemToChain(t,s,r),o.splice(-1,1)}while(o.length&&n===!0);return n}function appendItemToChain(t,e,r){let n=!1;if(!t.includes(e)&&(n=!0,e)){n=e[e.length-1]!=="!";const o=e.replace(/!/g,"");t.push(o),(isArray$2(r)||isPlainObject$1(r))&&r[o]&&(n=r[o])}return n}const VERSION$2="9.2.2",NOT_REOSLVED=-1,DEFAULT_LOCALE="en-US",MISSING_RESOLVE_VALUE="",capitalize=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function getDefaultLinkedModifiers(){return{upper:(t,e)=>e==="text"&&isString$1(t)?t.toUpperCase():e==="vnode"&&isObject$3(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&isString$1(t)?t.toLowerCase():e==="vnode"&&isObject$3(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&isString$1(t)?capitalize(t):e==="vnode"&&isObject$3(t)&&"__v_isVNode"in t?capitalize(t.children):t}}let _compiler;function registerMessageCompiler(t){_compiler=t}let _resolver;function registerMessageResolver(t){_resolver=t}let _fallbacker;function registerLocaleFallbacker(t){_fallbacker=t}let _additionalMeta=null;const setAdditionalMeta=t=>{_additionalMeta=t},getAdditionalMeta=()=>_additionalMeta;let _fallbackContext=null;const setFallbackContext=t=>{_fallbackContext=t},getFallbackContext=()=>_fallbackContext;let _cid=0;function createCoreContext(t={}){const e=isString$1(t.version)?t.version:VERSION$2,r=isString$1(t.locale)?t.locale:DEFAULT_LOCALE,n=isArray$2(t.fallbackLocale)||isPlainObject$1(t.fallbackLocale)||isString$1(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:r,o=isPlainObject$1(t.messages)?t.messages:{[r]:{}},s=isPlainObject$1(t.datetimeFormats)?t.datetimeFormats:{[r]:{}},c=isPlainObject$1(t.numberFormats)?t.numberFormats:{[r]:{}},d=assign({},t.modifiers||{},getDefaultLinkedModifiers()),u=t.pluralRules||{},m=isFunction$2(t.missing)?t.missing:null,_=isBoolean$1(t.missingWarn)||isRegExp$1(t.missingWarn)?t.missingWarn:!0,g=isBoolean$1(t.fallbackWarn)||isRegExp$1(t.fallbackWarn)?t.fallbackWarn:!0,f=!!t.fallbackFormat,y=!!t.unresolving,M=isFunction$2(t.postTranslation)?t.postTranslation:null,T=isPlainObject$1(t.processor)?t.processor:null,A=isBoolean$1(t.warnHtmlMessage)?t.warnHtmlMessage:!0,E=!!t.escapeParameter,C=isFunction$2(t.messageCompiler)?t.messageCompiler:_compiler,k=isFunction$2(t.messageResolver)?t.messageResolver:_resolver||resolveWithKeyValue,O=isFunction$2(t.localeFallbacker)?t.localeFallbacker:_fallbacker||fallbackWithSimple,I=isObject$3(t.fallbackContext)?t.fallbackContext:void 0,B=isFunction$2(t.onWarn)?t.onWarn:warn,j=t,U=isObject$3(j.__datetimeFormatters)?j.__datetimeFormatters:new Map,N=isObject$3(j.__numberFormatters)?j.__numberFormatters:new Map,W=isObject$3(j.__meta)?j.__meta:{};_cid++;const ne={version:e,cid:_cid,locale:r,fallbackLocale:n,messages:o,modifiers:d,pluralRules:u,missing:m,missingWarn:_,fallbackWarn:g,fallbackFormat:f,unresolving:y,postTranslation:M,processor:T,warnHtmlMessage:A,escapeParameter:E,messageCompiler:C,messageResolver:k,localeFallbacker:O,fallbackContext:I,onWarn:B,__meta:W};return ne.datetimeFormats=s,ne.numberFormats=c,ne.__datetimeFormatters=U,ne.__numberFormatters=N,__INTLIFY_PROD_DEVTOOLS__&&initI18nDevTools(ne,e,W),ne}function handleMissing(t,e,r,n,o){const{missing:s,onWarn:c}=t;if(s!==null){const d=s(t,r,e,o);return isString$1(d)?d:e}else return e}function updateFallbackLocale(t,e,r){const n=t;n.__localeChainCache=new Map,t.localeFallbacker(t,r,e)}const defaultOnCacheKey=t=>t;let compileCache=Object.create(null);function compileToFunction(t,e={}){{const r=(e.onCacheKey||defaultOnCacheKey)(t),n=compileCache[r];if(n)return n;let o=!1;const s=e.onError||defaultOnError;e.onError=u=>{o=!0,s(u)};const{code:c}=baseCompile(t,e),d=new Function(`return ${c}`)();return o?d:compileCache[r]=d}}let code$1=CompileErrorCodes.__EXTEND_POINT__;const inc$1=()=>++code$1,CoreErrorCodes={INVALID_ARGUMENT:code$1,INVALID_DATE_ARGUMENT:inc$1(),INVALID_ISO_DATE_ARGUMENT:inc$1(),__EXTEND_POINT__:inc$1()};function createCoreError(t){return createCompileError(t,null,void 0)}const NOOP_MESSAGE_FUNCTION=()=>"",isMessageFunction=t=>isFunction$2(t);function translate(t,...e){const{fallbackFormat:r,postTranslation:n,unresolving:o,messageCompiler:s,fallbackLocale:c,messages:d}=t,[u,m]=parseTranslateArgs(...e),_=isBoolean$1(m.missingWarn)?m.missingWarn:t.missingWarn,g=isBoolean$1(m.fallbackWarn)?m.fallbackWarn:t.fallbackWarn,f=isBoolean$1(m.escapeParameter)?m.escapeParameter:t.escapeParameter,y=!!m.resolvedMessage,M=isString$1(m.default)||isBoolean$1(m.default)?isBoolean$1(m.default)?s?u:()=>u:m.default:r?s?u:()=>u:"",T=r||M!=="",A=isString$1(m.locale)?m.locale:t.locale;f&&escapeParams(m);let[E,C,k]=y?[u,A,d[A]||{}]:resolveMessageFormat(t,u,A,c,g,_),O=E,I=u;if(!y&&!(isString$1(O)||isMessageFunction(O))&&T&&(O=M,I=O),!y&&(!(isString$1(O)||isMessageFunction(O))||!isString$1(C)))return o?NOT_REOSLVED:u;let B=!1;const j=()=>{B=!0},U=isMessageFunction(O)?O:compileMessageFormat(t,u,C,O,I,j);if(B)return O;const N=getMessageContextOptions(t,C,k,m),W=createMessageContext(N),ne=evaluateMessage(t,U,W),re=n?n(ne,u):ne;if(__INTLIFY_PROD_DEVTOOLS__){const le={timestamp:Date.now(),key:isString$1(u)?u:isMessageFunction(O)?O.key:"",locale:C||(isMessageFunction(O)?O.locale:""),format:isString$1(O)?O:isMessageFunction(O)?O.source:"",message:re};le.meta=assign({},t.__meta,getAdditionalMeta()||{}),translateDevTools(le)}return re}function escapeParams(t){isArray$2(t.list)?t.list=t.list.map(e=>isString$1(e)?escapeHtml(e):e):isObject$3(t.named)&&Object.keys(t.named).forEach(e=>{isString$1(t.named[e])&&(t.named[e]=escapeHtml(t.named[e]))})}function resolveMessageFormat(t,e,r,n,o,s){const{messages:c,onWarn:d,messageResolver:u,localeFallbacker:m}=t,_=m(t,n,r);let g={},f,y=null;const M="translate";for(let T=0;T<_.length&&(f=_[T],g=c[f]||{},(y=u(g,e))===null&&(y=g[e]),!(isString$1(y)||isFunction$2(y)));T++){const A=handleMissing(t,e,f,s,M);A!==e&&(y=A)}return[y,f,g]}function compileMessageFormat(t,e,r,n,o,s){const{messageCompiler:c,warnHtmlMessage:d}=t;if(isMessageFunction(n)){const m=n;return m.locale=m.locale||r,m.key=m.key||e,m}if(c==null){const m=()=>n;return m.locale=r,m.key=e,m}const u=c(n,getCompileOptions(t,r,o,n,d,s));return u.locale=r,u.key=e,u.source=n,u}function evaluateMessage(t,e,r){return e(r)}function parseTranslateArgs(...t){const[e,r,n]=t,o={};if(!isString$1(e)&&!isNumber$1(e)&&!isMessageFunction(e))throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);const s=isNumber$1(e)?String(e):(isMessageFunction(e),e);return isNumber$1(r)?o.plural=r:isString$1(r)?o.default=r:isPlainObject$1(r)&&!isEmptyObject(r)?o.named=r:isArray$2(r)&&(o.list=r),isNumber$1(n)?o.plural=n:isString$1(n)?o.default=n:isPlainObject$1(n)&&assign(o,n),[s,o]}function getCompileOptions(t,e,r,n,o,s){return{warnHtmlMessage:o,onError:c=>{throw s&&s(c),c},onCacheKey:c=>generateFormatCacheKey(e,r,c)}}function getMessageContextOptions(t,e,r,n){const{modifiers:o,pluralRules:s,messageResolver:c,fallbackLocale:d,fallbackWarn:u,missingWarn:m,fallbackContext:_}=t,g={locale:e,modifiers:o,pluralRules:s,messages:f=>{let y=c(r,f);if(y==null&&_){const[,,M]=resolveMessageFormat(_,f,e,d,u,m);y=c(M,f)}if(isString$1(y)){let M=!1;const T=compileMessageFormat(t,f,e,y,f,()=>{M=!0});return M?NOOP_MESSAGE_FUNCTION:T}else return isMessageFunction(y)?y:NOOP_MESSAGE_FUNCTION}};return t.processor&&(g.processor=t.processor),n.list&&(g.list=n.list),n.named&&(g.named=n.named),isNumber$1(n.plural)&&(g.pluralIndex=n.plural),g}function datetime(t,...e){const{datetimeFormats:r,unresolving:n,fallbackLocale:o,onWarn:s,localeFallbacker:c}=t,{__datetimeFormatters:d}=t,[u,m,_,g]=parseDateTimeArgs(...e),f=isBoolean$1(_.missingWarn)?_.missingWarn:t.missingWarn;isBoolean$1(_.fallbackWarn)?_.fallbackWarn:t.fallbackWarn;const y=!!_.part,M=isString$1(_.locale)?_.locale:t.locale,T=c(t,o,M);if(!isString$1(u)||u==="")return new Intl.DateTimeFormat(M,g).format(m);let A={},E,C=null;const k="datetime format";for(let B=0;B<T.length&&(E=T[B],A=r[E]||{},C=A[u],!isPlainObject$1(C));B++)handleMissing(t,u,E,f,k);if(!isPlainObject$1(C)||!isString$1(E))return n?NOT_REOSLVED:u;let O=`${E}__${u}`;isEmptyObject(g)||(O=`${O}__${JSON.stringify(g)}`);let I=d.get(O);return I||(I=new Intl.DateTimeFormat(E,assign({},C,g)),d.set(O,I)),y?I.formatToParts(m):I.format(m)}const DATETIME_FORMAT_OPTIONS_KEYS=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function parseDateTimeArgs(...t){const[e,r,n,o]=t,s={};let c={},d;if(isString$1(e)){const u=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!u)throw createCoreError(CoreErrorCodes.INVALID_ISO_DATE_ARGUMENT);const m=u[3]?u[3].trim().startsWith("T")?`${u[1].trim()}${u[3].trim()}`:`${u[1].trim()}T${u[3].trim()}`:u[1].trim();d=new Date(m);try{d.toISOString()}catch{throw createCoreError(CoreErrorCodes.INVALID_ISO_DATE_ARGUMENT)}}else if(isDate$1(e)){if(isNaN(e.getTime()))throw createCoreError(CoreErrorCodes.INVALID_DATE_ARGUMENT);d=e}else if(isNumber$1(e))d=e;else throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);return isString$1(r)?s.key=r:isPlainObject$1(r)&&Object.keys(r).forEach(u=>{DATETIME_FORMAT_OPTIONS_KEYS.includes(u)?c[u]=r[u]:s[u]=r[u]}),isString$1(n)?s.locale=n:isPlainObject$1(n)&&(c=n),isPlainObject$1(o)&&(c=o),[s.key||"",d,s,c]}function clearDateTimeFormat(t,e,r){const n=t;for(const o in r){const s=`${e}__${o}`;n.__datetimeFormatters.has(s)&&n.__datetimeFormatters.delete(s)}}function number(t,...e){const{numberFormats:r,unresolving:n,fallbackLocale:o,onWarn:s,localeFallbacker:c}=t,{__numberFormatters:d}=t,[u,m,_,g]=parseNumberArgs(...e),f=isBoolean$1(_.missingWarn)?_.missingWarn:t.missingWarn;isBoolean$1(_.fallbackWarn)?_.fallbackWarn:t.fallbackWarn;const y=!!_.part,M=isString$1(_.locale)?_.locale:t.locale,T=c(t,o,M);if(!isString$1(u)||u==="")return new Intl.NumberFormat(M,g).format(m);let A={},E,C=null;const k="number format";for(let B=0;B<T.length&&(E=T[B],A=r[E]||{},C=A[u],!isPlainObject$1(C));B++)handleMissing(t,u,E,f,k);if(!isPlainObject$1(C)||!isString$1(E))return n?NOT_REOSLVED:u;let O=`${E}__${u}`;isEmptyObject(g)||(O=`${O}__${JSON.stringify(g)}`);let I=d.get(O);return I||(I=new Intl.NumberFormat(E,assign({},C,g)),d.set(O,I)),y?I.formatToParts(m):I.format(m)}const NUMBER_FORMAT_OPTIONS_KEYS=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function parseNumberArgs(...t){const[e,r,n,o]=t,s={};let c={};if(!isNumber$1(e))throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);const d=e;return isString$1(r)?s.key=r:isPlainObject$1(r)&&Object.keys(r).forEach(u=>{NUMBER_FORMAT_OPTIONS_KEYS.includes(u)?c[u]=r[u]:s[u]=r[u]}),isString$1(n)?s.locale=n:isPlainObject$1(n)&&(c=n),isPlainObject$1(o)&&(c=o),[s.key||"",d,s,c]}function clearNumberFormat(t,e,r){const n=t;for(const o in r){const s=`${e}__${o}`;n.__numberFormatters.has(s)&&n.__numberFormatters.delete(s)}}typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(getGlobalThis().__INTLIFY_PROD_DEVTOOLS__=!1);const VERSION$1="9.2.2";function initFeatureFlags(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(getGlobalThis().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(getGlobalThis().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(getGlobalThis().__INTLIFY_PROD_DEVTOOLS__=!1)}let code=CompileErrorCodes.__EXTEND_POINT__;const inc=()=>++code,I18nErrorCodes={UNEXPECTED_RETURN_TYPE:code,INVALID_ARGUMENT:inc(),MUST_BE_CALL_SETUP_TOP:inc(),NOT_INSLALLED:inc(),NOT_AVAILABLE_IN_LEGACY_MODE:inc(),REQUIRED_VALUE:inc(),INVALID_VALUE:inc(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:inc(),NOT_INSLALLED_WITH_PROVIDE:inc(),UNEXPECTED_ERROR:inc(),NOT_COMPATIBLE_LEGACY_VUE_I18N:inc(),BRIDGE_SUPPORT_VUE_2_ONLY:inc(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:inc(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:inc(),__EXTEND_POINT__:inc()};function createI18nError(t,...e){return createCompileError(t,null,void 0)}const TransrateVNodeSymbol=makeSymbol("__transrateVNode"),DatetimePartsSymbol=makeSymbol("__datetimeParts"),NumberPartsSymbol=makeSymbol("__numberParts"),SetPluralRulesSymbol=makeSymbol("__setPluralRules");makeSymbol("__intlifyMeta");const InejctWithOption=makeSymbol("__injectWithOption");function handleFlatJson(t){if(!isObject$3(t))return t;for(const e in t)if(hasOwn(t,e))if(!e.includes("."))isObject$3(t[e])&&handleFlatJson(t[e]);else{const r=e.split("."),n=r.length-1;let o=t;for(let s=0;s<n;s++)r[s]in o||(o[r[s]]={}),o=o[r[s]];o[r[n]]=t[e],delete t[e],isObject$3(o[r[n]])&&handleFlatJson(o[r[n]])}return t}function getLocaleMessages(t,e){const{messages:r,__i18n:n,messageResolver:o,flatJson:s}=e,c=isPlainObject$1(r)?r:isArray$2(n)?{}:{[t]:{}};if(isArray$2(n)&&n.forEach(d=>{if("locale"in d&&"resource"in d){const{locale:u,resource:m}=d;u?(c[u]=c[u]||{},deepCopy(m,c[u])):deepCopy(m,c)}else isString$1(d)&&deepCopy(JSON.parse(d),c)}),o==null&&s)for(const d in c)hasOwn(c,d)&&handleFlatJson(c[d]);return c}const isNotObjectOrIsArray=t=>!isObject$3(t)||isArray$2(t);function deepCopy(t,e){if(isNotObjectOrIsArray(t)||isNotObjectOrIsArray(e))throw createI18nError(I18nErrorCodes.INVALID_VALUE);for(const r in t)hasOwn(t,r)&&(isNotObjectOrIsArray(t[r])||isNotObjectOrIsArray(e[r])?e[r]=t[r]:deepCopy(t[r],e[r]))}function getComponentOptions(t){return t.type}function adjustI18nResources(t,e,r){let n=isObject$3(e.messages)?e.messages:{};"__i18nGlobal"in r&&(n=getLocaleMessages(t.locale.value,{messages:n,__i18n:r.__i18nGlobal}));const o=Object.keys(n);o.length&&o.forEach(s=>{t.mergeLocaleMessage(s,n[s])});{if(isObject$3(e.datetimeFormats)){const s=Object.keys(e.datetimeFormats);s.length&&s.forEach(c=>{t.mergeDateTimeFormat(c,e.datetimeFormats[c])})}if(isObject$3(e.numberFormats)){const s=Object.keys(e.numberFormats);s.length&&s.forEach(c=>{t.mergeNumberFormat(c,e.numberFormats[c])})}}}function createTextNode(t){return createVNode(Text,null,t,0)}const DEVTOOLS_META="__INTLIFY_META__";let composerID=0;function defineCoreMissingHandler(t){return(e,r,n,o)=>t(r,n,getCurrentInstance()||void 0,o)}const getMetaInfo=()=>{const t=getCurrentInstance();let e=null;return t&&(e=getComponentOptions(t)[DEVTOOLS_META])?{[DEVTOOLS_META]:e}:null};function createComposer(t={},e){const{__root:r}=t,n=r===void 0;let o=isBoolean$1(t.inheritLocale)?t.inheritLocale:!0;const s=ref(r&&o?r.locale.value:isString$1(t.locale)?t.locale:DEFAULT_LOCALE),c=ref(r&&o?r.fallbackLocale.value:isString$1(t.fallbackLocale)||isArray$2(t.fallbackLocale)||isPlainObject$1(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:s.value),d=ref(getLocaleMessages(s.value,t)),u=ref(isPlainObject$1(t.datetimeFormats)?t.datetimeFormats:{[s.value]:{}}),m=ref(isPlainObject$1(t.numberFormats)?t.numberFormats:{[s.value]:{}});let _=r?r.missingWarn:isBoolean$1(t.missingWarn)||isRegExp$1(t.missingWarn)?t.missingWarn:!0,g=r?r.fallbackWarn:isBoolean$1(t.fallbackWarn)||isRegExp$1(t.fallbackWarn)?t.fallbackWarn:!0,f=r?r.fallbackRoot:isBoolean$1(t.fallbackRoot)?t.fallbackRoot:!0,y=!!t.fallbackFormat,M=isFunction$2(t.missing)?t.missing:null,T=isFunction$2(t.missing)?defineCoreMissingHandler(t.missing):null,A=isFunction$2(t.postTranslation)?t.postTranslation:null,E=r?r.warnHtmlMessage:isBoolean$1(t.warnHtmlMessage)?t.warnHtmlMessage:!0,C=!!t.escapeParameter;const k=r?r.modifiers:isPlainObject$1(t.modifiers)?t.modifiers:{};let O=t.pluralRules||r&&r.pluralRules,I;I=(()=>{n&&setFallbackContext(null);const ye={version:VERSION$1,locale:s.value,fallbackLocale:c.value,messages:d.value,modifiers:k,pluralRules:O,missing:T===null?void 0:T,missingWarn:_,fallbackWarn:g,fallbackFormat:y,unresolving:!0,postTranslation:A===null?void 0:A,warnHtmlMessage:E,escapeParameter:C,messageResolver:t.messageResolver,__meta:{framework:"vue"}};ye.datetimeFormats=u.value,ye.numberFormats=m.value,ye.__datetimeFormatters=isPlainObject$1(I)?I.__datetimeFormatters:void 0,ye.__numberFormatters=isPlainObject$1(I)?I.__numberFormatters:void 0;const be=createCoreContext(ye);return n&&setFallbackContext(be),be})(),updateFallbackLocale(I,s.value,c.value);function B(){return[s.value,c.value,d.value,u.value,m.value]}const j=computed({get:()=>s.value,set:ye=>{s.value=ye,I.locale=s.value}}),U=computed({get:()=>c.value,set:ye=>{c.value=ye,I.fallbackLocale=c.value,updateFallbackLocale(I,s.value,ye)}}),N=computed(()=>d.value),W=computed(()=>u.value),ne=computed(()=>m.value);function re(){return isFunction$2(A)?A:null}function le(ye){A=ye,I.postTranslation=ye}function ae(){return M}function pe(ye){ye!==null&&(T=defineCoreMissingHandler(ye)),M=ye,I.missing=T}const K=(ye,be,he,se,Ee,Oe)=>{B();let Fe;if(__INTLIFY_PROD_DEVTOOLS__)try{setAdditionalMeta(getMetaInfo()),n||(I.fallbackContext=r?getFallbackContext():void 0),Fe=ye(I)}finally{setAdditionalMeta(null),n||(I.fallbackContext=void 0)}else Fe=ye(I);if(isNumber$1(Fe)&&Fe===NOT_REOSLVED){const[Ne,Ue]=be();return r&&f?se(r):Ee(Ne)}else{if(Oe(Fe))return Fe;throw createI18nError(I18nErrorCodes.UNEXPECTED_RETURN_TYPE)}};function q(...ye){return K(be=>Reflect.apply(translate,null,[be,...ye]),()=>parseTranslateArgs(...ye),"translate",be=>Reflect.apply(be.t,be,[...ye]),be=>be,be=>isString$1(be))}function D(...ye){const[be,he,se]=ye;if(se&&!isObject$3(se))throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);return q(be,he,assign({resolvedMessage:!0},se||{}))}function z(...ye){return K(be=>Reflect.apply(datetime,null,[be,...ye]),()=>parseDateTimeArgs(...ye),"datetime format",be=>Reflect.apply(be.d,be,[...ye]),()=>MISSING_RESOLVE_VALUE,be=>isString$1(be))}function J(...ye){return K(be=>Reflect.apply(number,null,[be,...ye]),()=>parseNumberArgs(...ye),"number format",be=>Reflect.apply(be.n,be,[...ye]),()=>MISSING_RESOLVE_VALUE,be=>isString$1(be))}function ie(ye){return ye.map(be=>isString$1(be)||isNumber$1(be)||isBoolean$1(be)?createTextNode(String(be)):be)}const fe={normalize:ie,interpolate:ye=>ye,type:"vnode"};function ee(...ye){return K(be=>{let he;const se=be;try{se.processor=fe,he=Reflect.apply(translate,null,[se,...ye])}finally{se.processor=null}return he},()=>parseTranslateArgs(...ye),"translate",be=>be[TransrateVNodeSymbol](...ye),be=>[createTextNode(be)],be=>isArray$2(be))}function Z(...ye){return K(be=>Reflect.apply(number,null,[be,...ye]),()=>parseNumberArgs(...ye),"number format",be=>be[NumberPartsSymbol](...ye),()=>[],be=>isString$1(be)||isArray$2(be))}function te(...ye){return K(be=>Reflect.apply(datetime,null,[be,...ye]),()=>parseDateTimeArgs(...ye),"datetime format",be=>be[DatetimePartsSymbol](...ye),()=>[],be=>isString$1(be)||isArray$2(be))}function de(ye){O=ye,I.pluralRules=O}function Y(ye,be){const he=isString$1(be)?be:s.value,se=Me(he);return I.messageResolver(se,ye)!==null}function we(ye){let be=null;const he=fallbackWithLocaleChain(I,c.value,s.value);for(let se=0;se<he.length;se++){const Ee=d.value[he[se]]||{},Oe=I.messageResolver(Ee,ye);if(Oe!=null){be=Oe;break}}return be}function Te(ye){return we(ye)??(r?r.tm(ye)||{}:{})}function Me(ye){return d.value[ye]||{}}function Ae(ye,be){d.value[ye]=be,I.messages=d.value}function ue(ye,be){d.value[ye]=d.value[ye]||{},deepCopy(be,d.value[ye]),I.messages=d.value}function X(ye){return u.value[ye]||{}}function $(ye,be){u.value[ye]=be,I.datetimeFormats=u.value,clearDateTimeFormat(I,ye,be)}function ge(ye,be){u.value[ye]=assign(u.value[ye]||{},be),I.datetimeFormats=u.value,clearDateTimeFormat(I,ye,be)}function ve(ye){return m.value[ye]||{}}function me(ye,be){m.value[ye]=be,I.numberFormats=m.value,clearNumberFormat(I,ye,be)}function ce(ye,be){m.value[ye]=assign(m.value[ye]||{},be),I.numberFormats=m.value,clearNumberFormat(I,ye,be)}composerID++,r&&inBrowser&&(watch(r.locale,ye=>{o&&(s.value=ye,I.locale=ye,updateFallbackLocale(I,s.value,c.value))}),watch(r.fallbackLocale,ye=>{o&&(c.value=ye,I.fallbackLocale=ye,updateFallbackLocale(I,s.value,c.value))}));const Se={id:composerID,locale:j,fallbackLocale:U,get inheritLocale(){return o},set inheritLocale(ye){o=ye,ye&&r&&(s.value=r.locale.value,c.value=r.fallbackLocale.value,updateFallbackLocale(I,s.value,c.value))},get availableLocales(){return Object.keys(d.value).sort()},messages:N,get modifiers(){return k},get pluralRules(){return O||{}},get isGlobal(){return n},get missingWarn(){return _},set missingWarn(ye){_=ye,I.missingWarn=_},get fallbackWarn(){return g},set fallbackWarn(ye){g=ye,I.fallbackWarn=g},get fallbackRoot(){return f},set fallbackRoot(ye){f=ye},get fallbackFormat(){return y},set fallbackFormat(ye){y=ye,I.fallbackFormat=y},get warnHtmlMessage(){return E},set warnHtmlMessage(ye){E=ye,I.warnHtmlMessage=ye},get escapeParameter(){return C},set escapeParameter(ye){C=ye,I.escapeParameter=ye},t:q,getLocaleMessage:Me,setLocaleMessage:Ae,mergeLocaleMessage:ue,getPostTranslationHandler:re,setPostTranslationHandler:le,getMissingHandler:ae,setMissingHandler:pe,[SetPluralRulesSymbol]:de};return Se.datetimeFormats=W,Se.numberFormats=ne,Se.rt=D,Se.te=Y,Se.tm=Te,Se.d=z,Se.n=J,Se.getDateTimeFormat=X,Se.setDateTimeFormat=$,Se.mergeDateTimeFormat=ge,Se.getNumberFormat=ve,Se.setNumberFormat=me,Se.mergeNumberFormat=ce,Se[InejctWithOption]=t.__injectWithOption,Se[TransrateVNodeSymbol]=ee,Se[DatetimePartsSymbol]=te,Se[NumberPartsSymbol]=Z,Se}function convertComposerOptions(t){const e=isString$1(t.locale)?t.locale:DEFAULT_LOCALE,r=isString$1(t.fallbackLocale)||isArray$2(t.fallbackLocale)||isPlainObject$1(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,n=isFunction$2(t.missing)?t.missing:void 0,o=isBoolean$1(t.silentTranslationWarn)||isRegExp$1(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,s=isBoolean$1(t.silentFallbackWarn)||isRegExp$1(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,c=isBoolean$1(t.fallbackRoot)?t.fallbackRoot:!0,d=!!t.formatFallbackMessages,u=isPlainObject$1(t.modifiers)?t.modifiers:{},m=t.pluralizationRules,_=isFunction$2(t.postTranslation)?t.postTranslation:void 0,g=isString$1(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,f=!!t.escapeParameterHtml,y=isBoolean$1(t.sync)?t.sync:!0;let M=t.messages;if(isPlainObject$1(t.sharedMessages)){const I=t.sharedMessages;M=Object.keys(I).reduce((B,j)=>{const U=B[j]||(B[j]={});return assign(U,I[j]),B},M||{})}const{__i18n:T,__root:A,__injectWithOption:E}=t,C=t.datetimeFormats,k=t.numberFormats,O=t.flatJson;return{locale:e,fallbackLocale:r,messages:M,flatJson:O,datetimeFormats:C,numberFormats:k,missing:n,missingWarn:o,fallbackWarn:s,fallbackRoot:c,fallbackFormat:d,modifiers:u,pluralRules:m,postTranslation:_,warnHtmlMessage:g,escapeParameter:f,messageResolver:t.messageResolver,inheritLocale:y,__i18n:T,__root:A,__injectWithOption:E}}function createVueI18n(t={},e){{const r=createComposer(convertComposerOptions(t)),n={id:r.id,get locale(){return r.locale.value},set locale(o){r.locale.value=o},get fallbackLocale(){return r.fallbackLocale.value},set fallbackLocale(o){r.fallbackLocale.value=o},get messages(){return r.messages.value},get datetimeFormats(){return r.datetimeFormats.value},get numberFormats(){return r.numberFormats.value},get availableLocales(){return r.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(o){},get missing(){return r.getMissingHandler()},set missing(o){r.setMissingHandler(o)},get silentTranslationWarn(){return isBoolean$1(r.missingWarn)?!r.missingWarn:r.missingWarn},set silentTranslationWarn(o){r.missingWarn=isBoolean$1(o)?!o:o},get silentFallbackWarn(){return isBoolean$1(r.fallbackWarn)?!r.fallbackWarn:r.fallbackWarn},set silentFallbackWarn(o){r.fallbackWarn=isBoolean$1(o)?!o:o},get modifiers(){return r.modifiers},get formatFallbackMessages(){return r.fallbackFormat},set formatFallbackMessages(o){r.fallbackFormat=o},get postTranslation(){return r.getPostTranslationHandler()},set postTranslation(o){r.setPostTranslationHandler(o)},get sync(){return r.inheritLocale},set sync(o){r.inheritLocale=o},get warnHtmlInMessage(){return r.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(o){r.warnHtmlMessage=o!=="off"},get escapeParameterHtml(){return r.escapeParameter},set escapeParameterHtml(o){r.escapeParameter=o},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(o){},get pluralizationRules(){return r.pluralRules||{}},__composer:r,t(...o){const[s,c,d]=o,u={};let m=null,_=null;if(!isString$1(s))throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);const g=s;return isString$1(c)?u.locale=c:isArray$2(c)?m=c:isPlainObject$1(c)&&(_=c),isArray$2(d)?m=d:isPlainObject$1(d)&&(_=d),Reflect.apply(r.t,r,[g,m||_||{},u])},rt(...o){return Reflect.apply(r.rt,r,[...o])},tc(...o){const[s,c,d]=o,u={plural:1};let m=null,_=null;if(!isString$1(s))throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);const g=s;return isString$1(c)?u.locale=c:isNumber$1(c)?u.plural=c:isArray$2(c)?m=c:isPlainObject$1(c)&&(_=c),isString$1(d)?u.locale=d:isArray$2(d)?m=d:isPlainObject$1(d)&&(_=d),Reflect.apply(r.t,r,[g,m||_||{},u])},te(o,s){return r.te(o,s)},tm(o){return r.tm(o)},getLocaleMessage(o){return r.getLocaleMessage(o)},setLocaleMessage(o,s){r.setLocaleMessage(o,s)},mergeLocaleMessage(o,s){r.mergeLocaleMessage(o,s)},d(...o){return Reflect.apply(r.d,r,[...o])},getDateTimeFormat(o){return r.getDateTimeFormat(o)},setDateTimeFormat(o,s){r.setDateTimeFormat(o,s)},mergeDateTimeFormat(o,s){r.mergeDateTimeFormat(o,s)},n(...o){return Reflect.apply(r.n,r,[...o])},getNumberFormat(o){return r.getNumberFormat(o)},setNumberFormat(o,s){r.setNumberFormat(o,s)},mergeNumberFormat(o,s){r.mergeNumberFormat(o,s)},getChoiceIndex(o,s){return-1},__onComponentInstanceCreated(o){const{componentInstanceCreatedListener:s}=t;s&&s(o,n)}};return n}}const baseFormatProps={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function getInterpolateArg({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((r,n)=>r=[...r,...isArray$2(n.children)?n.children:[n]],[]):e.reduce((r,n)=>{const o=t[n];return o&&(r[n]=o()),r},{})}function getFragmentableTag(t){return Fragment}const Translation={name:"i18n-t",props:assign({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>isNumber$1(t)||!isNaN(t)}},baseFormatProps),setup(t,e){const{slots:r,attrs:n}=e,o=t.i18n||useI18n({useScope:t.scope,__useComponent:!0});return()=>{const s=Object.keys(r).filter(g=>g!=="_"),c={};t.locale&&(c.locale=t.locale),t.plural!==void 0&&(c.plural=isString$1(t.plural)?+t.plural:t.plural);const d=getInterpolateArg(e,s),u=o[TransrateVNodeSymbol](t.keypath,d,c),m=assign({},n),_=isString$1(t.tag)||isObject$3(t.tag)?t.tag:getFragmentableTag();return h$9(_,m,u)}}};function isVNode(t){return isArray$2(t)&&!isString$1(t[0])}function renderFormatter(t,e,r,n){const{slots:o,attrs:s}=e;return()=>{const c={part:!0};let d={};t.locale&&(c.locale=t.locale),isString$1(t.format)?c.key=t.format:isObject$3(t.format)&&(isString$1(t.format.key)&&(c.key=t.format.key),d=Object.keys(t.format).reduce((f,y)=>r.includes(y)?assign({},f,{[y]:t.format[y]}):f,{}));const u=n(t.value,c,d);let m=[c.key];isArray$2(u)?m=u.map((f,y)=>{const M=o[f.type],T=M?M({[f.type]:f.value,index:y,parts:u}):[f.value];return isVNode(T)&&(T[0].key=`${f.type}-${y}`),T}):isString$1(u)&&(m=[u]);const _=assign({},s),g=isString$1(t.tag)||isObject$3(t.tag)?t.tag:getFragmentableTag();return h$9(g,_,m)}}const NumberFormat={name:"i18n-n",props:assign({value:{type:Number,required:!0},format:{type:[String,Object]}},baseFormatProps),setup(t,e){const r=t.i18n||useI18n({useScope:"parent",__useComponent:!0});return renderFormatter(t,e,NUMBER_FORMAT_OPTIONS_KEYS,(...n)=>r[NumberPartsSymbol](...n))}},DatetimeFormat={name:"i18n-d",props:assign({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},baseFormatProps),setup(t,e){const r=t.i18n||useI18n({useScope:"parent",__useComponent:!0});return renderFormatter(t,e,DATETIME_FORMAT_OPTIONS_KEYS,(...n)=>r[DatetimePartsSymbol](...n))}};function getComposer$2(t,e){const r=t;if(t.mode==="composition")return r.__getInstance(e)||t.global;{const n=r.__getInstance(e);return n!=null?n.__composer:t.global.__composer}}function vTDirective(t){const e=r=>{const{instance:n,modifiers:o,value:s}=r;if(!n||!n.$)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);const c=getComposer$2(t,n.$),d=parseValue(s);return[Reflect.apply(c.t,c,[...makeParams(d)]),c]};return{created:(r,n)=>{const[o,s]=e(n);inBrowser&&t.global===s&&(r.__i18nWatcher=watch(s.locale,()=>{n.instance&&n.instance.$forceUpdate()})),r.__composer=s,r.textContent=o},unmounted:r=>{inBrowser&&r.__i18nWatcher&&(r.__i18nWatcher(),r.__i18nWatcher=void 0,delete r.__i18nWatcher),r.__composer&&(r.__composer=void 0,delete r.__composer)},beforeUpdate:(r,{value:n})=>{if(r.__composer){const o=r.__composer,s=parseValue(n);r.textContent=Reflect.apply(o.t,o,[...makeParams(s)])}},getSSRProps:r=>{const[n]=e(r);return{textContent:n}}}}function parseValue(t){if(isString$1(t))return{path:t};if(isPlainObject$1(t)){if(!("path"in t))throw createI18nError(I18nErrorCodes.REQUIRED_VALUE,"path");return t}else throw createI18nError(I18nErrorCodes.INVALID_VALUE)}function makeParams(t){const{path:e,locale:r,args:n,choice:o,plural:s}=t,c={},d=n||{};return isString$1(r)&&(c.locale=r),isNumber$1(o)&&(c.plural=o),isNumber$1(s)&&(c.plural=s),[e,d,c]}function apply(t,e,...r){const n=isPlainObject$1(r[0])?r[0]:{},o=!!n.useI18nComponentName;(!isBoolean$1(n.globalInstall)||n.globalInstall)&&(t.component(o?"i18n":Translation.name,Translation),t.component(NumberFormat.name,NumberFormat),t.component(DatetimeFormat.name,DatetimeFormat)),t.directive("t",vTDirective(e))}function defineMixin(t,e,r){return{beforeCreate(){const n=getCurrentInstance();if(!n)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);const o=this.$options;if(o.i18n){const s=o.i18n;o.__i18n&&(s.__i18n=o.__i18n),s.__root=e,this===this.$root?this.$i18n=mergeToRoot(t,s):(s.__injectWithOption=!0,this.$i18n=createVueI18n(s))}else o.__i18n?this===this.$root?this.$i18n=mergeToRoot(t,o):this.$i18n=createVueI18n({__i18n:o.__i18n,__injectWithOption:!0,__root:e}):this.$i18n=t;o.__i18nGlobal&&adjustI18nResources(e,o,o),t.__onComponentInstanceCreated(this.$i18n),r.__setInstance(n,this.$i18n),this.$t=(...s)=>this.$i18n.t(...s),this.$rt=(...s)=>this.$i18n.rt(...s),this.$tc=(...s)=>this.$i18n.tc(...s),this.$te=(s,c)=>this.$i18n.te(s,c),this.$d=(...s)=>this.$i18n.d(...s),this.$n=(...s)=>this.$i18n.n(...s),this.$tm=s=>this.$i18n.tm(s)},mounted(){},unmounted(){const n=getCurrentInstance();if(!n)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,r.__deleteInstance(n),delete this.$i18n}}}function mergeToRoot(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[SetPluralRulesSymbol](e.pluralizationRules||t.pluralizationRules);const r=getLocaleMessages(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(r).forEach(n=>t.mergeLocaleMessage(n,r[n])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(n=>t.mergeDateTimeFormat(n,e.datetimeFormats[n])),e.numberFormats&&Object.keys(e.numberFormats).forEach(n=>t.mergeNumberFormat(n,e.numberFormats[n])),t}const I18nInjectionKey=makeSymbol("global-vue-i18n");function createI18n(t={},e){const r=__VUE_I18N_LEGACY_API__&&isBoolean$1(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,n=isBoolean$1(t.globalInjection)?t.globalInjection:!0,o=__VUE_I18N_LEGACY_API__&&r?!!t.allowComposition:!0,s=new Map,[c,d]=createGlobal(t,r),u=makeSymbol("");function m(f){return s.get(f)||null}function _(f,y){s.set(f,y)}function g(f){s.delete(f)}{const f={get mode(){return __VUE_I18N_LEGACY_API__&&r?"legacy":"composition"},get allowComposition(){return o},async install(y,...M){y.__VUE_I18N_SYMBOL__=u,y.provide(y.__VUE_I18N_SYMBOL__,f),!r&&n&&injectGlobalFields(y,f.global),__VUE_I18N_FULL_INSTALL__&&apply(y,f,...M),__VUE_I18N_LEGACY_API__&&r&&y.mixin(defineMixin(d,d.__composer,f));const T=y.unmount;y.unmount=()=>{f.dispose(),T()}},get global(){return d},dispose(){c.stop()},__instances:s,__getInstance:m,__setInstance:_,__deleteInstance:g};return f}}function useI18n(t={}){const e=getCurrentInstance();if(e==null)throw createI18nError(I18nErrorCodes.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw createI18nError(I18nErrorCodes.NOT_INSLALLED);const r=getI18nInstance(e),n=getGlobalComposer(r),o=getComponentOptions(e),s=getScope(t,o);if(__VUE_I18N_LEGACY_API__&&r.mode==="legacy"&&!t.__useComponent){if(!r.allowComposition)throw createI18nError(I18nErrorCodes.NOT_AVAILABLE_IN_LEGACY_MODE);return useI18nForLegacy(e,s,n,t)}if(s==="global")return adjustI18nResources(n,t,o),n;if(s==="parent"){let u=getComposer(r,e,t.__useComponent);return u==null&&(u=n),u}const c=r;let d=c.__getInstance(e);if(d==null){const u=assign({},t);"__i18n"in o&&(u.__i18n=o.__i18n),n&&(u.__root=n),d=createComposer(u),setupLifeCycle(c,e),c.__setInstance(e,d)}return d}function createGlobal(t,e,r){const n=effectScope();{const o=__VUE_I18N_LEGACY_API__&&e?n.run(()=>createVueI18n(t)):n.run(()=>createComposer(t));if(o==null)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);return[n,o]}}function getI18nInstance(t){{const e=inject$1(t.isCE?I18nInjectionKey:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw createI18nError(t.isCE?I18nErrorCodes.NOT_INSLALLED_WITH_PROVIDE:I18nErrorCodes.UNEXPECTED_ERROR);return e}}function getScope(t,e){return isEmptyObject(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function getGlobalComposer(t){return t.mode==="composition"?t.global:t.global.__composer}function getComposer(t,e,r=!1){let n=null;const o=e.root;let s=e.parent;for(;s!=null;){const c=t;if(t.mode==="composition")n=c.__getInstance(s);else if(__VUE_I18N_LEGACY_API__){const d=c.__getInstance(s);d!=null&&(n=d.__composer,r&&n&&!n[InejctWithOption]&&(n=null))}if(n!=null||o===s)break;s=s.parent}return n}function setupLifeCycle(t,e,r){onMounted(()=>{},e),onUnmounted(()=>{t.__deleteInstance(e)},e)}function useI18nForLegacy(t,e,r,n={}){const o=e==="local",s=shallowRef(null);if(o&&t.proxy&&!(t.proxy.$options.i18n||t.proxy.$options.__i18n))throw createI18nError(I18nErrorCodes.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const c=isBoolean$1(n.inheritLocale)?n.inheritLocale:!0,d=ref(o&&c?r.locale.value:isString$1(n.locale)?n.locale:DEFAULT_LOCALE),u=ref(o&&c?r.fallbackLocale.value:isString$1(n.fallbackLocale)||isArray$2(n.fallbackLocale)||isPlainObject$1(n.fallbackLocale)||n.fallbackLocale===!1?n.fallbackLocale:d.value),m=ref(getLocaleMessages(d.value,n)),_=ref(isPlainObject$1(n.datetimeFormats)?n.datetimeFormats:{[d.value]:{}}),g=ref(isPlainObject$1(n.numberFormats)?n.numberFormats:{[d.value]:{}}),f=o?r.missingWarn:isBoolean$1(n.missingWarn)||isRegExp$1(n.missingWarn)?n.missingWarn:!0,y=o?r.fallbackWarn:isBoolean$1(n.fallbackWarn)||isRegExp$1(n.fallbackWarn)?n.fallbackWarn:!0,M=o?r.fallbackRoot:isBoolean$1(n.fallbackRoot)?n.fallbackRoot:!0,T=!!n.fallbackFormat,A=isFunction$2(n.missing)?n.missing:null,E=isFunction$2(n.postTranslation)?n.postTranslation:null,C=o?r.warnHtmlMessage:isBoolean$1(n.warnHtmlMessage)?n.warnHtmlMessage:!0,k=!!n.escapeParameter,O=o?r.modifiers:isPlainObject$1(n.modifiers)?n.modifiers:{},I=n.pluralRules||o&&r.pluralRules;function B(){return[d.value,u.value,m.value,_.value,g.value]}const j=computed({get:()=>s.value?s.value.locale.value:d.value,set:$=>{s.value&&(s.value.locale.value=$),d.value=$}}),U=computed({get:()=>s.value?s.value.fallbackLocale.value:u.value,set:$=>{s.value&&(s.value.fallbackLocale.value=$),u.value=$}}),N=computed(()=>s.value?s.value.messages.value:m.value),W=computed(()=>_.value),ne=computed(()=>g.value);function re(){return s.value?s.value.getPostTranslationHandler():E}function le($){s.value&&s.value.setPostTranslationHandler($)}function ae(){return s.value?s.value.getMissingHandler():A}function pe($){s.value&&s.value.setMissingHandler($)}function K($){return B(),$()}function q(...$){return s.value?K(()=>Reflect.apply(s.value.t,null,[...$])):K(()=>"")}function D(...$){return s.value?Reflect.apply(s.value.rt,null,[...$]):""}function z(...$){return s.value?K(()=>Reflect.apply(s.value.d,null,[...$])):K(()=>"")}function J(...$){return s.value?K(()=>Reflect.apply(s.value.n,null,[...$])):K(()=>"")}function ie($){return s.value?s.value.tm($):{}}function fe($,ge){return s.value?s.value.te($,ge):!1}function ee($){return s.value?s.value.getLocaleMessage($):{}}function Z($,ge){s.value&&(s.value.setLocaleMessage($,ge),m.value[$]=ge)}function te($,ge){s.value&&s.value.mergeLocaleMessage($,ge)}function de($){return s.value?s.value.getDateTimeFormat($):{}}function Y($,ge){s.value&&(s.value.setDateTimeFormat($,ge),_.value[$]=ge)}function we($,ge){s.value&&s.value.mergeDateTimeFormat($,ge)}function Te($){return s.value?s.value.getNumberFormat($):{}}function Me($,ge){s.value&&(s.value.setNumberFormat($,ge),g.value[$]=ge)}function Ae($,ge){s.value&&s.value.mergeNumberFormat($,ge)}const ue={get id(){return s.value?s.value.id:-1},locale:j,fallbackLocale:U,messages:N,datetimeFormats:W,numberFormats:ne,get inheritLocale(){return s.value?s.value.inheritLocale:c},set inheritLocale($){s.value&&(s.value.inheritLocale=$)},get availableLocales(){return s.value?s.value.availableLocales:Object.keys(m.value)},get modifiers(){return s.value?s.value.modifiers:O},get pluralRules(){return s.value?s.value.pluralRules:I},get isGlobal(){return s.value?s.value.isGlobal:!1},get missingWarn(){return s.value?s.value.missingWarn:f},set missingWarn($){s.value&&(s.value.missingWarn=$)},get fallbackWarn(){return s.value?s.value.fallbackWarn:y},set fallbackWarn($){s.value&&(s.value.missingWarn=$)},get fallbackRoot(){return s.value?s.value.fallbackRoot:M},set fallbackRoot($){s.value&&(s.value.fallbackRoot=$)},get fallbackFormat(){return s.value?s.value.fallbackFormat:T},set fallbackFormat($){s.value&&(s.value.fallbackFormat=$)},get warnHtmlMessage(){return s.value?s.value.warnHtmlMessage:C},set warnHtmlMessage($){s.value&&(s.value.warnHtmlMessage=$)},get escapeParameter(){return s.value?s.value.escapeParameter:k},set escapeParameter($){s.value&&(s.value.escapeParameter=$)},t:q,getPostTranslationHandler:re,setPostTranslationHandler:le,getMissingHandler:ae,setMissingHandler:pe,rt:D,d:z,n:J,tm:ie,te:fe,getLocaleMessage:ee,setLocaleMessage:Z,mergeLocaleMessage:te,getDateTimeFormat:de,setDateTimeFormat:Y,mergeDateTimeFormat:we,getNumberFormat:Te,setNumberFormat:Me,mergeNumberFormat:Ae};function X($){$.locale.value=d.value,$.fallbackLocale.value=u.value,Object.keys(m.value).forEach(ge=>{$.mergeLocaleMessage(ge,m.value[ge])}),Object.keys(_.value).forEach(ge=>{$.mergeDateTimeFormat(ge,_.value[ge])}),Object.keys(g.value).forEach(ge=>{$.mergeNumberFormat(ge,g.value[ge])}),$.escapeParameter=k,$.fallbackFormat=T,$.fallbackRoot=M,$.fallbackWarn=y,$.missingWarn=f,$.warnHtmlMessage=C}return onBeforeMount(()=>{if(t.proxy==null||t.proxy.$i18n==null)throw createI18nError(I18nErrorCodes.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const $=s.value=t.proxy.$i18n.__composer;e==="global"?(d.value=$.locale.value,u.value=$.fallbackLocale.value,m.value=$.messages.value,_.value=$.datetimeFormats.value,g.value=$.numberFormats.value):o&&X($)}),ue}const globalExportProps=["locale","fallbackLocale","availableLocales"],globalExportMethods=["t","rt","d","n","tm"];function injectGlobalFields(t,e){const r=Object.create(null);globalExportProps.forEach(n=>{const o=Object.getOwnPropertyDescriptor(e,n);if(!o)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);const s=isRef(o.value)?{get(){return o.value.value},set(c){o.value.value=c}}:{get(){return o.get&&o.get()}};Object.defineProperty(r,n,s)}),t.config.globalProperties.$i18n=r,globalExportMethods.forEach(n=>{const o=Object.getOwnPropertyDescriptor(e,n);if(!o||!o.value)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${n}`,o)})}if(registerMessageCompiler(compileToFunction),registerMessageResolver(resolveValue),registerLocaleFallbacker(fallbackWithLocaleChain),initFeatureFlags(),__INTLIFY_PROD_DEVTOOLS__){const t=getGlobalThis();t.__INTLIFY__=!0,setDevToolsHook(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lottie$1={exports:{}};(function(module,exports){typeof navigator<"u"&&function(t,e){module.exports=e()}(commonjsGlobal$1,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(t){_useWebWorker=!!t},getWebWorker=function(){return _useWebWorker},setLocationHref=function(t){locationHref=t},getLocationHref=function(){return locationHref};function createTag(t){return document.createElement(t)}function extendPrototype(t,e){var r,n=t.length,o;for(r=0;r<n;r+=1){o=t[r].prototype;for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e.prototype[s]=o[s])}}function getDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)}function createProxyFunction(t){function e(){}return e.prototype=t,e}var audioControllerFactory=function(){function t(e){this.audios=[],this.audioFactory=e,this._volume=1,this._isMuted=!1}return t.prototype={addAudio:function(e){this.audios.push(e)},pause:function(){var e,r=this.audios.length;for(e=0;e<r;e+=1)this.audios[e].pause()},resume:function(){var e,r=this.audios.length;for(e=0;e<r;e+=1)this.audios[e].resume()},setRate:function(e){var r,n=this.audios.length;for(r=0;r<n;r+=1)this.audios[r].setRate(e)},createAudio:function(e){return this.audioFactory?this.audioFactory(e):window.Howl?new window.Howl({src:[e]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(e){this.audioFactory=e},setVolume:function(e){this._volume=e,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var e,r=this.audios.length;for(e=0;e<r;e+=1)this.audios[e].volume(this._volume*(this._isMuted?0:1))}},function(){return new t}}(),createTypedArray=function(){function t(r,n){var o=0,s=[],c;switch(r){case"int16":case"uint8c":c=1;break;default:c=1.1;break}for(o=0;o<n;o+=1)s.push(c);return s}function e(r,n){return r==="float32"?new Float32Array(n):r==="int16"?new Int16Array(n):r==="uint8c"?new Uint8ClampedArray(n):t(r,n)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?e:t}();function createSizedArray(t){return Array.apply(null,{length:t})}function _typeof$6(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$6=function(e){return typeof e}:_typeof$6=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$6(t)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var t=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],e,r=t.length;for(e=0;e<r;e+=1)BMMath[t[e]]=Math[t[e]]})(),BMMath.random=Math.random,BMMath.abs=function(t){var e=_typeof$6(t);if(e==="object"&&t.length){var r=createSizedArray(t.length),n,o=t.length;for(n=0;n<o;n+=1)r[n]=Math.abs(t[n]);return r}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin="0 0",t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility="visible",t.style.webkitBackfaceVisibility="visible",t.style.transformStyle="preserve-3d",t.style.webkitTransformStyle="preserve-3d",t.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(t,e,r,n){this.type=t,this.currentTime=e,this.totalTime=r,this.direction=n<0?-1:1}function BMCompleteEvent(t,e){this.type=t,this.direction=e<0?-1:1}function BMCompleteLoopEvent(t,e,r,n){this.type=t,this.currentLoop=r,this.totalLoops=e,this.direction=n<0?-1:1}function BMSegmentStartEvent(t,e,r){this.type=t,this.firstFrame=e,this.totalFrames=r}function BMDestroyEvent(t,e){this.type=t,this.target=e}function BMRenderFrameErrorEvent(t,e){this.type="renderFrameError",this.nativeError=t,this.currentTime=e}function BMConfigErrorEvent(t){this.type="configError",this.nativeError=t}var createElementID=function(){var t=0;return function(){return t+=1,idPrefix$1+"__lottie_element_"+t}}();function HSVtoRGB(t,e,r){var n,o,s,c,d,u,m,_;switch(c=Math.floor(t*6),d=t*6-c,u=r*(1-e),m=r*(1-d*e),_=r*(1-(1-d)*e),c%6){case 0:n=r,o=_,s=u;break;case 1:n=m,o=r,s=u;break;case 2:n=u,o=r,s=_;break;case 3:n=u,o=m,s=r;break;case 4:n=_,o=u,s=r;break;case 5:n=r,o=u,s=m;break}return[n,o,s]}function RGBtoHSV(t,e,r){var n=Math.max(t,e,r),o=Math.min(t,e,r),s=n-o,c,d=n===0?0:s/n,u=n/255;switch(n){case o:c=0;break;case t:c=e-r+s*(e<r?6:0),c/=6*s;break;case e:c=r-t+s*2,c/=6*s;break;case r:c=t-e+s*4,c/=6*s;break}return[c,d,u]}function addSaturationToRGB(t,e){var r=RGBtoHSV(t[0]*255,t[1]*255,t[2]*255);return r[1]+=e,r[1]>1?r[1]=1:r[1]<=0&&(r[1]=0),HSVtoRGB(r[0],r[1],r[2])}function addBrightnessToRGB(t,e){var r=RGBtoHSV(t[0]*255,t[1]*255,t[2]*255);return r[2]+=e,r[2]>1?r[2]=1:r[2]<0&&(r[2]=0),HSVtoRGB(r[0],r[1],r[2])}function addHueToRGB(t,e){var r=RGBtoHSV(t[0]*255,t[1]*255,t[2]*255);return r[0]+=e/360,r[0]>1?r[0]-=1:r[0]<0&&(r[0]+=1),HSVtoRGB(r[0],r[1],r[2])}var rgbToHex=function(){var t=[],e,r;for(e=0;e<256;e+=1)r=e.toString(16),t[e]=r.length===1?"0"+r:r;return function(n,o,s){return n<0&&(n=0),o<0&&(o=0),s<0&&(s=0),"#"+t[n]+t[o]+t[s]}}(),setSubframeEnabled=function(t){subframeEnabled=!!t},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(t){expressionsPlugin=t},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(t){expressionsInterfaces=t},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(t){defaultCurveSegments=t},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(t){idPrefix$1=t};function createNS(t){return document.createElementNS(svgNS,t)}function _typeof$5(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function(e){return typeof e}:_typeof$5=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$5(t)}var dataManager=function(){var t=1,e=[],r,n,o={onmessage:function(){},postMessage:function(f){r({data:f})}},s={postMessage:function(f){o.onmessage({data:f})}};function c(f){if(window.Worker&&window.Blob&&getWebWorker()){var y=new Blob(["var _workerSelf = self; self.onmessage = ",f.toString()],{type:"text/javascript"}),M=URL.createObjectURL(y);return new Worker(M)}return r=f,o}function d(){n||(n=c(function(f){function y(){function T(ae,pe){var K,q,D=ae.length,z,J,ie,fe;for(q=0;q<D;q+=1)if(K=ae[q],"ks"in K&&!K.completed){if(K.completed=!0,K.hasMask){var ee=K.masksProperties;for(J=ee.length,z=0;z<J;z+=1)if(ee[z].pt.k.i)O(ee[z].pt.k);else for(fe=ee[z].pt.k.length,ie=0;ie<fe;ie+=1)ee[z].pt.k[ie].s&&O(ee[z].pt.k[ie].s[0]),ee[z].pt.k[ie].e&&O(ee[z].pt.k[ie].e[0])}K.ty===0?(K.layers=C(K.refId,pe),T(K.layers,pe)):K.ty===4?k(K.shapes):K.ty===5&&re(K)}}function A(ae,pe){if(ae){var K=0,q=ae.length;for(K=0;K<q;K+=1)ae[K].t===1&&(ae[K].data.layers=C(ae[K].data.refId,pe),T(ae[K].data.layers,pe))}}function E(ae,pe){for(var K=0,q=pe.length;K<q;){if(pe[K].id===ae)return pe[K];K+=1}return null}function C(ae,pe){var K=E(ae,pe);return K?K.layers.__used?JSON.parse(JSON.stringify(K.layers)):(K.layers.__used=!0,K.layers):null}function k(ae){var pe,K=ae.length,q,D;for(pe=K-1;pe>=0;pe-=1)if(ae[pe].ty==="sh")if(ae[pe].ks.k.i)O(ae[pe].ks.k);else for(D=ae[pe].ks.k.length,q=0;q<D;q+=1)ae[pe].ks.k[q].s&&O(ae[pe].ks.k[q].s[0]),ae[pe].ks.k[q].e&&O(ae[pe].ks.k[q].e[0]);else ae[pe].ty==="gr"&&k(ae[pe].it)}function O(ae){var pe,K=ae.i.length;for(pe=0;pe<K;pe+=1)ae.i[pe][0]+=ae.v[pe][0],ae.i[pe][1]+=ae.v[pe][1],ae.o[pe][0]+=ae.v[pe][0],ae.o[pe][1]+=ae.v[pe][1]}function I(ae,pe){var K=pe?pe.split("."):[100,100,100];return ae[0]>K[0]?!0:K[0]>ae[0]?!1:ae[1]>K[1]?!0:K[1]>ae[1]?!1:ae[2]>K[2]?!0:K[2]>ae[2]?!1:null}var B=function(){var ae=[4,4,14];function pe(q){var D=q.t.d;q.t.d={k:[{s:D,t:0}]}}function K(q){var D,z=q.length;for(D=0;D<z;D+=1)q[D].ty===5&&pe(q[D])}return function(q){if(I(ae,q.v)&&(K(q.layers),q.assets)){var D,z=q.assets.length;for(D=0;D<z;D+=1)q.assets[D].layers&&K(q.assets[D].layers)}}}(),j=function(){var ae=[4,7,99];return function(pe){if(pe.chars&&!I(ae,pe.v)){var K,q=pe.chars.length;for(K=0;K<q;K+=1){var D=pe.chars[K];D.data&&D.data.shapes&&(k(D.data.shapes),D.data.ip=0,D.data.op=99999,D.data.st=0,D.data.sr=1,D.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},pe.chars[K].t||(D.data.shapes.push({ty:"no"}),D.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),U=function(){var ae=[5,7,15];function pe(q){var D=q.t.p;typeof D.a=="number"&&(D.a={a:0,k:D.a}),typeof D.p=="number"&&(D.p={a:0,k:D.p}),typeof D.r=="number"&&(D.r={a:0,k:D.r})}function K(q){var D,z=q.length;for(D=0;D<z;D+=1)q[D].ty===5&&pe(q[D])}return function(q){if(I(ae,q.v)&&(K(q.layers),q.assets)){var D,z=q.assets.length;for(D=0;D<z;D+=1)q.assets[D].layers&&K(q.assets[D].layers)}}}(),N=function(){var ae=[4,1,9];function pe(q){var D,z=q.length,J,ie;for(D=0;D<z;D+=1)if(q[D].ty==="gr")pe(q[D].it);else if(q[D].ty==="fl"||q[D].ty==="st")if(q[D].c.k&&q[D].c.k[0].i)for(ie=q[D].c.k.length,J=0;J<ie;J+=1)q[D].c.k[J].s&&(q[D].c.k[J].s[0]/=255,q[D].c.k[J].s[1]/=255,q[D].c.k[J].s[2]/=255,q[D].c.k[J].s[3]/=255),q[D].c.k[J].e&&(q[D].c.k[J].e[0]/=255,q[D].c.k[J].e[1]/=255,q[D].c.k[J].e[2]/=255,q[D].c.k[J].e[3]/=255);else q[D].c.k[0]/=255,q[D].c.k[1]/=255,q[D].c.k[2]/=255,q[D].c.k[3]/=255}function K(q){var D,z=q.length;for(D=0;D<z;D+=1)q[D].ty===4&&pe(q[D].shapes)}return function(q){if(I(ae,q.v)&&(K(q.layers),q.assets)){var D,z=q.assets.length;for(D=0;D<z;D+=1)q.assets[D].layers&&K(q.assets[D].layers)}}}(),W=function(){var ae=[4,4,18];function pe(q){var D,z=q.length,J,ie;for(D=z-1;D>=0;D-=1)if(q[D].ty==="sh")if(q[D].ks.k.i)q[D].ks.k.c=q[D].closed;else for(ie=q[D].ks.k.length,J=0;J<ie;J+=1)q[D].ks.k[J].s&&(q[D].ks.k[J].s[0].c=q[D].closed),q[D].ks.k[J].e&&(q[D].ks.k[J].e[0].c=q[D].closed);else q[D].ty==="gr"&&pe(q[D].it)}function K(q){var D,z,J=q.length,ie,fe,ee,Z;for(z=0;z<J;z+=1){if(D=q[z],D.hasMask){var te=D.masksProperties;for(fe=te.length,ie=0;ie<fe;ie+=1)if(te[ie].pt.k.i)te[ie].pt.k.c=te[ie].cl;else for(Z=te[ie].pt.k.length,ee=0;ee<Z;ee+=1)te[ie].pt.k[ee].s&&(te[ie].pt.k[ee].s[0].c=te[ie].cl),te[ie].pt.k[ee].e&&(te[ie].pt.k[ee].e[0].c=te[ie].cl)}D.ty===4&&pe(D.shapes)}}return function(q){if(I(ae,q.v)&&(K(q.layers),q.assets)){var D,z=q.assets.length;for(D=0;D<z;D+=1)q.assets[D].layers&&K(q.assets[D].layers)}}}();function ne(ae){ae.__complete||(N(ae),B(ae),j(ae),U(ae),W(ae),T(ae.layers,ae.assets),A(ae.chars,ae.assets),ae.__complete=!0)}function re(ae){ae.t.a.length===0&&"m"in ae.t.p}var le={};return le.completeData=ne,le.checkColors=N,le.checkChars=j,le.checkPathProperties=U,le.checkShapes=W,le.completeLayers=T,le}if(s.dataManager||(s.dataManager=y()),s.assetLoader||(s.assetLoader=function(){function T(E){var C=E.getResponseHeader("content-type");return C&&E.responseType==="json"&&C.indexOf("json")!==-1||E.response&&_typeof$5(E.response)==="object"?E.response:E.response&&typeof E.response=="string"?JSON.parse(E.response):E.responseText?JSON.parse(E.responseText):null}function A(E,C,k,O){var I,B=new XMLHttpRequest;try{B.responseType="json"}catch{}B.onreadystatechange=function(){if(B.readyState===4)if(B.status===200)I=T(B),k(I);else try{I=T(B),k(I)}catch(j){O&&O(j)}};try{B.open(["G","E","T"].join(""),E,!0)}catch{B.open(["G","E","T"].join(""),C+"/"+E,!0)}B.send()}return{load:A}}()),f.data.type==="loadAnimation")s.assetLoader.load(f.data.path,f.data.fullPath,function(T){s.dataManager.completeData(T),s.postMessage({id:f.data.id,payload:T,status:"success"})},function(){s.postMessage({id:f.data.id,status:"error"})});else if(f.data.type==="complete"){var M=f.data.animation;s.dataManager.completeData(M),s.postMessage({id:f.data.id,payload:M,status:"success"})}else f.data.type==="loadData"&&s.assetLoader.load(f.data.path,f.data.fullPath,function(T){s.postMessage({id:f.data.id,payload:T,status:"success"})},function(){s.postMessage({id:f.data.id,status:"error"})})}),n.onmessage=function(f){var y=f.data,M=y.id,T=e[M];e[M]=null,y.status==="success"?T.onComplete(y.payload):T.onError&&T.onError()})}function u(f,y){t+=1;var M="processId_"+t;return e[M]={onComplete:f,onError:y},M}function m(f,y,M){d();var T=u(y,M);n.postMessage({type:"loadAnimation",path:f,fullPath:window.location.origin+window.location.pathname,id:T})}function _(f,y,M){d();var T=u(y,M);n.postMessage({type:"loadData",path:f,fullPath:window.location.origin+window.location.pathname,id:T})}function g(f,y,M){d();var T=u(y,M);n.postMessage({type:"complete",animation:f,id:T})}return{loadAnimation:m,loadData:_,completeAnimation:g}}(),ImagePreloader=function(){var t=function(){var E=createTag("canvas");E.width=1,E.height=1;var C=E.getContext("2d");return C.fillStyle="rgba(0,0,0,0)",C.fillRect(0,0,1,1),E}();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(E,C,k){var O="";if(E.e)O=E.p;else if(C){var I=E.p;I.indexOf("images/")!==-1&&(I=I.split("/")[1]),O=C+I}else O=k,O+=E.u?E.u:"",O+=E.p;return O}function o(E){var C=0,k=setInterval((function(){var O=E.getBBox();(O.width||C>500)&&(this._imageLoaded(),clearInterval(k)),C+=1}).bind(this),50)}function s(E){var C=n(E,this.assetsPath,this.path),k=createNS("image");isSafari?this.testImageLoaded(k):k.addEventListener("load",this._imageLoaded,!1),k.addEventListener("error",(function(){O.img=t,this._imageLoaded()}).bind(this),!1),k.setAttributeNS("http://www.w3.org/1999/xlink","href",C),this._elementHelper.append?this._elementHelper.append(k):this._elementHelper.appendChild(k);var O={img:k,assetData:E};return O}function c(E){var C=n(E,this.assetsPath,this.path),k=createTag("img");k.crossOrigin="anonymous",k.addEventListener("load",this._imageLoaded,!1),k.addEventListener("error",(function(){O.img=t,this._imageLoaded()}).bind(this),!1),k.src=C;var O={img:k,assetData:E};return O}function d(E){var C={assetData:E},k=n(E,this.assetsPath,this.path);return dataManager.loadData(k,(function(O){C.img=O,this._footageLoaded()}).bind(this),(function(){C.img={},this._footageLoaded()}).bind(this)),C}function u(E,C){this.imagesLoadedCb=C;var k,O=E.length;for(k=0;k<O;k+=1)E[k].layers||(!E[k].t||E[k].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(E[k]))):E[k].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(E[k]))))}function m(E){this.path=E||""}function _(E){this.assetsPath=E||""}function g(E){for(var C=0,k=this.images.length;C<k;){if(this.images[C].assetData===E)return this.images[C].img;C+=1}return null}function f(){this.imagesLoadedCb=null,this.images.length=0}function y(){return this.totalImages===this.loadedAssets}function M(){return this.totalFootages===this.loadedFootagesCount}function T(E,C){E==="svg"?(this._elementHelper=C,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function A(){this._imageLoaded=e.bind(this),this._footageLoaded=r.bind(this),this.testImageLoaded=o.bind(this),this.createFootageData=d.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return A.prototype={loadAssets:u,setAssetsPath:_,setPath:m,loadedImages:y,loadedFootages:M,destroy:f,getAsset:g,createImgData:c,createImageData:s,imageLoaded:e,footageLoaded:r,setCacheType:T},A}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(t,e){if(this._cbs[t])for(var r=this._cbs[t],n=0;n<r.length;n+=1)r[n](e)},addEventListener:function(t,e){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(e),(function(){this.removeEventListener(t,e)}).bind(this)},removeEventListener:function(t,e){if(!e)this._cbs[t]=null;else if(this._cbs[t]){for(var r=0,n=this._cbs[t].length;r<n;)this._cbs[t][r]===e&&(this._cbs[t].splice(r,1),r-=1,n-=1),r+=1;this._cbs[t].length||(this._cbs[t]=null)}}};var markerParser=function(){function t(e){for(var r=e.split(`\r
`),n={},o,s=0,c=0;c<r.length;c+=1)o=r[c].split(":"),o.length===2&&(n[o[0]]=o[1].trim(),s+=1);if(s===0)throw new Error;return n}return function(e){for(var r=[],n=0;n<e.length;n+=1){var o=e[n],s={time:o.tm,duration:o.dr};try{s.payload=JSON.parse(e[n].cm)}catch{try{s.payload=t(e[n].cm)}catch{s.payload={name:e[n].cm}}}r.push(s)}return r}}(),ProjectInterface=function(){function t(e){this.compositions.push(e)}return function(){function e(r){for(var n=0,o=this.compositions.length;n<o;){if(this.compositions[n].data&&this.compositions[n].data.nm===r)return this.compositions[n].prepareFrame&&this.compositions[n].data.xt&&this.compositions[n].prepareFrame(this.currentFrame),this.compositions[n].compInterface;n+=1}return null}return e.compositions=[],e.currentFrame=0,e.registerComposition=t,e}}(),renderers={},registerRenderer=function(t,e){renderers[t]=e};function getRenderer(t){return renderers[t]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var t in renderers)if(renderers[t])return t;return""}function _typeof$4(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(e){return typeof e}:_typeof$4=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$4(t)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(t){(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var e="svg";t.animType?e=t.animType:t.renderer&&(e=t.renderer);var r=getRenderer(e);this.renderer=new r(this,t.rendererSettings),this.imagePreloader.setCacheType(e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=e,t.loop===""||t.loop===null||t.loop===void 0||t.loop===!0?this.loop=!0:t.loop===!1?this.loop=!1:this.loop=parseInt(t.loop,10),this.autoplay="autoplay"in t?t.autoplay:!0,this.name=t.name?t.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(t,"autoloadSegments")?t.autoloadSegments:!0,this.assetsPath=t.assetsPath,this.initialSegment=t.initialSegment,t.audioFactory&&this.audioController.setAudioFactory(t.audioFactory),t.animationData?this.setupAnimation(t.animationData):t.path&&(t.path.lastIndexOf("\\")!==-1?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(t.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(t){dataManager.completeAnimation(t,this.configAnimation)},AnimationItem.prototype.setData=function(t,e){e&&_typeof$4(e)!=="object"&&(e=JSON.parse(e));var r={wrapper:t,animationData:e},n=t.attributes;r.path=n.getNamedItem("data-animation-path")?n.getNamedItem("data-animation-path").value:n.getNamedItem("data-bm-path")?n.getNamedItem("data-bm-path").value:n.getNamedItem("bm-path")?n.getNamedItem("bm-path").value:"",r.animType=n.getNamedItem("data-anim-type")?n.getNamedItem("data-anim-type").value:n.getNamedItem("data-bm-type")?n.getNamedItem("data-bm-type").value:n.getNamedItem("bm-type")?n.getNamedItem("bm-type").value:n.getNamedItem("data-bm-renderer")?n.getNamedItem("data-bm-renderer").value:n.getNamedItem("bm-renderer")?n.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var o=n.getNamedItem("data-anim-loop")?n.getNamedItem("data-anim-loop").value:n.getNamedItem("data-bm-loop")?n.getNamedItem("data-bm-loop").value:n.getNamedItem("bm-loop")?n.getNamedItem("bm-loop").value:"";o==="false"?r.loop=!1:o==="true"?r.loop=!0:o!==""&&(r.loop=parseInt(o,10));var s=n.getNamedItem("data-anim-autoplay")?n.getNamedItem("data-anim-autoplay").value:n.getNamedItem("data-bm-autoplay")?n.getNamedItem("data-bm-autoplay").value:n.getNamedItem("bm-autoplay")?n.getNamedItem("bm-autoplay").value:!0;r.autoplay=s!=="false",r.name=n.getNamedItem("data-name")?n.getNamedItem("data-name").value:n.getNamedItem("data-bm-name")?n.getNamedItem("data-bm-name").value:n.getNamedItem("bm-name")?n.getNamedItem("bm-name").value:"";var c=n.getNamedItem("data-anim-prerender")?n.getNamedItem("data-anim-prerender").value:n.getNamedItem("data-bm-prerender")?n.getNamedItem("data-bm-prerender").value:n.getNamedItem("bm-prerender")?n.getNamedItem("bm-prerender").value:"";c==="false"&&(r.prerender=!1),r.path?this.setParams(r):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var e=this.animationData.layers,r,n=e.length,o=t.layers,s,c=o.length;for(s=0;s<c;s+=1)for(r=0;r<n;){if(e[r].id===o[s].id){e[r]=o[s];break}r+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(n=t.assets.length,r=0;r<n;r+=1)this.animationData.assets.push(t.assets[r]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(t){this.animationData=t;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||t.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var e=t.shift();this.timeCompleted=e.time*this.frameRate;var r=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(r,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){var t=this.animationData.segments;t||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(t){if(this.renderer)try{this.animationData=t,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(t.assets),this.markers=markerParser(t.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(e){this.triggerConfigError(e)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(t,e){var r=typeof t=="number"?t:void 0,n=typeof e=="number"?e:void 0;this.renderer.updateContainerSize(r,n)},AnimationItem.prototype.setSubframe=function(t){this.isSubframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){this.triggerRenderFrameError(t)}},AnimationItem.prototype.play=function(t){t&&this.name!==t||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!==t||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(t){t&&this.name!==t||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!==t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(t){for(var e,r=0;r<this.markers.length;r+=1)if(e=this.markers[r],e.payload&&e.payload.name===t)return e;return null},AnimationItem.prototype.goToAndStop=function(t,e,r){if(!(r&&this.name!==r)){var n=Number(t);if(isNaN(n)){var o=this.getMarkerData(t);o&&this.goToAndStop(o.time,!0)}else e?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(t,e,r){if(!(r&&this.name!==r)){var n=Number(t);if(isNaN(n)){var o=this.getMarkerData(t);o&&(o.duration?this.playSegments([o.time,o.time+o.duration],!0):this.goToAndStop(o.time,!0))}else this.goToAndStop(n,e,r);this.play()}},AnimationItem.prototype.advanceTime=function(t){if(!(this.isPaused===!0||this.isLoaded===!1)){var e=this.currentRawFrame+t*this.frameModifier,r=!1;e>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(r=!0,e=this.totalFrames-1):e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):e<0?this.checkSegments(e%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(r=!0,e=0)):this.setCurrentRawFrameValue(e),r&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(t,e){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=t[0]-t[1],this.timeCompleted=this.totalFrames,this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=t[1]-t[0],this.timeCompleted=this.totalFrames,this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,e){var r=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?r=t:this.currentRawFrame+this.firstFrame>e&&(r=e-t)),this.firstFrame=t,this.totalFrames=e-t,this.timeCompleted=this.totalFrames,r!==-1&&this.goToAndStop(r,!0)},AnimationItem.prototype.playSegments=function(t,e){if(e&&(this.segments.length=0),_typeof$4(t[0])==="object"){var r,n=t.length;for(r=0;r<n;r+=1)this.segments.push(t[r])}else this.segments.push(t);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(t){return this.segments.length?(this.adjustSegment(this.segments.shift(),t),!0):!1},AnimationItem.prototype.destroy=function(t){t&&this.name!==t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(t){this.loop=t},AnimationItem.prototype.setVolume=function(t,e){e&&this.name!==e||this.audioController.setVolume(t)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(t){t&&this.name!==t||this.audioController.mute()},AnimationItem.prototype.unmute=function(t){t&&this.name!==t||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var e="";if(t.e)e=t.p;else if(this.assetsPath){var r=t.p;r.indexOf("images/")!==-1&&(r=r.split("/")[1]),e=this.assetsPath+r}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e},AnimationItem.prototype.getAssetData=function(t){for(var e=0,r=this.assets.length;e<r;){if(t===this.assets[e].id)return this.assets[e];e+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(t,e,r){try{var n=this.renderer.getElementByPath(t);n.updateDocumentData(e,r)}catch{}},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(t,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}t==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),t==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),t==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),t==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),t==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.triggerRenderFrameError=function(t){var e=new BMRenderFrameErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)},AnimationItem.prototype.triggerConfigError=function(t){var e=new BMConfigErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)};var animationManager=function(){var t={},e=[],r=0,n=0,o=0,s=!0,c=!1;function d(K){for(var q=0,D=K.target;q<n;)e[q].animation===D&&(e.splice(q,1),q-=1,n-=1,D.isPaused||g()),q+=1}function u(K,q){if(!K)return null;for(var D=0;D<n;){if(e[D].elem===K&&e[D].elem!==null)return e[D].animation;D+=1}var z=new AnimationItem;return f(z,K),z.setData(K,q),z}function m(){var K,q=e.length,D=[];for(K=0;K<q;K+=1)D.push(e[K].animation);return D}function _(){o+=1,W()}function g(){o-=1}function f(K,q){K.addEventListener("destroy",d),K.addEventListener("_active",_),K.addEventListener("_idle",g),e.push({elem:q,animation:K}),n+=1}function y(K){var q=new AnimationItem;return f(q,null),q.setParams(K),q}function M(K,q){var D;for(D=0;D<n;D+=1)e[D].animation.setSpeed(K,q)}function T(K,q){var D;for(D=0;D<n;D+=1)e[D].animation.setDirection(K,q)}function A(K){var q;for(q=0;q<n;q+=1)e[q].animation.play(K)}function E(K){var q=K-r,D;for(D=0;D<n;D+=1)e[D].animation.advanceTime(q);r=K,o&&!c?window.requestAnimationFrame(E):s=!0}function C(K){r=K,window.requestAnimationFrame(E)}function k(K){var q;for(q=0;q<n;q+=1)e[q].animation.pause(K)}function O(K,q,D){var z;for(z=0;z<n;z+=1)e[z].animation.goToAndStop(K,q,D)}function I(K){var q;for(q=0;q<n;q+=1)e[q].animation.stop(K)}function B(K){var q;for(q=0;q<n;q+=1)e[q].animation.togglePause(K)}function j(K){var q;for(q=n-1;q>=0;q-=1)e[q].animation.destroy(K)}function U(K,q,D){var z=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),J,ie=z.length;for(J=0;J<ie;J+=1)D&&z[J].setAttribute("data-bm-type",D),u(z[J],K);if(q&&ie===0){D||(D="svg");var fe=document.getElementsByTagName("body")[0];fe.innerText="";var ee=createTag("div");ee.style.width="100%",ee.style.height="100%",ee.setAttribute("data-bm-type",D),fe.appendChild(ee),u(ee,K)}}function N(){var K;for(K=0;K<n;K+=1)e[K].animation.resize()}function W(){!c&&o&&s&&(window.requestAnimationFrame(C),s=!1)}function ne(){c=!0}function re(){c=!1,W()}function le(K,q){var D;for(D=0;D<n;D+=1)e[D].animation.setVolume(K,q)}function ae(K){var q;for(q=0;q<n;q+=1)e[q].animation.mute(K)}function pe(K){var q;for(q=0;q<n;q+=1)e[q].animation.unmute(K)}return t.registerAnimation=u,t.loadAnimation=y,t.setSpeed=M,t.setDirection=T,t.play=A,t.pause=k,t.stop=I,t.togglePause=B,t.searchAnimations=U,t.resize=N,t.goToAndStop=O,t.destroy=j,t.freeze=ne,t.unfreeze=re,t.setVolume=le,t.mute=ae,t.unmute=pe,t.getRegisteredAnimations=m,t}(),BezierFactory=function(){var t={};t.getBezierEasing=r;var e={};function r(C,k,O,I,B){var j=B||("bez_"+C+"_"+k+"_"+O+"_"+I).replace(/\./g,"p");if(e[j])return e[j];var U=new E([C,k,O,I]);return e[j]=U,U}var n=4,o=.001,s=1e-7,c=10,d=11,u=1/(d-1),m=typeof Float32Array=="function";function _(C,k){return 1-3*k+3*C}function g(C,k){return 3*k-6*C}function f(C){return 3*C}function y(C,k,O){return((_(k,O)*C+g(k,O))*C+f(k))*C}function M(C,k,O){return 3*_(k,O)*C*C+2*g(k,O)*C+f(k)}function T(C,k,O,I,B){var j,U,N=0;do U=k+(O-k)/2,j=y(U,I,B)-C,j>0?O=U:k=U;while(Math.abs(j)>s&&++N<c);return U}function A(C,k,O,I){for(var B=0;B<n;++B){var j=M(k,O,I);if(j===0)return k;var U=y(k,O,I)-C;k-=U/j}return k}function E(C){this._p=C,this._mSampleValues=m?new Float32Array(d):new Array(d),this._precomputed=!1,this.get=this.get.bind(this)}return E.prototype={get:function(C){var k=this._p[0],O=this._p[1],I=this._p[2],B=this._p[3];return this._precomputed||this._precompute(),k===O&&I===B?C:C===0?0:C===1?1:y(this._getTForX(C),O,B)},_precompute:function(){var C=this._p[0],k=this._p[1],O=this._p[2],I=this._p[3];this._precomputed=!0,(C!==k||O!==I)&&this._calcSampleValues()},_calcSampleValues:function(){for(var C=this._p[0],k=this._p[2],O=0;O<d;++O)this._mSampleValues[O]=y(O*u,C,k)},_getTForX:function(C){for(var k=this._p[0],O=this._p[2],I=this._mSampleValues,B=0,j=1,U=d-1;j!==U&&I[j]<=C;++j)B+=u;--j;var N=(C-I[j])/(I[j+1]-I[j]),W=B+N*u,ne=M(W,k,O);return ne>=o?A(C,W,k,O):ne===0?W:T(C,B,B+u,k,O)}},t}(),pooling=function(){function t(e){return e.concat(createSizedArray(e.length))}return{double:t}}(),poolFactory=function(){return function(t,e,r){var n=0,o=t,s=createSizedArray(o),c={newElement:d,release:u};function d(){var m;return n?(n-=1,m=s[n]):m=e(),m}function u(m){n===o&&(s=pooling.double(s),o*=2),r&&r(m),s[n]=m,n+=1}return c}}(),bezierLengthPool=function(){function t(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,t)}(),segmentsLengthPool=function(){function t(){return{lengths:[],totalLength:0}}function e(r){var n,o=r.lengths.length;for(n=0;n<o;n+=1)bezierLengthPool.release(r.lengths[n]);r.lengths.length=0}return poolFactory(8,t,e)}();function bezFunction(){var t=Math;function e(f,y,M,T,A,E){var C=f*T+y*A+M*E-A*T-E*f-M*y;return C>-.001&&C<.001}function r(f,y,M,T,A,E,C,k,O){if(M===0&&E===0&&O===0)return e(f,y,T,A,C,k);var I=t.sqrt(t.pow(T-f,2)+t.pow(A-y,2)+t.pow(E-M,2)),B=t.sqrt(t.pow(C-f,2)+t.pow(k-y,2)+t.pow(O-M,2)),j=t.sqrt(t.pow(C-T,2)+t.pow(k-A,2)+t.pow(O-E,2)),U;return I>B?I>j?U=I-B-j:U=j-B-I:j>B?U=j-B-I:U=B-I-j,U>-1e-4&&U<1e-4}var n=function(){return function(f,y,M,T){var A=getDefaultCurveSegments(),E,C,k,O,I,B=0,j,U=[],N=[],W=bezierLengthPool.newElement();for(k=M.length,E=0;E<A;E+=1){for(I=E/(A-1),j=0,C=0;C<k;C+=1)O=bmPow(1-I,3)*f[C]+3*bmPow(1-I,2)*I*M[C]+3*(1-I)*bmPow(I,2)*T[C]+bmPow(I,3)*y[C],U[C]=O,N[C]!==null&&(j+=bmPow(U[C]-N[C],2)),N[C]=U[C];j&&(j=bmSqrt(j),B+=j),W.percents[E]=I,W.lengths[E]=B}return W.addedLength=B,W}}();function o(f){var y=segmentsLengthPool.newElement(),M=f.c,T=f.v,A=f.o,E=f.i,C,k=f._length,O=y.lengths,I=0;for(C=0;C<k-1;C+=1)O[C]=n(T[C],T[C+1],A[C],E[C+1]),I+=O[C].addedLength;return M&&k&&(O[C]=n(T[C],T[0],A[C],E[0]),I+=O[C].addedLength),y.totalLength=I,y}function s(f){this.segmentLength=0,this.points=new Array(f)}function c(f,y){this.partialLength=f,this.point=y}var d=function(){var f={};return function(y,M,T,A){var E=(y[0]+"_"+y[1]+"_"+M[0]+"_"+M[1]+"_"+T[0]+"_"+T[1]+"_"+A[0]+"_"+A[1]).replace(/\./g,"p");if(!f[E]){var C=getDefaultCurveSegments(),k,O,I,B,j,U=0,N,W,ne=null;y.length===2&&(y[0]!==M[0]||y[1]!==M[1])&&e(y[0],y[1],M[0],M[1],y[0]+T[0],y[1]+T[1])&&e(y[0],y[1],M[0],M[1],M[0]+A[0],M[1]+A[1])&&(C=2);var re=new s(C);for(I=T.length,k=0;k<C;k+=1){for(W=createSizedArray(I),j=k/(C-1),N=0,O=0;O<I;O+=1)B=bmPow(1-j,3)*y[O]+3*bmPow(1-j,2)*j*(y[O]+T[O])+3*(1-j)*bmPow(j,2)*(M[O]+A[O])+bmPow(j,3)*M[O],W[O]=B,ne!==null&&(N+=bmPow(W[O]-ne[O],2));N=bmSqrt(N),U+=N,re.points[k]=new c(N,W),ne=W}re.segmentLength=U,f[E]=re}return f[E]}}();function u(f,y){var M=y.percents,T=y.lengths,A=M.length,E=bmFloor((A-1)*f),C=f*y.addedLength,k=0;if(E===A-1||E===0||C===T[E])return M[E];for(var O=T[E]>C?-1:1,I=!0;I;)if(T[E]<=C&&T[E+1]>C?(k=(C-T[E])/(T[E+1]-T[E]),I=!1):E+=O,E<0||E>=A-1){if(E===A-1)return M[E];I=!1}return M[E]+(M[E+1]-M[E])*k}function m(f,y,M,T,A,E){var C=u(A,E),k=1-C,O=t.round((k*k*k*f[0]+(C*k*k+k*C*k+k*k*C)*M[0]+(C*C*k+k*C*C+C*k*C)*T[0]+C*C*C*y[0])*1e3)/1e3,I=t.round((k*k*k*f[1]+(C*k*k+k*C*k+k*k*C)*M[1]+(C*C*k+k*C*C+C*k*C)*T[1]+C*C*C*y[1])*1e3)/1e3;return[O,I]}var _=createTypedArray("float32",8);function g(f,y,M,T,A,E,C){A<0?A=0:A>1&&(A=1);var k=u(A,C);E=E>1?1:E;var O=u(E,C),I,B=f.length,j=1-k,U=1-O,N=j*j*j,W=k*j*j*3,ne=k*k*j*3,re=k*k*k,le=j*j*U,ae=k*j*U+j*k*U+j*j*O,pe=k*k*U+j*k*O+k*j*O,K=k*k*O,q=j*U*U,D=k*U*U+j*O*U+j*U*O,z=k*O*U+j*O*O+k*U*O,J=k*O*O,ie=U*U*U,fe=O*U*U+U*O*U+U*U*O,ee=O*O*U+U*O*O+O*U*O,Z=O*O*O;for(I=0;I<B;I+=1)_[I*4]=t.round((N*f[I]+W*M[I]+ne*T[I]+re*y[I])*1e3)/1e3,_[I*4+1]=t.round((le*f[I]+ae*M[I]+pe*T[I]+K*y[I])*1e3)/1e3,_[I*4+2]=t.round((q*f[I]+D*M[I]+z*T[I]+J*y[I])*1e3)/1e3,_[I*4+3]=t.round((ie*f[I]+fe*M[I]+ee*T[I]+Z*y[I])*1e3)/1e3;return _}return{getSegmentsLength:o,getNewSegment:g,getPointInSegment:m,buildBezierData:d,pointOnLine2D:e,pointOnLine3D:r}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(t,e){var r=this.offsetTime,n;this.propType==="multidimensional"&&(n=createTypedArray("float32",this.pv.length));for(var o=e.lastIndex,s=o,c=this.keyframes.length-1,d=!0,u,m,_;d;){if(u=this.keyframes[s],m=this.keyframes[s+1],s===c-1&&t>=m.t-r){u.h&&(u=m),o=0;break}if(m.t-r>t){o=s;break}s<c-1?s+=1:(o=0,d=!1)}_=this.keyframesMetadata[s]||{};var g,f,y,M,T,A,E=m.t-r,C=u.t-r,k;if(u.to){_.bezierData||(_.bezierData=bez.buildBezierData(u.s,m.s||u.e,u.to,u.ti));var O=_.bezierData;if(t>=E||t<C){var I=t>=E?O.points.length-1:0;for(f=O.points[I].point.length,g=0;g<f;g+=1)n[g]=O.points[I].point[g]}else{_.__fnct?A=_.__fnct:(A=BezierFactory.getBezierEasing(u.o.x,u.o.y,u.i.x,u.i.y,u.n).get,_.__fnct=A),y=A((t-C)/(E-C));var B=O.segmentLength*y,j,U=e.lastFrame<t&&e._lastKeyframeIndex===s?e._lastAddedLength:0;for(T=e.lastFrame<t&&e._lastKeyframeIndex===s?e._lastPoint:0,d=!0,M=O.points.length;d;){if(U+=O.points[T].partialLength,B===0||y===0||T===O.points.length-1){for(f=O.points[T].point.length,g=0;g<f;g+=1)n[g]=O.points[T].point[g];break}else if(B>=U&&B<U+O.points[T+1].partialLength){for(j=(B-U)/O.points[T+1].partialLength,f=O.points[T].point.length,g=0;g<f;g+=1)n[g]=O.points[T].point[g]+(O.points[T+1].point[g]-O.points[T].point[g])*j;break}T<M-1?T+=1:d=!1}e._lastPoint=T,e._lastAddedLength=U-O.points[T].partialLength,e._lastKeyframeIndex=s}}else{var N,W,ne,re,le;if(c=u.s.length,k=m.s||u.e,this.sh&&u.h!==1)if(t>=E)n[0]=k[0],n[1]=k[1],n[2]=k[2];else if(t<=C)n[0]=u.s[0],n[1]=u.s[1],n[2]=u.s[2];else{var ae=createQuaternion(u.s),pe=createQuaternion(k),K=(t-C)/(E-C);quaternionToEuler(n,slerp(ae,pe,K))}else for(s=0;s<c;s+=1)u.h!==1&&(t>=E?y=1:t<C?y=0:(u.o.x.constructor===Array?(_.__fnct||(_.__fnct=[]),_.__fnct[s]?A=_.__fnct[s]:(N=u.o.x[s]===void 0?u.o.x[0]:u.o.x[s],W=u.o.y[s]===void 0?u.o.y[0]:u.o.y[s],ne=u.i.x[s]===void 0?u.i.x[0]:u.i.x[s],re=u.i.y[s]===void 0?u.i.y[0]:u.i.y[s],A=BezierFactory.getBezierEasing(N,W,ne,re).get,_.__fnct[s]=A)):_.__fnct?A=_.__fnct:(N=u.o.x,W=u.o.y,ne=u.i.x,re=u.i.y,A=BezierFactory.getBezierEasing(N,W,ne,re).get,u.keyframeMetadata=A),y=A((t-C)/(E-C)))),k=m.s||u.e,le=u.h===1?u.s[s]:u.s[s]+(k[s]-u.s[s])*y,this.propType==="multidimensional"?n[s]=le:n=le}return e.lastIndex=o,n}function slerp(t,e,r){var n=[],o=t[0],s=t[1],c=t[2],d=t[3],u=e[0],m=e[1],_=e[2],g=e[3],f,y,M,T,A;return y=o*u+s*m+c*_+d*g,y<0&&(y=-y,u=-u,m=-m,_=-_,g=-g),1-y>1e-6?(f=Math.acos(y),M=Math.sin(f),T=Math.sin((1-r)*f)/M,A=Math.sin(r*f)/M):(T=1-r,A=r),n[0]=T*o+A*u,n[1]=T*s+A*m,n[2]=T*c+A*_,n[3]=T*d+A*g,n}function quaternionToEuler(t,e){var r=e[0],n=e[1],o=e[2],s=e[3],c=Math.atan2(2*n*s-2*r*o,1-2*n*n-2*o*o),d=Math.asin(2*r*n+2*o*s),u=Math.atan2(2*r*s-2*n*o,1-2*r*r-2*o*o);t[0]=c/degToRads,t[1]=d/degToRads,t[2]=u/degToRads}function createQuaternion(t){var e=t[0]*degToRads,r=t[1]*degToRads,n=t[2]*degToRads,o=Math.cos(e/2),s=Math.cos(r/2),c=Math.cos(n/2),d=Math.sin(e/2),u=Math.sin(r/2),m=Math.sin(n/2),_=o*s*c-d*u*m,g=d*u*c+o*s*m,f=d*s*c+o*u*m,y=o*u*c-d*s*m;return[g,f,y,_]}function getValueAtCurrentTime(){var t=this.comp.renderedFrame-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,r=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(t===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=r&&t>=r||this._caching.lastFrame<e&&t<e))){this._caching.lastFrame>=t&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var n=this.interpolateValue(t,this._caching);this.pv=n}return this._caching.lastFrame=t,this.pv}function setVValue(t){var e;if(this.propType==="unidimensional")e=t*this.mult,mathAbs(this.v-e)>1e-5&&(this.v=e,this._mdf=!0);else for(var r=0,n=this.v.length;r<n;)e=t[r]*this.mult,mathAbs(this.v[r]-e)>1e-5&&(this.v[r]=e,this._mdf=!0),r+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var t,e=this.effectsSequence.length,r=this.kf?this.pv:this.data.k;for(t=0;t<e;t+=1)r=this.effectsSequence[t](r);this.setVValue(r),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function ValueProperty(t,e,r,n){this.propType="unidimensional",this.mult=r||1,this.data=e,this.v=r?e.k*r:e.k,this.pv=e.k,this._mdf=!1,this.elem=t,this.container=n,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(t,e,r,n){this.propType="multidimensional",this.mult=r||1,this.data=e,this._mdf=!1,this.elem=t,this.container=n,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var o,s=e.k.length;for(this.v=createTypedArray("float32",s),this.pv=createTypedArray("float32",s),this.vel=createTypedArray("float32",s),o=0;o<s;o+=1)this.v[o]=e.k[o]*this.mult,this.pv[o]=e.k[o];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(t,e,r,n){this.propType="unidimensional",this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=e,this.mult=r||1,this.elem=t,this.container=n,this.comp=t.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(t,e,r,n){this.propType="multidimensional";var o,s=e.k.length,c,d,u,m;for(o=0;o<s-1;o+=1)e.k[o].to&&e.k[o].s&&e.k[o+1]&&e.k[o+1].s&&(c=e.k[o].s,d=e.k[o+1].s,u=e.k[o].to,m=e.k[o].ti,(c.length===2&&!(c[0]===d[0]&&c[1]===d[1])&&bez.pointOnLine2D(c[0],c[1],d[0],d[1],c[0]+u[0],c[1]+u[1])&&bez.pointOnLine2D(c[0],c[1],d[0],d[1],d[0]+m[0],d[1]+m[1])||c.length===3&&!(c[0]===d[0]&&c[1]===d[1]&&c[2]===d[2])&&bez.pointOnLine3D(c[0],c[1],c[2],d[0],d[1],d[2],c[0]+u[0],c[1]+u[1],c[2]+u[2])&&bez.pointOnLine3D(c[0],c[1],c[2],d[0],d[1],d[2],d[0]+m[0],d[1]+m[1],d[2]+m[2]))&&(e.k[o].to=null,e.k[o].ti=null),c[0]===d[0]&&c[1]===d[1]&&u[0]===0&&u[1]===0&&m[0]===0&&m[1]===0&&(c.length===2||c[2]===d[2]&&u[2]===0&&m[2]===0)&&(e.k[o].to=null,e.k[o].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=e,this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=r||1,this.elem=t,this.container=n,this.comp=t.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var _=e.k[0].s.length;for(this.v=createTypedArray("float32",_),this.pv=createTypedArray("float32",_),o=0;o<_;o+=1)this.v[o]=initFrame,this.pv[o]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",_)},this.addEffect=addEffect}var PropertyFactory=function(){function t(r,n,o,s,c){n.sid&&(n=r.globalData.slotManager.getProp(n));var d;if(!n.k.length)d=new ValueProperty(r,n,s,c);else if(typeof n.k[0]=="number")d=new MultiDimensionalProperty(r,n,s,c);else switch(o){case 0:d=new KeyframedValueProperty(r,n,s,c);break;case 1:d=new KeyframedMultidimensionalProperty(r,n,s,c);break}return d.effectsSequence.length&&c.addDynamicProperty(d),d}var e={getProp:t};return e}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(t){this.dynamicProperties.indexOf(t)===-1&&(this.dynamicProperties.push(t),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var t,e=this.dynamicProperties.length;for(t=0;t<e;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function t(){return createTypedArray("float32",2)}return poolFactory(8,t)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var r=0;r<e;)this.v[r]=pointPool.newElement(),this.o[r]=pointPool.newElement(),this.i[r]=pointPool.newElement(),r+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,e,r,n,o){var s;switch(this._length=Math.max(this._length,n+1),this._length>=this._maxLength&&this.doubleArrayLength(),r){case"v":s=this.v;break;case"i":s=this.i;break;case"o":s=this.o;break;default:s=[];break}(!s[n]||s[n]&&!o)&&(s[n]=pointPool.newElement()),s[n][0]=t,s[n][1]=e},ShapePath.prototype.setTripleAt=function(t,e,r,n,o,s,c,d){this.setXYAt(t,e,"v",c,d),this.setXYAt(r,n,"o",c,d),this.setXYAt(o,s,"i",c,d)},ShapePath.prototype.reverse=function(){var t=new ShapePath;t.setPathData(this.c,this._length);var e=this.v,r=this.o,n=this.i,o=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],n[0][0],n[0][1],r[0][0],r[0][1],0,!1),o=1);var s=this._length-1,c=this._length,d;for(d=o;d<c;d+=1)t.setTripleAt(e[s][0],e[s][1],n[s][0],n[s][1],r[s][0],r[s][1],d,!1),s-=1;return t},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function t(){return new ShapePath}function e(o){var s=o._length,c;for(c=0;c<s;c+=1)pointPool.release(o.v[c]),pointPool.release(o.i[c]),pointPool.release(o.o[c]),o.v[c]=null,o.i[c]=null,o.o[c]=null;o._length=0,o.c=!1}function r(o){var s=n.newElement(),c,d=o._length===void 0?o.v.length:o._length;for(s.setLength(d),s.c=o.c,c=0;c<d;c+=1)s.setTripleAt(o.v[c][0],o.v[c][1],o.o[c][0],o.o[c][1],o.i[c][0],o.i[c][1],c);return s}var n=poolFactory(4,t,e);return n.clone=r,n}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)shapePool.release(this.shapes[t]);this._length=0};var shapeCollectionPool=function(){var t={newShapeCollection:o,release:s},e=0,r=4,n=createSizedArray(r);function o(){var c;return e?(e-=1,c=n[e]):c=new ShapeCollection,c}function s(c){var d,u=c._length;for(d=0;d<u;d+=1)shapePool.release(c.shapes[d]);c._length=0,e===r&&(n=pooling.double(n),r*=2),n[e]=c,e+=1}return t}(),ShapePropertyFactory=function(){var t=-999999;function e(E,C,k){var O=k.lastIndex,I,B,j,U,N,W,ne,re,le,ae=this.keyframes;if(E<ae[0].t-this.offsetTime)I=ae[0].s[0],j=!0,O=0;else if(E>=ae[ae.length-1].t-this.offsetTime)I=ae[ae.length-1].s?ae[ae.length-1].s[0]:ae[ae.length-2].e[0],j=!0;else{for(var pe=O,K=ae.length-1,q=!0,D,z,J;q&&(D=ae[pe],z=ae[pe+1],!(z.t-this.offsetTime>E));)pe<K-1?pe+=1:q=!1;if(J=this.keyframesMetadata[pe]||{},j=D.h===1,O=pe,!j){if(E>=z.t-this.offsetTime)re=1;else if(E<D.t-this.offsetTime)re=0;else{var ie;J.__fnct?ie=J.__fnct:(ie=BezierFactory.getBezierEasing(D.o.x,D.o.y,D.i.x,D.i.y).get,J.__fnct=ie),re=ie((E-(D.t-this.offsetTime))/(z.t-this.offsetTime-(D.t-this.offsetTime)))}B=z.s?z.s[0]:D.e[0]}I=D.s[0]}for(W=C._length,ne=I.i[0].length,k.lastIndex=O,U=0;U<W;U+=1)for(N=0;N<ne;N+=1)le=j?I.i[U][N]:I.i[U][N]+(B.i[U][N]-I.i[U][N])*re,C.i[U][N]=le,le=j?I.o[U][N]:I.o[U][N]+(B.o[U][N]-I.o[U][N])*re,C.o[U][N]=le,le=j?I.v[U][N]:I.v[U][N]+(B.v[U][N]-I.v[U][N])*re,C.v[U][N]=le}function r(){var E=this.comp.renderedFrame-this.offsetTime,C=this.keyframes[0].t-this.offsetTime,k=this.keyframes[this.keyframes.length-1].t-this.offsetTime,O=this._caching.lastFrame;return O!==t&&(O<C&&E<C||O>k&&E>k)||(this._caching.lastIndex=O<E?this._caching.lastIndex:0,this.interpolateShape(E,this.pv,this._caching)),this._caching.lastFrame=E,this.pv}function n(){this.paths=this.localShapeCollection}function o(E,C){if(E._length!==C._length||E.c!==C.c)return!1;var k,O=E._length;for(k=0;k<O;k+=1)if(E.v[k][0]!==C.v[k][0]||E.v[k][1]!==C.v[k][1]||E.o[k][0]!==C.o[k][0]||E.o[k][1]!==C.o[k][1]||E.i[k][0]!==C.i[k][0]||E.i[k][1]!==C.i[k][1])return!1;return!0}function s(E){o(this.v,E)||(this.v=shapePool.clone(E),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function c(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var E;this.kf?E=this.pv:this.data.ks?E=this.data.ks.k:E=this.data.pt.k;var C,k=this.effectsSequence.length;for(C=0;C<k;C+=1)E=this.effectsSequence[C](E);this.setVValue(E),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function d(E,C,k){this.propType="shape",this.comp=E.comp,this.container=E,this.elem=E,this.data=C,this.k=!1,this.kf=!1,this._mdf=!1;var O=k===3?C.pt.k:C.ks.k;this.v=shapePool.clone(O),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=n,this.effectsSequence=[]}function u(E){this.effectsSequence.push(E),this.container.addDynamicProperty(this)}d.prototype.interpolateShape=e,d.prototype.getValue=c,d.prototype.setVValue=s,d.prototype.addEffect=u;function m(E,C,k){this.propType="shape",this.comp=E.comp,this.elem=E,this.container=E,this.offsetTime=E.data.st,this.keyframes=k===3?C.pt.k:C.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var O=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,O),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=t,this.reset=n,this._caching={lastFrame:t,lastIndex:0},this.effectsSequence=[r.bind(this)]}m.prototype.getValue=c,m.prototype.interpolateShape=e,m.prototype.setVValue=s,m.prototype.addEffect=u;var _=function(){var E=roundCorner;function C(k,O){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=O.d,this.elem=k,this.comp=k.comp,this.frameId=-1,this.initDynamicPropertyContainer(k),this.p=PropertyFactory.getProp(k,O.p,1,0,this),this.s=PropertyFactory.getProp(k,O.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return C.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var k=this.p.v[0],O=this.p.v[1],I=this.s.v[0]/2,B=this.s.v[1]/2,j=this.d!==3,U=this.v;U.v[0][0]=k,U.v[0][1]=O-B,U.v[1][0]=j?k+I:k-I,U.v[1][1]=O,U.v[2][0]=k,U.v[2][1]=O+B,U.v[3][0]=j?k-I:k+I,U.v[3][1]=O,U.i[0][0]=j?k-I*E:k+I*E,U.i[0][1]=O-B,U.i[1][0]=j?k+I:k-I,U.i[1][1]=O-B*E,U.i[2][0]=j?k+I*E:k-I*E,U.i[2][1]=O+B,U.i[3][0]=j?k-I:k+I,U.i[3][1]=O+B*E,U.o[0][0]=j?k+I*E:k-I*E,U.o[0][1]=O-B,U.o[1][0]=j?k+I:k-I,U.o[1][1]=O+B*E,U.o[2][0]=j?k-I*E:k+I*E,U.o[2][1]=O+B,U.o[3][0]=j?k-I:k+I,U.o[3][1]=O-B*E}},extendPrototype([DynamicPropertyContainer],C),C}(),g=function(){function E(C,k){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=C,this.comp=C.comp,this.data=k,this.frameId=-1,this.d=k.d,this.initDynamicPropertyContainer(C),k.sy===1?(this.ir=PropertyFactory.getProp(C,k.ir,0,0,this),this.is=PropertyFactory.getProp(C,k.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(C,k.pt,0,0,this),this.p=PropertyFactory.getProp(C,k.p,1,0,this),this.r=PropertyFactory.getProp(C,k.r,0,degToRads,this),this.or=PropertyFactory.getProp(C,k.or,0,0,this),this.os=PropertyFactory.getProp(C,k.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return E.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var C=Math.floor(this.pt.v)*2,k=Math.PI*2/C,O=!0,I=this.or.v,B=this.ir.v,j=this.os.v,U=this.is.v,N=2*Math.PI*I/(C*2),W=2*Math.PI*B/(C*2),ne,re,le,ae,pe=-Math.PI/2;pe+=this.r.v;var K=this.data.d===3?-1:1;for(this.v._length=0,ne=0;ne<C;ne+=1){re=O?I:B,le=O?j:U,ae=O?N:W;var q=re*Math.cos(pe),D=re*Math.sin(pe),z=q===0&&D===0?0:D/Math.sqrt(q*q+D*D),J=q===0&&D===0?0:-q/Math.sqrt(q*q+D*D);q+=+this.p.v[0],D+=+this.p.v[1],this.v.setTripleAt(q,D,q-z*ae*le*K,D-J*ae*le*K,q+z*ae*le*K,D+J*ae*le*K,ne,!0),O=!O,pe+=k*K}},convertPolygonToPath:function(){var C=Math.floor(this.pt.v),k=Math.PI*2/C,O=this.or.v,I=this.os.v,B=2*Math.PI*O/(C*4),j,U=-Math.PI*.5,N=this.data.d===3?-1:1;for(U+=this.r.v,this.v._length=0,j=0;j<C;j+=1){var W=O*Math.cos(U),ne=O*Math.sin(U),re=W===0&&ne===0?0:ne/Math.sqrt(W*W+ne*ne),le=W===0&&ne===0?0:-W/Math.sqrt(W*W+ne*ne);W+=+this.p.v[0],ne+=+this.p.v[1],this.v.setTripleAt(W,ne,W-re*B*I*N,ne-le*B*I*N,W+re*B*I*N,ne+le*B*I*N,j,!0),U+=k*N}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],E),E}(),f=function(){function E(C,k){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=C,this.comp=C.comp,this.frameId=-1,this.d=k.d,this.initDynamicPropertyContainer(C),this.p=PropertyFactory.getProp(C,k.p,1,0,this),this.s=PropertyFactory.getProp(C,k.s,1,0,this),this.r=PropertyFactory.getProp(C,k.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return E.prototype={convertRectToPath:function(){var C=this.p.v[0],k=this.p.v[1],O=this.s.v[0]/2,I=this.s.v[1]/2,B=bmMin(O,I,this.r.v),j=B*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(C+O,k-I+B,C+O,k-I+B,C+O,k-I+j,0,!0),this.v.setTripleAt(C+O,k+I-B,C+O,k+I-j,C+O,k+I-B,1,!0),B!==0?(this.v.setTripleAt(C+O-B,k+I,C+O-B,k+I,C+O-j,k+I,2,!0),this.v.setTripleAt(C-O+B,k+I,C-O+j,k+I,C-O+B,k+I,3,!0),this.v.setTripleAt(C-O,k+I-B,C-O,k+I-B,C-O,k+I-j,4,!0),this.v.setTripleAt(C-O,k-I+B,C-O,k-I+j,C-O,k-I+B,5,!0),this.v.setTripleAt(C-O+B,k-I,C-O+B,k-I,C-O+j,k-I,6,!0),this.v.setTripleAt(C+O-B,k-I,C+O-j,k-I,C+O-B,k-I,7,!0)):(this.v.setTripleAt(C-O,k+I,C-O+j,k+I,C-O,k+I,2),this.v.setTripleAt(C-O,k-I,C-O,k-I+j,C-O,k-I,3))):(this.v.setTripleAt(C+O,k-I+B,C+O,k-I+j,C+O,k-I+B,0,!0),B!==0?(this.v.setTripleAt(C+O-B,k-I,C+O-B,k-I,C+O-j,k-I,1,!0),this.v.setTripleAt(C-O+B,k-I,C-O+j,k-I,C-O+B,k-I,2,!0),this.v.setTripleAt(C-O,k-I+B,C-O,k-I+B,C-O,k-I+j,3,!0),this.v.setTripleAt(C-O,k+I-B,C-O,k+I-j,C-O,k+I-B,4,!0),this.v.setTripleAt(C-O+B,k+I,C-O+B,k+I,C-O+j,k+I,5,!0),this.v.setTripleAt(C+O-B,k+I,C+O-j,k+I,C+O-B,k+I,6,!0),this.v.setTripleAt(C+O,k+I-B,C+O,k+I-B,C+O,k+I-j,7,!0)):(this.v.setTripleAt(C-O,k-I,C-O+j,k-I,C-O,k-I,1,!0),this.v.setTripleAt(C-O,k+I,C-O,k+I-j,C-O,k+I,2,!0),this.v.setTripleAt(C+O,k+I,C+O-j,k+I,C+O,k+I,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:n},extendPrototype([DynamicPropertyContainer],E),E}();function y(E,C,k){var O;if(k===3||k===4){var I=k===3?C.pt:C.ks,B=I.k;B.length?O=new m(E,C,k):O=new d(E,C,k)}else k===5?O=new f(E,C):k===6?O=new _(E,C):k===7&&(O=new g(E,C));return O.k&&E.addDynamicProperty(O),O}function M(){return d}function T(){return m}var A={};return A.getShapeProp=y,A.getConstructorFunction=M,A.getKeyframedConstructorFunction=T,A}(),Matrix=function(){var t=Math.cos,e=Math.sin,r=Math.tan,n=Math.round;function o(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function s(D){if(D===0)return this;var z=t(D),J=e(D);return this._t(z,-J,0,0,J,z,0,0,0,0,1,0,0,0,0,1)}function c(D){if(D===0)return this;var z=t(D),J=e(D);return this._t(1,0,0,0,0,z,-J,0,0,J,z,0,0,0,0,1)}function d(D){if(D===0)return this;var z=t(D),J=e(D);return this._t(z,0,J,0,0,1,0,0,-J,0,z,0,0,0,0,1)}function u(D){if(D===0)return this;var z=t(D),J=e(D);return this._t(z,-J,0,0,J,z,0,0,0,0,1,0,0,0,0,1)}function m(D,z){return this._t(1,z,D,1,0,0)}function _(D,z){return this.shear(r(D),r(z))}function g(D,z){var J=t(z),ie=e(z);return this._t(J,ie,0,0,-ie,J,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,r(D),1,0,0,0,0,1,0,0,0,0,1)._t(J,-ie,0,0,ie,J,0,0,0,0,1,0,0,0,0,1)}function f(D,z,J){return!J&&J!==0&&(J=1),D===1&&z===1&&J===1?this:this._t(D,0,0,0,0,z,0,0,0,0,J,0,0,0,0,1)}function y(D,z,J,ie,fe,ee,Z,te,de,Y,we,Te,Me,Ae,ue,X){return this.props[0]=D,this.props[1]=z,this.props[2]=J,this.props[3]=ie,this.props[4]=fe,this.props[5]=ee,this.props[6]=Z,this.props[7]=te,this.props[8]=de,this.props[9]=Y,this.props[10]=we,this.props[11]=Te,this.props[12]=Me,this.props[13]=Ae,this.props[14]=ue,this.props[15]=X,this}function M(D,z,J){return J=J||0,D!==0||z!==0||J!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,D,z,J,1):this}function T(D,z,J,ie,fe,ee,Z,te,de,Y,we,Te,Me,Ae,ue,X){var $=this.props;if(D===1&&z===0&&J===0&&ie===0&&fe===0&&ee===1&&Z===0&&te===0&&de===0&&Y===0&&we===1&&Te===0)return $[12]=$[12]*D+$[15]*Me,$[13]=$[13]*ee+$[15]*Ae,$[14]=$[14]*we+$[15]*ue,$[15]*=X,this._identityCalculated=!1,this;var ge=$[0],ve=$[1],me=$[2],ce=$[3],Se=$[4],ye=$[5],be=$[6],he=$[7],se=$[8],Ee=$[9],Oe=$[10],Fe=$[11],Ne=$[12],Ue=$[13],je=$[14],Le=$[15];return $[0]=ge*D+ve*fe+me*de+ce*Me,$[1]=ge*z+ve*ee+me*Y+ce*Ae,$[2]=ge*J+ve*Z+me*we+ce*ue,$[3]=ge*ie+ve*te+me*Te+ce*X,$[4]=Se*D+ye*fe+be*de+he*Me,$[5]=Se*z+ye*ee+be*Y+he*Ae,$[6]=Se*J+ye*Z+be*we+he*ue,$[7]=Se*ie+ye*te+be*Te+he*X,$[8]=se*D+Ee*fe+Oe*de+Fe*Me,$[9]=se*z+Ee*ee+Oe*Y+Fe*Ae,$[10]=se*J+Ee*Z+Oe*we+Fe*ue,$[11]=se*ie+Ee*te+Oe*Te+Fe*X,$[12]=Ne*D+Ue*fe+je*de+Le*Me,$[13]=Ne*z+Ue*ee+je*Y+Le*Ae,$[14]=Ne*J+Ue*Z+je*we+Le*ue,$[15]=Ne*ie+Ue*te+je*Te+Le*X,this._identityCalculated=!1,this}function A(D){var z=D.props;return this.transform(z[0],z[1],z[2],z[3],z[4],z[5],z[6],z[7],z[8],z[9],z[10],z[11],z[12],z[13],z[14],z[15])}function E(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function C(D){for(var z=0;z<16;){if(D.props[z]!==this.props[z])return!1;z+=1}return!0}function k(D){var z;for(z=0;z<16;z+=1)D.props[z]=this.props[z];return D}function O(D){var z;for(z=0;z<16;z+=1)this.props[z]=D[z]}function I(D,z,J){return{x:D*this.props[0]+z*this.props[4]+J*this.props[8]+this.props[12],y:D*this.props[1]+z*this.props[5]+J*this.props[9]+this.props[13],z:D*this.props[2]+z*this.props[6]+J*this.props[10]+this.props[14]}}function B(D,z,J){return D*this.props[0]+z*this.props[4]+J*this.props[8]+this.props[12]}function j(D,z,J){return D*this.props[1]+z*this.props[5]+J*this.props[9]+this.props[13]}function U(D,z,J){return D*this.props[2]+z*this.props[6]+J*this.props[10]+this.props[14]}function N(){var D=this.props[0]*this.props[5]-this.props[1]*this.props[4],z=this.props[5]/D,J=-this.props[1]/D,ie=-this.props[4]/D,fe=this.props[0]/D,ee=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/D,Z=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/D,te=new Matrix;return te.props[0]=z,te.props[1]=J,te.props[4]=ie,te.props[5]=fe,te.props[12]=ee,te.props[13]=Z,te}function W(D){var z=this.getInverseMatrix();return z.applyToPointArray(D[0],D[1],D[2]||0)}function ne(D){var z,J=D.length,ie=[];for(z=0;z<J;z+=1)ie[z]=W(D[z]);return ie}function re(D,z,J){var ie=createTypedArray("float32",6);if(this.isIdentity())ie[0]=D[0],ie[1]=D[1],ie[2]=z[0],ie[3]=z[1],ie[4]=J[0],ie[5]=J[1];else{var fe=this.props[0],ee=this.props[1],Z=this.props[4],te=this.props[5],de=this.props[12],Y=this.props[13];ie[0]=D[0]*fe+D[1]*Z+de,ie[1]=D[0]*ee+D[1]*te+Y,ie[2]=z[0]*fe+z[1]*Z+de,ie[3]=z[0]*ee+z[1]*te+Y,ie[4]=J[0]*fe+J[1]*Z+de,ie[5]=J[0]*ee+J[1]*te+Y}return ie}function le(D,z,J){var ie;return this.isIdentity()?ie=[D,z,J]:ie=[D*this.props[0]+z*this.props[4]+J*this.props[8]+this.props[12],D*this.props[1]+z*this.props[5]+J*this.props[9]+this.props[13],D*this.props[2]+z*this.props[6]+J*this.props[10]+this.props[14]],ie}function ae(D,z){if(this.isIdentity())return D+","+z;var J=this.props;return Math.round((D*J[0]+z*J[4]+J[12])*100)/100+","+Math.round((D*J[1]+z*J[5]+J[13])*100)/100}function pe(){for(var D=0,z=this.props,J="matrix3d(",ie=1e4;D<16;)J+=n(z[D]*ie)/ie,J+=D===15?")":",",D+=1;return J}function K(D){var z=1e4;return D<1e-6&&D>0||D>-1e-6&&D<0?n(D*z)/z:D}function q(){var D=this.props,z=K(D[0]),J=K(D[1]),ie=K(D[4]),fe=K(D[5]),ee=K(D[12]),Z=K(D[13]);return"matrix("+z+","+J+","+ie+","+fe+","+ee+","+Z+")"}return function(){this.reset=o,this.rotate=s,this.rotateX=c,this.rotateY=d,this.rotateZ=u,this.skew=_,this.skewFromAxis=g,this.shear=m,this.scale=f,this.setTransform=y,this.translate=M,this.transform=T,this.multiply=A,this.applyToPoint=I,this.applyToX=B,this.applyToY=j,this.applyToZ=U,this.applyToPointArray=le,this.applyToTriplePoints=re,this.applyToPointStringified=ae,this.toCSS=pe,this.to2dCSS=q,this.clone=k,this.cloneFromProps=O,this.equals=C,this.inversePoints=ne,this.inversePoint=W,this.getInverseMatrix=N,this._t=this.transform,this.isIdentity=E,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(e){return typeof e}:_typeof$3=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$3(t)}var lottie={};function setLocation(t){setLocationHref(t)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(t){setSubframeEnabled(t)}function setPrefix(t){setIdPrefix(t)}function loadAnimation(t){return animationManager.loadAnimation(t)}function setQuality(t){if(typeof t=="string")switch(t){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(t)&&t>1&&setDefaultCurveSegments(t)}function inBrowser(){return typeof navigator<"u"}function installPlugin(t,e){t==="expressions"&&setExpressionsPlugin(e)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var e=queryString.split("&"),r=0;r<e.length;r+=1){var n=e[r].split("=");if(decodeURIComponent(n[0])==t)return decodeURIComponent(n[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(t){}var ShapeModifiers=function(){var t={},e={};t.registerModifier=r,t.getModifier=n;function r(o,s){e[o]||(e[o]=s)}function n(o,s,c){return new e[o](s,c)}return t}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){if(!this.closed){t.sh.container.addDynamicProperty(t.sh);var e={shape:t.sh,data:t,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated()}},ShapeModifier.prototype.init=function(t,e){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(t,e){this.s=PropertyFactory.getProp(t,e.s,0,.01,this),this.e=PropertyFactory.getProp(t,e.e,0,.01,this),this.o=PropertyFactory.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(t){t.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(t,e,r,n,o){var s=[];e<=1?s.push({s:t,e}):t>=1?s.push({s:t-1,e:e-1}):(s.push({s:t,e:1}),s.push({s:0,e:e-1}));var c=[],d,u=s.length,m;for(d=0;d<u;d+=1)if(m=s[d],!(m.e*o<n||m.s*o>n+r)){var _,g;m.s*o<=n?_=0:_=(m.s*o-n)/r,m.e*o>=n+r?g=1:g=(m.e*o-n)/r,c.push([_,g])}return c.length||c.push([0,0]),c},TrimModifier.prototype.releasePathsData=function(t){var e,r=t.length;for(e=0;e<r;e+=1)segmentsLengthPool.release(t[e]);return t.length=0,t},TrimModifier.prototype.processShapes=function(t){var e,r;if(this._mdf||t){var n=this.o.v%360/360;if(n<0&&(n+=1),this.s.v>1?e=1+n:this.s.v<0?e=0+n:e=this.s.v+n,this.e.v>1?r=1+n:this.e.v<0?r=0+n:r=this.e.v+n,e>r){var o=e;e=r,r=o}e=Math.round(e*1e4)*1e-4,r=Math.round(r*1e4)*1e-4,this.sValue=e,this.eValue=r}else e=this.sValue,r=this.eValue;var s,c,d=this.shapes.length,u,m,_,g,f,y=0;if(r===e)for(c=0;c<d;c+=1)this.shapes[c].localShapeCollection.releaseShapes(),this.shapes[c].shape._mdf=!0,this.shapes[c].shape.paths=this.shapes[c].localShapeCollection,this._mdf&&(this.shapes[c].pathsData.length=0);else if(r===1&&e===0||r===0&&e===1){if(this._mdf)for(c=0;c<d;c+=1)this.shapes[c].pathsData.length=0,this.shapes[c].shape._mdf=!0}else{var M=[],T,A;for(c=0;c<d;c+=1)if(T=this.shapes[c],!T.shape._mdf&&!this._mdf&&!t&&this.m!==2)T.shape.paths=T.localShapeCollection;else{if(s=T.shape.paths,m=s._length,f=0,!T.shape._mdf&&T.pathsData.length)f=T.totalShapeLength;else{for(_=this.releasePathsData(T.pathsData),u=0;u<m;u+=1)g=bez.getSegmentsLength(s.shapes[u]),_.push(g),f+=g.totalLength;T.totalShapeLength=f,T.pathsData=_}y+=f,T.shape._mdf=!0}var E=e,C=r,k=0,O;for(c=d-1;c>=0;c-=1)if(T=this.shapes[c],T.shape._mdf){for(A=T.localShapeCollection,A.releaseShapes(),this.m===2&&d>1?(O=this.calculateShapeEdges(e,r,T.totalShapeLength,k,y),k+=T.totalShapeLength):O=[[E,C]],m=O.length,u=0;u<m;u+=1){E=O[u][0],C=O[u][1],M.length=0,C<=1?M.push({s:T.totalShapeLength*E,e:T.totalShapeLength*C}):E>=1?M.push({s:T.totalShapeLength*(E-1),e:T.totalShapeLength*(C-1)}):(M.push({s:T.totalShapeLength*E,e:T.totalShapeLength}),M.push({s:0,e:T.totalShapeLength*(C-1)}));var I=this.addShapes(T,M[0]);if(M[0].s!==M[0].e){if(M.length>1){var B=T.shape.paths.shapes[T.shape.paths._length-1];if(B.c){var j=I.pop();this.addPaths(I,A),I=this.addShapes(T,M[1],j)}else this.addPaths(I,A),I=this.addShapes(T,M[1])}this.addPaths(I,A)}}T.shape.paths=A}}},TrimModifier.prototype.addPaths=function(t,e){var r,n=t.length;for(r=0;r<n;r+=1)e.addShape(t[r])},TrimModifier.prototype.addSegment=function(t,e,r,n,o,s,c){o.setXYAt(e[0],e[1],"o",s),o.setXYAt(r[0],r[1],"i",s+1),c&&o.setXYAt(t[0],t[1],"v",s),o.setXYAt(n[0],n[1],"v",s+1)},TrimModifier.prototype.addSegmentFromArray=function(t,e,r,n){e.setXYAt(t[1],t[5],"o",r),e.setXYAt(t[2],t[6],"i",r+1),n&&e.setXYAt(t[0],t[4],"v",r),e.setXYAt(t[3],t[7],"v",r+1)},TrimModifier.prototype.addShapes=function(t,e,r){var n=t.pathsData,o=t.shape.paths.shapes,s,c=t.shape.paths._length,d,u,m=0,_,g,f,y,M=[],T,A=!0;for(r?(g=r._length,T=r._length):(r=shapePool.newElement(),g=0,T=0),M.push(r),s=0;s<c;s+=1){for(f=n[s].lengths,r.c=o[s].c,u=o[s].c?f.length:f.length+1,d=1;d<u;d+=1)if(_=f[d-1],m+_.addedLength<e.s)m+=_.addedLength,r.c=!1;else if(m>e.e){r.c=!1;break}else e.s<=m&&e.e>=m+_.addedLength?(this.addSegment(o[s].v[d-1],o[s].o[d-1],o[s].i[d],o[s].v[d],r,g,A),A=!1):(y=bez.getNewSegment(o[s].v[d-1],o[s].v[d],o[s].o[d-1],o[s].i[d],(e.s-m)/_.addedLength,(e.e-m)/_.addedLength,f[d-1]),this.addSegmentFromArray(y,r,g,A),A=!1,r.c=!1),m+=_.addedLength,g+=1;if(o[s].c&&f.length){if(_=f[d-1],m<=e.e){var E=f[d-1].addedLength;e.s<=m&&e.e>=m+E?(this.addSegment(o[s].v[d-1],o[s].o[d-1],o[s].i[0],o[s].v[0],r,g,A),A=!1):(y=bez.getNewSegment(o[s].v[d-1],o[s].v[0],o[s].o[d-1],o[s].i[0],(e.s-m)/E,(e.e-m)/E,f[d-1]),this.addSegmentFromArray(y,r,g,A),A=!1,r.c=!1)}else r.c=!1;m+=_.addedLength,g+=1}if(r._length&&(r.setXYAt(r.v[T][0],r.v[T][1],"i",T),r.setXYAt(r.v[r._length-1][0],r.v[r._length-1][1],"o",r._length-1)),m>e.e)break;s<c-1&&(r=shapePool.newElement(),A=!0,M.push(r),g=0)}return M};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(t,e){var r=e/100,n=[0,0],o=t._length,s=0;for(s=0;s<o;s+=1)n[0]+=t.v[s][0],n[1]+=t.v[s][1];n[0]/=o,n[1]/=o;var c=shapePool.newElement();c.c=t.c;var d,u,m,_,g,f;for(s=0;s<o;s+=1)d=t.v[s][0]+(n[0]-t.v[s][0])*r,u=t.v[s][1]+(n[1]-t.v[s][1])*r,m=t.o[s][0]+(n[0]-t.o[s][0])*-r,_=t.o[s][1]+(n[1]-t.o[s][1])*-r,g=t.i[s][0]+(n[0]-t.i[s][0])*-r,f=t.i[s][1]+(n[1]-t.i[s][1])*-r,c.setTripleAt(d,u,m,_,g,f,s);return c},PuckerAndBloatModifier.prototype.processShapes=function(t){var e,r,n=this.shapes.length,o,s,c=this.amount.v;if(c!==0){var d,u;for(r=0;r<n;r+=1){if(d=this.shapes[r],u=d.localShapeCollection,!(!d.shape._mdf&&!this._mdf&&!t))for(u.releaseShapes(),d.shape._mdf=!0,e=d.shape.paths.shapes,s=d.shape.paths._length,o=0;o<s;o+=1)u.addShape(this.processPath(e[o],c));d.shape.paths=d.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var t=[0,0];function e(u){var m=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||m,this.a&&u.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&u.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&u.skewFromAxis(-this.sk.v,this.sa.v),this.r?u.rotate(-this.r.v):u.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?u.translate(this.px.v,this.py.v,-this.pz.v):u.translate(this.px.v,this.py.v,0):u.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function r(u){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||u){var m;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var _,g;if(m=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(_=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/m,0),g=this.p.getValueAtTime(this.p.keyframes[0].t/m,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(_=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/m,0),g=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/m,0)):(_=this.p.pv,g=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/m,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){_=[],g=[];var f=this.px,y=this.py;f._caching.lastFrame+f.offsetTime<=f.keyframes[0].t?(_[0]=f.getValueAtTime((f.keyframes[0].t+.01)/m,0),_[1]=y.getValueAtTime((y.keyframes[0].t+.01)/m,0),g[0]=f.getValueAtTime(f.keyframes[0].t/m,0),g[1]=y.getValueAtTime(y.keyframes[0].t/m,0)):f._caching.lastFrame+f.offsetTime>=f.keyframes[f.keyframes.length-1].t?(_[0]=f.getValueAtTime(f.keyframes[f.keyframes.length-1].t/m,0),_[1]=y.getValueAtTime(y.keyframes[y.keyframes.length-1].t/m,0),g[0]=f.getValueAtTime((f.keyframes[f.keyframes.length-1].t-.01)/m,0),g[1]=y.getValueAtTime((y.keyframes[y.keyframes.length-1].t-.01)/m,0)):(_=[f.pv,y.pv],g[0]=f.getValueAtTime((f._caching.lastFrame+f.offsetTime-.01)/m,f.offsetTime),g[1]=y.getValueAtTime((y._caching.lastFrame+y.offsetTime-.01)/m,y.offsetTime))}else g=t,_=g;this.v.rotate(-Math.atan2(_[1]-g[1],_[0]-g[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function n(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function o(){}function s(u){this._addDynamicProperty(u),this.elem.addDynamicProperty(u),this._isDirty=!0}function c(u,m,_){if(this.elem=u,this.frameId=-1,this.propType="transform",this.data=m,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(_||u),m.p&&m.p.s?(this.px=PropertyFactory.getProp(u,m.p.x,0,0,this),this.py=PropertyFactory.getProp(u,m.p.y,0,0,this),m.p.z&&(this.pz=PropertyFactory.getProp(u,m.p.z,0,0,this))):this.p=PropertyFactory.getProp(u,m.p||{k:[0,0,0]},1,0,this),m.rx){if(this.rx=PropertyFactory.getProp(u,m.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(u,m.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(u,m.rz,0,degToRads,this),m.or.k[0].ti){var g,f=m.or.k.length;for(g=0;g<f;g+=1)m.or.k[g].to=null,m.or.k[g].ti=null}this.or=PropertyFactory.getProp(u,m.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(u,m.r||{k:0},0,degToRads,this);m.sk&&(this.sk=PropertyFactory.getProp(u,m.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(u,m.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(u,m.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(u,m.s||{k:[100,100,100]},1,.01,this),m.o?this.o=PropertyFactory.getProp(u,m.o,0,.01,u):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}c.prototype={applyToMatrix:e,getValue:r,precalculateMatrix:n,autoOrient:o},extendPrototype([DynamicPropertyContainer],c),c.prototype.addDynamicProperty=s,c.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function d(u,m,_){return new c(u,m,_)}return{getTransformProperty:d}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,e.c,0,null,this),this.o=PropertyFactory.getProp(t,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(t,e.tr,this),this.so=PropertyFactory.getProp(t,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(t,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,e,r,n,o,s){var c=s?-1:1,d=n.s.v[0]+(1-n.s.v[0])*(1-o),u=n.s.v[1]+(1-n.s.v[1])*(1-o);t.translate(n.p.v[0]*c*o,n.p.v[1]*c*o,n.p.v[2]),e.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),e.rotate(-n.r.v*c*o),e.translate(n.a.v[0],n.a.v[1],n.a.v[2]),r.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),r.scale(s?1/d:d,s?1/u:u),r.translate(n.a.v[0],n.a.v[1],n.a.v[2])},RepeaterModifier.prototype.init=function(t,e,r,n){for(this.elem=t,this.arr=e,this.pos=r,this.elemsData=n,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[r]);r>0;)r-=1,this._elements.unshift(e[r]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e]._processed=!1,t[e].ty==="gr"&&this.resetElements(t[e].it)},RepeaterModifier.prototype.cloneElements=function(t){var e=JSON.parse(JSON.stringify(t));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(t,e){var r,n=t.length;for(r=0;r<n;r+=1)t[r]._render=e,t[r].ty==="gr"&&this.changeGroupRender(t[r].it,e)},RepeaterModifier.prototype.processShapes=function(t){var e,r,n,o,s,c=!1;if(this._mdf||t){var d=Math.ceil(this.c.v);if(this._groups.length<d){for(;this._groups.length<d;){var u={it:this.cloneElements(this._elements),ty:"gr"};u.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,u),this._groups.splice(0,0,u),this._currentCopies+=1}this.elem.reloadShapes(),c=!0}s=0;var m;for(n=0;n<=this._groups.length-1;n+=1){if(m=s<d,this._groups[n]._render=m,this.changeGroupRender(this._groups[n].it,m),!m){var _=this.elemsData[n].it,g=_[_.length-1];g.transform.op.v!==0?(g.transform.op._mdf=!0,g.transform.op.v=0):g.transform.op._mdf=!1}s+=1}this._currentCopies=d;var f=this.o.v,y=f%1,M=f>0?Math.floor(f):Math.ceil(f),T=this.pMatrix.props,A=this.rMatrix.props,E=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var C=0;if(f>0){for(;C<M;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),C+=1;y&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,y,!1),C+=y)}else if(f<0){for(;C>M;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),C-=1;y&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-y,!0),C-=y)}n=this.data.m===1?0:this._currentCopies-1,o=this.data.m===1?1:-1,s=this._currentCopies;for(var k,O;s;){if(e=this.elemsData[n].it,r=e[e.length-1].transform.mProps.v.props,O=r.length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(n/(this._currentCopies-1)),C!==0){for((n!==0&&o===1||n!==this._currentCopies-1&&o===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(A[0],A[1],A[2],A[3],A[4],A[5],A[6],A[7],A[8],A[9],A[10],A[11],A[12],A[13],A[14],A[15]),this.matrix.transform(E[0],E[1],E[2],E[3],E[4],E[5],E[6],E[7],E[8],E[9],E[10],E[11],E[12],E[13],E[14],E[15]),this.matrix.transform(T[0],T[1],T[2],T[3],T[4],T[5],T[6],T[7],T[8],T[9],T[10],T[11],T[12],T[13],T[14],T[15]),k=0;k<O;k+=1)r[k]=this.matrix.props[k];this.matrix.reset()}else for(this.matrix.reset(),k=0;k<O;k+=1)r[k]=this.matrix.props[k];C+=1,s-=1,n+=o}}else for(s=this._currentCopies,n=0,o=1;s;)e=this.elemsData[n].it,r=e[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,s-=1,n+=o;return c},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(t,e){var r=shapePool.newElement();r.c=t.c;var n,o=t._length,s,c,d,u,m,_,g=0,f,y,M,T,A,E;for(n=0;n<o;n+=1)s=t.v[n],d=t.o[n],c=t.i[n],s[0]===d[0]&&s[1]===d[1]&&s[0]===c[0]&&s[1]===c[1]?(n===0||n===o-1)&&!t.c?(r.setTripleAt(s[0],s[1],d[0],d[1],c[0],c[1],g),g+=1):(n===0?u=t.v[o-1]:u=t.v[n-1],m=Math.sqrt(Math.pow(s[0]-u[0],2)+Math.pow(s[1]-u[1],2)),_=m?Math.min(m/2,e)/m:0,A=s[0]+(u[0]-s[0])*_,f=A,E=s[1]-(s[1]-u[1])*_,y=E,M=f-(f-s[0])*roundCorner,T=y-(y-s[1])*roundCorner,r.setTripleAt(f,y,M,T,A,E,g),g+=1,n===o-1?u=t.v[0]:u=t.v[n+1],m=Math.sqrt(Math.pow(s[0]-u[0],2)+Math.pow(s[1]-u[1],2)),_=m?Math.min(m/2,e)/m:0,M=s[0]+(u[0]-s[0])*_,f=M,T=s[1]+(u[1]-s[1])*_,y=T,A=f-(f-s[0])*roundCorner,E=y-(y-s[1])*roundCorner,r.setTripleAt(f,y,M,T,A,E,g),g+=1):(r.setTripleAt(t.v[n][0],t.v[n][1],t.o[n][0],t.o[n][1],t.i[n][0],t.i[n][1],g),g+=1);return r},RoundCornersModifier.prototype.processShapes=function(t){var e,r,n=this.shapes.length,o,s,c=this.rd.v;if(c!==0){var d,u;for(r=0;r<n;r+=1){if(d=this.shapes[r],u=d.localShapeCollection,!(!d.shape._mdf&&!this._mdf&&!t))for(u.releaseShapes(),d.shape._mdf=!0,e=d.shape.paths.shapes,s=d.shape.paths._length,o=0;o<s;o+=1)u.addShape(this.processPath(e[o],c));d.shape.paths=d.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(t,e){return Math.abs(t-e)*1e5<=Math.min(Math.abs(t),Math.abs(e))}function floatZero(t){return Math.abs(t)<=1e-5}function lerp(t,e,r){return t*(1-r)+e*r}function lerpPoint(t,e,r){return[lerp(t[0],e[0],r),lerp(t[1],e[1],r)]}function quadRoots(t,e,r){if(t===0)return[];var n=e*e-4*t*r;if(n<0)return[];var o=-e/(2*t);if(n===0)return[o];var s=Math.sqrt(n)/(2*t);return[o-s,o+s]}function polynomialCoefficients(t,e,r,n){return[-t+3*e-3*r+n,3*t-6*e+3*r,-3*t+3*e,t]}function singlePoint(t){return new PolynomialBezier(t,t,t,t,!1)}function PolynomialBezier(t,e,r,n,o){o&&pointEqual(t,e)&&(e=lerpPoint(t,n,.3333333333333333)),o&&pointEqual(r,n)&&(r=lerpPoint(t,n,.6666666666666666));var s=polynomialCoefficients(t[0],e[0],r[0],n[0]),c=polynomialCoefficients(t[1],e[1],r[1],n[1]);this.a=[s[0],c[0]],this.b=[s[1],c[1]],this.c=[s[2],c[2]],this.d=[s[3],c[3]],this.points=[t,e,r,n]}PolynomialBezier.prototype.point=function(t){return[((this.a[0]*t+this.b[0])*t+this.c[0])*t+this.d[0],((this.a[1]*t+this.b[1])*t+this.c[1])*t+this.d[1]]},PolynomialBezier.prototype.derivative=function(t){return[(3*t*this.a[0]+2*this.b[0])*t+this.c[0],(3*t*this.a[1]+2*this.b[1])*t+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(t){var e=this.derivative(t);return Math.atan2(e[1],e[0])},PolynomialBezier.prototype.normalAngle=function(t){var e=this.derivative(t);return Math.atan2(e[0],e[1])},PolynomialBezier.prototype.inflectionPoints=function(){var t=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(t))return[];var e=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/t,r=e*e-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/t;if(r<0)return[];var n=Math.sqrt(r);return floatZero(n)?n>0&&n<1?[e]:[]:[e-n,e+n].filter(function(o){return o>0&&o<1})},PolynomialBezier.prototype.split=function(t){if(t<=0)return[singlePoint(this.points[0]),this];if(t>=1)return[this,singlePoint(this.points[this.points.length-1])];var e=lerpPoint(this.points[0],this.points[1],t),r=lerpPoint(this.points[1],this.points[2],t),n=lerpPoint(this.points[2],this.points[3],t),o=lerpPoint(e,r,t),s=lerpPoint(r,n,t),c=lerpPoint(o,s,t);return[new PolynomialBezier(this.points[0],e,o,c,!0),new PolynomialBezier(c,s,n,this.points[3],!0)]};function extrema(t,e){var r=t.points[0][e],n=t.points[t.points.length-1][e];if(r>n){var o=n;n=r,r=o}for(var s=quadRoots(3*t.a[e],2*t.b[e],t.c[e]),c=0;c<s.length;c+=1)if(s[c]>0&&s[c]<1){var d=t.point(s[c])[e];d<r?r=d:d>n&&(n=d)}return{min:r,max:n}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var t=this.bounds();return{left:t.x.min,right:t.x.max,top:t.y.min,bottom:t.y.max,width:t.x.max-t.x.min,height:t.y.max-t.y.min,cx:(t.x.max+t.x.min)/2,cy:(t.y.max+t.y.min)/2}};function intersectData(t,e,r){var n=t.boundingBox();return{cx:n.cx,cy:n.cy,width:n.width,height:n.height,bez:t,t:(e+r)/2,t1:e,t2:r}}function splitData(t){var e=t.bez.split(.5);return[intersectData(e[0],t.t1,t.t),intersectData(e[1],t.t,t.t2)]}function boxIntersect(t,e){return Math.abs(t.cx-e.cx)*2<t.width+e.width&&Math.abs(t.cy-e.cy)*2<t.height+e.height}function intersectsImpl(t,e,r,n,o,s){if(boxIntersect(t,e)){if(r>=s||t.width<=n&&t.height<=n&&e.width<=n&&e.height<=n){o.push([t.t,e.t]);return}var c=splitData(t),d=splitData(e);intersectsImpl(c[0],d[0],r+1,n,o,s),intersectsImpl(c[0],d[1],r+1,n,o,s),intersectsImpl(c[1],d[0],r+1,n,o,s),intersectsImpl(c[1],d[1],r+1,n,o,s)}}PolynomialBezier.prototype.intersections=function(t,e,r){e===void 0&&(e=2),r===void 0&&(r=7);var n=[];return intersectsImpl(intersectData(this,0,1),intersectData(t,0,1),0,e,n,r),n},PolynomialBezier.shapeSegment=function(t,e){var r=(e+1)%t.length();return new PolynomialBezier(t.v[e],t.o[e],t.i[r],t.v[r],!0)},PolynomialBezier.shapeSegmentInverted=function(t,e){var r=(e+1)%t.length();return new PolynomialBezier(t.v[r],t.i[r],t.o[e],t.v[e],!0)};function crossProduct(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function lineIntersection(t,e,r,n){var o=[t[0],t[1],1],s=[e[0],e[1],1],c=[r[0],r[1],1],d=[n[0],n[1],1],u=crossProduct(crossProduct(o,s),crossProduct(c,d));return floatZero(u[2])?null:[u[0]/u[2],u[1]/u[2]]}function polarOffset(t,e,r){return[t[0]+Math.cos(e)*r,t[1]-Math.sin(e)*r]}function pointDistance(t,e){return Math.hypot(t[0]-e[0],t[1]-e[1])}function pointEqual(t,e){return floatEqual(t[0],e[0])&&floatEqual(t[1],e[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(t,e.s,0,null,this),this.frequency=PropertyFactory.getProp(t,e.r,0,null,this),this.pointsType=PropertyFactory.getProp(t,e.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(t,e,r,n,o,s,c){var d=r-Math.PI/2,u=r+Math.PI/2,m=e[0]+Math.cos(r)*n*o,_=e[1]-Math.sin(r)*n*o;t.setTripleAt(m,_,m+Math.cos(d)*s,_-Math.sin(d)*s,m+Math.cos(u)*c,_-Math.sin(u)*c,t.length())}function getPerpendicularVector(t,e){var r=[e[0]-t[0],e[1]-t[1]],n=-Math.PI*.5,o=[Math.cos(n)*r[0]-Math.sin(n)*r[1],Math.sin(n)*r[0]+Math.cos(n)*r[1]];return o}function getProjectingAngle(t,e){var r=e===0?t.length()-1:e-1,n=(e+1)%t.length(),o=t.v[r],s=t.v[n],c=getPerpendicularVector(o,s);return Math.atan2(0,1)-Math.atan2(c[1],c[0])}function zigZagCorner(t,e,r,n,o,s,c){var d=getProjectingAngle(e,r),u=e.v[r%e._length],m=e.v[r===0?e._length-1:r-1],_=e.v[(r+1)%e._length],g=s===2?Math.sqrt(Math.pow(u[0]-m[0],2)+Math.pow(u[1]-m[1],2)):0,f=s===2?Math.sqrt(Math.pow(u[0]-_[0],2)+Math.pow(u[1]-_[1],2)):0;setPoint(t,e.v[r%e._length],d,c,n,f/((o+1)*2),g/((o+1)*2))}function zigZagSegment(t,e,r,n,o,s){for(var c=0;c<n;c+=1){var d=(c+1)/(n+1),u=o===2?Math.sqrt(Math.pow(e.points[3][0]-e.points[0][0],2)+Math.pow(e.points[3][1]-e.points[0][1],2)):0,m=e.normalAngle(d),_=e.point(d);setPoint(t,_,m,s,r,u/((n+1)*2),u/((n+1)*2)),s=-s}return s}ZigZagModifier.prototype.processPath=function(t,e,r,n){var o=t._length,s=shapePool.newElement();if(s.c=t.c,t.c||(o-=1),o===0)return s;var c=-1,d=PolynomialBezier.shapeSegment(t,0);zigZagCorner(s,t,0,e,r,n,c);for(var u=0;u<o;u+=1)c=zigZagSegment(s,d,e,r,n,-c),u===o-1&&!t.c?d=null:d=PolynomialBezier.shapeSegment(t,(u+1)%o),zigZagCorner(s,t,u+1,e,r,n,c);return s},ZigZagModifier.prototype.processShapes=function(t){var e,r,n=this.shapes.length,o,s,c=this.amplitude.v,d=Math.max(0,Math.round(this.frequency.v)),u=this.pointsType.v;if(c!==0){var m,_;for(r=0;r<n;r+=1){if(m=this.shapes[r],_=m.localShapeCollection,!(!m.shape._mdf&&!this._mdf&&!t))for(_.releaseShapes(),m.shape._mdf=!0,e=m.shape.paths.shapes,s=m.shape.paths._length,o=0;o<s;o+=1)_.addShape(this.processPath(e[o],c,d,u));m.shape.paths=m.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(t,e,r){var n=Math.atan2(e[0]-t[0],e[1]-t[1]);return[polarOffset(t,n,r),polarOffset(e,n,r)]}function offsetSegment(t,e){var r,n,o,s,c,d,u;u=linearOffset(t.points[0],t.points[1],e),r=u[0],n=u[1],u=linearOffset(t.points[1],t.points[2],e),o=u[0],s=u[1],u=linearOffset(t.points[2],t.points[3],e),c=u[0],d=u[1];var m=lineIntersection(r,n,o,s);m===null&&(m=n);var _=lineIntersection(c,d,o,s);return _===null&&(_=c),new PolynomialBezier(r,m,_,d)}function joinLines(t,e,r,n,o){var s=e.points[3],c=r.points[0];if(n===3||pointEqual(s,c))return s;if(n===2){var d=-e.tangentAngle(1),u=-r.tangentAngle(0)+Math.PI,m=lineIntersection(s,polarOffset(s,d+Math.PI/2,100),c,polarOffset(c,d+Math.PI/2,100)),_=m?pointDistance(m,s):pointDistance(s,c)/2,g=polarOffset(s,d,2*_*roundCorner);return t.setXYAt(g[0],g[1],"o",t.length()-1),g=polarOffset(c,u,2*_*roundCorner),t.setTripleAt(c[0],c[1],c[0],c[1],g[0],g[1],t.length()),c}var f=pointEqual(s,e.points[2])?e.points[0]:e.points[2],y=pointEqual(c,r.points[1])?r.points[3]:r.points[1],M=lineIntersection(f,s,c,y);return M&&pointDistance(M,s)<o?(t.setTripleAt(M[0],M[1],M[0],M[1],M[0],M[1],t.length()),M):s}function getIntersection(t,e){var r=t.intersections(e);return r.length&&floatEqual(r[0][0],1)&&r.shift(),r.length?r[0]:null}function pruneSegmentIntersection(t,e){var r=t.slice(),n=e.slice(),o=getIntersection(t[t.length-1],e[0]);return o&&(r[t.length-1]=t[t.length-1].split(o[0])[0],n[0]=e[0].split(o[1])[1]),t.length>1&&e.length>1&&(o=getIntersection(t[0],e[e.length-1]),o)?[[t[0].split(o[0])[0]],[e[e.length-1].split(o[1])[1]]]:[r,n]}function pruneIntersections(t){for(var e,r=1;r<t.length;r+=1)e=pruneSegmentIntersection(t[r-1],t[r]),t[r-1]=e[0],t[r]=e[1];return t.length>1&&(e=pruneSegmentIntersection(t[t.length-1],t[0]),t[t.length-1]=e[0],t[0]=e[1]),t}function offsetSegmentSplit(t,e){var r=t.inflectionPoints(),n,o,s,c;if(r.length===0)return[offsetSegment(t,e)];if(r.length===1||floatEqual(r[1],1))return s=t.split(r[0]),n=s[0],o=s[1],[offsetSegment(n,e),offsetSegment(o,e)];s=t.split(r[0]),n=s[0];var d=(r[1]-r[0])/(1-r[0]);return s=s[1].split(d),c=s[0],o=s[1],[offsetSegment(n,e),offsetSegment(c,e),offsetSegment(o,e)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this.miterLimit=PropertyFactory.getProp(t,e.ml,0,null,this),this.lineJoin=e.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(t,e,r,n){var o=shapePool.newElement();o.c=t.c;var s=t.length();t.c||(s-=1);var c,d,u,m=[];for(c=0;c<s;c+=1)u=PolynomialBezier.shapeSegment(t,c),m.push(offsetSegmentSplit(u,e));if(!t.c)for(c=s-1;c>=0;c-=1)u=PolynomialBezier.shapeSegmentInverted(t,c),m.push(offsetSegmentSplit(u,e));m=pruneIntersections(m);var _=null,g=null;for(c=0;c<m.length;c+=1){var f=m[c];for(g&&(_=joinLines(o,g,f[0],r,n)),g=f[f.length-1],d=0;d<f.length;d+=1)u=f[d],_&&pointEqual(u.points[0],_)?o.setXYAt(u.points[1][0],u.points[1][1],"o",o.length()-1):o.setTripleAt(u.points[0][0],u.points[0][1],u.points[1][0],u.points[1][1],u.points[0][0],u.points[0][1],o.length()),o.setTripleAt(u.points[3][0],u.points[3][1],u.points[3][0],u.points[3][1],u.points[2][0],u.points[2][1],o.length()),_=u.points[3]}return m.length&&joinLines(o,g,m[0][0],r,n),o},OffsetPathModifier.prototype.processShapes=function(t){var e,r,n=this.shapes.length,o,s,c=this.amount.v,d=this.miterLimit.v,u=this.lineJoin;if(c!==0){var m,_;for(r=0;r<n;r+=1){if(m=this.shapes[r],_=m.localShapeCollection,!(!m.shape._mdf&&!this._mdf&&!t))for(_.releaseShapes(),m.shape._mdf=!0,e=m.shape.paths.shapes,s=m.shape.paths._length,o=0;o<s;o+=1)_.addShape(this.processPath(e[o],c,u,d));m.shape.paths=m.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(t){for(var e=t.fStyle?t.fStyle.split(" "):[],r="normal",n="normal",o=e.length,s,c=0;c<o;c+=1)switch(s=e[c].toLowerCase(),s){case"italic":n="italic";break;case"bold":r="700";break;case"black":r="900";break;case"medium":r="500";break;case"regular":case"normal":r="400";break;case"light":case"thin":r="200";break}return{style:n,weight:t.fWeight||r}}var FontManager=function(){var t=5e3,e={w:0,size:0,shapes:[],data:{shapes:[]}},r=[];r=r.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var n=127988,o=917631,s=917601,c=917626,d=65039,u=8205,m=127462,_=127487,g=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function f(K){var q=K.split(","),D,z=q.length,J=[];for(D=0;D<z;D+=1)q[D]!=="sans-serif"&&q[D]!=="monospace"&&J.push(q[D]);return J.join(",")}function y(K,q){var D=createTag("span");D.setAttribute("aria-hidden",!0),D.style.fontFamily=q;var z=createTag("span");z.innerText="giItT1WQy@!-/#",D.style.position="absolute",D.style.left="-10000px",D.style.top="-10000px",D.style.fontSize="300px",D.style.fontVariant="normal",D.style.fontStyle="normal",D.style.fontWeight="normal",D.style.letterSpacing="0",D.appendChild(z),document.body.appendChild(D);var J=z.offsetWidth;return z.style.fontFamily=f(K)+", "+q,{node:z,w:J,parent:D}}function M(){var K,q=this.fonts.length,D,z,J=q;for(K=0;K<q;K+=1)this.fonts[K].loaded?J-=1:this.fonts[K].fOrigin==="n"||this.fonts[K].origin===0?this.fonts[K].loaded=!0:(D=this.fonts[K].monoCase.node,z=this.fonts[K].monoCase.w,D.offsetWidth!==z?(J-=1,this.fonts[K].loaded=!0):(D=this.fonts[K].sansCase.node,z=this.fonts[K].sansCase.w,D.offsetWidth!==z&&(J-=1,this.fonts[K].loaded=!0)),this.fonts[K].loaded&&(this.fonts[K].sansCase.parent.parentNode.removeChild(this.fonts[K].sansCase.parent),this.fonts[K].monoCase.parent.parentNode.removeChild(this.fonts[K].monoCase.parent)));J!==0&&Date.now()-this.initTime<t?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function T(K,q){var D=document.body&&q?"svg":"canvas",z,J=getFontProperties(K);if(D==="svg"){var ie=createNS("text");ie.style.fontSize="100px",ie.setAttribute("font-family",K.fFamily),ie.setAttribute("font-style",J.style),ie.setAttribute("font-weight",J.weight),ie.textContent="1",K.fClass?(ie.style.fontFamily="inherit",ie.setAttribute("class",K.fClass)):ie.style.fontFamily=K.fFamily,q.appendChild(ie),z=ie}else{var fe=new OffscreenCanvas(500,500).getContext("2d");fe.font=J.style+" "+J.weight+" 100px "+K.fFamily,z=fe}function ee(Z){return D==="svg"?(z.textContent=Z,z.getComputedTextLength()):z.measureText(Z).width}return{measureText:ee}}function A(K,q){if(!K){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=K.list;return}if(!document.body){this.isLoaded=!0,K.list.forEach(function(we){we.helper=T(we),we.cache={}}),this.fonts=K.list;return}var D=K.list,z,J=D.length,ie=J;for(z=0;z<J;z+=1){var fe=!0,ee,Z;if(D[z].loaded=!1,D[z].monoCase=y(D[z].fFamily,"monospace"),D[z].sansCase=y(D[z].fFamily,"sans-serif"),!D[z].fPath)D[z].loaded=!0,ie-=1;else if(D[z].fOrigin==="p"||D[z].origin===3){if(ee=document.querySelectorAll('style[f-forigin="p"][f-family="'+D[z].fFamily+'"], style[f-origin="3"][f-family="'+D[z].fFamily+'"]'),ee.length>0&&(fe=!1),fe){var te=createTag("style");te.setAttribute("f-forigin",D[z].fOrigin),te.setAttribute("f-origin",D[z].origin),te.setAttribute("f-family",D[z].fFamily),te.type="text/css",te.innerText="@font-face {font-family: "+D[z].fFamily+"; font-style: normal; src: url('"+D[z].fPath+"');}",q.appendChild(te)}}else if(D[z].fOrigin==="g"||D[z].origin===1){for(ee=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),Z=0;Z<ee.length;Z+=1)ee[Z].href.indexOf(D[z].fPath)!==-1&&(fe=!1);if(fe){var de=createTag("link");de.setAttribute("f-forigin",D[z].fOrigin),de.setAttribute("f-origin",D[z].origin),de.type="text/css",de.rel="stylesheet",de.href=D[z].fPath,document.body.appendChild(de)}}else if(D[z].fOrigin==="t"||D[z].origin===2){for(ee=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),Z=0;Z<ee.length;Z+=1)D[z].fPath===ee[Z].src&&(fe=!1);if(fe){var Y=createTag("link");Y.setAttribute("f-forigin",D[z].fOrigin),Y.setAttribute("f-origin",D[z].origin),Y.setAttribute("rel","stylesheet"),Y.setAttribute("href",D[z].fPath),q.appendChild(Y)}}D[z].helper=T(D[z],q),D[z].cache={},this.fonts.push(D[z])}ie===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function E(K){if(K){this.chars||(this.chars=[]);var q,D=K.length,z,J=this.chars.length,ie;for(q=0;q<D;q+=1){for(z=0,ie=!1;z<J;)this.chars[z].style===K[q].style&&this.chars[z].fFamily===K[q].fFamily&&this.chars[z].ch===K[q].ch&&(ie=!0),z+=1;ie||(this.chars.push(K[q]),J+=1)}}}function C(K,q,D){for(var z=0,J=this.chars.length;z<J;){if(this.chars[z].ch===K&&this.chars[z].style===q&&this.chars[z].fFamily===D)return this.chars[z];z+=1}return(typeof K=="string"&&K.charCodeAt(0)!==13||!K)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",K,q,D)),e}function k(K,q,D){var z=this.getFontByName(q),J=K;if(!z.cache[J]){var ie=z.helper;if(K===" "){var fe=ie.measureText("|"+K+"|"),ee=ie.measureText("||");z.cache[J]=(fe-ee)/100}else z.cache[J]=ie.measureText(K)/100}return z.cache[J]*D}function O(K){for(var q=0,D=this.fonts.length;q<D;){if(this.fonts[q].fName===K)return this.fonts[q];q+=1}return this.fonts[0]}function I(K){var q=0,D=K.charCodeAt(0);if(D>=55296&&D<=56319){var z=K.charCodeAt(1);z>=56320&&z<=57343&&(q=(D-55296)*1024+z-56320+65536)}return q}function B(K,q){var D=K.toString(16)+q.toString(16);return g.indexOf(D)!==-1}function j(K){return K===u}function U(K){return K===d}function N(K){var q=I(K);return q>=m&&q<=_}function W(K){return N(K.substr(0,2))&&N(K.substr(2,2))}function ne(K){return r.indexOf(K)!==-1}function re(K,q){var D=I(K.substr(q,2));if(D!==n)return!1;var z=0;for(q+=2;z<5;){if(D=I(K.substr(q,2)),D<s||D>c)return!1;z+=1,q+=2}return I(K.substr(q,2))===o}function le(){this.isLoaded=!0}var ae=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};ae.isModifier=B,ae.isZeroWidthJoiner=j,ae.isFlagEmoji=W,ae.isRegionalCode=N,ae.isCombinedCharacter=ne,ae.isRegionalFlag=re,ae.isVariationSelector=U,ae.BLACK_FLAG_CODE_POINT=n;var pe={addChars:E,addFonts:A,getCharData:C,getFontByName:O,measureText:k,checkLoadedFonts:M,setIsLoaded:le};return ae.prototype=pe,ae}();function SlotManager(t){this.animationData=t}SlotManager.prototype.getProp=function(t){return this.animationData.slots&&this.animationData.slots[t.sid]?Object.assign(t,this.animationData.slots[t.sid].p):t};function slotFactory(t){return new SlotManager(t)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(t){this.renderableComponents.indexOf(t)===-1&&this.renderableComponents.push(t)},removeRenderableComponent:function(t){this.renderableComponents.indexOf(t)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)},prepareRenderableFrame:function(t){this.checkLayerLimits(t)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var t,e=this.renderableComponents.length;for(t=0;t<e;t+=1)this.renderableComponents[t].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var t={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(e){return t[e]||""}}();function SliderEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function AngleEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function ColorEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,1,0,r)}function PointEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,1,0,r)}function LayerIndexEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function MaskIndexEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function CheckboxEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function NoValueEffect(){this.p={}}function EffectsManager(t,e){var r=t.ef||[];this.effectElements=[];var n,o=r.length,s;for(n=0;n<o;n+=1)s=new GroupEffect(r[n],e),this.effectElements.push(s)}function GroupEffect(t,e){this.init(t,e)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(t,e){this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(e);var r,n=this.data.ef.length,o,s=this.data.ef;for(r=0;r<n;r+=1){switch(o=null,s[r].ty){case 0:o=new SliderEffect(s[r],e,this);break;case 1:o=new AngleEffect(s[r],e,this);break;case 2:o=new ColorEffect(s[r],e,this);break;case 3:o=new PointEffect(s[r],e,this);break;case 4:case 7:o=new CheckboxEffect(s[r],e,this);break;case 10:o=new LayerIndexEffect(s[r],e,this);break;case 11:o=new MaskIndexEffect(s[r],e,this);break;case 5:o=new EffectsManager(s[r],e);break;default:o=new NoValueEffect(s[r]);break}o&&this.effectElements.push(o)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var t=0,e=this.data.masksProperties.length;t<e;){if(this.data.masksProperties[t].mode!=="n"&&this.data.masksProperties[t].cl!==!1)return!0;t+=1}return!1},initExpressions:function(){var t=getExpressionInterfaces();if(t){var e=t("layer"),r=t("effects"),n=t("shape"),o=t("text"),s=t("comp");this.layerInterface=e(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var c=r.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(c),this.data.ty===0||this.data.xt?this.compInterface=s(this):this.data.ty===4?(this.layerInterface.shapeInterface=n(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=o(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var t=getBlendMode(this.data.bm),e=this.baseElement||this.layerElement;e.style["mix-blend-mode"]=t},initBaseData:function(t,e,r){this.globalData=e,this.comp=r,this.data=t,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(t,e){var r,n=this.dynamicProperties.length;for(r=0;r<n;r+=1)(e||this._isParent&&this.dynamicProperties[r].propType==="transform")&&(this.dynamicProperties[r].getValue(),this.dynamicProperties[r]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(t){this.dynamicProperties.indexOf(t)===-1&&this.dynamicProperties.push(t)}};function FootageElement(t,e,r){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.footageData=e.imageLoader.getAsset(this.assetData),this.initBaseData(t,e,r)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var t=getExpressionInterfaces();if(t){var e=t("footage");this.layerInterface=e(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(t,e,r){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.initBaseData(t,e,r),this._isPlaying=!1,this._canPlay=!1;var n=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(n),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,t.au&&t.au.lv?t.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(t){if(this.prepareRenderableFrame(t,!0),this.prepareProperties(t,!0),this.tm._placeholder)this._currentTime=t/this.data.sr;else{var e=this.tm.v;this._currentTime=e}this._volume=this.lv.v[0];var r=this._volume*this._volumeMultiplier;this._previousVolume!==r&&(this._previousVolume=r,this.audio.volume(r))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(t){this.audio.rate(t)},AudioElement.prototype.volume=function(t){this._volumeMultiplier=t,this._previousVolume=t*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(t){var e,r=this.layers.length,n;for(this.completeLayers=!0,e=r-1;e>=0;e-=1)this.elements[e]||(n=this.layers[e],n.ip-n.st<=t-this.layers[e].st&&n.op-n.st>t-this.layers[e].st&&this.buildItem(e)),this.completeLayers=this.elements[e]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 6:return this.createAudio(t);case 13:return this.createCamera(t);case 15:return this.createFootage(t);default:return this.createNull(t)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(t){return new AudioElement(t,this.globalData,this)},BaseRenderer.prototype.createFootage=function(t){return new FootageElement(t,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){this.completeLayers=!1;var e,r=t.length,n,o=this.layers.length;for(e=0;e<r;e+=1)for(n=0;n<o;){if(this.layers[n].id===t[e].id){this.layers[n]=t[e];break}n+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,e,r){for(var n=this.elements,o=this.layers,s=0,c=o.length;s<c;)o[s].ind==e&&(!n[s]||n[s]===!0?(this.buildItem(s),this.addPendingElement(t)):(r.push(n[s]),n[s].setAsParent(),o[s].parent!==void 0?this.buildElementParenting(t,o[s].parent,r):t.setHierarchy(r))),s+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},BaseRenderer.prototype.searchExtraCompositions=function(t){var e,r=t.length;for(e=0;e<r;e+=1)if(t[e].xt){var n=this.createComp(t[e]);n.initExpressions(),this.globalData.projectInterface.registerComposition(n)}},BaseRenderer.prototype.getElementById=function(t){var e,r=this.elements.length;for(e=0;e<r;e+=1)if(this.elements[e].data.ind===t)return this.elements[e];return null},BaseRenderer.prototype.getElementByPath=function(t){var e=t.shift(),r;if(typeof e=="number")r=this.elements[e];else{var n,o=this.elements.length;for(n=0;n<o;n+=1)if(this.elements[n].data.nm===e){r=this.elements[n];break}}return t.length===0?r:r.getElementByPath(t)},BaseRenderer.prototype.setupGlobalData=function(t,e){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(t),this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var t=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:t,localMat:t,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var t,e=this.finalTransform.mat,r=0,n=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;r<n;){if(this.hierarchy[r].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}r+=1}if(this.finalTransform._matMdf)for(t=this.finalTransform.mProp.v.props,e.cloneFromProps(t),r=0;r<n;r+=1)e.multiply(this.hierarchy[r].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var t=0,e=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;t<e;)this.localTransforms[t]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[t]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),t+=1;if(this.finalTransform._localMatMdf){var r=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(r),t=1;t<e;t+=1){var n=this.localTransforms[t].matrix;r.multiply(n)}r.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var o=this.finalTransform.localOpacity;for(t=0;t<e;t+=1)o*=this.localTransforms[t].opacity*.01;this.finalTransform.localOpacity=o}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var t=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(t.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var e=0,r=t.length;for(e=0;e<r;e+=1)this.localTransforms.push(t[e])}}},globalToLocal:function(t){var e=[];e.push(this.finalTransform);for(var r=!0,n=this.comp;r;)n.finalTransform?(n.data.hasMask&&e.splice(0,0,n.finalTransform),n=n.comp):r=!1;var o,s=e.length,c;for(o=0;o<s;o+=1)c=e[o].mat.applyToPointArray(0,0,0),t=[t[0]-c[0],t[1]-c[1],0];return t},mHelper:new Matrix};function MaskElement(t,e,r){this.data=t,this.element=e,this.globalData=r,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var n=this.globalData.defs,o,s=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(s),this.solidPath="";var c,d=this.masksProperties,u=0,m=[],_,g,f=createElementID(),y,M,T,A,E="clipPath",C="clip-path";for(o=0;o<s;o+=1)if((d[o].mode!=="a"&&d[o].mode!=="n"||d[o].inv||d[o].o.k!==100||d[o].o.x)&&(E="mask",C="mask"),(d[o].mode==="s"||d[o].mode==="i")&&u===0?(y=createNS("rect"),y.setAttribute("fill","#ffffff"),y.setAttribute("width",this.element.comp.data.w||0),y.setAttribute("height",this.element.comp.data.h||0),m.push(y)):y=null,c=createNS("path"),d[o].mode==="n")this.viewData[o]={op:PropertyFactory.getProp(this.element,d[o].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,d[o],3),elem:c,lastPath:""},n.appendChild(c);else{u+=1,c.setAttribute("fill",d[o].mode==="s"?"#000000":"#ffffff"),c.setAttribute("clip-rule","nonzero");var k;if(d[o].x.k!==0?(E="mask",C="mask",A=PropertyFactory.getProp(this.element,d[o].x,0,null,this.element),k=createElementID(),M=createNS("filter"),M.setAttribute("id",k),T=createNS("feMorphology"),T.setAttribute("operator","erode"),T.setAttribute("in","SourceGraphic"),T.setAttribute("radius","0"),M.appendChild(T),n.appendChild(M),c.setAttribute("stroke",d[o].mode==="s"?"#000000":"#ffffff")):(T=null,A=null),this.storedData[o]={elem:c,x:A,expan:T,lastPath:"",lastOperator:"",filterId:k,lastRadius:0},d[o].mode==="i"){g=m.length;var O=createNS("g");for(_=0;_<g;_+=1)O.appendChild(m[_]);var I=createNS("mask");I.setAttribute("mask-type","alpha"),I.setAttribute("id",f+"_"+u),I.appendChild(c),n.appendChild(I),O.setAttribute("mask","url("+getLocationHref()+"#"+f+"_"+u+")"),m.length=0,m.push(O)}else m.push(c);d[o].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[o]={elem:c,lastPath:"",op:PropertyFactory.getProp(this.element,d[o].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,d[o],3),invRect:y},this.viewData[o].prop.k||this.drawPath(d[o],this.viewData[o].prop.v,this.viewData[o])}for(this.maskElement=createNS(E),s=m.length,o=0;o<s;o+=1)this.maskElement.appendChild(m[o]);u>0&&(this.maskElement.setAttribute("id",f),this.element.maskedElement.setAttribute(C,"url("+getLocationHref()+"#"+f+")"),n.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.renderFrame=function(t){var e=this.element.finalTransform.mat,r,n=this.masksProperties.length;for(r=0;r<n;r+=1)if((this.viewData[r].prop._mdf||t)&&this.drawPath(this.masksProperties[r],this.viewData[r].prop.v,this.viewData[r]),(this.viewData[r].op._mdf||t)&&this.viewData[r].elem.setAttribute("fill-opacity",this.viewData[r].op.v),this.masksProperties[r].mode!=="n"&&(this.viewData[r].invRect&&(this.element.finalTransform.mProp._mdf||t)&&this.viewData[r].invRect.setAttribute("transform",e.getInverseMatrix().to2dCSS()),this.storedData[r].x&&(this.storedData[r].x._mdf||t))){var o=this.storedData[r].expan;this.storedData[r].x.v<0?(this.storedData[r].lastOperator!=="erode"&&(this.storedData[r].lastOperator="erode",this.storedData[r].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[r].filterId+")")),o.setAttribute("radius",-this.storedData[r].x.v)):(this.storedData[r].lastOperator!=="dilate"&&(this.storedData[r].lastOperator="dilate",this.storedData[r].elem.setAttribute("filter",null)),this.storedData[r].elem.setAttribute("stroke-width",this.storedData[r].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,t+=" h-"+this.globalData.compSize.w,t+=" v-"+this.globalData.compSize.h+" ",t},MaskElement.prototype.drawPath=function(t,e,r){var n=" M"+e.v[0][0]+","+e.v[0][1],o,s;for(s=e._length,o=1;o<s;o+=1)n+=" C"+e.o[o-1][0]+","+e.o[o-1][1]+" "+e.i[o][0]+","+e.i[o][1]+" "+e.v[o][0]+","+e.v[o][1];if(e.c&&s>1&&(n+=" C"+e.o[o-1][0]+","+e.o[o-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),r.lastPath!==n){var c="";r.elem&&(e.c&&(c=t.inv?this.solidPath+n:n),r.elem.setAttribute("d",c)),r.lastPath=n}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var t={};t.createFilter=e,t.createAlphaToLuminanceFilter=r;function e(n,o){var s=createNS("filter");return s.setAttribute("id",n),o!==!0&&(s.setAttribute("filterUnits","objectBoundingBox"),s.setAttribute("x","0%"),s.setAttribute("y","0%"),s.setAttribute("width","100%"),s.setAttribute("height","100%")),s}function r(){var n=createNS("feColorMatrix");return n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),n}return t}(),featureSupport=function(){var t={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(t.maskType=!1),/firefox/i.test(navigator.userAgent)&&(t.svgLumaHidden=!1),t}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(t){var e,r="SourceGraphic",n=t.data.ef?t.data.ef.length:0,o=createElementID(),s=filtersFactory.createFilter(o,!0),c=0;this.filters=[];var d;for(e=0;e<n;e+=1){d=null;var u=t.data.ef[e].ty;if(registeredEffects$1[u]){var m=registeredEffects$1[u].effect;d=new m(s,t.effectsManager.effectElements[e],t,idPrefix+c,r),r=idPrefix+c,registeredEffects$1[u].countsAsEffect&&(c+=1)}d&&this.filters.push(d)}c&&(t.globalData.defs.appendChild(s),t.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+o+")")),this.filters.length&&t.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(t){var e,r=this.filters.length;for(e=0;e<r;e+=1)this.filters[e].renderFrame(t)},SVGEffects.prototype.getEffects=function(t){var e,r=this.filters.length,n=[];for(e=0;e<r;e+=1)this.filters[e].type===t&&n.push(this.filters[e]);return n};function registerEffect$1(t,e,r){registeredEffects$1[t]={effect:e,countsAsEffect:r}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var t=null;if(this.data.td){this.matteMasks={};var e=createNS("g");e.setAttribute("id",this.layerId),e.appendChild(this.layerElement),t=e,this.globalData.defs.appendChild(e)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),t=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var r=createNS("clipPath"),n=createNS("path");n.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var o=createElementID();if(r.setAttribute("id",o),r.appendChild(n),this.globalData.defs.appendChild(r),this.checkMasks()){var s=createNS("g");s.setAttribute("clip-path","url("+getLocationHref()+"#"+o+")"),s.appendChild(this.layerElement),this.transformedElement=s,t?t.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+o+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(t){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[t]){var e=this.layerId+"_"+t,r,n,o,s;if(t===1||t===3){var c=createNS("mask");c.setAttribute("id",e),c.setAttribute("mask-type",t===3?"luminance":"alpha"),o=createNS("use"),o.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),c.appendChild(o),this.globalData.defs.appendChild(c),!featureSupport.maskType&&t===1&&(c.setAttribute("mask-type","luminance"),r=createElementID(),n=filtersFactory.createFilter(r),this.globalData.defs.appendChild(n),n.appendChild(filtersFactory.createAlphaToLuminanceFilter()),s=createNS("g"),s.appendChild(o),c.appendChild(s),s.setAttribute("filter","url("+getLocationHref()+"#"+r+")"))}else if(t===2){var d=createNS("mask");d.setAttribute("id",e),d.setAttribute("mask-type","alpha");var u=createNS("g");d.appendChild(u),r=createElementID(),n=filtersFactory.createFilter(r);var m=createNS("feComponentTransfer");m.setAttribute("in","SourceGraphic"),n.appendChild(m);var _=createNS("feFuncA");_.setAttribute("type","table"),_.setAttribute("tableValues","1.0 0.0"),m.appendChild(_),this.globalData.defs.appendChild(n);var g=createNS("rect");g.setAttribute("width",this.comp.data.w),g.setAttribute("height",this.comp.data.h),g.setAttribute("x","0"),g.setAttribute("y","0"),g.setAttribute("fill","#ffffff"),g.setAttribute("opacity","0"),u.setAttribute("filter","url("+getLocationHref()+"#"+r+")"),u.appendChild(g),o=createNS("use"),o.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),u.appendChild(o),featureSupport.maskType||(d.setAttribute("mask-type","luminance"),n.appendChild(filtersFactory.createAlphaToLuminanceFilter()),s=createNS("g"),u.appendChild(g),s.appendChild(this.layerElement),u.appendChild(s)),this.globalData.defs.appendChild(d)}this.matteMasks[t]=e}return this.matteMasks[t]},setMatte:function(t){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+t+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(t){this.hierarchy=t},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var t={initElement:function(e,r,n){this.initFrame(),this.initBaseData(e,r,n),this.initTransform(e,r,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var e=this.baseElement||this.layerElement;e.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var e=this.baseElement||this.layerElement;e.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(t)],RenderableDOMElement)})();function IImageElement(t,e,r){this.assetData=e.getAssetData(t.refId),this.assetData&&this.assetData.sid&&(this.assetData=e.slotManager.getProp(this.assetData)),this.initElement(t,e,r),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(t,e){this.elem=t,this.pos=e}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(t){var e,r=this.shapeModifiers.length;for(e=0;e<r;e+=1)this.shapeModifiers[e].addShape(t)},isShapeInAnimatedModifiers:function(t){for(var e=0,r=this.shapeModifiers.length;e<r;)if(this.shapeModifiers[e].isAnimatedWithShape(t))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var t,e=this.shapes.length;for(t=0;t<e;t+=1)this.shapes[t].sh.reset();e=this.shapeModifiers.length;var r;for(t=e-1;t>=0&&(r=this.shapeModifiers[t].processShapes(this._isFirstFrame),!r);t-=1);}},searchProcessedElement:function(t){for(var e=this.processedElements,r=0,n=e.length;r<n;){if(e[r].elem===t)return e[r].pos;r+=1}return 0},addProcessedElement:function(t,e){for(var r=this.processedElements,n=r.length;n;)if(n-=1,r[n].elem===t){r[n].pos=e;return}r.push(new ProcessedElement(t,e))},prepareFrame:function(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(t,e,r){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=r,this.lvl=e,this._isAnimated=!!r.k;for(var n=0,o=t.length;n<o;){if(t[n].mProps.dynamicProperties.length){this._isAnimated=!0;break}n+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(t,e){this.data=t,this.type=t.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=t.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(t,e,r,n){this.elem=t,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=r,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(n);var o,s=e.length||0,c;for(o=0;o<s;o+=1)c=PropertyFactory.getProp(t,e[o].v,0,0,this),this.k=c.k||this.k,this.dataProps[o]={n:e[o].n,p:c};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(t){if(!(this.elem.globalData.frameId===this.frameId&&!t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var e=0,r=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),e=0;e<r;e+=1)this.dataProps[e].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=r,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=r}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.style=r}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(t,e,r){this.data=e,this.c=createTypedArray("uint8c",e.p*4);var n=e.k.k[0].s?e.k.k[0].s.length-e.p*4:e.k.k.length-e.p*4;this.o=createTypedArray("float32",n),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=n,this.initDynamicPropertyContainer(r),this.prop=PropertyFactory.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(t,e){for(var r=0,n=this.o.length/2,o;r<n;){if(o=Math.abs(t[r*4]-t[e*4+r*2]),o>.01)return!1;r+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,e=this.data.k.k.length;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var e,r=this.data.p*4,n,o;for(e=0;e<r;e+=1)n=e%4===0?100:255,o=Math.round(this.prop.v[e]*n),this.c[e]!==o&&(this.c[e]=o,this._cmdf=!t);if(this.o.length)for(r=this.prop.v.length,e=this.data.p*4;e<r;e+=1)n=e%2===0?100:1,o=e%2===0?Math.round(this.prop.v[e]*100):this.prop.v[e],this.o[e-this.data.p*4]!==o&&(this.o[e-this.data.p*4]=o,this._omdf=!t);this._mdf=!t}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,r)}SVGGradientFillStyleData.prototype.initGradientData=function(t,e,r){this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.s=PropertyFactory.getProp(t,e.s,1,null,this),this.e=PropertyFactory.getProp(t,e.e,1,null,this),this.h=PropertyFactory.getProp(t,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(t,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(t,e.g,this),this.style=r,this.stops=[],this.setGradientData(r.pElem,e),this.setGradientOpacity(e,r),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(t,e){var r=createElementID(),n=createNS(e.t===1?"linearGradient":"radialGradient");n.setAttribute("id",r),n.setAttribute("spreadMethod","pad"),n.setAttribute("gradientUnits","userSpaceOnUse");var o=[],s,c,d;for(d=e.g.p*4,c=0;c<d;c+=4)s=createNS("stop"),n.appendChild(s),o.push(s);t.setAttribute(e.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+r+")"),this.gf=n,this.cst=o},SVGGradientFillStyleData.prototype.setGradientOpacity=function(t,e){if(this.g._hasOpacity&&!this.g._collapsable){var r,n,o,s=createNS("mask"),c=createNS("path");s.appendChild(c);var d=createElementID(),u=createElementID();s.setAttribute("id",u);var m=createNS(t.t===1?"linearGradient":"radialGradient");m.setAttribute("id",d),m.setAttribute("spreadMethod","pad"),m.setAttribute("gradientUnits","userSpaceOnUse"),o=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var _=this.stops;for(n=t.g.p*4;n<o;n+=2)r=createNS("stop"),r.setAttribute("stop-color","rgb(255,255,255)"),m.appendChild(r),_.push(r);c.setAttribute(t.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+d+")"),t.ty==="gs"&&(c.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),c.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),t.lj===1&&c.setAttribute("stroke-miterlimit",t.ml)),this.of=m,this.ms=s,this.ost=_,this.maskId=u,e.msElem=c}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.initGradientData(t,e,r),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(t,e,r){this.transform={mProps:t,op:e,container:r},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(t,e,r,n){if(e===0)return"";var o=t.o,s=t.i,c=t.v,d,u=" M"+n.applyToPointStringified(c[0][0],c[0][1]);for(d=1;d<e;d+=1)u+=" C"+n.applyToPointStringified(o[d-1][0],o[d-1][1])+" "+n.applyToPointStringified(s[d][0],s[d][1])+" "+n.applyToPointStringified(c[d][0],c[d][1]);return r&&e&&(u+=" C"+n.applyToPointStringified(o[d-1][0],o[d-1][1])+" "+n.applyToPointStringified(s[0][0],s[0][1])+" "+n.applyToPointStringified(c[0][0],c[0][1]),u+="z"),u},SVGElementsRenderer=function(){var t=new Matrix,e=new Matrix,r={createRenderFunction:n};function n(g){switch(g.ty){case"fl":return d;case"gf":return m;case"gs":return u;case"st":return _;case"sh":case"el":case"rc":case"sr":return c;case"tr":return o;case"no":return s;default:return null}}function o(g,f,y){(y||f.transform.op._mdf)&&f.transform.container.setAttribute("opacity",f.transform.op.v),(y||f.transform.mProps._mdf)&&f.transform.container.setAttribute("transform",f.transform.mProps.v.to2dCSS())}function s(){}function c(g,f,y){var M,T,A,E,C,k,O=f.styles.length,I=f.lvl,B,j,U,N;for(k=0;k<O;k+=1){if(E=f.sh._mdf||y,f.styles[k].lvl<I){for(j=e.reset(),U=I-f.styles[k].lvl,N=f.transformers.length-1;!E&&U>0;)E=f.transformers[N].mProps._mdf||E,U-=1,N-=1;if(E)for(U=I-f.styles[k].lvl,N=f.transformers.length-1;U>0;)j.multiply(f.transformers[N].mProps.v),U-=1,N-=1}else j=t;if(B=f.sh.paths,T=B._length,E){for(A="",M=0;M<T;M+=1)C=B.shapes[M],C&&C._length&&(A+=buildShapeString(C,C._length,C.c,j));f.caches[k]=A}else A=f.caches[k];f.styles[k].d+=g.hd===!0?"":A,f.styles[k]._mdf=E||f.styles[k]._mdf}}function d(g,f,y){var M=f.style;(f.c._mdf||y)&&M.pElem.setAttribute("fill","rgb("+bmFloor(f.c.v[0])+","+bmFloor(f.c.v[1])+","+bmFloor(f.c.v[2])+")"),(f.o._mdf||y)&&M.pElem.setAttribute("fill-opacity",f.o.v)}function u(g,f,y){m(g,f,y),_(g,f,y)}function m(g,f,y){var M=f.gf,T=f.g._hasOpacity,A=f.s.v,E=f.e.v;if(f.o._mdf||y){var C=g.ty==="gf"?"fill-opacity":"stroke-opacity";f.style.pElem.setAttribute(C,f.o.v)}if(f.s._mdf||y){var k=g.t===1?"x1":"cx",O=k==="x1"?"y1":"cy";M.setAttribute(k,A[0]),M.setAttribute(O,A[1]),T&&!f.g._collapsable&&(f.of.setAttribute(k,A[0]),f.of.setAttribute(O,A[1]))}var I,B,j,U;if(f.g._cmdf||y){I=f.cst;var N=f.g.c;for(j=I.length,B=0;B<j;B+=1)U=I[B],U.setAttribute("offset",N[B*4]+"%"),U.setAttribute("stop-color","rgb("+N[B*4+1]+","+N[B*4+2]+","+N[B*4+3]+")")}if(T&&(f.g._omdf||y)){var W=f.g.o;for(f.g._collapsable?I=f.cst:I=f.ost,j=I.length,B=0;B<j;B+=1)U=I[B],f.g._collapsable||U.setAttribute("offset",W[B*2]+"%"),U.setAttribute("stop-opacity",W[B*2+1])}if(g.t===1)(f.e._mdf||y)&&(M.setAttribute("x2",E[0]),M.setAttribute("y2",E[1]),T&&!f.g._collapsable&&(f.of.setAttribute("x2",E[0]),f.of.setAttribute("y2",E[1])));else{var ne;if((f.s._mdf||f.e._mdf||y)&&(ne=Math.sqrt(Math.pow(A[0]-E[0],2)+Math.pow(A[1]-E[1],2)),M.setAttribute("r",ne),T&&!f.g._collapsable&&f.of.setAttribute("r",ne)),f.e._mdf||f.h._mdf||f.a._mdf||y){ne||(ne=Math.sqrt(Math.pow(A[0]-E[0],2)+Math.pow(A[1]-E[1],2)));var re=Math.atan2(E[1]-A[1],E[0]-A[0]),le=f.h.v;le>=1?le=.99:le<=-1&&(le=-.99);var ae=ne*le,pe=Math.cos(re+f.a.v)*ae+A[0],K=Math.sin(re+f.a.v)*ae+A[1];M.setAttribute("fx",pe),M.setAttribute("fy",K),T&&!f.g._collapsable&&(f.of.setAttribute("fx",pe),f.of.setAttribute("fy",K))}}}function _(g,f,y){var M=f.style,T=f.d;T&&(T._mdf||y)&&T.dashStr&&(M.pElem.setAttribute("stroke-dasharray",T.dashStr),M.pElem.setAttribute("stroke-dashoffset",T.dashoffset[0])),f.c&&(f.c._mdf||y)&&M.pElem.setAttribute("stroke","rgb("+bmFloor(f.c.v[0])+","+bmFloor(f.c.v[1])+","+bmFloor(f.c.v[2])+")"),(f.o._mdf||y)&&M.pElem.setAttribute("stroke-opacity",f.o.v),(f.w._mdf||y)&&(M.pElem.setAttribute("stroke-width",f.w.v),M.msElem&&M.msElem.setAttribute("stroke-width",f.w.v))}return r}();function SVGShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,r),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var t,e=this.shapes.length,r,n,o=this.stylesList.length,s,c=[],d=!1;for(n=0;n<o;n+=1){for(s=this.stylesList[n],d=!1,c.length=0,t=0;t<e;t+=1)r=this.shapes[t],r.styles.indexOf(s)!==-1&&(c.push(r),d=r._isAnimated||d);c.length>1&&d&&this.setShapesAsAnimated(c)}},SVGShapeElement.prototype.setShapesAsAnimated=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(t,e){var r,n=new SVGStyleData(t,e),o=n.pElem;if(t.ty==="st")r=new SVGStrokeStyleData(this,t,n);else if(t.ty==="fl")r=new SVGFillStyleData(this,t,n);else if(t.ty==="gf"||t.ty==="gs"){var s=t.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;r=new s(this,t,n),this.globalData.defs.appendChild(r.gf),r.maskId&&(this.globalData.defs.appendChild(r.ms),this.globalData.defs.appendChild(r.of),o.setAttribute("mask","url("+getLocationHref()+"#"+r.maskId+")"))}else t.ty==="no"&&(r=new SVGNoStyleData(this,t,n));return(t.ty==="st"||t.ty==="gs")&&(o.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),o.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),o.setAttribute("fill-opacity","0"),t.lj===1&&o.setAttribute("stroke-miterlimit",t.ml)),t.r===2&&o.setAttribute("fill-rule","evenodd"),t.ln&&o.setAttribute("id",t.ln),t.cl&&o.setAttribute("class",t.cl),t.bm&&(o.style["mix-blend-mode"]=getBlendMode(t.bm)),this.stylesList.push(n),this.addToAnimatedContents(t,r),r},SVGShapeElement.prototype.createGroupElement=function(t){var e=new ShapeGroupData;return t.ln&&e.gr.setAttribute("id",t.ln),t.cl&&e.gr.setAttribute("class",t.cl),t.bm&&(e.gr.style["mix-blend-mode"]=getBlendMode(t.bm)),e},SVGShapeElement.prototype.createTransformElement=function(t,e){var r=TransformPropertyFactory.getTransformProperty(this,t,this),n=new SVGTransformData(r,r.o,e);return this.addToAnimatedContents(t,n),n},SVGShapeElement.prototype.createShapeElement=function(t,e,r){var n=4;t.ty==="rc"?n=5:t.ty==="el"?n=6:t.ty==="sr"&&(n=7);var o=ShapePropertyFactory.getShapeProp(this,t,n,this),s=new SVGShapeData(e,r,o);return this.shapes.push(s),this.addShapeToModifiers(s),this.addToAnimatedContents(t,s),s},SVGShapeElement.prototype.addToAnimatedContents=function(t,e){for(var r=0,n=this.animatedContents.length;r<n;){if(this.animatedContents[r].element===e)return;r+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(t),element:e,data:t})},SVGShapeElement.prototype.setElementStyles=function(t){var e=t.styles,r,n=this.stylesList.length;for(r=0;r<n;r+=1)this.stylesList[r].closed||e.push(this.stylesList[r])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(t,e,r,n,o,s,c){var d=[].concat(s),u,m=t.length-1,_,g,f=[],y=[],M,T,A;for(u=m;u>=0;u-=1){if(A=this.searchProcessedElement(t[u]),A?e[u]=r[A-1]:t[u]._render=c,t[u].ty==="fl"||t[u].ty==="st"||t[u].ty==="gf"||t[u].ty==="gs"||t[u].ty==="no")A?e[u].style.closed=!1:e[u]=this.createStyleElement(t[u],o),t[u]._render&&e[u].style.pElem.parentNode!==n&&n.appendChild(e[u].style.pElem),f.push(e[u].style);else if(t[u].ty==="gr"){if(!A)e[u]=this.createGroupElement(t[u]);else for(g=e[u].it.length,_=0;_<g;_+=1)e[u].prevViewData[_]=e[u].it[_];this.searchShapes(t[u].it,e[u].it,e[u].prevViewData,e[u].gr,o+1,d,c),t[u]._render&&e[u].gr.parentNode!==n&&n.appendChild(e[u].gr)}else t[u].ty==="tr"?(A||(e[u]=this.createTransformElement(t[u],n)),M=e[u].transform,d.push(M)):t[u].ty==="sh"||t[u].ty==="rc"||t[u].ty==="el"||t[u].ty==="sr"?(A||(e[u]=this.createShapeElement(t[u],d,o)),this.setElementStyles(e[u])):t[u].ty==="tm"||t[u].ty==="rd"||t[u].ty==="ms"||t[u].ty==="pb"||t[u].ty==="zz"||t[u].ty==="op"?(A?(T=e[u],T.closed=!1):(T=ShapeModifiers.getModifier(t[u].ty),T.init(this,t[u]),e[u]=T,this.shapeModifiers.push(T)),y.push(T)):t[u].ty==="rp"&&(A?(T=e[u],T.closed=!0):(T=ShapeModifiers.getModifier(t[u].ty),e[u]=T,T.init(this,t,u,e),this.shapeModifiers.push(T),c=!1),y.push(T));this.addProcessedElement(t[u],u+1)}for(m=f.length,u=0;u<m;u+=1)f[u].closed=!0;for(m=y.length,u=0;u<m;u+=1)y[u].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<e;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var t,e=this.animatedContents.length,r;for(t=0;t<e;t+=1)r=this.animatedContents[t],(this._isFirstFrame||r.element._isAnimated)&&r.data!==!0&&r.fn(r.data,r.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(t,e,r,n,o,s){this.o=t,this.sw=e,this.sc=r,this.fc=n,this.m=o,this.p=s,this._mdf={o:!0,sw:!!e,sc:!!r,fc:!!n,m:!0,p:!0}}LetterProps.prototype.update=function(t,e,r,n,o,s){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var c=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,c=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,c=!0),this.sc!==r&&(this.sc=r,this._mdf.sc=!0,c=!0),this.fc!==n&&(this.fc=n,this._mdf.fc=!0,c=!0),this.m!==o&&(this.m=o,this._mdf.m=!0,c=!0),s.length&&(this.p[0]!==s[0]||this.p[1]!==s[1]||this.p[4]!==s[4]||this.p[5]!==s[5]||this.p[12]!==s[12]||this.p[13]!==s[13])&&(this.p=s,this._mdf.p=!0,c=!0),c};function TextProperty(t,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,e.d&&e.d.sid&&(e.d=t.globalData.slotManager.getProp(e.d)),this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},TextProperty.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(t){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!t)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,r=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var n,o=this.effectsSequence.length,s=t||this.data.d.k[this.keysIndex].s;for(n=0;n<o;n+=1)r!==this.keysIndex?s=this.effectsSequence[n](s,s.t):s=this.effectsSequence[n](this.currentData,s.t);e!==s&&this.setCurrentData(s),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,e=this.elem.comp.renderedFrame,r=0,n=t.length;r<=n-1&&!(r===n-1||t[r+1].t>e);)r+=1;return this.keysIndex!==r&&(this.keysIndex=r),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(t){for(var e=[],r=0,n=t.length,o,s,c=!1,d=!1,u="";r<n;)c=d,d=!1,o=t.charCodeAt(r),u=t.charAt(r),FontManager.isCombinedCharacter(o)?c=!0:o>=55296&&o<=56319?FontManager.isRegionalFlag(t,r)?u=t.substr(r,14):(s=t.charCodeAt(r+1),s>=56320&&s<=57343&&(FontManager.isModifier(o,s)?(u=t.substr(r,2),c=!0):FontManager.isFlagEmoji(t.substr(r,4))?u=t.substr(r,4):u=t.substr(r,2))):o>56319?(s=t.charCodeAt(r+1),FontManager.isVariationSelector(o)&&(c=!0)):FontManager.isZeroWidthJoiner(o)&&(c=!0,d=!0),c?(e[e.length-1]+=u,c=!1):e.push(u),r+=u.length;return e},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var e=this.elem.globalData.fontManager,r=this.data,n=[],o,s,c,d=0,u,m=r.m.g,_=0,g=0,f=0,y=[],M=0,T=0,A,E,C=e.getFontByName(t.f),k,O=0,I=getFontProperties(C);t.fWeight=I.weight,t.fStyle=I.style,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),s=t.finalText.length,t.finalLineHeight=t.lh;var B=t.tr/1e3*t.finalSize,j;if(t.sz)for(var U=!0,N=t.sz[0],W=t.sz[1],ne,re;U;){re=this.buildFinalText(t.t),ne=0,M=0,s=re.length,B=t.tr/1e3*t.finalSize;var le=-1;for(o=0;o<s;o+=1)j=re[o].charCodeAt(0),c=!1,re[o]===" "?le=o:(j===13||j===3)&&(M=0,c=!0,ne+=t.finalLineHeight||t.finalSize*1.2),e.chars?(k=e.getCharData(re[o],C.fStyle,C.fFamily),O=c?0:k.w*t.finalSize/100):O=e.measureText(re[o],t.f,t.finalSize),M+O>N&&re[o]!==" "?(le===-1?s+=1:o=le,ne+=t.finalLineHeight||t.finalSize*1.2,re.splice(o,le===o?1:0,"\r"),le=-1,M=0):(M+=O,M+=B);ne+=C.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&W<ne?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=re,s=t.finalText.length,U=!1)}M=-B,O=0;var ae=0,pe;for(o=0;o<s;o+=1)if(c=!1,pe=t.finalText[o],j=pe.charCodeAt(0),j===13||j===3?(ae=0,y.push(M),T=M>T?M:T,M=-2*B,u="",c=!0,f+=1):u=pe,e.chars?(k=e.getCharData(pe,C.fStyle,e.getFontByName(t.f).fFamily),O=c?0:k.w*t.finalSize/100):O=e.measureText(u,t.f,t.finalSize),pe===" "?ae+=O+B:(M+=O+B+ae,ae=0),n.push({l:O,an:O,add:_,n:c,anIndexes:[],val:u,line:f,animatorJustifyOffset:0}),m==2){if(_+=O,u===""||u===" "||o===s-1){for((u===""||u===" ")&&(_-=O);g<=o;)n[g].an=_,n[g].ind=d,n[g].extra=O,g+=1;d+=1,_=0}}else if(m==3){if(_+=O,u===""||o===s-1){for(u===""&&(_-=O);g<=o;)n[g].an=_,n[g].ind=d,n[g].extra=O,g+=1;_=0,d+=1}}else n[d].ind=d,n[d].extra=0,d+=1;if(t.l=n,T=M>T?M:T,y.push(M),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=T,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=y;var K=r.a,q,D;E=K.length;var z,J,ie=[];for(A=0;A<E;A+=1){for(q=K[A],q.a.sc&&(t.strokeColorAnim=!0),q.a.sw&&(t.strokeWidthAnim=!0),(q.a.fc||q.a.fh||q.a.fs||q.a.fb)&&(t.fillColorAnim=!0),J=0,z=q.s.b,o=0;o<s;o+=1)D=n[o],D.anIndexes[A]=J,(z==1&&D.val!==""||z==2&&D.val!==""&&D.val!==" "||z==3&&(D.n||D.val==" "||o==s-1)||z==4&&(D.n||o==s-1))&&(q.s.rn===1&&ie.push(J),J+=1);r.a[A].s.totalChars=J;var fe=-1,ee;if(q.s.rn===1)for(o=0;o<s;o+=1)D=n[o],fe!=D.anIndexes[A]&&(fe=D.anIndexes[A],ee=ie.splice(Math.floor(Math.random()*ie.length),1)[0]),D.anIndexes[A]=ee}t.yOffset=t.finalLineHeight||t.finalSize*1.2,t.ls=t.ls||0,t.ascent=C.ascent*t.finalSize/100},TextProperty.prototype.updateDocumentData=function(t,e){e=e===void 0?this.keysIndex:e;var r=this.copyData({},this.data.d.k[e].s);r=this.copyData(r,t),this.data.d.k[e].s=r,this.recalculate(e),this.setCurrentData(r),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(t){var e=this.data.d.k[t].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},TextProperty.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var t=Math.max,e=Math.min,r=Math.floor;function n(s,c){this._currentTextLength=-1,this.k=!1,this.data=c,this.elem=s,this.comp=s.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(s),this.s=PropertyFactory.getProp(s,c.s||{k:0},0,0,this),"e"in c?this.e=PropertyFactory.getProp(s,c.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(s,c.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(s,c.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(s,c.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(s,c.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(s,c.a,0,.01,this),this.dynamicProperties.length||this.getValue()}n.prototype={getMult:function(s){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var c=0,d=0,u=1,m=1;this.ne.v>0?c=this.ne.v/100:d=-this.ne.v/100,this.xe.v>0?u=1-this.xe.v/100:m=1+this.xe.v/100;var _=BezierFactory.getBezierEasing(c,d,u,m).get,g=0,f=this.finalS,y=this.finalE,M=this.data.sh;if(M===2)y===f?g=s>=y?1:0:g=t(0,e(.5/(y-f)+(s-f)/(y-f),1)),g=_(g);else if(M===3)y===f?g=s>=y?0:1:g=1-t(0,e(.5/(y-f)+(s-f)/(y-f),1)),g=_(g);else if(M===4)y===f?g=0:(g=t(0,e(.5/(y-f)+(s-f)/(y-f),1)),g<.5?g*=2:g=1-2*(g-.5)),g=_(g);else if(M===5){if(y===f)g=0;else{var T=y-f;s=e(t(0,s+.5-f),y-f);var A=-T/2+s,E=T/2;g=Math.sqrt(1-A*A/(E*E))}g=_(g)}else M===6?(y===f?g=0:(s=e(t(0,s+.5-f),y-f),g=(1+Math.cos(Math.PI+Math.PI*2*s/(y-f)))/2),g=_(g)):(s>=r(f)&&(s-f<0?g=t(0,e(e(y,1)-(f-s),1)):g=t(0,e(y-s,1))),g=_(g));if(this.sm.v!==100){var C=this.sm.v*.01;C===0&&(C=1e-8);var k=.5-C*.5;g<k?g=0:(g=(g-k)/C,g>1&&(g=1))}return g*this.a.v},getValue:function(s){this.iterateDynamicProperties(),this._mdf=s||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,s&&this.data.r===2&&(this.e.v=this._currentTextLength);var c=this.data.r===2?1:100/this.data.totalChars,d=this.o.v/c,u=this.s.v/c+d,m=this.e.v/c+d;if(u>m){var _=u;u=m,m=_}this.finalS=u,this.finalE=m}},extendPrototype([DynamicPropertyContainer],n);function o(s,c,d){return new n(s,c)}return{getTextSelectorProp:o}}();function TextAnimatorDataProperty(t,e,r){var n={propType:!1},o=PropertyFactory.getProp,s=e.a;this.a={r:s.r?o(t,s.r,0,degToRads,r):n,rx:s.rx?o(t,s.rx,0,degToRads,r):n,ry:s.ry?o(t,s.ry,0,degToRads,r):n,sk:s.sk?o(t,s.sk,0,degToRads,r):n,sa:s.sa?o(t,s.sa,0,degToRads,r):n,s:s.s?o(t,s.s,1,.01,r):n,a:s.a?o(t,s.a,1,0,r):n,o:s.o?o(t,s.o,0,.01,r):n,p:s.p?o(t,s.p,1,0,r):n,sw:s.sw?o(t,s.sw,0,0,r):n,sc:s.sc?o(t,s.sc,1,0,r):n,fc:s.fc?o(t,s.fc,1,0,r):n,fh:s.fh?o(t,s.fh,0,0,r):n,fs:s.fs?o(t,s.fs,0,.01,r):n,fb:s.fb?o(t,s.fb,0,.01,r):n,t:s.t?o(t,s.t,0,0,r):n},this.s=TextSelectorProp.getTextSelectorProp(t,e.s,r),this.s.t=e.s.t}function TextAnimatorProperty(t,e,r){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=r,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(r)}TextAnimatorProperty.prototype.searchProperties=function(){var t,e=this._textData.a.length,r,n=PropertyFactory.getProp;for(t=0;t<e;t+=1)r=this._textData.a[t],this._animatorsData[t]=new TextAnimatorDataProperty(this._elem,r,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:n(this._elem,this._textData.p.a,0,0,this),f:n(this._elem,this._textData.p.f,0,0,this),l:n(this._elem,this._textData.p.l,0,0,this),r:n(this._elem,this._textData.p.r,0,0,this),p:n(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=n(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,!(!this._mdf&&!this._isFirstFrame&&!e&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var r=this._moreOptions.alignment.v,n=this._animatorsData,o=this._textData,s=this.mHelper,c=this._renderType,d=this.renderedLetters.length,u,m,_,g,f=t.l,y,M,T,A,E,C,k,O,I,B,j,U,N,W,ne;if(this._hasMaskedPath){if(ne=this._pathData.m,!this._pathData.n||this._pathData._mdf){var re=ne.v;this._pathData.r.v&&(re=re.reverse()),y={tLength:0,segments:[]},g=re._length-1;var le;for(U=0,_=0;_<g;_+=1)le=bez.buildBezierData(re.v[_],re.v[_+1],[re.o[_][0]-re.v[_][0],re.o[_][1]-re.v[_][1]],[re.i[_+1][0]-re.v[_+1][0],re.i[_+1][1]-re.v[_+1][1]]),y.tLength+=le.segmentLength,y.segments.push(le),U+=le.segmentLength;_=g,ne.v.c&&(le=bez.buildBezierData(re.v[_],re.v[0],[re.o[_][0]-re.v[_][0],re.o[_][1]-re.v[_][1]],[re.i[0][0]-re.v[0][0],re.i[0][1]-re.v[0][1]]),y.tLength+=le.segmentLength,y.segments.push(le),U+=le.segmentLength),this._pathData.pi=y}if(y=this._pathData.pi,M=this._pathData.f.v,k=0,C=1,A=0,E=!0,B=y.segments,M<0&&ne.v.c)for(y.tLength<Math.abs(M)&&(M=-Math.abs(M)%y.tLength),k=B.length-1,I=B[k].points,C=I.length-1;M<0;)M+=I[C].partialLength,C-=1,C<0&&(k-=1,I=B[k].points,C=I.length-1);I=B[k].points,O=I[C-1],T=I[C],j=T.partialLength}g=f.length,u=0,m=0;var ae=t.finalSize*1.2*.714,pe=!0,K,q,D,z,J;z=n.length;var ie,fe=-1,ee,Z,te,de=M,Y=k,we=C,Te=-1,Me,Ae,ue,X,$,ge,ve,me,ce="",Se=this.defaultPropsArray,ye;if(t.j===2||t.j===1){var be=0,he=0,se=t.j===2?-.5:-1,Ee=0,Oe=!0;for(_=0;_<g;_+=1)if(f[_].n){for(be&&(be+=he);Ee<_;)f[Ee].animatorJustifyOffset=be,Ee+=1;be=0,Oe=!0}else{for(D=0;D<z;D+=1)K=n[D].a,K.t.propType&&(Oe&&t.j===2&&(he+=K.t.v*se),q=n[D].s,ie=q.getMult(f[_].anIndexes[D],o.a[D].s.totalChars),ie.length?be+=K.t.v*ie[0]*se:be+=K.t.v*ie*se);Oe=!1}for(be&&(be+=he);Ee<_;)f[Ee].animatorJustifyOffset=be,Ee+=1}for(_=0;_<g;_+=1){if(s.reset(),Me=1,f[_].n)u=0,m+=t.yOffset,m+=pe?1:0,M=de,pe=!1,this._hasMaskedPath&&(k=Y,C=we,I=B[k].points,O=I[C-1],T=I[C],j=T.partialLength,A=0),ce="",me="",ge="",ye="",Se=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Te!==f[_].line){switch(t.j){case 1:M+=U-t.lineWidths[f[_].line];break;case 2:M+=(U-t.lineWidths[f[_].line])/2;break}Te=f[_].line}fe!==f[_].ind&&(f[fe]&&(M+=f[fe].extra),M+=f[_].an/2,fe=f[_].ind),M+=r[0]*f[_].an*.005;var Fe=0;for(D=0;D<z;D+=1)K=n[D].a,K.p.propType&&(q=n[D].s,ie=q.getMult(f[_].anIndexes[D],o.a[D].s.totalChars),ie.length?Fe+=K.p.v[0]*ie[0]:Fe+=K.p.v[0]*ie),K.a.propType&&(q=n[D].s,ie=q.getMult(f[_].anIndexes[D],o.a[D].s.totalChars),ie.length?Fe+=K.a.v[0]*ie[0]:Fe+=K.a.v[0]*ie);for(E=!0,this._pathData.a.v&&(M=f[0].an*.5+(U-this._pathData.f.v-f[0].an*.5-f[f.length-1].an*.5)*fe/(g-1),M+=this._pathData.f.v);E;)A+j>=M+Fe||!I?(N=(M+Fe-A)/T.partialLength,Z=O.point[0]+(T.point[0]-O.point[0])*N,te=O.point[1]+(T.point[1]-O.point[1])*N,s.translate(-r[0]*f[_].an*.005,-(r[1]*ae)*.01),E=!1):I&&(A+=T.partialLength,C+=1,C>=I.length&&(C=0,k+=1,B[k]?I=B[k].points:ne.v.c?(C=0,k=0,I=B[k].points):(A-=T.partialLength,I=null)),I&&(O=T,T=I[C],j=T.partialLength));ee=f[_].an/2-f[_].add,s.translate(-ee,0,0)}else ee=f[_].an/2-f[_].add,s.translate(-ee,0,0),s.translate(-r[0]*f[_].an*.005,-r[1]*ae*.01,0);for(D=0;D<z;D+=1)K=n[D].a,K.t.propType&&(q=n[D].s,ie=q.getMult(f[_].anIndexes[D],o.a[D].s.totalChars),(u!==0||t.j!==0)&&(this._hasMaskedPath?ie.length?M+=K.t.v*ie[0]:M+=K.t.v*ie:ie.length?u+=K.t.v*ie[0]:u+=K.t.v*ie));for(t.strokeWidthAnim&&(ue=t.sw||0),t.strokeColorAnim&&(t.sc?Ae=[t.sc[0],t.sc[1],t.sc[2]]:Ae=[0,0,0]),t.fillColorAnim&&t.fc&&(X=[t.fc[0],t.fc[1],t.fc[2]]),D=0;D<z;D+=1)K=n[D].a,K.a.propType&&(q=n[D].s,ie=q.getMult(f[_].anIndexes[D],o.a[D].s.totalChars),ie.length?s.translate(-K.a.v[0]*ie[0],-K.a.v[1]*ie[1],K.a.v[2]*ie[2]):s.translate(-K.a.v[0]*ie,-K.a.v[1]*ie,K.a.v[2]*ie));for(D=0;D<z;D+=1)K=n[D].a,K.s.propType&&(q=n[D].s,ie=q.getMult(f[_].anIndexes[D],o.a[D].s.totalChars),ie.length?s.scale(1+(K.s.v[0]-1)*ie[0],1+(K.s.v[1]-1)*ie[1],1):s.scale(1+(K.s.v[0]-1)*ie,1+(K.s.v[1]-1)*ie,1));for(D=0;D<z;D+=1){if(K=n[D].a,q=n[D].s,ie=q.getMult(f[_].anIndexes[D],o.a[D].s.totalChars),K.sk.propType&&(ie.length?s.skewFromAxis(-K.sk.v*ie[0],K.sa.v*ie[1]):s.skewFromAxis(-K.sk.v*ie,K.sa.v*ie)),K.r.propType&&(ie.length?s.rotateZ(-K.r.v*ie[2]):s.rotateZ(-K.r.v*ie)),K.ry.propType&&(ie.length?s.rotateY(K.ry.v*ie[1]):s.rotateY(K.ry.v*ie)),K.rx.propType&&(ie.length?s.rotateX(K.rx.v*ie[0]):s.rotateX(K.rx.v*ie)),K.o.propType&&(ie.length?Me+=(K.o.v*ie[0]-Me)*ie[0]:Me+=(K.o.v*ie-Me)*ie),t.strokeWidthAnim&&K.sw.propType&&(ie.length?ue+=K.sw.v*ie[0]:ue+=K.sw.v*ie),t.strokeColorAnim&&K.sc.propType)for($=0;$<3;$+=1)ie.length?Ae[$]+=(K.sc.v[$]-Ae[$])*ie[0]:Ae[$]+=(K.sc.v[$]-Ae[$])*ie;if(t.fillColorAnim&&t.fc){if(K.fc.propType)for($=0;$<3;$+=1)ie.length?X[$]+=(K.fc.v[$]-X[$])*ie[0]:X[$]+=(K.fc.v[$]-X[$])*ie;K.fh.propType&&(ie.length?X=addHueToRGB(X,K.fh.v*ie[0]):X=addHueToRGB(X,K.fh.v*ie)),K.fs.propType&&(ie.length?X=addSaturationToRGB(X,K.fs.v*ie[0]):X=addSaturationToRGB(X,K.fs.v*ie)),K.fb.propType&&(ie.length?X=addBrightnessToRGB(X,K.fb.v*ie[0]):X=addBrightnessToRGB(X,K.fb.v*ie))}}for(D=0;D<z;D+=1)K=n[D].a,K.p.propType&&(q=n[D].s,ie=q.getMult(f[_].anIndexes[D],o.a[D].s.totalChars),this._hasMaskedPath?ie.length?s.translate(0,K.p.v[1]*ie[0],-K.p.v[2]*ie[1]):s.translate(0,K.p.v[1]*ie,-K.p.v[2]*ie):ie.length?s.translate(K.p.v[0]*ie[0],K.p.v[1]*ie[1],-K.p.v[2]*ie[2]):s.translate(K.p.v[0]*ie,K.p.v[1]*ie,-K.p.v[2]*ie));if(t.strokeWidthAnim&&(ge=ue<0?0:ue),t.strokeColorAnim&&(ve="rgb("+Math.round(Ae[0]*255)+","+Math.round(Ae[1]*255)+","+Math.round(Ae[2]*255)+")"),t.fillColorAnim&&t.fc&&(me="rgb("+Math.round(X[0]*255)+","+Math.round(X[1]*255)+","+Math.round(X[2]*255)+")"),this._hasMaskedPath){if(s.translate(0,-t.ls),s.translate(0,r[1]*ae*.01+m,0),this._pathData.p.v){W=(T.point[1]-O.point[1])/(T.point[0]-O.point[0]);var Ne=Math.atan(W)*180/Math.PI;T.point[0]<O.point[0]&&(Ne+=180),s.rotate(-Ne*Math.PI/180)}s.translate(Z,te,0),M-=r[0]*f[_].an*.005,f[_+1]&&fe!==f[_+1].ind&&(M+=f[_].an/2,M+=t.tr*.001*t.finalSize)}else{switch(s.translate(u,m,0),t.ps&&s.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:s.translate(f[_].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[f[_].line]),0,0);break;case 2:s.translate(f[_].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[f[_].line])/2,0,0);break}s.translate(0,-t.ls),s.translate(ee,0,0),s.translate(r[0]*f[_].an*.005,r[1]*ae*.01,0),u+=f[_].l+t.tr*.001*t.finalSize}c==="html"?ce=s.toCSS():c==="svg"?ce=s.to2dCSS():Se=[s.props[0],s.props[1],s.props[2],s.props[3],s.props[4],s.props[5],s.props[6],s.props[7],s.props[8],s.props[9],s.props[10],s.props[11],s.props[12],s.props[13],s.props[14],s.props[15]],ye=Me}d<=_?(J=new LetterProps(ye,ge,ve,me,ce,Se),this.renderedLetters.push(J),d+=1,this.lettersChangedFlag=!0):(J=this.renderedLetters[_],this.lettersChangedFlag=J.update(ye,ge,ve,me,ce,Se)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(t,e,r){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,r),this.textProperty=new TextProperty(this,t.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(t.t,this.renderType,this),this.initTransform(t,e,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)},ITextElement.prototype.createPathShape=function(t,e){var r,n=e.length,o,s="";for(r=0;r<n;r+=1)e[r].ty==="sh"&&(o=e[r].ks.k,s+=buildShapeString(o,o.i.length,!0,t));return s},ITextElement.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},ITextElement.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},ITextElement.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,e,r,n,o){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[r]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[r])/2,0,0);break}e.translate(n,o,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(t[0]*255)+","+Math.round(t[1]*255)+","+Math.round(t[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(t,e,r){this.textSpans=[],this.renderType="svg",this.initElement(t,e,r)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(t){for(var e=0,r=t.length,n=[],o="";e<r;)t[e]===String.fromCharCode(13)||t[e]===String.fromCharCode(3)?(n.push(o),o=""):o+=t[e],e+=1;return n.push(o),n},SVGTextLottieElement.prototype.buildShapeData=function(t,e){if(t.shapes&&t.shapes.length){var r=t.shapes[0];if(r.it){var n=r.it[r.it.length-1];n.s&&(n.s.k[0]=e,n.s.k[1]=e)}}return t},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var t,e,r=this.textProperty.currentData;this.renderedLetters=createSizedArray(r?r.l.length:0),r.fc?this.layerElement.setAttribute("fill",this.buildColor(r.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),r.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(r.sc)),this.layerElement.setAttribute("stroke-width",r.sw)),this.layerElement.setAttribute("font-size",r.finalSize);var n=this.globalData.fontManager.getFontByName(r.f);if(n.fClass)this.layerElement.setAttribute("class",n.fClass);else{this.layerElement.setAttribute("font-family",n.fFamily);var o=r.fWeight,s=r.fStyle;this.layerElement.setAttribute("font-style",s),this.layerElement.setAttribute("font-weight",o)}this.layerElement.setAttribute("aria-label",r.t);var c=r.l||[],d=!!this.globalData.fontManager.chars;e=c.length;var u,m=this.mHelper,_="",g=this.data.singleShape,f=0,y=0,M=!0,T=r.tr*.001*r.finalSize;if(g&&!d&&!r.sz){var A=this.textContainer,E="start";switch(r.j){case 1:E="end";break;case 2:E="middle";break;default:E="start";break}A.setAttribute("text-anchor",E),A.setAttribute("letter-spacing",T);var C=this.buildTextContents(r.finalText);for(e=C.length,y=r.ps?r.ps[1]+r.ascent:0,t=0;t<e;t+=1)u=this.textSpans[t].span||createNS("tspan"),u.textContent=C[t],u.setAttribute("x",0),u.setAttribute("y",y),u.style.display="inherit",A.appendChild(u),this.textSpans[t]||(this.textSpans[t]={span:null,glyph:null}),this.textSpans[t].span=u,y+=r.finalLineHeight;this.layerElement.appendChild(A)}else{var k=this.textSpans.length,O;for(t=0;t<e;t+=1){if(this.textSpans[t]||(this.textSpans[t]={span:null,childSpan:null,glyph:null}),!d||!g||t===0){if(u=k>t?this.textSpans[t].span:createNS(d?"g":"text"),k<=t){if(u.setAttribute("stroke-linecap","butt"),u.setAttribute("stroke-linejoin","round"),u.setAttribute("stroke-miterlimit","4"),this.textSpans[t].span=u,d){var I=createNS("g");u.appendChild(I),this.textSpans[t].childSpan=I}this.textSpans[t].span=u,this.layerElement.appendChild(u)}u.style.display="inherit"}if(m.reset(),g&&(c[t].n&&(f=-T,y+=r.yOffset,y+=M?1:0,M=!1),this.applyTextPropertiesToMatrix(r,m,c[t].line,f,y),f+=c[t].l||0,f+=T),d){O=this.globalData.fontManager.getCharData(r.finalText[t],n.fStyle,this.globalData.fontManager.getFontByName(r.f).fFamily);var B;if(O.t===1)B=new SVGCompElement(O.data,this.globalData,this);else{var j=emptyShapeData;O.data&&O.data.shapes&&(j=this.buildShapeData(O.data,r.finalSize)),B=new SVGShapeElement(j,this.globalData,this)}if(this.textSpans[t].glyph){var U=this.textSpans[t].glyph;this.textSpans[t].childSpan.removeChild(U.layerElement),U.destroy()}this.textSpans[t].glyph=B,B._debug=!0,B.prepareFrame(0),B.renderFrame(),this.textSpans[t].childSpan.appendChild(B.layerElement),O.t===1&&this.textSpans[t].childSpan.setAttribute("transform","scale("+r.finalSize/100+","+r.finalSize/100+")")}else g&&u.setAttribute("transform","translate("+m.props[12]+","+m.props[13]+")"),u.textContent=c[t].val,u.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}g&&u&&u.setAttribute("d",_)}for(;t<this.textSpans.length;)this.textSpans[t].span.style.display="none",t+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var t=this.layerElement.getBBox();this.bbox={top:t.y,left:t.x,width:t.width,height:t.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var t,e=this.textSpans.length,r;for(this.renderedFrame=this.comp.renderedFrame,t=0;t<e;t+=1)r=this.textSpans[t].glyph,r&&(r.prepareFrame(this.comp.renderedFrame-this.data.st),r._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var t,e,r=this.textAnimator.renderedLetters,n=this.textProperty.currentData.l;e=n.length;var o,s,c;for(t=0;t<e;t+=1)n[t].n||(o=r[t],s=this.textSpans[t].span,c=this.textSpans[t].glyph,c&&c.renderFrame(),o._mdf.m&&s.setAttribute("transform",o.m),o._mdf.o&&s.setAttribute("opacity",o.o),o._mdf.sw&&s.setAttribute("stroke-width",o.sw),o._mdf.sc&&s.setAttribute("stroke",o.sc),o._mdf.fc&&s.setAttribute("fill",o.fc))}};function ISolidElement(t,e,r){this.initElement(t,e,r)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var t=createNS("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)};function NullElement(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initFrame(),this.initTransform(t,e,r),this.initHierarchy()}NullElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(t){return new NullElement(t,this.globalData,this)},SVGRendererBase.prototype.createShape=function(t){return new SVGShapeElement(t,this.globalData,this)},SVGRendererBase.prototype.createText=function(t){return new SVGTextLottieElement(t,this.globalData,this)},SVGRendererBase.prototype.createImage=function(t){return new IImageElement(t,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(t){return new ISolidElement(t,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var r=createNS("clipPath"),n=createNS("rect");n.setAttribute("width",t.w),n.setAttribute("height",t.h),n.setAttribute("x",0),n.setAttribute("y",0);var o=createElementID();r.setAttribute("id",o),r.appendChild(n),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+o+")"),e.appendChild(r),this.layers=t.layers,this.elements=createSizedArray(t.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(t){var e=0,r=this.layers.length;for(e=0;e<r;e+=1)if(this.layers[e].ind===t)return e;return-1},SVGRendererBase.prototype.buildItem=function(t){var e=this.elements;if(!(e[t]||this.layers[t].ty===99)){e[t]=!0;var r=this.createItem(this.layers[t]);if(e[t]=r,getExpressionsPlugin()&&(this.layers[t].ty===0&&this.globalData.projectInterface.registerComposition(r),r.initExpressions()),this.appendElementInPos(r,t),this.layers[t].tt){var n="tp"in this.layers[t]?this.findIndexByInd(this.layers[t].tp):t-1;if(n===-1)return;if(!this.elements[n]||this.elements[n]===!0)this.buildItem(n),this.addPendingElement(r);else{var o=e[n],s=o.getMatte(this.layers[t].tt);r.setMatte(s)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,r=this.elements.length;e<r;){if(this.elements[e]===t){var n="tp"in t.data?this.findIndexByInd(t.data.tp):e-1,o=this.elements[n],s=o.getMatte(this.layers[e].tt);t.setMatte(s);break}e+=1}}},SVGRendererBase.prototype.renderFrame=function(t){if(!(this.renderedFrame===t||this.destroyed)){t===null?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var e,r=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=r-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<r;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(t,e){var r=t.getBaseElement();if(r){for(var n=0,o;n<e;)this.elements[n]&&this.elements[n]!==!0&&this.elements[n].getBaseElement()&&(o=this.elements[n].getBaseElement()),n+=1;o?this.layerElement.insertBefore(r,o):this.layerElement.appendChild(r)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initTransform(t,e,r),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!e.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var r,n=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),r=n-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&(this.elements[r].prepareFrame(this.renderedFrame-this.layers[r].st),this.elements[r]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(t,e,r){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)};function SVGRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var r="";if(e&&e.title){var n=createNS("title"),o=createElementID();n.setAttribute("id",o),n.textContent=e.title,this.svgElement.appendChild(n),r+=o}if(e&&e.description){var s=createNS("desc"),c=createElementID();s.setAttribute("id",c),s.textContent=e.description,this.svgElement.appendChild(s),r+=" "+c}r&&this.svgElement.setAttribute("aria-labelledby",r);var d=createNS("defs");this.svgElement.appendChild(d);var u=createNS("g");this.svgElement.appendChild(u),this.layerElement=u,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!(e&&e.hideOnTransparent===!1),viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||"",id:e&&e.id||"",focusable:e&&e.focusable,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"100%",height:e&&e.filterSize&&e.filterSize.height||"100%",x:e&&e.filterSize&&e.filterSize.x||"0%",y:e&&e.filterSize&&e.filterSize.y||"0%"},width:e&&e.width,height:e&&e.height,runExpressions:!e||e.runExpressions===void 0||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:d,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(t){var e,r=t.length,n="_";for(e=0;e<r;e+=1)n+=t[e].transform.key+"_";var o=this.sequences[n];return o||(o={transforms:[].concat(t),finalTransform:new Matrix,_mdf:!1},this.sequences[n]=o,this.sequenceList.push(o)),o},processSequence:function(t,e){for(var r=0,n=t.transforms.length,o=e;r<n&&!e;){if(t.transforms[r].transform.mProps._mdf){o=!0;break}r+=1}if(o)for(t.finalTransform.reset(),r=n-1;r>=0;r-=1)t.finalTransform.multiply(t.transforms[r].transform.mProps.v);t._mdf=o},processSequences:function(t){var e,r=this.sequenceList.length;for(e=0;e<r;e+=1)this.processSequence(this.sequenceList[e],t)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var t="__lottie_element_luma_buffer",e=null,r=null,n=null;function o(){var d=createNS("svg"),u=createNS("filter"),m=createNS("feColorMatrix");return u.setAttribute("id",t),m.setAttribute("type","matrix"),m.setAttribute("color-interpolation-filters","sRGB"),m.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),u.appendChild(m),d.appendChild(u),d.setAttribute("id",t+"_svg"),featureSupport.svgLumaHidden&&(d.style.display="none"),d}function s(){e||(n=o(),document.body.appendChild(n),e=createTag("canvas"),r=e.getContext("2d"),r.filter="url(#"+t+")",r.fillStyle="rgba(0,0,0,0)",r.fillRect(0,0,1,1))}function c(d){return e||s(),e.width=d.width,e.height=d.height,r.filter="url(#"+t+")",e}return{load:s,get:c}};function createCanvas(t,e){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(t,e);var r=createTag("canvas");return r.width=t,r.height=e,r}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}(),registeredEffects={};function CVEffects(t){var e,r=t.data.ef?t.data.ef.length:0;this.filters=[];var n;for(e=0;e<r;e+=1){n=null;var o=t.data.ef[e].ty;if(registeredEffects[o]){var s=registeredEffects[o].effect;n=new s(t.effectsManager.effectElements[e],t)}n&&this.filters.push(n)}this.filters.length&&t.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(t){var e,r=this.filters.length;for(e=0;e<r;e+=1)this.filters[e].renderFrame(t)},CVEffects.prototype.getEffects=function(t){var e,r=this.filters.length,n=[];for(e=0;e<r;e+=1)this.filters[e].type===t&&n.push(this.filters[e]);return n};function registerEffect(t,e){registeredEffects[t]={effect:e}}function CVMaskElement(t,e){this.data=t,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var r,n=this.masksProperties.length,o=!1;for(r=0;r<n;r+=1)this.masksProperties[r].mode!=="n"&&(o=!0),this.viewData[r]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[r],3);this.hasMasks=o,o&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var t=this.element.finalTransform.mat,e=this.element.canvasContext,r,n=this.masksProperties.length,o,s,c;for(e.beginPath(),r=0;r<n;r+=1)if(this.masksProperties[r].mode!=="n"){this.masksProperties[r].inv&&(e.moveTo(0,0),e.lineTo(this.element.globalData.compSize.w,0),e.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),e.lineTo(0,this.element.globalData.compSize.h),e.lineTo(0,0)),c=this.viewData[r].v,o=t.applyToPointArray(c.v[0][0],c.v[0][1],0),e.moveTo(o[0],o[1]);var d,u=c._length;for(d=1;d<u;d+=1)s=t.applyToTriplePoints(c.o[d-1],c.i[d],c.v[d]),e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);s=t.applyToTriplePoints(c.o[d-1],c.i[0],c.v[0]),e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5])}this.element.globalData.renderer.save(!0),e.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var t=this.globalData.canvasContext,e=assetLoader.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(e);var r=assetLoader.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(r),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var t=this.globalData;if(t.blendMode!==this.data.bm){t.blendMode=this.data.bm;var e=getBlendMode(this.data.bm);t.canvasContext.globalCompositeOperation=e}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(t){t.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var t=this.buffers[0],e=t.getContext("2d");this.clearCanvas(e),e.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var t=this.buffers[1],e=t.getContext("2d");this.clearCanvas(e),e.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var r=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(r.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var n=assetLoader.getLumaCanvas(this.canvasContext.canvas),o=n.getContext("2d");o.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(n,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(t,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(t){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!t)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var e=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(e),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(e),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(t,e,r,n){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var o=4;e.ty==="rc"?o=5:e.ty==="el"?o=6:e.ty==="sr"&&(o=7),this.sh=ShapePropertyFactory.getShapeProp(t,e,o,t);var s,c=r.length,d;for(s=0;s<c;s+=1)r[s].closed||(d={transforms:n.addTransformSequence(r[s].transforms),trNodes:[]},this.styledShapes.push(d),r[s].elements.push(d))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(t,e,r)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(t,e){var r={data:t,type:t.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:t.hd===!0},n={};if(t.ty==="fl"||t.ty==="st"?(n.c=PropertyFactory.getProp(this,t.c,1,255,this),n.c.k||(r.co="rgb("+bmFloor(n.c.v[0])+","+bmFloor(n.c.v[1])+","+bmFloor(n.c.v[2])+")")):(t.ty==="gf"||t.ty==="gs")&&(n.s=PropertyFactory.getProp(this,t.s,1,null,this),n.e=PropertyFactory.getProp(this,t.e,1,null,this),n.h=PropertyFactory.getProp(this,t.h||{k:0},0,.01,this),n.a=PropertyFactory.getProp(this,t.a||{k:0},0,degToRads,this),n.g=new GradientProperty(this,t.g,this)),n.o=PropertyFactory.getProp(this,t.o,0,.01,this),t.ty==="st"||t.ty==="gs"){if(r.lc=lineCapEnum[t.lc||2],r.lj=lineJoinEnum[t.lj||2],t.lj==1&&(r.ml=t.ml),n.w=PropertyFactory.getProp(this,t.w,0,null,this),n.w.k||(r.wi=n.w.v),t.d){var o=new DashProperty(this,t.d,"canvas",this);n.d=o,n.d.k||(r.da=n.d.dashArray,r.do=n.d.dashoffset[0])}}else r.r=t.r===2?"evenodd":"nonzero";return this.stylesList.push(r),n.style=r,n},CVShapeElement.prototype.createGroupElement=function(){var t={it:[],prevViewData:[]};return t},CVShapeElement.prototype.createTransformElement=function(t){var e={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,t.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,t,this)}};return e},CVShapeElement.prototype.createShapeElement=function(t){var e=new CVShapeData(this,t,this.stylesList,this.transformsManager);return this.shapes.push(e),this.addShapeToModifiers(e),e},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(t){var e,r=this.stylesList.length;for(e=0;e<r;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.push(t)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.pop()},CVShapeElement.prototype.closeStyles=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e].closed=!0},CVShapeElement.prototype.searchShapes=function(t,e,r,n,o){var s,c=t.length-1,d,u,m=[],_=[],g,f,y,M=[].concat(o);for(s=c;s>=0;s-=1){if(g=this.searchProcessedElement(t[s]),g?e[s]=r[g-1]:t[s]._shouldRender=n,t[s].ty==="fl"||t[s].ty==="st"||t[s].ty==="gf"||t[s].ty==="gs")g?e[s].style.closed=!1:e[s]=this.createStyleElement(t[s],M),m.push(e[s].style);else if(t[s].ty==="gr"){if(!g)e[s]=this.createGroupElement(t[s]);else for(u=e[s].it.length,d=0;d<u;d+=1)e[s].prevViewData[d]=e[s].it[d];this.searchShapes(t[s].it,e[s].it,e[s].prevViewData,n,M)}else t[s].ty==="tr"?(g||(y=this.createTransformElement(t[s]),e[s]=y),M.push(e[s]),this.addTransformToStyleList(e[s])):t[s].ty==="sh"||t[s].ty==="rc"||t[s].ty==="el"||t[s].ty==="sr"?g||(e[s]=this.createShapeElement(t[s])):t[s].ty==="tm"||t[s].ty==="rd"||t[s].ty==="pb"||t[s].ty==="zz"||t[s].ty==="op"?(g?(f=e[s],f.closed=!1):(f=ShapeModifiers.getModifier(t[s].ty),f.init(this,t[s]),e[s]=f,this.shapeModifiers.push(f)),_.push(f)):t[s].ty==="rp"&&(g?(f=e[s],f.closed=!0):(f=ShapeModifiers.getModifier(t[s].ty),e[s]=f,f.init(this,t,s,e),this.shapeModifiers.push(f),n=!1),_.push(f));this.addProcessedElement(t[s],s+1)}for(this.removeTransformFromStyleList(),this.closeStyles(m),c=_.length,s=0;s<c;s+=1)_[s].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(t,e){(t._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=t.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var t,e=this.stylesList.length,r,n,o,s,c,d,u=this.globalData.renderer,m=this.globalData.canvasContext,_,g;for(t=0;t<e;t+=1)if(g=this.stylesList[t],_=g.type,!((_==="st"||_==="gs")&&g.wi===0||!g.data._shouldRender||g.coOp===0||this.globalData.currentGlobalAlpha===0)){for(u.save(),c=g.elements,_==="st"||_==="gs"?(u.ctxStrokeStyle(_==="st"?g.co:g.grd),u.ctxLineWidth(g.wi),u.ctxLineCap(g.lc),u.ctxLineJoin(g.lj),u.ctxMiterLimit(g.ml||0)):u.ctxFillStyle(_==="fl"?g.co:g.grd),u.ctxOpacity(g.coOp),_!=="st"&&_!=="gs"&&m.beginPath(),u.ctxTransform(g.preTransforms.finalTransform.props),n=c.length,r=0;r<n;r+=1){for((_==="st"||_==="gs")&&(m.beginPath(),g.da&&(m.setLineDash(g.da),m.lineDashOffset=g.do)),d=c[r].trNodes,s=d.length,o=0;o<s;o+=1)d[o].t==="m"?m.moveTo(d[o].p[0],d[o].p[1]):d[o].t==="c"?m.bezierCurveTo(d[o].pts[0],d[o].pts[1],d[o].pts[2],d[o].pts[3],d[o].pts[4],d[o].pts[5]):m.closePath();(_==="st"||_==="gs")&&(u.ctxStroke(),g.da&&m.setLineDash(this.dashResetter))}_!=="st"&&_!=="gs"&&this.globalData.renderer.ctxFill(g.r),u.restore()}},CVShapeElement.prototype.renderShape=function(t,e,r,n){var o,s=e.length-1,c;for(c=t,o=s;o>=0;o-=1)e[o].ty==="tr"?(c=r[o].transform,this.renderShapeTransform(t,c)):e[o].ty==="sh"||e[o].ty==="el"||e[o].ty==="rc"||e[o].ty==="sr"?this.renderPath(e[o],r[o]):e[o].ty==="fl"?this.renderFill(e[o],r[o],c):e[o].ty==="st"?this.renderStroke(e[o],r[o],c):e[o].ty==="gf"||e[o].ty==="gs"?this.renderGradientFill(e[o],r[o],c):e[o].ty==="gr"?this.renderShape(c,e[o].it,r[o].it):e[o].ty;n&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(t,e){if(this._isFirstFrame||e._mdf||t.transforms._mdf){var r=t.trNodes,n=e.paths,o,s,c,d=n._length;r.length=0;var u=t.transforms.finalTransform;for(c=0;c<d;c+=1){var m=n.shapes[c];if(m&&m.v){for(s=m._length,o=1;o<s;o+=1)o===1&&r.push({t:"m",p:u.applyToPointArray(m.v[0][0],m.v[0][1],0)}),r.push({t:"c",pts:u.applyToTriplePoints(m.o[o-1],m.i[o],m.v[o])});s===1&&r.push({t:"m",p:u.applyToPointArray(m.v[0][0],m.v[0][1],0)}),m.c&&s&&(r.push({t:"c",pts:u.applyToTriplePoints(m.o[o-1],m.i[0],m.v[0])}),r.push({t:"z"}))}}t.trNodes=r}},CVShapeElement.prototype.renderPath=function(t,e){if(t.hd!==!0&&t._shouldRender){var r,n=e.styledShapes.length;for(r=0;r<n;r+=1)this.renderStyledShape(e.styledShapes[r],e.sh)}},CVShapeElement.prototype.renderFill=function(t,e,r){var n=e.style;(e.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||r._opMdf||this._isFirstFrame)&&(n.coOp=e.o.v*r.opacity)},CVShapeElement.prototype.renderGradientFill=function(t,e,r){var n=e.style,o;if(!n.grd||e.g._mdf||e.s._mdf||e.e._mdf||t.t!==1&&(e.h._mdf||e.a._mdf)){var s=this.globalData.canvasContext,c=e.s.v,d=e.e.v;if(t.t===1)o=s.createLinearGradient(c[0],c[1],d[0],d[1]);else{var u=Math.sqrt(Math.pow(c[0]-d[0],2)+Math.pow(c[1]-d[1],2)),m=Math.atan2(d[1]-c[1],d[0]-c[0]),_=e.h.v;_>=1?_=.99:_<=-1&&(_=-.99);var g=u*_,f=Math.cos(m+e.a.v)*g+c[0],y=Math.sin(m+e.a.v)*g+c[1];o=s.createRadialGradient(f,y,0,c[0],c[1],u)}var M,T=t.g.p,A=e.g.c,E=1;for(M=0;M<T;M+=1)e.g._hasOpacity&&e.g._collapsable&&(E=e.g.o[M*2+1]),o.addColorStop(A[M*4]/100,"rgba("+A[M*4+1]+","+A[M*4+2]+","+A[M*4+3]+","+E+")");n.grd=o}n.coOp=e.o.v*r.opacity},CVShapeElement.prototype.renderStroke=function(t,e,r){var n=e.style,o=e.d;o&&(o._mdf||this._isFirstFrame)&&(n.da=o.dashArray,n.do=o.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||r._opMdf||this._isFirstFrame)&&(n.coOp=e.o.v*r.opacity),(e.w._mdf||this._isFirstFrame)&&(n.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(t,e,r){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(t,e,r)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=!1;t.fc?(e=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;var r=!1;t.sc&&(r=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=t.sw);var n=this.globalData.fontManager.getFontByName(t.f),o,s,c=t.l,d=this.mHelper;this.stroke=r,this.values.fValue=t.finalSize+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily,s=t.finalText.length;var u,m,_,g,f,y,M,T,A,E,C=this.data.singleShape,k=t.tr*.001*t.finalSize,O=0,I=0,B=!0,j=0;for(o=0;o<s;o+=1){u=this.globalData.fontManager.getCharData(t.finalText[o],n.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily),m=u&&u.data||{},d.reset(),C&&c[o].n&&(O=-k,I+=t.yOffset,I+=B?1:0,B=!1),f=m.shapes?m.shapes[0].it:[],M=f.length,d.scale(t.finalSize/100,t.finalSize/100),C&&this.applyTextPropertiesToMatrix(t,d,c[o].line,O,I),A=createSizedArray(M-1);var U=0;for(y=0;y<M;y+=1)if(f[y].ty==="sh"){for(g=f[y].ks.k.i.length,T=f[y].ks.k,E=[],_=1;_<g;_+=1)_===1&&E.push(d.applyToX(T.v[0][0],T.v[0][1],0),d.applyToY(T.v[0][0],T.v[0][1],0)),E.push(d.applyToX(T.o[_-1][0],T.o[_-1][1],0),d.applyToY(T.o[_-1][0],T.o[_-1][1],0),d.applyToX(T.i[_][0],T.i[_][1],0),d.applyToY(T.i[_][0],T.i[_][1],0),d.applyToX(T.v[_][0],T.v[_][1],0),d.applyToY(T.v[_][0],T.v[_][1],0));E.push(d.applyToX(T.o[_-1][0],T.o[_-1][1],0),d.applyToY(T.o[_-1][0],T.o[_-1][1],0),d.applyToX(T.i[0][0],T.i[0][1],0),d.applyToY(T.i[0][0],T.i[0][1],0),d.applyToX(T.v[0][0],T.v[0][1],0),d.applyToY(T.v[0][0],T.v[0][1],0)),A[U]=E,U+=1}C&&(O+=c[o].l,O+=k),this.textSpans[j]?this.textSpans[j].elem=A:this.textSpans[j]={elem:A},j+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var t=this.canvasContext;t.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var e,r,n,o,s,c,d=this.textAnimator.renderedLetters,u=this.textProperty.currentData.l;r=u.length;var m,_=null,g=null,f=null,y,M,T=this.globalData.renderer;for(e=0;e<r;e+=1)if(!u[e].n){if(m=d[e],m&&(T.save(),T.ctxTransform(m.p),T.ctxOpacity(m.o)),this.fill){for(m&&m.fc?_!==m.fc&&(T.ctxFillStyle(m.fc),_=m.fc):_!==this.values.fill&&(_=this.values.fill,T.ctxFillStyle(this.values.fill)),y=this.textSpans[e].elem,o=y.length,this.globalData.canvasContext.beginPath(),n=0;n<o;n+=1)for(M=y[n],c=M.length,this.globalData.canvasContext.moveTo(M[0],M[1]),s=2;s<c;s+=6)this.globalData.canvasContext.bezierCurveTo(M[s],M[s+1],M[s+2],M[s+3],M[s+4],M[s+5]);this.globalData.canvasContext.closePath(),T.ctxFill()}if(this.stroke){for(m&&m.sw?f!==m.sw&&(f=m.sw,T.ctxLineWidth(m.sw)):f!==this.values.sWidth&&(f=this.values.sWidth,T.ctxLineWidth(this.values.sWidth)),m&&m.sc?g!==m.sc&&(g=m.sc,T.ctxStrokeStyle(m.sc)):g!==this.values.stroke&&(g=this.values.stroke,T.ctxStrokeStyle(this.values.stroke)),y=this.textSpans[e].elem,o=y.length,this.globalData.canvasContext.beginPath(),n=0;n<o;n+=1)for(M=y[n],c=M.length,this.globalData.canvasContext.moveTo(M[0],M[1]),s=2;s<c;s+=6)this.globalData.canvasContext.bezierCurveTo(M[s],M[s+1],M[s+2],M[s+3],M[s+4],M[s+5]);this.globalData.canvasContext.closePath(),T.ctxStroke()}m&&this.globalData.renderer.restore()}};function CVImageElement(t,e,r){this.assetData=e.getAssetData(t.refId),this.img=e.imageLoader.getAsset(this.assetData),this.initElement(t,e,r)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var t=createTag("canvas");t.width=this.assetData.w,t.height=this.assetData.h;var e=t.getContext("2d"),r=this.img.width,n=this.img.height,o=r/n,s=this.assetData.w/this.assetData.h,c,d,u=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;o>s&&u==="xMidYMid slice"||o<s&&u!=="xMidYMid slice"?(d=n,c=d*s):(c=r,d=c/s),e.drawImage(this.img,(r-c)/2,(n-d)/2,c,d,0,0,this.assetData.w,this.assetData.h),this.img=t}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(t,e,r){this.initElement(t,e,r)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(t){return new CVShapeElement(t,this.globalData,this)},CanvasRendererBase.prototype.createText=function(t){return new CVTextElement(t,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(t){return new CVImageElement(t,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(t){return new CVSolidElement(t,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(t){t[0]===1&&t[1]===0&&t[4]===0&&t[5]===1&&t[12]===0&&t[13]===0||this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13])},CanvasRendererBase.prototype.ctxOpacity=function(t){this.canvasContext.globalAlpha*=t<0?0:t},CanvasRendererBase.prototype.ctxFillStyle=function(t){this.canvasContext.fillStyle=t},CanvasRendererBase.prototype.ctxStrokeStyle=function(t){this.canvasContext.strokeStyle=t},CanvasRendererBase.prototype.ctxLineWidth=function(t){this.canvasContext.lineWidth=t},CanvasRendererBase.prototype.ctxLineCap=function(t){this.canvasContext.lineCap=t},CanvasRendererBase.prototype.ctxLineJoin=function(t){this.canvasContext.lineJoin=t},CanvasRendererBase.prototype.ctxMiterLimit=function(t){this.canvasContext.miterLimit=t},CanvasRendererBase.prototype.ctxFill=function(t){this.canvasContext.fill(t)},CanvasRendererBase.prototype.ctxFillRect=function(t,e,r,n){this.canvasContext.fillRect(t,e,r,n)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(t){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}t&&(this.globalData.blendMode="source-over"),this.contextData.restore(t)},CanvasRendererBase.prototype.configAnimation=function(t){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var e=this.animationItem.container.style;e.width="100%",e.height="100%";var r="0px 0px 0px";e.transformOrigin=r,e.mozTransformOrigin=r,e.webkitTransformOrigin=r,e["-webkit-transform"]=r,e.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=t,this.layers=t.layers,this.transformCanvas={w:t.w,h:t.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(t,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(t.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(t,e){this.reset();var r,n;t?(r=t,n=e,this.canvasContext.canvas.width=r,this.canvasContext.canvas.height=n):(this.animationItem.wrapper&&this.animationItem.container?(r=this.animationItem.wrapper.offsetWidth,n=this.animationItem.wrapper.offsetHeight):(r=this.canvasContext.canvas.width,n=this.canvasContext.canvas.height),this.canvasContext.canvas.width=r*this.renderConfig.dpr,this.canvasContext.canvas.height=n*this.renderConfig.dpr);var o,s;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var c=this.renderConfig.preserveAspectRatio.split(" "),d=c[1]||"meet",u=c[0]||"xMidYMid",m=u.substr(0,4),_=u.substr(4);o=r/n,s=this.transformCanvas.w/this.transformCanvas.h,s>o&&d==="meet"||s<o&&d==="slice"?(this.transformCanvas.sx=r/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=n/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=n/(this.transformCanvas.h/this.renderConfig.dpr)),m==="xMid"&&(s<o&&d==="meet"||s>o&&d==="slice")?this.transformCanvas.tx=(r-this.transformCanvas.w*(n/this.transformCanvas.h))/2*this.renderConfig.dpr:m==="xMax"&&(s<o&&d==="meet"||s>o&&d==="slice")?this.transformCanvas.tx=(r-this.transformCanvas.w*(n/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,_==="YMid"&&(s>o&&d==="meet"||s<o&&d==="slice")?this.transformCanvas.ty=(n-this.transformCanvas.h*(r/this.transformCanvas.w))/2*this.renderConfig.dpr:_==="YMax"&&(s>o&&d==="meet"||s<o&&d==="slice")?this.transformCanvas.ty=(n-this.transformCanvas.h*(r/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=r/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=n/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var t,e=this.layers?this.layers.length:0;for(t=e-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(t,e){if(!(this.renderedFrame===t&&this.renderConfig.clearCanvas===!0&&!e||this.destroyed||t===-1)){this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||e,this.globalData.projectInterface.currentFrame=t;var r,n=this.layers.length;for(this.completeLayers||this.checkLayers(t),r=n-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].prepareFrame(t-this.layers[r].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),r=n-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(t){var e=this.elements;if(!(e[t]||this.layers[t].ty===99)){var r=this.createItem(this.layers[t],this,this.globalData);e[t]=r,r.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();t.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var t,e=15;for(t=0;t<e;t+=1){var r=new CanvasContext;this.stack[t]=r}this._length=e,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var t=this._length*2,e=0;for(e=this._length;e<t;e+=1)this.stack[e]=new CanvasContext;this._length=t},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(t){this.cArrPos-=1;var e=this.stack[this.cArrPos],r=e.transform,n,o=this.cTr.props;for(n=0;n<16;n+=1)o[n]=r[n];if(t){this.nativeContext.restore();var s=this.stack[this.cArrPos+1];this.appliedFillStyle=s.fillStyle,this.appliedStrokeStyle=s.strokeStyle,this.appliedLineWidth=s.lineWidth,this.appliedLineCap=s.lineCap,this.appliedLineJoin=s.lineJoin,this.appliedMiterLimit=s.miterLimit}this.nativeContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13]),(t||e.opacity!==-1&&this.currentOpacity!==e.opacity)&&(this.nativeContext.globalAlpha=e.opacity,this.currentOpacity=e.opacity),this.currentFillStyle=e.fillStyle,this.currentStrokeStyle=e.strokeStyle,this.currentLineWidth=e.lineWidth,this.currentLineCap=e.lineCap,this.currentLineJoin=e.lineJoin,this.currentMiterLimit=e.miterLimit},CVContextData.prototype.save=function(t){t&&this.nativeContext.save();var e=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var r=this.stack[this.cArrPos],n;for(n=0;n<16;n+=1)r.transform[n]=e[n];this.cArrPos+=1;var o=this.stack[this.cArrPos];o.opacity=r.opacity,o.fillStyle=r.fillStyle,o.strokeStyle=r.strokeStyle,o.lineWidth=r.lineWidth,o.lineCap=r.lineCap,o.lineJoin=r.lineJoin,o.miterLimit=r.miterLimit},CVContextData.prototype.setOpacity=function(t){this.stack[this.cArrPos].opacity=t},CVContextData.prototype.setContext=function(t){this.nativeContext=t},CVContextData.prototype.fillStyle=function(t){this.stack[this.cArrPos].fillStyle!==t&&(this.currentFillStyle=t,this.stack[this.cArrPos].fillStyle=t)},CVContextData.prototype.strokeStyle=function(t){this.stack[this.cArrPos].strokeStyle!==t&&(this.currentStrokeStyle=t,this.stack[this.cArrPos].strokeStyle=t)},CVContextData.prototype.lineWidth=function(t){this.stack[this.cArrPos].lineWidth!==t&&(this.currentLineWidth=t,this.stack[this.cArrPos].lineWidth=t)},CVContextData.prototype.lineCap=function(t){this.stack[this.cArrPos].lineCap!==t&&(this.currentLineCap=t,this.stack[this.cArrPos].lineCap=t)},CVContextData.prototype.lineJoin=function(t){this.stack[this.cArrPos].lineJoin!==t&&(this.currentLineJoin=t,this.stack[this.cArrPos].lineJoin=t)},CVContextData.prototype.miterLimit=function(t){this.stack[this.cArrPos].miterLimit!==t&&(this.currentMiterLimit=t,this.stack[this.cArrPos].miterLimit=t)},CVContextData.prototype.transform=function(t){this.transformMat.cloneFromProps(t);var e=this.cTr;this.transformMat.multiply(e),e.cloneFromProps(this.transformMat.props);var r=e.props;this.nativeContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13])},CVContextData.prototype.opacity=function(t){var e=this.stack[this.cArrPos].opacity;e*=t<0?0:t,this.stack[this.cArrPos].opacity!==e&&(this.currentOpacity!==t&&(this.nativeContext.globalAlpha=t,this.currentOpacity=t),this.stack[this.cArrPos].opacity=e)},CVContextData.prototype.fill=function(t){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(t)},CVContextData.prototype.fillRect=function(t,e,r,n){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(t,e,r,n)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(t,e,r){this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(t,e,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var t=this.canvasContext;t.beginPath(),t.moveTo(0,0),t.lineTo(this.data.w,0),t.lineTo(this.data.w,this.data.h),t.lineTo(0,this.data.h),t.lineTo(0,0),t.clip();var e,r=this.layers.length;for(e=r-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},CVCompElement.prototype.destroy=function(){var t,e=this.layers.length;for(t=e-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)};function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:e&&e.clearCanvas!==void 0?e.clearCanvas:!0,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",className:e&&e.className||"",id:e&&e.id||"",runExpressions:!e||e.runExpressions===void 0||e.runExpressions},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var t=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var e=this.finalTransform.mat.toCSS();t.transform=e,t.webkitTransform=e}this.finalTransform._opMdf&&(t.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(t,e,r){this.initElement(t,e,r)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var t;this.data.hasMask?(t=createNS("rect"),t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(t=createTag("div"),t.style.width=this.data.sw+"px",t.style.height=this.data.sh+"px",t.style.backgroundColor=this.data.sc),this.layerElement.appendChild(t)};function HShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(t,e,r),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var t;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),t=this.svgElement;else{t=createNS("svg");var e=this.comp.data?this.comp.data:this.globalData.compSize;t.setAttribute("width",e.w),t.setAttribute("height",e.h),t.appendChild(this.shapesContainer),this.layerElement.appendChild(t)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=t},HShapeElement.prototype.getTransformedPoint=function(t,e){var r,n=t.length;for(r=0;r<n;r+=1)e=t[r].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(t,e){var r=t.sh.v,n=t.transformers,o,s=r._length,c,d,u,m;if(!(s<=1)){for(o=0;o<s-1;o+=1)c=this.getTransformedPoint(n,r.v[o]),d=this.getTransformedPoint(n,r.o[o]),u=this.getTransformedPoint(n,r.i[o+1]),m=this.getTransformedPoint(n,r.v[o+1]),this.checkBounds(c,d,u,m,e);r.c&&(c=this.getTransformedPoint(n,r.v[o]),d=this.getTransformedPoint(n,r.o[o]),u=this.getTransformedPoint(n,r.i[0]),m=this.getTransformedPoint(n,r.v[0]),this.checkBounds(c,d,u,m,e))}},HShapeElement.prototype.checkBounds=function(t,e,r,n,o){this.getBoundsOfCurve(t,e,r,n);var s=this.shapeBoundingBox;o.x=bmMin(s.left,o.x),o.xMax=bmMax(s.right,o.xMax),o.y=bmMin(s.top,o.y),o.yMax=bmMax(s.bottom,o.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(t,e,r,n){for(var o=[[t[0],n[0]],[t[1],n[1]]],s,c,d,u,m,_,g,f=0;f<2;++f)c=6*t[f]-12*e[f]+6*r[f],s=-3*t[f]+9*e[f]-9*r[f]+3*n[f],d=3*e[f]-3*t[f],c|=0,s|=0,d|=0,s===0&&c===0||(s===0?(u=-d/c,u>0&&u<1&&o[f].push(this.calculateF(u,t,e,r,n,f))):(m=c*c-4*d*s,m>=0&&(_=(-c+bmSqrt(m))/(2*s),_>0&&_<1&&o[f].push(this.calculateF(_,t,e,r,n,f)),g=(-c-bmSqrt(m))/(2*s),g>0&&g<1&&o[f].push(this.calculateF(g,t,e,r,n,f)))));this.shapeBoundingBox.left=bmMin.apply(null,o[0]),this.shapeBoundingBox.top=bmMin.apply(null,o[1]),this.shapeBoundingBox.right=bmMax.apply(null,o[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,o[1])},HShapeElement.prototype.calculateF=function(t,e,r,n,o,s){return bmPow(1-t,3)*e[s]+3*bmPow(1-t,2)*t*r[s]+3*(1-t)*bmPow(t,2)*n[s]+bmPow(t,3)*o[s]},HShapeElement.prototype.calculateBoundingBox=function(t,e){var r,n=t.length;for(r=0;r<n;r+=1)t[r]&&t[r].sh?this.calculateShapeBoundingBox(t[r],e):t[r]&&t[r].it?this.calculateBoundingBox(t[r].it,e):t[r]&&t[r].style&&t[r].w&&this.expandStrokeBoundingBox(t[r].w,e)},HShapeElement.prototype.expandStrokeBoundingBox=function(t,e){var r=0;if(t.keyframes){for(var n=0;n<t.keyframes.length;n+=1){var o=t.keyframes[n].s;o>r&&(r=o)}r*=t.mult}else r=t.v*t.mult;e.x-=r,e.xMax+=r,e.y-=r,e.yMax+=r},HShapeElement.prototype.currentBoxContains=function(t){return this.currentBBox.x<=t.x&&this.currentBBox.y<=t.y&&this.currentBBox.width+this.currentBBox.x>=t.x+t.width&&this.currentBBox.height+this.currentBBox.y>=t.y+t.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var t=this.tempBoundingBox,e=999999;if(t.x=e,t.xMax=-e,t.y=e,t.yMax=-e,this.calculateBoundingBox(this.itemsData,t),t.width=t.xMax<t.x?0:t.xMax-t.x,t.height=t.yMax<t.y?0:t.yMax-t.y,this.currentBoxContains(t))return;var r=!1;if(this.currentBBox.w!==t.width&&(this.currentBBox.w=t.width,this.shapeCont.setAttribute("width",t.width),r=!0),this.currentBBox.h!==t.height&&(this.currentBBox.h=t.height,this.shapeCont.setAttribute("height",t.height),r=!0),r||this.currentBBox.x!==t.x||this.currentBBox.y!==t.y){this.currentBBox.w=t.width,this.currentBBox.h=t.height,this.currentBBox.x=t.x,this.currentBBox.y=t.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var n=this.shapeCont.style,o="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";n.transform=o,n.webkitTransform=o}}};function HTextElement(t,e,r){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(t,e,r)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var t=createNS("g");this.maskedElement.appendChild(t),this.innerElem=t}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=this.innerElem.style,r=t.fc?this.buildColor(t.fc):"rgba(0,0,0,0)";e.fill=r,e.color=r,t.sc&&(e.stroke=this.buildColor(t.sc),e.strokeWidth=t.sw+"px");var n=this.globalData.fontManager.getFontByName(t.f);if(!this.globalData.fontManager.chars)if(e.fontSize=t.finalSize+"px",e.lineHeight=t.finalSize+"px",n.fClass)this.innerElem.className=n.fClass;else{e.fontFamily=n.fFamily;var o=t.fWeight,s=t.fStyle;e.fontStyle=s,e.fontWeight=o}var c,d,u=t.l;d=u.length;var m,_,g,f=this.mHelper,y,M="",T=0;for(c=0;c<d;c+=1){if(this.globalData.fontManager.chars?(this.textPaths[T]?m=this.textPaths[T]:(m=createNS("path"),m.setAttribute("stroke-linecap",lineCapEnum[1]),m.setAttribute("stroke-linejoin",lineJoinEnum[2]),m.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[T]?(_=this.textSpans[T],g=_.children[0]):(_=createTag("div"),_.style.lineHeight=0,g=createNS("svg"),g.appendChild(m),styleDiv(_)))):this.isMasked?m=this.textPaths[T]?this.textPaths[T]:createNS("text"):this.textSpans[T]?(_=this.textSpans[T],m=this.textPaths[T]):(_=createTag("span"),styleDiv(_),m=createTag("span"),styleDiv(m),_.appendChild(m)),this.globalData.fontManager.chars){var A=this.globalData.fontManager.getCharData(t.finalText[c],n.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily),E;if(A?E=A.data:E=null,f.reset(),E&&E.shapes&&E.shapes.length&&(y=E.shapes[0].it,f.scale(t.finalSize/100,t.finalSize/100),M=this.createPathShape(f,y),m.setAttribute("d",M)),this.isMasked)this.innerElem.appendChild(m);else{if(this.innerElem.appendChild(_),E&&E.shapes){document.body.appendChild(g);var C=g.getBBox();g.setAttribute("width",C.width+2),g.setAttribute("height",C.height+2),g.setAttribute("viewBox",C.x-1+" "+(C.y-1)+" "+(C.width+2)+" "+(C.height+2));var k=g.style,O="translate("+(C.x-1)+"px,"+(C.y-1)+"px)";k.transform=O,k.webkitTransform=O,u[c].yOffset=C.y-1}else g.setAttribute("width",1),g.setAttribute("height",1);_.appendChild(g)}}else if(m.textContent=u[c].val,m.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(m);else{this.innerElem.appendChild(_);var I=m.style,B="translate3d(0,"+-t.finalSize/1.2+"px,0)";I.transform=B,I.webkitTransform=B}this.isMasked?this.textSpans[T]=m:this.textSpans[T]=_,this.textSpans[T].style.display="block",this.textPaths[T]=m,T+=1}for(;T<this.textSpans.length;)this.textSpans[T].style.display="none",T+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var t;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),t=this.svgElement.style;var e="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";t.transform=e,t.webkitTransform=e}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var r,n,o=0,s=this.textAnimator.renderedLetters,c=this.textProperty.currentData.l;n=c.length;var d,u,m;for(r=0;r<n;r+=1)c[r].n?o+=1:(u=this.textSpans[r],m=this.textPaths[r],d=s[o],o+=1,d._mdf.m&&(this.isMasked?u.setAttribute("transform",d.m):(u.style.webkitTransform=d.m,u.style.transform=d.m)),u.style.opacity=d.o,d.sw&&d._mdf.sw&&m.setAttribute("stroke-width",d.sw),d.sc&&d._mdf.sc&&m.setAttribute("stroke",d.sc),d.fc&&d._mdf.fc&&(m.setAttribute("fill",d.fc),m.style.color=d.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var _=this.innerElem.getBBox();this.currentBBox.w!==_.width&&(this.currentBBox.w=_.width,this.svgElement.setAttribute("width",_.width)),this.currentBBox.h!==_.height&&(this.currentBBox.h=_.height,this.svgElement.setAttribute("height",_.height));var g=1;if(this.currentBBox.w!==_.width+g*2||this.currentBBox.h!==_.height+g*2||this.currentBBox.x!==_.x-g||this.currentBBox.y!==_.y-g){this.currentBBox.w=_.width+g*2,this.currentBBox.h=_.height+g*2,this.currentBBox.x=_.x-g,this.currentBBox.y=_.y-g,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),t=this.svgElement.style;var f="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";t.transform=f,t.webkitTransform=f}}}};function HCameraElement(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initHierarchy();var n=PropertyFactory.getProp;if(this.pe=n(this,t.pe,0,0,this),t.ks.p.s?(this.px=n(this,t.ks.p.x,1,0,this),this.py=n(this,t.ks.p.y,1,0,this),this.pz=n(this,t.ks.p.z,1,0,this)):this.p=n(this,t.ks.p,1,0,this),t.ks.a&&(this.a=n(this,t.ks.a,1,0,this)),t.ks.or.k.length&&t.ks.or.k[0].to){var o,s=t.ks.or.k.length;for(o=0;o<s;o+=1)t.ks.or.k[o].to=null,t.ks.or.k[o].ti=null}this.or=n(this,t.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=n(this,t.ks.rx,0,degToRads,this),this.ry=n(this,t.ks.ry,0,degToRads,this),this.rz=n(this,t.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var t,e=this.comp.threeDElements.length,r,n,o;for(t=0;t<e;t+=1)if(r=this.comp.threeDElements[t],r.type==="3d"){n=r.perspectiveElem.style,o=r.container.style;var s=this.pe.v+"px",c="0px 0px 0px",d="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";n.perspective=s,n.webkitPerspective=s,o.transformOrigin=c,o.mozTransformOrigin=c,o.webkitTransformOrigin=c,n.transform=d,n.webkitTransform=d}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t=this._isFirstFrame,e,r;if(this.hierarchy)for(r=this.hierarchy.length,e=0;e<r;e+=1)t=this.hierarchy[e].finalTransform.mProp._mdf||t;if(t||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(r=this.hierarchy.length-1,e=r;e>=0;e-=1){var n=this.hierarchy[e].finalTransform.mProp;this.mat.translate(-n.p.v[0],-n.p.v[1],n.p.v[2]),this.mat.rotateX(-n.or.v[0]).rotateY(-n.or.v[1]).rotateZ(n.or.v[2]),this.mat.rotateX(-n.rx.v).rotateY(-n.ry.v).rotateZ(n.rz.v),this.mat.scale(1/n.s.v[0],1/n.s.v[1],1/n.s.v[2]),this.mat.translate(n.a.v[0],n.a.v[1],n.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var o;this.p?o=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:o=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var s=Math.sqrt(Math.pow(o[0],2)+Math.pow(o[1],2)+Math.pow(o[2],2)),c=[o[0]/s,o[1]/s,o[2]/s],d=Math.sqrt(c[2]*c[2]+c[0]*c[0]),u=Math.atan2(c[1],d),m=Math.atan2(c[0],-c[2]);this.mat.rotateY(m).rotateX(-u)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var _=!this._prevMat.equals(this.mat);if((_||this.pe._mdf)&&this.comp.threeDElements){r=this.comp.threeDElements.length;var g,f,y;for(e=0;e<r;e+=1)if(g=this.comp.threeDElements[e],g.type==="3d"){if(_){var M=this.mat.toCSS();y=g.container.style,y.transform=M,y.webkitTransform=M}this.pe._mdf&&(f=g.perspectiveElem.style,f.perspective=this.pe.v+"px",f.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(t,e,r){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,r)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(e),e.crossOrigin="anonymous",e.src=t,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&e.hideOnTransparent===!1),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();t.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(t,e){var r=t.getBaseElement();if(r){var n=this.layers[e];if(!n.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(r,e);else{for(var o=0,s,c,d;o<e;)this.elements[o]&&this.elements[o]!==!0&&this.elements[o].getBaseElement&&(c=this.elements[o],d=this.layers[o].ddd?this.getThreeDContainerByPos(o):c.getBaseElement(),s=d||s),o+=1;s?(!n.ddd||!this.supports3d)&&this.layerElement.insertBefore(r,s):(!n.ddd||!this.supports3d)&&this.layerElement.appendChild(r)}else this.addTo3dContainer(r,e)}},HybridRendererBase.prototype.createShape=function(t){return this.supports3d?new HShapeElement(t,this.globalData,this):new SVGShapeElement(t,this.globalData,this)},HybridRendererBase.prototype.createText=function(t){return this.supports3d?new HTextElement(t,this.globalData,this):new SVGTextLottieElement(t,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(t){return this.supports3d?new HImageElement(t,this.globalData,this):new IImageElement(t,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(t){return this.supports3d?new HSolidElement(t,this.globalData,this):new ISolidElement(t,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(t){for(var e=0,r=this.threeDElements.length;e<r;){if(this.threeDElements[e].startPos<=t&&this.threeDElements[e].endPos>=t)return this.threeDElements[e].perspectiveElem;e+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(t,e){var r=createTag("div"),n,o;styleDiv(r);var s=createTag("div");if(styleDiv(s),e==="3d"){n=r.style,n.width=this.globalData.compSize.w+"px",n.height=this.globalData.compSize.h+"px";var c="50% 50%";n.webkitTransformOrigin=c,n.mozTransformOrigin=c,n.transformOrigin=c,o=s.style;var d="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";o.transform=d,o.webkitTransform=d}r.appendChild(s);var u={container:s,perspectiveElem:r,startPos:t,endPos:t,type:e};return this.threeDElements.push(u),u},HybridRendererBase.prototype.build3dContainers=function(){var t,e=this.layers.length,r,n="";for(t=0;t<e;t+=1)this.layers[t].ddd&&this.layers[t].ty!==3?(n!=="3d"&&(n="3d",r=this.createThreeDContainer(t,"3d")),r.endPos=Math.max(r.endPos,t)):(n!=="2d"&&(n="2d",r=this.createThreeDContainer(t,"2d")),r.endPos=Math.max(r.endPos,t));for(e=this.threeDElements.length,t=e-1;t>=0;t-=1)this.resizerElem.appendChild(this.threeDElements[t].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(t,e){for(var r=0,n=this.threeDElements.length;r<n;){if(e<=this.threeDElements[r].endPos){for(var o=this.threeDElements[r].startPos,s;o<e;)this.elements[o]&&this.elements[o].getBaseElement&&(s=this.elements[o].getBaseElement()),o+=1;s?this.threeDElements[r].container.insertBefore(t,s):this.threeDElements[r].container.appendChild(t);break}r+=1}},HybridRendererBase.prototype.configAnimation=function(t){var e=createTag("div"),r=this.animationItem.wrapper,n=e.style;n.width=t.w+"px",n.height=t.h+"px",this.resizerElem=e,styleDiv(e),n.transformStyle="flat",n.mozTransformStyle="flat",n.webkitTransformStyle="flat",this.renderConfig.className&&e.setAttribute("class",this.renderConfig.className),r.appendChild(e),n.overflow="hidden";var o=createNS("svg");o.setAttribute("width","1"),o.setAttribute("height","1"),styleDiv(o),this.resizerElem.appendChild(o);var s=createNS("defs");o.appendChild(s),this.data=t,this.setupGlobalData(t,o),this.globalData.defs=s,this.layers=t.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var t=this.animationItem.wrapper.offsetWidth,e=this.animationItem.wrapper.offsetHeight,r=t/e,n=this.globalData.compSize.w/this.globalData.compSize.h,o,s,c,d;n>r?(o=t/this.globalData.compSize.w,s=t/this.globalData.compSize.w,c=0,d=(e-this.globalData.compSize.h*(t/this.globalData.compSize.w))/2):(o=e/this.globalData.compSize.h,s=e/this.globalData.compSize.h,c=(t-this.globalData.compSize.w*(e/this.globalData.compSize.h))/2,d=0);var u=this.resizerElem.style;u.webkitTransform="matrix3d("+o+",0,0,0,0,"+s+",0,0,0,0,1,0,"+c+","+d+",0,1)",u.transform=u.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var t=this.globalData.compSize.w,e=this.globalData.compSize.h,r,n=this.threeDElements.length;for(r=0;r<n;r+=1){var o=this.threeDElements[r].perspectiveElem.style;o.webkitPerspective=Math.sqrt(Math.pow(t,2)+Math.pow(e,2))+"px",o.perspective=o.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(t){var e,r=t.length,n=createTag("div");for(e=0;e<r;e+=1)if(t[e].xt){var o=this.createComp(t[e],n,this.globalData.comp,null);o.initExpressions(),this.globalData.projectInterface.registerComposition(o)}};function HCompElement(t,e,r){this.layers=t.layers,this.supports3d=!t.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(t,e){for(var r=0,n;r<e;)this.elements[r]&&this.elements[r].getBaseElement&&(n=this.elements[r].getBaseElement()),r+=1;n?this.layerElement.insertBefore(t,n):this.layerElement.appendChild(t)},HCompElement.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)};function HybridRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&e.hideOnTransparent===!1),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"},runExpressions:!e||e.runExpressions===void 0||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)};var CompExpressionInterface=function(){return function(t){function e(r){for(var n=0,o=t.layers.length;n<o;){if(t.layers[n].nm===r||t.layers[n].ind===r)return t.elements[n].layerInterface;n+=1}return null}return Object.defineProperty(e,"_name",{value:t.data.nm}),e.layer=e,e.pixelAspect=1,e.height=t.data.h||t.globalData.compSize.h,e.width=t.data.w||t.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/t.globalData.frameRate,e.displayStartTime=0,e.numLayers=t.layers.length,e}}();function _typeof$2(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(e){return typeof e}:_typeof$2=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$2(t)}function seedRandom(t,e){var r=this,n=256,o=6,s=52,c="random",d=e.pow(n,o),u=e.pow(2,s),m=u*2,_=n-1,g;function f(k,O,I){var B=[];O=O===!0?{entropy:!0}:O||{};var j=A(T(O.entropy?[k,C(t)]:k===null?E():k,3),B),U=new y(B),N=function(){for(var W=U.g(o),ne=d,re=0;W<u;)W=(W+re)*n,ne*=n,re=U.g(1);for(;W>=m;)W/=2,ne/=2,re>>>=1;return(W+re)/ne};return N.int32=function(){return U.g(4)|0},N.quick=function(){return U.g(4)/4294967296},N.double=N,A(C(U.S),t),(O.pass||I||function(W,ne,re,le){return le&&(le.S&&M(le,U),W.state=function(){return M(U,{})}),re?(e[c]=W,ne):W})(N,j,"global"in O?O.global:this==e,O.state)}e["seed"+c]=f;function y(k){var O,I=k.length,B=this,j=0,U=B.i=B.j=0,N=B.S=[];for(I||(k=[I++]);j<n;)N[j]=j++;for(j=0;j<n;j++)N[j]=N[U=_&U+k[j%I]+(O=N[j])],N[U]=O;B.g=function(W){for(var ne,re=0,le=B.i,ae=B.j,pe=B.S;W--;)ne=pe[le=_&le+1],re=re*n+pe[_&(pe[le]=pe[ae=_&ae+ne])+(pe[ae]=ne)];return B.i=le,B.j=ae,re}}function M(k,O){return O.i=k.i,O.j=k.j,O.S=k.S.slice(),O}function T(k,O){var I=[],B=_typeof$2(k),j;if(O&&B=="object")for(j in k)try{I.push(T(k[j],O-1))}catch{}return I.length?I:B=="string"?k:k+"\0"}function A(k,O){for(var I=k+"",B,j=0;j<I.length;)O[_&j]=_&(B^=O[_&j]*19)+I.charCodeAt(j++);return C(O)}function E(){try{var k=new Uint8Array(n);return(r.crypto||r.msCrypto).getRandomValues(k),C(k)}catch{var O=r.navigator,I=O&&O.plugins;return[+new Date,r,I,r.screen,C(t)]}}function C(k){return String.fromCharCode.apply(0,k)}A(e.random(),t)}function initialize$2(t){seedRandom([],t)}var propTypes={SHAPE:"shape"};function _typeof$1(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(e){return typeof e}:_typeof$1=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(t)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(t){return t.constructor===Array||t.constructor===Float32Array}function isNumerable(t,e){return t==="number"||e instanceof Number||t==="boolean"||t==="string"}function $bm_neg(t){var e=_typeof$1(t);if(e==="number"||t instanceof Number||e==="boolean")return-t;if($bm_isInstanceOfArray(t)){var r,n=t.length,o=[];for(r=0;r<n;r+=1)o[r]=-t[r];return o}return t.propType?t.v:-t}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(t,e){var r=_typeof$1(t),n=_typeof$1(e);if(isNumerable(r,t)&&isNumerable(n,e)||r==="string"||n==="string")return t+e;if($bm_isInstanceOfArray(t)&&isNumerable(n,e))return t=t.slice(0),t[0]+=e,t;if(isNumerable(r,t)&&$bm_isInstanceOfArray(e))return e=e.slice(0),e[0]=t+e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var o=0,s=t.length,c=e.length,d=[];o<s||o<c;)(typeof t[o]=="number"||t[o]instanceof Number)&&(typeof e[o]=="number"||e[o]instanceof Number)?d[o]=t[o]+e[o]:d[o]=e[o]===void 0?t[o]:t[o]||e[o],o+=1;return d}return 0}var add=sum;function sub(t,e){var r=_typeof$1(t),n=_typeof$1(e);if(isNumerable(r,t)&&isNumerable(n,e))return r==="string"&&(t=parseInt(t,10)),n==="string"&&(e=parseInt(e,10)),t-e;if($bm_isInstanceOfArray(t)&&isNumerable(n,e))return t=t.slice(0),t[0]-=e,t;if(isNumerable(r,t)&&$bm_isInstanceOfArray(e))return e=e.slice(0),e[0]=t-e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var o=0,s=t.length,c=e.length,d=[];o<s||o<c;)(typeof t[o]=="number"||t[o]instanceof Number)&&(typeof e[o]=="number"||e[o]instanceof Number)?d[o]=t[o]-e[o]:d[o]=e[o]===void 0?t[o]:t[o]||e[o],o+=1;return d}return 0}function mul(t,e){var r=_typeof$1(t),n=_typeof$1(e),o;if(isNumerable(r,t)&&isNumerable(n,e))return t*e;var s,c;if($bm_isInstanceOfArray(t)&&isNumerable(n,e)){for(c=t.length,o=createTypedArray("float32",c),s=0;s<c;s+=1)o[s]=t[s]*e;return o}if(isNumerable(r,t)&&$bm_isInstanceOfArray(e)){for(c=e.length,o=createTypedArray("float32",c),s=0;s<c;s+=1)o[s]=t*e[s];return o}return 0}function div(t,e){var r=_typeof$1(t),n=_typeof$1(e),o;if(isNumerable(r,t)&&isNumerable(n,e))return t/e;var s,c;if($bm_isInstanceOfArray(t)&&isNumerable(n,e)){for(c=t.length,o=createTypedArray("float32",c),s=0;s<c;s+=1)o[s]=t[s]/e;return o}if(isNumerable(r,t)&&$bm_isInstanceOfArray(e)){for(c=e.length,o=createTypedArray("float32",c),s=0;s<c;s+=1)o[s]=t/e[s];return o}return 0}function mod(t,e){return typeof t=="string"&&(t=parseInt(t,10)),typeof e=="string"&&(e=parseInt(e,10)),t%e}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(t,e,r){if(e>r){var n=r;r=e,e=n}return Math.min(Math.max(t,e),r)}function radiansToDegrees(t){return t/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(t){return t*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(t,e){if(typeof t=="number"||t instanceof Number)return e=e||0,Math.abs(t-e);e||(e=helperLengthArray);var r,n=Math.min(t.length,e.length),o=0;for(r=0;r<n;r+=1)o+=Math.pow(e[r]-t[r],2);return Math.sqrt(o)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var e=t[0],r=t[1],n=t[2],o=Math.max(e,r,n),s=Math.min(e,r,n),c,d,u=(o+s)/2;if(o===s)c=0,d=0;else{var m=o-s;switch(d=u>.5?m/(2-o-s):m/(o+s),o){case e:c=(r-n)/m+(r<n?6:0);break;case r:c=(n-e)/m+2;break;case n:c=(e-r)/m+4;break}c/=6}return[c,d,u,t[3]]}function hue2rgb(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function hslToRgb(t){var e=t[0],r=t[1],n=t[2],o,s,c;if(r===0)o=n,c=n,s=n;else{var d=n<.5?n*(1+r):n+r-n*r,u=2*n-d;o=hue2rgb(u,d,e+1/3),s=hue2rgb(u,d,e),c=hue2rgb(u,d,e-1/3)}return[o,s,c,t[3]]}function linear(t,e,r,n,o){if((n===void 0||o===void 0)&&(n=e,o=r,e=0,r=1),r<e){var s=r;r=e,e=s}if(t<=e)return n;if(t>=r)return o;var c=r===e?0:(t-e)/(r-e);if(!n.length)return n+(o-n)*c;var d,u=n.length,m=createTypedArray("float32",u);for(d=0;d<u;d+=1)m[d]=n[d]+(o[d]-n[d])*c;return m}function random(t,e){if(e===void 0&&(t===void 0?(t=0,e=1):(e=t,t=void 0)),e.length){var r,n=e.length;t||(t=createTypedArray("float32",n));var o=createTypedArray("float32",n),s=BMMath.random();for(r=0;r<n;r+=1)o[r]=t[r]+s*(e[r]-t[r]);return o}t===void 0&&(t=0);var c=BMMath.random();return t+c*(e-t)}function createPath(t,e,r,n){var o,s=t.length,c=shapePool.newElement();c.setPathData(!!n,s);var d=[0,0],u,m;for(o=0;o<s;o+=1)u=e&&e[o]?e[o]:d,m=r&&r[o]?r[o]:d,c.setTripleAt(t[o][0],t[o][1],m[0]+t[o][0],m[1]+t[o][1],u[0]+t[o][0],u[1]+t[o][1],o,!0);return c}function initiateExpression(elem,data,property){function noOp(t){return t}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function t(e,r){var n,o,s=this.pv.length?this.pv.length:1,c=createTypedArray("float32",s);e=5;var d=Math.floor(time*e);for(n=0,o=0;n<d;){for(o=0;o<s;o+=1)c[o]+=-r+r*2*BMMath.random();n+=1}var u=time*e,m=u-Math.floor(u),_=createTypedArray("float32",s);if(s>1){for(o=0;o<s;o+=1)_[o]=this.pv[o]+c[o]+(-r+r*2*BMMath.random())*m;return _}return this.pv+c[0]+(-r+r*2*BMMath.random())*m}).bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(t,e){return loopIn(t,e,!0)}function loopOutDuration(t,e){return loopOut(t,e,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(t,e){var r=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],n=Math.atan2(r[0],Math.sqrt(r[1]*r[1]+r[2]*r[2]))/degToRads,o=-Math.atan2(r[1],r[2])/degToRads;return[o,n,0]}function easeOut(t,e,r,n,o){return applyEase(easeOutBez,t,e,r,n,o)}function easeIn(t,e,r,n,o){return applyEase(easeInBez,t,e,r,n,o)}function ease(t,e,r,n,o){return applyEase(easeInOutBez,t,e,r,n,o)}function applyEase(t,e,r,n,o,s){o===void 0?(o=r,s=n):e=(e-r)/(n-r),e>1?e=1:e<0&&(e=0);var c=t(e);if($bm_isInstanceOfArray(o)){var d,u=o.length,m=createTypedArray("float32",u);for(d=0;d<u;d+=1)m[d]=(s[d]-o[d])*c+o[d];return m}return(s-o)*c+o}function nearestKey(t){var e,r=data.k.length,n,o;if(!data.k.length||typeof data.k[0]=="number")n=0,o=0;else if(n=-1,t*=elem.comp.globalData.frameRate,t<data.k[0].t)n=1,o=data.k[0].t;else{for(e=0;e<r-1;e+=1)if(t===data.k[e].t){n=e+1,o=data.k[e].t;break}else if(t>data.k[e].t&&t<data.k[e+1].t){t-data.k[e].t>data.k[e+1].t-t?(n=e+2,o=data.k[e+1].t):(n=e+1,o=data.k[e].t);break}n===-1&&(n=e+1,o=data.k[e].t)}var s={};return s.index=n,s.time=o/elem.comp.globalData.frameRate,s}function key(t){var e,r,n;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+t);t-=1,e={time:data.k[t].t/elem.comp.globalData.frameRate,value:[]};var o=Object.prototype.hasOwnProperty.call(data.k[t],"s")?data.k[t].s:data.k[t-1].e;for(n=o.length,r=0;r<n;r+=1)e[r]=o[r],e.value[r]=o[r];return e}function framesToTime(t,e){return e||(e=elem.comp.globalData.frameRate),t/e}function timeToFrames(t,e){return!t&&t!==0&&(t=time),e||(e=elem.comp.globalData.frameRate),t*e}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(t,e){return typeof value=="string"?e===void 0?value.substring(t):value.substring(t,e):""}function substr(t,e){return typeof value=="string"?e===void 0?value.substr(t):value.substr(t,e):""}function posterizeTime(t){time=t===0?0:Math.floor(time*t)/t,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(t){return value=t,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var t={};t.initExpressions=e,t.resetFrame=ExpressionManager.resetFrame;function e(r){var n=0,o=[];function s(){n+=1}function c(){n-=1,n===0&&u()}function d(m){o.indexOf(m)===-1&&o.push(m)}function u(){var m,_=o.length;for(m=0;m<_;m+=1)o[m].release();o.length=0}r.renderer.compInterface=CompExpressionInterface(r.renderer),r.renderer.globalData.projectInterface.registerComposition(r.renderer),r.renderer.globalData.pushExpression=s,r.renderer.globalData.popExpression=c,r.renderer.globalData.registerExpressionProperty=d}return t}(),MaskManagerInterface=function(){function t(r,n){this._mask=r,this._data=n}Object.defineProperty(t.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(t.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var e=function(r){var n=createSizedArray(r.viewData.length),o,s=r.viewData.length;for(o=0;o<s;o+=1)n[o]=new t(r.viewData[o],r.masksProperties[o]);var c=function(d){for(o=0;o<s;){if(r.masksProperties[o].nm===d)return n[o];o+=1}return null};return c};return e}(),ExpressionPropertyInterface=function(){var t={pv:0,v:0,mult:1},e={pv:[0,0,0],v:[0,0,0],mult:1};function r(c,d,u){Object.defineProperty(c,"velocity",{get:function(){return d.getVelocityAtTime(d.comp.currentFrame)}}),c.numKeys=d.keyframes?d.keyframes.length:0,c.key=function(m){if(!c.numKeys)return 0;var _="";"s"in d.keyframes[m-1]?_=d.keyframes[m-1].s:"e"in d.keyframes[m-2]?_=d.keyframes[m-2].e:_=d.keyframes[m-2].s;var g=u==="unidimensional"?new Number(_):Object.assign({},_);return g.time=d.keyframes[m-1].t/d.elem.comp.globalData.frameRate,g.value=u==="unidimensional"?_[0]:_,g},c.valueAtTime=d.getValueAtTime,c.speedAtTime=d.getSpeedAtTime,c.velocityAtTime=d.getVelocityAtTime,c.propertyGroup=d.propertyGroup}function n(c){(!c||!("pv"in c))&&(c=t);var d=1/c.mult,u=c.pv*d,m=new Number(u);return m.value=u,r(m,c,"unidimensional"),function(){return c.k&&c.getValue(),u=c.v*d,m.value!==u&&(m=new Number(u),m.value=u,r(m,c,"unidimensional")),m}}function o(c){(!c||!("pv"in c))&&(c=e);var d=1/c.mult,u=c.data&&c.data.l||c.pv.length,m=createTypedArray("float32",u),_=createTypedArray("float32",u);return m.value=_,r(m,c,"multidimensional"),function(){c.k&&c.getValue();for(var g=0;g<u;g+=1)_[g]=c.v[g]*d,m[g]=_[g];return m}}function s(){return t}return function(c){return c?c.propType==="unidimensional"?n(c):o(c):s}}(),TransformExpressionInterface=function(){return function(t){function e(c){switch(c){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"ADBE Rotate X":return e.xRotation;case"ADBE Rotate Y":return e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"ADBE Position_0":return e.xPosition;case"ADBE Position_1":return e.yPosition;case"ADBE Position_2":return e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity;default:return null}}Object.defineProperty(e,"rotation",{get:ExpressionPropertyInterface(t.r||t.rz)}),Object.defineProperty(e,"zRotation",{get:ExpressionPropertyInterface(t.rz||t.r)}),Object.defineProperty(e,"xRotation",{get:ExpressionPropertyInterface(t.rx)}),Object.defineProperty(e,"yRotation",{get:ExpressionPropertyInterface(t.ry)}),Object.defineProperty(e,"scale",{get:ExpressionPropertyInterface(t.s)});var r,n,o,s;return t.p?s=ExpressionPropertyInterface(t.p):(r=ExpressionPropertyInterface(t.px),n=ExpressionPropertyInterface(t.py),t.pz&&(o=ExpressionPropertyInterface(t.pz))),Object.defineProperty(e,"position",{get:function(){return t.p?s():[r(),n(),o?o():0]}}),Object.defineProperty(e,"xPosition",{get:ExpressionPropertyInterface(t.px)}),Object.defineProperty(e,"yPosition",{get:ExpressionPropertyInterface(t.py)}),Object.defineProperty(e,"zPosition",{get:ExpressionPropertyInterface(t.pz)}),Object.defineProperty(e,"anchorPoint",{get:ExpressionPropertyInterface(t.a)}),Object.defineProperty(e,"opacity",{get:ExpressionPropertyInterface(t.o)}),Object.defineProperty(e,"skew",{get:ExpressionPropertyInterface(t.sk)}),Object.defineProperty(e,"skewAxis",{get:ExpressionPropertyInterface(t.sa)}),Object.defineProperty(e,"orientation",{get:ExpressionPropertyInterface(t.or)}),e}}(),LayerExpressionInterface=function(){function t(m){var _=new Matrix;if(m!==void 0){var g=this._elem.finalTransform.mProp.getValueAtTime(m);g.clone(_)}else{var f=this._elem.finalTransform.mProp;f.applyToMatrix(_)}return _}function e(m,_){var g=this.getMatrix(_);return g.props[12]=0,g.props[13]=0,g.props[14]=0,this.applyPoint(g,m)}function r(m,_){var g=this.getMatrix(_);return this.applyPoint(g,m)}function n(m,_){var g=this.getMatrix(_);return g.props[12]=0,g.props[13]=0,g.props[14]=0,this.invertPoint(g,m)}function o(m,_){var g=this.getMatrix(_);return this.invertPoint(g,m)}function s(m,_){if(this._elem.hierarchy&&this._elem.hierarchy.length){var g,f=this._elem.hierarchy.length;for(g=0;g<f;g+=1)this._elem.hierarchy[g].finalTransform.mProp.applyToMatrix(m)}return m.applyToPointArray(_[0],_[1],_[2]||0)}function c(m,_){if(this._elem.hierarchy&&this._elem.hierarchy.length){var g,f=this._elem.hierarchy.length;for(g=0;g<f;g+=1)this._elem.hierarchy[g].finalTransform.mProp.applyToMatrix(m)}return m.inversePoint(_)}function d(m){var _=new Matrix;if(_.reset(),this._elem.finalTransform.mProp.applyToMatrix(_),this._elem.hierarchy&&this._elem.hierarchy.length){var g,f=this._elem.hierarchy.length;for(g=0;g<f;g+=1)this._elem.hierarchy[g].finalTransform.mProp.applyToMatrix(_);return _.inversePoint(m)}return _.inversePoint(m)}function u(){return[1,1,1,1]}return function(m){var _;function g(T){y.mask=new MaskManagerInterface(T,m)}function f(T){y.effect=T}function y(T){switch(T){case"ADBE Root Vectors Group":case"Contents":case 2:return y.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return _;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return y.effect;case"ADBE Text Properties":return y.textInterface;default:return null}}y.getMatrix=t,y.invertPoint=c,y.applyPoint=s,y.toWorld=r,y.toWorldVec=e,y.fromWorld=o,y.fromWorldVec=n,y.toComp=r,y.fromComp=d,y.sampleImage=u,y.sourceRectAtTime=m.sourceRectAtTime.bind(m),y._elem=m,_=TransformExpressionInterface(m.finalTransform.mProp);var M=getDescriptor(_,"anchorPoint");return Object.defineProperties(y,{hasParent:{get:function(){return m.hierarchy.length}},parent:{get:function(){return m.hierarchy[0].layerInterface}},rotation:getDescriptor(_,"rotation"),scale:getDescriptor(_,"scale"),position:getDescriptor(_,"position"),opacity:getDescriptor(_,"opacity"),anchorPoint:M,anchor_point:M,transform:{get:function(){return _}},active:{get:function(){return m.isInRange}}}),y.startTime=m.data.st,y.index=m.data.ind,y.source=m.data.refId,y.height=m.data.ty===0?m.data.h:100,y.width=m.data.ty===0?m.data.w:100,y.inPoint=m.data.ip/m.comp.globalData.frameRate,y.outPoint=m.data.op/m.comp.globalData.frameRate,y._name=m.data.nm,y.registerMaskInterface=g,y.registerEffectsInterface=f,y}}(),propertyGroupFactory=function(){return function(t,e){return function(r){return r=r===void 0?1:r,r<=0?t:e(r-1)}}}(),PropertyInterface=function(){return function(t,e){var r={_name:t};function n(o){return o=o===void 0?1:o,o<=0?r:e(o-1)}return n}}(),EffectsExpressionInterface=function(){var t={createEffectsInterface:e};function e(o,s){if(o.effectsManager){var c=[],d=o.data.ef,u,m=o.effectsManager.effectElements.length;for(u=0;u<m;u+=1)c.push(r(d[u],o.effectsManager.effectElements[u],s,o));var _=o.data.ef||[],g=function(f){for(u=0,m=_.length;u<m;){if(f===_[u].nm||f===_[u].mn||f===_[u].ix)return c[u];u+=1}return null};return Object.defineProperty(g,"numProperties",{get:function(){return _.length}}),g}return null}function r(o,s,c,d){function u(y){for(var M=o.ef,T=0,A=M.length;T<A;){if(y===M[T].nm||y===M[T].mn||y===M[T].ix)return M[T].ty===5?_[T]:_[T]();T+=1}throw new Error}var m=propertyGroupFactory(u,c),_=[],g,f=o.ef.length;for(g=0;g<f;g+=1)o.ef[g].ty===5?_.push(r(o.ef[g],s.effectElements[g],s.effectElements[g].propertyGroup,d)):_.push(n(s.effectElements[g],o.ef[g].ty,d,m));return o.mn==="ADBE Color Control"&&Object.defineProperty(u,"color",{get:function(){return _[0]()}}),Object.defineProperties(u,{numProperties:{get:function(){return o.np}},_name:{value:o.nm},propertyGroup:{value:m}}),u.enabled=o.en!==0,u.active=u.enabled,u}function n(o,s,c,d){var u=ExpressionPropertyInterface(o.p);function m(){return s===10?c.comp.compInterface(o.p.v):u()}return o.p.setGroupProperty&&o.p.setGroupProperty(PropertyInterface("",d)),m}return t}(),ShapePathInterface=function(){return function(t,e,r){var n=e.sh;function o(c){return c==="Shape"||c==="shape"||c==="Path"||c==="path"||c==="ADBE Vector Shape"||c===2?o.path:null}var s=propertyGroupFactory(o,r);return n.setGroupProperty(PropertyInterface("Path",s)),Object.defineProperties(o,{path:{get:function(){return n.k&&n.getValue(),n}},shape:{get:function(){return n.k&&n.getValue(),n}},_name:{value:t.nm},ix:{value:t.ix},propertyIndex:{value:t.ix},mn:{value:t.mn},propertyGroup:{value:r}}),o}}(),ShapeExpressionInterface=function(){function t(M,T,A){var E=[],C,k=M?M.length:0;for(C=0;C<k;C+=1)M[C].ty==="gr"?E.push(r(M[C],T[C],A)):M[C].ty==="fl"?E.push(n(M[C],T[C],A)):M[C].ty==="st"?E.push(c(M[C],T[C],A)):M[C].ty==="tm"?E.push(d(M[C],T[C],A)):M[C].ty==="tr"||(M[C].ty==="el"?E.push(m(M[C],T[C],A)):M[C].ty==="sr"?E.push(_(M[C],T[C],A)):M[C].ty==="sh"?E.push(ShapePathInterface(M[C],T[C],A)):M[C].ty==="rc"?E.push(g(M[C],T[C],A)):M[C].ty==="rd"?E.push(f(M[C],T[C],A)):M[C].ty==="rp"?E.push(y(M[C],T[C],A)):M[C].ty==="gf"?E.push(o(M[C],T[C],A)):E.push(s(M[C],T[C])));return E}function e(M,T,A){var E,C=function(O){for(var I=0,B=E.length;I<B;){if(E[I]._name===O||E[I].mn===O||E[I].propertyIndex===O||E[I].ix===O||E[I].ind===O)return E[I];I+=1}return typeof O=="number"?E[O-1]:null};C.propertyGroup=propertyGroupFactory(C,A),E=t(M.it,T.it,C.propertyGroup),C.numProperties=E.length;var k=u(M.it[M.it.length-1],T.it[T.it.length-1],C.propertyGroup);return C.transform=k,C.propertyIndex=M.cix,C._name=M.nm,C}function r(M,T,A){var E=function(O){switch(O){case"ADBE Vectors Group":case"Contents":case 2:return E.content;default:return E.transform}};E.propertyGroup=propertyGroupFactory(E,A);var C=e(M,T,E.propertyGroup),k=u(M.it[M.it.length-1],T.it[T.it.length-1],E.propertyGroup);return E.content=C,E.transform=k,Object.defineProperty(E,"_name",{get:function(){return M.nm}}),E.numProperties=M.np,E.propertyIndex=M.ix,E.nm=M.nm,E.mn=M.mn,E}function n(M,T,A){function E(C){return C==="Color"||C==="color"?E.color:C==="Opacity"||C==="opacity"?E.opacity:null}return Object.defineProperties(E,{color:{get:ExpressionPropertyInterface(T.c)},opacity:{get:ExpressionPropertyInterface(T.o)},_name:{value:M.nm},mn:{value:M.mn}}),T.c.setGroupProperty(PropertyInterface("Color",A)),T.o.setGroupProperty(PropertyInterface("Opacity",A)),E}function o(M,T,A){function E(C){return C==="Start Point"||C==="start point"?E.startPoint:C==="End Point"||C==="end point"?E.endPoint:C==="Opacity"||C==="opacity"?E.opacity:null}return Object.defineProperties(E,{startPoint:{get:ExpressionPropertyInterface(T.s)},endPoint:{get:ExpressionPropertyInterface(T.e)},opacity:{get:ExpressionPropertyInterface(T.o)},type:{get:function(){return"a"}},_name:{value:M.nm},mn:{value:M.mn}}),T.s.setGroupProperty(PropertyInterface("Start Point",A)),T.e.setGroupProperty(PropertyInterface("End Point",A)),T.o.setGroupProperty(PropertyInterface("Opacity",A)),E}function s(){function M(){return null}return M}function c(M,T,A){var E=propertyGroupFactory(j,A),C=propertyGroupFactory(B,E);function k(U){Object.defineProperty(B,M.d[U].nm,{get:ExpressionPropertyInterface(T.d.dataProps[U].p)})}var O,I=M.d?M.d.length:0,B={};for(O=0;O<I;O+=1)k(O),T.d.dataProps[O].p.setGroupProperty(C);function j(U){return U==="Color"||U==="color"?j.color:U==="Opacity"||U==="opacity"?j.opacity:U==="Stroke Width"||U==="stroke width"?j.strokeWidth:null}return Object.defineProperties(j,{color:{get:ExpressionPropertyInterface(T.c)},opacity:{get:ExpressionPropertyInterface(T.o)},strokeWidth:{get:ExpressionPropertyInterface(T.w)},dash:{get:function(){return B}},_name:{value:M.nm},mn:{value:M.mn}}),T.c.setGroupProperty(PropertyInterface("Color",E)),T.o.setGroupProperty(PropertyInterface("Opacity",E)),T.w.setGroupProperty(PropertyInterface("Stroke Width",E)),j}function d(M,T,A){function E(k){return k===M.e.ix||k==="End"||k==="end"?E.end:k===M.s.ix?E.start:k===M.o.ix?E.offset:null}var C=propertyGroupFactory(E,A);return E.propertyIndex=M.ix,T.s.setGroupProperty(PropertyInterface("Start",C)),T.e.setGroupProperty(PropertyInterface("End",C)),T.o.setGroupProperty(PropertyInterface("Offset",C)),E.propertyIndex=M.ix,E.propertyGroup=A,Object.defineProperties(E,{start:{get:ExpressionPropertyInterface(T.s)},end:{get:ExpressionPropertyInterface(T.e)},offset:{get:ExpressionPropertyInterface(T.o)},_name:{value:M.nm}}),E.mn=M.mn,E}function u(M,T,A){function E(k){return M.a.ix===k||k==="Anchor Point"?E.anchorPoint:M.o.ix===k||k==="Opacity"?E.opacity:M.p.ix===k||k==="Position"?E.position:M.r.ix===k||k==="Rotation"||k==="ADBE Vector Rotation"?E.rotation:M.s.ix===k||k==="Scale"?E.scale:M.sk&&M.sk.ix===k||k==="Skew"?E.skew:M.sa&&M.sa.ix===k||k==="Skew Axis"?E.skewAxis:null}var C=propertyGroupFactory(E,A);return T.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",C)),T.transform.mProps.p.setGroupProperty(PropertyInterface("Position",C)),T.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",C)),T.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",C)),T.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",C)),T.transform.mProps.sk&&(T.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",C)),T.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",C))),T.transform.op.setGroupProperty(PropertyInterface("Opacity",C)),Object.defineProperties(E,{opacity:{get:ExpressionPropertyInterface(T.transform.mProps.o)},position:{get:ExpressionPropertyInterface(T.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(T.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(T.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(T.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(T.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(T.transform.mProps.sa)},_name:{value:M.nm}}),E.ty="tr",E.mn=M.mn,E.propertyGroup=A,E}function m(M,T,A){function E(O){return M.p.ix===O?E.position:M.s.ix===O?E.size:null}var C=propertyGroupFactory(E,A);E.propertyIndex=M.ix;var k=T.sh.ty==="tm"?T.sh.prop:T.sh;return k.s.setGroupProperty(PropertyInterface("Size",C)),k.p.setGroupProperty(PropertyInterface("Position",C)),Object.defineProperties(E,{size:{get:ExpressionPropertyInterface(k.s)},position:{get:ExpressionPropertyInterface(k.p)},_name:{value:M.nm}}),E.mn=M.mn,E}function _(M,T,A){function E(O){return M.p.ix===O?E.position:M.r.ix===O?E.rotation:M.pt.ix===O?E.points:M.or.ix===O||O==="ADBE Vector Star Outer Radius"?E.outerRadius:M.os.ix===O?E.outerRoundness:M.ir&&(M.ir.ix===O||O==="ADBE Vector Star Inner Radius")?E.innerRadius:M.is&&M.is.ix===O?E.innerRoundness:null}var C=propertyGroupFactory(E,A),k=T.sh.ty==="tm"?T.sh.prop:T.sh;return E.propertyIndex=M.ix,k.or.setGroupProperty(PropertyInterface("Outer Radius",C)),k.os.setGroupProperty(PropertyInterface("Outer Roundness",C)),k.pt.setGroupProperty(PropertyInterface("Points",C)),k.p.setGroupProperty(PropertyInterface("Position",C)),k.r.setGroupProperty(PropertyInterface("Rotation",C)),M.ir&&(k.ir.setGroupProperty(PropertyInterface("Inner Radius",C)),k.is.setGroupProperty(PropertyInterface("Inner Roundness",C))),Object.defineProperties(E,{position:{get:ExpressionPropertyInterface(k.p)},rotation:{get:ExpressionPropertyInterface(k.r)},points:{get:ExpressionPropertyInterface(k.pt)},outerRadius:{get:ExpressionPropertyInterface(k.or)},outerRoundness:{get:ExpressionPropertyInterface(k.os)},innerRadius:{get:ExpressionPropertyInterface(k.ir)},innerRoundness:{get:ExpressionPropertyInterface(k.is)},_name:{value:M.nm}}),E.mn=M.mn,E}function g(M,T,A){function E(O){return M.p.ix===O?E.position:M.r.ix===O?E.roundness:M.s.ix===O||O==="Size"||O==="ADBE Vector Rect Size"?E.size:null}var C=propertyGroupFactory(E,A),k=T.sh.ty==="tm"?T.sh.prop:T.sh;return E.propertyIndex=M.ix,k.p.setGroupProperty(PropertyInterface("Position",C)),k.s.setGroupProperty(PropertyInterface("Size",C)),k.r.setGroupProperty(PropertyInterface("Rotation",C)),Object.defineProperties(E,{position:{get:ExpressionPropertyInterface(k.p)},roundness:{get:ExpressionPropertyInterface(k.r)},size:{get:ExpressionPropertyInterface(k.s)},_name:{value:M.nm}}),E.mn=M.mn,E}function f(M,T,A){function E(O){return M.r.ix===O||O==="Round Corners 1"?E.radius:null}var C=propertyGroupFactory(E,A),k=T;return E.propertyIndex=M.ix,k.rd.setGroupProperty(PropertyInterface("Radius",C)),Object.defineProperties(E,{radius:{get:ExpressionPropertyInterface(k.rd)},_name:{value:M.nm}}),E.mn=M.mn,E}function y(M,T,A){function E(O){return M.c.ix===O||O==="Copies"?E.copies:M.o.ix===O||O==="Offset"?E.offset:null}var C=propertyGroupFactory(E,A),k=T;return E.propertyIndex=M.ix,k.c.setGroupProperty(PropertyInterface("Copies",C)),k.o.setGroupProperty(PropertyInterface("Offset",C)),Object.defineProperties(E,{copies:{get:ExpressionPropertyInterface(k.c)},offset:{get:ExpressionPropertyInterface(k.o)},_name:{value:M.nm}}),E.mn=M.mn,E}return function(M,T,A){var E;function C(O){if(typeof O=="number")return O=O===void 0?1:O,O===0?A:E[O-1];for(var I=0,B=E.length;I<B;){if(E[I]._name===O)return E[I];I+=1}return null}function k(){return A}return C.propertyGroup=propertyGroupFactory(C,k),E=t(M,T,C.propertyGroup),C.numProperties=E.length,C._name="Contents",C}}(),TextExpressionInterface=function(){return function(t){var e;function r(n){switch(n){case"ADBE Text Document":return r.sourceText;default:return null}}return Object.defineProperty(r,"sourceText",{get:function(){t.textProperty.getValue();var n=t.textProperty.currentData.t;return(!e||n!==e.value)&&(e=new String(n),e.value=n||new String(n),Object.defineProperty(e,"style",{get:function(){return{fillColor:t.textProperty.currentData.fc}}})),e}}),r}}();function _typeof(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(e){return typeof e}:_typeof=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(t)}var FootageInterface=function(){var t=function(r){var n="",o=r.getFootageData();function s(){return n="",o=r.getFootageData(),c}function c(d){if(o[d])return n=d,o=o[d],_typeof(o)==="object"?c:o;var u=d.indexOf(n);if(u!==-1){var m=parseInt(d.substr(u+n.length),10);return o=o[m],_typeof(o)==="object"?c:o}return""}return s},e=function(r){function n(o){return o==="Outline"?n.outlineInterface():null}return n._name="Outline",n.outlineInterface=t(r),n};return function(r){function n(o){return o==="Data"?n.dataInterface:null}return n._name="Data",n.dataInterface=e(r),n}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(t){return interfaces[t]||null}var expressionHelpers=function(){function t(c,d,u){d.x&&(u.k=!0,u.x=!0,u.initiateExpression=ExpressionManager.initiateExpression,u.effectsSequence.push(u.initiateExpression(c,d,u).bind(u)))}function e(c){return c*=this.elem.globalData.frameRate,c-=this.offsetTime,c!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<c?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(c,this._cachingAtTime),this._cachingAtTime.lastFrame=c),this._cachingAtTime.value}function r(c){var d=-.01,u=this.getValueAtTime(c),m=this.getValueAtTime(c+d),_=0;if(u.length){var g;for(g=0;g<u.length;g+=1)_+=Math.pow(m[g]-u[g],2);_=Math.sqrt(_)*100}else _=0;return _}function n(c){if(this.vel!==void 0)return this.vel;var d=-.001,u=this.getValueAtTime(c),m=this.getValueAtTime(c+d),_;if(u.length){_=createTypedArray("float32",u.length);var g;for(g=0;g<u.length;g+=1)_[g]=(m[g]-u[g])/d}else _=(m-u)/d;return _}function o(){return this.pv}function s(c){this.propertyGroup=c}return{searchExpressions:t,getSpeedAtTime:r,getVelocityAtTime:n,getValueAtTime:e,getStaticValueAtTime:o,setGroupProperty:s}}();function addPropertyDecorator(){function t(f,y,M){if(!this.k||!this.keyframes)return this.pv;f=f?f.toLowerCase():"";var T=this.comp.renderedFrame,A=this.keyframes,E=A[A.length-1].t;if(T<=E)return this.pv;var C,k;M?(y?C=Math.abs(E-this.elem.comp.globalData.frameRate*y):C=Math.max(0,E-this.elem.data.ip),k=E-C):((!y||y>A.length-1)&&(y=A.length-1),k=A[A.length-1-y].t,C=E-k);var O,I,B;if(f==="pingpong"){var j=Math.floor((T-k)/C);if(j%2!==0)return this.getValueAtTime((C-(T-k)%C+k)/this.comp.globalData.frameRate,0)}else if(f==="offset"){var U=this.getValueAtTime(k/this.comp.globalData.frameRate,0),N=this.getValueAtTime(E/this.comp.globalData.frameRate,0),W=this.getValueAtTime(((T-k)%C+k)/this.comp.globalData.frameRate,0),ne=Math.floor((T-k)/C);if(this.pv.length){for(B=new Array(U.length),I=B.length,O=0;O<I;O+=1)B[O]=(N[O]-U[O])*ne+W[O];return B}return(N-U)*ne+W}else if(f==="continue"){var re=this.getValueAtTime(E/this.comp.globalData.frameRate,0),le=this.getValueAtTime((E-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(B=new Array(re.length),I=B.length,O=0;O<I;O+=1)B[O]=re[O]+(re[O]-le[O])*((T-E)/this.comp.globalData.frameRate)/5e-4;return B}return re+(re-le)*((T-E)/.001)}return this.getValueAtTime(((T-k)%C+k)/this.comp.globalData.frameRate,0)}function e(f,y,M){if(!this.k)return this.pv;f=f?f.toLowerCase():"";var T=this.comp.renderedFrame,A=this.keyframes,E=A[0].t;if(T>=E)return this.pv;var C,k;M?(y?C=Math.abs(this.elem.comp.globalData.frameRate*y):C=Math.max(0,this.elem.data.op-E),k=E+C):((!y||y>A.length-1)&&(y=A.length-1),k=A[y].t,C=k-E);var O,I,B;if(f==="pingpong"){var j=Math.floor((E-T)/C);if(j%2===0)return this.getValueAtTime(((E-T)%C+E)/this.comp.globalData.frameRate,0)}else if(f==="offset"){var U=this.getValueAtTime(E/this.comp.globalData.frameRate,0),N=this.getValueAtTime(k/this.comp.globalData.frameRate,0),W=this.getValueAtTime((C-(E-T)%C+E)/this.comp.globalData.frameRate,0),ne=Math.floor((E-T)/C)+1;if(this.pv.length){for(B=new Array(U.length),I=B.length,O=0;O<I;O+=1)B[O]=W[O]-(N[O]-U[O])*ne;return B}return W-(N-U)*ne}else if(f==="continue"){var re=this.getValueAtTime(E/this.comp.globalData.frameRate,0),le=this.getValueAtTime((E+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(B=new Array(re.length),I=B.length,O=0;O<I;O+=1)B[O]=re[O]+(re[O]-le[O])*(E-T)/.001;return B}return re+(re-le)*(E-T)/.001}return this.getValueAtTime((C-((E-T)%C+E))/this.comp.globalData.frameRate,0)}function r(f,y){if(!this.k)return this.pv;if(f=(f||.4)*.5,y=Math.floor(y||5),y<=1)return this.pv;var M=this.comp.renderedFrame/this.comp.globalData.frameRate,T=M-f,A=M+f,E=y>1?(A-T)/(y-1):1,C=0,k=0,O;this.pv.length?O=createTypedArray("float32",this.pv.length):O=0;for(var I;C<y;){if(I=this.getValueAtTime(T+C*E),this.pv.length)for(k=0;k<this.pv.length;k+=1)O[k]+=I[k];else O+=I;C+=1}if(this.pv.length)for(k=0;k<this.pv.length;k+=1)O[k]/=y;else O/=y;return O}function n(f){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var y=this._transformCachingAtTime.v;if(y.cloneFromProps(this.pre.props),this.appliedTransformations<1){var M=this.a.getValueAtTime(f);y.translate(-M[0]*this.a.mult,-M[1]*this.a.mult,M[2]*this.a.mult)}if(this.appliedTransformations<2){var T=this.s.getValueAtTime(f);y.scale(T[0]*this.s.mult,T[1]*this.s.mult,T[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var A=this.sk.getValueAtTime(f),E=this.sa.getValueAtTime(f);y.skewFromAxis(-A*this.sk.mult,E*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var C=this.r.getValueAtTime(f);y.rotate(-C*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var k=this.rz.getValueAtTime(f),O=this.ry.getValueAtTime(f),I=this.rx.getValueAtTime(f),B=this.or.getValueAtTime(f);y.rotateZ(-k*this.rz.mult).rotateY(O*this.ry.mult).rotateX(I*this.rx.mult).rotateZ(-B[2]*this.or.mult).rotateY(B[1]*this.or.mult).rotateX(B[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var j=this.px.getValueAtTime(f),U=this.py.getValueAtTime(f);if(this.data.p.z){var N=this.pz.getValueAtTime(f);y.translate(j*this.px.mult,U*this.py.mult,-N*this.pz.mult)}else y.translate(j*this.px.mult,U*this.py.mult,0)}else{var W=this.p.getValueAtTime(f);y.translate(W[0]*this.p.mult,W[1]*this.p.mult,-W[2]*this.p.mult)}return y}function o(){return this.v.clone(new Matrix)}var s=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(f,y,M){var T=s(f,y,M);return T.dynamicProperties.length?T.getValueAtTime=n.bind(T):T.getValueAtTime=o.bind(T),T.setGroupProperty=expressionHelpers.setGroupProperty,T};var c=PropertyFactory.getProp;PropertyFactory.getProp=function(f,y,M,T,A){var E=c(f,y,M,T,A);E.kf?E.getValueAtTime=expressionHelpers.getValueAtTime.bind(E):E.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(E),E.setGroupProperty=expressionHelpers.setGroupProperty,E.loopOut=t,E.loopIn=e,E.smooth=r,E.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(E),E.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(E),E.numKeys=y.a===1?y.k.length:0,E.propertyIndex=y.ix;var C=0;return M!==0&&(C=createTypedArray("float32",y.a===1?y.k[0].s.length:y.k.length)),E._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:C},expressionHelpers.searchExpressions(f,y,E),E.k&&A.addDynamicProperty(E),E};function d(f){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),f*=this.elem.globalData.frameRate,f-=this.offsetTime,f!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<f?this._caching.lastIndex:0,this._cachingAtTime.lastTime=f,this.interpolateShape(f,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var u=ShapePropertyFactory.getConstructorFunction(),m=ShapePropertyFactory.getKeyframedConstructorFunction();function _(){}_.prototype={vertices:function(f,y){this.k&&this.getValue();var M=this.v;y!==void 0&&(M=this.getValueAtTime(y,0));var T,A=M._length,E=M[f],C=M.v,k=createSizedArray(A);for(T=0;T<A;T+=1)f==="i"||f==="o"?k[T]=[E[T][0]-C[T][0],E[T][1]-C[T][1]]:k[T]=[E[T][0],E[T][1]];return k},points:function(f){return this.vertices("v",f)},inTangents:function(f){return this.vertices("i",f)},outTangents:function(f){return this.vertices("o",f)},isClosed:function(){return this.v.c},pointOnPath:function(f,y){var M=this.v;y!==void 0&&(M=this.getValueAtTime(y,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(M));for(var T=this._segmentsLength,A=T.lengths,E=T.totalLength*f,C=0,k=A.length,O=0,I;C<k;){if(O+A[C].addedLength>E){var B=C,j=M.c&&C===k-1?0:C+1,U=(E-O)/A[C].addedLength;I=bez.getPointInSegment(M.v[B],M.v[j],M.o[B],M.i[j],U,A[C]);break}else O+=A[C].addedLength;C+=1}return I||(I=M.c?[M.v[0][0],M.v[0][1]]:[M.v[M._length-1][0],M.v[M._length-1][1]]),I},vectorOnPath:function(f,y,M){f==1?f=this.v.c:f==0&&(f=.999);var T=this.pointOnPath(f,y),A=this.pointOnPath(f+.001,y),E=A[0]-T[0],C=A[1]-T[1],k=Math.sqrt(Math.pow(E,2)+Math.pow(C,2));if(k===0)return[0,0];var O=M==="tangent"?[E/k,C/k]:[-C/k,E/k];return O},tangentOnPath:function(f,y){return this.vectorOnPath(f,y,"tangent")},normalOnPath:function(f,y){return this.vectorOnPath(f,y,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([_],u),extendPrototype([_],m),m.prototype.getValueAtTime=d,m.prototype.initiateExpression=ExpressionManager.initiateExpression;var g=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(f,y,M,T,A){var E=g(f,y,M,T,A);return E.propertyIndex=y.ix,E.lock=!1,M===3?expressionHelpers.searchExpressions(f,y.pt,E):M===4&&expressionHelpers.searchExpressions(f,y.ks,E),E.k&&f.addDynamicProperty(E),E}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function t(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(e,r){var n=this.calculateExpression(r);if(e.t!==n){var o={};return this.copyData(o,e),o.t=n.toString(),o.__complete=!1,o}return e},TextProperty.prototype.searchProperty=function(){var e=this.searchKeyframes(),r=this.searchExpressions();return this.kf=e||r,this.kf},TextProperty.prototype.searchExpressions=t}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function t(e,r){var n=createNS("feMerge");n.setAttribute("result",e);var o,s;for(s=0;s<r.length;s+=1)o=createNS("feMergeNode"),o.setAttribute("in",r[s]),n.appendChild(o),n.appendChild(o);return n}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(t,e,r,n,o){this.filterManager=e;var s=createNS("feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","linearRGB"),s.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=s,s.setAttribute("result",n+"_tint_1"),t.appendChild(s),s=createNS("feColorMatrix"),s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),s.setAttribute("result",n+"_tint_2"),t.appendChild(s),this.matrixFilter=s;var c=this.createMergeNode(n,[o,n+"_tint_1",n+"_tint_2"]);t.appendChild(c)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,n=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+n+" 0"),this.matrixFilter.setAttribute("values",r[0]-e[0]+" 0 0 0 "+e[0]+" "+(r[1]-e[1])+" 0 0 0 "+e[1]+" "+(r[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 1 0")}};function SVGFillFilter(t,e,r,n){this.filterManager=e;var o=createNS("feColorMatrix");o.setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","sRGB"),o.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),o.setAttribute("result",n),t.appendChild(o),this.matrixFilter=o}SVGFillFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[2].p.v,r=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+r+" 0")}};function SVGStrokeEffect(t,e,r){this.initialized=!1,this.filterManager=e,this.elem=r,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var t=this.elem.layerElement.children||this.elem.layerElement.childNodes,e,r,n,o;for(this.filterManager.effectElements[1].p.v===1?(o=this.elem.maskManager.masksProperties.length,n=0):(n=this.filterManager.effectElements[0].p.v-1,o=n+1),r=createNS("g"),r.setAttribute("fill","none"),r.setAttribute("stroke-linecap","round"),r.setAttribute("stroke-dashoffset",1),n;n<o;n+=1)e=createNS("path"),r.appendChild(e),this.paths.push({p:e,m:n});if(this.filterManager.effectElements[10].p.v===3){var s=createNS("mask"),c=createElementID();s.setAttribute("id",c),s.setAttribute("mask-type","alpha"),s.appendChild(r),this.elem.globalData.defs.appendChild(s);var d=createNS("g");for(d.setAttribute("mask","url("+getLocationHref()+"#"+c+")");t[0];)d.appendChild(t[0]);this.elem.layerElement.appendChild(d),this.masker=s,r.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(t=this.elem.layerElement.children||this.elem.layerElement.childNodes;t.length;)this.elem.layerElement.removeChild(t[0]);this.elem.layerElement.appendChild(r),this.elem.layerElement.removeAttribute("mask"),r.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=r},SVGStrokeEffect.prototype.renderFrame=function(t){this.initialized||this.initialize();var e,r=this.paths.length,n,o;for(e=0;e<r;e+=1)if(this.paths[e].m!==-1&&(n=this.elem.maskManager.viewData[this.paths[e].m],o=this.paths[e].p,(t||this.filterManager._mdf||n.prop._mdf)&&o.setAttribute("d",n.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||n.prop._mdf)){var s;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var c=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,d=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,u=o.getTotalLength();s="0 0 0 "+u*c+" ";var m=u*(d-c),_=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,g=Math.floor(m/_),f;for(f=0;f<g;f+=1)s+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";s+="0 "+u*10+" 0 0"}else s="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;o.setAttribute("stroke-dasharray",s)}if((t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(t||this.filterManager.effectElements[3].p._mdf)){var y=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(y[0]*255)+","+bmFloor(y[1]*255)+","+bmFloor(y[2]*255)+")")}};function SVGTritoneFilter(t,e,r,n){this.filterManager=e;var o=createNS("feColorMatrix");o.setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","linearRGB"),o.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),t.appendChild(o);var s=createNS("feComponentTransfer");s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("result",n),this.matrixFilter=s;var c=createNS("feFuncR");c.setAttribute("type","table"),s.appendChild(c),this.feFuncR=c;var d=createNS("feFuncG");d.setAttribute("type","table"),s.appendChild(d),this.feFuncG=d;var u=createNS("feFuncB");u.setAttribute("type","table"),s.appendChild(u),this.feFuncB=u,t.appendChild(s)}SVGTritoneFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,n=this.filterManager.effectElements[2].p.v,o=n[0]+" "+r[0]+" "+e[0],s=n[1]+" "+r[1]+" "+e[1],c=n[2]+" "+r[2]+" "+e[2];this.feFuncR.setAttribute("tableValues",o),this.feFuncG.setAttribute("tableValues",s),this.feFuncB.setAttribute("tableValues",c)}};function SVGProLevelsFilter(t,e,r,n){this.filterManager=e;var o=this.filterManager.effectElements,s=createNS("feComponentTransfer");(o[10].p.k||o[10].p.v!==0||o[11].p.k||o[11].p.v!==1||o[12].p.k||o[12].p.v!==1||o[13].p.k||o[13].p.v!==0||o[14].p.k||o[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",s)),(o[17].p.k||o[17].p.v!==0||o[18].p.k||o[18].p.v!==1||o[19].p.k||o[19].p.v!==1||o[20].p.k||o[20].p.v!==0||o[21].p.k||o[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",s)),(o[24].p.k||o[24].p.v!==0||o[25].p.k||o[25].p.v!==1||o[26].p.k||o[26].p.v!==1||o[27].p.k||o[27].p.v!==0||o[28].p.k||o[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",s)),(o[31].p.k||o[31].p.v!==0||o[32].p.k||o[32].p.v!==1||o[33].p.k||o[33].p.v!==1||o[34].p.k||o[34].p.v!==0||o[35].p.k||o[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",s)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(s.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(s)),(o[3].p.k||o[3].p.v!==0||o[4].p.k||o[4].p.v!==1||o[5].p.k||o[5].p.v!==1||o[6].p.k||o[6].p.v!==0||o[7].p.k||o[7].p.v!==1)&&(s=createNS("feComponentTransfer"),s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("result",n),t.appendChild(s),this.feFuncRComposed=this.createFeFunc("feFuncR",s),this.feFuncGComposed=this.createFeFunc("feFuncG",s),this.feFuncBComposed=this.createFeFunc("feFuncB",s))}SVGProLevelsFilter.prototype.createFeFunc=function(t,e){var r=createNS(t);return r.setAttribute("type","table"),e.appendChild(r),r},SVGProLevelsFilter.prototype.getTableValue=function(t,e,r,n,o){for(var s=0,c=256,d,u=Math.min(t,e),m=Math.max(t,e),_=Array.call(null,{length:c}),g,f=0,y=o-n,M=e-t;s<=256;)d=s/256,d<=u?g=M<0?o:n:d>=m?g=M<0?n:o:g=n+y*Math.pow((d-t)/M,1/r),_[f]=g,f+=1,s+=256/(c-1);return _.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e,r=this.filterManager.effectElements;this.feFuncRComposed&&(t||r[3].p._mdf||r[4].p._mdf||r[5].p._mdf||r[6].p._mdf||r[7].p._mdf)&&(e=this.getTableValue(r[3].p.v,r[4].p.v,r[5].p.v,r[6].p.v,r[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(t||r[10].p._mdf||r[11].p._mdf||r[12].p._mdf||r[13].p._mdf||r[14].p._mdf)&&(e=this.getTableValue(r[10].p.v,r[11].p.v,r[12].p.v,r[13].p.v,r[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||r[17].p._mdf||r[18].p._mdf||r[19].p._mdf||r[20].p._mdf||r[21].p._mdf)&&(e=this.getTableValue(r[17].p.v,r[18].p.v,r[19].p.v,r[20].p.v,r[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||r[24].p._mdf||r[25].p._mdf||r[26].p._mdf||r[27].p._mdf||r[28].p._mdf)&&(e=this.getTableValue(r[24].p.v,r[25].p.v,r[26].p.v,r[27].p.v,r[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||r[31].p._mdf||r[32].p._mdf||r[33].p._mdf||r[34].p._mdf||r[35].p._mdf)&&(e=this.getTableValue(r[31].p.v,r[32].p.v,r[33].p.v,r[34].p.v,r[35].p.v),this.feFuncA.setAttribute("tableValues",e))}};function SVGDropShadowEffect(t,e,r,n,o){var s=e.container.globalData.renderConfig.filterSize,c=e.data.fs||s;t.setAttribute("x",c.x||s.x),t.setAttribute("y",c.y||s.y),t.setAttribute("width",c.width||s.width),t.setAttribute("height",c.height||s.height),this.filterManager=e;var d=createNS("feGaussianBlur");d.setAttribute("in","SourceAlpha"),d.setAttribute("result",n+"_drop_shadow_1"),d.setAttribute("stdDeviation","0"),this.feGaussianBlur=d,t.appendChild(d);var u=createNS("feOffset");u.setAttribute("dx","25"),u.setAttribute("dy","0"),u.setAttribute("in",n+"_drop_shadow_1"),u.setAttribute("result",n+"_drop_shadow_2"),this.feOffset=u,t.appendChild(u);var m=createNS("feFlood");m.setAttribute("flood-color","#00ff00"),m.setAttribute("flood-opacity","1"),m.setAttribute("result",n+"_drop_shadow_3"),this.feFlood=m,t.appendChild(m);var _=createNS("feComposite");_.setAttribute("in",n+"_drop_shadow_3"),_.setAttribute("in2",n+"_drop_shadow_2"),_.setAttribute("operator","in"),_.setAttribute("result",n+"_drop_shadow_4"),t.appendChild(_);var g=this.createMergeNode(n,[n+"_drop_shadow_4",o]);t.appendChild(g)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){if((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p._mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(e[0]*255),Math.round(e[1]*255),Math.round(e[2]*255)))}if((t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var r=this.filterManager.effectElements[3].p.v,n=(this.filterManager.effectElements[2].p.v-90)*degToRads,o=r*Math.cos(n),s=r*Math.sin(n);this.feOffset.setAttribute("dx",o),this.feOffset.setAttribute("dy",s)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(t,e,r){this.initialized=!1,this.filterManager=e,this.filterElem=t,this.elem=r,r.matteElement=createNS("g"),r.matteElement.appendChild(r.layerElement),r.matteElement.appendChild(r.transformedElement),r.baseElement=r.matteElement}SVGMatte3Effect.prototype.findSymbol=function(t){for(var e=0,r=_svgMatteSymbols.length;e<r;){if(_svgMatteSymbols[e]===t)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(t,e){var r=t.layerElement.parentNode;if(r){for(var n=r.children,o=0,s=n.length;o<s&&n[o]!==t.layerElement;)o+=1;var c;o<=s-2&&(c=n[o+1]);var d=createNS("use");d.setAttribute("href","#"+e),c?r.insertBefore(d,c):r.appendChild(d)}},SVGMatte3Effect.prototype.setElementAsMask=function(t,e){if(!this.findSymbol(e)){var r=createElementID(),n=createNS("mask");n.setAttribute("id",e.layerId),n.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(e);var o=t.globalData.defs;o.appendChild(n);var s=createNS("symbol");s.setAttribute("id",r),this.replaceInParent(e,r),s.appendChild(e.layerElement),o.appendChild(s);var c=createNS("use");c.setAttribute("href","#"+r),n.appendChild(c),e.data.hd=!1,e.show()}t.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,r=0,n=e.length;r<n;)e[r]&&e[r].data.ind===t&&this.setElementAsMask(this.elem,e[r]),r+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(t,e,r,n){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","300%"),t.setAttribute("height","300%"),this.filterManager=e;var o=createNS("feGaussianBlur");o.setAttribute("result",n),t.appendChild(o),this.feGaussianBlur=o}SVGGaussianBlurEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=.3,r=this.filterManager.effectElements[0].p.v*e,n=this.filterManager.effectElements[1].p.v,o=n==3?0:r,s=n==2?0:r;this.feGaussianBlur.setAttribute("stdDeviation",o+" "+s);var c=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",c)}};function TransformEffect(){}TransformEffect.prototype.init=function(t){this.effectsManager=t,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(t){if(this._opMdf=!1,this._mdf=!1,t||this.effectsManager._mdf){var e=this.effectsManager.effectElements,r=e[0].p.v,n=e[1].p.v,o=e[2].p.v===1,s=e[3].p.v,c=o?s:e[4].p.v,d=e[5].p.v,u=e[6].p.v,m=e[7].p.v;this.matrix.reset(),this.matrix.translate(-r[0],-r[1],r[2]),this.matrix.scale(c*.01,s*.01,1),this.matrix.rotate(-m*degToRads),this.matrix.skewFromAxis(-d*degToRads,(u+90)*degToRads),this.matrix.translate(n[0],n[1],0),this._mdf=!0,this.opacity!==e[8].p.v&&(this.opacity=e[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(t,e){this.init(e)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(t){this.init(t)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})})(lottie$1,lottie$1.exports);var lottieExports=lottie$1.exports;const Lottie=getDefaultExportFromCjs(lottieExports);(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".lottie-animation-container{width:var(--lottie-animation-container-width);height:var(--lottie-animation-container-height);background-color:var(--lottie-animation-container-background-color);overflow:hidden;margin:0 auto}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var freeGlobal$2=typeof global=="object"&&global&&global.Object===Object&&global,freeGlobal$1$1=freeGlobal$2,freeSelf$1=typeof self=="object"&&self&&self.Object===Object&&self,root$2=freeGlobal$1$1||freeSelf$1||Function("return this")(),root$1$1=root$2,Symbol$1$1=root$1$1.Symbol,Symbol$2$1=Symbol$1$1,objectProto$e=Object.prototype,hasOwnProperty$b=objectProto$e.hasOwnProperty,nativeObjectToString$1$1=objectProto$e.toString,symToStringTag$1$1=Symbol$2$1?Symbol$2$1.toStringTag:void 0;function getRawTag$1(t){var e=hasOwnProperty$b.call(t,symToStringTag$1$1),r=t[symToStringTag$1$1];try{t[symToStringTag$1$1]=void 0;var n=!0}catch{}var o=nativeObjectToString$1$1.call(t);return n&&(e?t[symToStringTag$1$1]=r:delete t[symToStringTag$1$1]),o}var objectProto$d=Object.prototype,nativeObjectToString$2=objectProto$d.toString;function objectToString$1(t){return nativeObjectToString$2.call(t)}var nullTag$1="[object Null]",undefinedTag$1="[object Undefined]",symToStringTag$2=Symbol$2$1?Symbol$2$1.toStringTag:void 0;function baseGetTag$1(t){return t==null?t===void 0?undefinedTag$1:nullTag$1:symToStringTag$2&&symToStringTag$2 in Object(t)?getRawTag$1(t):objectToString$1(t)}function isObjectLike$1(t){return t!=null&&typeof t=="object"}var isArray$1=Array.isArray,isArray$1$1=isArray$1;function isObject$2(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var asyncTag="[object AsyncFunction]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$1(t){if(!isObject$2(t))return!1;var e=baseGetTag$1(t);return e==funcTag$2||e==genTag$1||e==asyncTag||e==proxyTag}var coreJsData=root$1$1["__core-js_shared__"],coreJsData$1=coreJsData,maskSrcKey=function(){var t=/[^.]+$/.exec(coreJsData$1&&coreJsData$1.keys&&coreJsData$1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function isMasked(t){return!!maskSrcKey&&maskSrcKey in t}var funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource(t){if(t!=null){try{return funcToString$1.call(t)}catch{}try{return t+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$c=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$a=objectProto$c.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$a).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(t){if(!isObject$2(t)||isMasked(t))return!1;var e=isFunction$1(t)?reIsNative:reIsHostCtor;return e.test(toSource(t))}function getValue(t,e){return t==null?void 0:t[e]}function getNative(t,e){var r=getValue(t,e);return baseIsNative(r)?r:void 0}var WeakMap$1=getNative(root$1$1,"WeakMap"),WeakMap$1$1=WeakMap$1,objectCreate=Object.create,baseCreate=function(){function t(){}return function(e){if(!isObject$2(e))return{};if(objectCreate)return objectCreate(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),baseCreate$1=baseCreate;function copyArray$1(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var defineProperty=function(){try{var t=getNative(Object,"defineProperty");return t({},"",{}),t}catch{}}(),defineProperty$1=defineProperty;function arrayEach(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(t,e){var r=typeof t;return e=e??MAX_SAFE_INTEGER$1,!!e&&(r=="number"||r!="symbol"&&reIsUint.test(t))&&t>-1&&t%1==0&&t<e}function baseAssignValue(t,e,r){e=="__proto__"&&defineProperty$1?defineProperty$1(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function eq(t,e){return t===e||t!==t&&e!==e}var objectProto$b=Object.prototype,hasOwnProperty$9=objectProto$b.hasOwnProperty;function assignValue(t,e,r){var n=t[e];(!(hasOwnProperty$9.call(t,e)&&eq(n,r))||r===void 0&&!(e in t))&&baseAssignValue(t,e,r)}function copyObject(t,e,r,n){var o=!r;r||(r={});for(var s=-1,c=e.length;++s<c;){var d=e[s],u=n?n(r[d],t[d],d,r,t):void 0;u===void 0&&(u=t[d]),o?baseAssignValue(r,d,u):assignValue(r,d,u)}return r}var MAX_SAFE_INTEGER=9007199254740991;function isLength(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=MAX_SAFE_INTEGER}function isArrayLike(t){return t!=null&&isLength(t.length)&&!isFunction$1(t)}var objectProto$a=Object.prototype;function isPrototype(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||objectProto$a;return t===r}function baseTimes(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var argsTag$3="[object Arguments]";function baseIsArguments(t){return isObjectLike$1(t)&&baseGetTag$1(t)==argsTag$3}var objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty,propertyIsEnumerable$1=objectProto$9.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(t){return isObjectLike$1(t)&&hasOwnProperty$8.call(t,"callee")&&!propertyIsEnumerable$1.call(t,"callee")},isArguments$1=isArguments;function stubFalse(){return!1}var freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$1=moduleExports$2?root$1$1.Buffer:void 0,nativeIsBuffer=Buffer$1?Buffer$1.isBuffer:void 0,isBuffer$1=nativeIsBuffer||stubFalse,isBuffer$1$1=isBuffer$1,argsTag$2="[object Arguments]",arrayTag$2="[object Array]",boolTag$3="[object Boolean]",dateTag$3="[object Date]",errorTag$2="[object Error]",funcTag$1="[object Function]",mapTag$5="[object Map]",numberTag$3="[object Number]",objectTag$3="[object Object]",regexpTag$3="[object RegExp]",setTag$5="[object Set]",stringTag$3="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0,typedArrayTags[argsTag$2]=typedArrayTags[arrayTag$2]=typedArrayTags[arrayBufferTag$3]=typedArrayTags[boolTag$3]=typedArrayTags[dataViewTag$4]=typedArrayTags[dateTag$3]=typedArrayTags[errorTag$2]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag$5]=typedArrayTags[numberTag$3]=typedArrayTags[objectTag$3]=typedArrayTags[regexpTag$3]=typedArrayTags[setTag$5]=typedArrayTags[stringTag$3]=typedArrayTags[weakMapTag$2]=!1;function baseIsTypedArray(t){return isObjectLike$1(t)&&isLength(t.length)&&!!typedArrayTags[baseGetTag$1(t)]}function baseUnary(t){return function(e){return t(e)}}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,freeProcess=moduleExports$1&&freeGlobal$1$1.process,nodeUtil=function(){try{var t=freeModule$1&&freeModule$1.require&&freeModule$1.require("util").types;return t||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}(),nodeUtil$1=nodeUtil,nodeIsTypedArray=nodeUtil$1&&nodeUtil$1.isTypedArray,isTypedArray$2=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,isTypedArray$1$1=isTypedArray$2,objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function arrayLikeKeys(t,e){var r=isArray$1$1(t),n=!r&&isArguments$1(t),o=!r&&!n&&isBuffer$1$1(t),s=!r&&!n&&!o&&isTypedArray$1$1(t),c=r||n||o||s,d=c?baseTimes(t.length,String):[],u=d.length;for(var m in t)(e||hasOwnProperty$7.call(t,m))&&!(c&&(m=="length"||o&&(m=="offset"||m=="parent")||s&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||isIndex(m,u)))&&d.push(m);return d}function overArg(t,e){return function(r){return t(e(r))}}var nativeKeys=overArg(Object.keys,Object),nativeKeys$1=nativeKeys,objectProto$7=Object.prototype,hasOwnProperty$6=objectProto$7.hasOwnProperty;function baseKeys(t){if(!isPrototype(t))return nativeKeys$1(t);var e=[];for(var r in Object(t))hasOwnProperty$6.call(t,r)&&r!="constructor"&&e.push(r);return e}function keys(t){return isArrayLike(t)?arrayLikeKeys(t):baseKeys(t)}function nativeKeysIn(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var objectProto$6=Object.prototype,hasOwnProperty$5=objectProto$6.hasOwnProperty;function baseKeysIn(t){if(!isObject$2(t))return nativeKeysIn(t);var e=isPrototype(t),r=[];for(var n in t)n=="constructor"&&(e||!hasOwnProperty$5.call(t,n))||r.push(n);return r}function keysIn(t){return isArrayLike(t)?arrayLikeKeys(t,!0):baseKeysIn(t)}var nativeCreate=getNative(Object,"create"),nativeCreate$1=nativeCreate;function hashClear(){this.__data__=nativeCreate$1?nativeCreate$1(null):{},this.size=0}function hashDelete(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$5=Object.prototype,hasOwnProperty$4=objectProto$5.hasOwnProperty;function hashGet(t){var e=this.__data__;if(nativeCreate$1){var r=e[t];return r===HASH_UNDEFINED$2?void 0:r}return hasOwnProperty$4.call(e,t)?e[t]:void 0}var objectProto$4=Object.prototype,hasOwnProperty$3=objectProto$4.hasOwnProperty;function hashHas(t){var e=this.__data__;return nativeCreate$1?e[t]!==void 0:hasOwnProperty$3.call(e,t)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=nativeCreate$1&&e===void 0?HASH_UNDEFINED$1:e,this}function Hash(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf(t,e){for(var r=t.length;r--;)if(eq(t[r][0],e))return r;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(t){var e=this.__data__,r=assocIndexOf(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():splice.call(e,r,1),--this.size,!0}function listCacheGet(t){var e=this.__data__,r=assocIndexOf(e,t);return r<0?void 0:e[r][1]}function listCacheHas(t){return assocIndexOf(this.__data__,t)>-1}function listCacheSet(t,e){var r=this.__data__,n=assocIndexOf(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function ListCache(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet;var Map$1=getNative(root$1$1,"Map"),Map$1$1=Map$1;function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1$1||ListCache),string:new Hash}}function isKeyable(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function getMapData(t,e){var r=t.__data__;return isKeyable(e)?r[typeof e=="string"?"string":"hash"]:r.map}function mapCacheDelete(t){var e=getMapData(this,t).delete(t);return this.size-=e?1:0,e}function mapCacheGet(t){return getMapData(this,t).get(t)}function mapCacheHas(t){return getMapData(this,t).has(t)}function mapCacheSet(t,e){var r=getMapData(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function MapCache(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet;function arrayPush(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}var getPrototype=overArg(Object.getPrototypeOf,Object),getPrototype$1=getPrototype;function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function stackGet(t){return this.__data__.get(t)}function stackHas(t){return this.__data__.has(t)}var LARGE_ARRAY_SIZE=200;function stackSet(t,e){var r=this.__data__;if(r instanceof ListCache){var n=r.__data__;if(!Map$1$1||n.length<LARGE_ARRAY_SIZE-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new MapCache(n)}return r.set(t,e),this.size=r.size,this}function Stack(t){var e=this.__data__=new ListCache(t);this.size=e.size}Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet;function baseAssign(t,e){return t&&copyObject(e,keys(e),t)}function baseAssignIn(t,e){return t&&copyObject(e,keysIn(e),t)}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer$2=moduleExports?root$1$1.Buffer:void 0,allocUnsafe=Buffer$2?Buffer$2.allocUnsafe:void 0;function cloneBuffer(t,e){if(e)return t.slice();var r=t.length,n=allocUnsafe?allocUnsafe(r):new t.constructor(r);return t.copy(n),n}function arrayFilter(t,e){for(var r=-1,n=t==null?0:t.length,o=0,s=[];++r<n;){var c=t[r];e(c,r,t)&&(s[o++]=c)}return s}function stubArray(){return[]}var objectProto$3=Object.prototype,propertyIsEnumerable=objectProto$3.propertyIsEnumerable,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols$1?function(t){return t==null?[]:(t=Object(t),arrayFilter(nativeGetSymbols$1(t),function(e){return propertyIsEnumerable.call(t,e)}))}:stubArray,getSymbols$1=getSymbols;function copySymbols(t,e){return copyObject(t,getSymbols$1(t),e)}var nativeGetSymbols=Object.getOwnPropertySymbols,getSymbolsIn=nativeGetSymbols?function(t){for(var e=[];t;)arrayPush(e,getSymbols$1(t)),t=getPrototype$1(t);return e}:stubArray,getSymbolsIn$1=getSymbolsIn;function copySymbolsIn(t,e){return copyObject(t,getSymbolsIn$1(t),e)}function baseGetAllKeys(t,e,r){var n=e(t);return isArray$1$1(t)?n:arrayPush(n,r(t))}function getAllKeys(t){return baseGetAllKeys(t,keys,getSymbols$1)}function getAllKeysIn(t){return baseGetAllKeys(t,keysIn,getSymbolsIn$1)}var DataView$1=getNative(root$1$1,"DataView"),DataView$1$1=DataView$1,Promise$1=getNative(root$1$1,"Promise"),Promise$2=Promise$1,Set$1=getNative(root$1$1,"Set"),Set$1$1=Set$1,mapTag$4="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag$4="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$3="[object DataView]",dataViewCtorString=toSource(DataView$1$1),mapCtorString=toSource(Map$1$1),promiseCtorString=toSource(Promise$2),setCtorString=toSource(Set$1$1),weakMapCtorString=toSource(WeakMap$1$1),getTag=baseGetTag$1;(DataView$1$1&&getTag(new DataView$1$1(new ArrayBuffer(1)))!=dataViewTag$3||Map$1$1&&getTag(new Map$1$1)!=mapTag$4||Promise$2&&getTag(Promise$2.resolve())!=promiseTag||Set$1$1&&getTag(new Set$1$1)!=setTag$4||WeakMap$1$1&&getTag(new WeakMap$1$1)!=weakMapTag$1)&&(getTag=function(t){var e=baseGetTag$1(t),r=e==objectTag$2?t.constructor:void 0,n=r?toSource(r):"";if(n)switch(n){case dataViewCtorString:return dataViewTag$3;case mapCtorString:return mapTag$4;case promiseCtorString:return promiseTag;case setCtorString:return setTag$4;case weakMapCtorString:return weakMapTag$1}return e});var getTag$1=getTag,objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function initCloneArray(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&hasOwnProperty$2.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var Uint8Array$1=root$1$1.Uint8Array,Uint8Array$1$1=Uint8Array$1;function cloneArrayBuffer(t){var e=new t.constructor(t.byteLength);return new Uint8Array$1$1(e).set(new Uint8Array$1$1(t)),e}function cloneDataView(t,e){var r=e?cloneArrayBuffer(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var reFlags=/\w*$/;function cloneRegExp(t){var e=new t.constructor(t.source,reFlags.exec(t));return e.lastIndex=t.lastIndex,e}var symbolProto$1=Symbol$2$1?Symbol$2$1.prototype:void 0,symbolValueOf$1=symbolProto$1?symbolProto$1.valueOf:void 0;function cloneSymbol(t){return symbolValueOf$1?Object(symbolValueOf$1.call(t)):{}}function cloneTypedArray(t,e){var r=e?cloneArrayBuffer(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var boolTag$2="[object Boolean]",dateTag$2="[object Date]",mapTag$3="[object Map]",numberTag$2="[object Number]",regexpTag$2="[object RegExp]",setTag$3="[object Set]",stringTag$2="[object String]",symbolTag$2="[object Symbol]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag(t,e,r){var n=t.constructor;switch(e){case arrayBufferTag$2:return cloneArrayBuffer(t);case boolTag$2:case dateTag$2:return new n(+t);case dataViewTag$2:return cloneDataView(t,r);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray(t,r);case mapTag$3:return new n;case numberTag$2:case stringTag$2:return new n(t);case regexpTag$2:return cloneRegExp(t);case setTag$3:return new n;case symbolTag$2:return cloneSymbol(t)}}function initCloneObject(t){return typeof t.constructor=="function"&&!isPrototype(t)?baseCreate$1(getPrototype$1(t)):{}}var mapTag$2="[object Map]";function baseIsMap(t){return isObjectLike$1(t)&&getTag$1(t)==mapTag$2}var nodeIsMap=nodeUtil$1&&nodeUtil$1.isMap,isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap,isMap$1=isMap,setTag$2="[object Set]";function baseIsSet(t){return isObjectLike$1(t)&&getTag$1(t)==setTag$2}var nodeIsSet=nodeUtil$1&&nodeUtil$1.isSet,isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet,isSet$1=isSet,CLONE_DEEP_FLAG$1=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG$1=4,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag$1="[object Map]",numberTag$1="[object Number]",objectTag$1="[object Object]",regexpTag$1="[object RegExp]",setTag$1="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};cloneableTags[argsTag$1]=cloneableTags[arrayTag$1]=cloneableTags[arrayBufferTag$1]=cloneableTags[dataViewTag$1]=cloneableTags[boolTag$1]=cloneableTags[dateTag$1]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag$1]=cloneableTags[numberTag$1]=cloneableTags[objectTag$1]=cloneableTags[regexpTag$1]=cloneableTags[setTag$1]=cloneableTags[stringTag$1]=cloneableTags[symbolTag$1]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag$1]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;function baseClone(t,e,r,n,o,s){var c,d=e&CLONE_DEEP_FLAG$1,u=e&CLONE_FLAT_FLAG,m=e&CLONE_SYMBOLS_FLAG$1;if(r&&(c=o?r(t,n,o,s):r(t)),c!==void 0)return c;if(!isObject$2(t))return t;var _=isArray$1$1(t);if(_){if(c=initCloneArray(t),!d)return copyArray$1(t,c)}else{var g=getTag$1(t),f=g==funcTag||g==genTag;if(isBuffer$1$1(t))return cloneBuffer(t,d);if(g==objectTag$1||g==argsTag$1||f&&!o){if(c=u||f?{}:initCloneObject(t),!d)return u?copySymbolsIn(t,baseAssignIn(c,t)):copySymbols(t,baseAssign(c,t))}else{if(!cloneableTags[g])return o?t:{};c=initCloneByTag(t,g,d)}}s||(s=new Stack);var y=s.get(t);if(y)return y;s.set(t,c),isSet$1(t)?t.forEach(function(A){c.add(baseClone(A,e,r,A,t,s))}):isMap$1(t)&&t.forEach(function(A,E){c.set(E,baseClone(A,e,r,E,t,s))});var M=m?u?getAllKeysIn:getAllKeys:u?keysIn:keys,T=_?void 0:M(t);return arrayEach(T||t,function(A,E){T&&(E=A,A=t[E]),assignValue(c,E,baseClone(A,e,r,E,t,s))}),c}var CLONE_DEEP_FLAG=1,CLONE_SYMBOLS_FLAG=4;function cloneDeep(t){return baseClone(t,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}var HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(t){return this.__data__.set(t,HASH_UNDEFINED),this}function setCacheHas(t){return this.__data__.has(t)}function SetCache(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new MapCache;++e<r;)this.add(t[e])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas;function arraySome(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function cacheHas(t,e){return t.has(e)}var COMPARE_PARTIAL_FLAG$3=1,COMPARE_UNORDERED_FLAG$1=2;function equalArrays(t,e,r,n,o,s){var c=r&COMPARE_PARTIAL_FLAG$3,d=t.length,u=e.length;if(d!=u&&!(c&&u>d))return!1;var m=s.get(t),_=s.get(e);if(m&&_)return m==e&&_==t;var g=-1,f=!0,y=r&COMPARE_UNORDERED_FLAG$1?new SetCache:void 0;for(s.set(t,e),s.set(e,t);++g<d;){var M=t[g],T=e[g];if(n)var A=c?n(T,M,g,e,t,s):n(M,T,g,t,e,s);if(A!==void 0){if(A)continue;f=!1;break}if(y){if(!arraySome(e,function(E,C){if(!cacheHas(y,C)&&(M===E||o(M,E,r,n,s)))return y.push(C)})){f=!1;break}}else if(!(M===T||o(M,T,r,n,s))){f=!1;break}}return s.delete(t),s.delete(e),f}function mapToArray(t){var e=-1,r=Array(t.size);return t.forEach(function(n,o){r[++e]=[o,n]}),r}function setToArray(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var COMPARE_PARTIAL_FLAG$2=1,COMPARE_UNORDERED_FLAG=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag$3="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",symbolProto=Symbol$2$1?Symbol$2$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag(t,e,r,n,o,s,c){switch(r){case dataViewTag:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case arrayBufferTag:return!(t.byteLength!=e.byteLength||!s(new Uint8Array$1$1(t),new Uint8Array$1$1(e)));case boolTag:case dateTag:case numberTag:return eq(+t,+e);case errorTag:return t.name==e.name&&t.message==e.message;case regexpTag:case stringTag:return t==e+"";case mapTag:var d=mapToArray;case setTag:var u=n&COMPARE_PARTIAL_FLAG$2;if(d||(d=setToArray),t.size!=e.size&&!u)return!1;var m=c.get(t);if(m)return m==e;n|=COMPARE_UNORDERED_FLAG,c.set(t,e);var _=equalArrays(d(t),d(e),n,o,s,c);return c.delete(t),_;case symbolTag$3:if(symbolValueOf)return symbolValueOf.call(t)==symbolValueOf.call(e)}return!1}var COMPARE_PARTIAL_FLAG$1=1,objectProto$1$1=Object.prototype,hasOwnProperty$1$1=objectProto$1$1.hasOwnProperty;function equalObjects(t,e,r,n,o,s){var c=r&COMPARE_PARTIAL_FLAG$1,d=getAllKeys(t),u=d.length,m=getAllKeys(e),_=m.length;if(u!=_&&!c)return!1;for(var g=u;g--;){var f=d[g];if(!(c?f in e:hasOwnProperty$1$1.call(e,f)))return!1}var y=s.get(t),M=s.get(e);if(y&&M)return y==e&&M==t;var T=!0;s.set(t,e),s.set(e,t);for(var A=c;++g<u;){f=d[g];var E=t[f],C=e[f];if(n)var k=c?n(C,E,f,e,t,s):n(E,C,f,t,e,s);if(!(k===void 0?E===C||o(E,C,r,n,s):k)){T=!1;break}A||(A=f=="constructor")}if(T&&!A){var O=t.constructor,I=e.constructor;O!=I&&"constructor"in t&&"constructor"in e&&!(typeof O=="function"&&O instanceof O&&typeof I=="function"&&I instanceof I)&&(T=!1)}return s.delete(t),s.delete(e),T}var COMPARE_PARTIAL_FLAG=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto$f=Object.prototype,hasOwnProperty$c=objectProto$f.hasOwnProperty;function baseIsEqualDeep(t,e,r,n,o,s){var c=isArray$1$1(t),d=isArray$1$1(e),u=c?arrayTag:getTag$1(t),m=d?arrayTag:getTag$1(e);u=u==argsTag?objectTag:u,m=m==argsTag?objectTag:m;var _=u==objectTag,g=m==objectTag,f=u==m;if(f&&isBuffer$1$1(t)){if(!isBuffer$1$1(e))return!1;c=!0,_=!1}if(f&&!_)return s||(s=new Stack),c||isTypedArray$1$1(t)?equalArrays(t,e,r,n,o,s):equalByTag(t,e,u,r,n,o,s);if(!(r&COMPARE_PARTIAL_FLAG)){var y=_&&hasOwnProperty$c.call(t,"__wrapped__"),M=g&&hasOwnProperty$c.call(e,"__wrapped__");if(y||M){var T=y?t.value():t,A=M?e.value():e;return s||(s=new Stack),o(T,A,r,n,s)}}return f?(s||(s=new Stack),equalObjects(t,e,r,n,o,s)):!1}function baseIsEqual(t,e,r,n,o){return t===e?!0:t==null||e==null||!isObjectLike$1(t)&&!isObjectLike$1(e)?t!==t&&e!==e:baseIsEqualDeep(t,e,r,n,baseIsEqual,o)}function isEqual(t,e){return baseIsEqual(t,e)}var _export_sfc$1=(t,e)=>{const r=t.__vccOpts||t;for(const[n,o]of e)r[n]=o;return r};const _sfc_main$r=defineComponent({props:{animationData:{type:Object,default:()=>({})},animationLink:{type:String,default:""},loop:{type:[Boolean,Number],default:!0},autoPlay:{type:Boolean,default:!0},width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:"100%"},speed:{type:Number,default:1},delay:{type:Number,default:0},direction:{type:String,default:"forward"},pauseOnHover:{type:Boolean,default:!1},playOnHover:{type:Boolean,default:!1},backgroundColor:{type:String,default:"transparent"},pauseAnimation:{type:Boolean,default:!1},renderer:{type:String,default:"svg"},rendererSettings:{type:Object,default:()=>({})},assetsPath:{type:String,default:""}},emits:{onComplete:null,onLoopComplete:null,onEnterFrame:null,onSegmentStart:null,onAnimationLoaded:null},setup(t,{emit:e}){let r=null;const n=ref("");let o=1;const s=U=>document.querySelector(`[data-id="${U}"]`)!==null,c=async U=>{let N=t.autoPlay;t.playOnHover&&(N=!1);let W={};if(isEqual(t.animationData,{})===!1&&(W=cloneDeep(t.animationData)),t.animationLink!="")try{W=await(await fetch(t.animationLink)).json()}catch(le){console.error(le);return}let ne=t.loop;typeof ne=="number"&&ne>0&&(ne=ne-1),t.delay>0&&(N=!1);const re={container:U,renderer:t.renderer,loop:ne,autoplay:N,animationData:W,assetsPath:t.assetsPath};isEqual(t.rendererSettings,{})===!1&&(re.rendererSettings=t.rendererSettings),r=Lottie.loadAnimation(re),setTimeout(()=>{N=t.autoPlay,t.playOnHover?r==null||r.pause():N?r==null||r.play():r==null||r.pause(),e("onAnimationLoaded")},t.delay),r.setSpeed(t.speed),t.direction==="reverse"&&r.setDirection(-1),t.direction==="normal"&&r.setDirection(1),(t.pauseAnimation||t.playOnHover)&&r.pause(),r.addEventListener("loopComplete",()=>{t.direction==="alternate"&&(r==null||r.stop(),o=o===-1?1:-1,r==null||r.setDirection(o),r==null||r.play()),e("onLoopComplete")}),r.addEventListener("complete",()=>{e("onComplete")}),r.addEventListener("enterFrame",()=>{e("onEnterFrame")}),r.addEventListener("segmentStart",()=>{e("onSegmentStart")})},d=computed(()=>{let U=t.width,N=t.height;return typeof t.width=="number"&&(U=`${t.width}px`),typeof t.height=="number"&&(N=`${t.height}px`),{"--lottie-animation-container-width":U,"--lottie-animation-container-height":N,"--lottie-animation-container-background-color":t.backgroundColor}}),u=()=>{r&&t.pauseOnHover&&r.pause(),r&&t.playOnHover&&r.play()},m=()=>{r&&t.pauseOnHover&&r.play(),r&&t.playOnHover&&r.pause()};watch(()=>t.pauseAnimation,()=>{if((t.pauseOnHover||t.playOnHover)&&t.pauseAnimation){console.error("If you are using pauseAnimation prop for Vue3-Lottie, please remove the props pauseOnHover and playOnHover");return}r&&(t.pauseAnimation?r.pause():r.play())});const _=()=>{r&&r.play()},g=()=>{r&&r.pause()},f=()=>{r&&r.stop()},y=()=>{r&&r.destroy()},M=(U=1)=>{if(U<=0)throw new Error("Speed must be greater than 0");r&&r.setSpeed(U)},T=U=>{r&&(U==="forward"?r.setDirection(1):U==="reverse"&&r.setDirection(-1))},A=(U,N=!0)=>{r&&r.goToAndStop(U,N)},E=(U,N=!0)=>{r&&r.goToAndPlay(U,N)},C=(U,N=!1)=>{r&&r.playSegments(U,N)},k=(U=!0)=>{r&&r.setSubframe(U)},O=(U=!0)=>{if(r)return r.getDuration(U)},I=(U,N=0)=>{r&&r.renderer.elements[N].updateDocumentData(U)},B=U=>{for(var N="",W="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",ne=W.length,re=0;re<U;re++)N+=W.charAt(Math.floor(Math.random()*ne));return N},j=U=>{if(t.pauseOnHover&&t.playOnHover)throw new Error("You cannot set pauseOnHover and playOnHover for Vue3-Lottie at the same time.");if(t.animationLink===""&&isEqual(t.animationData,{}))throw new Error("You must provide either animationLink or animationData");const N=setInterval(()=>{if(s(U)){clearInterval(N);const W=document.querySelector(`[data-id="${U}" ]`);W&&c(W)}},0)};return onMounted(async()=>{n.value=B(20),j(n.value)}),{elementid:n,hoverEnded:m,hoverStarted:u,getCurrentStyle:d,play:_,pause:g,stop:f,destroy:y,setSpeed:M,setDirection:T,goToAndStop:A,goToAndPlay:E,playSegments:C,setSubFrame:k,getDuration:O,updateDocumentData:I}}}),_hoisted_1$j=["data-id"];function _sfc_render$1(t,e,r,n,o,s){return openBlock(),createElementBlock("div",{"data-id":t.elementid,class:"lottie-animation-container",style:normalizeStyle(t.getCurrentStyle),onMouseenter:e[0]||(e[0]=(...c)=>t.hoverStarted&&t.hoverStarted(...c)),onMouseleave:e[1]||(e[1]=(...c)=>t.hoverEnded&&t.hoverEnded(...c))},null,44,_hoisted_1$j)}var Vue3Lottie=_export_sfc$1(_sfc_main$r,[["render",_sfc_render$1]]),index={install(t,e){var r;const n=(r=e==null?void 0:e.name)!=null?r:"Vue3Lottie";t.component(n,Vue3Lottie)}},tweakpane={exports:{}};(function(t,e){(function(r,n){n(e)})(commonjsGlobal$1,function(r){class n{constructor(b){const[R,G]=b.split("-"),oe=R.split(".");this.major=parseInt(oe[0],10),this.minor=parseInt(oe[1],10),this.patch=parseInt(oe[2],10),this.prerelease=G??null}toString(){const b=[this.major,this.minor,this.patch].join(".");return this.prerelease!==null?[b,this.prerelease].join("-"):b}}class o{constructor(b){this.controller_=b}get element(){return this.controller_.view.element}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(b){this.controller_.viewProps.set("disabled",b)}get hidden(){return this.controller_.viewProps.get("hidden")}set hidden(b){this.controller_.viewProps.set("hidden",b)}dispose(){this.controller_.viewProps.set("disposed",!0)}}class s{constructor(b){this.target=b}}class c extends s{constructor(b,R,G,oe){super(b),this.value=R,this.presetKey=G,this.last=oe??!0}}class d extends s{constructor(b,R,G){super(b),this.value=R,this.presetKey=G}}class u extends s{constructor(b,R){super(b),this.expanded=R}}class m extends s{constructor(b,R){super(b),this.index=R}}function _(F){return F}function g(F){return F==null}function f(F,b){if(F.length!==b.length)return!1;for(let R=0;R<F.length;R++)if(F[R]!==b[R])return!1;return!0}function y(F,b){let R=F;do{const G=Object.getOwnPropertyDescriptor(R,b);if(G&&(G.set!==void 0||G.writable===!0))return!0;R=Object.getPrototypeOf(R)}while(R!==null);return!1}const M={alreadydisposed:()=>"View has been already disposed",invalidparams:F=>`Invalid parameters for '${F.name}'`,nomatchingcontroller:F=>`No matching controller for '${F.key}'`,nomatchingview:F=>`No matching view for '${JSON.stringify(F.params)}'`,notbindable:()=>"Value is not bindable",propertynotfound:F=>`Property '${F.name}' not found`,shouldneverhappen:()=>"This error should never happen"};class T{static alreadyDisposed(){return new T({type:"alreadydisposed"})}static notBindable(){return new T({type:"notbindable"})}static propertyNotFound(b){return new T({type:"propertynotfound",context:{name:b}})}static shouldNeverHappen(){return new T({type:"shouldneverhappen"})}constructor(b){var R;this.message=(R=M[b.type](b.context))!==null&&R!==void 0?R:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=b.type}}class A{constructor(b,R,G){this.obj_=b,this.key_=R,this.presetKey_=G??R}static isBindable(b){return!(b===null||typeof b!="object"&&typeof b!="function")}get key(){return this.key_}get presetKey(){return this.presetKey_}read(){return this.obj_[this.key_]}write(b){this.obj_[this.key_]=b}writeProperty(b,R){const G=this.read();if(!A.isBindable(G))throw T.notBindable();if(!(b in G))throw T.propertyNotFound(b);G[b]=R}}class E extends o{get label(){return this.controller_.props.get("label")}set label(b){this.controller_.props.set("label",b)}get title(){var b;return(b=this.controller_.valueController.props.get("title"))!==null&&b!==void 0?b:""}set title(b){this.controller_.valueController.props.set("title",b)}on(b,R){const G=R.bind(this);return this.controller_.valueController.emitter.on(b,()=>{G(new s(this))}),this}}class C{constructor(){this.observers_={}}on(b,R){let G=this.observers_[b];return G||(G=this.observers_[b]=[]),G.push({handler:R}),this}off(b,R){const G=this.observers_[b];return G&&(this.observers_[b]=G.filter(oe=>oe.handler!==R)),this}emit(b,R){const G=this.observers_[b];G&&G.forEach(oe=>{oe.handler(R)})}}const k="tp";function O(F){return(b,R)=>[k,"-",F,"v",b?`_${b}`:"",R?`-${R}`:""].join("")}function I(F,b){return R=>b(F(R))}function B(F){return F.rawValue}function j(F,b){F.emitter.on("change",I(B,b)),b(F.rawValue)}function U(F,b,R){j(F.value(b),R)}function N(F,b,R){R?F.classList.add(b):F.classList.remove(b)}function W(F,b){return R=>{N(F,b,R)}}function ne(F,b){j(F,R=>{b.textContent=R??""})}const re=O("btn");class le{constructor(b,R){this.element=b.createElement("div"),this.element.classList.add(re()),R.viewProps.bindClassModifiers(this.element);const G=b.createElement("button");G.classList.add(re("b")),R.viewProps.bindDisabled(G),this.element.appendChild(G),this.buttonElement=G;const oe=b.createElement("div");oe.classList.add(re("t")),ne(R.props.value("title"),oe),this.buttonElement.appendChild(oe)}}class ae{constructor(b,R){this.emitter=new C,this.onClick_=this.onClick_.bind(this),this.props=R.props,this.viewProps=R.viewProps,this.view=new le(b,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class pe{constructor(b,R){var G;this.constraint_=R==null?void 0:R.constraint,this.equals_=(G=R==null?void 0:R.equals)!==null&&G!==void 0?G:(oe,xe)=>oe===xe,this.emitter=new C,this.rawValue_=b}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(b){this.setRawValue(b,{forceEmit:!1,last:!0})}setRawValue(b,R){const G=R??{forceEmit:!1,last:!0},oe=this.constraint_?this.constraint_.constrain(b):b,xe=this.rawValue_;this.equals_(xe,oe)&&!G.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=oe,this.emitter.emit("change",{options:G,previousRawValue:xe,rawValue:oe,sender:this}))}}class K{constructor(b){this.emitter=new C,this.value_=b}get rawValue(){return this.value_}set rawValue(b){this.setRawValue(b,{forceEmit:!1,last:!0})}setRawValue(b,R){const G=R??{forceEmit:!1,last:!0},oe=this.value_;oe===b&&!G.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.value_=b,this.emitter.emit("change",{options:G,previousRawValue:oe,rawValue:this.value_,sender:this}))}}function q(F,b){const R=b==null?void 0:b.constraint,G=b==null?void 0:b.equals;return!R&&!G?new K(F):new pe(F,b)}class D{constructor(b){this.emitter=new C,this.valMap_=b;for(const R in this.valMap_)this.valMap_[R].emitter.on("change",()=>{this.emitter.emit("change",{key:R,sender:this})})}static createCore(b){return Object.keys(b).reduce((R,G)=>Object.assign(R,{[G]:q(b[G])}),{})}static fromObject(b){const R=this.createCore(b);return new D(R)}get(b){return this.valMap_[b].rawValue}set(b,R){this.valMap_[b].rawValue=R}value(b){return this.valMap_[b]}}function z(F,b){return Object.keys(b).reduce((G,oe)=>{if(G===void 0)return;const xe=b[oe],ke=xe(F[oe]);return ke.succeeded?Object.assign(Object.assign({},G),{[oe]:ke.value}):void 0},{})}function J(F,b){return F.reduce((R,G)=>{if(R===void 0)return;const oe=b(G);if(!(!oe.succeeded||oe.value===void 0))return[...R,oe.value]},[])}function ie(F){return F===null?!1:typeof F=="object"}function fe(F){return b=>R=>{if(!b&&R===void 0)return{succeeded:!1,value:void 0};if(b&&R===void 0)return{succeeded:!0,value:void 0};const G=F(R);return G!==void 0?{succeeded:!0,value:G}:{succeeded:!1,value:void 0}}}function ee(F){return{custom:b=>fe(b)(F),boolean:fe(b=>typeof b=="boolean"?b:void 0)(F),number:fe(b=>typeof b=="number"?b:void 0)(F),string:fe(b=>typeof b=="string"?b:void 0)(F),function:fe(b=>typeof b=="function"?b:void 0)(F),constant:b=>fe(R=>R===b?b:void 0)(F),raw:fe(b=>b)(F),object:b=>fe(R=>{if(ie(R))return z(R,b)})(F),array:b=>fe(R=>{if(Array.isArray(R))return J(R,b)})(F)}}const Z={optional:ee(!0),required:ee(!1)};function te(F,b){const R=Z.required.object(b)(F);return R.succeeded?R.value:void 0}function de(F){console.warn([`Missing '${F.key}' of ${F.target} in ${F.place}.`,"Please rebuild plugins with the latest core package."].join(" "))}function Y(F){return F&&F.parentElement&&F.parentElement.removeChild(F),null}class we{constructor(b){this.value_=b}static create(b){return[new we(b),(R,G)=>{b.setRawValue(R,G)}]}get emitter(){return this.value_.emitter}get rawValue(){return this.value_.rawValue}}const Te=O("");function Me(F,b){return W(F,Te(void 0,b))}class Ae extends D{constructor(b){var R;super(b),this.onDisabledChange_=this.onDisabledChange_.bind(this),this.onParentChange_=this.onParentChange_.bind(this),this.onParentGlobalDisabledChange_=this.onParentGlobalDisabledChange_.bind(this),[this.globalDisabled_,this.setGlobalDisabled_]=we.create(q(this.getGlobalDisabled_())),this.value("disabled").emitter.on("change",this.onDisabledChange_),this.value("parent").emitter.on("change",this.onParentChange_),(R=this.get("parent"))===null||R===void 0||R.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_)}static create(b){var R,G,oe;const xe=b??{};return new Ae(D.createCore({disabled:(R=xe.disabled)!==null&&R!==void 0?R:!1,disposed:!1,hidden:(G=xe.hidden)!==null&&G!==void 0?G:!1,parent:(oe=xe.parent)!==null&&oe!==void 0?oe:null}))}get globalDisabled(){return this.globalDisabled_}bindClassModifiers(b){j(this.globalDisabled_,Me(b,"disabled")),U(this,"hidden",Me(b,"hidden"))}bindDisabled(b){j(this.globalDisabled_,R=>{b.disabled=R})}bindTabIndex(b){j(this.globalDisabled_,R=>{b.tabIndex=R?-1:0})}handleDispose(b){this.value("disposed").emitter.on("change",R=>{R&&b()})}getGlobalDisabled_(){const b=this.get("parent");return(b?b.globalDisabled.rawValue:!1)||this.get("disabled")}updateGlobalDisabled_(){this.setGlobalDisabled_(this.getGlobalDisabled_())}onDisabledChange_(){this.updateGlobalDisabled_()}onParentGlobalDisabledChange_(){this.updateGlobalDisabled_()}onParentChange_(b){var R;const G=b.previousRawValue;G==null||G.globalDisabled.emitter.off("change",this.onParentGlobalDisabledChange_),(R=this.get("parent"))===null||R===void 0||R.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_),this.updateGlobalDisabled_()}}function ue(){return["veryfirst","first","last","verylast"]}const X=O(""),$={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"};class ge{constructor(b){this.parent_=null,this.blade=b.blade,this.view=b.view,this.viewProps=b.viewProps;const R=this.view.element;this.blade.value("positions").emitter.on("change",()=>{ue().forEach(G=>{R.classList.remove(X(void 0,$[G]))}),this.blade.get("positions").forEach(G=>{R.classList.add(X(void 0,$[G]))})}),this.viewProps.handleDispose(()=>{Y(R)})}get parent(){return this.parent_}set parent(b){if(this.parent_=b,!("parent"in this.viewProps.valMap_)){de({key:"parent",target:Ae.name,place:"BladeController.parent"});return}this.viewProps.set("parent",this.parent_?this.parent_.viewProps:null)}}const ve="http://www.w3.org/2000/svg";function me(F){F.offsetHeight}function ce(F,b){const R=F.style.transition;F.style.transition="none",b(),F.style.transition=R}function Se(F){return F.ontouchstart!==void 0}function ye(){return globalThis}function be(){return ye().document}function he(F){const b=F.ownerDocument.defaultView;return b&&"document"in b?F.getContext("2d",{willReadFrequently:!0}):null}const se={check:'<path d="M2 8l4 4l8 -8"/>',dropdown:'<path d="M5 7h6l-3 3 z"/>',p2dpad:'<path d="M8 4v8"/><path d="M4 8h8"/><circle cx="12" cy="12" r="1.2"/>'};function Ee(F,b){const R=F.createElementNS(ve,"svg");return R.innerHTML=se[b],R}function Oe(F,b,R){F.insertBefore(b,F.children[R])}function Fe(F){F.parentElement&&F.parentElement.removeChild(F)}function Ne(F){for(;F.children.length>0;)F.removeChild(F.children[0])}function Ue(F){for(;F.childNodes.length>0;)F.removeChild(F.childNodes[0])}function je(F){return F.relatedTarget?F.relatedTarget:"explicitOriginalTarget"in F?F.explicitOriginalTarget:null}const Le=O("lbl");function Xe(F,b){const R=F.createDocumentFragment();return b.split(`
`).map(G=>F.createTextNode(G)).forEach((G,oe)=>{oe>0&&R.appendChild(F.createElement("br")),R.appendChild(G)}),R}class Ye{constructor(b,R){this.element=b.createElement("div"),this.element.classList.add(Le()),R.viewProps.bindClassModifiers(this.element);const G=b.createElement("div");G.classList.add(Le("l")),U(R.props,"label",xe=>{g(xe)?this.element.classList.add(Le(void 0,"nol")):(this.element.classList.remove(Le(void 0,"nol")),Ue(G),G.appendChild(Xe(b,xe)))}),this.element.appendChild(G),this.labelElement=G;const oe=b.createElement("div");oe.classList.add(Le("v")),this.element.appendChild(oe),this.valueElement=oe}}class qe extends ge{constructor(b,R){const G=R.valueController.viewProps;super(Object.assign(Object.assign({},R),{view:new Ye(b,{props:R.props,viewProps:G}),viewProps:G})),this.props=R.props,this.valueController=R.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}const He={id:"button",type:"blade",accept(F){const b=Z,R=te(F,{title:b.required.string,view:b.required.constant("button"),label:b.optional.string});return R?{params:R}:null},controller(F){return new qe(F.document,{blade:F.blade,props:D.fromObject({label:F.params.label}),valueController:new ae(F.document,{props:D.fromObject({title:F.params.title}),viewProps:F.viewProps})})},api(F){return!(F.controller instanceof qe)||!(F.controller.valueController instanceof ae)?null:new E(F.controller)}};class ze extends ge{constructor(b){super(b),this.value=b.value}}function Je(){return new D({positions:q([],{equals:f})})}class ot extends D{constructor(b){super(b)}static create(b){const R={completed:!0,expanded:b,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null},G=D.createCore(R);return new ot(G)}get styleExpanded(){var b;return(b=this.get("temporaryExpanded"))!==null&&b!==void 0?b:this.get("expanded")}get styleHeight(){if(!this.styleExpanded)return"0";const b=this.get("expandedHeight");return this.get("shouldFixHeight")&&!g(b)?`${b}px`:"auto"}bindExpandedClass(b,R){const G=()=>{this.styleExpanded?b.classList.add(R):b.classList.remove(R)};U(this,"expanded",G),U(this,"temporaryExpanded",G)}cleanUpTransition(){this.set("shouldFixHeight",!1),this.set("expandedHeight",null),this.set("completed",!0)}}function _t(F,b){let R=0;return ce(b,()=>{F.set("expandedHeight",null),F.set("temporaryExpanded",!0),me(b),R=b.clientHeight,F.set("temporaryExpanded",null),me(b)}),R}function Ce(F,b){b.style.height=F.styleHeight}function Ie(F,b){F.value("expanded").emitter.on("beforechange",()=>{if(F.set("completed",!1),g(F.get("expandedHeight"))){const R=_t(F,b);R>0&&F.set("expandedHeight",R)}F.set("shouldFixHeight",!0),me(b)}),F.emitter.on("change",()=>{Ce(F,b)}),Ce(F,b),b.addEventListener("transitionend",R=>{R.propertyName==="height"&&F.cleanUpTransition()})}class Ge extends o{constructor(b,R){super(b),this.rackApi_=R}}function We(F,b){return F.addBlade(Object.assign(Object.assign({},b),{view:"button"}))}function Ke(F,b){return F.addBlade(Object.assign(Object.assign({},b),{view:"folder"}))}function gt(F,b){const R=b??{};return F.addBlade(Object.assign(Object.assign({},R),{view:"separator"}))}function ut(F,b){return F.addBlade(Object.assign(Object.assign({},b),{view:"tab"}))}class bt{constructor(b){this.emitter=new C,this.items_=[],this.cache_=new Set,this.onSubListAdd_=this.onSubListAdd_.bind(this),this.onSubListRemove_=this.onSubListRemove_.bind(this),this.extract_=b}get items(){return this.items_}allItems(){return Array.from(this.cache_)}find(b){for(const R of this.allItems())if(b(R))return R;return null}includes(b){return this.cache_.has(b)}add(b,R){if(this.includes(b))throw T.shouldNeverHappen();const G=R!==void 0?R:this.items_.length;this.items_.splice(G,0,b),this.cache_.add(b);const oe=this.extract_(b);oe&&(oe.emitter.on("add",this.onSubListAdd_),oe.emitter.on("remove",this.onSubListRemove_),oe.allItems().forEach(xe=>{this.cache_.add(xe)})),this.emitter.emit("add",{index:G,item:b,root:this,target:this})}remove(b){const R=this.items_.indexOf(b);if(R<0)return;this.items_.splice(R,1),this.cache_.delete(b);const G=this.extract_(b);G&&(G.emitter.off("add",this.onSubListAdd_),G.emitter.off("remove",this.onSubListRemove_)),this.emitter.emit("remove",{index:R,item:b,root:this,target:this})}onSubListAdd_(b){this.cache_.add(b.item),this.emitter.emit("add",{index:b.index,item:b.item,root:this,target:b.target})}onSubListRemove_(b){this.cache_.delete(b.item),this.emitter.emit("remove",{index:b.index,item:b.item,root:this,target:b.target})}}class kt extends o{constructor(b){super(b),this.onBindingChange_=this.onBindingChange_.bind(this),this.emitter_=new C,this.controller_.binding.emitter.on("change",this.onBindingChange_)}get label(){return this.controller_.props.get("label")}set label(b){this.controller_.props.set("label",b)}on(b,R){const G=R.bind(this);return this.emitter_.on(b,oe=>{G(oe.event)}),this}refresh(){this.controller_.binding.read()}onBindingChange_(b){const R=b.sender.target.read();this.emitter_.emit("change",{event:new c(this,R,this.controller_.binding.target.presetKey,b.options.last)})}}class ct extends qe{constructor(b,R){super(b,R),this.binding=R.binding}}class wt extends o{constructor(b){super(b),this.onBindingUpdate_=this.onBindingUpdate_.bind(this),this.emitter_=new C,this.controller_.binding.emitter.on("update",this.onBindingUpdate_)}get label(){return this.controller_.props.get("label")}set label(b){this.controller_.props.set("label",b)}on(b,R){const G=R.bind(this);return this.emitter_.on(b,oe=>{G(oe.event)}),this}refresh(){this.controller_.binding.read()}onBindingUpdate_(b){const R=b.sender.target.read();this.emitter_.emit("update",{event:new d(this,R,this.controller_.binding.target.presetKey)})}}class xt extends qe{constructor(b,R){super(b,R),this.binding=R.binding,this.viewProps.bindDisabled(this.binding.ticker),this.viewProps.handleDispose(()=>{this.binding.dispose()})}}function tr(F){return F instanceof rr?F.apiSet_:F instanceof Ge?F.rackApi_.apiSet_:null}function jt(F,b){const R=F.find(G=>G.controller_===b);if(!R)throw T.shouldNeverHappen();return R}function Rr(F,b,R){if(!A.isBindable(F))throw T.notBindable();return new A(F,b,R)}class rr extends o{constructor(b,R){super(b),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this),this.onRackInputChange_=this.onRackInputChange_.bind(this),this.onRackMonitorUpdate_=this.onRackMonitorUpdate_.bind(this),this.emitter_=new C,this.apiSet_=new bt(tr),this.pool_=R;const G=this.controller_.rack;G.emitter.on("add",this.onRackAdd_),G.emitter.on("remove",this.onRackRemove_),G.emitter.on("inputchange",this.onRackInputChange_),G.emitter.on("monitorupdate",this.onRackMonitorUpdate_),G.children.forEach(oe=>{this.setUpApi_(oe)})}get children(){return this.controller_.rack.children.map(b=>jt(this.apiSet_,b))}addInput(b,R,G){const oe=G??{},xe=this.controller_.view.element.ownerDocument,ke=this.pool_.createInput(xe,Rr(b,R,oe.presetKey),oe),Ve=new kt(ke);return this.add(Ve,oe.index)}addMonitor(b,R,G){const oe=G??{},xe=this.controller_.view.element.ownerDocument,ke=this.pool_.createMonitor(xe,Rr(b,R),oe),Ve=new wt(ke);return this.add(Ve,oe.index)}addFolder(b){return Ke(this,b)}addButton(b){return We(this,b)}addSeparator(b){return gt(this,b)}addTab(b){return ut(this,b)}add(b,R){this.controller_.rack.add(b.controller_,R);const G=this.apiSet_.find(oe=>oe.controller_===b.controller_);return G&&this.apiSet_.remove(G),this.apiSet_.add(b),b}remove(b){this.controller_.rack.remove(b.controller_)}addBlade(b){const R=this.controller_.view.element.ownerDocument,G=this.pool_.createBlade(R,b),oe=this.pool_.createBladeApi(G);return this.add(oe,b.index)}on(b,R){const G=R.bind(this);return this.emitter_.on(b,oe=>{G(oe.event)}),this}setUpApi_(b){this.apiSet_.find(R=>R.controller_===b)||this.apiSet_.add(this.pool_.createBladeApi(b))}onRackAdd_(b){this.setUpApi_(b.bladeController)}onRackRemove_(b){if(b.isRoot){const R=jt(this.apiSet_,b.bladeController);this.apiSet_.remove(R)}}onRackInputChange_(b){const R=b.bladeController;if(R instanceof ct){const G=jt(this.apiSet_,R),oe=R.binding;this.emitter_.emit("change",{event:new c(G,oe.target.read(),oe.target.presetKey,b.options.last)})}else if(R instanceof ze){const G=jt(this.apiSet_,R);this.emitter_.emit("change",{event:new c(G,R.value.rawValue,void 0,b.options.last)})}}onRackMonitorUpdate_(b){if(!(b.bladeController instanceof xt))throw T.shouldNeverHappen();const R=jt(this.apiSet_,b.bladeController),G=b.bladeController.binding;this.emitter_.emit("update",{event:new d(R,G.target.read(),G.target.presetKey)})}}class hr extends Ge{constructor(b,R){super(b,new rr(b.rackController,R)),this.emitter_=new C,this.controller_.foldable.value("expanded").emitter.on("change",G=>{this.emitter_.emit("fold",{event:new u(this,G.sender.rawValue)})}),this.rackApi_.on("change",G=>{this.emitter_.emit("change",{event:G})}),this.rackApi_.on("update",G=>{this.emitter_.emit("update",{event:G})})}get expanded(){return this.controller_.foldable.get("expanded")}set expanded(b){this.controller_.foldable.set("expanded",b)}get title(){return this.controller_.props.get("title")}set title(b){this.controller_.props.set("title",b)}get children(){return this.rackApi_.children}addInput(b,R,G){return this.rackApi_.addInput(b,R,G)}addMonitor(b,R,G){return this.rackApi_.addMonitor(b,R,G)}addFolder(b){return this.rackApi_.addFolder(b)}addButton(b){return this.rackApi_.addButton(b)}addSeparator(b){return this.rackApi_.addSeparator(b)}addTab(b){return this.rackApi_.addTab(b)}add(b,R){return this.rackApi_.add(b,R)}remove(b){this.rackApi_.remove(b)}addBlade(b){return this.rackApi_.addBlade(b)}on(b,R){const G=R.bind(this);return this.emitter_.on(b,oe=>{G(oe.event)}),this}}class _e extends ge{constructor(b){super({blade:b.blade,view:b.view,viewProps:b.rackController.viewProps}),this.rackController=b.rackController}}class Pe{constructor(b,R){const G=O(R.viewName);this.element=b.createElement("div"),this.element.classList.add(G()),R.viewProps.bindClassModifiers(this.element)}}function De(F,b){for(let R=0;R<F.length;R++){const G=F[R];if(G instanceof ct&&G.binding===b)return G}return null}function Re(F,b){for(let R=0;R<F.length;R++){const G=F[R];if(G instanceof xt&&G.binding===b)return G}return null}function Be(F,b){for(let R=0;R<F.length;R++){const G=F[R];if(G instanceof ze&&G.value===b)return G}return null}function $e(F){return F instanceof it?F.rack:F instanceof _e?F.rackController.rack:null}function tt(F){const b=$e(F);return b?b.bcSet_:null}class rt{constructor(b){var R,G;this.onBladePositionsChange_=this.onBladePositionsChange_.bind(this),this.onSetAdd_=this.onSetAdd_.bind(this),this.onSetRemove_=this.onSetRemove_.bind(this),this.onChildDispose_=this.onChildDispose_.bind(this),this.onChildPositionsChange_=this.onChildPositionsChange_.bind(this),this.onChildInputChange_=this.onChildInputChange_.bind(this),this.onChildMonitorUpdate_=this.onChildMonitorUpdate_.bind(this),this.onChildValueChange_=this.onChildValueChange_.bind(this),this.onChildViewPropsChange_=this.onChildViewPropsChange_.bind(this),this.onDescendantLayout_=this.onDescendantLayout_.bind(this),this.onDescendantInputChange_=this.onDescendantInputChange_.bind(this),this.onDescendantMonitorUpdate_=this.onDescendantMonitorUpdate_.bind(this),this.emitter=new C,this.blade_=(R=b.blade)!==null&&R!==void 0?R:null,(G=this.blade_)===null||G===void 0||G.value("positions").emitter.on("change",this.onBladePositionsChange_),this.viewProps=b.viewProps,this.bcSet_=new bt(tt),this.bcSet_.emitter.on("add",this.onSetAdd_),this.bcSet_.emitter.on("remove",this.onSetRemove_)}get children(){return this.bcSet_.items}add(b,R){var G;(G=b.parent)===null||G===void 0||G.remove(b),y(b,"parent")?b.parent=this:(b.parent_=this,de({key:"parent",target:"BladeController",place:"BladeRack.add"})),this.bcSet_.add(b,R)}remove(b){y(b,"parent")?b.parent=null:(b.parent_=null,de({key:"parent",target:"BladeController",place:"BladeRack.remove"})),this.bcSet_.remove(b)}find(b){return this.bcSet_.allItems().filter(R=>R instanceof b)}onSetAdd_(b){this.updatePositions_();const R=b.target===b.root;if(this.emitter.emit("add",{bladeController:b.item,index:b.index,isRoot:R,sender:this}),!R)return;const G=b.item;if(G.viewProps.emitter.on("change",this.onChildViewPropsChange_),G.blade.value("positions").emitter.on("change",this.onChildPositionsChange_),G.viewProps.handleDispose(this.onChildDispose_),G instanceof ct)G.binding.emitter.on("change",this.onChildInputChange_);else if(G instanceof xt)G.binding.emitter.on("update",this.onChildMonitorUpdate_);else if(G instanceof ze)G.value.emitter.on("change",this.onChildValueChange_);else{const oe=$e(G);if(oe){const xe=oe.emitter;xe.on("layout",this.onDescendantLayout_),xe.on("inputchange",this.onDescendantInputChange_),xe.on("monitorupdate",this.onDescendantMonitorUpdate_)}}}onSetRemove_(b){this.updatePositions_();const R=b.target===b.root;if(this.emitter.emit("remove",{bladeController:b.item,isRoot:R,sender:this}),!R)return;const G=b.item;if(G instanceof ct)G.binding.emitter.off("change",this.onChildInputChange_);else if(G instanceof xt)G.binding.emitter.off("update",this.onChildMonitorUpdate_);else if(G instanceof ze)G.value.emitter.off("change",this.onChildValueChange_);else{const oe=$e(G);if(oe){const xe=oe.emitter;xe.off("layout",this.onDescendantLayout_),xe.off("inputchange",this.onDescendantInputChange_),xe.off("monitorupdate",this.onDescendantMonitorUpdate_)}}}updatePositions_(){const b=this.bcSet_.items.filter(oe=>!oe.viewProps.get("hidden")),R=b[0],G=b[b.length-1];this.bcSet_.items.forEach(oe=>{const xe=[];oe===R&&(xe.push("first"),(!this.blade_||this.blade_.get("positions").includes("veryfirst"))&&xe.push("veryfirst")),oe===G&&(xe.push("last"),(!this.blade_||this.blade_.get("positions").includes("verylast"))&&xe.push("verylast")),oe.blade.set("positions",xe)})}onChildPositionsChange_(){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildViewPropsChange_(b){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildDispose_(){this.bcSet_.items.filter(b=>b.viewProps.get("disposed")).forEach(b=>{this.bcSet_.remove(b)})}onChildInputChange_(b){const R=De(this.find(ct),b.sender);if(!R)throw T.alreadyDisposed();this.emitter.emit("inputchange",{bladeController:R,options:b.options,sender:this})}onChildMonitorUpdate_(b){const R=Re(this.find(xt),b.sender);if(!R)throw T.alreadyDisposed();this.emitter.emit("monitorupdate",{bladeController:R,sender:this})}onChildValueChange_(b){const R=Be(this.find(ze),b.sender);if(!R)throw T.alreadyDisposed();this.emitter.emit("inputchange",{bladeController:R,options:b.options,sender:this})}onDescendantLayout_(b){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onDescendantInputChange_(b){this.emitter.emit("inputchange",{bladeController:b.bladeController,options:b.options,sender:this})}onDescendantMonitorUpdate_(b){this.emitter.emit("monitorupdate",{bladeController:b.bladeController,sender:this})}onBladePositionsChange_(){this.updatePositions_()}}class it extends ge{constructor(b,R){super(Object.assign(Object.assign({},R),{view:new Pe(b,{viewName:"brk",viewProps:R.viewProps})})),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this);const G=new rt({blade:R.root?void 0:R.blade,viewProps:R.viewProps});G.emitter.on("add",this.onRackAdd_),G.emitter.on("remove",this.onRackRemove_),this.rack=G,this.viewProps.handleDispose(()=>{for(let oe=this.rack.children.length-1;oe>=0;oe--)this.rack.children[oe].viewProps.set("disposed",!0)})}onRackAdd_(b){b.isRoot&&Oe(this.view.element,b.bladeController.view.element,b.index)}onRackRemove_(b){b.isRoot&&Fe(b.bladeController.view.element)}}const pt=O("cnt");class at{constructor(b,R){var G;this.className_=O((G=R.viewName)!==null&&G!==void 0?G:"fld"),this.element=b.createElement("div"),this.element.classList.add(this.className_(),pt()),R.viewProps.bindClassModifiers(this.element),this.foldable_=R.foldable,this.foldable_.bindExpandedClass(this.element,this.className_(void 0,"expanded")),U(this.foldable_,"completed",W(this.element,this.className_(void 0,"cpl")));const oe=b.createElement("button");oe.classList.add(this.className_("b")),U(R.props,"title",Qe=>{g(Qe)?this.element.classList.add(this.className_(void 0,"not")):this.element.classList.remove(this.className_(void 0,"not"))}),R.viewProps.bindDisabled(oe),this.element.appendChild(oe),this.buttonElement=oe;const xe=b.createElement("div");xe.classList.add(this.className_("i")),this.element.appendChild(xe);const ke=b.createElement("div");ke.classList.add(this.className_("t")),ne(R.props.value("title"),ke),this.buttonElement.appendChild(ke),this.titleElement=ke;const Ve=b.createElement("div");Ve.classList.add(this.className_("m")),this.buttonElement.appendChild(Ve);const Ze=R.containerElement;Ze.classList.add(this.className_("c")),this.element.appendChild(Ze),this.containerElement=Ze}}class nt extends _e{constructor(b,R){var G;const oe=ot.create((G=R.expanded)!==null&&G!==void 0?G:!0),xe=new it(b,{blade:R.blade,root:R.root,viewProps:R.viewProps});super(Object.assign(Object.assign({},R),{rackController:xe,view:new at(b,{containerElement:xe.view.element,foldable:oe,props:R.props,viewName:R.root?"rot":void 0,viewProps:R.viewProps})})),this.onTitleClick_=this.onTitleClick_.bind(this),this.props=R.props,this.foldable=oe,Ie(this.foldable,this.view.containerElement),this.rackController.rack.emitter.on("add",()=>{this.foldable.cleanUpTransition()}),this.rackController.rack.emitter.on("remove",()=>{this.foldable.cleanUpTransition()}),this.view.buttonElement.addEventListener("click",this.onTitleClick_)}get document(){return this.view.element.ownerDocument}onTitleClick_(){this.foldable.set("expanded",!this.foldable.get("expanded"))}}const mt={id:"folder",type:"blade",accept(F){const b=Z,R=te(F,{title:b.required.string,view:b.required.constant("folder"),expanded:b.optional.boolean});return R?{params:R}:null},controller(F){return new nt(F.document,{blade:F.blade,expanded:F.params.expanded,props:D.fromObject({title:F.params.title}),viewProps:F.viewProps})},api(F){return F.controller instanceof nt?new hr(F.controller,F.pool):null}};class yt extends ze{constructor(b,R){const G=R.valueController.viewProps;super(Object.assign(Object.assign({},R),{value:R.valueController.value,view:new Ye(b,{props:R.props,viewProps:G}),viewProps:G})),this.props=R.props,this.valueController=R.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}class Ct extends o{}const Pt=O("spr");class vt{constructor(b,R){this.element=b.createElement("div"),this.element.classList.add(Pt()),R.viewProps.bindClassModifiers(this.element);const G=b.createElement("hr");G.classList.add(Pt("r")),this.element.appendChild(G)}}class st extends ge{constructor(b,R){super(Object.assign(Object.assign({},R),{view:new vt(b,{viewProps:R.viewProps})}))}}const gr={id:"separator",type:"blade",accept(F){const b=te(F,{view:Z.required.constant("separator")});return b?{params:b}:null},controller(F){return new st(F.document,{blade:F.blade,viewProps:F.viewProps})},api(F){return F.controller instanceof st?new Ct(F.controller):null}},Lt=O("tbi");class It{constructor(b,R){this.element=b.createElement("div"),this.element.classList.add(Lt()),R.viewProps.bindClassModifiers(this.element),U(R.props,"selected",xe=>{xe?this.element.classList.add(Lt(void 0,"sel")):this.element.classList.remove(Lt(void 0,"sel"))});const G=b.createElement("button");G.classList.add(Lt("b")),R.viewProps.bindDisabled(G),this.element.appendChild(G),this.buttonElement=G;const oe=b.createElement("div");oe.classList.add(Lt("t")),ne(R.props.value("title"),oe),this.buttonElement.appendChild(oe),this.titleElement=oe}}class Or{constructor(b,R){this.emitter=new C,this.onClick_=this.onClick_.bind(this),this.props=R.props,this.viewProps=R.viewProps,this.view=new It(b,{props:R.props,viewProps:R.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class Ut{constructor(b,R){this.onItemClick_=this.onItemClick_.bind(this),this.ic_=new Or(b,{props:R.itemProps,viewProps:Ae.create()}),this.ic_.emitter.on("click",this.onItemClick_),this.cc_=new it(b,{blade:Je(),viewProps:Ae.create()}),this.props=R.props,U(this.props,"selected",G=>{this.itemController.props.set("selected",G),this.contentController.viewProps.set("hidden",!G)})}get itemController(){return this.ic_}get contentController(){return this.cc_}onItemClick_(){this.props.set("selected",!0)}}class ir{constructor(b,R){this.controller_=b,this.rackApi_=R}get title(){var b;return(b=this.controller_.itemController.props.get("title"))!==null&&b!==void 0?b:""}set title(b){this.controller_.itemController.props.set("title",b)}get selected(){return this.controller_.props.get("selected")}set selected(b){this.controller_.props.set("selected",b)}get children(){return this.rackApi_.children}addButton(b){return this.rackApi_.addButton(b)}addFolder(b){return this.rackApi_.addFolder(b)}addSeparator(b){return this.rackApi_.addSeparator(b)}addTab(b){return this.rackApi_.addTab(b)}add(b,R){this.rackApi_.add(b,R)}remove(b){this.rackApi_.remove(b)}addInput(b,R,G){return this.rackApi_.addInput(b,R,G)}addMonitor(b,R,G){return this.rackApi_.addMonitor(b,R,G)}addBlade(b){return this.rackApi_.addBlade(b)}}class Tt extends Ge{constructor(b,R){super(b,new rr(b.rackController,R)),this.onPageAdd_=this.onPageAdd_.bind(this),this.onPageRemove_=this.onPageRemove_.bind(this),this.onSelect_=this.onSelect_.bind(this),this.emitter_=new C,this.pageApiMap_=new Map,this.rackApi_.on("change",G=>{this.emitter_.emit("change",{event:G})}),this.rackApi_.on("update",G=>{this.emitter_.emit("update",{event:G})}),this.controller_.tab.selectedIndex.emitter.on("change",this.onSelect_),this.controller_.pageSet.emitter.on("add",this.onPageAdd_),this.controller_.pageSet.emitter.on("remove",this.onPageRemove_),this.controller_.pageSet.items.forEach(G=>{this.setUpPageApi_(G)})}get pages(){return this.controller_.pageSet.items.map(b=>{const R=this.pageApiMap_.get(b);if(!R)throw T.shouldNeverHappen();return R})}addPage(b){const R=this.controller_.view.element.ownerDocument,G=new Ut(R,{itemProps:D.fromObject({selected:!1,title:b.title}),props:D.fromObject({selected:!1})});this.controller_.add(G,b.index);const oe=this.pageApiMap_.get(G);if(!oe)throw T.shouldNeverHappen();return oe}removePage(b){this.controller_.remove(b)}on(b,R){const G=R.bind(this);return this.emitter_.on(b,oe=>{G(oe.event)}),this}setUpPageApi_(b){const R=this.rackApi_.apiSet_.find(oe=>oe.controller_===b.contentController);if(!R)throw T.shouldNeverHappen();const G=new ir(b,R);this.pageApiMap_.set(b,G)}onPageAdd_(b){this.setUpPageApi_(b.item)}onPageRemove_(b){if(!this.pageApiMap_.get(b.item))throw T.shouldNeverHappen();this.pageApiMap_.delete(b.item)}onSelect_(b){this.emitter_.emit("select",{event:new m(this,b.rawValue)})}}const Ft=-1;class mr{constructor(){this.onItemSelectedChange_=this.onItemSelectedChange_.bind(this),this.empty=q(!0),this.selectedIndex=q(Ft),this.items_=[]}add(b,R){const G=R??this.items_.length;this.items_.splice(G,0,b),b.emitter.on("change",this.onItemSelectedChange_),this.keepSelection_()}remove(b){const R=this.items_.indexOf(b);R<0||(this.items_.splice(R,1),b.emitter.off("change",this.onItemSelectedChange_),this.keepSelection_())}keepSelection_(){if(this.items_.length===0){this.selectedIndex.rawValue=Ft,this.empty.rawValue=!0;return}const b=this.items_.findIndex(R=>R.rawValue);b<0?(this.items_.forEach((R,G)=>{R.rawValue=G===0}),this.selectedIndex.rawValue=0):(this.items_.forEach((R,G)=>{R.rawValue=G===b}),this.selectedIndex.rawValue=b),this.empty.rawValue=!1}onItemSelectedChange_(b){if(b.rawValue){const R=this.items_.findIndex(G=>G===b.sender);this.items_.forEach((G,oe)=>{G.rawValue=oe===R}),this.selectedIndex.rawValue=R}else this.keepSelection_()}}const St=O("tab");class _r{constructor(b,R){this.element=b.createElement("div"),this.element.classList.add(St(),pt()),R.viewProps.bindClassModifiers(this.element),j(R.empty,W(this.element,St(void 0,"nop")));const G=b.createElement("div");G.classList.add(St("t")),this.element.appendChild(G),this.itemsElement=G;const oe=b.createElement("div");oe.classList.add(St("i")),this.element.appendChild(oe);const xe=R.contentsElement;xe.classList.add(St("c")),this.element.appendChild(xe),this.contentsElement=xe}}class Pr extends _e{constructor(b,R){const G=new it(b,{blade:R.blade,viewProps:R.viewProps}),oe=new mr;super({blade:R.blade,rackController:G,view:new _r(b,{contentsElement:G.view.element,empty:oe.empty,viewProps:R.viewProps})}),this.onPageAdd_=this.onPageAdd_.bind(this),this.onPageRemove_=this.onPageRemove_.bind(this),this.pageSet_=new bt(()=>null),this.pageSet_.emitter.on("add",this.onPageAdd_),this.pageSet_.emitter.on("remove",this.onPageRemove_),this.tab=oe}get pageSet(){return this.pageSet_}add(b,R){this.pageSet_.add(b,R)}remove(b){this.pageSet_.remove(this.pageSet_.items[b])}onPageAdd_(b){const R=b.item;Oe(this.view.itemsElement,R.itemController.view.element,b.index),R.itemController.viewProps.set("parent",this.viewProps),this.rackController.rack.add(R.contentController,b.index),this.tab.add(R.props.value("selected"))}onPageRemove_(b){const R=b.item;Fe(R.itemController.view.element),R.itemController.viewProps.set("parent",null),this.rackController.rack.remove(R.contentController),this.tab.remove(R.props.value("selected"))}}const yr={id:"tab",type:"blade",accept(F){const b=Z,R=te(F,{pages:b.required.array(b.required.object({title:b.required.string})),view:b.required.constant("tab")});return!R||R.pages.length===0?null:{params:R}},controller(F){const b=new Pr(F.document,{blade:F.blade,viewProps:F.viewProps});return F.params.pages.forEach(R=>{const G=new Ut(F.document,{itemProps:D.fromObject({selected:!1,title:R.title}),props:D.fromObject({selected:!1})});b.add(G)}),b},api(F){return F.controller instanceof Pr?new Tt(F.controller,F.pool):null}};function yn(F,b){const R=F.accept(b.params);if(!R)return null;const G=Z.optional.boolean(b.params.disabled).value,oe=Z.optional.boolean(b.params.hidden).value;return F.controller({blade:Je(),document:b.document,params:Object.assign(Object.assign({},R.params),{disabled:G,hidden:oe}),viewProps:Ae.create({disabled:G,hidden:oe})})}class vn{constructor(){this.disabled=!1,this.emitter=new C}dispose(){}tick(){this.disabled||this.emitter.emit("tick",{sender:this})}}class bn{constructor(b,R){this.disabled_=!1,this.timerId_=null,this.onTick_=this.onTick_.bind(this),this.doc_=b,this.emitter=new C,this.interval_=R,this.setTimer_()}get disabled(){return this.disabled_}set disabled(b){this.disabled_=b,this.disabled_?this.clearTimer_():this.setTimer_()}dispose(){this.clearTimer_()}clearTimer_(){if(this.timerId_===null)return;const b=this.doc_.defaultView;b&&b.clearInterval(this.timerId_),this.timerId_=null}setTimer_(){if(this.clearTimer_(),this.interval_<=0)return;const b=this.doc_.defaultView;b&&(this.timerId_=b.setInterval(this.onTick_,this.interval_))}onTick_(){this.disabled_||this.emitter.emit("tick",{sender:this})}}class xn{constructor(b){this.onValueChange_=this.onValueChange_.bind(this),this.reader=b.reader,this.writer=b.writer,this.emitter=new C,this.value=b.value,this.value.emitter.on("change",this.onValueChange_),this.target=b.target,this.read()}read(){const b=this.target.read();b!==void 0&&(this.value.rawValue=this.reader(b))}write_(b){this.writer(this.target,b)}onValueChange_(b){this.write_(b.rawValue),this.emitter.emit("change",{options:b.options,rawValue:b.rawValue,sender:this})}}function hi(F,b){for(;F.length<b;)F.push(void 0)}function Sn(F){const b=[];return hi(b,F),q(b)}function En(F){const b=F.indexOf(void 0);return b<0?F:F.slice(0,b)}function Tn(F,b){const R=[...En(F),b];return R.length>F.length?R.splice(0,R.length-F.length):hi(R,F.length),R}class Mn{constructor(b){this.onTick_=this.onTick_.bind(this),this.reader_=b.reader,this.target=b.target,this.emitter=new C,this.value=b.value,this.ticker=b.ticker,this.ticker.emitter.on("tick",this.onTick_),this.read()}dispose(){this.ticker.dispose()}read(){const b=this.target.read();if(b===void 0)return;const R=this.value.rawValue,G=this.reader_(b);this.value.rawValue=Tn(R,G),this.emitter.emit("update",{rawValue:G,sender:this})}onTick_(b){this.read()}}class vr{constructor(b){this.constraints=b}constrain(b){return this.constraints.reduce((R,G)=>G.constrain(R),b)}}function Dt(F,b){if(F instanceof b)return F;if(F instanceof vr){const R=F.constraints.reduce((G,oe)=>G||(oe instanceof b?oe:null),null);if(R)return R}return null}class nr{constructor(b){this.values=D.fromObject({max:b.max,min:b.min})}constrain(b){const R=this.values.get("max"),G=this.values.get("min");return Math.min(Math.max(b,G),R)}}class br{constructor(b){this.values=D.fromObject({options:b})}get options(){return this.values.get("options")}constrain(b){const R=this.values.get("options");return R.length===0||R.filter(G=>G.value===b).length>0?b:R[0].value}}class gi{constructor(b){this.values=D.fromObject({max:b.max,min:b.min})}get maxValue(){return this.values.get("max")}get minValue(){return this.values.get("min")}constrain(b){const R=this.values.get("max"),G=this.values.get("min");let oe=b;return g(G)||(oe=Math.max(oe,G)),g(R)||(oe=Math.min(oe,R)),oe}}class Fr{constructor(b,R=0){this.step=b,this.origin=R}constrain(b){const R=this.origin%this.step,G=Math.round((b-R)/this.step);return R+G*this.step}}const Vr=O("lst");class wn{constructor(b,R){this.onValueChange_=this.onValueChange_.bind(this),this.props_=R.props,this.element=b.createElement("div"),this.element.classList.add(Vr()),R.viewProps.bindClassModifiers(this.element);const G=b.createElement("select");G.classList.add(Vr("s")),R.viewProps.bindDisabled(G),this.element.appendChild(G),this.selectElement=G;const oe=b.createElement("div");oe.classList.add(Vr("m")),oe.appendChild(Ee(b,"dropdown")),this.element.appendChild(oe),R.value.emitter.on("change",this.onValueChange_),this.value_=R.value,U(this.props_,"options",xe=>{Ne(this.selectElement),xe.forEach(ke=>{const Ve=b.createElement("option");Ve.textContent=ke.text,this.selectElement.appendChild(Ve)}),this.update_()})}update_(){const b=this.props_.get("options").map(R=>R.value);this.selectElement.selectedIndex=b.indexOf(this.value_.rawValue)}onValueChange_(){this.update_()}}class xr{constructor(b,R){this.onSelectChange_=this.onSelectChange_.bind(this),this.props=R.props,this.value=R.value,this.viewProps=R.viewProps,this.view=new wn(b,{props:this.props,value:this.value,viewProps:this.viewProps}),this.view.selectElement.addEventListener("change",this.onSelectChange_)}onSelectChange_(b){const R=b.currentTarget;this.value.rawValue=this.props.get("options")[R.selectedIndex].value}}const mi=O("pop");class Cn{constructor(b,R){this.element=b.createElement("div"),this.element.classList.add(mi()),R.viewProps.bindClassModifiers(this.element),j(R.shows,W(this.element,mi(void 0,"v")))}}class fi{constructor(b,R){this.shows=q(!1),this.viewProps=R.viewProps,this.view=new Cn(b,{shows:this.shows,viewProps:this.viewProps})}}const _i=O("txt");class An{constructor(b,R){this.onChange_=this.onChange_.bind(this),this.element=b.createElement("div"),this.element.classList.add(_i()),R.viewProps.bindClassModifiers(this.element),this.props_=R.props,this.props_.emitter.on("change",this.onChange_);const G=b.createElement("input");G.classList.add(_i("i")),G.type="text",R.viewProps.bindDisabled(G),this.element.appendChild(G),this.inputElement=G,R.value.emitter.on("change",this.onChange_),this.value_=R.value,this.refresh()}refresh(){const b=this.props_.get("formatter");this.inputElement.value=b(this.value_.rawValue)}onChange_(){this.refresh()}}class Lr{constructor(b,R){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=R.parser,this.props=R.props,this.value=R.value,this.viewProps=R.viewProps,this.view=new An(b,{props:R.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(b){const R=b.currentTarget.value,G=this.parser_(R);g(G)||(this.value.rawValue=G),this.view.refresh()}}function kn(F){return String(F)}function yi(F){return F==="false"?!1:!!F}function vi(F){return kn(F)}class Rn{constructor(b){this.text=b}evaluate(){return Number(this.text)}toString(){return this.text}}const On={"**":(F,b)=>Math.pow(F,b),"*":(F,b)=>F*b,"/":(F,b)=>F/b,"%":(F,b)=>F%b,"+":(F,b)=>F+b,"-":(F,b)=>F-b,"<<":(F,b)=>F<<b,">>":(F,b)=>F>>b,">>>":(F,b)=>F>>>b,"&":(F,b)=>F&b,"^":(F,b)=>F^b,"|":(F,b)=>F|b};class Pn{constructor(b,R,G){this.left=R,this.operator=b,this.right=G}evaluate(){const b=On[this.operator];if(!b)throw new Error(`unexpected binary operator: '${this.operator}`);return b(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}}const Fn={"+":F=>F,"-":F=>-F,"~":F=>~F};class Ln{constructor(b,R){this.operator=b,this.expression=R}evaluate(){const b=Fn[this.operator];if(!b)throw new Error(`unexpected unary operator: '${this.operator}`);return b(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}}function zr(F){return(b,R)=>{for(let G=0;G<F.length;G++){const oe=F[G](b,R);if(oe!=="")return oe}return""}}function Sr(F,b){var R;const G=F.substr(b).match(/^\s+/);return(R=G&&G[0])!==null&&R!==void 0?R:""}function In(F,b){const R=F.substr(b,1);return R.match(/^[1-9]$/)?R:""}function Er(F,b){var R;const G=F.substr(b).match(/^[0-9]+/);return(R=G&&G[0])!==null&&R!==void 0?R:""}function Dn(F,b){const R=Er(F,b);if(R!=="")return R;const G=F.substr(b,1);if(b+=1,G!=="-"&&G!=="+")return"";const oe=Er(F,b);return oe===""?"":G+oe}function Wr(F,b){const R=F.substr(b,1);if(b+=1,R.toLowerCase()!=="e")return"";const G=Dn(F,b);return G===""?"":R+G}function bi(F,b){const R=F.substr(b,1);if(R==="0")return R;const G=In(F,b);return b+=G.length,G===""?"":G+Er(F,b)}function Bn(F,b){const R=bi(F,b);if(b+=R.length,R==="")return"";const G=F.substr(b,1);if(b+=G.length,G!==".")return"";const oe=Er(F,b);return b+=oe.length,R+G+oe+Wr(F,b)}function Nn(F,b){const R=F.substr(b,1);if(b+=R.length,R!==".")return"";const G=Er(F,b);return b+=G.length,G===""?"":R+G+Wr(F,b)}function Gn(F,b){const R=bi(F,b);return b+=R.length,R===""?"":R+Wr(F,b)}const jn=zr([Bn,Nn,Gn]);function Un(F,b){var R;const G=F.substr(b).match(/^[01]+/);return(R=G&&G[0])!==null&&R!==void 0?R:""}function Vn(F,b){const R=F.substr(b,2);if(b+=R.length,R.toLowerCase()!=="0b")return"";const G=Un(F,b);return G===""?"":R+G}function zn(F,b){var R;const G=F.substr(b).match(/^[0-7]+/);return(R=G&&G[0])!==null&&R!==void 0?R:""}function Wn(F,b){const R=F.substr(b,2);if(b+=R.length,R.toLowerCase()!=="0o")return"";const G=zn(F,b);return G===""?"":R+G}function Hn(F,b){var R;const G=F.substr(b).match(/^[0-9a-f]+/i);return(R=G&&G[0])!==null&&R!==void 0?R:""}function $n(F,b){const R=F.substr(b,2);if(b+=R.length,R.toLowerCase()!=="0x")return"";const G=Hn(F,b);return G===""?"":R+G}const Xn=zr([Vn,Wn,$n]),qn=zr([Xn,jn]);function Yn(F,b){const R=qn(F,b);return b+=R.length,R===""?null:{evaluable:new Rn(R),cursor:b}}function Kn(F,b){const R=F.substr(b,1);if(b+=R.length,R!=="(")return null;const G=Si(F,b);if(!G)return null;b=G.cursor,b+=Sr(F,b).length;const oe=F.substr(b,1);return b+=oe.length,oe!==")"?null:{evaluable:G.evaluable,cursor:b}}function Jn(F,b){var R;return(R=Yn(F,b))!==null&&R!==void 0?R:Kn(F,b)}function xi(F,b){const R=Jn(F,b);if(R)return R;const G=F.substr(b,1);if(b+=G.length,G!=="+"&&G!=="-"&&G!=="~")return null;const oe=xi(F,b);return oe?(b=oe.cursor,{cursor:b,evaluable:new Ln(G,oe.evaluable)}):null}function Qn(F,b,R){R+=Sr(b,R).length;const G=F.filter(oe=>b.startsWith(oe,R))[0];return G?(R+=G.length,R+=Sr(b,R).length,{cursor:R,operator:G}):null}function Zn(F,b){return(R,G)=>{const oe=F(R,G);if(!oe)return null;G=oe.cursor;let xe=oe.evaluable;for(;;){const ke=Qn(b,R,G);if(!ke)break;G=ke.cursor;const Ve=F(R,G);if(!Ve)return null;G=Ve.cursor,xe=new Pn(ke.operator,xe,Ve.evaluable)}return xe?{cursor:G,evaluable:xe}:null}}const eo=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((F,b)=>Zn(F,b),xi);function Si(F,b){return b+=Sr(F,b).length,eo(F,b)}function to(F){const b=Si(F,0);return!b||b.cursor+Sr(F,b.cursor).length!==F.length?null:b.evaluable}function Bt(F){var b;const R=to(F);return(b=R==null?void 0:R.evaluate())!==null&&b!==void 0?b:null}function Ei(F){if(typeof F=="number")return F;if(typeof F=="string"){const b=Bt(F);if(!g(b))return b}return 0}function ro(F){return String(F)}function Mt(F){return b=>b.toFixed(Math.max(Math.min(F,20),0))}const io=Mt(0);function Ir(F){return io(F)+"%"}function Ti(F){return String(F)}function Hr(F){return F}function Tr({primary:F,secondary:b,forward:R,backward:G}){let oe=!1;function xe(ke){oe||(oe=!0,ke(),oe=!1)}F.emitter.on("change",ke=>{xe(()=>{b.setRawValue(R(F,b),ke.options)})}),b.emitter.on("change",ke=>{xe(()=>{F.setRawValue(G(F,b),ke.options)}),xe(()=>{b.setRawValue(R(F,b),ke.options)})}),xe(()=>{b.setRawValue(R(F,b),{forceEmit:!1,last:!0})})}function At(F,b){const R=F*(b.altKey?.1:1)*(b.shiftKey?10:1);return b.upKey?+R:b.downKey?-R:0}function Mr(F){return{altKey:F.altKey,downKey:F.key==="ArrowDown",shiftKey:F.shiftKey,upKey:F.key==="ArrowUp"}}function Nt(F){return{altKey:F.altKey,downKey:F.key==="ArrowLeft",shiftKey:F.shiftKey,upKey:F.key==="ArrowRight"}}function no(F){return F==="ArrowUp"||F==="ArrowDown"}function Mi(F){return no(F)||F==="ArrowLeft"||F==="ArrowRight"}function $r(F,b){var R,G;const oe=b.ownerDocument.defaultView,xe=b.getBoundingClientRect();return{x:F.pageX-(((R=oe&&oe.scrollX)!==null&&R!==void 0?R:0)+xe.left),y:F.pageY-(((G=oe&&oe.scrollY)!==null&&G!==void 0?G:0)+xe.top)}}class qt{constructor(b){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=b,this.emitter=new C,b.addEventListener("touchstart",this.onTouchStart_,{passive:!1}),b.addEventListener("touchmove",this.onTouchMove_,{passive:!0}),b.addEventListener("touchend",this.onTouchEnd_),b.addEventListener("mousedown",this.onMouseDown_)}computePosition_(b){const R=this.elem_.getBoundingClientRect();return{bounds:{width:R.width,height:R.height},point:b?{x:b.x,y:b.y}:null}}onMouseDown_(b){var R;b.preventDefault(),(R=b.currentTarget)===null||R===void 0||R.focus();const G=this.elem_.ownerDocument;G.addEventListener("mousemove",this.onDocumentMouseMove_),G.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:b.altKey,data:this.computePosition_($r(b,this.elem_)),sender:this,shiftKey:b.shiftKey})}onDocumentMouseMove_(b){this.emitter.emit("move",{altKey:b.altKey,data:this.computePosition_($r(b,this.elem_)),sender:this,shiftKey:b.shiftKey})}onDocumentMouseUp_(b){const R=this.elem_.ownerDocument;R.removeEventListener("mousemove",this.onDocumentMouseMove_),R.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:b.altKey,data:this.computePosition_($r(b,this.elem_)),sender:this,shiftKey:b.shiftKey})}onTouchStart_(b){b.preventDefault();const R=b.targetTouches.item(0),G=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:b.altKey,data:this.computePosition_(R?{x:R.clientX-G.left,y:R.clientY-G.top}:void 0),sender:this,shiftKey:b.shiftKey}),this.lastTouch_=R}onTouchMove_(b){const R=b.targetTouches.item(0),G=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:b.altKey,data:this.computePosition_(R?{x:R.clientX-G.left,y:R.clientY-G.top}:void 0),sender:this,shiftKey:b.shiftKey}),this.lastTouch_=R}onTouchEnd_(b){var R;const G=(R=b.targetTouches.item(0))!==null&&R!==void 0?R:this.lastTouch_,oe=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:b.altKey,data:this.computePosition_(G?{x:G.clientX-oe.left,y:G.clientY-oe.top}:void 0),sender:this,shiftKey:b.shiftKey})}}function ft(F,b,R,G,oe){const xe=(F-b)/(R-b);return G+xe*(oe-G)}function wi(F){return String(F.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function Et(F,b,R){return Math.min(Math.max(F,b),R)}function Ci(F,b){return(F%b+b)%b}const Rt=O("txt");class oo{constructor(b,R){this.onChange_=this.onChange_.bind(this),this.props_=R.props,this.props_.emitter.on("change",this.onChange_),this.element=b.createElement("div"),this.element.classList.add(Rt(),Rt(void 0,"num")),R.arrayPosition&&this.element.classList.add(Rt(void 0,R.arrayPosition)),R.viewProps.bindClassModifiers(this.element);const G=b.createElement("input");G.classList.add(Rt("i")),G.type="text",R.viewProps.bindDisabled(G),this.element.appendChild(G),this.inputElement=G,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=R.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(Rt()),this.inputElement.classList.add(Rt("i"));const oe=b.createElement("div");oe.classList.add(Rt("k")),this.element.appendChild(oe),this.knobElement=oe;const xe=b.createElementNS(ve,"svg");xe.classList.add(Rt("g")),this.knobElement.appendChild(xe);const ke=b.createElementNS(ve,"path");ke.classList.add(Rt("gb")),xe.appendChild(ke),this.guideBodyElem_=ke;const Ve=b.createElementNS(ve,"path");Ve.classList.add(Rt("gh")),xe.appendChild(Ve),this.guideHeadElem_=Ve;const Ze=b.createElement("div");Ze.classList.add(O("tt")()),this.knobElement.appendChild(Ze),this.tooltipElem_=Ze,R.value.emitter.on("change",this.onChange_),this.value=R.value,this.refresh()}onDraggingChange_(b){if(b.rawValue===null){this.element.classList.remove(Rt(void 0,"drg"));return}this.element.classList.add(Rt(void 0,"drg"));const R=b.rawValue/this.props_.get("draggingScale"),G=R+(R>0?-1:R<0?1:0),oe=Et(-G,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",[`M ${G+oe},0 L${G},4 L${G+oe},8`,`M ${R},-1 L${R},9`].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d",`M 0,4 L${R},4`);const xe=this.props_.get("formatter");this.tooltipElem_.textContent=xe(this.value.rawValue),this.tooltipElem_.style.left=`${R}px`}refresh(){const b=this.props_.get("formatter");this.inputElement.value=b(this.value.rawValue)}onChange_(){this.refresh()}}class wr{constructor(b,R){var G;this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=R.baseStep,this.parser_=R.parser,this.props=R.props,this.sliderProps_=(G=R.sliderProps)!==null&&G!==void 0?G:null,this.value=R.value,this.viewProps=R.viewProps,this.dragging_=q(null),this.view=new oo(b,{arrayPosition:R.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);const oe=new qt(this.view.knobElement);oe.emitter.on("down",this.onPointerDown_),oe.emitter.on("move",this.onPointerMove_),oe.emitter.on("up",this.onPointerUp_)}constrainValue_(b){var R,G;const oe=(R=this.sliderProps_)===null||R===void 0?void 0:R.get("minValue"),xe=(G=this.sliderProps_)===null||G===void 0?void 0:G.get("maxValue");let ke=b;return oe!==void 0&&(ke=Math.max(ke,oe)),xe!==void 0&&(ke=Math.min(ke,xe)),ke}onInputChange_(b){const R=b.currentTarget.value,G=this.parser_(R);g(G)||(this.value.rawValue=this.constrainValue_(G)),this.view.refresh()}onInputKeyDown_(b){const R=At(this.baseStep_,Mr(b));R!==0&&this.value.setRawValue(this.constrainValue_(this.value.rawValue+R),{forceEmit:!1,last:!1})}onInputKeyUp_(b){At(this.baseStep_,Mr(b))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(b){if(!b.point)return null;const R=b.point.x-b.bounds.width/2;return this.constrainValue_(this.originRawValue_+R*this.props.get("draggingScale"))}onPointerMove_(b){const R=this.computeDraggingValue_(b.data);R!==null&&(this.value.setRawValue(R,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(b){const R=this.computeDraggingValue_(b.data);R!==null&&(this.value.setRawValue(R,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}}const Xr=O("sld");class ao{constructor(b,R){this.onChange_=this.onChange_.bind(this),this.props_=R.props,this.props_.emitter.on("change",this.onChange_),this.element=b.createElement("div"),this.element.classList.add(Xr()),R.viewProps.bindClassModifiers(this.element);const G=b.createElement("div");G.classList.add(Xr("t")),R.viewProps.bindTabIndex(G),this.element.appendChild(G),this.trackElement=G;const oe=b.createElement("div");oe.classList.add(Xr("k")),this.trackElement.appendChild(oe),this.knobElement=oe,R.value.emitter.on("change",this.onChange_),this.value=R.value,this.update_()}update_(){const b=Et(ft(this.value.rawValue,this.props_.get("minValue"),this.props_.get("maxValue"),0,100),0,100);this.knobElement.style.width=`${b}%`}onChange_(){this.update_()}}class so{constructor(b,R){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDownOrMove_=this.onPointerDownOrMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=R.baseStep,this.value=R.value,this.viewProps=R.viewProps,this.props=R.props,this.view=new ao(b,{props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new qt(this.view.trackElement),this.ptHandler_.emitter.on("down",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("move",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.trackElement.addEventListener("keydown",this.onKeyDown_),this.view.trackElement.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(b,R){b.point&&this.value.setRawValue(ft(Et(b.point.x,0,b.bounds.width),0,b.bounds.width,this.props.get("minValue"),this.props.get("maxValue")),R)}onPointerDownOrMove_(b){this.handlePointerEvent_(b.data,{forceEmit:!1,last:!1})}onPointerUp_(b){this.handlePointerEvent_(b.data,{forceEmit:!0,last:!0})}onKeyDown_(b){const R=At(this.baseStep_,Nt(b));R!==0&&this.value.setRawValue(this.value.rawValue+R,{forceEmit:!1,last:!1})}onKeyUp_(b){At(this.baseStep_,Nt(b))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const qr=O("sldtxt");class lo{constructor(b,R){this.element=b.createElement("div"),this.element.classList.add(qr());const G=b.createElement("div");G.classList.add(qr("s")),this.sliderView_=R.sliderView,G.appendChild(this.sliderView_.element),this.element.appendChild(G);const oe=b.createElement("div");oe.classList.add(qr("t")),this.textView_=R.textView,oe.appendChild(this.textView_.element),this.element.appendChild(oe)}}class Yr{constructor(b,R){this.value=R.value,this.viewProps=R.viewProps,this.sliderC_=new so(b,{baseStep:R.baseStep,props:R.sliderProps,value:R.value,viewProps:this.viewProps}),this.textC_=new wr(b,{baseStep:R.baseStep,parser:R.parser,props:R.textProps,sliderProps:R.sliderProps,value:R.value,viewProps:R.viewProps}),this.view=new lo(b,{sliderView:this.sliderC_.view,textView:this.textC_.view})}get sliderController(){return this.sliderC_}get textController(){return this.textC_}}function Cr(F,b){F.write(b)}function Dr(F){const b=Z;if(Array.isArray(F))return b.required.array(b.required.object({text:b.required.string,value:b.required.raw}))(F).value;if(typeof F=="object")return b.required.raw(F).value}function Ai(F){if(F==="inline"||F==="popup")return F}function Vt(F){const b=Z;return b.required.object({max:b.optional.number,min:b.optional.number,step:b.optional.number})(F).value}function ki(F){if(Array.isArray(F))return F;const b=[];return Object.keys(F).forEach(R=>{b.push({text:R,value:F[R]})}),b}function Kr(F){return g(F)?null:new br(ki(F))}function po(F){const b=F?Dt(F,Fr):null;return b?b.step:null}function Br(F,b){const R=F&&Dt(F,Fr);return R?wi(R.step):Math.max(wi(b),2)}function or(F){return po(F)??1}function ar(F,b){var R;const G=F&&Dt(F,Fr),oe=Math.abs((R=G==null?void 0:G.step)!==null&&R!==void 0?R:b);return oe===0?.1:Math.pow(10,Math.floor(Math.log10(oe))-1)}const Nr=O("ckb");class co{constructor(b,R){this.onValueChange_=this.onValueChange_.bind(this),this.element=b.createElement("div"),this.element.classList.add(Nr()),R.viewProps.bindClassModifiers(this.element);const G=b.createElement("label");G.classList.add(Nr("l")),this.element.appendChild(G);const oe=b.createElement("input");oe.classList.add(Nr("i")),oe.type="checkbox",G.appendChild(oe),this.inputElement=oe,R.viewProps.bindDisabled(this.inputElement);const xe=b.createElement("div");xe.classList.add(Nr("w")),G.appendChild(xe);const ke=Ee(b,"check");xe.appendChild(ke),R.value.emitter.on("change",this.onValueChange_),this.value=R.value,this.update_()}update_(){this.inputElement.checked=this.value.rawValue}onValueChange_(){this.update_()}}class uo{constructor(b,R){this.onInputChange_=this.onInputChange_.bind(this),this.value=R.value,this.viewProps=R.viewProps,this.view=new co(b,{value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(b){const R=b.currentTarget;this.value.rawValue=R.checked}}function ho(F){const b=[],R=Kr(F.options);return R&&b.push(R),new vr(b)}const go={id:"input-bool",type:"input",accept:(F,b)=>{if(typeof F!="boolean")return null;const R=te(b,{options:Z.optional.custom(Dr)});return R?{initialValue:F,params:R}:null},binding:{reader:F=>yi,constraint:F=>ho(F.params),writer:F=>Cr},controller:F=>{const b=F.document,R=F.value,G=F.constraint,oe=G&&Dt(G,br);return oe?new xr(b,{props:new D({options:oe.values.value("options")}),value:R,viewProps:F.viewProps}):new uo(b,{value:R,viewProps:F.viewProps})}},Yt=O("col");class mo{constructor(b,R){this.element=b.createElement("div"),this.element.classList.add(Yt()),R.foldable.bindExpandedClass(this.element,Yt(void 0,"expanded")),U(R.foldable,"completed",W(this.element,Yt(void 0,"cpl")));const G=b.createElement("div");G.classList.add(Yt("h")),this.element.appendChild(G);const oe=b.createElement("div");oe.classList.add(Yt("s")),G.appendChild(oe),this.swatchElement=oe;const xe=b.createElement("div");if(xe.classList.add(Yt("t")),G.appendChild(xe),this.textElement=xe,R.pickerLayout==="inline"){const ke=b.createElement("div");ke.classList.add(Yt("p")),this.element.appendChild(ke),this.pickerElement=ke}else this.pickerElement=null}}function fo(F,b,R){const G=Et(F/255,0,1),oe=Et(b/255,0,1),xe=Et(R/255,0,1),ke=Math.max(G,oe,xe),Ve=Math.min(G,oe,xe),Ze=ke-Ve;let Qe=0,dt=0;const ht=(Ve+ke)/2;return Ze!==0&&(dt=Ze/(1-Math.abs(ke+Ve-1)),G===ke?Qe=(oe-xe)/Ze:oe===ke?Qe=2+(xe-G)/Ze:Qe=4+(G-oe)/Ze,Qe=Qe/6+(Qe<0?1:0)),[Qe*360,dt*100,ht*100]}function _o(F,b,R){const G=(F%360+360)%360,oe=Et(b/100,0,1),xe=Et(R/100,0,1),ke=(1-Math.abs(2*xe-1))*oe,Ve=ke*(1-Math.abs(G/60%2-1)),Ze=xe-ke/2;let Qe,dt,ht;return G>=0&&G<60?[Qe,dt,ht]=[ke,Ve,0]:G>=60&&G<120?[Qe,dt,ht]=[Ve,ke,0]:G>=120&&G<180?[Qe,dt,ht]=[0,ke,Ve]:G>=180&&G<240?[Qe,dt,ht]=[0,Ve,ke]:G>=240&&G<300?[Qe,dt,ht]=[Ve,0,ke]:[Qe,dt,ht]=[ke,0,Ve],[(Qe+Ze)*255,(dt+Ze)*255,(ht+Ze)*255]}function yo(F,b,R){const G=Et(F/255,0,1),oe=Et(b/255,0,1),xe=Et(R/255,0,1),ke=Math.max(G,oe,xe),Ve=Math.min(G,oe,xe),Ze=ke-Ve;let Qe;Ze===0?Qe=0:ke===G?Qe=60*(((oe-xe)/Ze%6+6)%6):ke===oe?Qe=60*((xe-G)/Ze+2):Qe=60*((G-oe)/Ze+4);const dt=ke===0?0:Ze/ke,ht=ke;return[Qe,dt*100,ht*100]}function Ri(F,b,R){const G=Ci(F,360),oe=Et(b/100,0,1),xe=Et(R/100,0,1),ke=xe*oe,Ve=ke*(1-Math.abs(G/60%2-1)),Ze=xe-ke;let Qe,dt,ht;return G>=0&&G<60?[Qe,dt,ht]=[ke,Ve,0]:G>=60&&G<120?[Qe,dt,ht]=[Ve,ke,0]:G>=120&&G<180?[Qe,dt,ht]=[0,ke,Ve]:G>=180&&G<240?[Qe,dt,ht]=[0,Ve,ke]:G>=240&&G<300?[Qe,dt,ht]=[Ve,0,ke]:[Qe,dt,ht]=[ke,0,Ve],[(Qe+Ze)*255,(dt+Ze)*255,(ht+Ze)*255]}function vo(F,b,R){const G=R+b*(100-Math.abs(2*R-100))/200;return[F,G!==0?b*(100-Math.abs(2*R-100))/G:0,R+b*(100-Math.abs(2*R-100))/200]}function bo(F,b,R){const G=100-Math.abs(R*(200-b)/100-100);return[F,G!==0?b*R/G:0,R*(200-b)/200]}function Kt(F){return[F[0],F[1],F[2]]}function Oi(F,b){return[F[0],F[1],F[2],b]}const xo={hsl:{hsl:(F,b,R)=>[F,b,R],hsv:vo,rgb:_o},hsv:{hsl:bo,hsv:(F,b,R)=>[F,b,R],rgb:Ri},rgb:{hsl:fo,hsv:yo,rgb:(F,b,R)=>[F,b,R]}};function Gr(F,b){return[b==="float"?1:F==="rgb"?255:360,b==="float"?1:F==="rgb"?255:100,b==="float"?1:F==="rgb"?255:100]}function So(F,b){return F===b?b:Ci(F,b)}function Eo(F,b,R){var G;const oe=Gr(b,R);return[b==="rgb"?Et(F[0],0,oe[0]):So(F[0],oe[0]),Et(F[1],0,oe[1]),Et(F[2],0,oe[2]),Et((G=F[3])!==null&&G!==void 0?G:1,0,1)]}function Pi(F,b,R,G){const oe=Gr(b,R),xe=Gr(b,G);return F.map((ke,Ve)=>ke/oe[Ve]*xe[Ve])}function To(F,b,R){const G=Pi(F,b.mode,b.type,"int"),oe=xo[b.mode][R.mode](...G);return Pi(oe,R.mode,"int",R.type)}function jr(F,b){return typeof F!="object"||g(F)?!1:b in F&&typeof F[b]=="number"}class lt{static black(b="int"){return new lt([0,0,0],"rgb",b)}static fromObject(b,R="int"){const G="a"in b?[b.r,b.g,b.b,b.a]:[b.r,b.g,b.b];return new lt(G,"rgb",R)}static toRgbaObject(b,R="int"){return b.toRgbaObject(R)}static isRgbColorObject(b){return jr(b,"r")&&jr(b,"g")&&jr(b,"b")}static isRgbaColorObject(b){return this.isRgbColorObject(b)&&jr(b,"a")}static isColorObject(b){return this.isRgbColorObject(b)}static equals(b,R){if(b.mode!==R.mode)return!1;const G=b.comps_,oe=R.comps_;for(let xe=0;xe<G.length;xe++)if(G[xe]!==oe[xe])return!1;return!0}constructor(b,R,G="int"){this.mode=R,this.type=G,this.comps_=Eo(b,R,G)}getComponents(b,R="int"){return Oi(To(Kt(this.comps_),{mode:this.mode,type:this.type},{mode:b??this.mode,type:R}),this.comps_[3])}toRgbaObject(b="int"){const R=this.getComponents("rgb",b);return{r:R[0],g:R[1],b:R[2],a:R[3]}}}const zt=O("colp");class Mo{constructor(b,R){this.alphaViews_=null,this.element=b.createElement("div"),this.element.classList.add(zt()),R.viewProps.bindClassModifiers(this.element);const G=b.createElement("div");G.classList.add(zt("hsv"));const oe=b.createElement("div");oe.classList.add(zt("sv")),this.svPaletteView_=R.svPaletteView,oe.appendChild(this.svPaletteView_.element),G.appendChild(oe);const xe=b.createElement("div");xe.classList.add(zt("h")),this.hPaletteView_=R.hPaletteView,xe.appendChild(this.hPaletteView_.element),G.appendChild(xe),this.element.appendChild(G);const ke=b.createElement("div");if(ke.classList.add(zt("rgb")),this.textView_=R.textView,ke.appendChild(this.textView_.element),this.element.appendChild(ke),R.alphaViews){this.alphaViews_={palette:R.alphaViews.palette,text:R.alphaViews.text};const Ve=b.createElement("div");Ve.classList.add(zt("a"));const Ze=b.createElement("div");Ze.classList.add(zt("ap")),Ze.appendChild(this.alphaViews_.palette.element),Ve.appendChild(Ze);const Qe=b.createElement("div");Qe.classList.add(zt("at")),Qe.appendChild(this.alphaViews_.text.element),Ve.appendChild(Qe),this.element.appendChild(Ve)}}get allFocusableElements(){const b=[this.svPaletteView_.element,this.hPaletteView_.element,this.textView_.modeSelectElement,...this.textView_.textViews.map(R=>R.inputElement)];return this.alphaViews_&&b.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),b}}function wo(F){return F==="int"?"int":F==="float"?"float":void 0}function Jr(F){const b=Z;return te(F,{alpha:b.optional.boolean,color:b.optional.object({alpha:b.optional.boolean,type:b.optional.custom(wo)}),expanded:b.optional.boolean,picker:b.optional.custom(Ai)})}function Jt(F){return F?.1:1}function Qt(F){var b;return(b=F.color)===null||b===void 0?void 0:b.type}function Co(F,b){return F.alpha===b.alpha&&F.mode===b.mode&&F.notation===b.notation&&F.type===b.type}function Ot(F,b){const R=F.match(/^(.+)%$/);return Math.min(R?parseFloat(R[1])*.01*b:parseFloat(F),b)}const Ao={deg:F=>F,grad:F=>F*360/400,rad:F=>F*360/(2*Math.PI),turn:F=>F*360};function Fi(F){const b=F.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!b)return parseFloat(F);const R=parseFloat(b[1]),G=b[2];return Ao[G](R)}function Li(F){const b=F.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!b)return null;const R=[Ot(b[1],255),Ot(b[2],255),Ot(b[3],255)];return isNaN(R[0])||isNaN(R[1])||isNaN(R[2])?null:R}function Ii(F){return b=>{const R=Li(b);return R?new lt(R,"rgb",F):null}}function Di(F){const b=F.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!b)return null;const R=[Ot(b[1],255),Ot(b[2],255),Ot(b[3],255),Ot(b[4],1)];return isNaN(R[0])||isNaN(R[1])||isNaN(R[2])||isNaN(R[3])?null:R}function Bi(F){return b=>{const R=Di(b);return R?new lt(R,"rgb",F):null}}function Ni(F){const b=F.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!b)return null;const R=[Fi(b[1]),Ot(b[2],100),Ot(b[3],100)];return isNaN(R[0])||isNaN(R[1])||isNaN(R[2])?null:R}function Gi(F){return b=>{const R=Ni(b);return R?new lt(R,"hsl",F):null}}function ji(F){const b=F.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!b)return null;const R=[Fi(b[1]),Ot(b[2],100),Ot(b[3],100),Ot(b[4],1)];return isNaN(R[0])||isNaN(R[1])||isNaN(R[2])||isNaN(R[3])?null:R}function Ui(F){return b=>{const R=ji(b);return R?new lt(R,"hsl",F):null}}function Vi(F){const b=F.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(b)return[parseInt(b[1]+b[1],16),parseInt(b[2]+b[2],16),parseInt(b[3]+b[3],16)];const R=F.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return R?[parseInt(R[1],16),parseInt(R[2],16),parseInt(R[3],16)]:null}function ko(F){const b=Vi(F);return b?new lt(b,"rgb","int"):null}function zi(F){const b=F.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(b)return[parseInt(b[1]+b[1],16),parseInt(b[2]+b[2],16),parseInt(b[3]+b[3],16),ft(parseInt(b[4]+b[4],16),0,255,0,1)];const R=F.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return R?[parseInt(R[1],16),parseInt(R[2],16),parseInt(R[3],16),ft(parseInt(R[4],16),0,255,0,1)]:null}function Ro(F){const b=zi(F);return b?new lt(b,"rgb","int"):null}function Wi(F){const b=F.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!b)return null;const R=[parseFloat(b[1]),parseFloat(b[2]),parseFloat(b[3])];return isNaN(R[0])||isNaN(R[1])||isNaN(R[2])?null:R}function Hi(F){return b=>{const R=Wi(b);return R?new lt(R,"rgb",F):null}}function $i(F){const b=F.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*a\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!b)return null;const R=[parseFloat(b[1]),parseFloat(b[2]),parseFloat(b[3]),parseFloat(b[4])];return isNaN(R[0])||isNaN(R[1])||isNaN(R[2])||isNaN(R[3])?null:R}function Xi(F){return b=>{const R=$i(b);return R?new lt(R,"rgb",F):null}}const Oo=[{parser:Vi,result:{alpha:!1,mode:"rgb",notation:"hex"}},{parser:zi,result:{alpha:!0,mode:"rgb",notation:"hex"}},{parser:Li,result:{alpha:!1,mode:"rgb",notation:"func"}},{parser:Di,result:{alpha:!0,mode:"rgb",notation:"func"}},{parser:Ni,result:{alpha:!1,mode:"hsl",notation:"func"}},{parser:ji,result:{alpha:!0,mode:"hsl",notation:"func"}},{parser:Wi,result:{alpha:!1,mode:"rgb",notation:"object"}},{parser:$i,result:{alpha:!0,mode:"rgb",notation:"object"}}];function Po(F){return Oo.reduce((b,{parser:R,result:G})=>b||(R(F)?G:null),null)}function Qr(F,b="int"){const R=Po(F);return R?R.notation==="hex"&&b!=="float"?Object.assign(Object.assign({},R),{type:"int"}):R.notation==="func"?Object.assign(Object.assign({},R),{type:b}):null:null}const qi={int:[ko,Ro,Ii("int"),Bi("int"),Gi("int"),Ui("int"),Hi("int"),Xi("int")],float:[Ii("float"),Bi("float"),Gi("float"),Ui("float"),Hi("float"),Xi("float")]};function Fo(F){const b=qi[F];return R=>typeof R!="string"?lt.black(F):b.reduce((oe,xe)=>oe||xe(R),null)??lt.black(F)}function Zr(F){const b=qi[F];return R=>b.reduce((G,oe)=>G||oe(R),null)}function Yi(F){const b=Et(Math.floor(F),0,255).toString(16);return b.length===1?`0${b}`:b}function Ki(F,b="#"){const R=Kt(F.getComponents("rgb")).map(Yi).join("");return`${b}${R}`}function ei(F,b="#"){const R=F.getComponents("rgb"),G=[R[0],R[1],R[2],R[3]*255].map(Yi).join("");return`${b}${G}`}function Ji(F,b){const R=Mt(b==="float"?2:0);return`rgb(${Kt(F.getComponents("rgb",b)).map(G=>R(G)).join(", ")})`}function Lo(F){return b=>Ji(b,F)}function Ur(F,b){const R=Mt(2),G=Mt(b==="float"?2:0);return`rgba(${F.getComponents("rgb",b).map((oe,xe)=>(xe===3?R:G)(oe)).join(", ")})`}function Io(F){return b=>Ur(b,F)}function Do(F){const b=[Mt(0),Ir,Ir];return`hsl(${Kt(F.getComponents("hsl")).map((R,G)=>b[G](R)).join(", ")})`}function Bo(F){const b=[Mt(0),Ir,Ir,Mt(2)];return`hsla(${F.getComponents("hsl").map((R,G)=>b[G](R)).join(", ")})`}function Qi(F,b){const R=Mt(b==="float"?2:0),G=["r","g","b"];return`{${Kt(F.getComponents("rgb",b)).map((oe,xe)=>`${G[xe]}: ${R(oe)}`).join(", ")}}`}function No(F){return b=>Qi(b,F)}function Zi(F,b){const R=Mt(2),G=Mt(b==="float"?2:0),oe=["r","g","b","a"];return`{${F.getComponents("rgb",b).map((xe,ke)=>{const Ve=ke===3?R:G;return`${oe[ke]}: ${Ve(xe)}`}).join(", ")}}`}function Go(F){return b=>Zi(b,F)}const jo=[{format:{alpha:!1,mode:"rgb",notation:"hex",type:"int"},stringifier:Ki},{format:{alpha:!0,mode:"rgb",notation:"hex",type:"int"},stringifier:ei},{format:{alpha:!1,mode:"hsl",notation:"func",type:"int"},stringifier:Do},{format:{alpha:!0,mode:"hsl",notation:"func",type:"int"},stringifier:Bo},...["int","float"].reduce((F,b)=>[...F,{format:{alpha:!1,mode:"rgb",notation:"func",type:b},stringifier:Lo(b)},{format:{alpha:!0,mode:"rgb",notation:"func",type:b},stringifier:Io(b)},{format:{alpha:!1,mode:"rgb",notation:"object",type:b},stringifier:No(b)},{format:{alpha:!0,mode:"rgb",notation:"object",type:b},stringifier:Go(b)}],[])];function ti(F){return jo.reduce((b,R)=>b||(Co(R.format,F)?R.stringifier:null),null)}const Ar=O("apl");class Uo{constructor(b,R){this.onValueChange_=this.onValueChange_.bind(this),this.value=R.value,this.value.emitter.on("change",this.onValueChange_),this.element=b.createElement("div"),this.element.classList.add(Ar()),R.viewProps.bindClassModifiers(this.element),R.viewProps.bindTabIndex(this.element);const G=b.createElement("div");G.classList.add(Ar("b")),this.element.appendChild(G);const oe=b.createElement("div");oe.classList.add(Ar("c")),G.appendChild(oe),this.colorElem_=oe;const xe=b.createElement("div");xe.classList.add(Ar("m")),this.element.appendChild(xe),this.markerElem_=xe;const ke=b.createElement("div");ke.classList.add(Ar("p")),this.markerElem_.appendChild(ke),this.previewElem_=ke,this.update_()}update_(){const b=this.value.rawValue,R=b.getComponents("rgb"),G=new lt([R[0],R[1],R[2],0],"rgb"),oe=new lt([R[0],R[1],R[2],255],"rgb"),xe=["to right",Ur(G),Ur(oe)];this.colorElem_.style.background=`linear-gradient(${xe.join(",")})`,this.previewElem_.style.backgroundColor=Ur(b);const ke=ft(R[3],0,1,0,100);this.markerElem_.style.left=`${ke}%`}onValueChange_(){this.update_()}}class Vo{constructor(b,R){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=R.value,this.viewProps=R.viewProps,this.view=new Uo(b,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new qt(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(b,R){if(!b.point)return;const G=b.point.x/b.bounds.width,oe=this.value.rawValue,[xe,ke,Ve]=oe.getComponents("hsv");this.value.setRawValue(new lt([xe,ke,Ve,G],"hsv"),R)}onPointerDown_(b){this.handlePointerEvent_(b.data,{forceEmit:!1,last:!1})}onPointerMove_(b){this.handlePointerEvent_(b.data,{forceEmit:!1,last:!1})}onPointerUp_(b){this.handlePointerEvent_(b.data,{forceEmit:!0,last:!0})}onKeyDown_(b){const R=At(Jt(!0),Nt(b));if(R===0)return;const G=this.value.rawValue,[oe,xe,ke,Ve]=G.getComponents("hsv");this.value.setRawValue(new lt([oe,xe,ke,Ve+R],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(b){At(Jt(!0),Nt(b))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const sr=O("coltxt");function zo(F){const b=F.createElement("select"),R=[{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"}];return b.appendChild(R.reduce((G,oe)=>{const xe=F.createElement("option");return xe.textContent=oe.text,xe.value=oe.value,G.appendChild(xe),G},F.createDocumentFragment())),b}class Wo{constructor(b,R){this.element=b.createElement("div"),this.element.classList.add(sr()),R.viewProps.bindClassModifiers(this.element);const G=b.createElement("div");G.classList.add(sr("m")),this.modeElem_=zo(b),this.modeElem_.classList.add(sr("ms")),G.appendChild(this.modeSelectElement),R.viewProps.bindDisabled(this.modeElem_);const oe=b.createElement("div");oe.classList.add(sr("mm")),oe.appendChild(Ee(b,"dropdown")),G.appendChild(oe),this.element.appendChild(G);const xe=b.createElement("div");xe.classList.add(sr("w")),this.element.appendChild(xe),this.textsElem_=xe,this.textViews_=R.textViews,this.applyTextViews_(),j(R.colorMode,ke=>{this.modeElem_.value=ke})}get modeSelectElement(){return this.modeElem_}get textViews(){return this.textViews_}set textViews(b){this.textViews_=b,this.applyTextViews_()}applyTextViews_(){Ne(this.textsElem_);const b=this.element.ownerDocument;this.textViews_.forEach(R=>{const G=b.createElement("div");G.classList.add(sr("c")),G.appendChild(R.element),this.textsElem_.appendChild(G)})}}function Ho(F){return Mt(F==="float"?2:0)}function $o(F,b,R){const G=Gr(F,b)[R];return new nr({min:0,max:G})}function ri(F,b,R){return new wr(F,{arrayPosition:R===0?"fst":R===2?"lst":"mid",baseStep:Jt(!1),parser:b.parser,props:D.fromObject({draggingScale:b.colorType==="float"?.01:1,formatter:Ho(b.colorType)}),value:q(0,{constraint:$o(b.colorMode,b.colorType,R)}),viewProps:b.viewProps})}class Xo{constructor(b,R){this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.colorType_=R.colorType,this.parser_=R.parser,this.value=R.value,this.viewProps=R.viewProps,this.colorMode=q(this.value.rawValue.mode),this.ccs_=this.createComponentControllers_(b),this.view=new Wo(b,{colorMode:this.colorMode,textViews:[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view],viewProps:this.viewProps}),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}createComponentControllers_(b){const R={colorMode:this.colorMode.rawValue,colorType:this.colorType_,parser:this.parser_,viewProps:this.viewProps},G=[ri(b,R,0),ri(b,R,1),ri(b,R,2)];return G.forEach((oe,xe)=>{Tr({primary:this.value,secondary:oe.value,forward:ke=>ke.rawValue.getComponents(this.colorMode.rawValue,this.colorType_)[xe],backward:(ke,Ve)=>{const Ze=this.colorMode.rawValue,Qe=ke.rawValue.getComponents(Ze,this.colorType_);return Qe[xe]=Ve.rawValue,new lt(Oi(Kt(Qe),Qe[3]),Ze,this.colorType_)}})}),G}onModeSelectChange_(b){const R=b.currentTarget;this.colorMode.rawValue=R.value,this.ccs_=this.createComponentControllers_(this.view.element.ownerDocument),this.view.textViews=[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view]}}const ii=O("hpl");class qo{constructor(b,R){this.onValueChange_=this.onValueChange_.bind(this),this.value=R.value,this.value.emitter.on("change",this.onValueChange_),this.element=b.createElement("div"),this.element.classList.add(ii()),R.viewProps.bindClassModifiers(this.element),R.viewProps.bindTabIndex(this.element);const G=b.createElement("div");G.classList.add(ii("c")),this.element.appendChild(G);const oe=b.createElement("div");oe.classList.add(ii("m")),this.element.appendChild(oe),this.markerElem_=oe,this.update_()}update_(){const b=this.value.rawValue,[R]=b.getComponents("hsv");this.markerElem_.style.backgroundColor=Ji(new lt([R,100,100],"hsv"));const G=ft(R,0,360,0,100);this.markerElem_.style.left=`${G}%`}onValueChange_(){this.update_()}}class Yo{constructor(b,R){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=R.value,this.viewProps=R.viewProps,this.view=new qo(b,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new qt(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(b,R){if(!b.point)return;const G=ft(Et(b.point.x,0,b.bounds.width),0,b.bounds.width,0,360),oe=this.value.rawValue,[,xe,ke,Ve]=oe.getComponents("hsv");this.value.setRawValue(new lt([G,xe,ke,Ve],"hsv"),R)}onPointerDown_(b){this.handlePointerEvent_(b.data,{forceEmit:!1,last:!1})}onPointerMove_(b){this.handlePointerEvent_(b.data,{forceEmit:!1,last:!1})}onPointerUp_(b){this.handlePointerEvent_(b.data,{forceEmit:!0,last:!0})}onKeyDown_(b){const R=At(Jt(!1),Nt(b));if(R===0)return;const G=this.value.rawValue,[oe,xe,ke,Ve]=G.getComponents("hsv");this.value.setRawValue(new lt([oe+R,xe,ke,Ve],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(b){At(Jt(!1),Nt(b))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const ni=O("svp"),en=64;class Ko{constructor(b,R){this.onValueChange_=this.onValueChange_.bind(this),this.value=R.value,this.value.emitter.on("change",this.onValueChange_),this.element=b.createElement("div"),this.element.classList.add(ni()),R.viewProps.bindClassModifiers(this.element),R.viewProps.bindTabIndex(this.element);const G=b.createElement("canvas");G.height=en,G.width=en,G.classList.add(ni("c")),this.element.appendChild(G),this.canvasElement=G;const oe=b.createElement("div");oe.classList.add(ni("m")),this.element.appendChild(oe),this.markerElem_=oe,this.update_()}update_(){const b=he(this.canvasElement);if(!b)return;const R=this.value.rawValue.getComponents("hsv"),G=this.canvasElement.width,oe=this.canvasElement.height,xe=b.getImageData(0,0,G,oe),ke=xe.data;for(let Qe=0;Qe<oe;Qe++)for(let dt=0;dt<G;dt++){const ht=ft(dt,0,G,0,100),Zt=ft(Qe,0,oe,100,0),er=Ri(R[0],ht,Zt),dr=(Qe*G+dt)*4;ke[dr]=er[0],ke[dr+1]=er[1],ke[dr+2]=er[2],ke[dr+3]=255}b.putImageData(xe,0,0);const Ve=ft(R[1],0,100,0,100);this.markerElem_.style.left=`${Ve}%`;const Ze=ft(R[2],0,100,100,0);this.markerElem_.style.top=`${Ze}%`}onValueChange_(){this.update_()}}class Jo{constructor(b,R){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=R.value,this.viewProps=R.viewProps,this.view=new Ko(b,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new qt(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(b,R){if(!b.point)return;const G=ft(b.point.x,0,b.bounds.width,0,100),oe=ft(b.point.y,0,b.bounds.height,100,0),[xe,,,ke]=this.value.rawValue.getComponents("hsv");this.value.setRawValue(new lt([xe,G,oe,ke],"hsv"),R)}onPointerDown_(b){this.handlePointerEvent_(b.data,{forceEmit:!1,last:!1})}onPointerMove_(b){this.handlePointerEvent_(b.data,{forceEmit:!1,last:!1})}onPointerUp_(b){this.handlePointerEvent_(b.data,{forceEmit:!0,last:!0})}onKeyDown_(b){Mi(b.key)&&b.preventDefault();const[R,G,oe,xe]=this.value.rawValue.getComponents("hsv"),ke=Jt(!1),Ve=At(ke,Nt(b)),Ze=At(ke,Mr(b));Ve===0&&Ze===0||this.value.setRawValue(new lt([R,G+Ve,oe+Ze,xe],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(b){const R=Jt(!1),G=At(R,Nt(b)),oe=At(R,Mr(b));G===0&&oe===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class Qo{constructor(b,R){this.value=R.value,this.viewProps=R.viewProps,this.hPaletteC_=new Yo(b,{value:this.value,viewProps:this.viewProps}),this.svPaletteC_=new Jo(b,{value:this.value,viewProps:this.viewProps}),this.alphaIcs_=R.supportsAlpha?{palette:new Vo(b,{value:this.value,viewProps:this.viewProps}),text:new wr(b,{parser:Bt,baseStep:.1,props:D.fromObject({draggingScale:.01,formatter:Mt(2)}),value:q(0,{constraint:new nr({min:0,max:1})}),viewProps:this.viewProps})}:null,this.alphaIcs_&&Tr({primary:this.value,secondary:this.alphaIcs_.text.value,forward:G=>G.rawValue.getComponents()[3],backward:(G,oe)=>{const xe=G.rawValue.getComponents();return xe[3]=oe.rawValue,new lt(xe,G.rawValue.mode)}}),this.textC_=new Xo(b,{colorType:R.colorType,parser:Bt,value:this.value,viewProps:this.viewProps}),this.view=new Mo(b,{alphaViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,hPaletteView:this.hPaletteC_.view,supportsAlpha:R.supportsAlpha,svPaletteView:this.svPaletteC_.view,textView:this.textC_.view,viewProps:this.viewProps})}get textController(){return this.textC_}}const oi=O("colsw");class Zo{constructor(b,R){this.onValueChange_=this.onValueChange_.bind(this),R.value.emitter.on("change",this.onValueChange_),this.value=R.value,this.element=b.createElement("div"),this.element.classList.add(oi()),R.viewProps.bindClassModifiers(this.element);const G=b.createElement("div");G.classList.add(oi("sw")),this.element.appendChild(G),this.swatchElem_=G;const oe=b.createElement("button");oe.classList.add(oi("b")),R.viewProps.bindDisabled(oe),this.element.appendChild(oe),this.buttonElement=oe,this.update_()}update_(){const b=this.value.rawValue;this.swatchElem_.style.backgroundColor=ei(b)}onValueChange_(){this.update_()}}class ea{constructor(b,R){this.value=R.value,this.viewProps=R.viewProps,this.view=new Zo(b,{value:this.value,viewProps:this.viewProps})}}class ai{constructor(b,R){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=R.value,this.viewProps=R.viewProps,this.foldable_=ot.create(R.expanded),this.swatchC_=new ea(b,{value:this.value,viewProps:this.viewProps});const G=this.swatchC_.view.buttonElement;G.addEventListener("blur",this.onButtonBlur_),G.addEventListener("click",this.onButtonClick_),this.textC_=new Lr(b,{parser:R.parser,props:D.fromObject({formatter:R.formatter}),value:this.value,viewProps:this.viewProps}),this.view=new mo(b,{foldable:this.foldable_,pickerLayout:R.pickerLayout}),this.view.swatchElement.appendChild(this.swatchC_.view.element),this.view.textElement.appendChild(this.textC_.view.element),this.popC_=R.pickerLayout==="popup"?new fi(b,{viewProps:this.viewProps}):null;const oe=new Qo(b,{colorType:R.colorType,supportsAlpha:R.supportsAlpha,value:this.value,viewProps:this.viewProps});oe.view.allFocusableElements.forEach(xe=>{xe.addEventListener("blur",this.onPopupChildBlur_),xe.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=oe,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(oe.view.element),Tr({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:xe=>xe.rawValue,backward:(xe,ke)=>ke.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),Ie(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onButtonBlur_(b){if(!this.popC_)return;const R=this.view.element,G=b.relatedTarget;(!G||!R.contains(G))&&(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(b){if(!this.popC_)return;const R=this.popC_.view.element,G=je(b);G&&R.contains(G)||G&&G===this.swatchC_.view.buttonElement&&!Se(R.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(b){this.popC_?b.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&b.key==="Escape"&&this.swatchC_.view.buttonElement.focus()}}function ta(F,b){return lt.isColorObject(F)?lt.fromObject(F,b):lt.black(b)}function ra(F){return Kt(F.getComponents("rgb")).reduce((b,R)=>b<<8|Math.floor(R)&255,0)}function ia(F){return F.getComponents("rgb").reduce((b,R,G)=>{const oe=Math.floor(G===3?R*255:R)&255;return b<<8|oe},0)>>>0}function na(F){return new lt([F>>16&255,F>>8&255,F&255],"rgb")}function oa(F){return new lt([F>>24&255,F>>16&255,F>>8&255,ft(F&255,0,255,0,1)],"rgb")}function aa(F){return typeof F!="number"?lt.black():na(F)}function sa(F){return typeof F!="number"?lt.black():oa(F)}function la(F){const b=ti(F);return b?(R,G)=>{Cr(R,b(G))}:null}function pa(F){const b=F?ia:ra;return(R,G)=>{Cr(R,b(G))}}function ca(F,b,R){const G=b.toRgbaObject(R);F.writeProperty("r",G.r),F.writeProperty("g",G.g),F.writeProperty("b",G.b),F.writeProperty("a",G.a)}function da(F,b,R){const G=b.toRgbaObject(R);F.writeProperty("r",G.r),F.writeProperty("g",G.g),F.writeProperty("b",G.b)}function ua(F,b){return(R,G)=>{F?ca(R,G,b):da(R,G,b)}}function si(F){var b;return!!(F!=null&&F.alpha||!((b=F==null?void 0:F.color)===null||b===void 0)&&b.alpha)}function ha(F){return F?b=>ei(b,"0x"):b=>Ki(b,"0x")}function ga(F){return"color"in F||"view"in F&&F.view==="color"}const ma={id:"input-color-number",type:"input",accept:(F,b)=>{if(typeof F!="number"||!ga(b))return null;const R=Jr(b);return R?{initialValue:F,params:R}:null},binding:{reader:F=>si(F.params)?sa:aa,equals:lt.equals,writer:F=>pa(si(F.params))},controller:F=>{const b=si(F.params),R="expanded"in F.params?F.params.expanded:void 0,G="picker"in F.params?F.params.picker:void 0;return new ai(F.document,{colorType:"int",expanded:R??!1,formatter:ha(b),parser:Zr("int"),pickerLayout:G??"popup",supportsAlpha:b,value:F.value,viewProps:F.viewProps})}};function fa(F){return lt.isRgbaColorObject(F)}function ya(F){return b=>ta(b,F)}function xa(F,b){return R=>F?Zi(R,b):Qi(R,b)}const Sa={id:"input-color-object",type:"input",accept:(F,b)=>{if(!lt.isColorObject(F))return null;const R=Jr(b);return R?{initialValue:F,params:R}:null},binding:{reader:F=>ya(Qt(F.params)),equals:lt.equals,writer:F=>ua(fa(F.initialValue),Qt(F.params))},controller:F=>{var b;const R=lt.isRgbaColorObject(F.initialValue),G="expanded"in F.params?F.params.expanded:void 0,oe="picker"in F.params?F.params.picker:void 0,xe=(b=Qt(F.params))!==null&&b!==void 0?b:"int";return new ai(F.document,{colorType:xe,expanded:G??!1,formatter:xa(R,xe),parser:Zr(xe),pickerLayout:oe??"popup",supportsAlpha:R,value:F.value,viewProps:F.viewProps})}},Ea={id:"input-color-string",type:"input",accept:(F,b)=>{if(typeof F!="string"||"view"in b&&b.view==="text")return null;const R=Qr(F,Qt(b));if(!R||!ti(R))return null;const G=Jr(b);return G?{initialValue:F,params:G}:null},binding:{reader:F=>{var b;return Fo((b=Qt(F.params))!==null&&b!==void 0?b:"int")},equals:lt.equals,writer:F=>{const b=Qr(F.initialValue,Qt(F.params));if(!b)throw T.shouldNeverHappen();const R=la(b);if(!R)throw T.notBindable();return R}},controller:F=>{const b=Qr(F.initialValue,Qt(F.params));if(!b)throw T.shouldNeverHappen();const R=ti(b);if(!R)throw T.shouldNeverHappen();const G="expanded"in F.params?F.params.expanded:void 0,oe="picker"in F.params?F.params.picker:void 0;return new ai(F.document,{colorType:b.type,expanded:G??!1,formatter:R,parser:Zr(b.type),pickerLayout:oe??"popup",supportsAlpha:b.alpha,value:F.value,viewProps:F.viewProps})}};class Wt{constructor(b){this.components=b.components,this.asm_=b.assembly}constrain(b){const R=this.asm_.toComponents(b).map((G,oe)=>{var xe,ke;return(ke=(xe=this.components[oe])===null||xe===void 0?void 0:xe.constrain(G))!==null&&ke!==void 0?ke:G});return this.asm_.fromComponents(R)}}const tn=O("pndtxt");class Ta{constructor(b,R){this.textViews=R.textViews,this.element=b.createElement("div"),this.element.classList.add(tn()),this.textViews.forEach(G=>{const oe=b.createElement("div");oe.classList.add(tn("a")),oe.appendChild(G.element),this.element.appendChild(oe)})}}function Ma(F,b,R){return new wr(F,{arrayPosition:R===0?"fst":R===b.axes.length-1?"lst":"mid",baseStep:b.axes[R].baseStep,parser:b.parser,props:b.axes[R].textProps,value:q(0,{constraint:b.axes[R].constraint}),viewProps:b.viewProps})}class li{constructor(b,R){this.value=R.value,this.viewProps=R.viewProps,this.acs_=R.axes.map((G,oe)=>Ma(b,R,oe)),this.acs_.forEach((G,oe)=>{Tr({primary:this.value,secondary:G.value,forward:xe=>R.assembly.toComponents(xe.rawValue)[oe],backward:(xe,ke)=>{const Ve=R.assembly.toComponents(xe.rawValue);return Ve[oe]=ke.rawValue,R.assembly.fromComponents(Ve)}})}),this.view=new Ta(b,{textViews:this.acs_.map(G=>G.view)})}}function rn(F,b){return"step"in F&&!g(F.step)?new Fr(F.step,b):null}function nn(F){return!g(F.max)&&!g(F.min)?new nr({max:F.max,min:F.min}):!g(F.max)||!g(F.min)?new gi({max:F.max,min:F.min}):null}function wa(F){const b=Dt(F,nr);if(b)return[b.values.get("min"),b.values.get("max")];const R=Dt(F,gi);return R?[R.minValue,R.maxValue]:[void 0,void 0]}function Ca(F,b){const R=[],G=rn(F,b);G&&R.push(G);const oe=nn(F);oe&&R.push(oe);const xe=Kr(F.options);return xe&&R.push(xe),new vr(R)}const Aa={id:"input-number",type:"input",accept:(F,b)=>{if(typeof F!="number")return null;const R=Z,G=te(b,{format:R.optional.function,max:R.optional.number,min:R.optional.number,options:R.optional.custom(Dr),step:R.optional.number});return G?{initialValue:F,params:G}:null},binding:{reader:F=>Ei,constraint:F=>Ca(F.params,F.initialValue),writer:F=>Cr},controller:F=>{var b;const R=F.value,G=F.constraint,oe=G&&Dt(G,br);if(oe)return new xr(F.document,{props:new D({options:oe.values.value("options")}),value:R,viewProps:F.viewProps});const xe=(b="format"in F.params?F.params.format:void 0)!==null&&b!==void 0?b:Mt(Br(G,R.rawValue)),ke=G&&Dt(G,nr);return ke?new Yr(F.document,{baseStep:or(G),parser:Bt,sliderProps:new D({maxValue:ke.values.value("max"),minValue:ke.values.value("min")}),textProps:D.fromObject({draggingScale:ar(G,R.rawValue),formatter:xe}),value:R,viewProps:F.viewProps}):new wr(F.document,{baseStep:or(G),parser:Bt,props:D.fromObject({draggingScale:ar(G,R.rawValue),formatter:xe}),value:R,viewProps:F.viewProps})}};class Ht{constructor(b=0,R=0){this.x=b,this.y=R}getComponents(){return[this.x,this.y]}static isObject(b){if(g(b))return!1;const R=b.x,G=b.y;return!(typeof R!="number"||typeof G!="number")}static equals(b,R){return b.x===R.x&&b.y===R.y}toObject(){return{x:this.x,y:this.y}}}const on={toComponents:F=>F.getComponents(),fromComponents:F=>new Ht(...F)},lr=O("p2d");class ka{constructor(b,R){this.element=b.createElement("div"),this.element.classList.add(lr()),R.viewProps.bindClassModifiers(this.element),j(R.expanded,W(this.element,lr(void 0,"expanded")));const G=b.createElement("div");G.classList.add(lr("h")),this.element.appendChild(G);const oe=b.createElement("button");oe.classList.add(lr("b")),oe.appendChild(Ee(b,"p2dpad")),R.viewProps.bindDisabled(oe),G.appendChild(oe),this.buttonElement=oe;const xe=b.createElement("div");if(xe.classList.add(lr("t")),G.appendChild(xe),this.textElement=xe,R.pickerLayout==="inline"){const ke=b.createElement("div");ke.classList.add(lr("p")),this.element.appendChild(ke),this.pickerElement=ke}else this.pickerElement=null}}const $t=O("p2dp");class Ra{constructor(b,R){this.onFoldableChange_=this.onFoldableChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.invertsY_=R.invertsY,this.maxValue_=R.maxValue,this.element=b.createElement("div"),this.element.classList.add($t()),R.layout==="popup"&&this.element.classList.add($t(void 0,"p")),R.viewProps.bindClassModifiers(this.element);const G=b.createElement("div");G.classList.add($t("p")),R.viewProps.bindTabIndex(G),this.element.appendChild(G),this.padElement=G;const oe=b.createElementNS(ve,"svg");oe.classList.add($t("g")),this.padElement.appendChild(oe),this.svgElem_=oe;const xe=b.createElementNS(ve,"line");xe.classList.add($t("ax")),xe.setAttributeNS(null,"x1","0"),xe.setAttributeNS(null,"y1","50%"),xe.setAttributeNS(null,"x2","100%"),xe.setAttributeNS(null,"y2","50%"),this.svgElem_.appendChild(xe);const ke=b.createElementNS(ve,"line");ke.classList.add($t("ax")),ke.setAttributeNS(null,"x1","50%"),ke.setAttributeNS(null,"y1","0"),ke.setAttributeNS(null,"x2","50%"),ke.setAttributeNS(null,"y2","100%"),this.svgElem_.appendChild(ke);const Ve=b.createElementNS(ve,"line");Ve.classList.add($t("l")),Ve.setAttributeNS(null,"x1","50%"),Ve.setAttributeNS(null,"y1","50%"),this.svgElem_.appendChild(Ve),this.lineElem_=Ve;const Ze=b.createElement("div");Ze.classList.add($t("m")),this.padElement.appendChild(Ze),this.markerElem_=Ze,R.value.emitter.on("change",this.onValueChange_),this.value=R.value,this.update_()}get allFocusableElements(){return[this.padElement]}update_(){const[b,R]=this.value.rawValue.getComponents(),G=this.maxValue_,oe=ft(b,-G,+G,0,100),xe=ft(R,-G,+G,0,100),ke=this.invertsY_?100-xe:xe;this.lineElem_.setAttributeNS(null,"x2",`${oe}%`),this.lineElem_.setAttributeNS(null,"y2",`${ke}%`),this.markerElem_.style.left=`${oe}%`,this.markerElem_.style.top=`${ke}%`}onValueChange_(){this.update_()}onFoldableChange_(){this.update_()}}function an(F,b,R){return[At(b[0],Nt(F)),At(b[1],Mr(F))*(R?1:-1)]}class Oa{constructor(b,R){this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPadKeyUp_=this.onPadKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=R.value,this.viewProps=R.viewProps,this.baseSteps_=R.baseSteps,this.maxValue_=R.maxValue,this.invertsY_=R.invertsY,this.view=new Ra(b,{invertsY:this.invertsY_,layout:R.layout,maxValue:this.maxValue_,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new qt(this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_),this.view.padElement.addEventListener("keyup",this.onPadKeyUp_)}handlePointerEvent_(b,R){if(!b.point)return;const G=this.maxValue_,oe=ft(b.point.x,0,b.bounds.width,-G,+G),xe=ft(this.invertsY_?b.bounds.height-b.point.y:b.point.y,0,b.bounds.height,-G,+G);this.value.setRawValue(new Ht(oe,xe),R)}onPointerDown_(b){this.handlePointerEvent_(b.data,{forceEmit:!1,last:!1})}onPointerMove_(b){this.handlePointerEvent_(b.data,{forceEmit:!1,last:!1})}onPointerUp_(b){this.handlePointerEvent_(b.data,{forceEmit:!0,last:!0})}onPadKeyDown_(b){Mi(b.key)&&b.preventDefault();const[R,G]=an(b,this.baseSteps_,this.invertsY_);R===0&&G===0||this.value.setRawValue(new Ht(this.value.rawValue.x+R,this.value.rawValue.y+G),{forceEmit:!1,last:!1})}onPadKeyUp_(b){const[R,G]=an(b,this.baseSteps_,this.invertsY_);R===0&&G===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class Pa{constructor(b,R){var G,oe;this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=R.value,this.viewProps=R.viewProps,this.foldable_=ot.create(R.expanded),this.popC_=R.pickerLayout==="popup"?new fi(b,{viewProps:this.viewProps}):null;const xe=new Oa(b,{baseSteps:[R.axes[0].baseStep,R.axes[1].baseStep],invertsY:R.invertsY,layout:R.pickerLayout,maxValue:R.maxValue,value:this.value,viewProps:this.viewProps});xe.view.allFocusableElements.forEach(ke=>{ke.addEventListener("blur",this.onPopupChildBlur_),ke.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=xe,this.textC_=new li(b,{assembly:on,axes:R.axes,parser:R.parser,value:this.value,viewProps:this.viewProps}),this.view=new ka(b,{expanded:this.foldable_.value("expanded"),pickerLayout:R.pickerLayout,viewProps:this.viewProps}),this.view.textElement.appendChild(this.textC_.view.element),(G=this.view.buttonElement)===null||G===void 0||G.addEventListener("blur",this.onPadButtonBlur_),(oe=this.view.buttonElement)===null||oe===void 0||oe.addEventListener("click",this.onPadButtonClick_),this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),Tr({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:ke=>ke.rawValue,backward:(ke,Ve)=>Ve.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),Ie(this.foldable_,this.view.pickerElement))}onPadButtonBlur_(b){if(!this.popC_)return;const R=this.view.element,G=b.relatedTarget;(!G||!R.contains(G))&&(this.popC_.shows.rawValue=!1)}onPadButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(b){if(!this.popC_)return;const R=this.popC_.view.element,G=je(b);G&&R.contains(G)||G&&G===this.view.buttonElement&&!Se(R.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(b){this.popC_?b.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&b.key==="Escape"&&this.view.buttonElement.focus()}}class pr{constructor(b=0,R=0,G=0){this.x=b,this.y=R,this.z=G}getComponents(){return[this.x,this.y,this.z]}static isObject(b){if(g(b))return!1;const R=b.x,G=b.y,oe=b.z;return!(typeof R!="number"||typeof G!="number"||typeof oe!="number")}static equals(b,R){return b.x===R.x&&b.y===R.y&&b.z===R.z}toObject(){return{x:this.x,y:this.y,z:this.z}}}const sn={toComponents:F=>F.getComponents(),fromComponents:F=>new pr(...F)};function Fa(F){return pr.isObject(F)?new pr(F.x,F.y,F.z):new pr}function La(F,b){F.writeProperty("x",b.x),F.writeProperty("y",b.y),F.writeProperty("z",b.z)}function Ia(F,b){return new Wt({assembly:sn,components:[Gt("x"in F?F.x:void 0,b.x),Gt("y"in F?F.y:void 0,b.y),Gt("z"in F?F.z:void 0,b.z)]})}function pi(F,b){return{baseStep:or(b),constraint:b,textProps:D.fromObject({draggingScale:ar(b,F),formatter:Mt(Br(b,F))})}}const Da={id:"input-point3d",type:"input",accept:(F,b)=>{if(!pr.isObject(F))return null;const R=Z,G=te(b,{x:R.optional.custom(Vt),y:R.optional.custom(Vt),z:R.optional.custom(Vt)});return G?{initialValue:F,params:G}:null},binding:{reader:F=>Fa,constraint:F=>Ia(F.params,F.initialValue),equals:pr.equals,writer:F=>La},controller:F=>{const b=F.value,R=F.constraint;if(!(R instanceof Wt))throw T.shouldNeverHappen();return new li(F.document,{assembly:sn,axes:[pi(b.rawValue.x,R.components[0]),pi(b.rawValue.y,R.components[1]),pi(b.rawValue.z,R.components[2])],parser:Bt,value:b,viewProps:F.viewProps})}};class cr{constructor(b=0,R=0,G=0,oe=0){this.x=b,this.y=R,this.z=G,this.w=oe}getComponents(){return[this.x,this.y,this.z,this.w]}static isObject(b){if(g(b))return!1;const R=b.x,G=b.y,oe=b.z,xe=b.w;return!(typeof R!="number"||typeof G!="number"||typeof oe!="number"||typeof xe!="number")}static equals(b,R){return b.x===R.x&&b.y===R.y&&b.z===R.z&&b.w===R.w}toObject(){return{x:this.x,y:this.y,z:this.z,w:this.w}}}const ln={toComponents:F=>F.getComponents(),fromComponents:F=>new cr(...F)};function Ba(F){return cr.isObject(F)?new cr(F.x,F.y,F.z,F.w):new cr}function Na(F,b){F.writeProperty("x",b.x),F.writeProperty("y",b.y),F.writeProperty("z",b.z),F.writeProperty("w",b.w)}function Ga(F,b){return new Wt({assembly:ln,components:[Gt("x"in F?F.x:void 0,b.x),Gt("y"in F?F.y:void 0,b.y),Gt("z"in F?F.z:void 0,b.z),Gt("w"in F?F.w:void 0,b.w)]})}function ja(F,b){return{baseStep:or(b),constraint:b,textProps:D.fromObject({draggingScale:ar(b,F),formatter:Mt(Br(b,F))})}}const Ua={id:"input-point4d",type:"input",accept:(F,b)=>{if(!cr.isObject(F))return null;const R=Z,G=te(b,{x:R.optional.custom(Vt),y:R.optional.custom(Vt),z:R.optional.custom(Vt),w:R.optional.custom(Vt)});return G?{initialValue:F,params:G}:null},binding:{reader:F=>Ba,constraint:F=>Ga(F.params,F.initialValue),equals:cr.equals,writer:F=>Na},controller:F=>{const b=F.value,R=F.constraint;if(!(R instanceof Wt))throw T.shouldNeverHappen();return new li(F.document,{assembly:ln,axes:b.rawValue.getComponents().map((G,oe)=>ja(G,R.components[oe])),parser:Bt,value:b,viewProps:F.viewProps})}};function Va(F){const b=[],R=Kr(F.options);return R&&b.push(R),new vr(b)}const za={id:"input-string",type:"input",accept:(F,b)=>{if(typeof F!="string")return null;const R=te(b,{options:Z.optional.custom(Dr)});return R?{initialValue:F,params:R}:null},binding:{reader:F=>Ti,constraint:F=>Va(F.params),writer:F=>Cr},controller:F=>{const b=F.document,R=F.value,G=F.constraint,oe=G&&Dt(G,br);return oe?new xr(b,{props:new D({options:oe.values.value("options")}),value:R,viewProps:F.viewProps}):new Lr(b,{parser:xe=>xe,props:D.fromObject({formatter:Hr}),value:R,viewProps:F.viewProps})}},kr={monitor:{defaultInterval:200,defaultLineCount:3}},pn=O("mll");class Wa{constructor(b,R){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=R.formatter,this.element=b.createElement("div"),this.element.classList.add(pn()),R.viewProps.bindClassModifiers(this.element);const G=b.createElement("textarea");G.classList.add(pn("i")),G.style.height=`calc(var(--bld-us) * ${R.lineCount})`,G.readOnly=!0,R.viewProps.bindDisabled(G),this.element.appendChild(G),this.textareaElem_=G,R.value.emitter.on("change",this.onValueUpdate_),this.value=R.value,this.update_()}update_(){const b=this.textareaElem_,R=b.scrollTop===b.scrollHeight-b.clientHeight,G=[];this.value.rawValue.forEach(oe=>{oe!==void 0&&G.push(this.formatter_(oe))}),b.textContent=G.join(`
`),R&&(b.scrollTop=b.scrollHeight)}onValueUpdate_(){this.update_()}}class ci{constructor(b,R){this.value=R.value,this.viewProps=R.viewProps,this.view=new Wa(b,{formatter:R.formatter,lineCount:R.lineCount,value:this.value,viewProps:this.viewProps})}}const cn=O("sgl");class Ha{constructor(b,R){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=R.formatter,this.element=b.createElement("div"),this.element.classList.add(cn()),R.viewProps.bindClassModifiers(this.element);const G=b.createElement("input");G.classList.add(cn("i")),G.readOnly=!0,G.type="text",R.viewProps.bindDisabled(G),this.element.appendChild(G),this.inputElement=G,R.value.emitter.on("change",this.onValueUpdate_),this.value=R.value,this.update_()}update_(){const b=this.value.rawValue,R=b[b.length-1];this.inputElement.value=R!==void 0?this.formatter_(R):""}onValueUpdate_(){this.update_()}}class di{constructor(b,R){this.value=R.value,this.viewProps=R.viewProps,this.view=new Ha(b,{formatter:R.formatter,value:this.value,viewProps:this.viewProps})}}const $a={id:"monitor-bool",type:"monitor",accept:(F,b)=>{if(typeof F!="boolean")return null;const R=te(b,{lineCount:Z.optional.number});return R?{initialValue:F,params:R}:null},binding:{reader:F=>yi},controller:F=>{var b;return F.value.rawValue.length===1?new di(F.document,{formatter:vi,value:F.value,viewProps:F.viewProps}):new ci(F.document,{formatter:vi,lineCount:(b=F.params.lineCount)!==null&&b!==void 0?b:kr.monitor.defaultLineCount,value:F.value,viewProps:F.viewProps})}},Xt=O("grl");class Xa{constructor(b,R){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=b.createElement("div"),this.element.classList.add(Xt()),R.viewProps.bindClassModifiers(this.element),this.formatter_=R.formatter,this.props_=R.props,this.cursor_=R.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);const G=b.createElementNS(ve,"svg");G.classList.add(Xt("g")),G.style.height=`calc(var(--bld-us) * ${R.lineCount})`,this.element.appendChild(G),this.svgElem_=G;const oe=b.createElementNS(ve,"polyline");this.svgElem_.appendChild(oe),this.lineElem_=oe;const xe=b.createElement("div");xe.classList.add(Xt("t"),O("tt")()),this.element.appendChild(xe),this.tooltipElem_=xe,R.value.emitter.on("change",this.onValueUpdate_),this.value=R.value,this.update_()}get graphElement(){return this.svgElem_}update_(){const b=this.svgElem_.getBoundingClientRect(),R=this.value.rawValue.length-1,G=this.props_.get("minValue"),oe=this.props_.get("maxValue"),xe=[];this.value.rawValue.forEach((dt,ht)=>{if(dt===void 0)return;const Zt=ft(ht,0,R,0,b.width),er=ft(dt,G,oe,b.height,0);xe.push([Zt,er].join(","))}),this.lineElem_.setAttributeNS(null,"points",xe.join(" "));const ke=this.tooltipElem_,Ve=this.value.rawValue[this.cursor_.rawValue];if(Ve===void 0){ke.classList.remove(Xt("t","a"));return}const Ze=ft(this.cursor_.rawValue,0,R,0,b.width),Qe=ft(Ve,G,oe,b.height,0);ke.style.left=`${Ze}px`,ke.style.top=`${Qe}px`,ke.textContent=`${this.formatter_(Ve)}`,ke.classList.contains(Xt("t","a"))||(ke.classList.add(Xt("t","a"),Xt("t","in")),me(ke),ke.classList.remove(Xt("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}}class qa{constructor(b,R){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.props_=R.props,this.value=R.value,this.viewProps=R.viewProps,this.cursor_=q(-1),this.view=new Xa(b,{cursor:this.cursor_,formatter:R.formatter,lineCount:R.lineCount,props:this.props_,value:this.value,viewProps:this.viewProps}),!Se(b))this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_);else{const G=new qt(this.view.element);G.emitter.on("down",this.onGraphPointerDown_),G.emitter.on("move",this.onGraphPointerMove_),G.emitter.on("up",this.onGraphPointerUp_)}}onGraphMouseLeave_(){this.cursor_.rawValue=-1}onGraphMouseMove_(b){const R=this.view.element.getBoundingClientRect();this.cursor_.rawValue=Math.floor(ft(b.offsetX,0,R.width,0,this.value.rawValue.length))}onGraphPointerDown_(b){this.onGraphPointerMove_(b)}onGraphPointerMove_(b){if(!b.data.point){this.cursor_.rawValue=-1;return}this.cursor_.rawValue=Math.floor(ft(b.data.point.x,0,b.data.bounds.width,0,this.value.rawValue.length))}onGraphPointerUp_(){this.cursor_.rawValue=-1}}function ui(F){return"format"in F&&!g(F.format)?F.format:Mt(2)}function Ya(F){var b;return F.value.rawValue.length===1?new di(F.document,{formatter:ui(F.params),value:F.value,viewProps:F.viewProps}):new ci(F.document,{formatter:ui(F.params),lineCount:(b=F.params.lineCount)!==null&&b!==void 0?b:kr.monitor.defaultLineCount,value:F.value,viewProps:F.viewProps})}function Ka(F){var b,R,G;return new qa(F.document,{formatter:ui(F.params),lineCount:(b=F.params.lineCount)!==null&&b!==void 0?b:kr.monitor.defaultLineCount,props:D.fromObject({maxValue:(R="max"in F.params?F.params.max:null)!==null&&R!==void 0?R:100,minValue:(G="min"in F.params?F.params.min:null)!==null&&G!==void 0?G:0}),value:F.value,viewProps:F.viewProps})}function dn(F){return"view"in F&&F.view==="graph"}const Ja={id:"monitor-number",type:"monitor",accept:(F,b)=>{if(typeof F!="number")return null;const R=Z,G=te(b,{format:R.optional.function,lineCount:R.optional.number,max:R.optional.number,min:R.optional.number,view:R.optional.string});return G?{initialValue:F,params:G}:null},binding:{defaultBufferSize:F=>dn(F)?64:1,reader:F=>Ei},controller:F=>dn(F.params)?Ka(F):Ya(F)},Qa={id:"monitor-string",type:"monitor",accept:(F,b)=>{if(typeof F!="string")return null;const R=Z,G=te(b,{lineCount:R.optional.number,multiline:R.optional.boolean});return G?{initialValue:F,params:G}:null},binding:{reader:F=>Ti},controller:F=>{var b;const R=F.value;return R.rawValue.length>1||"multiline"in F.params&&F.params.multiline?new ci(F.document,{formatter:Hr,lineCount:(b=F.params.lineCount)!==null&&b!==void 0?b:kr.monitor.defaultLineCount,value:R,viewProps:F.viewProps}):new di(F.document,{formatter:Hr,value:R,viewProps:F.viewProps})}};function Za(F,b){var R;const G=F.accept(b.target.read(),b.params);if(g(G))return null;const oe=Z,xe={target:b.target,initialValue:G.initialValue,params:G.params},ke=F.binding.reader(xe),Ve=F.binding.constraint?F.binding.constraint(xe):void 0,Ze=q(ke(G.initialValue),{constraint:Ve,equals:F.binding.equals}),Qe=new xn({reader:ke,target:b.target,value:Ze,writer:F.binding.writer(xe)}),dt=oe.optional.boolean(b.params.disabled).value,ht=oe.optional.boolean(b.params.hidden).value,Zt=F.controller({constraint:Ve,document:b.document,initialValue:G.initialValue,params:G.params,value:Qe.value,viewProps:Ae.create({disabled:dt,hidden:ht})});return new ct(b.document,{binding:Qe,blade:Je(),props:D.fromObject({label:"label"in b.params?(R=oe.optional.string(b.params.label).value)!==null&&R!==void 0?R:null:b.target.key}),valueController:Zt})}function es(F,b){return b===0?new vn:new bn(F,b??kr.monitor.defaultInterval)}function ts(F,b){var R,G,oe;const xe=Z,ke=F.accept(b.target.read(),b.params);if(g(ke))return null;const Ve={target:b.target,initialValue:ke.initialValue,params:ke.params},Ze=F.binding.reader(Ve),Qe=(G=(R=xe.optional.number(b.params.bufferSize).value)!==null&&R!==void 0?R:F.binding.defaultBufferSize&&F.binding.defaultBufferSize(ke.params))!==null&&G!==void 0?G:1,dt=xe.optional.number(b.params.interval).value,ht=new Mn({reader:Ze,target:b.target,ticker:es(b.document,dt),value:Sn(Qe)}),Zt=xe.optional.boolean(b.params.disabled).value,er=xe.optional.boolean(b.params.hidden).value,dr=F.controller({document:b.document,params:ke.params,value:ht.value,viewProps:Ae.create({disabled:Zt,hidden:er})});return new xt(b.document,{binding:ht,blade:Je(),props:D.fromObject({label:"label"in b.params?(oe=xe.optional.string(b.params.label).value)!==null&&oe!==void 0?oe:null:b.target.key}),valueController:dr})}class rs{constructor(){this.pluginsMap_={blades:[],inputs:[],monitors:[]}}getAll(){return[...this.pluginsMap_.blades,...this.pluginsMap_.inputs,...this.pluginsMap_.monitors]}register(b){b.type==="blade"?this.pluginsMap_.blades.unshift(b):b.type==="input"?this.pluginsMap_.inputs.unshift(b):b.type==="monitor"&&this.pluginsMap_.monitors.unshift(b)}createInput(b,R,G){const oe=R.read();if(g(oe))throw new T({context:{key:R.key},type:"nomatchingcontroller"});const xe=this.pluginsMap_.inputs.reduce((ke,Ve)=>ke??Za(Ve,{document:b,target:R,params:G}),null);if(xe)return xe;throw new T({context:{key:R.key},type:"nomatchingcontroller"})}createMonitor(b,R,G){const oe=this.pluginsMap_.monitors.reduce((xe,ke)=>xe??ts(ke,{document:b,params:G,target:R}),null);if(oe)return oe;throw new T({context:{key:R.key},type:"nomatchingcontroller"})}createBlade(b,R){const G=this.pluginsMap_.blades.reduce((oe,xe)=>oe??yn(xe,{document:b,params:R}),null);if(!G)throw new T({type:"nomatchingview",context:{params:R}});return G}createBladeApi(b){if(b instanceof ct)return new kt(b);if(b instanceof xt)return new wt(b);if(b instanceof it)return new rr(b,this);const R=this.pluginsMap_.blades.reduce((G,oe)=>G??oe.api({controller:b,pool:this}),null);if(!R)throw T.shouldNeverHappen();return R}}function is(){const F=new rs;return[ps,Da,Ua,za,Aa,Ea,Sa,ma,go,$a,Qa,Ja,He,mt,gr,yr].forEach(b=>{F.register(b)}),F}function ns(F){return Ht.isObject(F)?new Ht(F.x,F.y):new Ht}function os(F,b){F.writeProperty("x",b.x),F.writeProperty("y",b.y)}function Gt(F,b){if(!F)return;const R=[],G=rn(F,b);G&&R.push(G);const oe=nn(F);return oe&&R.push(oe),new vr(R)}function as(F,b){return new Wt({assembly:on,components:[Gt("x"in F?F.x:void 0,b.x),Gt("y"in F?F.y:void 0,b.y)]})}function un(F,b){const[R,G]=F?wa(F):[];if(!g(R)||!g(G))return Math.max(Math.abs(R??0),Math.abs(G??0));const oe=or(F);return Math.max(Math.abs(oe)*10,Math.abs(b)*10)}function ss(F,b){const R=b instanceof Wt?b.components[0]:void 0,G=b instanceof Wt?b.components[1]:void 0,oe=un(R,F.x),xe=un(G,F.y);return Math.max(oe,xe)}function hn(F,b){return{baseStep:or(b),constraint:b,textProps:D.fromObject({draggingScale:ar(b,F),formatter:Mt(Br(b,F))})}}function ls(F){if(!("y"in F))return!1;const b=F.y;return b&&"inverted"in b?!!b.inverted:!1}const ps={id:"input-point2d",type:"input",accept:(F,b)=>{if(!Ht.isObject(F))return null;const R=Z,G=te(b,{expanded:R.optional.boolean,picker:R.optional.custom(Ai),x:R.optional.custom(Vt),y:R.optional.object({inverted:R.optional.boolean,max:R.optional.number,min:R.optional.number,step:R.optional.number})});return G?{initialValue:F,params:G}:null},binding:{reader:F=>ns,constraint:F=>as(F.params,F.initialValue),equals:Ht.equals,writer:F=>os},controller:F=>{const b=F.document,R=F.value,G=F.constraint;if(!(G instanceof Wt))throw T.shouldNeverHappen();const oe="expanded"in F.params?F.params.expanded:void 0,xe="picker"in F.params?F.params.picker:void 0;return new Pa(b,{axes:[hn(R.rawValue.x,G.components[0]),hn(R.rawValue.y,G.components[1])],expanded:oe??!1,invertsY:ls(F.params),maxValue:ss(R.rawValue,G),parser:Bt,pickerLayout:xe??"popup",value:R,viewProps:F.viewProps})}};class gn extends o{constructor(b){super(b),this.emitter_=new C,this.controller_.valueController.value.emitter.on("change",R=>{this.emitter_.emit("change",{event:new c(this,R.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(b){this.controller_.props.set("label",b)}get options(){return this.controller_.valueController.props.get("options")}set options(b){this.controller_.valueController.props.set("options",b)}get value(){return this.controller_.valueController.value.rawValue}set value(b){this.controller_.valueController.value.rawValue=b}on(b,R){const G=R.bind(this);return this.emitter_.on(b,oe=>{G(oe.event)}),this}}class mn extends o{constructor(b){super(b),this.emitter_=new C,this.controller_.valueController.value.emitter.on("change",R=>{this.emitter_.emit("change",{event:new c(this,R.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(b){this.controller_.props.set("label",b)}get maxValue(){return this.controller_.valueController.sliderController.props.get("maxValue")}set maxValue(b){this.controller_.valueController.sliderController.props.set("maxValue",b)}get minValue(){return this.controller_.valueController.sliderController.props.get("minValue")}set minValue(b){this.controller_.valueController.sliderController.props.set("minValue",b)}get value(){return this.controller_.valueController.value.rawValue}set value(b){this.controller_.valueController.value.rawValue=b}on(b,R){const G=R.bind(this);return this.emitter_.on(b,oe=>{G(oe.event)}),this}}class fn extends o{constructor(b){super(b),this.emitter_=new C,this.controller_.valueController.value.emitter.on("change",R=>{this.emitter_.emit("change",{event:new c(this,R.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(b){this.controller_.props.set("label",b)}get formatter(){return this.controller_.valueController.props.get("formatter")}set formatter(b){this.controller_.valueController.props.set("formatter",b)}get value(){return this.controller_.valueController.value.rawValue}set value(b){this.controller_.valueController.value.rawValue=b}on(b,R){const G=R.bind(this);return this.emitter_.on(b,oe=>{G(oe.event)}),this}}const cs=function(){return{id:"list",type:"blade",accept(F){const b=Z,R=te(F,{options:b.required.custom(Dr),value:b.required.raw,view:b.required.constant("list"),label:b.optional.string});return R?{params:R}:null},controller(F){const b=new br(ki(F.params.options)),R=q(F.params.value,{constraint:b}),G=new xr(F.document,{props:new D({options:b.values.value("options")}),value:R,viewProps:F.viewProps});return new yt(F.document,{blade:F.blade,props:D.fromObject({label:F.params.label}),valueController:G})},api(F){return!(F.controller instanceof yt)||!(F.controller.valueController instanceof xr)?null:new gn(F.controller)}}}();function ds(F){return F.reduce((b,R)=>Object.assign(b,{[R.presetKey]:R.read()}),{})}function us(F,b){F.forEach(R=>{const G=b[R.target.presetKey];G!==void 0&&R.writer(R.target,R.reader(G))})}class hs extends hr{constructor(b,R){super(b,R)}get element(){return this.controller_.view.element}importPreset(b){const R=this.controller_.rackController.rack.find(ct).map(G=>G.binding);us(R,b),this.refresh()}exportPreset(){const b=this.controller_.rackController.rack.find(ct).map(R=>R.binding.target);return ds(b)}refresh(){this.controller_.rackController.rack.find(ct).forEach(b=>{b.binding.read()}),this.controller_.rackController.rack.find(xt).forEach(b=>{b.binding.read()})}}class gs extends nt{constructor(b,R){super(b,{expanded:R.expanded,blade:R.blade,props:R.props,root:!0,viewProps:R.viewProps})}}const ms={id:"slider",type:"blade",accept(F){const b=Z,R=te(F,{max:b.required.number,min:b.required.number,view:b.required.constant("slider"),format:b.optional.function,label:b.optional.string,value:b.optional.number});return R?{params:R}:null},controller(F){var b,R;const G=(b=F.params.value)!==null&&b!==void 0?b:0,oe=new nr({max:F.params.max,min:F.params.min}),xe=new Yr(F.document,{baseStep:1,parser:Bt,sliderProps:new D({maxValue:oe.values.value("max"),minValue:oe.values.value("min")}),textProps:D.fromObject({draggingScale:ar(void 0,G),formatter:(R=F.params.format)!==null&&R!==void 0?R:ro}),value:q(G,{constraint:oe}),viewProps:F.viewProps});return new yt(F.document,{blade:F.blade,props:D.fromObject({label:F.params.label}),valueController:xe})},api(F){return!(F.controller instanceof yt)||!(F.controller.valueController instanceof Yr)?null:new mn(F.controller)}},fs=function(){return{id:"text",type:"blade",accept(F){const b=Z,R=te(F,{parse:b.required.function,value:b.required.raw,view:b.required.constant("text"),format:b.optional.function,label:b.optional.string});return R?{params:R}:null},controller(F){var b;const R=new Lr(F.document,{parser:F.params.parse,props:D.fromObject({formatter:(b=F.params.format)!==null&&b!==void 0?b:G=>String(G)}),value:q(F.params.value),viewProps:F.viewProps});return new yt(F.document,{blade:F.blade,props:D.fromObject({label:F.params.label}),valueController:R})},api(F){return!(F.controller instanceof yt)||!(F.controller.valueController instanceof Lr)?null:new fn(F.controller)}}}();function _s(F){const b=F.createElement("div");return b.classList.add(O("dfw")()),F.body&&F.body.appendChild(b),b}function _n(F,b,R){if(F.querySelector(`style[data-tp-style=${b}]`))return;const G=F.createElement("style");G.dataset.tpStyle=b,G.textContent=R,F.head.appendChild(G)}class ys extends hs{constructor(b){var R,G;const oe=b??{},xe=(R=oe.document)!==null&&R!==void 0?R:be(),ke=is(),Ve=new gs(xe,{expanded:oe.expanded,blade:Je(),props:D.fromObject({title:oe.title}),viewProps:Ae.create()});super(Ve,ke),this.pool_=ke,this.containerElem_=(G=oe.container)!==null&&G!==void 0?G:_s(xe),this.containerElem_.appendChild(this.element),this.doc_=xe,this.usesDefaultWrapper_=!oe.container,this.setUpDefaultPlugins_()}get document(){if(!this.doc_)throw T.alreadyDisposed();return this.doc_}dispose(){const b=this.containerElem_;if(!b)throw T.alreadyDisposed();if(this.usesDefaultWrapper_){const R=b.parentElement;R&&R.removeChild(b)}this.containerElem_=null,this.doc_=null,super.dispose()}registerPlugin(b){("plugin"in b?[b.plugin]:"plugins"in b?b.plugins:[]).forEach(R=>{this.pool_.register(R),this.embedPluginStyle_(R)})}embedPluginStyle_(b){b.css&&_n(this.document,`plugin-${b.id}`,b.css)}setUpDefaultPlugins_(){_n(this.document,"default",'.tp-tbiv_b,.tp-coltxtv_ms,.tp-ckbv_i,.tp-rotv_b,.tp-fldv_b,.tp-mllv_i,.tp-sglv_i,.tp-grlv_g,.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw,.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-p2dv_b:hover,.tp-btnv_b:hover,.tp-lstv_s:hover{background-color:var(--btn-bg-h)}.tp-p2dv_b:focus,.tp-btnv_b:focus,.tp-lstv_s:focus{background-color:var(--btn-bg-f)}.tp-p2dv_b:active,.tp-btnv_b:active,.tp-lstv_s:active{background-color:var(--btn-bg-a)}.tp-p2dv_b:disabled,.tp-btnv_b:disabled,.tp-lstv_s:disabled{opacity:.5}.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-txtv_i:hover,.tp-p2dpv_p:hover,.tp-colswv_sw:hover{background-color:var(--in-bg-h)}.tp-txtv_i:focus,.tp-p2dpv_p:focus,.tp-colswv_sw:focus{background-color:var(--in-bg-f)}.tp-txtv_i:active,.tp-p2dpv_p:active,.tp-colswv_sw:active{background-color:var(--in-bg-a)}.tp-txtv_i:disabled,.tp-p2dpv_p:disabled,.tp-colswv_sw:disabled{opacity:.5}.tp-mllv_i,.tp-sglv_i,.tp-grlv_g{background-color:var(--mo-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--mo-fg);height:var(--bld-us);scrollbar-color:currentColor rgba(0,0,0,0);scrollbar-width:thin;width:100%}.tp-mllv_i::-webkit-scrollbar,.tp-sglv_i::-webkit-scrollbar,.tp-grlv_g::-webkit-scrollbar{height:8px;width:8px}.tp-mllv_i::-webkit-scrollbar-corner,.tp-sglv_i::-webkit-scrollbar-corner,.tp-grlv_g::-webkit-scrollbar-corner{background-color:rgba(0,0,0,0)}.tp-mllv_i::-webkit-scrollbar-thumb,.tp-sglv_i::-webkit-scrollbar-thumb,.tp-grlv_g::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:currentColor;border:rgba(0,0,0,0) solid 2px;border-radius:4px}.tp-rotv{--font-family: var(--tp-font-family, Roboto Mono, Source Code Pro, Menlo, Courier, monospace);--bs-br: var(--tp-base-border-radius, 6px);--cnt-h-p: var(--tp-container-horizontal-padding, 4px);--cnt-v-p: var(--tp-container-vertical-padding, 4px);--elm-br: var(--tp-element-border-radius, 2px);--bld-s: var(--tp-blade-spacing, 4px);--bld-us: var(--tp-blade-unit-size, 20px);--bs-bg: var(--tp-base-background-color, hsl(230, 7%, 17%));--bs-sh: var(--tp-base-shadow-color, rgba(0, 0, 0, 0.2));--btn-bg: var(--tp-button-background-color, hsl(230, 7%, 70%));--btn-bg-a: var(--tp-button-background-color-active, #d6d7db);--btn-bg-f: var(--tp-button-background-color-focus, #c8cad0);--btn-bg-h: var(--tp-button-background-color-hover, #bbbcc4);--btn-fg: var(--tp-button-foreground-color, hsl(230, 7%, 17%));--cnt-bg: var(--tp-container-background-color, rgba(187, 188, 196, 0.1));--cnt-bg-a: var(--tp-container-background-color-active, rgba(187, 188, 196, 0.25));--cnt-bg-f: var(--tp-container-background-color-focus, rgba(187, 188, 196, 0.2));--cnt-bg-h: var(--tp-container-background-color-hover, rgba(187, 188, 196, 0.15));--cnt-fg: var(--tp-container-foreground-color, hsl(230, 7%, 75%));--in-bg: var(--tp-input-background-color, rgba(187, 188, 196, 0.1));--in-bg-a: var(--tp-input-background-color-active, rgba(187, 188, 196, 0.25));--in-bg-f: var(--tp-input-background-color-focus, rgba(187, 188, 196, 0.2));--in-bg-h: var(--tp-input-background-color-hover, rgba(187, 188, 196, 0.15));--in-fg: var(--tp-input-foreground-color, hsl(230, 7%, 75%));--lbl-fg: var(--tp-label-foreground-color, rgba(187, 188, 196, 0.7));--mo-bg: var(--tp-monitor-background-color, rgba(0, 0, 0, 0.2));--mo-fg: var(--tp-monitor-foreground-color, rgba(187, 188, 196, 0.7));--grv-fg: var(--tp-groove-foreground-color, rgba(187, 188, 196, 0.1))}.tp-rotv_c>.tp-cntv.tp-v-lst,.tp-tabv_c .tp-brkv>.tp-cntv.tp-v-lst,.tp-fldv_c>.tp-cntv.tp-v-lst{margin-bottom:calc(-1*var(--cnt-v-p))}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_c{border-bottom-left-radius:0}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_b{border-bottom-left-radius:0}.tp-rotv_c>*:not(.tp-v-fst),.tp-tabv_c .tp-brkv>*:not(.tp-v-fst),.tp-fldv_c>*:not(.tp-v-fst){margin-top:var(--bld-s)}.tp-rotv_c>.tp-sprv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-fst),.tp-fldv_c>.tp-sprv:not(.tp-v-fst),.tp-rotv_c>.tp-cntv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-fst),.tp-fldv_c>.tp-cntv:not(.tp-v-fst){margin-top:var(--cnt-v-p)}.tp-rotv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-sprv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-cntv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-cntv+*:not(.tp-v-hidden){margin-top:var(--cnt-v-p)}.tp-rotv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-fldv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-rotv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-fldv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv{margin-top:0}.tp-tabv_c .tp-brkv>.tp-cntv,.tp-fldv_c>.tp-cntv{margin-left:4px}.tp-tabv_c .tp-brkv>.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-fldv>.tp-fldv_b{border-top-left-radius:var(--elm-br);border-bottom-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv>.tp-fldv.tp-fldv-expanded>.tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b{border-bottom-left-radius:0}.tp-tabv_c .tp-brkv .tp-fldv>.tp-fldv_c,.tp-fldv_c .tp-fldv>.tp-fldv_c{border-bottom-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv>.tp-cntv+.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-cntv+.tp-fldv>.tp-fldv_b{border-top-left-radius:0}.tp-tabv_c .tp-brkv>.tp-cntv+.tp-tabv>.tp-tabv_t,.tp-fldv_c>.tp-cntv+.tp-tabv>.tp-tabv_t{border-top-left-radius:0}.tp-tabv_c .tp-brkv>.tp-tabv>.tp-tabv_t,.tp-fldv_c>.tp-tabv>.tp-tabv_t{border-top-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv .tp-tabv>.tp-tabv_c,.tp-fldv_c .tp-tabv>.tp-tabv_c{border-bottom-left-radius:var(--elm-br)}.tp-rotv_b,.tp-fldv_b{background-color:var(--cnt-bg);color:var(--cnt-fg);cursor:pointer;display:block;height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);overflow:hidden;padding-left:var(--cnt-h-p);padding-right:calc(4px + var(--bld-us) + var(--cnt-h-p));position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-rotv_b:hover,.tp-fldv_b:hover{background-color:var(--cnt-bg-h)}.tp-rotv_b:focus,.tp-fldv_b:focus{background-color:var(--cnt-bg-f)}.tp-rotv_b:active,.tp-fldv_b:active{background-color:var(--cnt-bg-a)}.tp-rotv_b:disabled,.tp-fldv_b:disabled{opacity:.5}.tp-rotv_m,.tp-fldv_m{background:linear-gradient(to left, var(--cnt-fg), var(--cnt-fg) 2px, transparent 2px, transparent 4px, var(--cnt-fg) 4px);border-radius:2px;bottom:0;content:"";display:block;height:6px;right:calc(var(--cnt-h-p) + (var(--bld-us) + 4px - 6px)/2 - 2px);margin:auto;opacity:.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-rotv.tp-rotv-expanded .tp-rotv_m,.tp-fldv.tp-fldv-expanded>.tp-fldv_b>.tp-fldv_m{transform:none}.tp-rotv_c,.tp-fldv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-rotv.tp-rotv-cpl:not(.tp-rotv-expanded) .tp-rotv_c,.tp-fldv.tp-fldv-cpl:not(.tp-fldv-expanded)>.tp-fldv_c{display:none}.tp-rotv.tp-rotv-expanded .tp-rotv_c,.tp-fldv.tp-fldv-expanded>.tp-fldv_c{opacity:1;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p);transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-lstv,.tp-coltxtv_m{position:relative}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m,.tp-coltxtv_mm{bottom:0;margin:auto;pointer-events:none;position:absolute;right:2px;top:0}.tp-lstv_m svg,.tp-coltxtv_mm svg{bottom:0;height:16px;margin:auto;position:absolute;right:0;top:0;width:16px}.tp-lstv_m svg path,.tp-coltxtv_mm svg path{fill:currentColor}.tp-pndtxtv,.tp-coltxtv_w{display:flex}.tp-pndtxtv_a,.tp-coltxtv_c{width:100%}.tp-pndtxtv_a+.tp-pndtxtv_a,.tp-coltxtv_c+.tp-pndtxtv_a,.tp-pndtxtv_a+.tp-coltxtv_c,.tp-coltxtv_c+.tp-coltxtv_c{margin-left:2px}.tp-btnv_b{width:100%}.tp-btnv_t{text-align:center}.tp-ckbv_l{display:block;position:relative}.tp-ckbv_i{left:0;opacity:0;position:absolute;top:0}.tp-ckbv_w{background-color:var(--in-bg);border-radius:var(--elm-br);cursor:pointer;display:block;height:var(--bld-us);position:relative;width:var(--bld-us)}.tp-ckbv_w svg{bottom:0;display:block;height:16px;left:0;margin:auto;opacity:0;position:absolute;right:0;top:0;width:16px}.tp-ckbv_w svg path{fill:none;stroke:var(--in-fg);stroke-width:2}.tp-ckbv_i:hover+.tp-ckbv_w{background-color:var(--in-bg-h)}.tp-ckbv_i:focus+.tp-ckbv_w{background-color:var(--in-bg-f)}.tp-ckbv_i:active+.tp-ckbv_w{background-color:var(--in-bg-a)}.tp-ckbv_i:checked+.tp-ckbv_w svg{opacity:1}.tp-ckbv.tp-v-disabled .tp-ckbv_w{opacity:.5}.tp-colv{position:relative}.tp-colv_h{display:flex}.tp-colv_s{flex-grow:0;flex-shrink:0;width:var(--bld-us)}.tp-colv_t{flex:1;margin-left:4px}.tp-colv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-colv.tp-colv-expanded.tp-colv-cpl .tp-colv_p{overflow:visible}.tp-colv.tp-colv-expanded .tp-colv_p{margin-top:var(--bld-s);opacity:1}.tp-colv .tp-popv{left:calc(-1*var(--cnt-h-p));right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-colpv_h,.tp-colpv_ap{margin-left:6px;margin-right:6px}.tp-colpv_h{margin-top:var(--bld-s)}.tp-colpv_rgb{display:flex;margin-top:var(--bld-s);width:100%}.tp-colpv_a{display:flex;margin-top:var(--cnt-v-p);padding-top:calc(var(--cnt-v-p) + 2px);position:relative}.tp-colpv_a::before{background-color:var(--grv-fg);content:"";height:2px;left:calc(-1*var(--cnt-h-p));position:absolute;right:calc(-1*var(--cnt-h-p));top:0}.tp-colpv.tp-v-disabled .tp-colpv_a::before{opacity:.5}.tp-colpv_ap{align-items:center;display:flex;flex:3}.tp-colpv_at{flex:1;margin-left:4px}.tp-svpv{border-radius:var(--elm-br);outline:none;overflow:hidden;position:relative}.tp-svpv.tp-v-disabled{opacity:.5}.tp-svpv_c{cursor:crosshair;display:block;height:calc(var(--bld-us)*4);width:100%}.tp-svpv_m{border-radius:100%;border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0, 0, 0, 0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpv:focus .tp-svpv_m{border-color:#fff}.tp-hplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative}.tp-hplv.tp-v-disabled{opacity:.5}.tp-hplv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hplv_m{border-radius:var(--elm-br);border:rgba(255,255,255,.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;top:50%;width:12px}.tp-hplv:focus .tp-hplv_m{border-color:#fff}.tp-aplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative;width:100%}.tp-aplv.tp-v-disabled{opacity:.5}.tp-aplv_b{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-aplv_c{bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv_m{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:var(--elm-br);box-shadow:0 0 2px rgba(0,0,0,.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;pointer-events:none;position:absolute;top:50%;width:12px}.tp-aplv_p{border-radius:var(--elm-br);border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv:focus .tp-aplv_p{border-color:#fff}.tp-colswv{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;border-radius:var(--elm-br);overflow:hidden}.tp-colswv.tp-v-disabled{opacity:.5}.tp-colswv_sw{border-radius:0}.tp-colswv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;cursor:pointer;display:block;height:var(--bld-us);left:0;margin:0;outline:none;padding:0;position:absolute;top:0;width:var(--bld-us)}.tp-colswv_b:focus::after{border:rgba(255,255,255,.75) solid 2px;border-radius:var(--elm-br);bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}.tp-coltxtv{display:flex;width:100%}.tp-coltxtv_m{margin-right:4px}.tp-coltxtv_ms{border-radius:var(--elm-br);color:var(--lbl-fg);cursor:pointer;height:var(--bld-us);line-height:var(--bld-us);padding:0 18px 0 4px}.tp-coltxtv_ms:hover{background-color:var(--in-bg-h)}.tp-coltxtv_ms:focus{background-color:var(--in-bg-f)}.tp-coltxtv_ms:active{background-color:var(--in-bg-a)}.tp-coltxtv_mm{color:var(--lbl-fg)}.tp-coltxtv.tp-v-disabled .tp-coltxtv_mm{opacity:.5}.tp-coltxtv_w{flex:1}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv{position:relative}.tp-fldv.tp-fldv-not .tp-fldv_b{display:none}.tp-fldv_t{padding-left:4px}.tp-fldv_b:disabled .tp-fldv_m{display:none}.tp-fldv_c{padding-left:4px}.tp-fldv_i{bottom:0;color:var(--cnt-bg);left:0;overflow:hidden;position:absolute;top:calc(var(--bld-us) + 4px);width:var(--bs-br)}.tp-fldv_i::before{background-color:currentColor;bottom:0;content:"";left:0;position:absolute;top:0;width:4px}.tp-fldv_b:hover+.tp-fldv_i{color:var(--cnt-bg-h)}.tp-fldv_b:focus+.tp-fldv_i{color:var(--cnt-bg-f)}.tp-fldv_b:active+.tp-fldv_i{color:var(--cnt-bg-a)}.tp-fldv.tp-v-disabled>.tp-fldv_i{opacity:.5}.tp-grlv{position:relative}.tp-grlv_g{display:block;height:calc(var(--bld-us)*3)}.tp-grlv_g polyline{fill:none;stroke:var(--mo-fg);stroke-linejoin:round}.tp-grlv_t{margin-top:-4px;transition:left .05s,top .05s;visibility:hidden}.tp-grlv_t.tp-grlv_t-a{visibility:visible}.tp-grlv_t.tp-grlv_t-in{transition:none}.tp-grlv.tp-v-disabled .tp-grlv_g{opacity:.5}.tp-grlv .tp-ttv{background-color:var(--mo-fg)}.tp-grlv .tp-ttv::before{border-top-color:var(--mo-fg)}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:var(--cnt-h-p);padding-right:var(--cnt-h-p)}.tp-lblv.tp-lblv-nol{display:block}.tp-lblv_l{color:var(--lbl-fg);flex:1;-webkit-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv.tp-v-disabled .tp-lblv_l{opacity:.5}.tp-lblv.tp-lblv-nol .tp-lblv_l{display:none}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:160px}.tp-lblv.tp-lblv-nol .tp-lblv_v{width:100%}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m{color:var(--btn-fg)}.tp-sglv_i{padding:0 4px}.tp-sglv.tp-v-disabled .tp-sglv_i{opacity:.5}.tp-mllv_i{display:block;height:calc(var(--bld-us)*3);line-height:var(--bld-us);padding:0 4px;resize:none;white-space:pre}.tp-mllv.tp-v-disabled .tp-mllv_i{opacity:.5}.tp-p2dv{position:relative}.tp-p2dv_h{display:flex}.tp-p2dv_b{height:var(--bld-us);margin-right:4px;position:relative;width:var(--bld-us)}.tp-p2dv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dv_b svg path{stroke:currentColor;stroke-width:2}.tp-p2dv_b svg circle{fill:currentColor}.tp-p2dv_t{flex:1}.tp-p2dv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-p2dv.tp-p2dv-expanded .tp-p2dv_p{margin-top:var(--bld-s);opacity:1}.tp-p2dv .tp-popv{left:calc(-1*var(--cnt-h-p));right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-p2dpv{padding-left:calc(var(--bld-us) + 4px)}.tp-p2dpv_p{cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpv.tp-v-disabled .tp-p2dpv_p{opacity:.5}.tp-p2dpv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpv_ax{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_l{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_m{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;position:absolute;width:4px}.tp-p2dpv_p:focus .tp-p2dpv_m{background-color:var(--in-fg);border-width:0}.tp-popv{background-color:var(--bs-bg);border-radius:6px;box-shadow:0 2px 4px var(--bs-sh);display:none;max-width:168px;padding:var(--cnt-v-p) var(--cnt-h-p);position:absolute;visibility:hidden;z-index:1000}.tp-popv.tp-popv-v{display:block;visibility:visible}.tp-sprv_r{background-color:var(--grv-fg);border-width:0;display:block;height:2px;margin:0;width:100%}.tp-sprv.tp-v-disabled .tp-sprv_r{opacity:.5}.tp-sldv.tp-v-disabled{opacity:.5}.tp-sldv_t{box-sizing:border-box;cursor:pointer;height:var(--bld-us);margin:0 6px;outline:none;position:relative}.tp-sldv_t::before{background-color:var(--in-bg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldv_k{height:100%;left:0;position:absolute;top:0}.tp-sldv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin-bottom:auto;margin-top:auto;position:absolute;right:0;top:0}.tp-sldv_k::after{background-color:var(--btn-bg);border-radius:var(--elm-br);bottom:0;content:"";display:block;height:12px;margin-bottom:auto;margin-top:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldv_t:hover .tp-sldv_k::after{background-color:var(--btn-bg-h)}.tp-sldv_t:focus .tp-sldv_k::after{background-color:var(--btn-bg-f)}.tp-sldv_t:active .tp-sldv_k::after{background-color:var(--btn-bg-a)}.tp-sldtxtv{display:flex}.tp-sldtxtv_s{flex:2}.tp-sldtxtv_t{flex:1;margin-left:4px}.tp-tabv{position:relative}.tp-tabv_t{align-items:flex-end;color:var(--cnt-bg);display:flex;overflow:hidden;position:relative}.tp-tabv_t:hover{color:var(--cnt-bg-h)}.tp-tabv_t:has(*:focus){color:var(--cnt-bg-f)}.tp-tabv_t:has(*:active){color:var(--cnt-bg-a)}.tp-tabv_t::before{background-color:currentColor;bottom:0;content:"";height:2px;left:0;pointer-events:none;position:absolute;right:0}.tp-tabv.tp-v-disabled .tp-tabv_t::before{opacity:.5}.tp-tabv.tp-tabv-nop .tp-tabv_t{height:calc(var(--bld-us) + 4px);position:relative}.tp-tabv.tp-tabv-nop .tp-tabv_t::before{background-color:var(--cnt-bg);bottom:0;content:"";height:2px;left:0;position:absolute;right:0}.tp-tabv_c{padding-bottom:var(--cnt-v-p);padding-left:4px;padding-top:var(--cnt-v-p)}.tp-tabv_i{bottom:0;color:var(--cnt-bg);left:0;overflow:hidden;position:absolute;top:calc(var(--bld-us) + 4px);width:var(--bs-br)}.tp-tabv_i::before{background-color:currentColor;bottom:0;content:"";left:0;position:absolute;top:0;width:4px}.tp-tabv_t:hover+.tp-tabv_i{color:var(--cnt-bg-h)}.tp-tabv_t:has(*:focus)+.tp-tabv_i{color:var(--cnt-bg-f)}.tp-tabv_t:has(*:active)+.tp-tabv_i{color:var(--cnt-bg-a)}.tp-tabv.tp-v-disabled>.tp-tabv_i{opacity:.5}.tp-tbiv{flex:1;min-width:0;position:relative}.tp-tbiv+.tp-tbiv{margin-left:2px}.tp-tbiv+.tp-tbiv.tp-v-disabled::before{opacity:.5}.tp-tbiv_b{display:block;padding-left:calc(var(--cnt-h-p) + 4px);padding-right:calc(var(--cnt-h-p) + 4px);position:relative;width:100%}.tp-tbiv_b:disabled{opacity:.5}.tp-tbiv_b::before{background-color:var(--cnt-bg);bottom:2px;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.tp-tbiv_b:hover::before{background-color:var(--cnt-bg-h)}.tp-tbiv_b:focus::before{background-color:var(--cnt-bg-f)}.tp-tbiv_b:active::before{background-color:var(--cnt-bg-a)}.tp-tbiv_t{color:var(--cnt-fg);height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);opacity:.5;overflow:hidden;text-overflow:ellipsis}.tp-tbiv.tp-tbiv-sel .tp-tbiv_t{opacity:1}.tp-txtv{position:relative}.tp-txtv_i{padding:0 4px}.tp-txtv.tp-txtv-fst .tp-txtv_i{border-bottom-right-radius:0;border-top-right-radius:0}.tp-txtv.tp-txtv-mid .tp-txtv_i{border-radius:0}.tp-txtv.tp-txtv-lst .tp-txtv_i{border-bottom-left-radius:0;border-top-left-radius:0}.tp-txtv.tp-txtv-num .tp-txtv_i{text-align:right}.tp-txtv.tp-txtv-drg .tp-txtv_i{opacity:.3}.tp-txtv_k{cursor:pointer;height:100%;left:-3px;position:absolute;top:0;width:12px}.tp-txtv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";height:calc(var(--bld-us) - 4px);left:50%;margin-bottom:auto;margin-left:-1px;margin-top:auto;opacity:.1;position:absolute;top:0;transition:border-radius .1s,height .1s,transform .1s,width .1s;width:2px}.tp-txtv_k:hover::before,.tp-txtv.tp-txtv-drg .tp-txtv_k::before{opacity:1}.tp-txtv.tp-txtv-drg .tp-txtv_k::before{border-radius:50%;height:4px;transform:translateX(-1px);width:4px}.tp-txtv_g{bottom:0;display:block;height:8px;left:50%;margin:auto;overflow:visible;pointer-events:none;position:absolute;top:0;visibility:hidden;width:100%}.tp-txtv.tp-txtv-drg .tp-txtv_g{visibility:visible}.tp-txtv_gb{fill:none;stroke:var(--in-fg);stroke-dasharray:1}.tp-txtv_gh{fill:none;stroke:var(--in-fg)}.tp-txtv .tp-ttv{margin-left:6px;visibility:hidden}.tp-txtv.tp-txtv-drg .tp-ttv{visibility:visible}.tp-ttv{background-color:var(--in-fg);border-radius:var(--elm-br);color:var(--bs-bg);padding:2px 4px;pointer-events:none;position:absolute;transform:translate(-50%, -100%)}.tp-ttv::before{border-color:var(--in-fg) rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0);border-style:solid;border-width:2px;box-sizing:border-box;content:"";font-size:.9em;height:4px;left:50%;margin-left:-2px;position:absolute;top:100%;width:4px}.tp-rotv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);font-family:var(--font-family);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br);border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br);padding-left:calc(4px + var(--bld-us) + var(--cnt-h-p));text-align:center}.tp-rotv.tp-rotv-expanded .tp-rotv_b{border-bottom-left-radius:0;border-bottom-right-radius:0}.tp-rotv.tp-rotv-not .tp-rotv_b{display:none}.tp-rotv_b:disabled .tp-rotv_m{display:none}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_i{border-bottom-left-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c .tp-fldv.tp-v-vlst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst{margin-top:calc(-1*var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst>.tp-fldv_b{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_i{border-bottom-left-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst{margin-top:calc(-1*var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst>.tp-tabv_t{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-v-disabled,.tp-rotv .tp-v-disabled{pointer-events:none}.tp-rotv.tp-v-hidden,.tp-rotv .tp-v-hidden{display:none}'),this.pool_.getAll().forEach(b=>{this.embedPluginStyle_(b)}),this.registerPlugin({plugins:[ms,cs,yr,fs]})}}const vs=new n("3.1.10");r.BladeApi=o,r.ButtonApi=E,r.FolderApi=hr,r.InputBindingApi=kt,r.ListApi=gn,r.MonitorBindingApi=wt,r.Pane=ys,r.SeparatorApi=Ct,r.SliderApi=mn,r.TabApi=Tt,r.TabPageApi=ir,r.TextApi=fn,r.TpChangeEvent=c,r.VERSION=vs,Object.defineProperty(r,"__esModule",{value:!0})})})(tweakpane,tweakpane.exports);var tweakpaneExports=tweakpane.exports,stats_min={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(commonjsGlobal$1,function(){var r=function(){function n(y){return c.appendChild(y.dom),y}function o(y){for(var M=0;M<c.children.length;M++)c.children[M].style.display=M===y?"block":"none";s=y}var s=0,c=document.createElement("div");c.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",c.addEventListener("click",function(y){y.preventDefault(),o(++s%c.children.length)},!1);var d=(performance||Date).now(),u=d,m=0,_=n(new r.Panel("FPS","#0ff","#002")),g=n(new r.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var f=n(new r.Panel("MB","#f08","#201"));return o(0),{REVISION:16,dom:c,addPanel:n,showPanel:o,begin:function(){d=(performance||Date).now()},end:function(){m++;var y=(performance||Date).now();if(g.update(y-d,200),y>u+1e3&&(_.update(1e3*m/(y-u),100),u=y,m=0,f)){var M=performance.memory;f.update(M.usedJSHeapSize/1048576,M.jsHeapSizeLimit/1048576)}return y},update:function(){d=this.end()},domElement:c,setMode:o}};return r.Panel=function(n,o,s){var c=1/0,d=0,u=Math.round,m=u(window.devicePixelRatio||1),_=80*m,g=48*m,f=3*m,y=2*m,M=3*m,T=15*m,A=74*m,E=30*m,C=document.createElement("canvas");C.width=_,C.height=g,C.style.cssText="width:80px;height:48px";var k=C.getContext("2d");return k.font="bold "+9*m+"px Helvetica,Arial,sans-serif",k.textBaseline="top",k.fillStyle=s,k.fillRect(0,0,_,g),k.fillStyle=o,k.fillText(n,f,y),k.fillRect(M,T,A,E),k.fillStyle=s,k.globalAlpha=.9,k.fillRect(M,T,A,E),{dom:C,update:function(O,I){c=Math.min(c,O),d=Math.max(d,O),k.fillStyle=s,k.globalAlpha=1,k.fillRect(0,0,_,T),k.fillStyle=o,k.fillText(u(O)+" "+n+" ("+u(c)+"-"+u(d)+")",f,y),k.drawImage(C,M+m,T,A-m,E,M,T,A-m,E),k.fillRect(M+A-m,T,m,E),k.fillStyle=s,k.globalAlpha=.9,k.fillRect(M+A-m,T,m,u((1-O/I)*E))}}},r})})(stats_min);var stats_minExports=stats_min.exports;const Stats=getDefaultExportFromCjs(stats_minExports);var eventemitter2={exports:{}};(function(t,e){(function(r){var n=Object.hasOwnProperty,o=Array.isArray?Array.isArray:function(D){return Object.prototype.toString.call(D)==="[object Array]"},s=10,c=typeof process=="object"&&typeof process.nextTick=="function",d=typeof Symbol=="function",u=typeof Reflect=="object",m=typeof setImmediate=="function",_=m?setImmediate:setTimeout,g=d?u&&typeof Reflect.ownKeys=="function"?Reflect.ownKeys:function(D){var z=Object.getOwnPropertyNames(D);return z.push.apply(z,Object.getOwnPropertySymbols(D)),z}:Object.keys;function f(){this._events={},this._conf&&y.call(this,this._conf)}function y(D){D&&(this._conf=D,D.delimiter&&(this.delimiter=D.delimiter),D.maxListeners!==r&&(this._maxListeners=D.maxListeners),D.wildcard&&(this.wildcard=D.wildcard),D.newListener&&(this._newListener=D.newListener),D.removeListener&&(this._removeListener=D.removeListener),D.verboseMemoryLeak&&(this.verboseMemoryLeak=D.verboseMemoryLeak),D.ignoreErrors&&(this.ignoreErrors=D.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function M(D,z){var J="(node) warning: possible EventEmitter memory leak detected. "+D+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(J+=" Event name: "+z+"."),typeof process<"u"&&process.emitWarning){var ie=new Error(J);ie.name="MaxListenersExceededWarning",ie.emitter=this,ie.count=D,process.emitWarning(ie)}else console.error(J),console.trace&&console.trace()}var T=function(D,z,J){var ie=arguments.length;switch(ie){case 0:return[];case 1:return[D];case 2:return[D,z];case 3:return[D,z,J];default:for(var fe=new Array(ie);ie--;)fe[ie]=arguments[ie];return fe}};function A(D,z){for(var J={},ie,fe=D.length,ee=z?z.length:0,Z=0;Z<fe;Z++)ie=D[Z],J[ie]=Z<ee?z[Z]:r;return J}function E(D,z,J){this._emitter=D,this._target=z,this._listeners={},this._listenersCount=0;var ie,fe;if((J.on||J.off)&&(ie=J.on,fe=J.off),z.addEventListener?(ie=z.addEventListener,fe=z.removeEventListener):z.addListener?(ie=z.addListener,fe=z.removeListener):z.on&&(ie=z.on,fe=z.off),!ie&&!fe)throw Error("target does not implement any known event API");if(typeof ie!="function")throw TypeError("on method must be a function");if(typeof fe!="function")throw TypeError("off method must be a function");this._on=ie,this._off=fe;var ee=D._observers;ee?ee.push(this):D._observers=[this]}Object.assign(E.prototype,{subscribe:function(D,z,J){var ie=this,fe=this._target,ee=this._emitter,Z=this._listeners,te=function(){var de=T.apply(null,arguments),Y={data:de,name:z,original:D};if(J){var we=J.call(fe,Y);we!==!1&&ee.emit.apply(ee,[Y.name].concat(de));return}ee.emit.apply(ee,[z].concat(de))};if(Z[D])throw Error("Event '"+D+"' is already listening");this._listenersCount++,ee._newListener&&ee._removeListener&&!ie._onNewListener?(this._onNewListener=function(de){de===z&&Z[D]===null&&(Z[D]=te,ie._on.call(fe,D,te))},ee.on("newListener",this._onNewListener),this._onRemoveListener=function(de){de===z&&!ee.hasListeners(de)&&Z[D]&&(Z[D]=null,ie._off.call(fe,D,te))},Z[D]=null,ee.on("removeListener",this._onRemoveListener)):(Z[D]=te,ie._on.call(fe,D,te))},unsubscribe:function(D){var z=this,J=this._listeners,ie=this._emitter,fe,ee,Z=this._off,te=this._target,de;if(D&&typeof D!="string")throw TypeError("event must be a string");function Y(){z._onNewListener&&(ie.off("newListener",z._onNewListener),ie.off("removeListener",z._onRemoveListener),z._onNewListener=null,z._onRemoveListener=null);var we=U.call(ie,z);ie._observers.splice(we,1)}if(D){if(fe=J[D],!fe)return;Z.call(te,D,fe),delete J[D],--this._listenersCount||Y()}else{for(ee=g(J),de=ee.length;de-- >0;)D=ee[de],Z.call(te,D,J[D]);this._listeners={},this._listenersCount=0,Y()}}});function C(D,z,J,ie){var fe=Object.assign({},z);if(!D)return fe;if(typeof D!="object")throw TypeError("options must be an object");var ee=Object.keys(D),Z=ee.length,te,de,Y;function we(Me){throw Error('Invalid "'+te+'" option value'+(Me?". Reason: "+Me:""))}for(var Te=0;Te<Z;Te++){if(te=ee[Te],!ie&&!n.call(z,te))throw Error('Unknown "'+te+'" option');de=D[te],de!==r&&(Y=J[te],fe[te]=Y?Y(de,we):de)}return fe}function k(D,z){return(typeof D!="function"||!D.hasOwnProperty("prototype"))&&z("value must be a constructor"),D}function O(D){var z="value must be type of "+D.join("|"),J=D.length,ie=D[0],fe=D[1];return J===1?function(ee,Z){if(typeof ee===ie)return ee;Z(z)}:J===2?function(ee,Z){var te=typeof ee;if(te===ie||te===fe)return ee;Z(z)}:function(ee,Z){for(var te=typeof ee,de=J;de-- >0;)if(te===D[de])return ee;Z(z)}}var I=O(["function"]),B=O(["object","function"]);function j(D,z,J){var ie,fe,ee=0,Z,te=new D(function(de,Y,we){J=C(J,{timeout:0,overload:!1},{timeout:function(ue,X){return ue*=1,(typeof ue!="number"||ue<0||!Number.isFinite(ue))&&X("timeout must be a positive number"),ue}}),ie=!J.overload&&typeof D.prototype.cancel=="function"&&typeof we=="function";function Te(){fe&&(fe=null),ee&&(clearTimeout(ee),ee=0)}var Me=function(ue){Te(),de(ue)},Ae=function(ue){Te(),Y(ue)};ie?z(Me,Ae,we):(fe=[function(ue){Ae(ue||Error("canceled"))}],z(Me,Ae,function(ue){if(Z)throw Error("Unable to subscribe on cancel event asynchronously");if(typeof ue!="function")throw TypeError("onCancel callback must be a function");fe.push(ue)}),Z=!0),J.timeout>0&&(ee=setTimeout(function(){var ue=Error("timeout");ue.code="ETIMEDOUT",ee=0,te.cancel(ue),Y(ue)},J.timeout))});return ie||(te.cancel=function(de){if(fe){for(var Y=fe.length,we=1;we<Y;we++)fe[we](de);fe[0](de),fe=null}}),te}function U(D){var z=this._observers;if(!z)return-1;for(var J=z.length,ie=0;ie<J;ie++)if(z[ie]._target===D)return ie;return-1}function N(D,z,J,ie,fe){if(!J)return null;if(ie===0){var ee=typeof z;if(ee==="string"){var Z,te,de=0,Y=0,we=this.delimiter,Te=we.length;if((te=z.indexOf(we))!==-1){Z=new Array(5);do Z[de++]=z.slice(Y,te),Y=te+Te;while((te=z.indexOf(we,Y))!==-1);Z[de++]=z.slice(Y),z=Z,fe=de}else z=[z],fe=1}else ee==="object"?fe=z.length:(z=[z],fe=1)}var Me=null,Ae,ue,X,$,ge,ve=z[ie],me=z[ie+1],ce,Se;if(ie===fe)J._listeners&&(typeof J._listeners=="function"?(D&&D.push(J._listeners),Me=[J]):(D&&D.push.apply(D,J._listeners),Me=[J]));else if(ve==="*"){for(ce=g(J),te=ce.length;te-- >0;)Ae=ce[te],Ae!=="_listeners"&&(Se=N(D,z,J[Ae],ie+1,fe),Se&&(Me?Me.push.apply(Me,Se):Me=Se));return Me}else if(ve==="**"){for(ge=ie+1===fe||ie+2===fe&&me==="*",ge&&J._listeners&&(Me=N(D,z,J,fe,fe)),ce=g(J),te=ce.length;te-- >0;)Ae=ce[te],Ae!=="_listeners"&&(Ae==="*"||Ae==="**"?(J[Ae]._listeners&&!ge&&(Se=N(D,z,J[Ae],fe,fe),Se&&(Me?Me.push.apply(Me,Se):Me=Se)),Se=N(D,z,J[Ae],ie,fe)):Ae===me?Se=N(D,z,J[Ae],ie+2,fe):Se=N(D,z,J[Ae],ie,fe),Se&&(Me?Me.push.apply(Me,Se):Me=Se));return Me}else J[ve]&&(Me=N(D,z,J[ve],ie+1,fe));if(ue=J["*"],ue&&N(D,z,ue,ie+1,fe),X=J["**"],X)if(ie<fe)for(X._listeners&&N(D,z,X,fe,fe),ce=g(X),te=ce.length;te-- >0;)Ae=ce[te],Ae!=="_listeners"&&(Ae===me?N(D,z,X[Ae],ie+2,fe):Ae===ve?N(D,z,X[Ae],ie+1,fe):($={},$[Ae]=X[Ae],N(D,z,{"**":$},ie+1,fe)));else X._listeners?N(D,z,X,fe,fe):X["*"]&&X["*"]._listeners&&N(D,z,X["*"],fe,fe);return Me}function W(D,z,J){var ie=0,fe=0,ee,Z=this.delimiter,te=Z.length,de;if(typeof D=="string")if((ee=D.indexOf(Z))!==-1){de=new Array(5);do de[ie++]=D.slice(fe,ee),fe=ee+te;while((ee=D.indexOf(Z,fe))!==-1);de[ie++]=D.slice(fe)}else de=[D],ie=1;else de=D,ie=D.length;if(ie>1){for(ee=0;ee+1<ie;ee++)if(de[ee]==="**"&&de[ee+1]==="**")return}var Y=this.listenerTree,we;for(ee=0;ee<ie;ee++)if(we=de[ee],Y=Y[we]||(Y[we]={}),ee===ie-1)return Y._listeners?(typeof Y._listeners=="function"&&(Y._listeners=[Y._listeners]),J?Y._listeners.unshift(z):Y._listeners.push(z),!Y._listeners.warned&&this._maxListeners>0&&Y._listeners.length>this._maxListeners&&(Y._listeners.warned=!0,M.call(this,Y._listeners.length,we))):Y._listeners=z,!0;return!0}function ne(D,z,J,ie){for(var fe=g(D),ee=fe.length,Z,te,de,Y=D._listeners,we;ee-- >0;)te=fe[ee],Z=D[te],te==="_listeners"?de=J:de=J?J.concat(te):[te],we=ie||typeof te=="symbol",Y&&z.push(we?de:de.join(this.delimiter)),typeof Z=="object"&&ne.call(this,Z,z,de,we);return z}function re(D){for(var z=g(D),J=z.length,ie,fe,ee;J-- >0;)fe=z[J],ie=D[fe],ie&&(ee=!0,fe!=="_listeners"&&!re(ie)&&delete D[fe]);return ee}function le(D,z,J){this.emitter=D,this.event=z,this.listener=J}le.prototype.off=function(){return this.emitter.off(this.event,this.listener),this};function ae(D,z,J){if(J===!0)fe=!0;else if(J===!1)ie=!0;else{if(!J||typeof J!="object")throw TypeError("options should be an object or true");var ie=J.async,fe=J.promisify,ee=J.nextTick,Z=J.objectify}if(ie||ee||fe){var te=z,de=z._origin||z;if(ee&&!c)throw Error("process.nextTick is not supported");fe===r&&(fe=z.constructor.name==="AsyncFunction"),z=function(){var Y=arguments,we=this,Te=this.event;return fe?ee?Promise.resolve():new Promise(function(Me){_(Me)}).then(function(){return we.event=Te,te.apply(we,Y)}):(ee?process.nextTick:_)(function(){we.event=Te,te.apply(we,Y)})},z._async=!0,z._origin=de}return[z,Z?new le(this,D,z):this]}function pe(D){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,y.call(this,D)}pe.EventEmitter2=pe,pe.prototype.listenTo=function(D,z,J){if(typeof D!="object")throw TypeError("target musts be an object");var ie=this;J=C(J,{on:r,off:r,reducers:r},{on:I,off:I,reducers:B});function fe(ee){if(typeof ee!="object")throw TypeError("events must be an object");var Z=J.reducers,te=U.call(ie,D),de;te===-1?de=new E(ie,D,J):de=ie._observers[te];for(var Y=g(ee),we=Y.length,Te,Me=typeof Z=="function",Ae=0;Ae<we;Ae++)Te=Y[Ae],de.subscribe(Te,ee[Te]||Te,Me?Z:Z&&Z[Te])}return o(z)?fe(A(z)):fe(typeof z=="string"?A(z.split(/\s+/)):z),this},pe.prototype.stopListeningTo=function(D,z){var J=this._observers;if(!J)return!1;var ie=J.length,fe,ee=!1;if(D&&typeof D!="object")throw TypeError("target should be an object");for(;ie-- >0;)fe=J[ie],(!D||fe._target===D)&&(fe.unsubscribe(z),ee=!0);return ee},pe.prototype.delimiter=".",pe.prototype.setMaxListeners=function(D){D!==r&&(this._maxListeners=D,this._conf||(this._conf={}),this._conf.maxListeners=D)},pe.prototype.getMaxListeners=function(){return this._maxListeners},pe.prototype.event="",pe.prototype.once=function(D,z,J){return this._once(D,z,!1,J)},pe.prototype.prependOnceListener=function(D,z,J){return this._once(D,z,!0,J)},pe.prototype._once=function(D,z,J,ie){return this._many(D,1,z,J,ie)},pe.prototype.many=function(D,z,J,ie){return this._many(D,z,J,!1,ie)},pe.prototype.prependMany=function(D,z,J,ie){return this._many(D,z,J,!0,ie)},pe.prototype._many=function(D,z,J,ie,fe){var ee=this;if(typeof J!="function")throw new Error("many only accepts instances of Function");function Z(){return--z===0&&ee.off(D,Z),J.apply(this,arguments)}return Z._origin=J,this._on(D,Z,ie,fe)},pe.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||f.call(this);var D=arguments[0],z,J=this.wildcard,ie,fe,ee,Z,te;if(D==="newListener"&&!this._newListener&&!this._events.newListener)return!1;if(J&&(z=D,D!=="newListener"&&D!=="removeListener"&&typeof D=="object")){if(fe=D.length,d){for(ee=0;ee<fe;ee++)if(typeof D[ee]=="symbol"){te=!0;break}}te||(D=D.join(this.delimiter))}var de=arguments.length,Y;if(this._all&&this._all.length)for(Y=this._all.slice(),ee=0,fe=Y.length;ee<fe;ee++)switch(this.event=D,de){case 1:Y[ee].call(this,D);break;case 2:Y[ee].call(this,D,arguments[1]);break;case 3:Y[ee].call(this,D,arguments[1],arguments[2]);break;default:Y[ee].apply(this,arguments)}if(J)Y=[],N.call(this,Y,z,this.listenerTree,0,fe);else if(Y=this._events[D],typeof Y=="function"){switch(this.event=D,de){case 1:Y.call(this);break;case 2:Y.call(this,arguments[1]);break;case 3:Y.call(this,arguments[1],arguments[2]);break;default:for(ie=new Array(de-1),Z=1;Z<de;Z++)ie[Z-1]=arguments[Z];Y.apply(this,ie)}return!0}else Y&&(Y=Y.slice());if(Y&&Y.length){if(de>3)for(ie=new Array(de-1),Z=1;Z<de;Z++)ie[Z-1]=arguments[Z];for(ee=0,fe=Y.length;ee<fe;ee++)switch(this.event=D,de){case 1:Y[ee].call(this);break;case 2:Y[ee].call(this,arguments[1]);break;case 3:Y[ee].call(this,arguments[1],arguments[2]);break;default:Y[ee].apply(this,ie)}return!0}else if(!this.ignoreErrors&&!this._all&&D==="error")throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},pe.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||f.call(this);var D=arguments[0],z=this.wildcard,J,ie,fe,ee,Z,te;if(D==="newListener"&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(z&&(J=D,D!=="newListener"&&D!=="removeListener"&&typeof D=="object")){if(ee=D.length,d){for(Z=0;Z<ee;Z++)if(typeof D[Z]=="symbol"){ie=!0;break}}ie||(D=D.join(this.delimiter))}var de=[],Y=arguments.length,we;if(this._all)for(Z=0,ee=this._all.length;Z<ee;Z++)switch(this.event=D,Y){case 1:de.push(this._all[Z].call(this,D));break;case 2:de.push(this._all[Z].call(this,D,arguments[1]));break;case 3:de.push(this._all[Z].call(this,D,arguments[1],arguments[2]));break;default:de.push(this._all[Z].apply(this,arguments))}if(z?(we=[],N.call(this,we,J,this.listenerTree,0)):we=this._events[D],typeof we=="function")switch(this.event=D,Y){case 1:de.push(we.call(this));break;case 2:de.push(we.call(this,arguments[1]));break;case 3:de.push(we.call(this,arguments[1],arguments[2]));break;default:for(fe=new Array(Y-1),te=1;te<Y;te++)fe[te-1]=arguments[te];de.push(we.apply(this,fe))}else if(we&&we.length){if(we=we.slice(),Y>3)for(fe=new Array(Y-1),te=1;te<Y;te++)fe[te-1]=arguments[te];for(Z=0,ee=we.length;Z<ee;Z++)switch(this.event=D,Y){case 1:de.push(we[Z].call(this));break;case 2:de.push(we[Z].call(this,arguments[1]));break;case 3:de.push(we[Z].call(this,arguments[1],arguments[2]));break;default:de.push(we[Z].apply(this,fe))}}else if(!this.ignoreErrors&&!this._all&&D==="error")return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(de)},pe.prototype.on=function(D,z,J){return this._on(D,z,!1,J)},pe.prototype.prependListener=function(D,z,J){return this._on(D,z,!0,J)},pe.prototype.onAny=function(D){return this._onAny(D,!1)},pe.prototype.prependAny=function(D){return this._onAny(D,!0)},pe.prototype.addListener=pe.prototype.on,pe.prototype._onAny=function(D,z){if(typeof D!="function")throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),z?this._all.unshift(D):this._all.push(D),this},pe.prototype._on=function(D,z,J,ie){if(typeof D=="function")return this._onAny(D,z),this;if(typeof z!="function")throw new Error("on only accepts instances of Function");this._events||f.call(this);var fe=this,ee;return ie!==r&&(ee=ae.call(this,D,z,ie),z=ee[0],fe=ee[1]),this._newListener&&this.emit("newListener",D,z),this.wildcard?(W.call(this,D,z,J),fe):(this._events[D]?(typeof this._events[D]=="function"&&(this._events[D]=[this._events[D]]),J?this._events[D].unshift(z):this._events[D].push(z),!this._events[D].warned&&this._maxListeners>0&&this._events[D].length>this._maxListeners&&(this._events[D].warned=!0,M.call(this,this._events[D].length,D))):this._events[D]=z,fe)},pe.prototype.off=function(D,z){if(typeof z!="function")throw new Error("removeListener only takes instances of Function");var J,ie=[];if(this.wildcard){var fe=typeof D=="string"?D.split(this.delimiter):D.slice();if(ie=N.call(this,null,fe,this.listenerTree,0),!ie)return this}else{if(!this._events[D])return this;J=this._events[D],ie.push({_listeners:J})}for(var ee=0;ee<ie.length;ee++){var Z=ie[ee];if(J=Z._listeners,o(J)){for(var te=-1,de=0,Y=J.length;de<Y;de++)if(J[de]===z||J[de].listener&&J[de].listener===z||J[de]._origin&&J[de]._origin===z){te=de;break}if(te<0)continue;return this.wildcard?Z._listeners.splice(te,1):this._events[D].splice(te,1),J.length===0&&(this.wildcard?delete Z._listeners:delete this._events[D]),this._removeListener&&this.emit("removeListener",D,z),this}else(J===z||J.listener&&J.listener===z||J._origin&&J._origin===z)&&(this.wildcard?delete Z._listeners:delete this._events[D],this._removeListener&&this.emit("removeListener",D,z))}return this.listenerTree&&re(this.listenerTree),this},pe.prototype.offAny=function(D){var z=0,J=0,ie;if(D&&this._all&&this._all.length>0){for(ie=this._all,z=0,J=ie.length;z<J;z++)if(D===ie[z])return ie.splice(z,1),this._removeListener&&this.emit("removeListenerAny",D),this}else{if(ie=this._all,this._removeListener)for(z=0,J=ie.length;z<J;z++)this.emit("removeListenerAny",ie[z]);this._all=[]}return this},pe.prototype.removeListener=pe.prototype.off,pe.prototype.removeAllListeners=function(D){if(D===r)return!this._events||f.call(this),this;if(this.wildcard){var z=N.call(this,null,D,this.listenerTree,0),J,ie;if(!z)return this;for(ie=0;ie<z.length;ie++)J=z[ie],J._listeners=null;this.listenerTree&&re(this.listenerTree)}else this._events&&(this._events[D]=null);return this},pe.prototype.listeners=function(D){var z=this._events,J,ie,fe,ee,Z;if(D===r){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!z)return[];for(J=g(z),ee=J.length,fe=[];ee-- >0;)ie=z[J[ee]],typeof ie=="function"?fe.push(ie):fe.push.apply(fe,ie);return fe}else{if(this.wildcard){if(Z=this.listenerTree,!Z)return[];var te=[],de=typeof D=="string"?D.split(this.delimiter):D.slice();return N.call(this,te,de,Z,0),te}return z?(ie=z[D],ie?typeof ie=="function"?[ie]:ie:[]):[]}},pe.prototype.eventNames=function(D){var z=this._events;return this.wildcard?ne.call(this,this.listenerTree,[],null,D):z?g(z):[]},pe.prototype.listenerCount=function(D){return this.listeners(D).length},pe.prototype.hasListeners=function(D){if(this.wildcard){var z=[],J=typeof D=="string"?D.split(this.delimiter):D.slice();return N.call(this,z,J,this.listenerTree,0),z.length>0}var ie=this._events,fe=this._all;return!!(fe&&fe.length||ie&&(D===r?g(ie).length:ie[D]))},pe.prototype.listenersAny=function(){return this._all?this._all:[]},pe.prototype.waitFor=function(D,z){var J=this,ie=typeof z;return ie==="number"?z={timeout:z}:ie==="function"&&(z={filter:z}),z=C(z,{timeout:0,filter:r,handleError:!1,Promise,overload:!1},{filter:I,Promise:k}),j(z.Promise,function(fe,ee,Z){function te(){var de=z.filter;if(!(de&&!de.apply(J,arguments)))if(J.off(D,te),z.handleError){var Y=arguments[0];Y?ee(Y):fe(T.apply(null,arguments).slice(1))}else fe(T.apply(null,arguments))}Z(function(){J.off(D,te)}),J._on(D,te,!1)},{timeout:z.timeout,overload:z.overload})};function K(D,z,J){J=C(J,{Promise,timeout:0,overload:!1},{Promise:k});var ie=J.Promise;return j(ie,function(fe,ee,Z){var te;if(typeof D.addEventListener=="function"){te=function(){fe(T.apply(null,arguments))},Z(function(){D.removeEventListener(z,te)}),D.addEventListener(z,te,{once:!0});return}var de=function(){Y&&D.removeListener("error",Y),fe(T.apply(null,arguments))},Y;z!=="error"&&(Y=function(we){D.removeListener(z,de),ee(we)},D.once("error",Y)),Z(function(){Y&&D.removeListener("error",Y),D.removeListener(z,de)}),D.once(z,de)},{timeout:J.timeout,overload:J.overload})}var q=pe.prototype;Object.defineProperties(pe,{defaultMaxListeners:{get:function(){return q._maxListeners},set:function(D){if(typeof D!="number"||D<0||Number.isNaN(D))throw TypeError("n must be a non-negative number");q._maxListeners=D},enumerable:!0},once:{value:K,writable:!0,configurable:!0}}),Object.defineProperties(q,{_maxListeners:{value:s,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),typeof r=="function"&&r.amd?r(function(){return pe}):t.exports=pe})()})(eventemitter2);var eventemitter2Exports=eventemitter2.exports;const EventEmitter2=getDefaultExportFromCjs(eventemitter2Exports),DEBUG=!1,config={debug:DEBUG},getQueryVariable=t=>{const e=new URLSearchParams(window.location.search);return t=t.replace(/[[\]]/g,"\\$&"),e.get(t)};class Debug extends eventemitter2Exports.EventEmitter2{constructor(){if(super(),this._active=config.debug||getQueryVariable("debug")==="true",this._state={},Object.assign(this._state,config),this._active){this._ui=new tweakpaneExports.Pane,this.tabs=this._ui.addTab({pages:[{title:"Panel"}]}),this.stats=new Stats;const e=document.querySelector(".tp-dfwv");e.style.width="370px",e.style.zIndex="999",document.body.appendChild(this.stats.dom)}}get active(){return this._active}addFolder(e,r,n=!1){return this.tabs.pages[e].addFolder({title:r,expanded:n})}debugCameras(e){const r=this.addFolder(2,"Controls");r.addInput(e.controls,"enabled"),r.on("change",n=>{n.presetKey==="enabled"&&(this._state.controls=n.value,e.controls.enabled=n.value)})}debugPerf(e){const r=this.addFolder(3,"Renderer");r.addMonitor(e.renderer.info.render,"calls"),r.addMonitor(e.renderer.info.memory,"geometries"),r.addMonitor(e.renderer.info.memory,"textures"),r.addMonitor(e.renderer.info.programs,"length",{label:"programs"}),r.addMonitor(e.renderer.info.render,"triangles")}}const debug=new Debug;var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vision={},fileset_resolver={};let supportsSimd;Object.defineProperty(fileset_resolver,"__esModule",{value:!0}),fileset_resolver.FilesetResolver=void 0;const WASM_SIMD_CHECK=new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]);async function isSimdSupported(){if(supportsSimd===void 0)try{await WebAssembly.instantiate(WASM_SIMD_CHECK),supportsSimd=!0}catch{supportsSimd=!1}return supportsSimd}async function createFileset(t,e=""){const r=await isSimdSupported()?"wasm_internal":"wasm_nosimd_internal";return{wasmLoaderPath:`${e}/${t}_${r}.js`,wasmBinaryPath:`${e}/${t}_${r}.wasm`}}class FilesetResolver$1{static isSimdSupported(){return isSimdSupported()}static forAudioTasks(e){return createFileset("audio",e)}static forTextTasks(e){return createFileset("text",e)}static forVisionTasks(e){return createFileset("vision",e)}}fileset_resolver.FilesetResolver=FilesetResolver$1;var drawing_utils={};Object.defineProperty(drawing_utils,"__esModule",{value:!0}),drawing_utils.DrawingUtils=void 0;const DEFAULT_OPTIONS={color:"white",lineWidth:4,radius:6};function addDefaultOptions(t){return t=t||{},Object.assign(Object.assign(Object.assign({},DEFAULT_OPTIONS),{fillColor:t.color}),t)}function resolve(t,e){return t instanceof Function?t(e):t}class DrawingUtils$1{constructor(e){this.ctx=e}static clamp(e,r,n){const o=Math.min(r,n),s=Math.max(r,n);return Math.max(o,Math.min(s,e))}static lerp(e,r,n,o,s){const c=o*(1-(e-r)/(n-r))+s*(1-(n-e)/(n-r));return DrawingUtils$1.clamp(c,o,s)}drawLandmarks(e,r){if(!e)return;const n=this.ctx,o=addDefaultOptions(r);n.save();const s=n.canvas;let c=0;for(const d of e){n.fillStyle=resolve(o.fillColor,{index:c,from:d}),n.strokeStyle=resolve(o.color,{index:c,from:d}),n.lineWidth=resolve(o.lineWidth,{index:c,from:d});const u=new Path2D;u.arc(d.x*s.width,d.y*s.height,resolve(o.radius,{index:c,from:d}),0,2*Math.PI),n.fill(u),n.stroke(u),++c}n.restore()}drawConnectors(e,r,n){if(!e||!r)return;const o=this.ctx,s=addDefaultOptions(n);o.save();const c=o.canvas;let d=0;for(const u of r){o.beginPath();const m=e[u.start],_=e[u.end];m&&_&&(o.strokeStyle=resolve(s.color,{index:d,from:m,to:_}),o.lineWidth=resolve(s.lineWidth,{index:d,from:m,to:_}),o.moveTo(m.x*c.width,m.y*c.height),o.lineTo(_.x*c.width,_.y*c.height)),++d,o.stroke()}o.restore()}drawBoundingBox(e,r){const n=this.ctx,o=addDefaultOptions(r);n.save(),n.beginPath(),n.lineWidth=resolve(o.lineWidth,{}),n.strokeStyle=resolve(o.color,{}),n.fillStyle=resolve(o.fillColor,{}),n.moveTo(e.originX,e.originY),n.lineTo(e.originX+e.width,e.originY),n.lineTo(e.originX+e.width,e.originY+e.height),n.lineTo(e.originX,e.originY+e.height),n.lineTo(e.originX,e.originY),n.stroke(),n.fill(),n.restore()}}drawing_utils.DrawingUtils=DrawingUtils$1;var image={},image_shader_context={};Object.defineProperty(image_shader_context,"__esModule",{value:!0}),image_shader_context.MPImageShaderContext=image_shader_context.assertNotNull=void 0;const VERTEX_SHADER=`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,FRAGMENT_SHADER=`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D inputTexture;
   void main() {
     gl_FragColor = texture2D(inputTexture, vTex);
   }
 `;function assertNotNull(t,e){if(t===null)throw new Error(`Unable to obtain required WebGL resource: ${e}`);return t}image_shader_context.assertNotNull=assertNotNull;class MPImageShaderBuffers{constructor(e,r,n,o){this.gl=e,this.vertexArrayObject=r,this.vertexBuffer=n,this.textureBuffer=o}bind(){this.gl.bindVertexArray(this.vertexArrayObject)}unbind(){this.gl.bindVertexArray(null)}close(){this.gl.deleteVertexArray(this.vertexArrayObject),this.gl.deleteBuffer(this.vertexBuffer),this.gl.deleteBuffer(this.textureBuffer)}}class MPImageShaderContext{compileShader(e,r){const n=this.gl,o=assertNotNull(n.createShader(r),"Failed to create WebGL shader");if(n.shaderSource(o,e),n.compileShader(o),!n.getShaderParameter(o,n.COMPILE_STATUS)){const s=n.getShaderInfoLog(o);throw new Error(`Could not compile WebGL shader: ${s}`)}return n.attachShader(this.program,o),o}setupShaders(){const e=this.gl;if(this.program=assertNotNull(e.createProgram(),"Failed to create WebGL program"),this.vertexShader=this.compileShader(VERTEX_SHADER,e.VERTEX_SHADER),this.fragmentShader=this.compileShader(FRAGMENT_SHADER,e.FRAGMENT_SHADER),e.linkProgram(this.program),!e.getProgramParameter(this.program,e.LINK_STATUS)){const r=e.getProgramInfoLog(this.program);throw new Error(`Error during program linking: ${r}`)}this.aVertex=e.getAttribLocation(this.program,"aVertex"),this.aTex=e.getAttribLocation(this.program,"aTex")}createBuffers(e){const r=this.gl,n=assertNotNull(r.createVertexArray(),"Failed to create vertex array");r.bindVertexArray(n);const o=assertNotNull(r.createBuffer(),"Failed to create buffer");r.bindBuffer(r.ARRAY_BUFFER,o),r.enableVertexAttribArray(this.aVertex),r.vertexAttribPointer(this.aVertex,2,r.FLOAT,!1,0,0),r.bufferData(r.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),r.STATIC_DRAW);const s=assertNotNull(r.createBuffer(),"Failed to create buffer");r.bindBuffer(r.ARRAY_BUFFER,s),r.enableVertexAttribArray(this.aTex),r.vertexAttribPointer(this.aTex,2,r.FLOAT,!1,0,0);const c=e?[0,1,0,0,1,0,1,1]:[0,0,0,1,1,1,1,0];return r.bufferData(r.ARRAY_BUFFER,new Float32Array(c),r.STATIC_DRAW),r.bindBuffer(r.ARRAY_BUFFER,null),r.bindVertexArray(null),new MPImageShaderBuffers(r,n,o,s)}getShaderBuffers(e){return e?(this.shaderBuffersFlipVertically||(this.shaderBuffersFlipVertically=this.createBuffers(!0)),this.shaderBuffersFlipVertically):(this.shaderBuffersPassthrough||(this.shaderBuffersPassthrough=this.createBuffers(!1)),this.shaderBuffersPassthrough)}maybeInitGL(e){if(this.gl){if(e!==this.gl)throw new Error("Cannot change GL context once initialized")}else this.gl=e}run(e,r,n){this.maybeInitGL(e),this.program||this.setupShaders();const o=this.getShaderBuffers(r);e.useProgram(this.program),o.bind();const s=n();return o.unbind(),s}bindFramebuffer(e,r){this.maybeInitGL(e),this.framebuffer||(this.framebuffer=assertNotNull(e.createFramebuffer(),"Failed to create framebuffe.")),e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0)}unbindFramebuffer(){var e;(e=this.gl)===null||e===void 0||e.bindFramebuffer(this.gl.FRAMEBUFFER,null)}close(){if(this.program){const e=this.gl;e.deleteProgram(this.program),e.deleteShader(this.vertexShader),e.deleteShader(this.fragmentShader)}this.framebuffer&&this.gl.deleteFramebuffer(this.framebuffer),this.shaderBuffersPassthrough&&this.shaderBuffersPassthrough.close(),this.shaderBuffersFlipVertically&&this.shaderBuffersFlipVertically.close()}}image_shader_context.MPImageShaderContext=MPImageShaderContext,Object.defineProperty(image,"__esModule",{value:!0}),image.MPImage=void 0;const image_shader_context_1$2=image_shader_context,INSTANCE_COUNT_WARNING_THRESHOLD$1=250;var MPImageType;(function(t){t[t.IMAGE_DATA=0]="IMAGE_DATA",t[t.IMAGE_BITMAP=1]="IMAGE_BITMAP",t[t.WEBGL_TEXTURE=2]="WEBGL_TEXTURE"})(MPImageType||(MPImageType={}));class MPImage$1{constructor(e,r,n,o,s,c,d){this.containers=e,this.ownsImageBitmap=r,this.ownsWebGLTexture=n,this.canvas=o,this.shaderContext=s,this.width=c,this.height=d,(this.ownsImageBitmap||this.ownsWebGLTexture)&&(--MPImage$1.instancesBeforeWarning,MPImage$1.instancesBeforeWarning===0&&console.error("You seem to be creating MPImage instances without invoking .close(). This leaks resources."))}hasImageData(){return!!this.getContainer(MPImageType.IMAGE_DATA)}hasImageBitmap(){return!!this.getContainer(MPImageType.IMAGE_BITMAP)}hasWebGLTexture(){return!!this.getContainer(MPImageType.WEBGL_TEXTURE)}getAsImageData(){return this.convertToImageData()}getAsImageBitmap(){return this.convertToImageBitmap()}getAsWebGLTexture(){return this.convertToWebGLTexture()}getContainer(e){switch(e){case MPImageType.IMAGE_DATA:return this.containers.find(r=>r instanceof ImageData);case MPImageType.IMAGE_BITMAP:return this.containers.find(r=>typeof ImageBitmap<"u"&&r instanceof ImageBitmap);case MPImageType.WEBGL_TEXTURE:return this.containers.find(r=>typeof WebGLTexture<"u"&&r instanceof WebGLTexture);default:throw new Error(`Type is not supported: ${e}`)}}clone(){const e=[];for(const r of this.containers){let n;if(r instanceof ImageData)n=new ImageData(r.data,this.width,this.height);else if(r instanceof WebGLTexture){const o=this.getGL(),s=this.getShaderContext();o.activeTexture(o.TEXTURE1),n=(0,image_shader_context_1$2.assertNotNull)(o.createTexture(),"Failed to create texture"),o.bindTexture(o.TEXTURE_2D,n),this.configureTextureParams(),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,this.width,this.height,0,o.RGBA,o.UNSIGNED_BYTE,null),o.bindTexture(o.TEXTURE_2D,null),s.bindFramebuffer(o,n),s.run(o,!1,()=>{this.bindTexture(),o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT),o.drawArrays(o.TRIANGLE_FAN,0,4),this.unbindTexture()}),s.unbindFramebuffer(),this.unbindTexture()}else{if(!(r instanceof ImageBitmap))throw new Error(`Type is not supported: ${r}`);this.convertToWebGLTexture(),this.bindTexture(),n=this.copyTextureToBitmap(),this.unbindTexture()}e.push(n)}return new MPImage$1(e,this.hasImageBitmap(),this.hasWebGLTexture(),this.canvas,this.shaderContext,this.width,this.height)}getOffscreenCanvas(){if(!(this.canvas instanceof OffscreenCanvas))throw new Error("Conversion to ImageBitmap requires that the MediaPipe Tasks is initialized with an OffscreenCanvas");return this.canvas}getGL(){if(!this.canvas)throw new Error("Conversion to different image formats require that a canvas is passed when iniitializing the image.");return this.gl||(this.gl=(0,image_shader_context_1$2.assertNotNull)(this.canvas.getContext("webgl2"),"You cannot use a canvas that is already bound to a different type of rendering context.")),this.gl}getShaderContext(){return this.shaderContext||(this.shaderContext=new image_shader_context_1$2.MPImageShaderContext),this.shaderContext}convertToImageBitmap(){let e=this.getContainer(MPImageType.IMAGE_BITMAP);return e||(this.convertToWebGLTexture(),e=this.convertWebGLTextureToImageBitmap(),this.containers.push(e),this.ownsImageBitmap=!0),e}convertToImageData(){let e=this.getContainer(MPImageType.IMAGE_DATA);if(!e){const r=this.getGL(),n=this.getShaderContext(),o=new Uint8Array(this.width*this.height*4),s=this.convertToWebGLTexture();n.bindFramebuffer(r,s),r.readPixels(0,0,this.width,this.height,r.RGBA,r.UNSIGNED_BYTE,o),n.unbindFramebuffer(),e=new ImageData(new Uint8ClampedArray(o.buffer),this.width,this.height),this.containers.push(e)}return e}convertToWebGLTexture(){let e=this.getContainer(MPImageType.WEBGL_TEXTURE);if(!e){const r=this.getGL();e=this.bindTexture();const n=this.getContainer(MPImageType.IMAGE_BITMAP)||this.convertToImageData();r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,n),this.unbindTexture()}return e}configureTextureParams(){const e=this.getGL();e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR)}bindTexture(){const e=this.getGL();e.viewport(0,0,this.width,this.height),e.activeTexture(e.TEXTURE0);let r=this.getContainer(MPImageType.WEBGL_TEXTURE);return r?e.bindTexture(e.TEXTURE_2D,r):(r=(0,image_shader_context_1$2.assertNotNull)(e.createTexture(),"Failed to create texture"),this.containers.push(r),this.ownsWebGLTexture=!0,e.bindTexture(e.TEXTURE_2D,r),this.configureTextureParams()),r}unbindTexture(){this.gl.bindTexture(this.gl.TEXTURE_2D,null)}copyTextureToBitmap(){const e=this.getGL();return this.getShaderContext().run(e,!0,()=>this.runWithResizedCanvas(()=>(e.bindFramebuffer(e.FRAMEBUFFER,null),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.drawArrays(e.TRIANGLE_FAN,0,4),this.getOffscreenCanvas().transferToImageBitmap())))}convertWebGLTextureToImageBitmap(){this.bindTexture();const e=this.copyTextureToBitmap();return this.unbindTexture(),e}runWithResizedCanvas(e){const r=this.canvas;if(r.width===this.width&&r.height===this.height)return e();const n=r.width,o=r.height;r.width=this.width,r.height=this.height;const s=e();return r.width=n,r.height=o,s}close(){this.ownsImageBitmap&&this.getContainer(MPImageType.IMAGE_BITMAP).close(),this.ownsWebGLTexture&&this.getGL().deleteTexture(this.getContainer(MPImageType.WEBGL_TEXTURE)),MPImage$1.instancesBeforeWarning=-1}}image.MPImage=MPImage$1,MPImage$1.instancesBeforeWarning=INSTANCE_COUNT_WARNING_THRESHOLD$1;var mask={},platform_utils={};function isWebKit(t=navigator){const e=t.userAgent;return e.includes("Safari")&&!e.includes("Chrome")}function isIOS(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}Object.defineProperty(platform_utils,"__esModule",{value:!0}),platform_utils.isIOS=platform_utils.isWebKit=void 0,platform_utils.isWebKit=isWebKit,platform_utils.isIOS=isIOS,Object.defineProperty(mask,"__esModule",{value:!0}),mask.MPMask=void 0;const image_shader_context_1$1=image_shader_context,platform_utils_1$1=platform_utils,INSTANCE_COUNT_WARNING_THRESHOLD=250;var MPMaskType;(function(t){t[t.UINT8_ARRAY=0]="UINT8_ARRAY",t[t.FLOAT32_ARRAY=1]="FLOAT32_ARRAY",t[t.WEBGL_TEXTURE=2]="WEBGL_TEXTURE"})(MPMaskType||(MPMaskType={}));class MPMask$1{constructor(e,r,n,o,s,c){this.containers=e,this.ownsWebGLTexture=r,this.canvas=n,this.shaderContext=o,this.width=s,this.height=c,this.ownsWebGLTexture&&(--MPMask$1.instancesBeforeWarning,MPMask$1.instancesBeforeWarning===0&&console.error("You seem to be creating MPMask instances without invoking .close(). This leaks resources."))}hasUint8Array(){return!!this.getContainer(MPMaskType.UINT8_ARRAY)}hasFloat32Array(){return!!this.getContainer(MPMaskType.FLOAT32_ARRAY)}hasWebGLTexture(){return!!this.getContainer(MPMaskType.WEBGL_TEXTURE)}getAsUint8Array(){return this.convertToUint8Array()}getAsFloat32Array(){return this.convertToFloat32Array()}getAsWebGLTexture(){return this.convertToWebGLTexture()}getTexImage2DFormat(){const e=this.getGL();if(!MPMask$1.texImage2DFormat)if(e.getExtension("EXT_color_buffer_float")&&e.getExtension("OES_texture_float_linear")&&e.getExtension("EXT_float_blend"))MPMask$1.texImage2DFormat=e.R32F;else{if(!e.getExtension("EXT_color_buffer_half_float"))throw new Error("GPU does not fully support 4-channel float32 or float16 formats");MPMask$1.texImage2DFormat=e.R16F}return MPMask$1.texImage2DFormat}getContainer(e){switch(e){case MPMaskType.UINT8_ARRAY:return this.containers.find(r=>r instanceof Uint8Array);case MPMaskType.FLOAT32_ARRAY:return this.containers.find(r=>r instanceof Float32Array);case MPMaskType.WEBGL_TEXTURE:return this.containers.find(r=>typeof WebGLTexture<"u"&&r instanceof WebGLTexture);default:throw new Error(`Type is not supported: ${e}`)}}clone(){const e=[];for(const r of this.containers){let n;if(r instanceof Uint8Array)n=new Uint8Array(r);else if(r instanceof Float32Array)n=new Float32Array(r);else{if(!(r instanceof WebGLTexture))throw new Error(`Type is not supported: ${r}`);{const o=this.getGL(),s=this.getShaderContext();o.activeTexture(o.TEXTURE1),n=(0,image_shader_context_1$1.assertNotNull)(o.createTexture(),"Failed to create texture"),o.bindTexture(o.TEXTURE_2D,n),this.configureTextureParams();const c=this.getTexImage2DFormat();o.texImage2D(o.TEXTURE_2D,0,c,this.width,this.height,0,o.RED,o.FLOAT,null),o.bindTexture(o.TEXTURE_2D,null),s.bindFramebuffer(o,n),s.run(o,!1,()=>{this.bindTexture(),o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT),o.drawArrays(o.TRIANGLE_FAN,0,4),this.unbindTexture()}),s.unbindFramebuffer(),this.unbindTexture()}}e.push(n)}return new MPMask$1(e,this.hasWebGLTexture(),this.canvas,this.shaderContext,this.width,this.height)}getGL(){if(!this.canvas)throw new Error("Conversion to different image formats require that a canvas is passed when initializing the image.");return this.gl||(this.gl=(0,image_shader_context_1$1.assertNotNull)(this.canvas.getContext("webgl2"),"You cannot use a canvas that is already bound to a different type of rendering context.")),this.gl}getShaderContext(){return this.shaderContext||(this.shaderContext=new image_shader_context_1$1.MPImageShaderContext),this.shaderContext}convertToFloat32Array(){let e=this.getContainer(MPMaskType.FLOAT32_ARRAY);if(!e){const r=this.getContainer(MPMaskType.UINT8_ARRAY);if(r)e=new Float32Array(r).map(n=>n/255);else{e=new Float32Array(this.width*this.height);const n=this.getGL(),o=this.getShaderContext(),s=this.convertToWebGLTexture();if(o.bindFramebuffer(n,s),(0,platform_utils_1$1.isIOS)()){const c=new Float32Array(this.width*this.height*4);n.readPixels(0,0,this.width,this.height,n.RGBA,n.FLOAT,c);for(let d=0,u=0;d<e.length;++d,u+=4)e[d]=c[u]}else n.readPixels(0,0,this.width,this.height,n.RED,n.FLOAT,e)}this.containers.push(e)}return e}convertToUint8Array(){let e=this.getContainer(MPMaskType.UINT8_ARRAY);if(!e){const r=this.convertToFloat32Array();e=new Uint8Array(r.map(n=>255*n)),this.containers.push(e)}return e}convertToWebGLTexture(){let e=this.getContainer(MPMaskType.WEBGL_TEXTURE);if(!e){const r=this.getGL();e=this.bindTexture();const n=this.convertToFloat32Array(),o=this.getTexImage2DFormat();r.texImage2D(r.TEXTURE_2D,0,o,this.width,this.height,0,r.RED,r.FLOAT,n),this.unbindTexture()}return e}configureTextureParams(){const e=this.getGL();e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST)}bindTexture(){const e=this.getGL();e.viewport(0,0,this.width,this.height),e.activeTexture(e.TEXTURE0);let r=this.getContainer(MPMaskType.WEBGL_TEXTURE);return r?e.bindTexture(e.TEXTURE_2D,r):(r=(0,image_shader_context_1$1.assertNotNull)(e.createTexture(),"Failed to create texture"),this.containers.push(r),this.ownsWebGLTexture=!0,e.bindTexture(e.TEXTURE_2D,r),this.configureTextureParams()),r}unbindTexture(){this.gl.bindTexture(this.gl.TEXTURE_2D,null)}close(){this.ownsWebGLTexture&&this.getGL().deleteTexture(this.getContainer(MPMaskType.WEBGL_TEXTURE)),MPMask$1.instancesBeforeWarning=-1}}mask.MPMask=MPMask$1,MPMask$1.instancesBeforeWarning=INSTANCE_COUNT_WARNING_THRESHOLD;var face_detector={},calculator_pb={},googleProtobuf={};(function(exports){var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(t,e,r){t instanceof String&&(t=String(t));for(var n=t.length,o=0;o<n;o++){var s=t[o];if(e.call(r,s,o,t))return{i:o,v:s}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(t,e,r){t!=Array.prototype&&t!=Object.prototype&&(t[e]=r.value)},$jscomp.getGlobal=function(t){return typeof window<"u"&&window===t?t:commonjsGlobal!==void 0&&commonjsGlobal!=null?commonjsGlobal:t},$jscomp.global=$jscomp.getGlobal(commonjsGlobal),$jscomp.polyfill=function(t,e,r,n){if(e){for(r=$jscomp.global,t=t.split("."),n=0;n<t.length-1;n++){var o=t[n];o in r||(r[o]={}),r=r[o]}(e=e(n=r[t=t[t.length-1]]))!=n&&e!=null&&$jscomp.defineProperty(r,t,{configurable:!0,writable:!0,value:e})}},$jscomp.polyfill("Array.prototype.findIndex",function(t){return t||function(e,r){return $jscomp.findInternal(this,e,r).i}},"es6","es3"),$jscomp.checkStringArgs=function(t,e,r){if(t==null)throw new TypeError("The 'this' value for String.prototype."+r+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+r+" must not be a regular expression");return t+""},$jscomp.polyfill("String.prototype.endsWith",function(t){return t||function(e,r){var n=$jscomp.checkStringArgs(this,e,"endsWith");e+="",r===void 0&&(r=n.length),r=Math.max(0,Math.min(0|r,n.length));for(var o=e.length;0<o&&0<r;)if(n[--r]!=e[--o])return!1;return 0>=o}},"es6","es3"),$jscomp.polyfill("Array.prototype.find",function(t){return t||function(e,r){return $jscomp.findInternal(this,e,r).v}},"es6","es3"),$jscomp.polyfill("String.prototype.startsWith",function(t){return t||function(e,r){var n=$jscomp.checkStringArgs(this,e,"startsWith");e+="";var o=n.length,s=e.length;r=Math.max(0,Math.min(0|r,n.length));for(var c=0;c<s&&r<o;)if(n[r++]!=e[c++])return!1;return c>=s}},"es6","es3"),$jscomp.polyfill("String.prototype.repeat",function(t){return t||function(e){var r=$jscomp.checkStringArgs(this,null,"repeat");if(0>e||1342177279<e)throw new RangeError("Invalid count value");e|=0;for(var n="";e;)1&e&&(n+=r),(e>>>=1)&&(r+=r);return n}},"es6","es3");var COMPILED=!0,goog=goog||{};goog.global=commonjsGlobal||self,goog.exportPath_=function(t,e,r){t=t.split("."),r=r||goog.global,t[0]in r||r.execScript===void 0||r.execScript("var "+t[0]);for(var n;t.length&&(n=t.shift());)t.length||e===void 0?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=e},goog.define=function(t,e){return e},goog.FEATURESET_YEAR=2012,goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(t){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");goog.constructNamespace_(t)},goog.constructNamespace_=function(t,e){goog.exportPath_(t,e)},goog.getScriptNonce=function(t){return t&&t!=goog.global?goog.getScriptNonce_(t.document):(goog.cspNonce_===null&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)),goog.cspNonce_)},goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/,goog.cspNonce_=null,goog.getScriptNonce_=function(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(t)?t:""},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(t){if(typeof t!="string"||!t||t.search(goog.VALID_MODULE_RE_)==-1)throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+t+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");goog.moduleLoaderState_.moduleName=t},goog.module.get=function(t){return goog.module.getInternal_(t)},goog.module.getInternal_=function(t){return null},goog.ModuleType={ES6:"es6",GOOG:"goog"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var t=goog.global.$jscomp;return!!t&&typeof t.getCurrentModulePath=="function"&&!!t.getCurrentModulePath()},goog.module.declareLegacyNamespace=function(){goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.declareModuleId=function(t){if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=t;else{var e=goog.global.$jscomp;if(!e||typeof e.getCurrentModulePath!="function")throw Error('Module with namespace "'+t+'" has been loaded incorrectly.');e=e.require(e.getCurrentModulePath()),goog.loadedModules_[t]={exports:e,type:goog.ModuleType.ES6,moduleId:t}}},goog.setTestOnly=function(t){if(goog.DISALLOW_TEST_ONLY_CODE)throw t=t||"",Error("Importing test-only code into non-debug environment"+(t?": "+t:"."))},goog.forwardDeclare=function(t){},goog.getObjectByName=function(t,e){t=t.split("."),e=e||goog.global;for(var r=0;r<t.length;r++)if((e=e[t[r]])==null)return null;return e},goog.globalize=function(t,e){for(var r in e=e||goog.global,t)e[r]=t[r]},goog.addDependency=function(t,e,r,n){},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(t){goog.global.console&&goog.global.console.error(t)},goog.require=function(t){},goog.requireType=function(t){return{}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(t){t.instance_=void 0,t.getInstance=function(){return t.instance_?t.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=t),t.instance_=new t)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED,goog.TRANSPILE="detect",goog.ASSUME_ES_MODULES_TRANSPILED=!1,goog.TRANSPILE_TO_LANGUAGE="",goog.TRANSPILER="transpile.js",goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(goog.hasBadLetScoping==null){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(t){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(t){return"(function(){"+t+`
;})();
`},goog.loadModule=function(t){var e=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG},goog.isFunction(t))var r=t.call(void 0,{});else{if(typeof t!="string")throw Error("Invalid module definition");goog.useSafari10Workaround()&&(t=goog.workaroundSafari10EvalBug(t)),r=goog.loadModuleFromSource_.call(void 0,t)}var n=goog.moduleLoaderState_.moduleName;if(typeof n!="string"||!n)throw Error('Invalid module name "'+n+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(n,r):goog.SEAL_MODULE_EXPORTS&&Object.seal&&typeof r=="object"&&r!=null&&Object.seal(r),goog.loadedModules_[n]={exports:r,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName}}finally{goog.moduleLoaderState_=e}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(t){t=t.split("/");for(var e=0;e<t.length;)t[e]=="."?t.splice(e,1):e&&t[e]==".."&&t[e-1]&&t[e-1]!=".."?t.splice(--e,2):e++;return t.join("/")},goog.loadFileSync_=function(t){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(t);try{var e=new goog.global.XMLHttpRequest;return e.open("get",t,!1),e.send(),e.status==0||e.status==200?e.responseText:null}catch{return null}},goog.transpile_=function(t,e,r){var n=goog.global.$jscomp;n||(goog.global.$jscomp=n={});var o=n.transpile;if(!o){var s=goog.basePath+goog.TRANSPILER,c=goog.loadFileSync_(s);if(c){if((function(){(0,eval)(c+`
//# sourceURL=`+s)}).call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,o=(n=goog.global.$jscomp).transpile}}return o||(o=n.transpile=function(d,u){return goog.logToConsole_(u+" requires transpilation but no transpiler was found."),d}),o(t,e,r)},goog.typeOf=function(t){var e=typeof t;if(e=="object"){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var r=Object.prototype.toString.call(t);if(r=="[object Window]")return"object";if(r=="[object Array]"||typeof t.length=="number"&&t.splice!==void 0&&t.propertyIsEnumerable!==void 0&&!t.propertyIsEnumerable("splice"))return"array";if(r=="[object Function]"||t.call!==void 0&&t.propertyIsEnumerable!==void 0&&!t.propertyIsEnumerable("call"))return"function"}else if(e=="function"&&t.call===void 0)return"object";return e},goog.isArray=function(t){return goog.typeOf(t)=="array"},goog.isArrayLike=function(t){var e=goog.typeOf(t);return e=="array"||e=="object"&&typeof t.length=="number"},goog.isDateLike=function(t){return goog.isObject(t)&&typeof t.getFullYear=="function"},goog.isFunction=function(t){return goog.typeOf(t)=="function"},goog.isObject=function(t){var e=typeof t;return e=="object"&&t!=null||e=="function"},goog.getUid=function(t){return Object.prototype.hasOwnProperty.call(t,goog.UID_PROPERTY_)&&t[goog.UID_PROPERTY_]||(t[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(t){return!!t[goog.UID_PROPERTY_]},goog.removeUid=function(t){t!==null&&"removeAttribute"in t&&t.removeAttribute(goog.UID_PROPERTY_);try{delete t[goog.UID_PROPERTY_]}catch{}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(t){var e=goog.typeOf(t);if(e=="object"||e=="array"){if(typeof t.clone=="function")return t.clone();for(var r in e=e=="array"?[]:{},t)e[r]=goog.cloneObject(t[r]);return e}return t},goog.bindNative_=function(t,e,r){return t.call.apply(t.bind,arguments)},goog.bindJs_=function(t,e,r){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,n),t.apply(e,o)}}return function(){return t.apply(e,arguments)}},goog.bind=function(t,e,r){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(t,e){var r=Array.prototype.slice.call(arguments,1);return function(){var n=r.slice();return n.push.apply(n,arguments),t.apply(this,n)}},goog.mixin=function(t,e){for(var r in e)t[r]=e[r]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(t){if(goog.global.execScript)goog.global.execScript(t,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(goog.evalWorksForGlobals_==null){try{goog.global.eval("var _evalTest_ = 1;")}catch{}if(goog.global._evalTest_!==void 0){try{delete goog.global._evalTest_}catch{}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(t);else{var e=goog.global.document,r=e.createElement("script");r.type="text/javascript",r.defer=!1,r.appendChild(e.createTextNode(t)),e.head.appendChild(r),e.head.removeChild(r)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(t,e){if(String(t).charAt(0)==".")throw Error('className passed in goog.getCssName must not start with ".". You passed: '+t);var r=function(o){return goog.cssNameMapping_[o]||o},n=function(o){o=o.split("-");for(var s=[],c=0;c<o.length;c++)s.push(r(o[c]));return s.join("-")};return n=goog.cssNameMapping_?goog.cssNameMappingStyle_=="BY_WHOLE"?r:n:function(o){return o},t=e?t+"-"+n(e):n(t),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(t):t},goog.setCssNameMapping=function(t,e){goog.cssNameMapping_=t,goog.cssNameMappingStyle_=e},goog.getMsg=function(t,e,r){return r&&r.html&&(t=t.replace(/</g,"&lt;")),e&&(t=t.replace(/\{\$([^}]+)}/g,function(n,o){return e!=null&&o in e?e[o]:n})),t},goog.getMsgWithFallback=function(t,e){return t},goog.exportSymbol=function(t,e,r){goog.exportPath_(t,e,r)},goog.exportProperty=function(t,e,r){t[e]=r},goog.inherits=function(t,e){function r(){}r.prototype=e.prototype,t.superClass_=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.base=function(n,o,s){for(var c=Array(arguments.length-2),d=2;d<arguments.length;d++)c[d-2]=arguments[d];return e.prototype[o].apply(n,c)}},goog.scope=function(t){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");t.call(goog.global)},goog.defineClass=function(t,e){var r=e.constructor,n=e.statics;return r&&r!=Object.prototype.constructor||(r=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),r=goog.defineClass.createSealingConstructor_(r,t),t&&goog.inherits(r,t),delete e.constructor,delete e.statics,goog.defineClass.applyProperties_(r.prototype,e),n!=null&&(n instanceof Function?n(r):goog.defineClass.applyProperties_(r,n)),r},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(t,e){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return t;var r=!goog.defineClass.isUnsealable_(e),n=function(){var o=t.apply(this,arguments)||this;return o[goog.UID_PROPERTY_]=o[goog.UID_PROPERTY_],this.constructor===n&&r&&Object.seal instanceof Function&&Object.seal(o),o};return n},goog.defineClass.isUnsealable_=function(t){return t&&t.prototype&&t.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);for(var n=0;n<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;n++)r=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[n],Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},goog.tagUnsealableClass=function(t){},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.TRUSTED_TYPES_POLICY_NAME="",goog.identity_=function(t){return t},goog.createTrustedTypesPolicy=function(t){var e=null,r=goog.global.trustedTypes||goog.global.TrustedTypes;if(!r||!r.createPolicy)return e;try{e=r.createPolicy(t,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_,createURL:goog.identity_})}catch(n){goog.logToConsole_(n.message)}return e},goog.TRUSTED_TYPES_POLICY_=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#base"):null,goog.object={},goog.object.is=function(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e},goog.object.forEach=function(t,e,r){for(var n in t)e.call(r,t[n],n,t)},goog.object.filter=function(t,e,r){var n,o={};for(n in t)e.call(r,t[n],n,t)&&(o[n]=t[n]);return o},goog.object.map=function(t,e,r){var n,o={};for(n in t)o[n]=e.call(r,t[n],n,t);return o},goog.object.some=function(t,e,r){for(var n in t)if(e.call(r,t[n],n,t))return!0;return!1},goog.object.every=function(t,e,r){for(var n in t)if(!e.call(r,t[n],n,t))return!1;return!0},goog.object.getCount=function(t){var e,r=0;for(e in t)r++;return r},goog.object.getAnyKey=function(t){for(var e in t)return e},goog.object.getAnyValue=function(t){for(var e in t)return t[e]},goog.object.contains=function(t,e){return goog.object.containsValue(t,e)},goog.object.getValues=function(t){var e,r=[],n=0;for(e in t)r[n++]=t[e];return r},goog.object.getKeys=function(t){var e,r=[],n=0;for(e in t)r[n++]=e;return r},goog.object.getValueByKeys=function(t,e){var r=goog.isArrayLike(e),n=r?e:arguments;for(r=r?0:1;r<n.length;r++){if(t==null)return;t=t[n[r]]}return t},goog.object.containsKey=function(t,e){return t!==null&&e in t},goog.object.containsValue=function(t,e){for(var r in t)if(t[r]==e)return!0;return!1},goog.object.findKey=function(t,e,r){for(var n in t)if(e.call(r,t[n],n,t))return n},goog.object.findValue=function(t,e,r){return(e=goog.object.findKey(t,e,r))&&t[e]},goog.object.isEmpty=function(t){for(var e in t)return!1;return!0},goog.object.clear=function(t){for(var e in t)delete t[e]},goog.object.remove=function(t,e){var r;return(r=e in t)&&delete t[e],r},goog.object.add=function(t,e,r){if(t!==null&&e in t)throw Error('The object already contains the key "'+e+'"');goog.object.set(t,e,r)},goog.object.get=function(t,e,r){return t!==null&&e in t?t[e]:r},goog.object.set=function(t,e,r){t[e]=r},goog.object.setIfUndefined=function(t,e,r){return e in t?t[e]:t[e]=r},goog.object.setWithReturnValueIfNotSet=function(t,e,r){return e in t?t[e]:(r=r(),t[e]=r)},goog.object.equals=function(t,e){for(var r in t)if(!(r in e)||t[r]!==e[r])return!1;for(var n in e)if(!(n in t))return!1;return!0},goog.object.clone=function(t){var e,r={};for(e in t)r[e]=t[e];return r},goog.object.unsafeClone=function(t){var e=goog.typeOf(t);if(e=="object"||e=="array"){if(goog.isFunction(t.clone))return t.clone();for(var r in e=e=="array"?[]:{},t)e[r]=goog.object.unsafeClone(t[r]);return e}return t},goog.object.transpose=function(t){var e,r={};for(e in t)r[t[e]]=e;return r},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(t,e){for(var r,n,o=1;o<arguments.length;o++){for(r in n=arguments[o])t[r]=n[r];for(var s=0;s<goog.object.PROTOTYPE_FIELDS_.length;s++)r=goog.object.PROTOTYPE_FIELDS_[s],Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}},goog.object.create=function(t){var e=arguments.length;if(e==1&&Array.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(e%2)throw Error("Uneven number of arguments");for(var r={},n=0;n<e;n+=2)r[arguments[n]]=arguments[n+1];return r},goog.object.createSet=function(t){var e=arguments.length;if(e==1&&Array.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var r={},n=0;n<e;n++)r[arguments[n]]=!0;return r},goog.object.createImmutableView=function(t){var e=t;return Object.isFrozen&&!Object.isFrozen(t)&&(e=Object.create(t),Object.freeze(e)),e},goog.object.isImmutableView=function(t){return!!Object.isFrozen&&Object.isFrozen(t)},goog.object.getAllPropertyNames=function(t,e,r){if(!t)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(t);for(var n={};t&&(t!==Object.prototype||e)&&(t!==Function.prototype||r);){for(var o=Object.getOwnPropertyNames(t),s=0;s<o.length;s++)n[o[s]]=!0;t=Object.getPrototypeOf(t)}return goog.object.getKeys(n)},goog.object.getSuperClass=function(t){return(t=Object.getPrototypeOf(t.prototype))&&t.constructor};var jspb={asserts:{}};jspb.asserts.doAssertFailure=function(t,e,r,n){var o="Assertion failed";if(r){o+=": "+r;var s=n}else t&&(o+=": "+t,s=e);throw Error(""+o,s||[])},jspb.asserts.assert=function(t,e,r){for(var n=[],o=2;o<arguments.length;++o)n[o-2]=arguments[o];return t||jspb.asserts.doAssertFailure("",null,e,n),t},jspb.asserts.assertString=function(t,e,r){for(var n=[],o=2;o<arguments.length;++o)n[o-2]=arguments[o];return typeof t!="string"&&jspb.asserts.doAssertFailure("Expected string but got %s: %s.",[goog.typeOf(t),t],e,n),t},jspb.asserts.assertArray=function(t,e,r){for(var n=[],o=2;o<arguments.length;++o)n[o-2]=arguments[o];return Array.isArray(t)||jspb.asserts.doAssertFailure("Expected array but got %s: %s.",[goog.typeOf(t),t],e,n),t},jspb.asserts.fail=function(t,e){for(var r=[],n=1;n<arguments.length;++n)r[n-1]=arguments[n];throw Error("Failure"+(t?": "+t:""),r)},jspb.asserts.assertInstanceof=function(t,e,r,n){for(var o=[],s=3;s<arguments.length;++s)o[s-3]=arguments[s];return t instanceof e||jspb.asserts.doAssertFailure("Expected instanceof %s but got %s.",[jspb.asserts.getType(e),jspb.asserts.getType(t)],r,o),t},jspb.asserts.getType=function(t){return t instanceof Function?t.displayName||t.name||"unknown type name":t instanceof Object?t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t):t===null?"null":typeof t},jspb.BinaryConstants={},jspb.ConstBinaryMessage=function(){},jspb.BinaryMessage=function(){},jspb.BinaryConstants.FieldType={INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31},jspb.BinaryConstants.WireType={INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5},jspb.BinaryConstants.FieldTypeToWireType=function(t){var e=jspb.BinaryConstants.FieldType,r=jspb.BinaryConstants.WireType;switch(t){case e.INT32:case e.INT64:case e.UINT32:case e.UINT64:case e.SINT32:case e.SINT64:case e.BOOL:case e.ENUM:case e.VHASH64:return r.VARINT;case e.DOUBLE:case e.FIXED64:case e.SFIXED64:case e.FHASH64:return r.FIXED64;case e.STRING:case e.MESSAGE:case e.BYTES:return r.DELIMITED;case e.FLOAT:case e.FIXED32:case e.SFIXED32:return r.FIXED32;default:return r.INVALID}},jspb.BinaryConstants.INVALID_FIELD_NUMBER=-1,jspb.BinaryConstants.FLOAT32_EPS=1401298464324817e-60,jspb.BinaryConstants.FLOAT32_MIN=11754943508222875e-54,jspb.BinaryConstants.FLOAT32_MAX=3402823466385289e23,jspb.BinaryConstants.FLOAT64_EPS=5e-324,jspb.BinaryConstants.FLOAT64_MIN=22250738585072014e-324,jspb.BinaryConstants.FLOAT64_MAX=17976931348623157e292,jspb.BinaryConstants.TWO_TO_20=1048576,jspb.BinaryConstants.TWO_TO_23=8388608,jspb.BinaryConstants.TWO_TO_31=2147483648,jspb.BinaryConstants.TWO_TO_32=4294967296,jspb.BinaryConstants.TWO_TO_52=4503599627370496,jspb.BinaryConstants.TWO_TO_63=9223372036854776e3,jspb.BinaryConstants.TWO_TO_64=18446744073709552e3,jspb.BinaryConstants.ZERO_HASH="\0\0\0\0\0\0\0\0",goog.debug={},goog.debug.Error=function(t){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(t,e){goog.debug.Error.call(this,goog.asserts.subs_(t,e)),this.messagePattern=t},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(t){throw t},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.subs_=function(t,e){for(var r="",n=(t=t.split("%s")).length-1,o=0;o<n;o++)r+=t[o]+(o<e.length?e[o]:"%s");return r+t[n]},goog.asserts.doAssertFailure_=function(t,e,r,n){var o="Assertion failed";if(r){o+=": "+r;var s=n}else t&&(o+=": "+t,s=e);t=new goog.asserts.AssertionError(""+o,s||[]),goog.asserts.errorHandler_(t)},goog.asserts.setErrorHandler=function(t){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=t)},goog.asserts.assert=function(t,e,r){return goog.asserts.ENABLE_ASSERTS&&!t&&goog.asserts.doAssertFailure_("",null,e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertExists=function(t,e,r){return goog.asserts.ENABLE_ASSERTS&&t==null&&goog.asserts.doAssertFailure_("Expected to exist: %s.",[t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.fail=function(t,e){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(t,e,r){return goog.asserts.ENABLE_ASSERTS&&typeof t!="number"&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertString=function(t,e,r){return goog.asserts.ENABLE_ASSERTS&&typeof t!="string"&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertFunction=function(t,e,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(t)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertObject=function(t,e,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(t)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertArray=function(t,e,r){return goog.asserts.ENABLE_ASSERTS&&!Array.isArray(t)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertBoolean=function(t,e,r){return goog.asserts.ENABLE_ASSERTS&&typeof t!="boolean"&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertElement=function(t,e,r){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(t)&&t.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertInstanceof=function(t,e,r,n){return!goog.asserts.ENABLE_ASSERTS||t instanceof e||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(e),goog.asserts.getType_(t)],r,Array.prototype.slice.call(arguments,3)),t},goog.asserts.assertFinite=function(t,e,r){return!goog.asserts.ENABLE_ASSERTS||typeof t=="number"&&isFinite(t)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var t in Object.prototype)goog.asserts.fail(t+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(t){return t instanceof Function?t.displayName||t.name||"unknown type name":t instanceof Object?t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t):t===null?"null":typeof t},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=2012<goog.FEATURESET_YEAR,goog.array.peek=function(t){return t[t.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(t,e,r){return goog.asserts.assert(t.length!=null),Array.prototype.indexOf.call(t,e,r)}:function(t,e,r){if(r=r==null?0:0>r?Math.max(0,t.length+r):r,typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,r);for(;r<t.length;r++)if(r in t&&t[r]===e)return r;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(t,e,r){return goog.asserts.assert(t.length!=null),Array.prototype.lastIndexOf.call(t,e,r??t.length-1)}:function(t,e,r){if(0>(r=r??t.length-1)&&(r=Math.max(0,t.length+r)),typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.lastIndexOf(e,r);for(;0<=r;r--)if(r in t&&t[r]===e)return r;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(t,e,r){goog.asserts.assert(t.length!=null),Array.prototype.forEach.call(t,e,r)}:function(t,e,r){for(var n=t.length,o=typeof t=="string"?t.split(""):t,s=0;s<n;s++)s in o&&e.call(r,o[s],s,t)},goog.array.forEachRight=function(t,e,r){var n=t.length,o=typeof t=="string"?t.split(""):t;for(--n;0<=n;--n)n in o&&e.call(r,o[n],n,t)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(t,e,r){return goog.asserts.assert(t.length!=null),Array.prototype.filter.call(t,e,r)}:function(t,e,r){for(var n=t.length,o=[],s=0,c=typeof t=="string"?t.split(""):t,d=0;d<n;d++)if(d in c){var u=c[d];e.call(r,u,d,t)&&(o[s++]=u)}return o},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(t,e,r){return goog.asserts.assert(t.length!=null),Array.prototype.map.call(t,e,r)}:function(t,e,r){for(var n=t.length,o=Array(n),s=typeof t=="string"?t.split(""):t,c=0;c<n;c++)c in s&&(o[c]=e.call(r,s[c],c,t));return o},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(t,e,r,n){return goog.asserts.assert(t.length!=null),n&&(e=goog.bind(e,n)),Array.prototype.reduce.call(t,e,r)}:function(t,e,r,n){var o=r;return goog.array.forEach(t,function(s,c){o=e.call(n,o,s,c,t)}),o},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(t,e,r,n){return goog.asserts.assert(t.length!=null),goog.asserts.assert(e!=null),n&&(e=goog.bind(e,n)),Array.prototype.reduceRight.call(t,e,r)}:function(t,e,r,n){var o=r;return goog.array.forEachRight(t,function(s,c){o=e.call(n,o,s,c,t)}),o},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(t,e,r){return goog.asserts.assert(t.length!=null),Array.prototype.some.call(t,e,r)}:function(t,e,r){for(var n=t.length,o=typeof t=="string"?t.split(""):t,s=0;s<n;s++)if(s in o&&e.call(r,o[s],s,t))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(t,e,r){return goog.asserts.assert(t.length!=null),Array.prototype.every.call(t,e,r)}:function(t,e,r){for(var n=t.length,o=typeof t=="string"?t.split(""):t,s=0;s<n;s++)if(s in o&&!e.call(r,o[s],s,t))return!1;return!0},goog.array.count=function(t,e,r){var n=0;return goog.array.forEach(t,function(o,s,c){e.call(r,o,s,c)&&++n},r),n},goog.array.find=function(t,e,r){return 0>(e=goog.array.findIndex(t,e,r))?null:typeof t=="string"?t.charAt(e):t[e]},goog.array.findIndex=function(t,e,r){for(var n=t.length,o=typeof t=="string"?t.split(""):t,s=0;s<n;s++)if(s in o&&e.call(r,o[s],s,t))return s;return-1},goog.array.findRight=function(t,e,r){return 0>(e=goog.array.findIndexRight(t,e,r))?null:typeof t=="string"?t.charAt(e):t[e]},goog.array.findIndexRight=function(t,e,r){var n=t.length,o=typeof t=="string"?t.split(""):t;for(--n;0<=n;n--)if(n in o&&e.call(r,o[n],n,t))return n;return-1},goog.array.contains=function(t,e){return 0<=goog.array.indexOf(t,e)},goog.array.isEmpty=function(t){return t.length==0},goog.array.clear=function(t){if(!Array.isArray(t))for(var e=t.length-1;0<=e;e--)delete t[e];t.length=0},goog.array.insert=function(t,e){goog.array.contains(t,e)||t.push(e)},goog.array.insertAt=function(t,e,r){goog.array.splice(t,r,0,e)},goog.array.insertArrayAt=function(t,e,r){goog.partial(goog.array.splice,t,r,0).apply(null,e)},goog.array.insertBefore=function(t,e,r){var n;arguments.length==2||0>(n=goog.array.indexOf(t,r))?t.push(e):goog.array.insertAt(t,e,n)},goog.array.remove=function(t,e){var r;return(r=0<=(e=goog.array.indexOf(t,e)))&&goog.array.removeAt(t,e),r},goog.array.removeLast=function(t,e){return 0<=(e=goog.array.lastIndexOf(t,e))&&(goog.array.removeAt(t,e),!0)},goog.array.removeAt=function(t,e){return goog.asserts.assert(t.length!=null),Array.prototype.splice.call(t,e,1).length==1},goog.array.removeIf=function(t,e,r){return 0<=(e=goog.array.findIndex(t,e,r))&&(goog.array.removeAt(t,e),!0)},goog.array.removeAllIf=function(t,e,r){var n=0;return goog.array.forEachRight(t,function(o,s){e.call(r,o,s,t)&&goog.array.removeAt(t,s)&&n++}),n},goog.array.concat=function(t){return Array.prototype.concat.apply([],arguments)},goog.array.join=function(t){return Array.prototype.concat.apply([],arguments)},goog.array.toArray=function(t){var e=t.length;if(0<e){for(var r=Array(e),n=0;n<e;n++)r[n]=t[n];return r}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(t,e){for(var r=1;r<arguments.length;r++){var n=arguments[r];if(goog.isArrayLike(n)){var o=t.length||0,s=n.length||0;t.length=o+s;for(var c=0;c<s;c++)t[o+c]=n[c]}else t.push(n)}},goog.array.splice=function(t,e,r,n){return goog.asserts.assert(t.length!=null),Array.prototype.splice.apply(t,goog.array.slice(arguments,1))},goog.array.slice=function(t,e,r){return goog.asserts.assert(t.length!=null),2>=arguments.length?Array.prototype.slice.call(t,e):Array.prototype.slice.call(t,e,r)},goog.array.removeDuplicates=function(t,e,r){e=e||t;var n=function(u){return goog.isObject(u)?"o"+goog.getUid(u):(typeof u).charAt(0)+u};r=r||n,n={};for(var o=0,s=0;s<t.length;){var c=t[s++],d=r(c);Object.prototype.hasOwnProperty.call(n,d)||(n[d]=!0,e[o++]=c)}e.length=o},goog.array.binarySearch=function(t,e,r){return goog.array.binarySearch_(t,r||goog.array.defaultCompare,!1,e)},goog.array.binarySelect=function(t,e,r){return goog.array.binarySearch_(t,e,!0,void 0,r)},goog.array.binarySearch_=function(t,e,r,n,o){for(var s,c=0,d=t.length;c<d;){var u=c+(d-c>>>1),m=r?e.call(o,t[u],u,t):e(n,t[u]);0<m?c=u+1:(d=u,s=!m)}return s?c:-c-1},goog.array.sort=function(t,e){t.sort(e||goog.array.defaultCompare)},goog.array.stableSort=function(t,e){for(var r=Array(t.length),n=0;n<t.length;n++)r[n]={index:n,value:t[n]};var o=e||goog.array.defaultCompare;for(goog.array.sort(r,function(s,c){return o(s.value,c.value)||s.index-c.index}),n=0;n<t.length;n++)t[n]=r[n].value},goog.array.sortByKey=function(t,e,r){var n=r||goog.array.defaultCompare;goog.array.sort(t,function(o,s){return n(e(o),e(s))})},goog.array.sortObjectsByKey=function(t,e,r){goog.array.sortByKey(t,function(n){return n[e]},r)},goog.array.isSorted=function(t,e,r){e=e||goog.array.defaultCompare;for(var n=1;n<t.length;n++){var o=e(t[n-1],t[n]);if(0<o||o==0&&r)return!1}return!0},goog.array.equals=function(t,e,r){if(!goog.isArrayLike(t)||!goog.isArrayLike(e)||t.length!=e.length)return!1;var n=t.length;r=r||goog.array.defaultCompareEquality;for(var o=0;o<n;o++)if(!r(t[o],e[o]))return!1;return!0},goog.array.compare3=function(t,e,r){r=r||goog.array.defaultCompare;for(var n=Math.min(t.length,e.length),o=0;o<n;o++){var s=r(t[o],e[o]);if(s!=0)return s}return goog.array.defaultCompare(t.length,e.length)},goog.array.defaultCompare=function(t,e){return t>e?1:t<e?-1:0},goog.array.inverseDefaultCompare=function(t,e){return-goog.array.defaultCompare(t,e)},goog.array.defaultCompareEquality=function(t,e){return t===e},goog.array.binaryInsert=function(t,e,r){return 0>(r=goog.array.binarySearch(t,e,r))&&(goog.array.insertAt(t,e,-(r+1)),!0)},goog.array.binaryRemove=function(t,e,r){return 0<=(e=goog.array.binarySearch(t,e,r))&&goog.array.removeAt(t,e)},goog.array.bucket=function(t,e,r){for(var n={},o=0;o<t.length;o++){var s=t[o],c=e.call(r,s,o,t);c!==void 0&&(n[c]||(n[c]=[])).push(s)}return n},goog.array.toObject=function(t,e,r){var n={};return goog.array.forEach(t,function(o,s){n[e.call(r,o,s,t)]=o}),n},goog.array.range=function(t,e,r){var n=[],o=0,s=t;if(e!==void 0&&(o=t,s=e),0>(r=r||1)*(s-o))return[];if(0<r)for(t=o;t<s;t+=r)n.push(t);else for(t=o;t>s;t+=r)n.push(t);return n},goog.array.repeat=function(t,e){for(var r=[],n=0;n<e;n++)r[n]=t;return r},goog.array.flatten=function(t){for(var e=[],r=0;r<arguments.length;r++){var n=arguments[r];if(Array.isArray(n))for(var o=0;o<n.length;o+=8192){var s=goog.array.slice(n,o,o+8192);s=goog.array.flatten.apply(null,s);for(var c=0;c<s.length;c++)e.push(s[c])}else e.push(n)}return e},goog.array.rotate=function(t,e){return goog.asserts.assert(t.length!=null),t.length&&(0<(e%=t.length)?Array.prototype.unshift.apply(t,t.splice(-e,e)):0>e&&Array.prototype.push.apply(t,t.splice(0,-e))),t},goog.array.moveItem=function(t,e,r){goog.asserts.assert(0<=e&&e<t.length),goog.asserts.assert(0<=r&&r<t.length),e=Array.prototype.splice.call(t,e,1),Array.prototype.splice.call(t,r,0,e[0])},goog.array.zip=function(t){if(!arguments.length)return[];for(var e=[],r=arguments[0].length,n=1;n<arguments.length;n++)arguments[n].length<r&&(r=arguments[n].length);for(n=0;n<r;n++){for(var o=[],s=0;s<arguments.length;s++)o.push(arguments[s][n]);e.push(o)}return e},goog.array.shuffle=function(t,e){e=e||Math.random;for(var r=t.length-1;0<r;r--){var n=Math.floor(e()*(r+1)),o=t[r];t[r]=t[n],t[n]=o}},goog.array.copyByIndex=function(t,e){var r=[];return goog.array.forEach(e,function(n){r.push(t[n])}),r},goog.array.concatMap=function(t,e,r){return goog.array.concat.apply([],goog.array.map(t,e,r))},goog.crypt={},goog.crypt.stringToByteArray=function(t){for(var e=[],r=0,n=0;n<t.length;n++){var o=t.charCodeAt(n);255<o&&(e[r++]=255&o,o>>=8),e[r++]=o}return e},goog.crypt.byteArrayToString=function(t){if(8192>=t.length)return String.fromCharCode.apply(null,t);for(var e="",r=0;r<t.length;r+=8192){var n=goog.array.slice(t,r,r+8192);e+=String.fromCharCode.apply(null,n)}return e},goog.crypt.byteArrayToHex=function(t,e){return goog.array.map(t,function(r){return 1<(r=r.toString(16)).length?r:"0"+r}).join(e||"")},goog.crypt.hexToByteArray=function(t){goog.asserts.assert(t.length%2==0,"Key string length must be multiple of 2");for(var e=[],r=0;r<t.length;r+=2)e.push(parseInt(t.substring(r,r+2),16));return e},goog.crypt.stringToUtf8ByteArray=function(t){for(var e=[],r=0,n=0;n<t.length;n++){var o=t.charCodeAt(n);128>o?e[r++]=o:(2048>o?e[r++]=o>>6|192:((64512&o)==55296&&n+1<t.length&&(64512&t.charCodeAt(n+1))==56320?(o=65536+((1023&o)<<10)+(1023&t.charCodeAt(++n)),e[r++]=o>>18|240,e[r++]=o>>12&63|128):e[r++]=o>>12|224,e[r++]=o>>6&63|128),e[r++]=63&o|128)}return e},goog.crypt.utf8ByteArrayToString=function(t){for(var e=[],r=0,n=0;r<t.length;){var o=t[r++];if(128>o)e[n++]=String.fromCharCode(o);else if(191<o&&224>o){var s=t[r++];e[n++]=String.fromCharCode((31&o)<<6|63&s)}else if(239<o&&365>o){s=t[r++];var c=t[r++];o=((7&o)<<18|(63&s)<<12|(63&c)<<6|63&t[r++])-65536,e[n++]=String.fromCharCode(55296+(o>>10)),e[n++]=String.fromCharCode(56320+(1023&o))}else s=t[r++],c=t[r++],e[n++]=String.fromCharCode((15&o)<<12|(63&s)<<6|63&c)}return e.join("")},goog.crypt.xorByteArray=function(t,e){goog.asserts.assert(t.length==e.length,"XOR array lengths must match");for(var r=[],n=0;n<t.length;n++)r.push(t[n]^e[n]);return r},goog.dom.asserts={},goog.dom.asserts.assertIsLocation=function(t){if(goog.asserts.ENABLE_ASSERTS){var e=goog.dom.asserts.getWindow_(t);e&&(!t||!(t instanceof e.Location)&&t instanceof e.Element)&&goog.asserts.fail("Argument is not a Location (or a non-Element mock); got: %s",goog.dom.asserts.debugStringForType_(t))}return t},goog.dom.asserts.assertIsElementType_=function(t,e){if(goog.asserts.ENABLE_ASSERTS){var r=goog.dom.asserts.getWindow_(t);r&&r[e]!==void 0&&(t&&(t instanceof r[e]||!(t instanceof r.Location||t instanceof r.Element))||goog.asserts.fail("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,goog.dom.asserts.debugStringForType_(t)))}return t},goog.dom.asserts.assertIsHTMLAnchorElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLAnchorElement")},goog.dom.asserts.assertIsHTMLButtonElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLButtonElement")},goog.dom.asserts.assertIsHTMLLinkElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLLinkElement")},goog.dom.asserts.assertIsHTMLImageElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLImageElement")},goog.dom.asserts.assertIsHTMLAudioElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLAudioElement")},goog.dom.asserts.assertIsHTMLVideoElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLVideoElement")},goog.dom.asserts.assertIsHTMLInputElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLInputElement")},goog.dom.asserts.assertIsHTMLTextAreaElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLTextAreaElement")},goog.dom.asserts.assertIsHTMLCanvasElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLCanvasElement")},goog.dom.asserts.assertIsHTMLEmbedElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLEmbedElement")},goog.dom.asserts.assertIsHTMLFormElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLFormElement")},goog.dom.asserts.assertIsHTMLFrameElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLFrameElement")},goog.dom.asserts.assertIsHTMLIFrameElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLIFrameElement")},goog.dom.asserts.assertIsHTMLObjectElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLObjectElement")},goog.dom.asserts.assertIsHTMLScriptElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLScriptElement")},goog.dom.asserts.debugStringForType_=function(t){if(!goog.isObject(t))return t===void 0?"undefined":t===null?"null":typeof t;try{return t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch{return"<object could not be stringified>"}},goog.dom.asserts.getWindow_=function(t){try{var e=t&&t.ownerDocument,r=e&&(e.defaultView||e.parentWindow);if((r=r||goog.global).Element&&r.Location)return r}catch{}return null},goog.functions={},goog.functions.constant=function(t){return function(){return t}},goog.functions.FALSE=function(){return!1},goog.functions.TRUE=function(){return!0},goog.functions.NULL=function(){return null},goog.functions.identity=function(t,e){return t},goog.functions.error=function(t){return function(){throw Error(t)}},goog.functions.fail=function(t){return function(){throw t}},goog.functions.lock=function(t,e){return e=e||0,function(){return t.apply(this,Array.prototype.slice.call(arguments,0,e))}},goog.functions.nth=function(t){return function(){return arguments[t]}},goog.functions.partialRight=function(t,e){var r=Array.prototype.slice.call(arguments,1);return function(){var n=Array.prototype.slice.call(arguments);return n.push.apply(n,r),t.apply(this,n)}},goog.functions.withReturnValue=function(t,e){return goog.functions.sequence(t,goog.functions.constant(e))},goog.functions.equalTo=function(t,e){return function(r){return e?t==r:t===r}},goog.functions.compose=function(t,e){var r=arguments,n=r.length;return function(){var o;n&&(o=r[n-1].apply(this,arguments));for(var s=n-2;0<=s;s--)o=r[s].call(this,o);return o}},goog.functions.sequence=function(t){var e=arguments,r=e.length;return function(){for(var n,o=0;o<r;o++)n=e[o].apply(this,arguments);return n}},goog.functions.and=function(t){var e=arguments,r=e.length;return function(){for(var n=0;n<r;n++)if(!e[n].apply(this,arguments))return!1;return!0}},goog.functions.or=function(t){var e=arguments,r=e.length;return function(){for(var n=0;n<r;n++)if(e[n].apply(this,arguments))return!0;return!1}},goog.functions.not=function(t){return function(){return!t.apply(this,arguments)}},goog.functions.create=function(t,e){var r=function(){};return r.prototype=t.prototype,r=new r,t.apply(r,Array.prototype.slice.call(arguments,1)),r},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(t){var e,r=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(r||(e=t(),r=!0),e):t()}},goog.functions.once=function(t){var e=t;return function(){if(e){var r=e;e=null,r()}}},goog.functions.debounce=function(t,e,r){var n=0;return function(o){goog.global.clearTimeout(n);var s=arguments;n=goog.global.setTimeout(function(){t.apply(r,s)},e)}},goog.functions.throttle=function(t,e,r){var n=0,o=!1,s=[],c=function(){n=0,o&&(o=!1,d())},d=function(){n=goog.global.setTimeout(c,e),t.apply(r,s)};return function(u){s=arguments,n?o=!0:d()}},goog.functions.rateLimit=function(t,e,r){var n=0,o=function(){n=0};return function(s){n||(n=goog.global.setTimeout(o,e),t.apply(r,arguments))}},goog.dom.HtmlElement=function(){},goog.dom.TagName=function(t){this.tagName_=t},goog.dom.TagName.prototype.toString=function(){return this.tagName_},goog.dom.TagName.A=new goog.dom.TagName("A"),goog.dom.TagName.ABBR=new goog.dom.TagName("ABBR"),goog.dom.TagName.ACRONYM=new goog.dom.TagName("ACRONYM"),goog.dom.TagName.ADDRESS=new goog.dom.TagName("ADDRESS"),goog.dom.TagName.APPLET=new goog.dom.TagName("APPLET"),goog.dom.TagName.AREA=new goog.dom.TagName("AREA"),goog.dom.TagName.ARTICLE=new goog.dom.TagName("ARTICLE"),goog.dom.TagName.ASIDE=new goog.dom.TagName("ASIDE"),goog.dom.TagName.AUDIO=new goog.dom.TagName("AUDIO"),goog.dom.TagName.B=new goog.dom.TagName("B"),goog.dom.TagName.BASE=new goog.dom.TagName("BASE"),goog.dom.TagName.BASEFONT=new goog.dom.TagName("BASEFONT"),goog.dom.TagName.BDI=new goog.dom.TagName("BDI"),goog.dom.TagName.BDO=new goog.dom.TagName("BDO"),goog.dom.TagName.BIG=new goog.dom.TagName("BIG"),goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName("BLOCKQUOTE"),goog.dom.TagName.BODY=new goog.dom.TagName("BODY"),goog.dom.TagName.BR=new goog.dom.TagName("BR"),goog.dom.TagName.BUTTON=new goog.dom.TagName("BUTTON"),goog.dom.TagName.CANVAS=new goog.dom.TagName("CANVAS"),goog.dom.TagName.CAPTION=new goog.dom.TagName("CAPTION"),goog.dom.TagName.CENTER=new goog.dom.TagName("CENTER"),goog.dom.TagName.CITE=new goog.dom.TagName("CITE"),goog.dom.TagName.CODE=new goog.dom.TagName("CODE"),goog.dom.TagName.COL=new goog.dom.TagName("COL"),goog.dom.TagName.COLGROUP=new goog.dom.TagName("COLGROUP"),goog.dom.TagName.COMMAND=new goog.dom.TagName("COMMAND"),goog.dom.TagName.DATA=new goog.dom.TagName("DATA"),goog.dom.TagName.DATALIST=new goog.dom.TagName("DATALIST"),goog.dom.TagName.DD=new goog.dom.TagName("DD"),goog.dom.TagName.DEL=new goog.dom.TagName("DEL"),goog.dom.TagName.DETAILS=new goog.dom.TagName("DETAILS"),goog.dom.TagName.DFN=new goog.dom.TagName("DFN"),goog.dom.TagName.DIALOG=new goog.dom.TagName("DIALOG"),goog.dom.TagName.DIR=new goog.dom.TagName("DIR"),goog.dom.TagName.DIV=new goog.dom.TagName("DIV"),goog.dom.TagName.DL=new goog.dom.TagName("DL"),goog.dom.TagName.DT=new goog.dom.TagName("DT"),goog.dom.TagName.EM=new goog.dom.TagName("EM"),goog.dom.TagName.EMBED=new goog.dom.TagName("EMBED"),goog.dom.TagName.FIELDSET=new goog.dom.TagName("FIELDSET"),goog.dom.TagName.FIGCAPTION=new goog.dom.TagName("FIGCAPTION"),goog.dom.TagName.FIGURE=new goog.dom.TagName("FIGURE"),goog.dom.TagName.FONT=new goog.dom.TagName("FONT"),goog.dom.TagName.FOOTER=new goog.dom.TagName("FOOTER"),goog.dom.TagName.FORM=new goog.dom.TagName("FORM"),goog.dom.TagName.FRAME=new goog.dom.TagName("FRAME"),goog.dom.TagName.FRAMESET=new goog.dom.TagName("FRAMESET"),goog.dom.TagName.H1=new goog.dom.TagName("H1"),goog.dom.TagName.H2=new goog.dom.TagName("H2"),goog.dom.TagName.H3=new goog.dom.TagName("H3"),goog.dom.TagName.H4=new goog.dom.TagName("H4"),goog.dom.TagName.H5=new goog.dom.TagName("H5"),goog.dom.TagName.H6=new goog.dom.TagName("H6"),goog.dom.TagName.HEAD=new goog.dom.TagName("HEAD"),goog.dom.TagName.HEADER=new goog.dom.TagName("HEADER"),goog.dom.TagName.HGROUP=new goog.dom.TagName("HGROUP"),goog.dom.TagName.HR=new goog.dom.TagName("HR"),goog.dom.TagName.HTML=new goog.dom.TagName("HTML"),goog.dom.TagName.I=new goog.dom.TagName("I"),goog.dom.TagName.IFRAME=new goog.dom.TagName("IFRAME"),goog.dom.TagName.IMG=new goog.dom.TagName("IMG"),goog.dom.TagName.INPUT=new goog.dom.TagName("INPUT"),goog.dom.TagName.INS=new goog.dom.TagName("INS"),goog.dom.TagName.ISINDEX=new goog.dom.TagName("ISINDEX"),goog.dom.TagName.KBD=new goog.dom.TagName("KBD"),goog.dom.TagName.KEYGEN=new goog.dom.TagName("KEYGEN"),goog.dom.TagName.LABEL=new goog.dom.TagName("LABEL"),goog.dom.TagName.LEGEND=new goog.dom.TagName("LEGEND"),goog.dom.TagName.LI=new goog.dom.TagName("LI"),goog.dom.TagName.LINK=new goog.dom.TagName("LINK"),goog.dom.TagName.MAIN=new goog.dom.TagName("MAIN"),goog.dom.TagName.MAP=new goog.dom.TagName("MAP"),goog.dom.TagName.MARK=new goog.dom.TagName("MARK"),goog.dom.TagName.MATH=new goog.dom.TagName("MATH"),goog.dom.TagName.MENU=new goog.dom.TagName("MENU"),goog.dom.TagName.MENUITEM=new goog.dom.TagName("MENUITEM"),goog.dom.TagName.META=new goog.dom.TagName("META"),goog.dom.TagName.METER=new goog.dom.TagName("METER"),goog.dom.TagName.NAV=new goog.dom.TagName("NAV"),goog.dom.TagName.NOFRAMES=new goog.dom.TagName("NOFRAMES"),goog.dom.TagName.NOSCRIPT=new goog.dom.TagName("NOSCRIPT"),goog.dom.TagName.OBJECT=new goog.dom.TagName("OBJECT"),goog.dom.TagName.OL=new goog.dom.TagName("OL"),goog.dom.TagName.OPTGROUP=new goog.dom.TagName("OPTGROUP"),goog.dom.TagName.OPTION=new goog.dom.TagName("OPTION"),goog.dom.TagName.OUTPUT=new goog.dom.TagName("OUTPUT"),goog.dom.TagName.P=new goog.dom.TagName("P"),goog.dom.TagName.PARAM=new goog.dom.TagName("PARAM"),goog.dom.TagName.PICTURE=new goog.dom.TagName("PICTURE"),goog.dom.TagName.PRE=new goog.dom.TagName("PRE"),goog.dom.TagName.PROGRESS=new goog.dom.TagName("PROGRESS"),goog.dom.TagName.Q=new goog.dom.TagName("Q"),goog.dom.TagName.RP=new goog.dom.TagName("RP"),goog.dom.TagName.RT=new goog.dom.TagName("RT"),goog.dom.TagName.RTC=new goog.dom.TagName("RTC"),goog.dom.TagName.RUBY=new goog.dom.TagName("RUBY"),goog.dom.TagName.S=new goog.dom.TagName("S"),goog.dom.TagName.SAMP=new goog.dom.TagName("SAMP"),goog.dom.TagName.SCRIPT=new goog.dom.TagName("SCRIPT"),goog.dom.TagName.SECTION=new goog.dom.TagName("SECTION"),goog.dom.TagName.SELECT=new goog.dom.TagName("SELECT"),goog.dom.TagName.SMALL=new goog.dom.TagName("SMALL"),goog.dom.TagName.SOURCE=new goog.dom.TagName("SOURCE"),goog.dom.TagName.SPAN=new goog.dom.TagName("SPAN"),goog.dom.TagName.STRIKE=new goog.dom.TagName("STRIKE"),goog.dom.TagName.STRONG=new goog.dom.TagName("STRONG"),goog.dom.TagName.STYLE=new goog.dom.TagName("STYLE"),goog.dom.TagName.SUB=new goog.dom.TagName("SUB"),goog.dom.TagName.SUMMARY=new goog.dom.TagName("SUMMARY"),goog.dom.TagName.SUP=new goog.dom.TagName("SUP"),goog.dom.TagName.SVG=new goog.dom.TagName("SVG"),goog.dom.TagName.TABLE=new goog.dom.TagName("TABLE"),goog.dom.TagName.TBODY=new goog.dom.TagName("TBODY"),goog.dom.TagName.TD=new goog.dom.TagName("TD"),goog.dom.TagName.TEMPLATE=new goog.dom.TagName("TEMPLATE"),goog.dom.TagName.TEXTAREA=new goog.dom.TagName("TEXTAREA"),goog.dom.TagName.TFOOT=new goog.dom.TagName("TFOOT"),goog.dom.TagName.TH=new goog.dom.TagName("TH"),goog.dom.TagName.THEAD=new goog.dom.TagName("THEAD"),goog.dom.TagName.TIME=new goog.dom.TagName("TIME"),goog.dom.TagName.TITLE=new goog.dom.TagName("TITLE"),goog.dom.TagName.TR=new goog.dom.TagName("TR"),goog.dom.TagName.TRACK=new goog.dom.TagName("TRACK"),goog.dom.TagName.TT=new goog.dom.TagName("TT"),goog.dom.TagName.U=new goog.dom.TagName("U"),goog.dom.TagName.UL=new goog.dom.TagName("UL"),goog.dom.TagName.VAR=new goog.dom.TagName("VAR"),goog.dom.TagName.VIDEO=new goog.dom.TagName("VIDEO"),goog.dom.TagName.WBR=new goog.dom.TagName("WBR"),goog.dom.tags={},goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},goog.dom.tags.isVoidTag=function(t){return goog.dom.tags.VOID_TAGS_[t]===!0},goog.html={},goog.html.trustedtypes={},goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#html"):null,goog.string={},goog.string.TypedString=function(){},goog.string.Const=function(t,e){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=t===goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&&e||"",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.DEBUG&&(goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"}),goog.string.Const.unwrap=function(t){return t instanceof goog.string.Const&&t.constructor===goog.string.Const&&t.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?t.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+t+"'"),"type_error:Const")},goog.string.Const.from=function(t){return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_,t)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.Const.EMPTY=goog.string.Const.from(""),goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0,goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeScript.fromConstant=function(t){return(t=goog.string.Const.unwrap(t)).length===0?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeScript.fromConstantAndArgs=function(t,e){for(var r=[],n=1;n<arguments.length;n++)r.push(goog.html.SafeScript.stringify_(arguments[n]));return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("("+goog.string.Const.unwrap(t)+")("+r.join(", ")+");")},goog.html.SafeScript.fromJson=function(t){return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(goog.html.SafeScript.stringify_(t))},goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"}),goog.html.SafeScript.unwrap=function(t){return goog.html.SafeScript.unwrapTrustedScript(t).toString()},goog.html.SafeScript.unwrapTrustedScript=function(t){return t instanceof goog.html.SafeScript&&t.constructor===goog.html.SafeScript&&t.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?t.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail("expected object of type SafeScript, got '"+t+"' of type "+goog.typeOf(t)),"type_error:SafeScript")},goog.html.SafeScript.stringify_=function(t){return JSON.stringify(t).replace(/</g,"\\x3c")},goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(t){return new goog.html.SafeScript().initSecurityPrivateDoNotAccessOrElse_(t)},goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(t){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScript(t):t,this},goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(""),goog.fs={},goog.fs.url={},goog.fs.url.createObjectUrl=function(t){return goog.fs.url.getUrlObject_().createObjectURL(t)},goog.fs.url.revokeObjectUrl=function(t){goog.fs.url.getUrlObject_().revokeObjectURL(t)},goog.fs.url.UrlObject_=function(){},goog.fs.url.UrlObject_.prototype.createObjectURL=function(t){},goog.fs.url.UrlObject_.prototype.revokeObjectURL=function(t){},goog.fs.url.getUrlObject_=function(){var t=goog.fs.url.findUrlObject_();if(t!=null)return t;throw Error("This browser doesn't seem to support blob URLs")},goog.fs.url.findUrlObject_=function(){return goog.global.URL!==void 0&&goog.global.URL.createObjectURL!==void 0?goog.global.URL:goog.global.webkitURL!==void 0&&goog.global.webkitURL.createObjectURL!==void 0?goog.global.webkitURL:goog.global.createObjectURL!==void 0?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return goog.fs.url.findUrlObject_()!=null},goog.fs.blob={},goog.fs.blob.getBlob=function(t){var e=goog.global.BlobBuilder||goog.global.WebKitBlobBuilder;if(e!==void 0){e=new e;for(var r=0;r<arguments.length;r++)e.append(arguments[r]);return e.getBlob()}return goog.fs.blob.getBlobWithProperties(goog.array.toArray(arguments))},goog.fs.blob.getBlobWithProperties=function(t,e,r){var n=goog.global.BlobBuilder||goog.global.WebKitBlobBuilder;if(n!==void 0){n=new n;for(var o=0;o<t.length;o++)n.append(t[o],r);return n.getBlob(e)}if(goog.global.Blob!==void 0)return n={},e&&(n.type=e),r&&(n.endings=r),new Blob(t,n);throw Error("This browser doesn't seem to support creating Blobs")},goog.i18n={},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||(goog.LOCALE.substring(0,2).toLowerCase()=="ar"||goog.LOCALE.substring(0,2).toLowerCase()=="fa"||goog.LOCALE.substring(0,2).toLowerCase()=="he"||goog.LOCALE.substring(0,2).toLowerCase()=="iw"||goog.LOCALE.substring(0,2).toLowerCase()=="ps"||goog.LOCALE.substring(0,2).toLowerCase()=="sd"||goog.LOCALE.substring(0,2).toLowerCase()=="ug"||goog.LOCALE.substring(0,2).toLowerCase()=="ur"||goog.LOCALE.substring(0,2).toLowerCase()=="yi")&&(goog.LOCALE.length==2||goog.LOCALE.substring(2,3)=="-"||goog.LOCALE.substring(2,3)=="_")||3<=goog.LOCALE.length&&goog.LOCALE.substring(0,3).toLowerCase()=="ckb"&&(goog.LOCALE.length==3||goog.LOCALE.substring(3,4)=="-"||goog.LOCALE.substring(3,4)=="_")||7<=goog.LOCALE.length&&(goog.LOCALE.substring(2,3)=="-"||goog.LOCALE.substring(2,3)=="_")&&(goog.LOCALE.substring(3,7).toLowerCase()=="adlm"||goog.LOCALE.substring(3,7).toLowerCase()=="arab"||goog.LOCALE.substring(3,7).toLowerCase()=="hebr"||goog.LOCALE.substring(3,7).toLowerCase()=="nkoo"||goog.LOCALE.substring(3,7).toLowerCase()=="rohg"||goog.LOCALE.substring(3,7).toLowerCase()=="thaa")||8<=goog.LOCALE.length&&(goog.LOCALE.substring(3,4)=="-"||goog.LOCALE.substring(3,4)=="_")&&(goog.LOCALE.substring(4,8).toLowerCase()=="adlm"||goog.LOCALE.substring(4,8).toLowerCase()=="arab"||goog.LOCALE.substring(4,8).toLowerCase()=="hebr"||goog.LOCALE.substring(4,8).toLowerCase()=="nkoo"||goog.LOCALE.substring(4,8).toLowerCase()=="rohg"||goog.LOCALE.substring(4,8).toLowerCase()=="thaa"),goog.i18n.bidi.Format={LRE:"\u202A",RLE:"\u202B",PDF:"\u202C",LRM:"\u200E",RLM:"\u200F"},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(t,e){return typeof t=="number"?0<t?goog.i18n.bidi.Dir.LTR:0>t?goog.i18n.bidi.Dir.RTL:e?null:goog.i18n.bidi.Dir.NEUTRAL:t==null?null:t?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u0300-\u0590\u0900-\u1FFF\u200E\u2C00-\uD801\uD804-\uD839\uD83C-\uDBFF\uF900-\uFB1C\uFE00-\uFE6F\uFEFD-\uFFFF",goog.i18n.bidi.rtlChars_="\u0591-\u06EF\u06FA-\u08FF\u200F\uD802-\uD803\uD83A-\uD83B\uFB1D-\uFDFF\uFE70-\uFEFC",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(t,e){return e?t.replace(goog.i18n.bidi.htmlSkipReg_,""):t},goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(t,e){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(t,e))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(t,e){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(t,e))},goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(t){return goog.i18n.bidi.rtlRe_.test(t)},goog.i18n.bidi.isLtrChar=function(t){return goog.i18n.bidi.ltrRe_.test(t)},goog.i18n.bidi.isNeutralChar=function(t){return!goog.i18n.bidi.isLtrChar(t)&&!goog.i18n.bidi.isRtlChar(t)},goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(t,e){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(t,e))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(t,e){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(t,e))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(t,e){return t=goog.i18n.bidi.stripHtmlIfNeeded_(t,e),goog.i18n.bidi.isRequiredLtrRe_.test(t)||!goog.i18n.bidi.hasAnyLtr(t)&&!goog.i18n.bidi.hasAnyRtl(t)},goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(t,e){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(t,e))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(t,e){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(t,e))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,goog.i18n.bidi.isRtlLanguage=function(t){return goog.i18n.bidi.rtlLocalesRe_.test(t)},goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInText=function(t,e){return e=(e===void 0?goog.i18n.bidi.hasAnyRtl(t):e)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM,t.replace(goog.i18n.bidi.bracketGuardTextRe_,e+"$&"+e)},goog.i18n.bidi.enforceRtlInHtml=function(t){return t.charAt(0)=="<"?t.replace(/<\w+/,"$& dir=rtl"):`
<span dir=rtl>`+t+"</span>"},goog.i18n.bidi.enforceRtlInText=function(t){return goog.i18n.bidi.Format.RLE+t+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(t){return t.charAt(0)=="<"?t.replace(/<\w+/,"$& dir=ltr"):`
<span dir=ltr>`+t+"</span>"},goog.i18n.bidi.enforceLtrInText=function(t){return goog.i18n.bidi.Format.LRE+t+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(t){return t.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(t){return t.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1\u05F4").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1\u05F3")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(t,e){var r=0,n=0,o=!1;for(t=goog.i18n.bidi.stripHtmlIfNeeded_(t,e).split(goog.i18n.bidi.wordSeparatorRe_),e=0;e<t.length;e++){var s=t[e];goog.i18n.bidi.startsWithRtl(s)?(r++,n++):goog.i18n.bidi.isRequiredLtrRe_.test(s)?o=!0:goog.i18n.bidi.hasAnyLtr(s)?n++:goog.i18n.bidi.hasNumeralsRe_.test(s)&&(o=!0)}return n==0?o?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:r/n>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(t,e){return goog.i18n.bidi.estimateDirection(t,e)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(t,e){t&&(e=goog.i18n.bidi.toDir(e))&&(t.style.textAlign=e==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,t.dir=e==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.bidi.setElementDirByTextDirectionality=function(t,e){switch(goog.i18n.bidi.estimateDirection(e)){case goog.i18n.bidi.Dir.LTR:t.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:t.dir="rtl";break;default:t.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.html.TrustedResourceUrl=function(t,e){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=t===goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_&&e||"",this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(t,e){var r=goog.html.TrustedResourceUrl.unwrap(this),n=(r=goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(r))[3]||"";return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(r[1]+goog.html.TrustedResourceUrl.stringifyParams_("?",r[2]||"",t)+goog.html.TrustedResourceUrl.stringifyParams_("#",n,e))},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"}),goog.html.TrustedResourceUrl.unwrap=function(t){return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t).toString()},goog.html.TrustedResourceUrl.unwrapTrustedScriptURL=function(t){return t instanceof goog.html.TrustedResourceUrl&&t.constructor===goog.html.TrustedResourceUrl&&t.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?t.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+t+"' of type "+goog.typeOf(t)),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.format=function(t,e){var r=goog.string.Const.unwrap(t);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(r))throw Error("Invalid TrustedResourceUrl format: "+r);return t=r.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,function(n,o){if(!Object.prototype.hasOwnProperty.call(e,o))throw Error('Found marker, "'+o+'", in format string, "'+r+'", but no valid label mapping found in args: '+JSON.stringify(e));return(n=e[o])instanceof goog.string.Const?goog.string.Const.unwrap(n):encodeURIComponent(String(n))}),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g,goog.html.TrustedResourceUrl.BASE_URL_=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,goog.html.TrustedResourceUrl.URL_PARAM_PARSER_=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,goog.html.TrustedResourceUrl.formatWithParams=function(t,e,r,n){return goog.html.TrustedResourceUrl.format(t,e).cloneWithParams(r,n)},goog.html.TrustedResourceUrl.fromConstant=function(t){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(t))},goog.html.TrustedResourceUrl.fromConstants=function(t){for(var e="",r=0;r<t.length;r++)e+=goog.string.Const.unwrap(t[r]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.TrustedResourceUrl.fromSafeScript=function(t){return t=goog.fs.blob.getBlobWithProperties([goog.html.SafeScript.unwrap(t)],"text/javascript"),t=goog.fs.url.createObjectUrl(t),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(t){return t=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScriptURL(t):t,new goog.html.TrustedResourceUrl(goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_,t)},goog.html.TrustedResourceUrl.stringifyParams_=function(t,e,r){if(r==null)return e;if(typeof r=="string")return r?t+encodeURIComponent(r):"";for(var n in r){var o=r[n];o=Array.isArray(o)?o:[o];for(var s=0;s<o.length;s++){var c=o[s];c!=null&&(e||(e=t),e+=(e.length>t.length?"&":"")+encodeURIComponent(n)+"="+encodeURIComponent(String(c)))}}return e},goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.internal={},goog.string.internal.startsWith=function(t,e){return t.lastIndexOf(e,0)==0},goog.string.internal.endsWith=function(t,e){var r=t.length-e.length;return 0<=r&&t.indexOf(e,r)==r},goog.string.internal.caseInsensitiveStartsWith=function(t,e){return goog.string.internal.caseInsensitiveCompare(e,t.substr(0,e.length))==0},goog.string.internal.caseInsensitiveEndsWith=function(t,e){return goog.string.internal.caseInsensitiveCompare(e,t.substr(t.length-e.length,e.length))==0},goog.string.internal.caseInsensitiveEquals=function(t,e){return t.toLowerCase()==e.toLowerCase()},goog.string.internal.isEmptyOrWhitespace=function(t){return/^[\s\xa0]*$/.test(t)},goog.string.internal.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},goog.string.internal.caseInsensitiveCompare=function(t,e){return(t=String(t).toLowerCase())<(e=String(e).toLowerCase())?-1:t==e?0:1},goog.string.internal.newLineToBr=function(t,e){return t.replace(/(\r\n|\r|\n)/g,e?"<br />":"<br>")},goog.string.internal.htmlEscape=function(t,e){if(e)t=t.replace(goog.string.internal.AMP_RE_,"&amp;").replace(goog.string.internal.LT_RE_,"&lt;").replace(goog.string.internal.GT_RE_,"&gt;").replace(goog.string.internal.QUOT_RE_,"&quot;").replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.internal.NULL_RE_,"&#0;");else{if(!goog.string.internal.ALL_RE_.test(t))return t;t.indexOf("&")!=-1&&(t=t.replace(goog.string.internal.AMP_RE_,"&amp;")),t.indexOf("<")!=-1&&(t=t.replace(goog.string.internal.LT_RE_,"&lt;")),t.indexOf(">")!=-1&&(t=t.replace(goog.string.internal.GT_RE_,"&gt;")),t.indexOf('"')!=-1&&(t=t.replace(goog.string.internal.QUOT_RE_,"&quot;")),t.indexOf("'")!=-1&&(t=t.replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;")),t.indexOf("\0")!=-1&&(t=t.replace(goog.string.internal.NULL_RE_,"&#0;"))}return t},goog.string.internal.AMP_RE_=/&/g,goog.string.internal.LT_RE_=/</g,goog.string.internal.GT_RE_=/>/g,goog.string.internal.QUOT_RE_=/"/g,goog.string.internal.SINGLE_QUOTE_RE_=/'/g,goog.string.internal.NULL_RE_=/\x00/g,goog.string.internal.ALL_RE_=/[\x00&<>"']/,goog.string.internal.whitespaceEscape=function(t,e){return goog.string.internal.newLineToBr(t.replace(/  /g," &#160;"),e)},goog.string.internal.contains=function(t,e){return t.indexOf(e)!=-1},goog.string.internal.caseInsensitiveContains=function(t,e){return goog.string.internal.contains(t.toLowerCase(),e.toLowerCase())},goog.string.internal.compareVersions=function(t,e){var r=0;t=goog.string.internal.trim(String(t)).split("."),e=goog.string.internal.trim(String(e)).split(".");for(var n=Math.max(t.length,e.length),o=0;r==0&&o<n;o++){var s=t[o]||"",c=e[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],s[0].length==0&&c[0].length==0)break;r=s[1].length==0?0:parseInt(s[1],10);var d=c[1].length==0?0:parseInt(c[1],10);r=goog.string.internal.compareElements_(r,d)||goog.string.internal.compareElements_(s[2].length==0,c[2].length==0)||goog.string.internal.compareElements_(s[2],c[2]),s=s[3],c=c[3]}while(r==0)}return r},goog.string.internal.compareElements_=function(t,e){return t<e?-1:t>e?1:0},goog.html.SafeUrl=function(t,e){this.privateDoNotAccessOrElseSafeUrlWrappedValue_=t===goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_&&e||"",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeUrlWrappedValue_+"}"}),goog.html.SafeUrl.unwrap=function(t){return t instanceof goog.html.SafeUrl&&t.constructor===goog.html.SafeUrl&&t.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?t.privateDoNotAccessOrElseSafeUrlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+t+"' of type "+goog.typeOf(t)),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(t){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(t))},goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,goog.html.SafeUrl.isSafeMimeType=function(t){return goog.html.SAFE_MIME_TYPE_PATTERN_.test(t)},goog.html.SafeUrl.fromBlob=function(t){return t=goog.html.SafeUrl.isSafeMimeType(t.type)?goog.fs.url.createObjectUrl(t):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.fromMediaSource=function(t){return goog.asserts.assert("MediaSource"in goog.global,"No support for MediaSource"),t=t instanceof MediaSource?goog.fs.url.createObjectUrl(t):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.DATA_URL_PATTERN_=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,goog.html.SafeUrl.fromDataUrl=function(t){var e=(t=t.replace(/(%0A|%0D)/g,"")).match(goog.html.DATA_URL_PATTERN_);return e=e&&goog.html.SafeUrl.isSafeMimeType(e[1]),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e?t:goog.html.SafeUrl.INNOCUOUS_STRING)},goog.html.SafeUrl.fromTelUrl=function(t){return goog.string.internal.caseInsensitiveStartsWith(t,"tel:")||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SIP_URL_PATTERN_=/^sip[s]?:[+a-z0-9_.!$%&'*\/=^`{|}~-]+@([a-z0-9-]+\.)+[a-z0-9]{2,63}$/i,goog.html.SafeUrl.fromSipUrl=function(t){return goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(t))||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.fromFacebookMessengerUrl=function(t){return goog.string.internal.caseInsensitiveStartsWith(t,"fb-messenger://share")||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.fromWhatsAppUrl=function(t){return goog.string.internal.caseInsensitiveStartsWith(t,"whatsapp://send")||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.fromSmsUrl=function(t){return goog.string.internal.caseInsensitiveStartsWith(t,"sms:")&&goog.html.SafeUrl.isSmsUrlBodyValid_(t)||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.isSmsUrlBodyValid_=function(t){var e=t.indexOf("#");if(0<e&&(t=t.substring(0,e)),!(e=t.match(/[?&]body=/gi)))return!0;if(1<e.length)return!1;if(!(t=t.match(/[?&]body=([^&]*)/)[1]))return!0;try{decodeURIComponent(t)}catch{return!1}return/^(?:[a-z0-9\-_.~]|%[0-9a-f]{2})+$/i.test(t)},goog.html.SafeUrl.fromSshUrl=function(t){return goog.string.internal.caseInsensitiveStartsWith(t,"ssh://")||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.sanitizeChromeExtensionUrl=function(t,e){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\/\/([^\/]+)\//,t,e)},goog.html.SafeUrl.sanitizeFirefoxExtensionUrl=function(t,e){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\/\/([^\/]+)\//,t,e)},goog.html.SafeUrl.sanitizeEdgeExtensionUrl=function(t,e){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\/\/([^\/]+)\//,t,e)},goog.html.SafeUrl.sanitizeExtensionUrl_=function(t,e,r){return(t=t.exec(e))?(t=t[1],(r instanceof goog.string.Const?[goog.string.Const.unwrap(r)]:r.map(function(n){return goog.string.Const.unwrap(n)})).indexOf(t)==-1&&(e=goog.html.SafeUrl.INNOCUOUS_STRING)):e=goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromTrustedResourceUrl=function(t){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(t))},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,goog.html.SafeUrl.SAFE_URL_PATTERN=goog.html.SAFE_URL_PATTERN_,goog.html.SafeUrl.sanitize=function(t){return t instanceof goog.html.SafeUrl?t:(t=typeof t=="object"&&t.implementsGoogStringTypedString?t.getTypedStringValue():String(t),goog.html.SAFE_URL_PATTERN_.test(t)||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t))},goog.html.SafeUrl.sanitizeAssertUnchanged=function(t,e){return t instanceof goog.html.SafeUrl?t:(t=typeof t=="object"&&t.implementsGoogStringTypedString?t.getTypedStringValue():String(t),e&&/^data:/i.test(t)&&(e=goog.html.SafeUrl.fromDataUrl(t)).getTypedStringValue()==t?e:(goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(t),"%s does not match the safe URL pattern",t)||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)))},goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(t){return new goog.html.SafeUrl(goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_,t)},goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank"),goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_={},goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyle.fromConstant=function(t){return(t=goog.string.Const.unwrap(t)).length===0?goog.html.SafeStyle.EMPTY:(goog.asserts.assert(goog.string.internal.endsWith(t,";"),"Last character of style string is not ';': "+t),goog.asserts.assert(goog.string.internal.contains(t,":"),`Style string must contain at least one ':', to specify a "name: value" pair: `+t),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t))},goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"}),goog.html.SafeStyle.unwrap=function(t){return t instanceof goog.html.SafeStyle&&t.constructor===goog.html.SafeStyle&&t.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?t.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+t+"' of type "+goog.typeOf(t)),"type_error:SafeStyle")},goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(t){return new goog.html.SafeStyle().initSecurityPrivateDoNotAccessOrElse_(t)},goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(t){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=t,this},goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez",goog.html.SafeStyle.create=function(t){var e,r="";for(e in t){if(!/^[-_a-zA-Z0-9]+$/.test(e))throw Error("Name allows only [-_a-zA-Z0-9], got: "+e);var n=t[e];n!=null&&(r+=e+":"+(n=Array.isArray(n)?goog.array.map(n,goog.html.SafeStyle.sanitizePropertyValue_).join(" "):goog.html.SafeStyle.sanitizePropertyValue_(n))+";")}return r?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(r):goog.html.SafeStyle.EMPTY},goog.html.SafeStyle.sanitizePropertyValue_=function(t){if(t instanceof goog.html.SafeUrl)return'url("'+goog.html.SafeUrl.unwrap(t).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(t=t instanceof goog.string.Const?goog.string.Const.unwrap(t):goog.html.SafeStyle.sanitizePropertyValueString_(String(t)),/[{;}]/.test(t))throw new goog.asserts.AssertionError("Value does not allow [{;}], got: %s.",[t]);return t},goog.html.SafeStyle.sanitizePropertyValueString_=function(t){var e=t.replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.URL_RE_,"url");return goog.html.SafeStyle.VALUE_RE_.test(e)?goog.html.SafeStyle.COMMENT_RE_.test(t)?(goog.asserts.fail("String value disallows comments, got: "+t),goog.html.SafeStyle.INNOCUOUS_STRING):goog.html.SafeStyle.hasBalancedQuotes_(t)?goog.html.SafeStyle.hasBalancedSquareBrackets_(t)?goog.html.SafeStyle.sanitizeUrl_(t):(goog.asserts.fail("String value requires balanced square brackets and one identifier per pair of brackets, got: "+t),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value requires balanced quotes, got: "+t),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only "+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+" and simple functions, got: "+t),goog.html.SafeStyle.INNOCUOUS_STRING)},goog.html.SafeStyle.hasBalancedQuotes_=function(t){for(var e=!0,r=!0,n=0;n<t.length;n++){var o=t.charAt(n);o=="'"&&r?e=!e:o=='"'&&e&&(r=!r)}return e&&r},goog.html.SafeStyle.hasBalancedSquareBrackets_=function(t){for(var e=!0,r=/^[-_a-zA-Z0-9]$/,n=0;n<t.length;n++){var o=t.charAt(n);if(o=="]"){if(e)return!1;e=!0}else if(o=="["){if(!e)return!1;e=!1}else if(!e&&!r.test(o))return!1}return e},goog.html.SafeStyle.VALUE_ALLOWED_CHARS_=`[-,."'%_!# a-zA-Z0-9\\[\\]]`,goog.html.SafeStyle.VALUE_RE_=new RegExp("^"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+"+$"),goog.html.SafeStyle.URL_RE_=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,goog.html.SafeStyle.ALLOWED_FUNCTIONS_="calc cubic-bezier fit-content hsl hsla linear-gradient matrix minmax repeat rgb rgba (rotate|scale|translate)(X|Y|Z|3d)?".split(" "),goog.html.SafeStyle.FUNCTIONS_RE_=new RegExp("\\b("+goog.html.SafeStyle.ALLOWED_FUNCTIONS_.join("|")+")\\([-+*/0-9a-z.%\\[\\], ]+\\)","g"),goog.html.SafeStyle.COMMENT_RE_=/\/\*/,goog.html.SafeStyle.sanitizeUrl_=function(t){return t.replace(goog.html.SafeStyle.URL_RE_,function(e,r,n,o){var s="";return n=n.replace(/^(['"])(.*)\1$/,function(c,d,u){return s=d,u}),e=goog.html.SafeUrl.sanitize(n).getTypedStringValue(),r+s+e+s+o})},goog.html.SafeStyle.concat=function(t){var e="",r=function(n){Array.isArray(n)?goog.array.forEach(n,r):e+=goog.html.SafeStyle.unwrap(n)};return goog.array.forEach(arguments,r),e?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e):goog.html.SafeStyle.EMPTY},goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyleSheet.createRule=function(t,e){if(goog.string.internal.contains(t,"<"))throw Error("Selector does not allow '<', got: "+t);var r=t.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(r))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+t);if(!goog.html.SafeStyleSheet.hasBalancedBrackets_(r))throw Error("() and [] in selector must be balanced, got: "+t);return e instanceof goog.html.SafeStyle||(e=goog.html.SafeStyle.create(e)),t=t+"{"+goog.html.SafeStyle.unwrap(e).replace(/</g,"\\3C ")+"}",goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeStyleSheet.hasBalancedBrackets_=function(t){for(var e={"(":")","[":"]"},r=[],n=0;n<t.length;n++){var o=t[n];if(e[o])r.push(e[o]);else if(goog.object.contains(e,o)&&r.pop()!=o)return!1}return r.length==0},goog.html.SafeStyleSheet.concat=function(t){var e="",r=function(n){Array.isArray(n)?goog.array.forEach(n,r):e+=goog.html.SafeStyleSheet.unwrap(n)};return goog.array.forEach(arguments,r),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeStyleSheet.fromConstant=function(t){return(t=goog.string.Const.unwrap(t)).length===0?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.internal.contains(t,"<"),"Forbidden '<' character in style sheet string: "+t),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t))},goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"}),goog.html.SafeStyleSheet.unwrap=function(t){return t instanceof goog.html.SafeStyleSheet&&t.constructor===goog.html.SafeStyleSheet&&t.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?t.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+t+"' of type "+goog.typeOf(t)),"type_error:SafeStyleSheet")},goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(t){return new goog.html.SafeStyleSheet().initSecurityPrivateDoNotAccessOrElse_(t)},goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(t){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=t,this},goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var t=goog.labs.userAgent.util.getNavigator_();return t&&(t=t.userAgent)?t:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(t){goog.labs.userAgent.util.userAgent_=t||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(t){var e=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.contains(e,t)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(t){var e=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.caseInsensitiveContains(e,t)},goog.labs.userAgent.util.extractVersionTuples=function(t){for(var e,r=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,n=[];e=r.exec(t);)n.push([e[1],e[2],e[3]||void 0]);return n},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdgeHtml_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchEdgeChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("Edg/")},goog.labs.userAgent.browser.matchOperaChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")||goog.labs.userAgent.util.matchUserAgent("FxiOS")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdgeHtml_()||goog.labs.userAgent.browser.matchEdgeChromium_()||goog.labs.userAgent.browser.matchOperaChromium_()||goog.labs.userAgent.browser.matchFirefox_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&!goog.labs.userAgent.browser.matchFirefox_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdgeHtml_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdgeHtml_,goog.labs.userAgent.browser.isEdgeChromium=goog.labs.userAgent.browser.matchEdgeChromium_,goog.labs.userAgent.browser.isOperaChromium=goog.labs.userAgent.browser.matchOperaChromium_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function t(o){return o=goog.array.find(o,n),r[o]||""}var e=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(e);e=goog.labs.userAgent.util.extractVersionTuples(e);var r={};goog.array.forEach(e,function(o){r[o[0]]=o[1]});var n=goog.partial(goog.object.containsKey,r);return goog.labs.userAgent.browser.isOpera()?t(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?t(["Edge"]):goog.labs.userAgent.browser.isEdgeChromium()?t(["Edg"]):goog.labs.userAgent.browser.isChrome()?t(["Chrome","CriOS","HeadlessChrome"]):(e=e[2])&&e[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(t){return 0<=goog.string.internal.compareVersions(goog.labs.userAgent.browser.getVersion(),t)},goog.labs.userAgent.browser.getIEVersion_=function(t){var e=/rv: *([\d\.]*)/.exec(t);if(e&&e[1])return e[1];e="";var r=/MSIE +([\d\.]+)/.exec(t);if(r&&r[1])if(t=/Trident\/(\d.\d)/.exec(t),r[1]=="7.0")if(t&&t[1])switch(t[1]){case"4.0":e="8.0";break;case"5.0":e="9.0";break;case"6.0":e="10.0";break;case"7.0":e="11.0"}else e="7.0";else e=r[1];return e},goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null},goog.html.SafeHtml.ENABLE_ERROR_MESSAGES=goog.DEBUG,goog.html.SafeHtml.SUPPORT_STYLE_ATTRIBUTE=!0,goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_},goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0,goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeHtml.unwrap=function(t){return goog.html.SafeHtml.unwrapTrustedHTML(t).toString()},goog.html.SafeHtml.unwrapTrustedHTML=function(t){return t instanceof goog.html.SafeHtml&&t.constructor===goog.html.SafeHtml&&t.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?t.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+t+"' of type "+goog.typeOf(t)),"type_error:SafeHtml")},goog.html.SafeHtml.htmlEscape=function(t){if(t instanceof goog.html.SafeHtml)return t;var e=typeof t=="object",r=null;return e&&t.implementsGoogI18nBidiDirectionalString&&(r=t.getDirection()),t=e&&t.implementsGoogStringTypedString?t.getTypedStringValue():String(t),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(t),r)},goog.html.SafeHtml.htmlEscapePreservingNewlines=function(t){return t instanceof goog.html.SafeHtml?t:(t=goog.html.SafeHtml.htmlEscape(t),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(goog.html.SafeHtml.unwrap(t)),t.getDirection()))},goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(t){return t instanceof goog.html.SafeHtml?t:(t=goog.html.SafeHtml.htmlEscape(t),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(goog.html.SafeHtml.unwrap(t)),t.getDirection()))},goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape,goog.html.SafeHtml.comment=function(t){return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!--"+goog.string.internal.htmlEscape(t)+"-->",null)},goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/,goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.html.SafeHtml.create=function(t,e,r){return goog.html.SafeHtml.verifyTagName(String(t)),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(t),e,r)},goog.html.SafeHtml.verifyTagName=function(t){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(t))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?"Invalid tag name <"+t+">.":"");if(t.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?"Tag name <"+t+"> is not allowed for SafeHtml.":"")},goog.html.SafeHtml.createIframe=function(t,e,r,n){t&&goog.html.TrustedResourceUrl.unwrap(t);var o={};return o.src=t||null,o.srcdoc=e&&goog.html.SafeHtml.unwrap(e),t=goog.html.SafeHtml.combineAttributes(o,{sandbox:""},r),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",t,n)},goog.html.SafeHtml.createSandboxIframe=function(t,e,r,n){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?"The browser does not support sandboxed iframes.":"");var o={};return o.src=t?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(t)):null,o.srcdoc=e||null,o.sandbox="",t=goog.html.SafeHtml.combineAttributes(o,{},r),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",t,n)},goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype},goog.html.SafeHtml.createScriptSrc=function(t,e){return goog.html.TrustedResourceUrl.unwrap(t),t=goog.html.SafeHtml.combineAttributes({src:t},{},e),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",t)},goog.html.SafeHtml.createScript=function(t,e){for(var r in e){var n=r.toLowerCase();if(n=="language"||n=="src"||n=="text"||n=="type")throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Cannot set "'+n+'" attribute':"")}for(r="",t=goog.array.concat(t),n=0;n<t.length;n++)r+=goog.html.SafeScript.unwrap(t[n]);return t=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",e,t)},goog.html.SafeHtml.createStyle=function(t,e){e=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},e);var r="";t=goog.array.concat(t);for(var n=0;n<t.length;n++)r+=goog.html.SafeStyleSheet.unwrap(t[n]);return t=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",e,t)},goog.html.SafeHtml.createMetaRefresh=function(t,e){return t=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(t)),(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.internal.contains(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(e||0)+"; url="+t})},goog.html.SafeHtml.getAttrNameAndValue_=function(t,e,r){if(r instanceof goog.string.Const)r=goog.string.Const.unwrap(r);else if(e.toLowerCase()=="style"){if(!goog.html.SafeHtml.SUPPORT_STYLE_ATTRIBUTE)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "style" not supported.':"");r=goog.html.SafeHtml.getStyleValue_(r)}else{if(/^on/i.test(e))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "'+e+'" requires goog.string.Const value, "'+r+'" given.':"");if(e.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(r instanceof goog.html.TrustedResourceUrl)r=goog.html.TrustedResourceUrl.unwrap(r);else if(r instanceof goog.html.SafeUrl)r=goog.html.SafeUrl.unwrap(r);else{if(typeof r!="string")throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "'+e+'" on tag "'+t+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+r+'" given.':"");r=goog.html.SafeUrl.sanitize(r).getTypedStringValue()}}return r.implementsGoogStringTypedString&&(r=r.getTypedStringValue()),goog.asserts.assert(typeof r=="string"||typeof r=="number","String or number value expected, got "+typeof r+" with value: "+r),e+'="'+goog.string.internal.htmlEscape(String(r))+'"'},goog.html.SafeHtml.getStyleValue_=function(t){if(!goog.isObject(t))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof t+" given: "+t:"");return t instanceof goog.html.SafeStyle||(t=goog.html.SafeStyle.create(t)),goog.html.SafeStyle.unwrap(t)},goog.html.SafeHtml.createWithDir=function(t,e,r,n){return(e=goog.html.SafeHtml.create(e,r,n)).dir_=t,e},goog.html.SafeHtml.join=function(t,e){var r=(t=goog.html.SafeHtml.htmlEscape(t)).getDirection(),n=[],o=function(s){Array.isArray(s)?goog.array.forEach(s,o):(s=goog.html.SafeHtml.htmlEscape(s),n.push(goog.html.SafeHtml.unwrap(s)),s=s.getDirection(),r==goog.i18n.bidi.Dir.NEUTRAL?r=s:s!=goog.i18n.bidi.Dir.NEUTRAL&&r!=s&&(r=null))};return goog.array.forEach(e,o),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(n.join(goog.html.SafeHtml.unwrap(t)),r)},goog.html.SafeHtml.concat=function(t){return goog.html.SafeHtml.join(goog.html.SafeHtml.EMPTY,Array.prototype.slice.call(arguments))},goog.html.SafeHtml.concatWithDir=function(t,e){var r=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return r.dir_=t,r},goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(t,e){return new goog.html.SafeHtml().initSecurityPrivateDoNotAccessOrElse_(t,e)},goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(t,e){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createHTML(t):t,this.dir_=e,this},goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(t,e,r){var n=null,o="<"+t+goog.html.SafeHtml.stringifyAttributes(t,e);return r==null?r=[]:Array.isArray(r)||(r=[r]),goog.dom.tags.isVoidTag(t.toLowerCase())?(goog.asserts.assert(!r.length,"Void tag <"+t+"> does not allow content."),o+=">"):(n=goog.html.SafeHtml.concat(r),o+=">"+goog.html.SafeHtml.unwrap(n)+"</"+t+">",n=n.getDirection()),(t=e&&e.dir)&&(n=/^(ltr|rtl|auto)$/i.test(t)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o,n)},goog.html.SafeHtml.stringifyAttributes=function(t,e){var r="";if(e)for(var n in e){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(n))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Invalid attribute name "'+n+'".':"");var o=e[n];o!=null&&(r+=" "+goog.html.SafeHtml.getAttrNameAndValue_(t,n,o))}return r},goog.html.SafeHtml.combineAttributes=function(t,e,r){var n,o={};for(n in t)goog.asserts.assert(n.toLowerCase()==n,"Must be lower case"),o[n]=t[n];for(n in e)goog.asserts.assert(n.toLowerCase()==n,"Must be lower case"),o[n]=e[n];if(r)for(n in r){var s=n.toLowerCase();if(s in t)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Cannot override "'+s+'" attribute, got "'+n+'" with value "'+r[n]+'"':"");s in e&&delete o[s],o[n]=r[n]}return o},goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.uncheckedconversions={},goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(t,e,r){return goog.asserts.assertString(goog.string.Const.unwrap(t),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(t)),"must provide non-empty justification"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(e,r||null)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(t,e){return goog.asserts.assertString(goog.string.Const.unwrap(t),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(t)),"must provide non-empty justification"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(e)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(t,e){return goog.asserts.assertString(goog.string.Const.unwrap(t),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(t)),"must provide non-empty justification"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(t,e){return goog.asserts.assertString(goog.string.Const.unwrap(t),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(t)),"must provide non-empty justification"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(t,e){return goog.asserts.assertString(goog.string.Const.unwrap(t),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(t)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(t,e){return goog.asserts.assertString(goog.string.Const.unwrap(t),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(t)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)},goog.dom.safe={},goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"},goog.dom.safe.insertAdjacentHtml=function(t,e,r){t.insertAdjacentHTML(e,goog.html.SafeHtml.unwrapTrustedHTML(r))},goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.dom.safe.isInnerHtmlCleanupRecursive_=goog.functions.cacheReturnValue(function(){if(goog.DEBUG&&typeof document>"u")return!1;var t=document.createElement("div"),e=document.createElement("div");return e.appendChild(document.createElement("div")),t.appendChild(e),!(goog.DEBUG&&!t.firstChild)&&(e=t.firstChild.firstChild,t.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(goog.html.SafeHtml.EMPTY),!e.parentElement)}),goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse=function(t,e){if(goog.dom.safe.isInnerHtmlCleanupRecursive_())for(;t.lastChild;)t.removeChild(t.lastChild);t.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(e)},goog.dom.safe.setInnerHtml=function(t,e){if(goog.asserts.ENABLE_ASSERTS){var r=t.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[r])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+t.tagName+".")}goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(t,e)},goog.dom.safe.setOuterHtml=function(t,e){t.outerHTML=goog.html.SafeHtml.unwrapTrustedHTML(e)},goog.dom.safe.setFormElementAction=function(t,e){e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),goog.dom.asserts.assertIsHTMLFormElement(t).action=goog.html.SafeUrl.unwrap(e)},goog.dom.safe.setButtonFormAction=function(t,e){e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),goog.dom.asserts.assertIsHTMLButtonElement(t).formAction=goog.html.SafeUrl.unwrap(e)},goog.dom.safe.setInputFormAction=function(t,e){e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),goog.dom.asserts.assertIsHTMLInputElement(t).formAction=goog.html.SafeUrl.unwrap(e)},goog.dom.safe.setStyle=function(t,e){t.style.cssText=goog.html.SafeStyle.unwrap(e)},goog.dom.safe.documentWrite=function(t,e){t.write(goog.html.SafeHtml.unwrapTrustedHTML(e))},goog.dom.safe.setAnchorHref=function(t,e){goog.dom.asserts.assertIsHTMLAnchorElement(t),e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),t.href=goog.html.SafeUrl.unwrap(e)},goog.dom.safe.setImageSrc=function(t,e){if(goog.dom.asserts.assertIsHTMLImageElement(t),!(e instanceof goog.html.SafeUrl)){var r=/^data:image\//i.test(e);e=goog.html.SafeUrl.sanitizeAssertUnchanged(e,r)}t.src=goog.html.SafeUrl.unwrap(e)},goog.dom.safe.setAudioSrc=function(t,e){if(goog.dom.asserts.assertIsHTMLAudioElement(t),!(e instanceof goog.html.SafeUrl)){var r=/^data:audio\//i.test(e);e=goog.html.SafeUrl.sanitizeAssertUnchanged(e,r)}t.src=goog.html.SafeUrl.unwrap(e)},goog.dom.safe.setVideoSrc=function(t,e){if(goog.dom.asserts.assertIsHTMLVideoElement(t),!(e instanceof goog.html.SafeUrl)){var r=/^data:video\//i.test(e);e=goog.html.SafeUrl.sanitizeAssertUnchanged(e,r)}t.src=goog.html.SafeUrl.unwrap(e)},goog.dom.safe.setEmbedSrc=function(t,e){goog.dom.asserts.assertIsHTMLEmbedElement(t),t.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e)},goog.dom.safe.setFrameSrc=function(t,e){goog.dom.asserts.assertIsHTMLFrameElement(t),t.src=goog.html.TrustedResourceUrl.unwrap(e)},goog.dom.safe.setIframeSrc=function(t,e){goog.dom.asserts.assertIsHTMLIFrameElement(t),t.src=goog.html.TrustedResourceUrl.unwrap(e)},goog.dom.safe.setIframeSrcdoc=function(t,e){goog.dom.asserts.assertIsHTMLIFrameElement(t),t.srcdoc=goog.html.SafeHtml.unwrapTrustedHTML(e)},goog.dom.safe.setLinkHrefAndRel=function(t,e,r){goog.dom.asserts.assertIsHTMLLinkElement(t),t.rel=r,goog.string.internal.caseInsensitiveContains(r,"stylesheet")?(goog.asserts.assert(e instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),t.href=goog.html.TrustedResourceUrl.unwrap(e)):t.href=e instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrap(e):e instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrap(e):goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitizeAssertUnchanged(e))},goog.dom.safe.setObjectData=function(t,e){goog.dom.asserts.assertIsHTMLObjectElement(t),t.data=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e)},goog.dom.safe.setScriptSrc=function(t,e){goog.dom.asserts.assertIsHTMLScriptElement(t),t.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e),(e=goog.getScriptNonce())&&t.setAttribute("nonce",e)},goog.dom.safe.setScriptContent=function(t,e){goog.dom.asserts.assertIsHTMLScriptElement(t),t.text=goog.html.SafeScript.unwrapTrustedScript(e),(e=goog.getScriptNonce())&&t.setAttribute("nonce",e)},goog.dom.safe.setLocationHref=function(t,e){goog.dom.asserts.assertIsLocation(t),e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),t.href=goog.html.SafeUrl.unwrap(e)},goog.dom.safe.assignLocation=function(t,e){goog.dom.asserts.assertIsLocation(t),e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),t.assign(goog.html.SafeUrl.unwrap(e))},goog.dom.safe.replaceLocation=function(t,e){e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),t.replace(goog.html.SafeUrl.unwrap(e))},goog.dom.safe.openInWindow=function(t,e,r,n,o){return t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e=e||goog.global,r=r instanceof goog.string.Const?goog.string.Const.unwrap(r):r||"",e.open(goog.html.SafeUrl.unwrap(t),r,n,o)},goog.dom.safe.parseFromStringHtml=function(t,e){return goog.dom.safe.parseFromString(t,e,"text/html")},goog.dom.safe.parseFromString=function(t,e,r){return t.parseFromString(goog.html.SafeHtml.unwrapTrustedHTML(e),r)},goog.dom.safe.createImageFromBlob=function(t){if(!/^image\/.*/g.test(t.type))throw Error("goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.");var e=goog.global.URL.createObjectURL(t);return(t=new goog.global.Image).onload=function(){goog.global.URL.revokeObjectURL(e)},goog.dom.safe.setImageSrc(t,goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Image blob URL."),e)),t},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:"\xA0"},goog.string.startsWith=goog.string.internal.startsWith,goog.string.endsWith=goog.string.internal.endsWith,goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith,goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith,goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals,goog.string.subs=function(t,e){for(var r=t.split("%s"),n="",o=Array.prototype.slice.call(arguments,1);o.length&&1<r.length;)n+=r.shift()+o.shift();return n+r.join("%s")},goog.string.collapseWhitespace=function(t){return t.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace,goog.string.isEmptyString=function(t){return t.length==0},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(t){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(t))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(t){return!/[^\t\n\r ]/.test(t)},goog.string.isAlpha=function(t){return!/[^a-zA-Z]/.test(t)},goog.string.isNumeric=function(t){return!/[^0-9]/.test(t)},goog.string.isAlphaNumeric=function(t){return!/[^a-zA-Z0-9]/.test(t)},goog.string.isSpace=function(t){return t==" "},goog.string.isUnicodeChar=function(t){return t.length==1&&" "<=t&&"~">=t||"\x80"<=t&&"\uFFFD">=t},goog.string.stripNewlines=function(t){return t.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(t){return t.replace(/(\r\n|\r|\n)/g,`
`)},goog.string.normalizeWhitespace=function(t){return t.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(t){return t.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(t){return t.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.string.internal.trim,goog.string.trimLeft=function(t){return t.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(t){return t.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare,goog.string.numberAwareCompare_=function(t,e,r){if(t==e)return 0;if(!t)return-1;if(!e)return 1;for(var n=t.toLowerCase().match(r),o=e.toLowerCase().match(r),s=Math.min(n.length,o.length),c=0;c<s;c++){r=n[c];var d=o[c];if(r!=d)return t=parseInt(r,10),!isNaN(t)&&(e=parseInt(d,10),!isNaN(e)&&t-e)?t-e:r<d?-1:1}return n.length!=o.length?n.length-o.length:t<e?-1:1},goog.string.intAwareCompare=function(t,e){return goog.string.numberAwareCompare_(t,e,/\d+|\D+/g)},goog.string.floatAwareCompare=function(t,e){return goog.string.numberAwareCompare_(t,e,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(t){return encodeURIComponent(String(t))},goog.string.urlDecode=function(t){return decodeURIComponent(t.replace(/\+/g," "))},goog.string.newLineToBr=goog.string.internal.newLineToBr,goog.string.htmlEscape=function(t,e){return t=goog.string.internal.htmlEscape(t,e),goog.string.DETECT_DOUBLE_ESCAPING&&(t=t.replace(goog.string.E_RE_,"&#101;")),t},goog.string.E_RE_=/e/g,goog.string.unescapeEntities=function(t){return goog.string.contains(t,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(t):goog.string.unescapePureXmlEntities_(t):t},goog.string.unescapeEntitiesWithDocument=function(t,e){return goog.string.contains(t,"&")?goog.string.unescapeEntitiesUsingDom_(t,e):t},goog.string.unescapeEntitiesUsingDom_=function(t,e){var r={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},n=e?e.createElement("div"):goog.global.document.createElement("div");return t.replace(goog.string.HTML_ENTITY_PATTERN_,function(o,s){var c=r[o];return c||(s.charAt(0)=="#"&&(s=+("0"+s.substr(1)),isNaN(s)||(c=String.fromCharCode(s))),c||(goog.dom.safe.setInnerHtml(n,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Single HTML entity."),o+" ")),c=n.firstChild.nodeValue.slice(0,-1)),r[o]=c)})},goog.string.unescapePureXmlEntities_=function(t){return t.replace(/&([^;]+);/g,function(e,r){switch(r){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:return r.charAt(0)!="#"||(r=+("0"+r.substr(1)),isNaN(r))?e:String.fromCharCode(r)}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(t,e){return goog.string.newLineToBr(t.replace(/  /g," &#160;"),e)},goog.string.preserveSpaces=function(t){return t.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(t,e){for(var r=e.length,n=0;n<r;n++){var o=r==1?e:e.charAt(n);if(t.charAt(0)==o&&t.charAt(t.length-1)==o)return t.substring(1,t.length-1)}return t},goog.string.truncate=function(t,e,r){return r&&(t=goog.string.unescapeEntities(t)),t.length>e&&(t=t.substring(0,e-3)+"..."),r&&(t=goog.string.htmlEscape(t)),t},goog.string.truncateMiddle=function(t,e,r,n){if(r&&(t=goog.string.unescapeEntities(t)),n&&t.length>e){n>e&&(n=e);var o=t.length-n;t=t.substring(0,e-n)+"..."+t.substring(o)}else t.length>e&&(n=Math.floor(e/2),o=t.length-n,t=t.substring(0,n+e%2)+"..."+t.substring(o));return r&&(t=goog.string.htmlEscape(t)),t},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(t){t=String(t);for(var e=['"'],r=0;r<t.length;r++){var n=t.charAt(r),o=n.charCodeAt(0);e[r+1]=goog.string.specialEscapeChars_[n]||(31<o&&127>o?n:goog.string.escapeChar(n))}return e.push('"'),e.join("")},goog.string.escapeString=function(t){for(var e=[],r=0;r<t.length;r++)e[r]=goog.string.escapeChar(t.charAt(r));return e.join("")},goog.string.escapeChar=function(t){if(t in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[t];if(t in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[t]=goog.string.specialEscapeChars_[t];var e=t.charCodeAt(0);if(31<e&&127>e)var r=t;else 256>e?(r="\\x",(16>e||256<e)&&(r+="0")):(r="\\u",4096>e&&(r+="0")),r+=e.toString(16).toUpperCase();return goog.string.jsEscapeCache_[t]=r},goog.string.contains=goog.string.internal.contains,goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains,goog.string.countOf=function(t,e){return t&&e?t.split(e).length-1:0},goog.string.removeAt=function(t,e,r){var n=t;return 0<=e&&e<t.length&&0<r&&(n=t.substr(0,e)+t.substr(e+r,t.length-e-r)),n},goog.string.remove=function(t,e){return t.replace(e,"")},goog.string.removeAll=function(t,e){return e=new RegExp(goog.string.regExpEscape(e),"g"),t.replace(e,"")},goog.string.replaceAll=function(t,e,r){return e=new RegExp(goog.string.regExpEscape(e),"g"),t.replace(e,r.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(t){return String(t).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(t,e){return t.repeat(e)}:function(t,e){return Array(e+1).join(t)},goog.string.padNumber=function(t,e,r){return(r=(t=r!==void 0?t.toFixed(r):String(t)).indexOf("."))==-1&&(r=t.length),goog.string.repeat("0",Math.max(0,e-r))+t},goog.string.makeSafe=function(t){return t==null?"":String(t)},goog.string.buildString=function(t){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=goog.string.internal.compareVersions,goog.string.hashCode=function(t){for(var e=0,r=0;r<t.length;++r)e=31*e+t.charCodeAt(r)>>>0;return e},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(t){var e=Number(t);return e==0&&goog.string.isEmptyOrWhitespace(t)?NaN:e},goog.string.isLowerCamelCase=function(t){return/^[a-z]+([A-Z][a-z]*)*$/.test(t)},goog.string.isUpperCamelCase=function(t){return/^([A-Z][a-z]*)+$/.test(t)},goog.string.toCamelCase=function(t){return String(t).replace(/\-([a-z])/g,function(e,r){return r.toUpperCase()})},goog.string.toSelectorCase=function(t){return String(t).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(t,e){return e=typeof e=="string"?goog.string.regExpEscape(e):"\\s",t.replace(new RegExp("(^"+(e?"|["+e+"]+":"")+")([a-z])","g"),function(r,n,o){return n+o.toUpperCase()})},goog.string.capitalize=function(t){return String(t.charAt(0)).toUpperCase()+String(t.substr(1)).toLowerCase()},goog.string.parseInt=function(t){return isFinite(t)&&(t=String(t)),typeof t=="string"?/^\s*-?0x/i.test(t)?parseInt(t,16):parseInt(t,10):NaN},goog.string.splitLimit=function(t,e,r){t=t.split(e);for(var n=[];0<r&&t.length;)n.push(t.shift()),r--;return t.length&&n.push(t.join(e)),n},goog.string.lastComponent=function(t,e){if(!e)return t;typeof e=="string"&&(e=[e]);for(var r=-1,n=0;n<e.length;n++)if(e[n]!=""){var o=t.lastIndexOf(e[n]);o>r&&(r=o)}return r==-1?t:t.slice(r+1)},goog.string.editDistance=function(t,e){var r=[],n=[];if(t==e)return 0;if(!t.length||!e.length)return Math.max(t.length,e.length);for(var o=0;o<e.length+1;o++)r[o]=o;for(o=0;o<t.length;o++){n[0]=o+1;for(var s=0;s<e.length;s++)n[s+1]=Math.min(n[s]+1,r[s+1]+1,r[s]+ +(t[o]!=e[s]));for(s=0;s<r.length;s++)r[s]=n[s]}return n[e.length]},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){var t=goog.labs.userAgent.util.getUserAgent();if(t){t=goog.labs.userAgent.util.extractVersionTuples(t);var e,r=goog.labs.userAgent.engine.getEngineTuple_(t);if(r)return r[0]=="Gecko"?goog.labs.userAgent.engine.getVersionForKey_(t,"Firefox"):r[1];if((t=t[0])&&(e=t[2])&&(e=/Trident\/([^\s;]+)/.exec(e)))return e[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(t){if(!goog.labs.userAgent.engine.isEdge())return t[1];for(var e=0;e<t.length;e++){var r=t[e];if(r[0]=="Edge")return r}},goog.labs.userAgent.engine.isVersionOrHigher=function(t){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),t)},goog.labs.userAgent.engine.getVersionForKey_=function(t,e){return(t=goog.array.find(t,function(r){return e==r[0]}))&&t[1]||""},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.isChromecast=function(){return goog.labs.userAgent.util.matchUserAgent("CrKey")},goog.labs.userAgent.platform.isKaiOS=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("KaiOS")},goog.labs.userAgent.platform.getVersion=function(){var t=goog.labs.userAgent.util.getUserAgent(),e="";return goog.labs.userAgent.platform.isWindows()?e=(t=(e=/Windows (?:NT|Phone) ([0-9.]+)/).exec(t))?t[1]:"0.0":goog.labs.userAgent.platform.isIos()?e=(t=(e=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/).exec(t))&&t[1].replace(/_/g,"."):goog.labs.userAgent.platform.isMacintosh()?e=(t=(e=/Mac OS X ([0-9_.]+)/).exec(t))?t[1].replace(/_/g,"."):"10":goog.labs.userAgent.platform.isKaiOS()?e=(t=(e=/(?:KaiOS)\/(\S+)/i).exec(t))&&t[1]:goog.labs.userAgent.platform.isAndroid()?e=(t=(e=/Android\s+([^\);]+)(\)|;)/).exec(t))&&t[1]:goog.labs.userAgent.platform.isChromeOS()&&(e=(t=(e=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/).exec(t))&&t[1]),e||""},goog.labs.userAgent.platform.isVersionOrHigher=function(t){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),t)},goog.reflect={},goog.reflect.object=function(t,e){return e},goog.reflect.objectProperty=function(t,e){return t},goog.reflect.sinkValue=function(t){return goog.reflect.sinkValue[" "](t),t},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(t,e){try{return goog.reflect.sinkValue(t[e]),!0}catch{}return!1},goog.reflect.cache=function(t,e,r,n){return n=n?n(e):e,Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=r(e)},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null},goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var t=goog.userAgent.getNavigatorTyped();return t&&t.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.ASSUME_IPOD=!1,goog.userAgent.ASSUME_KAIOS=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var t=goog.userAgent.getNavigatorTyped();return!!t&&goog.string.contains(t.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod(),goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos(),goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:goog.labs.userAgent.platform.isKaiOS(),goog.userAgent.determineVersion_=function(){var t="",e=goog.userAgent.getVersionRegexResult_();return e&&(t=e?e[1]:""),goog.userAgent.IE&&(e=goog.userAgent.getDocumentMode_())!=null&&e>parseFloat(t)?String(e):t},goog.userAgent.getVersionRegexResult_=function(){var t=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv:([^\);]+)(\)|;)/.exec(t):goog.userAgent.EDGE?/Edge\/([\d\.]+)/.exec(t):goog.userAgent.IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):goog.userAgent.WEBKIT?/WebKit\/(\S+)/.exec(t):goog.userAgent.OPERA?/(?:Version)[ \/]?(\S+)/.exec(t):void 0},goog.userAgent.getDocumentMode_=function(){var t=goog.global.document;return t?t.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(t,e){return goog.string.compareVersions(t,e)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(t){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,t,function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,t)})},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(t){return Number(goog.userAgent.DOCUMENT_MODE)>=t},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){if(goog.global.document&&goog.userAgent.IE){var t=goog.userAgent.getDocumentMode_();return t||parseInt(goog.userAgent.VERSION,10)||void 0}}(),goog.userAgent.product={},goog.userAgent.product.ASSUME_FIREFOX=!1,goog.userAgent.product.ASSUME_IPHONE=!1,goog.userAgent.product.ASSUME_IPAD=!1,goog.userAgent.product.ASSUME_ANDROID=!1,goog.userAgent.product.ASSUME_CHROME=!1,goog.userAgent.product.ASSUME_SAFARI=!1,goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI,goog.userAgent.product.OPERA=goog.userAgent.OPERA,goog.userAgent.product.IE=goog.userAgent.IE,goog.userAgent.product.EDGE=goog.userAgent.EDGE,goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox(),goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()},goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_(),goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser(),goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome(),goog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()},goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_(),goog.crypt.base64={},goog.crypt.base64.DEFAULT_ALPHABET_COMMON_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"+/=",goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"-_.",goog.crypt.base64.Alphabet={DEFAULT:0,NO_PADDING:1,WEBSAFE:2,WEBSAFE_DOT_PADDING:3,WEBSAFE_NO_PADDING:4},goog.crypt.base64.paddingChars_="=.",goog.crypt.base64.isPadding_=function(t){return goog.string.contains(goog.crypt.base64.paddingChars_,t)},goog.crypt.base64.byteToCharMaps_={},goog.crypt.base64.charToByteMap_=null,goog.crypt.base64.ASSUME_NATIVE_SUPPORT_=goog.userAgent.GECKO||goog.userAgent.WEBKIT&&!goog.userAgent.product.SAFARI||goog.userAgent.OPERA,goog.crypt.base64.HAS_NATIVE_ENCODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||typeof goog.global.btoa=="function",goog.crypt.base64.HAS_NATIVE_DECODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||!goog.userAgent.product.SAFARI&&!goog.userAgent.IE&&typeof goog.global.atob=="function",goog.crypt.base64.encodeByteArray=function(t,e){goog.asserts.assert(goog.isArrayLike(t),"encodeByteArray takes an array as a parameter"),e===void 0&&(e=goog.crypt.base64.Alphabet.DEFAULT),goog.crypt.base64.init_(),e=goog.crypt.base64.byteToCharMaps_[e];for(var r=[],n=0;n<t.length;n+=3){var o=t[n],s=n+1<t.length,c=s?t[n+1]:0,d=n+2<t.length,u=d?t[n+2]:0,m=o>>2;o=(3&o)<<4|c>>4,c=(15&c)<<2|u>>6,u&=63,d||(u=64,s||(c=64)),r.push(e[m],e[o],e[c]||"",e[u]||"")}return r.join("")},goog.crypt.base64.encodeString=function(t,e){return goog.crypt.base64.HAS_NATIVE_ENCODE_&&!e?goog.global.btoa(t):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(t),e)},goog.crypt.base64.decodeString=function(t,e){if(goog.crypt.base64.HAS_NATIVE_DECODE_&&!e)return goog.global.atob(t);var r="";return goog.crypt.base64.decodeStringInternal_(t,function(n){r+=String.fromCharCode(n)}),r},goog.crypt.base64.decodeStringToByteArray=function(t,e){var r=[];return goog.crypt.base64.decodeStringInternal_(t,function(n){r.push(n)}),r},goog.crypt.base64.decodeStringToUint8Array=function(t){goog.asserts.assert(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10"),"Browser does not support typed arrays");var e=t.length,r=3*e/4;r%3?r=Math.floor(r):goog.crypt.base64.isPadding_(t[e-1])&&(r=goog.crypt.base64.isPadding_(t[e-2])?r-2:r-1);var n=new Uint8Array(r),o=0;return goog.crypt.base64.decodeStringInternal_(t,function(s){n[o++]=s}),n.subarray(0,o)},goog.crypt.base64.decodeStringInternal_=function(t,e){function r(u){for(;n<t.length;){var m=t.charAt(n++),_=goog.crypt.base64.charToByteMap_[m];if(_!=null)return _;if(!goog.string.isEmptyOrWhitespace(m))throw Error("Unknown base64 encoding at char: "+m)}return u}goog.crypt.base64.init_();for(var n=0;;){var o=r(-1),s=r(0),c=r(64),d=r(64);if(d===64&&o===-1)break;e(o<<2|s>>4),c!=64&&(e(s<<4&240|c>>2),d!=64&&e(c<<6&192|d))}},goog.crypt.base64.init_=function(){if(!goog.crypt.base64.charToByteMap_){goog.crypt.base64.charToByteMap_={};for(var t=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_.split(""),e=["+/=","+/","-_=","-_.","-_"],r=0;5>r;r++){var n=t.concat(e[r].split(""));goog.crypt.base64.byteToCharMaps_[r]=n;for(var o=0;o<n.length;o++){var s=n[o],c=goog.crypt.base64.charToByteMap_[s];c===void 0?goog.crypt.base64.charToByteMap_[s]=o:goog.asserts.assert(c===o)}}}},jspb.utils={},jspb.utils.split64Low=0,jspb.utils.split64High=0,jspb.utils.splitUint64=function(t){var e=t>>>0;t=Math.floor((t-e)/jspb.BinaryConstants.TWO_TO_32)>>>0,jspb.utils.split64Low=e,jspb.utils.split64High=t},jspb.utils.splitInt64=function(t){var e=0>t,r=(t=Math.abs(t))>>>0;t=Math.floor((t-r)/jspb.BinaryConstants.TWO_TO_32),t>>>=0,e&&(t=~t>>>0,4294967295<(r=1+(~r>>>0))&&(r=0,4294967295<++t&&(t=0))),jspb.utils.split64Low=r,jspb.utils.split64High=t},jspb.utils.splitZigzag64=function(t){var e=0>t;t=2*Math.abs(t),jspb.utils.splitUint64(t),t=jspb.utils.split64Low;var r=jspb.utils.split64High;e&&(t==0?r==0?r=t=4294967295:(r--,t=4294967295):t--),jspb.utils.split64Low=t,jspb.utils.split64High=r},jspb.utils.splitFloat32=function(t){var e=0>t?1:0;if((t=e?-t:t)===0)0<1/t?(jspb.utils.split64High=0,jspb.utils.split64Low=0):(jspb.utils.split64High=0,jspb.utils.split64Low=2147483648);else if(isNaN(t))jspb.utils.split64High=0,jspb.utils.split64Low=2147483647;else if(t>jspb.BinaryConstants.FLOAT32_MAX)jspb.utils.split64High=0,jspb.utils.split64Low=(e<<31|2139095040)>>>0;else if(t<jspb.BinaryConstants.FLOAT32_MIN)t=Math.round(t/Math.pow(2,-149)),jspb.utils.split64High=0,jspb.utils.split64Low=(e<<31|t)>>>0;else{var r=Math.floor(Math.log(t)/Math.LN2);t*=Math.pow(2,-r),16777216<=(t=Math.round(t*jspb.BinaryConstants.TWO_TO_23))&&++r,jspb.utils.split64High=0,jspb.utils.split64Low=(e<<31|r+127<<23|8388607&t)>>>0}},jspb.utils.splitFloat64=function(t){var e=0>t?1:0;if((t=e?-t:t)===0)jspb.utils.split64High=0<1/t?0:2147483648,jspb.utils.split64Low=0;else if(isNaN(t))jspb.utils.split64High=2147483647,jspb.utils.split64Low=4294967295;else if(t>jspb.BinaryConstants.FLOAT64_MAX)jspb.utils.split64High=(e<<31|2146435072)>>>0,jspb.utils.split64Low=0;else if(t<jspb.BinaryConstants.FLOAT64_MIN){var r=t/Math.pow(2,-1074);t=r/jspb.BinaryConstants.TWO_TO_32,jspb.utils.split64High=(e<<31|t)>>>0,jspb.utils.split64Low=r>>>0}else{var n=0;if(2<=(r=t))for(;2<=r&&1023>n;)n++,r/=2;else for(;1>r&&-1022<n;)r*=2,n--;t=(r=t*Math.pow(2,-n))*jspb.BinaryConstants.TWO_TO_20&1048575,r=r*jspb.BinaryConstants.TWO_TO_52>>>0,jspb.utils.split64High=(e<<31|n+1023<<20|t)>>>0,jspb.utils.split64Low=r}},jspb.utils.splitHash64=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1),n=t.charCodeAt(2),o=t.charCodeAt(3),s=t.charCodeAt(4),c=t.charCodeAt(5),d=t.charCodeAt(6);t=t.charCodeAt(7),jspb.utils.split64Low=e+(r<<8)+(n<<16)+(o<<24)>>>0,jspb.utils.split64High=s+(c<<8)+(d<<16)+(t<<24)>>>0},jspb.utils.joinUint64=function(t,e){return e*jspb.BinaryConstants.TWO_TO_32+(t>>>0)},jspb.utils.joinInt64=function(t,e){var r=2147483648&e;return r&&(e=~e>>>0,(t=1+~t>>>0)==0&&(e=e+1>>>0)),t=jspb.utils.joinUint64(t,e),r?-t:t},jspb.utils.toZigzag64=function(t,e,r){var n=e>>31;return r(t<<1^n,(e<<1|t>>>31)^n)},jspb.utils.joinZigzag64=function(t,e){return jspb.utils.fromZigzag64(t,e,jspb.utils.joinInt64)},jspb.utils.fromZigzag64=function(t,e,r){var n=-(1&t);return r((t>>>1|e<<31)^n,e>>>1^n)},jspb.utils.joinFloat32=function(t,e){e=2*(t>>31)+1;var r=t>>>23&255;return t&=8388607,r==255?t?NaN:1/0*e:r==0?e*Math.pow(2,-149)*t:e*Math.pow(2,r-150)*(t+Math.pow(2,23))},jspb.utils.joinFloat64=function(t,e){var r=2*(e>>31)+1,n=e>>>20&2047;return t=jspb.BinaryConstants.TWO_TO_32*(1048575&e)+t,n==2047?t?NaN:1/0*r:n==0?r*Math.pow(2,-1074)*t:r*Math.pow(2,n-1075)*(t+jspb.BinaryConstants.TWO_TO_52)},jspb.utils.joinHash64=function(t,e){return String.fromCharCode(t>>>0&255,t>>>8&255,t>>>16&255,t>>>24&255,e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255)},jspb.utils.DIGITS="0123456789abcdef".split(""),jspb.utils.ZERO_CHAR_CODE_=48,jspb.utils.A_CHAR_CODE_=97,jspb.utils.joinUnsignedDecimalString=function(t,e){function r(o,s){return o=o?String(o):"",s?"0000000".slice(o.length)+o:o}if(2097151>=e)return""+jspb.utils.joinUint64(t,e);var n=(t>>>24|e<<8)>>>0&16777215;return t=(16777215&t)+6777216*n+6710656*(e=e>>16&65535),n+=8147497*e,e*=2,1e7<=t&&(n+=Math.floor(t/1e7),t%=1e7),1e7<=n&&(e+=Math.floor(n/1e7),n%=1e7),r(e,0)+r(n,e)+r(t,1)},jspb.utils.joinSignedDecimalString=function(t,e){var r=2147483648&e;return r&&(e=~e+((t=1+~t>>>0)==0?1:0)>>>0),t=jspb.utils.joinUnsignedDecimalString(t,e),r?"-"+t:t},jspb.utils.hash64ToDecimalString=function(t,e){jspb.utils.splitHash64(t),t=jspb.utils.split64Low;var r=jspb.utils.split64High;return e?jspb.utils.joinSignedDecimalString(t,r):jspb.utils.joinUnsignedDecimalString(t,r)},jspb.utils.hash64ArrayToDecimalStrings=function(t,e){for(var r=Array(t.length),n=0;n<t.length;n++)r[n]=jspb.utils.hash64ToDecimalString(t[n],e);return r},jspb.utils.decimalStringToHash64=function(t){function e(s,c){for(var d=0;8>d&&(s!==1||0<c);d++)c=s*n[d]+c,n[d]=255&c,c>>>=8}jspb.asserts.assert(0<t.length);var r=!1;t[0]==="-"&&(r=!0,t=t.slice(1));for(var n=[0,0,0,0,0,0,0,0],o=0;o<t.length;o++)e(10,t.charCodeAt(o)-jspb.utils.ZERO_CHAR_CODE_);return r&&(function(){for(var s=0;8>s;s++)n[s]=255&~n[s]}(),e(1,1)),goog.crypt.byteArrayToString(n)},jspb.utils.splitDecimalString=function(t){jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(t))},jspb.utils.toHexDigit_=function(t){return String.fromCharCode(10>t?jspb.utils.ZERO_CHAR_CODE_+t:jspb.utils.A_CHAR_CODE_-10+t)},jspb.utils.fromHexCharCode_=function(t){return t>=jspb.utils.A_CHAR_CODE_?t-jspb.utils.A_CHAR_CODE_+10:t-jspb.utils.ZERO_CHAR_CODE_},jspb.utils.hash64ToHexString=function(t){var e=Array(18);e[0]="0",e[1]="x";for(var r=0;8>r;r++){var n=t.charCodeAt(7-r);e[2*r+2]=jspb.utils.toHexDigit_(n>>4),e[2*r+3]=jspb.utils.toHexDigit_(15&n)}return e.join("")},jspb.utils.hexStringToHash64=function(t){t=t.toLowerCase(),jspb.asserts.assert(t.length==18),jspb.asserts.assert(t[0]=="0"),jspb.asserts.assert(t[1]=="x");for(var e="",r=0;8>r;r++){var n=jspb.utils.fromHexCharCode_(t.charCodeAt(2*r+2)),o=jspb.utils.fromHexCharCode_(t.charCodeAt(2*r+3));e=String.fromCharCode(16*n+o)+e}return e},jspb.utils.hash64ToNumber=function(t,e){jspb.utils.splitHash64(t),t=jspb.utils.split64Low;var r=jspb.utils.split64High;return e?jspb.utils.joinInt64(t,r):jspb.utils.joinUint64(t,r)},jspb.utils.numberToHash64=function(t){return jspb.utils.splitInt64(t),jspb.utils.joinHash64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.utils.countVarints=function(t,e,r){for(var n=0,o=e;o<r;o++)n+=t[o]>>7;return r-e-n},jspb.utils.countVarintFields=function(t,e,r,n){var o=0;if(128>(n=8*n+jspb.BinaryConstants.WireType.VARINT))for(;e<r&&t[e++]==n;)for(o++;;){var s=t[e++];if(!(128&s))break}else for(;e<r;){for(s=n;128<s;){if(t[e]!=(127&s|128))return o;e++,s>>=7}if(t[e++]!=s)break;for(o++;128&(s=t[e++]););}return o},jspb.utils.countFixedFields_=function(t,e,r,n,o){var s=0;if(128>n)for(;e<r&&t[e++]==n;)s++,e+=o;else for(;e<r;){for(var c=n;128<c;){if(t[e++]!=(127&c|128))return s;c>>=7}if(t[e++]!=c)break;s++,e+=o}return s},jspb.utils.countFixed32Fields=function(t,e,r,n){return jspb.utils.countFixedFields_(t,e,r,8*n+jspb.BinaryConstants.WireType.FIXED32,4)},jspb.utils.countFixed64Fields=function(t,e,r,n){return jspb.utils.countFixedFields_(t,e,r,8*n+jspb.BinaryConstants.WireType.FIXED64,8)},jspb.utils.countDelimitedFields=function(t,e,r,n){var o=0;for(n=8*n+jspb.BinaryConstants.WireType.DELIMITED;e<r;){for(var s=n;128<s;){if(t[e++]!=(127&s|128))return o;s>>=7}if(t[e++]!=s)break;o++;for(var c=0,d=1;c+=(127&(s=t[e++]))*d,d*=128,(128&s)!=0;);e+=c}return o},jspb.utils.debugBytesToTextFormat=function(t){var e='"';if(t){t=jspb.utils.byteSourceToUint8Array(t);for(var r=0;r<t.length;r++)e+="\\x",16>t[r]&&(e+="0"),e+=t[r].toString(16)}return e+'"'},jspb.utils.debugScalarToTextFormat=function(t){return typeof t=="string"?goog.string.quote(t):t.toString()},jspb.utils.stringToByteArray=function(t){for(var e=new Uint8Array(t.length),r=0;r<t.length;r++){var n=t.charCodeAt(r);if(255<n)throw Error("Conversion error: string contains codepoint outside of byte range");e[r]=n}return e},jspb.utils.byteSourceToUint8Array=function(t){return t.constructor===Uint8Array?t:t.constructor===ArrayBuffer||t.constructor===Array?new Uint8Array(t):t.constructor===String?goog.crypt.base64.decodeStringToUint8Array(t):t instanceof Uint8Array?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):(jspb.asserts.fail("Type not convertible to Uint8Array."),new Uint8Array(0))},jspb.BinaryDecoder=function(t,e,r){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1,t&&this.setBlock(t,e,r)},jspb.BinaryDecoder.instanceCache_=[],jspb.BinaryDecoder.alloc=function(t,e,r){if(jspb.BinaryDecoder.instanceCache_.length){var n=jspb.BinaryDecoder.instanceCache_.pop();return t&&n.setBlock(t,e,r),n}return new jspb.BinaryDecoder(t,e,r)},jspb.BinaryDecoder.prototype.free=function(){this.clear(),100>jspb.BinaryDecoder.instanceCache_.length&&jspb.BinaryDecoder.instanceCache_.push(this)},jspb.BinaryDecoder.prototype.clone=function(){return jspb.BinaryDecoder.alloc(this.bytes_,this.start_,this.end_-this.start_)},jspb.BinaryDecoder.prototype.clear=function(){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1},jspb.BinaryDecoder.prototype.getBuffer=function(){return this.bytes_},jspb.BinaryDecoder.prototype.setBlock=function(t,e,r){this.bytes_=jspb.utils.byteSourceToUint8Array(t),this.start_=e!==void 0?e:0,this.end_=r!==void 0?this.start_+r:this.bytes_.length,this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getEnd=function(){return this.end_},jspb.BinaryDecoder.prototype.setEnd=function(t){this.end_=t},jspb.BinaryDecoder.prototype.reset=function(){this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getCursor=function(){return this.cursor_},jspb.BinaryDecoder.prototype.setCursor=function(t){this.cursor_=t},jspb.BinaryDecoder.prototype.advance=function(t){this.cursor_+=t,jspb.asserts.assert(this.cursor_<=this.end_)},jspb.BinaryDecoder.prototype.atEnd=function(){return this.cursor_==this.end_},jspb.BinaryDecoder.prototype.pastEnd=function(){return this.cursor_>this.end_},jspb.BinaryDecoder.prototype.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_},jspb.BinaryDecoder.prototype.readSplitVarint64=function(t){for(var e=128,r=0,n=0,o=0;4>o&&128<=e;o++)r|=(127&(e=this.bytes_[this.cursor_++]))<<7*o;if(128<=e&&(r|=(127&(e=this.bytes_[this.cursor_++]))<<28,n|=(127&e)>>4),128<=e)for(o=0;5>o&&128<=e;o++)n|=(127&(e=this.bytes_[this.cursor_++]))<<7*o+3;if(128>e)return t(r>>>0,n>>>0);jspb.asserts.fail("Failed to read varint, encoding is invalid."),this.error_=!0},jspb.BinaryDecoder.prototype.readSplitZigzagVarint64=function(t){return this.readSplitVarint64(function(e,r){return jspb.utils.fromZigzag64(e,r,t)})},jspb.BinaryDecoder.prototype.readSplitFixed64=function(t){var e=this.bytes_,r=this.cursor_;this.cursor_+=8;for(var n=0,o=0,s=r+7;s>=r;s--)n=n<<8|e[s],o=o<<8|e[s+4];return t(n,o)},jspb.BinaryDecoder.prototype.skipVarint=function(){for(;128&this.bytes_[this.cursor_];)this.cursor_++;this.cursor_++},jspb.BinaryDecoder.prototype.unskipVarint=function(t){for(;128<t;)this.cursor_--,t>>>=7;this.cursor_--},jspb.BinaryDecoder.prototype.readUnsignedVarint32=function(){var t=this.bytes_,e=t[this.cursor_+0],r=127&e;return 128>e?(this.cursor_+=1,jspb.asserts.assert(this.cursor_<=this.end_),r):(r|=(127&(e=t[this.cursor_+1]))<<7,128>e?(this.cursor_+=2,jspb.asserts.assert(this.cursor_<=this.end_),r):(r|=(127&(e=t[this.cursor_+2]))<<14,128>e?(this.cursor_+=3,jspb.asserts.assert(this.cursor_<=this.end_),r):(r|=(127&(e=t[this.cursor_+3]))<<21,128>e?(this.cursor_+=4,jspb.asserts.assert(this.cursor_<=this.end_),r):(r|=(15&(e=t[this.cursor_+4]))<<28,128>e?(this.cursor_+=5,jspb.asserts.assert(this.cursor_<=this.end_),r>>>0):(this.cursor_+=5,128<=t[this.cursor_++]&&128<=t[this.cursor_++]&&128<=t[this.cursor_++]&&128<=t[this.cursor_++]&&128<=t[this.cursor_++]&&jspb.asserts.assert(!1),jspb.asserts.assert(this.cursor_<=this.end_),r)))))},jspb.BinaryDecoder.prototype.readSignedVarint32=function(){return~~this.readUnsignedVarint32()},jspb.BinaryDecoder.prototype.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()},jspb.BinaryDecoder.prototype.readSignedVarint32String=function(){return this.readSignedVarint32().toString()},jspb.BinaryDecoder.prototype.readZigzagVarint32=function(){var t=this.readUnsignedVarint32();return t>>>1^-(1&t)},jspb.BinaryDecoder.prototype.readUnsignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinUint64)},jspb.BinaryDecoder.prototype.readUnsignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinUnsignedDecimalString)},jspb.BinaryDecoder.prototype.readSignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinInt64)},jspb.BinaryDecoder.prototype.readSignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readZigzagVarint64=function(){return this.readSplitVarint64(jspb.utils.joinZigzag64)},jspb.BinaryDecoder.prototype.readZigzagVarintHash64=function(){return this.readSplitZigzagVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readZigzagVarint64String=function(){return this.readSplitZigzagVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readUint8=function(){var t=this.bytes_[this.cursor_+0];return this.cursor_+=1,jspb.asserts.assert(this.cursor_<=this.end_),t},jspb.BinaryDecoder.prototype.readUint16=function(){var t=this.bytes_[this.cursor_+0],e=this.bytes_[this.cursor_+1];return this.cursor_+=2,jspb.asserts.assert(this.cursor_<=this.end_),t<<0|e<<8},jspb.BinaryDecoder.prototype.readUint32=function(){var t=this.bytes_[this.cursor_+0],e=this.bytes_[this.cursor_+1],r=this.bytes_[this.cursor_+2],n=this.bytes_[this.cursor_+3];return this.cursor_+=4,jspb.asserts.assert(this.cursor_<=this.end_),(t<<0|e<<8|r<<16|n<<24)>>>0},jspb.BinaryDecoder.prototype.readUint64=function(){var t=this.readUint32(),e=this.readUint32();return jspb.utils.joinUint64(t,e)},jspb.BinaryDecoder.prototype.readUint64String=function(){var t=this.readUint32(),e=this.readUint32();return jspb.utils.joinUnsignedDecimalString(t,e)},jspb.BinaryDecoder.prototype.readInt8=function(){var t=this.bytes_[this.cursor_+0];return this.cursor_+=1,jspb.asserts.assert(this.cursor_<=this.end_),t<<24>>24},jspb.BinaryDecoder.prototype.readInt16=function(){var t=this.bytes_[this.cursor_+0],e=this.bytes_[this.cursor_+1];return this.cursor_+=2,jspb.asserts.assert(this.cursor_<=this.end_),(t<<0|e<<8)<<16>>16},jspb.BinaryDecoder.prototype.readInt32=function(){var t=this.bytes_[this.cursor_+0],e=this.bytes_[this.cursor_+1],r=this.bytes_[this.cursor_+2],n=this.bytes_[this.cursor_+3];return this.cursor_+=4,jspb.asserts.assert(this.cursor_<=this.end_),t<<0|e<<8|r<<16|n<<24},jspb.BinaryDecoder.prototype.readInt64=function(){var t=this.readUint32(),e=this.readUint32();return jspb.utils.joinInt64(t,e)},jspb.BinaryDecoder.prototype.readInt64String=function(){var t=this.readUint32(),e=this.readUint32();return jspb.utils.joinSignedDecimalString(t,e)},jspb.BinaryDecoder.prototype.readFloat=function(){var t=this.readUint32();return jspb.utils.joinFloat32(t,0)},jspb.BinaryDecoder.prototype.readDouble=function(){var t=this.readUint32(),e=this.readUint32();return jspb.utils.joinFloat64(t,e)},jspb.BinaryDecoder.prototype.readBool=function(){return!!this.bytes_[this.cursor_++]},jspb.BinaryDecoder.prototype.readEnum=function(){return this.readSignedVarint32()},jspb.BinaryDecoder.prototype.readString=function(t){var e=this.bytes_,r=this.cursor_;t=r+t;for(var n=[],o="";r<t;){var s=e[r++];if(128>s)n.push(s);else{if(192>s)continue;if(224>s){var c=e[r++];n.push((31&s)<<6|63&c)}else if(240>s){c=e[r++];var d=e[r++];n.push((15&s)<<12|(63&c)<<6|63&d)}else 248>s&&(s=(7&s)<<18|(63&(c=e[r++]))<<12|(63&(d=e[r++]))<<6|63&e[r++],s-=65536,n.push(55296+(s>>10&1023),56320+(1023&s)))}8192<=n.length&&(o+=String.fromCharCode.apply(null,n),n.length=0)}return o+=goog.crypt.byteArrayToString(n),this.cursor_=r,o},jspb.BinaryDecoder.prototype.readStringWithLength=function(){var t=this.readUnsignedVarint32();return this.readString(t)},jspb.BinaryDecoder.prototype.readBytes=function(t){if(0>t||this.cursor_+t>this.bytes_.length)return this.error_=!0,jspb.asserts.fail("Invalid byte length!"),new Uint8Array(0);var e=this.bytes_.subarray(this.cursor_,this.cursor_+t);return this.cursor_+=t,jspb.asserts.assert(this.cursor_<=this.end_),e},jspb.BinaryDecoder.prototype.readVarintHash64=function(){return this.readSplitVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readFixedHash64=function(){var t=this.bytes_,e=this.cursor_,r=t[e+0],n=t[e+1],o=t[e+2],s=t[e+3],c=t[e+4],d=t[e+5],u=t[e+6];return t=t[e+7],this.cursor_+=8,String.fromCharCode(r,n,o,s,c,d,u,t)},jspb.BinaryReader=function(t,e,r){this.decoder_=jspb.BinaryDecoder.alloc(t,e,r),this.fieldCursor_=this.decoder_.getCursor(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null},jspb.BinaryReader.instanceCache_=[],jspb.BinaryReader.alloc=function(t,e,r){if(jspb.BinaryReader.instanceCache_.length){var n=jspb.BinaryReader.instanceCache_.pop();return t&&n.decoder_.setBlock(t,e,r),n}return new jspb.BinaryReader(t,e,r)},jspb.BinaryReader.prototype.alloc=jspb.BinaryReader.alloc,jspb.BinaryReader.prototype.free=function(){this.decoder_.clear(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null,100>jspb.BinaryReader.instanceCache_.length&&jspb.BinaryReader.instanceCache_.push(this)},jspb.BinaryReader.prototype.getFieldCursor=function(){return this.fieldCursor_},jspb.BinaryReader.prototype.getCursor=function(){return this.decoder_.getCursor()},jspb.BinaryReader.prototype.getBuffer=function(){return this.decoder_.getBuffer()},jspb.BinaryReader.prototype.getFieldNumber=function(){return this.nextField_},goog.exportProperty(jspb.BinaryReader.prototype,"getFieldNumber",jspb.BinaryReader.prototype.getFieldNumber),jspb.BinaryReader.prototype.getWireType=function(){return this.nextWireType_},jspb.BinaryReader.prototype.isDelimited=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED},goog.exportProperty(jspb.BinaryReader.prototype,"isDelimited",jspb.BinaryReader.prototype.isDelimited),jspb.BinaryReader.prototype.isEndGroup=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP},goog.exportProperty(jspb.BinaryReader.prototype,"isEndGroup",jspb.BinaryReader.prototype.isEndGroup),jspb.BinaryReader.prototype.getError=function(){return this.error_||this.decoder_.getError()},jspb.BinaryReader.prototype.setBlock=function(t,e,r){this.decoder_.setBlock(t,e,r),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.reset=function(){this.decoder_.reset(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.advance=function(t){this.decoder_.advance(t)},jspb.BinaryReader.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return jspb.asserts.fail("Decoder hit an error"),!1;this.fieldCursor_=this.decoder_.getCursor();var t=this.decoder_.readUnsignedVarint32(),e=t>>>3;return(t&=7)!=jspb.BinaryConstants.WireType.VARINT&&t!=jspb.BinaryConstants.WireType.FIXED32&&t!=jspb.BinaryConstants.WireType.FIXED64&&t!=jspb.BinaryConstants.WireType.DELIMITED&&t!=jspb.BinaryConstants.WireType.START_GROUP&&t!=jspb.BinaryConstants.WireType.END_GROUP?(jspb.asserts.fail("Invalid wire type: %s (at position %s)",t,this.fieldCursor_),this.error_=!0,!1):(this.nextField_=e,this.nextWireType_=t,!0)},goog.exportProperty(jspb.BinaryReader.prototype,"nextField",jspb.BinaryReader.prototype.nextField),jspb.BinaryReader.prototype.unskipHeader=function(){this.decoder_.unskipVarint(this.nextField_<<3|this.nextWireType_)},jspb.BinaryReader.prototype.skipMatchingFields=function(){var t=this.nextField_;for(this.unskipHeader();this.nextField()&&this.getFieldNumber()==t;)this.skipField();this.decoder_.atEnd()||this.unskipHeader()},jspb.BinaryReader.prototype.skipVarintField=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.VARINT?(jspb.asserts.fail("Invalid wire type for skipVarintField"),this.skipField()):this.decoder_.skipVarint()},jspb.BinaryReader.prototype.skipDelimitedField=function(){if(this.nextWireType_!=jspb.BinaryConstants.WireType.DELIMITED)jspb.asserts.fail("Invalid wire type for skipDelimitedField"),this.skipField();else{var t=this.decoder_.readUnsignedVarint32();this.decoder_.advance(t)}},jspb.BinaryReader.prototype.skipFixed32Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED32?(jspb.asserts.fail("Invalid wire type for skipFixed32Field"),this.skipField()):this.decoder_.advance(4)},jspb.BinaryReader.prototype.skipFixed64Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED64?(jspb.asserts.fail("Invalid wire type for skipFixed64Field"),this.skipField()):this.decoder_.advance(8)},jspb.BinaryReader.prototype.skipGroup=function(){for(var t=this.nextField_;;){if(!this.nextField()){jspb.asserts.fail("Unmatched start-group tag: stream EOF"),this.error_=!0;break}if(this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP){this.nextField_!=t&&(jspb.asserts.fail("Unmatched end-group tag"),this.error_=!0);break}this.skipField()}},jspb.BinaryReader.prototype.skipField=function(){switch(this.nextWireType_){case jspb.BinaryConstants.WireType.VARINT:this.skipVarintField();break;case jspb.BinaryConstants.WireType.FIXED64:this.skipFixed64Field();break;case jspb.BinaryConstants.WireType.DELIMITED:this.skipDelimitedField();break;case jspb.BinaryConstants.WireType.FIXED32:this.skipFixed32Field();break;case jspb.BinaryConstants.WireType.START_GROUP:this.skipGroup();break;default:jspb.asserts.fail("Invalid wire encoding for field.")}},jspb.BinaryReader.prototype.registerReadCallback=function(t,e){this.readCallbacks_===null&&(this.readCallbacks_={}),jspb.asserts.assert(!this.readCallbacks_[t]),this.readCallbacks_[t]=e},jspb.BinaryReader.prototype.runReadCallback=function(t){return jspb.asserts.assert(this.readCallbacks_!==null),t=this.readCallbacks_[t],jspb.asserts.assert(t),t(this)},jspb.BinaryReader.prototype.readAny=function(t){this.nextWireType_=jspb.BinaryConstants.FieldTypeToWireType(t);var e=jspb.BinaryConstants.FieldType;switch(t){case e.DOUBLE:return this.readDouble();case e.FLOAT:return this.readFloat();case e.INT64:return this.readInt64();case e.UINT64:return this.readUint64();case e.INT32:return this.readInt32();case e.FIXED64:return this.readFixed64();case e.FIXED32:return this.readFixed32();case e.BOOL:return this.readBool();case e.STRING:return this.readString();case e.GROUP:jspb.asserts.fail("Group field type not supported in readAny()");case e.MESSAGE:jspb.asserts.fail("Message field type not supported in readAny()");case e.BYTES:return this.readBytes();case e.UINT32:return this.readUint32();case e.ENUM:return this.readEnum();case e.SFIXED32:return this.readSfixed32();case e.SFIXED64:return this.readSfixed64();case e.SINT32:return this.readSint32();case e.SINT64:return this.readSint64();case e.FHASH64:return this.readFixedHash64();case e.VHASH64:return this.readVarintHash64();default:jspb.asserts.fail("Invalid field type in readAny()")}return 0},jspb.BinaryReader.prototype.readMessage=function(t,e){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var r=this.decoder_.getEnd(),n=this.decoder_.readUnsignedVarint32();n=this.decoder_.getCursor()+n,this.decoder_.setEnd(n),e(t,this),this.decoder_.setCursor(n),this.decoder_.setEnd(r)},goog.exportProperty(jspb.BinaryReader.prototype,"readMessage",jspb.BinaryReader.prototype.readMessage),jspb.BinaryReader.prototype.readGroup=function(t,e,r){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.START_GROUP),jspb.asserts.assert(this.nextField_==t),r(e,this),this.error_||this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP||(jspb.asserts.fail("Group submessage did not end with an END_GROUP tag"),this.error_=!0)},goog.exportProperty(jspb.BinaryReader.prototype,"readGroup",jspb.BinaryReader.prototype.readGroup),jspb.BinaryReader.prototype.getFieldDecoder=function(){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var t=this.decoder_.readUnsignedVarint32(),e=this.decoder_.getCursor(),r=e+t;return t=jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(),e,t),this.decoder_.setCursor(r),t},jspb.BinaryReader.prototype.readInt32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readInt32",jspb.BinaryReader.prototype.readInt32),jspb.BinaryReader.prototype.readInt32String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32String()},jspb.BinaryReader.prototype.readInt64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readInt64",jspb.BinaryReader.prototype.readInt64),jspb.BinaryReader.prototype.readInt64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64String()},jspb.BinaryReader.prototype.readUint32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readUint32",jspb.BinaryReader.prototype.readUint32),jspb.BinaryReader.prototype.readUint32String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32String()},jspb.BinaryReader.prototype.readUint64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readUint64",jspb.BinaryReader.prototype.readUint64),jspb.BinaryReader.prototype.readUint64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64String()},jspb.BinaryReader.prototype.readSint32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readSint32",jspb.BinaryReader.prototype.readSint32),jspb.BinaryReader.prototype.readSint64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readSint64",jspb.BinaryReader.prototype.readSint64),jspb.BinaryReader.prototype.readSint64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64String()},jspb.BinaryReader.prototype.readFixed32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readUint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readFixed32",jspb.BinaryReader.prototype.readFixed32),jspb.BinaryReader.prototype.readFixed64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readFixed64",jspb.BinaryReader.prototype.readFixed64),jspb.BinaryReader.prototype.readFixed64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64String()},jspb.BinaryReader.prototype.readSfixed32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32()},goog.exportProperty(jspb.BinaryReader.prototype,"readSfixed32",jspb.BinaryReader.prototype.readSfixed32),jspb.BinaryReader.prototype.readSfixed32String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32().toString()},jspb.BinaryReader.prototype.readSfixed64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64()},goog.exportProperty(jspb.BinaryReader.prototype,"readSfixed64",jspb.BinaryReader.prototype.readSfixed64),jspb.BinaryReader.prototype.readSfixed64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64String()},jspb.BinaryReader.prototype.readFloat=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readFloat()},goog.exportProperty(jspb.BinaryReader.prototype,"readFloat",jspb.BinaryReader.prototype.readFloat),jspb.BinaryReader.prototype.readDouble=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readDouble()},goog.exportProperty(jspb.BinaryReader.prototype,"readDouble",jspb.BinaryReader.prototype.readDouble),jspb.BinaryReader.prototype.readBool=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),!!this.decoder_.readUnsignedVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readBool",jspb.BinaryReader.prototype.readBool),jspb.BinaryReader.prototype.readEnum=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readEnum",jspb.BinaryReader.prototype.readEnum),jspb.BinaryReader.prototype.readString=function(){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var t=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(t)},goog.exportProperty(jspb.BinaryReader.prototype,"readString",jspb.BinaryReader.prototype.readString),jspb.BinaryReader.prototype.readBytes=function(){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var t=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(t)},goog.exportProperty(jspb.BinaryReader.prototype,"readBytes",jspb.BinaryReader.prototype.readBytes),jspb.BinaryReader.prototype.readVarintHash64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readVarintHash64()},jspb.BinaryReader.prototype.readSintHash64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarintHash64()},jspb.BinaryReader.prototype.readSplitVarint64=function(t){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(t)},jspb.BinaryReader.prototype.readSplitZigzagVarint64=function(t){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(function(e,r){return jspb.utils.fromZigzag64(e,r,t)})},jspb.BinaryReader.prototype.readFixedHash64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readFixedHash64()},jspb.BinaryReader.prototype.readSplitFixed64=function(t){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readSplitFixed64(t)},jspb.BinaryReader.prototype.readPackedField_=function(t){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();e=this.decoder_.getCursor()+e;for(var r=[];this.decoder_.getCursor()<e;)r.push(t.call(this.decoder_));return r},jspb.BinaryReader.prototype.readPackedInt32=function(){return this.readPackedField_(this.decoder_.readSignedVarint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedInt32",jspb.BinaryReader.prototype.readPackedInt32),jspb.BinaryReader.prototype.readPackedInt32String=function(){return this.readPackedField_(this.decoder_.readSignedVarint32String)},jspb.BinaryReader.prototype.readPackedInt64=function(){return this.readPackedField_(this.decoder_.readSignedVarint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedInt64",jspb.BinaryReader.prototype.readPackedInt64),jspb.BinaryReader.prototype.readPackedInt64String=function(){return this.readPackedField_(this.decoder_.readSignedVarint64String)},jspb.BinaryReader.prototype.readPackedUint32=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedUint32",jspb.BinaryReader.prototype.readPackedUint32),jspb.BinaryReader.prototype.readPackedUint32String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32String)},jspb.BinaryReader.prototype.readPackedUint64=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedUint64",jspb.BinaryReader.prototype.readPackedUint64),jspb.BinaryReader.prototype.readPackedUint64String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64String)},jspb.BinaryReader.prototype.readPackedSint32=function(){return this.readPackedField_(this.decoder_.readZigzagVarint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSint32",jspb.BinaryReader.prototype.readPackedSint32),jspb.BinaryReader.prototype.readPackedSint64=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSint64",jspb.BinaryReader.prototype.readPackedSint64),jspb.BinaryReader.prototype.readPackedSint64String=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64String)},jspb.BinaryReader.prototype.readPackedFixed32=function(){return this.readPackedField_(this.decoder_.readUint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedFixed32",jspb.BinaryReader.prototype.readPackedFixed32),jspb.BinaryReader.prototype.readPackedFixed64=function(){return this.readPackedField_(this.decoder_.readUint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedFixed64",jspb.BinaryReader.prototype.readPackedFixed64),jspb.BinaryReader.prototype.readPackedFixed64String=function(){return this.readPackedField_(this.decoder_.readUint64String)},jspb.BinaryReader.prototype.readPackedSfixed32=function(){return this.readPackedField_(this.decoder_.readInt32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSfixed32",jspb.BinaryReader.prototype.readPackedSfixed32),jspb.BinaryReader.prototype.readPackedSfixed64=function(){return this.readPackedField_(this.decoder_.readInt64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSfixed64",jspb.BinaryReader.prototype.readPackedSfixed64),jspb.BinaryReader.prototype.readPackedSfixed64String=function(){return this.readPackedField_(this.decoder_.readInt64String)},jspb.BinaryReader.prototype.readPackedFloat=function(){return this.readPackedField_(this.decoder_.readFloat)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedFloat",jspb.BinaryReader.prototype.readPackedFloat),jspb.BinaryReader.prototype.readPackedDouble=function(){return this.readPackedField_(this.decoder_.readDouble)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedDouble",jspb.BinaryReader.prototype.readPackedDouble),jspb.BinaryReader.prototype.readPackedBool=function(){return this.readPackedField_(this.decoder_.readBool)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedBool",jspb.BinaryReader.prototype.readPackedBool),jspb.BinaryReader.prototype.readPackedEnum=function(){return this.readPackedField_(this.decoder_.readEnum)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedEnum",jspb.BinaryReader.prototype.readPackedEnum),jspb.BinaryReader.prototype.readPackedVarintHash64=function(){return this.readPackedField_(this.decoder_.readVarintHash64)},jspb.BinaryReader.prototype.readPackedFixedHash64=function(){return this.readPackedField_(this.decoder_.readFixedHash64)},jspb.BinaryEncoder=function(){this.buffer_=[]},jspb.BinaryEncoder.prototype.length=function(){return this.buffer_.length},jspb.BinaryEncoder.prototype.end=function(){var t=this.buffer_;return this.buffer_=[],t},jspb.BinaryEncoder.prototype.writeSplitVarint64=function(t,e){for(jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32);0<e||127<t;)this.buffer_.push(127&t|128),t=(t>>>7|e<<25)>>>0,e>>>=7;this.buffer_.push(t)},jspb.BinaryEncoder.prototype.writeSplitFixed64=function(t,e){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.writeUint32(t),this.writeUint32(e)},jspb.BinaryEncoder.prototype.writeUnsignedVarint32=function(t){for(jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32);127<t;)this.buffer_.push(127&t|128),t>>>=7;this.buffer_.push(t)},jspb.BinaryEncoder.prototype.writeSignedVarint32=function(t){if(jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),0<=t)this.writeUnsignedVarint32(t);else{for(var e=0;9>e;e++)this.buffer_.push(127&t|128),t>>=7;this.buffer_.push(1)}},jspb.BinaryEncoder.prototype.writeUnsignedVarint64=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitInt64(t),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeSignedVarint64=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(t),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint32=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeUnsignedVarint32((t<<1^t>>31)>>>0)},jspb.BinaryEncoder.prototype.writeZigzagVarint64=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitZigzag64(t),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint64String=function(t){this.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(t))},jspb.BinaryEncoder.prototype.writeZigzagVarintHash64=function(t){var e=this;jspb.utils.splitHash64(t),jspb.utils.toZigzag64(jspb.utils.split64Low,jspb.utils.split64High,function(r,n){e.writeSplitVarint64(r>>>0,n>>>0)})},jspb.BinaryEncoder.prototype.writeUint8=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(0<=t&&256>t),this.buffer_.push(t>>>0&255)},jspb.BinaryEncoder.prototype.writeUint16=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(0<=t&&65536>t),this.buffer_.push(t>>>0&255),this.buffer_.push(t>>>8&255)},jspb.BinaryEncoder.prototype.writeUint32=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.buffer_.push(t>>>0&255),this.buffer_.push(t>>>8&255),this.buffer_.push(t>>>16&255),this.buffer_.push(t>>>24&255)},jspb.BinaryEncoder.prototype.writeUint64=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitUint64(t),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt8=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(-128<=t&&128>t),this.buffer_.push(t>>>0&255)},jspb.BinaryEncoder.prototype.writeInt16=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(-32768<=t&&32768>t),this.buffer_.push(t>>>0&255),this.buffer_.push(t>>>8&255)},jspb.BinaryEncoder.prototype.writeInt32=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.buffer_.push(t>>>0&255),this.buffer_.push(t>>>8&255),this.buffer_.push(t>>>16&255),this.buffer_.push(t>>>24&255)},jspb.BinaryEncoder.prototype.writeInt64=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(t),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt64String=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(+t>=-jspb.BinaryConstants.TWO_TO_63&&+t<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(t)),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFloat=function(t){jspb.asserts.assert(t===1/0||t===-1/0||isNaN(t)||t>=-jspb.BinaryConstants.FLOAT32_MAX&&t<=jspb.BinaryConstants.FLOAT32_MAX),jspb.utils.splitFloat32(t),this.writeUint32(jspb.utils.split64Low)},jspb.BinaryEncoder.prototype.writeDouble=function(t){jspb.asserts.assert(t===1/0||t===-1/0||isNaN(t)||t>=-jspb.BinaryConstants.FLOAT64_MAX&&t<=jspb.BinaryConstants.FLOAT64_MAX),jspb.utils.splitFloat64(t),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeBool=function(t){jspb.asserts.assert(typeof t=="boolean"||typeof t=="number"),this.buffer_.push(t?1:0)},jspb.BinaryEncoder.prototype.writeEnum=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32(t)},jspb.BinaryEncoder.prototype.writeBytes=function(t){this.buffer_.push.apply(this.buffer_,t)},jspb.BinaryEncoder.prototype.writeVarintHash64=function(t){jspb.utils.splitHash64(t),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFixedHash64=function(t){jspb.utils.splitHash64(t),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeString=function(t){var e=this.buffer_.length;jspb.asserts.assertString(t);for(var r=0;r<t.length;r++){var n=t.charCodeAt(r);if(128>n)this.buffer_.push(n);else if(2048>n)this.buffer_.push(n>>6|192),this.buffer_.push(63&n|128);else if(65536>n)if(55296<=n&&56319>=n&&r+1<t.length){var o=t.charCodeAt(r+1);56320<=o&&57343>=o&&(n=1024*(n-55296)+o-56320+65536,this.buffer_.push(n>>18|240),this.buffer_.push(n>>12&63|128),this.buffer_.push(n>>6&63|128),this.buffer_.push(63&n|128),r++)}else this.buffer_.push(n>>12|224),this.buffer_.push(n>>6&63|128),this.buffer_.push(63&n|128)}return this.buffer_.length-e},jspb.arith={},jspb.arith.UInt64=function(t,e){this.lo=t,this.hi=e},jspb.arith.UInt64.prototype.cmp=function(t){return this.hi<t.hi||this.hi==t.hi&&this.lo<t.lo?-1:this.hi==t.hi&&this.lo==t.lo?0:1},jspb.arith.UInt64.prototype.rightShift=function(){return new jspb.arith.UInt64((this.lo>>>1|(1&this.hi)<<31)>>>0,this.hi>>>1>>>0)},jspb.arith.UInt64.prototype.leftShift=function(){return new jspb.arith.UInt64(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},jspb.arith.UInt64.prototype.msb=function(){return!!(2147483648&this.hi)},jspb.arith.UInt64.prototype.lsb=function(){return!!(1&this.lo)},jspb.arith.UInt64.prototype.zero=function(){return this.lo==0&&this.hi==0},jspb.arith.UInt64.prototype.add=function(t){return new jspb.arith.UInt64((this.lo+t.lo&4294967295)>>>0>>>0,((this.hi+t.hi&4294967295)>>>0)+(4294967296<=this.lo+t.lo?1:0)>>>0)},jspb.arith.UInt64.prototype.sub=function(t){return new jspb.arith.UInt64((this.lo-t.lo&4294967295)>>>0>>>0,((this.hi-t.hi&4294967295)>>>0)-(0>this.lo-t.lo?1:0)>>>0)},jspb.arith.UInt64.mul32x32=function(t,e){var r=65535&t,n=65535&e,o=e>>>16;for(e=r*n+65536*(r*o&65535)+65536*((t>>>=16)*n&65535),r=t*o+(r*o>>>16)+(t*n>>>16);4294967296<=e;)e-=4294967296,r+=1;return new jspb.arith.UInt64(e>>>0,r>>>0)},jspb.arith.UInt64.prototype.mul=function(t){var e=jspb.arith.UInt64.mul32x32(this.lo,t);return(t=jspb.arith.UInt64.mul32x32(this.hi,t)).hi=t.lo,t.lo=0,e.add(t)},jspb.arith.UInt64.prototype.div=function(t){if(t==0)return[];var e=new jspb.arith.UInt64(0,0),r=new jspb.arith.UInt64(this.lo,this.hi);t=new jspb.arith.UInt64(t,0);for(var n=new jspb.arith.UInt64(1,0);!t.msb();)t=t.leftShift(),n=n.leftShift();for(;!n.zero();)0>=t.cmp(r)&&(e=e.add(n),r=r.sub(t)),t=t.rightShift(),n=n.rightShift();return[e,r]},jspb.arith.UInt64.prototype.toString=function(){for(var t="",e=this;!e.zero();){var r=(e=e.div(10))[0];t=e[1].lo+t,e=r}return t==""&&(t="0"),t},jspb.arith.UInt64.fromString=function(t){for(var e=new jspb.arith.UInt64(0,0),r=new jspb.arith.UInt64(0,0),n=0;n<t.length;n++){if("0">t[n]||"9"<t[n])return null;var o=parseInt(t[n],10);r.lo=o,e=e.mul(10).add(r)}return e},jspb.arith.UInt64.prototype.clone=function(){return new jspb.arith.UInt64(this.lo,this.hi)},jspb.arith.Int64=function(t,e){this.lo=t,this.hi=e},jspb.arith.Int64.prototype.add=function(t){return new jspb.arith.Int64((this.lo+t.lo&4294967295)>>>0>>>0,((this.hi+t.hi&4294967295)>>>0)+(4294967296<=this.lo+t.lo?1:0)>>>0)},jspb.arith.Int64.prototype.sub=function(t){return new jspb.arith.Int64((this.lo-t.lo&4294967295)>>>0>>>0,((this.hi-t.hi&4294967295)>>>0)-(0>this.lo-t.lo?1:0)>>>0)},jspb.arith.Int64.prototype.clone=function(){return new jspb.arith.Int64(this.lo,this.hi)},jspb.arith.Int64.prototype.toString=function(){var t=(2147483648&this.hi)!=0,e=new jspb.arith.UInt64(this.lo,this.hi);return t&&(e=new jspb.arith.UInt64(0,0).sub(e)),(t?"-":"")+e.toString()},jspb.arith.Int64.fromString=function(t){var e=0<t.length&&t[0]=="-";return e&&(t=t.substring(1)),(t=jspb.arith.UInt64.fromString(t))===null?null:(e&&(t=new jspb.arith.UInt64(0,0).sub(t)),new jspb.arith.Int64(t.lo,t.hi))},jspb.BinaryWriter=function(){this.blocks_=[],this.totalLength_=0,this.encoder_=new jspb.BinaryEncoder,this.bookmarks_=[]},jspb.BinaryWriter.prototype.appendUint8Array_=function(t){var e=this.encoder_.end();this.blocks_.push(e),this.blocks_.push(t),this.totalLength_+=e.length+t.length},jspb.BinaryWriter.prototype.beginDelimited_=function(t){return this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),t=this.encoder_.end(),this.blocks_.push(t),this.totalLength_+=t.length,t.push(this.totalLength_),t},jspb.BinaryWriter.prototype.endDelimited_=function(t){var e=t.pop();for(e=this.totalLength_+this.encoder_.length()-e,jspb.asserts.assert(0<=e);127<e;)t.push(127&e|128),e>>>=7,this.totalLength_++;t.push(e),this.totalLength_++},jspb.BinaryWriter.prototype.writeSerializedMessage=function(t,e,r){this.appendUint8Array_(t.subarray(e,r))},jspb.BinaryWriter.prototype.maybeWriteSerializedMessage=function(t,e,r){t!=null&&e!=null&&r!=null&&this.writeSerializedMessage(t,e,r)},jspb.BinaryWriter.prototype.reset=function(){this.blocks_=[],this.encoder_.end(),this.totalLength_=0,this.bookmarks_=[]},jspb.BinaryWriter.prototype.getResultBuffer=function(){jspb.asserts.assert(this.bookmarks_.length==0);for(var t=new Uint8Array(this.totalLength_+this.encoder_.length()),e=this.blocks_,r=e.length,n=0,o=0;o<r;o++){var s=e[o];t.set(s,n),n+=s.length}return e=this.encoder_.end(),t.set(e,n),n+=e.length,jspb.asserts.assert(n==t.length),this.blocks_=[t],t},goog.exportProperty(jspb.BinaryWriter.prototype,"getResultBuffer",jspb.BinaryWriter.prototype.getResultBuffer),jspb.BinaryWriter.prototype.getResultBase64String=function(t){return goog.crypt.base64.encodeByteArray(this.getResultBuffer(),t)},jspb.BinaryWriter.prototype.beginSubMessage=function(t){this.bookmarks_.push(this.beginDelimited_(t))},jspb.BinaryWriter.prototype.endSubMessage=function(){jspb.asserts.assert(0<=this.bookmarks_.length),this.endDelimited_(this.bookmarks_.pop())},jspb.BinaryWriter.prototype.writeFieldHeader_=function(t,e){jspb.asserts.assert(1<=t&&t==Math.floor(t)),this.encoder_.writeUnsignedVarint32(8*t+e)},jspb.BinaryWriter.prototype.writeAny=function(t,e,r){var n=jspb.BinaryConstants.FieldType;switch(t){case n.DOUBLE:this.writeDouble(e,r);break;case n.FLOAT:this.writeFloat(e,r);break;case n.INT64:this.writeInt64(e,r);break;case n.UINT64:this.writeUint64(e,r);break;case n.INT32:this.writeInt32(e,r);break;case n.FIXED64:this.writeFixed64(e,r);break;case n.FIXED32:this.writeFixed32(e,r);break;case n.BOOL:this.writeBool(e,r);break;case n.STRING:this.writeString(e,r);break;case n.GROUP:jspb.asserts.fail("Group field type not supported in writeAny()");break;case n.MESSAGE:jspb.asserts.fail("Message field type not supported in writeAny()");break;case n.BYTES:this.writeBytes(e,r);break;case n.UINT32:this.writeUint32(e,r);break;case n.ENUM:this.writeEnum(e,r);break;case n.SFIXED32:this.writeSfixed32(e,r);break;case n.SFIXED64:this.writeSfixed64(e,r);break;case n.SINT32:this.writeSint32(e,r);break;case n.SINT64:this.writeSint64(e,r);break;case n.FHASH64:this.writeFixedHash64(e,r);break;case n.VHASH64:this.writeVarintHash64(e,r);break;default:jspb.asserts.fail("Invalid field type in writeAny()")}},jspb.BinaryWriter.prototype.writeUnsignedVarint32_=function(t,e){e!=null&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint32(e))},jspb.BinaryWriter.prototype.writeSignedVarint32_=function(t,e){e!=null&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(e))},jspb.BinaryWriter.prototype.writeUnsignedVarint64_=function(t,e){e!=null&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint64(e))},jspb.BinaryWriter.prototype.writeSignedVarint64_=function(t,e){e!=null&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint64(e))},jspb.BinaryWriter.prototype.writeZigzagVarint32_=function(t,e){e!=null&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint32(e))},jspb.BinaryWriter.prototype.writeZigzagVarint64_=function(t,e){e!=null&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64(e))},jspb.BinaryWriter.prototype.writeZigzagVarint64String_=function(t,e){e!=null&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64String(e))},jspb.BinaryWriter.prototype.writeZigzagVarintHash64_=function(t,e){e!=null&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarintHash64(e))},jspb.BinaryWriter.prototype.writeInt32=function(t,e){e!=null&&(jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(t,e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeInt32",jspb.BinaryWriter.prototype.writeInt32),jspb.BinaryWriter.prototype.writeInt32String=function(t,e){e!=null&&(e=parseInt(e,10),jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(t,e))},jspb.BinaryWriter.prototype.writeInt64=function(t,e){e!=null&&(jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),this.writeSignedVarint64_(t,e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeInt64",jspb.BinaryWriter.prototype.writeInt64),jspb.BinaryWriter.prototype.writeInt64String=function(t,e){e!=null&&(e=jspb.arith.Int64.fromString(e),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(e.lo,e.hi))},jspb.BinaryWriter.prototype.writeUint32=function(t,e){e!=null&&(jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(t,e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeUint32",jspb.BinaryWriter.prototype.writeUint32),jspb.BinaryWriter.prototype.writeUint32String=function(t,e){e!=null&&(e=parseInt(e,10),jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(t,e))},jspb.BinaryWriter.prototype.writeUint64=function(t,e){e!=null&&(jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),this.writeUnsignedVarint64_(t,e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeUint64",jspb.BinaryWriter.prototype.writeUint64),jspb.BinaryWriter.prototype.writeUint64String=function(t,e){e!=null&&(e=jspb.arith.UInt64.fromString(e),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(e.lo,e.hi))},jspb.BinaryWriter.prototype.writeSint32=function(t,e){e!=null&&(jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeZigzagVarint32_(t,e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSint32",jspb.BinaryWriter.prototype.writeSint32),jspb.BinaryWriter.prototype.writeSint64=function(t,e){e!=null&&(jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64_(t,e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSint64",jspb.BinaryWriter.prototype.writeSint64),jspb.BinaryWriter.prototype.writeSintHash64=function(t,e){e!=null&&this.writeZigzagVarintHash64_(t,e)},jspb.BinaryWriter.prototype.writeSint64String=function(t,e){e!=null&&this.writeZigzagVarint64String_(t,e)},jspb.BinaryWriter.prototype.writeFixed32=function(t,e){e!=null&&(jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeUint32(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeFixed32",jspb.BinaryWriter.prototype.writeFixed32),jspb.BinaryWriter.prototype.writeFixed64=function(t,e){e!=null&&(jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeUint64(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeFixed64",jspb.BinaryWriter.prototype.writeFixed64),jspb.BinaryWriter.prototype.writeFixed64String=function(t,e){e!=null&&(e=jspb.arith.UInt64.fromString(e),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(e.lo,e.hi))},jspb.BinaryWriter.prototype.writeSfixed32=function(t,e){e!=null&&(jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeInt32(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSfixed32",jspb.BinaryWriter.prototype.writeSfixed32),jspb.BinaryWriter.prototype.writeSfixed64=function(t,e){e!=null&&(jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeInt64(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSfixed64",jspb.BinaryWriter.prototype.writeSfixed64),jspb.BinaryWriter.prototype.writeSfixed64String=function(t,e){e!=null&&(e=jspb.arith.Int64.fromString(e),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(e.lo,e.hi))},jspb.BinaryWriter.prototype.writeFloat=function(t,e){e!=null&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeFloat(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeFloat",jspb.BinaryWriter.prototype.writeFloat),jspb.BinaryWriter.prototype.writeDouble=function(t,e){e!=null&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeDouble(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeDouble",jspb.BinaryWriter.prototype.writeDouble),jspb.BinaryWriter.prototype.writeBool=function(t,e){e!=null&&(jspb.asserts.assert(typeof e=="boolean"||typeof e=="number"),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeBool(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeBool",jspb.BinaryWriter.prototype.writeBool),jspb.BinaryWriter.prototype.writeEnum=function(t,e){e!=null&&(jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeEnum",jspb.BinaryWriter.prototype.writeEnum),jspb.BinaryWriter.prototype.writeString=function(t,e){e!=null&&(t=this.beginDelimited_(t),this.encoder_.writeString(e),this.endDelimited_(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeString",jspb.BinaryWriter.prototype.writeString),jspb.BinaryWriter.prototype.writeBytes=function(t,e){e!=null&&(e=jspb.utils.byteSourceToUint8Array(e),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(e.length),this.appendUint8Array_(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeBytes",jspb.BinaryWriter.prototype.writeBytes),jspb.BinaryWriter.prototype.writeMessage=function(t,e,r){e!=null&&(t=this.beginDelimited_(t),r(e,this),this.endDelimited_(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeMessage",jspb.BinaryWriter.prototype.writeMessage),jspb.BinaryWriter.prototype.writeMessageSet=function(t,e,r){e!=null&&(this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.START_GROUP),this.writeFieldHeader_(2,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t),t=this.beginDelimited_(3),r(e,this),this.endDelimited_(t),this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeGroup=function(t,e,r){e!=null&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.START_GROUP),r(e,this),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.END_GROUP))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeGroup",jspb.BinaryWriter.prototype.writeGroup),jspb.BinaryWriter.prototype.writeFixedHash64=function(t,e){e!=null&&(jspb.asserts.assert(e.length==8),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeFixedHash64(e))},jspb.BinaryWriter.prototype.writeVarintHash64=function(t,e){e!=null&&(jspb.asserts.assert(e.length==8),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeVarintHash64(e))},jspb.BinaryWriter.prototype.writeSplitFixed64=function(t,e,r){this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(e,r)},jspb.BinaryWriter.prototype.writeSplitVarint64=function(t,e,r){this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(e,r)},jspb.BinaryWriter.prototype.writeSplitZigzagVarint64=function(t,e,r){this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT);var n=this.encoder_;jspb.utils.toZigzag64(e,r,function(o,s){n.writeSplitVarint64(o>>>0,s>>>0)})},jspb.BinaryWriter.prototype.writeRepeatedInt32=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeSignedVarint32_(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedInt32",jspb.BinaryWriter.prototype.writeRepeatedInt32),jspb.BinaryWriter.prototype.writeRepeatedInt32String=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeInt32String(t,e[r])},jspb.BinaryWriter.prototype.writeRepeatedInt64=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeSignedVarint64_(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedInt64",jspb.BinaryWriter.prototype.writeRepeatedInt64),jspb.BinaryWriter.prototype.writeRepeatedSplitFixed64=function(t,e,r,n){if(e!=null)for(var o=0;o<e.length;o++)this.writeSplitFixed64(t,r(e[o]),n(e[o]))},jspb.BinaryWriter.prototype.writeRepeatedSplitVarint64=function(t,e,r,n){if(e!=null)for(var o=0;o<e.length;o++)this.writeSplitVarint64(t,r(e[o]),n(e[o]))},jspb.BinaryWriter.prototype.writeRepeatedSplitZigzagVarint64=function(t,e,r,n){if(e!=null)for(var o=0;o<e.length;o++)this.writeSplitZigzagVarint64(t,r(e[o]),n(e[o]))},jspb.BinaryWriter.prototype.writeRepeatedInt64String=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeInt64String(t,e[r])},jspb.BinaryWriter.prototype.writeRepeatedUint32=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeUnsignedVarint32_(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedUint32",jspb.BinaryWriter.prototype.writeRepeatedUint32),jspb.BinaryWriter.prototype.writeRepeatedUint32String=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeUint32String(t,e[r])},jspb.BinaryWriter.prototype.writeRepeatedUint64=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeUnsignedVarint64_(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedUint64",jspb.BinaryWriter.prototype.writeRepeatedUint64),jspb.BinaryWriter.prototype.writeRepeatedUint64String=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeUint64String(t,e[r])},jspb.BinaryWriter.prototype.writeRepeatedSint32=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeZigzagVarint32_(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSint32",jspb.BinaryWriter.prototype.writeRepeatedSint32),jspb.BinaryWriter.prototype.writeRepeatedSint64=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeZigzagVarint64_(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSint64",jspb.BinaryWriter.prototype.writeRepeatedSint64),jspb.BinaryWriter.prototype.writeRepeatedSint64String=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeZigzagVarint64String_(t,e[r])},jspb.BinaryWriter.prototype.writeRepeatedSintHash64=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeZigzagVarintHash64_(t,e[r])},jspb.BinaryWriter.prototype.writeRepeatedFixed32=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeFixed32(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFixed32",jspb.BinaryWriter.prototype.writeRepeatedFixed32),jspb.BinaryWriter.prototype.writeRepeatedFixed64=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeFixed64(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFixed64",jspb.BinaryWriter.prototype.writeRepeatedFixed64),jspb.BinaryWriter.prototype.writeRepeatedFixed64String=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeFixed64String(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFixed64String",jspb.BinaryWriter.prototype.writeRepeatedFixed64String),jspb.BinaryWriter.prototype.writeRepeatedSfixed32=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeSfixed32(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSfixed32",jspb.BinaryWriter.prototype.writeRepeatedSfixed32),jspb.BinaryWriter.prototype.writeRepeatedSfixed64=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeSfixed64(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSfixed64",jspb.BinaryWriter.prototype.writeRepeatedSfixed64),jspb.BinaryWriter.prototype.writeRepeatedSfixed64String=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeSfixed64String(t,e[r])},jspb.BinaryWriter.prototype.writeRepeatedFloat=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeFloat(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFloat",jspb.BinaryWriter.prototype.writeRepeatedFloat),jspb.BinaryWriter.prototype.writeRepeatedDouble=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeDouble(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedDouble",jspb.BinaryWriter.prototype.writeRepeatedDouble),jspb.BinaryWriter.prototype.writeRepeatedBool=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeBool(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedBool",jspb.BinaryWriter.prototype.writeRepeatedBool),jspb.BinaryWriter.prototype.writeRepeatedEnum=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeEnum(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedEnum",jspb.BinaryWriter.prototype.writeRepeatedEnum),jspb.BinaryWriter.prototype.writeRepeatedString=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeString(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedString",jspb.BinaryWriter.prototype.writeRepeatedString),jspb.BinaryWriter.prototype.writeRepeatedBytes=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeBytes(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedBytes",jspb.BinaryWriter.prototype.writeRepeatedBytes),jspb.BinaryWriter.prototype.writeRepeatedMessage=function(t,e,r){if(e!=null)for(var n=0;n<e.length;n++){var o=this.beginDelimited_(t);r(e[n],this),this.endDelimited_(o)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedMessage",jspb.BinaryWriter.prototype.writeRepeatedMessage),jspb.BinaryWriter.prototype.writeRepeatedGroup=function(t,e,r){if(e!=null)for(var n=0;n<e.length;n++)this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.START_GROUP),r(e[n],this),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.END_GROUP)},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedGroup",jspb.BinaryWriter.prototype.writeRepeatedGroup),jspb.BinaryWriter.prototype.writeRepeatedFixedHash64=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeFixedHash64(t,e[r])},jspb.BinaryWriter.prototype.writeRepeatedVarintHash64=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeVarintHash64(t,e[r])},jspb.BinaryWriter.prototype.writePackedInt32=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++)this.encoder_.writeSignedVarint32(e[r]);this.endDelimited_(t)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedInt32",jspb.BinaryWriter.prototype.writePackedInt32),jspb.BinaryWriter.prototype.writePackedInt32String=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++)this.encoder_.writeSignedVarint32(parseInt(e[r],10));this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedInt64=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++)this.encoder_.writeSignedVarint64(e[r]);this.endDelimited_(t)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedInt64",jspb.BinaryWriter.prototype.writePackedInt64),jspb.BinaryWriter.prototype.writePackedSplitFixed64=function(t,e,r,n){if(e!=null){t=this.beginDelimited_(t);for(var o=0;o<e.length;o++)this.encoder_.writeSplitFixed64(r(e[o]),n(e[o]));this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedSplitVarint64=function(t,e,r,n){if(e!=null){t=this.beginDelimited_(t);for(var o=0;o<e.length;o++)this.encoder_.writeSplitVarint64(r(e[o]),n(e[o]));this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedSplitZigzagVarint64=function(t,e,r,n){if(e!=null){t=this.beginDelimited_(t);for(var o=this.encoder_,s=0;s<e.length;s++)jspb.utils.toZigzag64(r(e[s]),n(e[s]),function(c,d){o.writeSplitVarint64(c>>>0,d>>>0)});this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedInt64String=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++){var n=jspb.arith.Int64.fromString(e[r]);this.encoder_.writeSplitVarint64(n.lo,n.hi)}this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedUint32=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++)this.encoder_.writeUnsignedVarint32(e[r]);this.endDelimited_(t)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedUint32",jspb.BinaryWriter.prototype.writePackedUint32),jspb.BinaryWriter.prototype.writePackedUint32String=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++)this.encoder_.writeUnsignedVarint32(parseInt(e[r],10));this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedUint64=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++)this.encoder_.writeUnsignedVarint64(e[r]);this.endDelimited_(t)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedUint64",jspb.BinaryWriter.prototype.writePackedUint64),jspb.BinaryWriter.prototype.writePackedUint64String=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++){var n=jspb.arith.UInt64.fromString(e[r]);this.encoder_.writeSplitVarint64(n.lo,n.hi)}this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedSint32=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++)this.encoder_.writeZigzagVarint32(e[r]);this.endDelimited_(t)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSint32",jspb.BinaryWriter.prototype.writePackedSint32),jspb.BinaryWriter.prototype.writePackedSint64=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++)this.encoder_.writeZigzagVarint64(e[r]);this.endDelimited_(t)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSint64",jspb.BinaryWriter.prototype.writePackedSint64),jspb.BinaryWriter.prototype.writePackedSint64String=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++)this.encoder_.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(e[r]));this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedSintHash64=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++)this.encoder_.writeZigzagVarintHash64(e[r]);this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedFixed32=function(t,e){if(e!=null&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*e.length),t=0;t<e.length;t++)this.encoder_.writeUint32(e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedFixed32",jspb.BinaryWriter.prototype.writePackedFixed32),jspb.BinaryWriter.prototype.writePackedFixed64=function(t,e){if(e!=null&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*e.length),t=0;t<e.length;t++)this.encoder_.writeUint64(e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedFixed64",jspb.BinaryWriter.prototype.writePackedFixed64),jspb.BinaryWriter.prototype.writePackedFixed64String=function(t,e){if(e!=null&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*e.length),t=0;t<e.length;t++){var r=jspb.arith.UInt64.fromString(e[t]);this.encoder_.writeSplitFixed64(r.lo,r.hi)}},jspb.BinaryWriter.prototype.writePackedSfixed32=function(t,e){if(e!=null&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*e.length),t=0;t<e.length;t++)this.encoder_.writeInt32(e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSfixed32",jspb.BinaryWriter.prototype.writePackedSfixed32),jspb.BinaryWriter.prototype.writePackedSfixed64=function(t,e){if(e!=null&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*e.length),t=0;t<e.length;t++)this.encoder_.writeInt64(e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSfixed64",jspb.BinaryWriter.prototype.writePackedSfixed64),jspb.BinaryWriter.prototype.writePackedSfixed64String=function(t,e){if(e!=null&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*e.length),t=0;t<e.length;t++)this.encoder_.writeInt64String(e[t])},jspb.BinaryWriter.prototype.writePackedFloat=function(t,e){if(e!=null&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*e.length),t=0;t<e.length;t++)this.encoder_.writeFloat(e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedFloat",jspb.BinaryWriter.prototype.writePackedFloat),jspb.BinaryWriter.prototype.writePackedDouble=function(t,e){if(e!=null&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*e.length),t=0;t<e.length;t++)this.encoder_.writeDouble(e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedDouble",jspb.BinaryWriter.prototype.writePackedDouble),jspb.BinaryWriter.prototype.writePackedBool=function(t,e){if(e!=null&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(e.length),t=0;t<e.length;t++)this.encoder_.writeBool(e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedBool",jspb.BinaryWriter.prototype.writePackedBool),jspb.BinaryWriter.prototype.writePackedEnum=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++)this.encoder_.writeEnum(e[r]);this.endDelimited_(t)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedEnum",jspb.BinaryWriter.prototype.writePackedEnum),jspb.BinaryWriter.prototype.writePackedFixedHash64=function(t,e){if(e!=null&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*e.length),t=0;t<e.length;t++)this.encoder_.writeFixedHash64(e[t])},jspb.BinaryWriter.prototype.writePackedVarintHash64=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++)this.encoder_.writeVarintHash64(e[r]);this.endDelimited_(t)}},jspb.Map=function(t,e){this.arr_=t,this.valueCtor_=e,this.map_={},this.arrClean=!0,0<this.arr_.length&&this.loadFromArray_()},goog.exportSymbol("jspb.Map",jspb.Map),jspb.Map.prototype.loadFromArray_=function(){for(var t=0;t<this.arr_.length;t++){var e=this.arr_[t],r=e[0];this.map_[r.toString()]=new jspb.Map.Entry_(r,e[1])}this.arrClean=!0},jspb.Map.prototype.toArray=function(){if(this.arrClean){if(this.valueCtor_){var t,e=this.map_;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var r=e[t].valueWrapper;r&&r.toArray()}}}else{for(this.arr_.length=0,(e=this.stringKeys_()).sort(),t=0;t<e.length;t++){var n=this.map_[e[t]];(r=n.valueWrapper)&&r.toArray(),this.arr_.push([n.key,n.value])}this.arrClean=!0}return this.arr_},goog.exportProperty(jspb.Map.prototype,"toArray",jspb.Map.prototype.toArray),jspb.Map.prototype.toObject=function(t,e){for(var r=this.toArray(),n=[],o=0;o<r.length;o++){var s=this.map_[r[o][0].toString()];this.wrapEntry_(s);var c=s.valueWrapper;c?(jspb.asserts.assert(e),n.push([s.key,e(t,c)])):n.push([s.key,s.value])}return n},goog.exportProperty(jspb.Map.prototype,"toObject",jspb.Map.prototype.toObject),jspb.Map.fromObject=function(t,e,r){e=new jspb.Map([],e);for(var n=0;n<t.length;n++){var o=t[n][0],s=r(t[n][1]);e.set(o,s)}return e},goog.exportProperty(jspb.Map,"fromObject",jspb.Map.fromObject),jspb.Map.ArrayIteratorIterable_=function(t){this.idx_=0,this.arr_=t},jspb.Map.ArrayIteratorIterable_.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}},typeof Symbol<"u"&&(jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator]=function(){return this}),jspb.Map.prototype.getLength=function(){return this.stringKeys_().length},goog.exportProperty(jspb.Map.prototype,"getLength",jspb.Map.prototype.getLength),jspb.Map.prototype.clear=function(){this.map_={},this.arrClean=!1},goog.exportProperty(jspb.Map.prototype,"clear",jspb.Map.prototype.clear),jspb.Map.prototype.del=function(t){t=t.toString();var e=this.map_.hasOwnProperty(t);return delete this.map_[t],this.arrClean=!1,e},goog.exportProperty(jspb.Map.prototype,"del",jspb.Map.prototype.del),jspb.Map.prototype.getEntryList=function(){var t=[],e=this.stringKeys_();e.sort();for(var r=0;r<e.length;r++){var n=this.map_[e[r]];t.push([n.key,n.value])}return t},goog.exportProperty(jspb.Map.prototype,"getEntryList",jspb.Map.prototype.getEntryList),jspb.Map.prototype.entries=function(){var t=[],e=this.stringKeys_();e.sort();for(var r=0;r<e.length;r++){var n=this.map_[e[r]];t.push([n.key,this.wrapEntry_(n)])}return new jspb.Map.ArrayIteratorIterable_(t)},goog.exportProperty(jspb.Map.prototype,"entries",jspb.Map.prototype.entries),jspb.Map.prototype.keys=function(){var t=[],e=this.stringKeys_();e.sort();for(var r=0;r<e.length;r++)t.push(this.map_[e[r]].key);return new jspb.Map.ArrayIteratorIterable_(t)},goog.exportProperty(jspb.Map.prototype,"keys",jspb.Map.prototype.keys),jspb.Map.prototype.values=function(){var t=[],e=this.stringKeys_();e.sort();for(var r=0;r<e.length;r++)t.push(this.wrapEntry_(this.map_[e[r]]));return new jspb.Map.ArrayIteratorIterable_(t)},goog.exportProperty(jspb.Map.prototype,"values",jspb.Map.prototype.values),jspb.Map.prototype.forEach=function(t,e){var r=this.stringKeys_();r.sort();for(var n=0;n<r.length;n++){var o=this.map_[r[n]];t.call(e,this.wrapEntry_(o),o.key,this)}},goog.exportProperty(jspb.Map.prototype,"forEach",jspb.Map.prototype.forEach),jspb.Map.prototype.set=function(t,e){var r=new jspb.Map.Entry_(t);return this.valueCtor_?(r.valueWrapper=e,r.value=e.toArray()):r.value=e,this.map_[t.toString()]=r,this.arrClean=!1,this},goog.exportProperty(jspb.Map.prototype,"set",jspb.Map.prototype.set),jspb.Map.prototype.wrapEntry_=function(t){return this.valueCtor_?(t.valueWrapper||(t.valueWrapper=new this.valueCtor_(t.value)),t.valueWrapper):t.value},jspb.Map.prototype.get=function(t){if(t=this.map_[t.toString()])return this.wrapEntry_(t)},goog.exportProperty(jspb.Map.prototype,"get",jspb.Map.prototype.get),jspb.Map.prototype.has=function(t){return t.toString()in this.map_},goog.exportProperty(jspb.Map.prototype,"has",jspb.Map.prototype.has),jspb.Map.prototype.serializeBinary=function(t,e,r,n,o){var s=this.stringKeys_();s.sort();for(var c=0;c<s.length;c++){var d=this.map_[s[c]];e.beginSubMessage(t),r.call(e,1,d.key),this.valueCtor_?n.call(e,2,this.wrapEntry_(d),o):n.call(e,2,d.value),e.endSubMessage()}},goog.exportProperty(jspb.Map.prototype,"serializeBinary",jspb.Map.prototype.serializeBinary),jspb.Map.deserializeBinary=function(t,e,r,n,o,s,c){for(;e.nextField()&&!e.isEndGroup();){var d=e.getFieldNumber();d==1?s=r.call(e):d==2&&(t.valueCtor_?(jspb.asserts.assert(o),c||(c=new t.valueCtor_),n.call(e,c,o)):c=n.call(e))}jspb.asserts.assert(s!=null),jspb.asserts.assert(c!=null),t.set(s,c)},goog.exportProperty(jspb.Map,"deserializeBinary",jspb.Map.deserializeBinary),jspb.Map.prototype.stringKeys_=function(){var t,e=this.map_,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(t);return r},jspb.Map.Entry_=function(t,e){this.key=t,this.value=e,this.valueWrapper=void 0},jspb.ExtensionFieldInfo=function(t,e,r,n,o){this.fieldIndex=t,this.fieldName=e,this.ctor=r,this.toObjectFn=n,this.isRepeated=o},goog.exportSymbol("jspb.ExtensionFieldInfo",jspb.ExtensionFieldInfo),jspb.ExtensionFieldBinaryInfo=function(t,e,r,n,o,s){this.fieldInfo=t,this.binaryReaderFn=e,this.binaryWriterFn=r,this.binaryMessageSerializeFn=n,this.binaryMessageDeserializeFn=o,this.isPacked=s},goog.exportSymbol("jspb.ExtensionFieldBinaryInfo",jspb.ExtensionFieldBinaryInfo),jspb.ExtensionFieldInfo.prototype.isMessageType=function(){return!!this.ctor},goog.exportProperty(jspb.ExtensionFieldInfo.prototype,"isMessageType",jspb.ExtensionFieldInfo.prototype.isMessageType),jspb.Message=function(){},goog.exportSymbol("jspb.Message",jspb.Message),jspb.Message.GENERATE_TO_OBJECT=!0,goog.exportProperty(jspb.Message,"GENERATE_TO_OBJECT",jspb.Message.GENERATE_TO_OBJECT),jspb.Message.GENERATE_FROM_OBJECT=!goog.DISALLOW_TEST_ONLY_CODE,goog.exportProperty(jspb.Message,"GENERATE_FROM_OBJECT",jspb.Message.GENERATE_FROM_OBJECT),jspb.Message.GENERATE_TO_STRING=!0,jspb.Message.ASSUME_LOCAL_ARRAYS=!1,jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS=!0,jspb.Message.SUPPORTS_UINT8ARRAY_=typeof Uint8Array=="function",jspb.Message.prototype.getJsPbMessageId=function(){return this.messageId_},goog.exportProperty(jspb.Message.prototype,"getJsPbMessageId",jspb.Message.prototype.getJsPbMessageId),jspb.Message.getIndex_=function(t,e){return e+t.arrayIndexOffset_},jspb.Message.hiddenES6Property_=function(){},jspb.Message.getFieldNumber_=function(t,e){return e-t.arrayIndexOffset_},jspb.Message.initialize=function(t,e,r,n,o,s){if(t.wrappers_=null,e||(e=r?[r]:[]),t.messageId_=r?String(r):void 0,t.arrayIndexOffset_=r===0?-1:0,t.array=e,jspb.Message.initPivotAndExtensionObject_(t,n),t.convertedPrimitiveFields_={},jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS||(t.repeatedFields=o),o)for(e=0;e<o.length;e++)(r=o[e])<t.pivot_?(r=jspb.Message.getIndex_(t,r),t.array[r]=t.array[r]||jspb.Message.EMPTY_LIST_SENTINEL_):(jspb.Message.maybeInitEmptyExtensionObject_(t),t.extensionObject_[r]=t.extensionObject_[r]||jspb.Message.EMPTY_LIST_SENTINEL_);if(s&&s.length)for(e=0;e<s.length;e++)jspb.Message.computeOneofCase(t,s[e])},goog.exportProperty(jspb.Message,"initialize",jspb.Message.initialize),jspb.Message.EMPTY_LIST_SENTINEL_=goog.DEBUG&&Object.freeze?Object.freeze([]):[],jspb.Message.isArray_=function(t){return jspb.Message.ASSUME_LOCAL_ARRAYS?t instanceof Array:Array.isArray(t)},jspb.Message.isExtensionObject_=function(t){return!(t===null||typeof t!="object"||jspb.Message.isArray_(t)||jspb.Message.SUPPORTS_UINT8ARRAY_&&t instanceof Uint8Array)},jspb.Message.initPivotAndExtensionObject_=function(t,e){var r=t.array.length,n=-1;if(r&&(n=r-1,r=t.array[n],jspb.Message.isExtensionObject_(r)))return t.pivot_=jspb.Message.getFieldNumber_(t,n),void(t.extensionObject_=r);-1<e?(t.pivot_=Math.max(e,jspb.Message.getFieldNumber_(t,n+1)),t.extensionObject_=null):t.pivot_=Number.MAX_VALUE},jspb.Message.maybeInitEmptyExtensionObject_=function(t){var e=jspb.Message.getIndex_(t,t.pivot_);t.array[e]||(t.extensionObject_=t.array[e]={})},jspb.Message.toObjectList=function(t,e,r){for(var n=[],o=0;o<t.length;o++)n[o]=e.call(t[o],r,t[o]);return n},goog.exportProperty(jspb.Message,"toObjectList",jspb.Message.toObjectList),jspb.Message.toObjectExtension=function(t,e,r,n,o){for(var s in r){var c=r[s],d=n.call(t,c);if(d!=null){for(var u in c.fieldName)if(c.fieldName.hasOwnProperty(u))break;e[u]=c.toObjectFn?c.isRepeated?jspb.Message.toObjectList(d,c.toObjectFn,o):c.toObjectFn(o,d):d}}},goog.exportProperty(jspb.Message,"toObjectExtension",jspb.Message.toObjectExtension),jspb.Message.serializeBinaryExtensions=function(t,e,r,n){for(var o in r){var s=r[o],c=s.fieldInfo;if(!s.binaryWriterFn)throw Error("Message extension present that was generated without binary serialization support");var d=n.call(t,c);if(d!=null)if(c.isMessageType()){if(!s.binaryMessageSerializeFn)throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");s.binaryWriterFn.call(e,c.fieldIndex,d,s.binaryMessageSerializeFn)}else s.binaryWriterFn.call(e,c.fieldIndex,d)}},goog.exportProperty(jspb.Message,"serializeBinaryExtensions",jspb.Message.serializeBinaryExtensions),jspb.Message.readBinaryExtension=function(t,e,r,n,o){var s=r[e.getFieldNumber()];if(s){if(r=s.fieldInfo,!s.binaryReaderFn)throw Error("Deserializing extension whose generated code does not support binary format");if(r.isMessageType()){var c=new r.ctor;s.binaryReaderFn.call(e,c,s.binaryMessageDeserializeFn)}else c=s.binaryReaderFn.call(e);r.isRepeated&&!s.isPacked?(e=n.call(t,r))?e.push(c):o.call(t,r,[c]):o.call(t,r,c)}else e.skipField()},goog.exportProperty(jspb.Message,"readBinaryExtension",jspb.Message.readBinaryExtension),jspb.Message.getField=function(t,e){if(e<t.pivot_){e=jspb.Message.getIndex_(t,e);var r=t.array[e];return r===jspb.Message.EMPTY_LIST_SENTINEL_?t.array[e]=[]:r}if(t.extensionObject_)return(r=t.extensionObject_[e])===jspb.Message.EMPTY_LIST_SENTINEL_?t.extensionObject_[e]=[]:r},goog.exportProperty(jspb.Message,"getField",jspb.Message.getField),jspb.Message.getRepeatedField=function(t,e){return jspb.Message.getField(t,e)},goog.exportProperty(jspb.Message,"getRepeatedField",jspb.Message.getRepeatedField),jspb.Message.getOptionalFloatingPointField=function(t,e){return(t=jspb.Message.getField(t,e))==null?t:+t},goog.exportProperty(jspb.Message,"getOptionalFloatingPointField",jspb.Message.getOptionalFloatingPointField),jspb.Message.getBooleanField=function(t,e){return(t=jspb.Message.getField(t,e))==null?t:!!t},goog.exportProperty(jspb.Message,"getBooleanField",jspb.Message.getBooleanField),jspb.Message.getRepeatedFloatingPointField=function(t,e){var r=jspb.Message.getRepeatedField(t,e);if(t.convertedPrimitiveFields_||(t.convertedPrimitiveFields_={}),!t.convertedPrimitiveFields_[e]){for(var n=0;n<r.length;n++)r[n]=+r[n];t.convertedPrimitiveFields_[e]=!0}return r},goog.exportProperty(jspb.Message,"getRepeatedFloatingPointField",jspb.Message.getRepeatedFloatingPointField),jspb.Message.getRepeatedBooleanField=function(t,e){var r=jspb.Message.getRepeatedField(t,e);if(t.convertedPrimitiveFields_||(t.convertedPrimitiveFields_={}),!t.convertedPrimitiveFields_[e]){for(var n=0;n<r.length;n++)r[n]=!!r[n];t.convertedPrimitiveFields_[e]=!0}return r},goog.exportProperty(jspb.Message,"getRepeatedBooleanField",jspb.Message.getRepeatedBooleanField),jspb.Message.bytesAsB64=function(t){return t==null||typeof t=="string"?t:jspb.Message.SUPPORTS_UINT8ARRAY_&&t instanceof Uint8Array?goog.crypt.base64.encodeByteArray(t):(jspb.asserts.fail("Cannot coerce to b64 string: "+goog.typeOf(t)),null)},goog.exportProperty(jspb.Message,"bytesAsB64",jspb.Message.bytesAsB64),jspb.Message.bytesAsU8=function(t){return t==null||t instanceof Uint8Array?t:typeof t=="string"?goog.crypt.base64.decodeStringToUint8Array(t):(jspb.asserts.fail("Cannot coerce to Uint8Array: "+goog.typeOf(t)),null)},goog.exportProperty(jspb.Message,"bytesAsU8",jspb.Message.bytesAsU8),jspb.Message.bytesListAsB64=function(t){return jspb.Message.assertConsistentTypes_(t),t.length&&typeof t[0]!="string"?goog.array.map(t,jspb.Message.bytesAsB64):t},goog.exportProperty(jspb.Message,"bytesListAsB64",jspb.Message.bytesListAsB64),jspb.Message.bytesListAsU8=function(t){return jspb.Message.assertConsistentTypes_(t),!t.length||t[0]instanceof Uint8Array?t:goog.array.map(t,jspb.Message.bytesAsU8)},goog.exportProperty(jspb.Message,"bytesListAsU8",jspb.Message.bytesListAsU8),jspb.Message.assertConsistentTypes_=function(t){if(goog.DEBUG&&t&&1<t.length){var e=goog.typeOf(t[0]);goog.array.forEach(t,function(r){goog.typeOf(r)!=e&&jspb.asserts.fail("Inconsistent type in JSPB repeated field array. Got "+goog.typeOf(r)+" expected "+e)})}},jspb.Message.getFieldWithDefault=function(t,e,r){return(t=jspb.Message.getField(t,e))==null?r:t},goog.exportProperty(jspb.Message,"getFieldWithDefault",jspb.Message.getFieldWithDefault),jspb.Message.getBooleanFieldWithDefault=function(t,e,r){return(t=jspb.Message.getBooleanField(t,e))==null?r:t},goog.exportProperty(jspb.Message,"getBooleanFieldWithDefault",jspb.Message.getBooleanFieldWithDefault),jspb.Message.getFloatingPointFieldWithDefault=function(t,e,r){return(t=jspb.Message.getOptionalFloatingPointField(t,e))==null?r:t},goog.exportProperty(jspb.Message,"getFloatingPointFieldWithDefault",jspb.Message.getFloatingPointFieldWithDefault),jspb.Message.getFieldProto3=jspb.Message.getFieldWithDefault,goog.exportProperty(jspb.Message,"getFieldProto3",jspb.Message.getFieldProto3),jspb.Message.getMapField=function(t,e,r,n){if(t.wrappers_||(t.wrappers_={}),e in t.wrappers_)return t.wrappers_[e];var o=jspb.Message.getField(t,e);if(!o){if(r)return;o=[],jspb.Message.setField(t,e,o)}return t.wrappers_[e]=new jspb.Map(o,n)},goog.exportProperty(jspb.Message,"getMapField",jspb.Message.getMapField),jspb.Message.setField=function(t,e,r){return jspb.asserts.assertInstanceof(t,jspb.Message),e<t.pivot_?t.array[jspb.Message.getIndex_(t,e)]=r:(jspb.Message.maybeInitEmptyExtensionObject_(t),t.extensionObject_[e]=r),t},goog.exportProperty(jspb.Message,"setField",jspb.Message.setField),jspb.Message.setProto3IntField=function(t,e,r){return jspb.Message.setFieldIgnoringDefault_(t,e,r,0)},goog.exportProperty(jspb.Message,"setProto3IntField",jspb.Message.setProto3IntField),jspb.Message.setProto3FloatField=function(t,e,r){return jspb.Message.setFieldIgnoringDefault_(t,e,r,0)},goog.exportProperty(jspb.Message,"setProto3FloatField",jspb.Message.setProto3FloatField),jspb.Message.setProto3BooleanField=function(t,e,r){return jspb.Message.setFieldIgnoringDefault_(t,e,r,!1)},goog.exportProperty(jspb.Message,"setProto3BooleanField",jspb.Message.setProto3BooleanField),jspb.Message.setProto3StringField=function(t,e,r){return jspb.Message.setFieldIgnoringDefault_(t,e,r,"")},goog.exportProperty(jspb.Message,"setProto3StringField",jspb.Message.setProto3StringField),jspb.Message.setProto3BytesField=function(t,e,r){return jspb.Message.setFieldIgnoringDefault_(t,e,r,"")},goog.exportProperty(jspb.Message,"setProto3BytesField",jspb.Message.setProto3BytesField),jspb.Message.setProto3EnumField=function(t,e,r){return jspb.Message.setFieldIgnoringDefault_(t,e,r,0)},goog.exportProperty(jspb.Message,"setProto3EnumField",jspb.Message.setProto3EnumField),jspb.Message.setProto3StringIntField=function(t,e,r){return jspb.Message.setFieldIgnoringDefault_(t,e,r,"0")},goog.exportProperty(jspb.Message,"setProto3StringIntField",jspb.Message.setProto3StringIntField),jspb.Message.setFieldIgnoringDefault_=function(t,e,r,n){return jspb.asserts.assertInstanceof(t,jspb.Message),r!==n?jspb.Message.setField(t,e,r):e<t.pivot_?t.array[jspb.Message.getIndex_(t,e)]=null:(jspb.Message.maybeInitEmptyExtensionObject_(t),delete t.extensionObject_[e]),t},jspb.Message.addToRepeatedField=function(t,e,r,n){return jspb.asserts.assertInstanceof(t,jspb.Message),e=jspb.Message.getRepeatedField(t,e),n!=null?e.splice(n,0,r):e.push(r),t},goog.exportProperty(jspb.Message,"addToRepeatedField",jspb.Message.addToRepeatedField),jspb.Message.setOneofField=function(t,e,r,n){return jspb.asserts.assertInstanceof(t,jspb.Message),(r=jspb.Message.computeOneofCase(t,r))&&r!==e&&n!==void 0&&(t.wrappers_&&r in t.wrappers_&&(t.wrappers_[r]=void 0),jspb.Message.setField(t,r,void 0)),jspb.Message.setField(t,e,n)},goog.exportProperty(jspb.Message,"setOneofField",jspb.Message.setOneofField),jspb.Message.computeOneofCase=function(t,e){for(var r,n,o=0;o<e.length;o++){var s=e[o],c=jspb.Message.getField(t,s);c!=null&&(r=s,n=c,jspb.Message.setField(t,s,void 0))}return r?(jspb.Message.setField(t,r,n),r):0},goog.exportProperty(jspb.Message,"computeOneofCase",jspb.Message.computeOneofCase),jspb.Message.getWrapperField=function(t,e,r,n){if(t.wrappers_||(t.wrappers_={}),!t.wrappers_[r]){var o=jspb.Message.getField(t,r);(n||o)&&(t.wrappers_[r]=new e(o))}return t.wrappers_[r]},goog.exportProperty(jspb.Message,"getWrapperField",jspb.Message.getWrapperField),jspb.Message.getRepeatedWrapperField=function(t,e,r){return jspb.Message.wrapRepeatedField_(t,e,r),(e=t.wrappers_[r])==jspb.Message.EMPTY_LIST_SENTINEL_&&(e=t.wrappers_[r]=[]),e},goog.exportProperty(jspb.Message,"getRepeatedWrapperField",jspb.Message.getRepeatedWrapperField),jspb.Message.wrapRepeatedField_=function(t,e,r){if(t.wrappers_||(t.wrappers_={}),!t.wrappers_[r]){for(var n=jspb.Message.getRepeatedField(t,r),o=[],s=0;s<n.length;s++)o[s]=new e(n[s]);t.wrappers_[r]=o}},jspb.Message.setWrapperField=function(t,e,r){jspb.asserts.assertInstanceof(t,jspb.Message),t.wrappers_||(t.wrappers_={});var n=r&&r.toArray();return t.wrappers_[e]=r,jspb.Message.setField(t,e,n)},goog.exportProperty(jspb.Message,"setWrapperField",jspb.Message.setWrapperField),jspb.Message.setOneofWrapperField=function(t,e,r,n){jspb.asserts.assertInstanceof(t,jspb.Message),t.wrappers_||(t.wrappers_={});var o=n&&n.toArray();return t.wrappers_[e]=n,jspb.Message.setOneofField(t,e,r,o)},goog.exportProperty(jspb.Message,"setOneofWrapperField",jspb.Message.setOneofWrapperField),jspb.Message.setRepeatedWrapperField=function(t,e,r){jspb.asserts.assertInstanceof(t,jspb.Message),t.wrappers_||(t.wrappers_={}),r=r||[];for(var n=[],o=0;o<r.length;o++)n[o]=r[o].toArray();return t.wrappers_[e]=r,jspb.Message.setField(t,e,n)},goog.exportProperty(jspb.Message,"setRepeatedWrapperField",jspb.Message.setRepeatedWrapperField),jspb.Message.addToRepeatedWrapperField=function(t,e,r,n,o){jspb.Message.wrapRepeatedField_(t,n,e);var s=t.wrappers_[e];return s||(s=t.wrappers_[e]=[]),r=r||new n,t=jspb.Message.getRepeatedField(t,e),o!=null?(s.splice(o,0,r),t.splice(o,0,r.toArray())):(s.push(r),t.push(r.toArray())),r},goog.exportProperty(jspb.Message,"addToRepeatedWrapperField",jspb.Message.addToRepeatedWrapperField),jspb.Message.toMap=function(t,e,r,n){for(var o={},s=0;s<t.length;s++)o[e.call(t[s])]=r?r.call(t[s],n,t[s]):t[s];return o},goog.exportProperty(jspb.Message,"toMap",jspb.Message.toMap),jspb.Message.prototype.syncMapFields_=function(){if(this.wrappers_)for(var t in this.wrappers_){var e=this.wrappers_[t];if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]&&e[r].toArray();else e&&e.toArray()}},jspb.Message.prototype.toArray=function(){return this.syncMapFields_(),this.array},goog.exportProperty(jspb.Message.prototype,"toArray",jspb.Message.prototype.toArray),jspb.Message.GENERATE_TO_STRING&&(jspb.Message.prototype.toString=function(){return this.syncMapFields_(),this.array.toString()}),jspb.Message.prototype.getExtension=function(t){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var e=t.fieldIndex;if(t.isRepeated){if(t.isMessageType())return this.wrappers_[e]||(this.wrappers_[e]=goog.array.map(this.extensionObject_[e]||[],function(r){return new t.ctor(r)})),this.wrappers_[e]}else if(t.isMessageType())return!this.wrappers_[e]&&this.extensionObject_[e]&&(this.wrappers_[e]=new t.ctor(this.extensionObject_[e])),this.wrappers_[e];return this.extensionObject_[e]}},goog.exportProperty(jspb.Message.prototype,"getExtension",jspb.Message.prototype.getExtension),jspb.Message.prototype.setExtension=function(t,e){this.wrappers_||(this.wrappers_={}),jspb.Message.maybeInitEmptyExtensionObject_(this);var r=t.fieldIndex;return t.isRepeated?(e=e||[],t.isMessageType()?(this.wrappers_[r]=e,this.extensionObject_[r]=goog.array.map(e,function(n){return n.toArray()})):this.extensionObject_[r]=e):t.isMessageType()?(this.wrappers_[r]=e,this.extensionObject_[r]=e&&e.toArray()):this.extensionObject_[r]=e,this},goog.exportProperty(jspb.Message.prototype,"setExtension",jspb.Message.prototype.setExtension),jspb.Message.difference=function(t,e){if(!(t instanceof e.constructor))throw Error("Messages have different types.");var r=t.toArray();e=e.toArray();var n=[],o=0,s=r.length>e.length?r.length:e.length;for(t.getJsPbMessageId()&&(n[0]=t.getJsPbMessageId(),o=1);o<s;o++)jspb.Message.compareFields(r[o],e[o])||(n[o]=e[o]);return new t.constructor(n)},goog.exportProperty(jspb.Message,"difference",jspb.Message.difference),jspb.Message.equals=function(t,e){return t==e||!(!t||!e)&&t instanceof e.constructor&&jspb.Message.compareFields(t.toArray(),e.toArray())},goog.exportProperty(jspb.Message,"equals",jspb.Message.equals),jspb.Message.compareExtensions=function(t,e){t=t||{},e=e||{};var r,n={};for(r in t)n[r]=0;for(r in e)n[r]=0;for(r in n)if(!jspb.Message.compareFields(t[r],e[r]))return!1;return!0},goog.exportProperty(jspb.Message,"compareExtensions",jspb.Message.compareExtensions),jspb.Message.compareFields=function(t,e){if(t==e)return!0;if(!goog.isObject(t)||!goog.isObject(e))return!!(typeof t=="number"&&isNaN(t)||typeof e=="number"&&isNaN(e))&&String(t)==String(e);if(t.constructor!=e.constructor)return!1;if(jspb.Message.SUPPORTS_UINT8ARRAY_&&t.constructor===Uint8Array){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!=e[r])return!1;return!0}if(t.constructor===Array){var n=void 0,o=void 0,s=Math.max(t.length,e.length);for(r=0;r<s;r++){var c=t[r],d=e[r];if(c&&c.constructor==Object&&(jspb.asserts.assert(n===void 0),jspb.asserts.assert(r===t.length-1),n=c,c=void 0),d&&d.constructor==Object&&(jspb.asserts.assert(o===void 0),jspb.asserts.assert(r===e.length-1),o=d,d=void 0),!jspb.Message.compareFields(c,d))return!1}return!n&&!o||(n=n||{},o=o||{},jspb.Message.compareExtensions(n,o))}if(t.constructor===Object)return jspb.Message.compareExtensions(t,e);throw Error("Invalid type in JSPB array")},goog.exportProperty(jspb.Message,"compareFields",jspb.Message.compareFields),jspb.Message.prototype.cloneMessage=function(){return jspb.Message.cloneMessage(this)},goog.exportProperty(jspb.Message.prototype,"cloneMessage",jspb.Message.prototype.cloneMessage),jspb.Message.prototype.clone=function(){return jspb.Message.cloneMessage(this)},goog.exportProperty(jspb.Message.prototype,"clone",jspb.Message.prototype.clone),jspb.Message.clone=function(t){return jspb.Message.cloneMessage(t)},goog.exportProperty(jspb.Message,"clone",jspb.Message.clone),jspb.Message.cloneMessage=function(t){return new t.constructor(jspb.Message.clone_(t.toArray()))},jspb.Message.copyInto=function(t,e){jspb.asserts.assertInstanceof(t,jspb.Message),jspb.asserts.assertInstanceof(e,jspb.Message),jspb.asserts.assert(t.constructor==e.constructor,"Copy source and target message should have the same type."),t=jspb.Message.clone(t);for(var r=e.toArray(),n=t.toArray(),o=r.length=0;o<n.length;o++)r[o]=n[o];e.wrappers_=t.wrappers_,e.extensionObject_=t.extensionObject_},goog.exportProperty(jspb.Message,"copyInto",jspb.Message.copyInto),jspb.Message.clone_=function(t){if(Array.isArray(t)){for(var e=Array(t.length),r=0;r<t.length;r++){var n=t[r];n!=null&&(e[r]=typeof n=="object"?jspb.Message.clone_(jspb.asserts.assert(n)):n)}return e}if(jspb.Message.SUPPORTS_UINT8ARRAY_&&t instanceof Uint8Array)return new Uint8Array(t);for(r in e={},t)(n=t[r])!=null&&(e[r]=typeof n=="object"?jspb.Message.clone_(jspb.asserts.assert(n)):n);return e},jspb.Message.registerMessageType=function(t,e){e.messageId=t},goog.exportProperty(jspb.Message,"registerMessageType",jspb.Message.registerMessageType),jspb.Message.messageSetExtensions={},jspb.Message.messageSetExtensionsBinary={},jspb.Export={},exports.Map=jspb.Map,exports.Message=jspb.Message,exports.BinaryReader=jspb.BinaryReader,exports.BinaryWriter=jspb.BinaryWriter,exports.ExtensionFieldInfo=jspb.ExtensionFieldInfo,exports.ExtensionFieldBinaryInfo=jspb.ExtensionFieldBinaryInfo,exports.exportSymbol=goog.exportSymbol,exports.inherits=goog.inherits,exports.object={extend:goog.object.extend},exports.typeOf=goog.typeOf})(googleProtobuf);var calculator_options_pb={};(function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.CalculatorOptions",null,n),proto.mediapipe.CalculatorOptions=function(o){e.Message.initialize(this,o,0,2,null,null)},r.inherits(proto.mediapipe.CalculatorOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.CalculatorOptions.displayName="proto.mediapipe.CalculatorOptions"),proto.mediapipe.CalculatorOptions.extensions={},proto.mediapipe.CalculatorOptions.extensionsBinary={},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.CalculatorOptions.prototype.toObject=function(o){return proto.mediapipe.CalculatorOptions.toObject(o,this)},proto.mediapipe.CalculatorOptions.toObject=function(o,s){var c,d={mergeFields:(c=e.Message.getBooleanField(s,1))==null?void 0:c};return e.Message.toObjectExtension(s,d,proto.mediapipe.CalculatorOptions.extensions,proto.mediapipe.CalculatorOptions.prototype.getExtension,o),o&&(d.$jspbMessageInstance=s),d}),proto.mediapipe.CalculatorOptions.deserializeBinary=function(o){var s=new e.BinaryReader(o),c=new proto.mediapipe.CalculatorOptions;return proto.mediapipe.CalculatorOptions.deserializeBinaryFromReader(c,s)},proto.mediapipe.CalculatorOptions.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)if(s.getFieldNumber()===1){var c=s.readBool();o.setMergeFields(c)}else e.Message.readBinaryExtension(o,s,proto.mediapipe.CalculatorOptions.extensionsBinary,proto.mediapipe.CalculatorOptions.prototype.getExtension,proto.mediapipe.CalculatorOptions.prototype.setExtension);return o},proto.mediapipe.CalculatorOptions.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.CalculatorOptions.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.CalculatorOptions.serializeBinaryToWriter=function(o,s){var c;(c=e.Message.getField(o,1))!=null&&s.writeBool(1,c),e.Message.serializeBinaryExtensions(o,s,proto.mediapipe.CalculatorOptions.extensionsBinary,proto.mediapipe.CalculatorOptions.prototype.getExtension)},proto.mediapipe.CalculatorOptions.prototype.getMergeFields=function(){return e.Message.getBooleanFieldWithDefault(this,1,!1)},proto.mediapipe.CalculatorOptions.prototype.setMergeFields=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.CalculatorOptions.prototype.clearMergeFields=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.CalculatorOptions.prototype.hasMergeFields=function(){return e.Message.getField(this,1)!=null},r.object.extend(t,proto.mediapipe)})(calculator_options_pb);var any_pb={};(function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.google.protobuf.Any",null,n),proto.google.protobuf.Any=function(o){e.Message.initialize(this,o,0,-1,null,null)},r.inherits(proto.google.protobuf.Any,e.Message),r.DEBUG&&!COMPILED&&(proto.google.protobuf.Any.displayName="proto.google.protobuf.Any"),e.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Any.prototype.toObject=function(o){return proto.google.protobuf.Any.toObject(o,this)},proto.google.protobuf.Any.toObject=function(o,s){var c={typeUrl:e.Message.getFieldWithDefault(s,1,""),value:s.getValue_asB64()};return o&&(c.$jspbMessageInstance=s),c}),proto.google.protobuf.Any.deserializeBinary=function(o){var s=new e.BinaryReader(o),c=new proto.google.protobuf.Any;return proto.google.protobuf.Any.deserializeBinaryFromReader(c,s)},proto.google.protobuf.Any.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var c=s.readString();o.setTypeUrl(c);break;case 2:c=s.readBytes(),o.setValue(c);break;default:s.skipField()}return o},proto.google.protobuf.Any.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.google.protobuf.Any.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.google.protobuf.Any.serializeBinaryToWriter=function(o,s){var c=void 0;(c=o.getTypeUrl()).length>0&&s.writeString(1,c),(c=o.getValue_asU8()).length>0&&s.writeBytes(2,c)},proto.google.protobuf.Any.prototype.getTypeUrl=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.google.protobuf.Any.prototype.setTypeUrl=function(o){return e.Message.setProto3StringField(this,1,o)},proto.google.protobuf.Any.prototype.getValue=function(){return e.Message.getFieldWithDefault(this,2,"")},proto.google.protobuf.Any.prototype.getValue_asB64=function(){return e.Message.bytesAsB64(this.getValue())},proto.google.protobuf.Any.prototype.getValue_asU8=function(){return e.Message.bytesAsU8(this.getValue())},proto.google.protobuf.Any.prototype.setValue=function(o){return e.Message.setProto3BytesField(this,2,o)},r.object.extend(t,proto.google.protobuf),proto.google.protobuf.Any.prototype.getTypeName=function(){return this.getTypeUrl().split("/").pop()},proto.google.protobuf.Any.prototype.pack=function(o,s,c){c||(c="type.googleapis.com/"),c.substr(-1)!="/"?this.setTypeUrl(c+"/"+s):this.setTypeUrl(c+s),this.setValue(o)},proto.google.protobuf.Any.prototype.unpack=function(o,s){return this.getTypeName()==s?o(this.getValue_asU8()):null}})(any_pb);var mediapipe_options_pb={};(function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.MediaPipeOptions",null,n),proto.mediapipe.MediaPipeOptions=function(o){e.Message.initialize(this,o,0,1,null,null)},r.inherits(proto.mediapipe.MediaPipeOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.MediaPipeOptions.displayName="proto.mediapipe.MediaPipeOptions"),proto.mediapipe.MediaPipeOptions.extensions={},proto.mediapipe.MediaPipeOptions.extensionsBinary={},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.MediaPipeOptions.prototype.toObject=function(o){return proto.mediapipe.MediaPipeOptions.toObject(o,this)},proto.mediapipe.MediaPipeOptions.toObject=function(o,s){var c={};return e.Message.toObjectExtension(s,c,proto.mediapipe.MediaPipeOptions.extensions,proto.mediapipe.MediaPipeOptions.prototype.getExtension,o),o&&(c.$jspbMessageInstance=s),c}),proto.mediapipe.MediaPipeOptions.deserializeBinary=function(o){var s=new e.BinaryReader(o),c=new proto.mediapipe.MediaPipeOptions;return proto.mediapipe.MediaPipeOptions.deserializeBinaryFromReader(c,s)},proto.mediapipe.MediaPipeOptions.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)s.getFieldNumber(),e.Message.readBinaryExtension(o,s,proto.mediapipe.MediaPipeOptions.extensionsBinary,proto.mediapipe.MediaPipeOptions.prototype.getExtension,proto.mediapipe.MediaPipeOptions.prototype.setExtension);return o},proto.mediapipe.MediaPipeOptions.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.MediaPipeOptions.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.MediaPipeOptions.serializeBinaryToWriter=function(o,s){e.Message.serializeBinaryExtensions(o,s,proto.mediapipe.MediaPipeOptions.extensionsBinary,proto.mediapipe.MediaPipeOptions.prototype.getExtension)},r.object.extend(t,proto.mediapipe)})(mediapipe_options_pb);var packet_factory_pb={};(function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.PacketFactoryConfig",null,n),r.exportSymbol("proto.mediapipe.PacketFactoryOptions",null,n),r.exportSymbol("proto.mediapipe.PacketManagerConfig",null,n),proto.mediapipe.PacketFactoryOptions=function(o){e.Message.initialize(this,o,0,1,null,null)},r.inherits(proto.mediapipe.PacketFactoryOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.PacketFactoryOptions.displayName="proto.mediapipe.PacketFactoryOptions"),proto.mediapipe.PacketFactoryOptions.extensions={},proto.mediapipe.PacketFactoryOptions.extensionsBinary={},proto.mediapipe.PacketFactoryConfig=function(o){e.Message.initialize(this,o,0,500,null,null)},r.inherits(proto.mediapipe.PacketFactoryConfig,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.PacketFactoryConfig.displayName="proto.mediapipe.PacketFactoryConfig"),proto.mediapipe.PacketManagerConfig=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.PacketManagerConfig.repeatedFields_,null)},r.inherits(proto.mediapipe.PacketManagerConfig,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.PacketManagerConfig.displayName="proto.mediapipe.PacketManagerConfig"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.PacketFactoryOptions.prototype.toObject=function(o){return proto.mediapipe.PacketFactoryOptions.toObject(o,this)},proto.mediapipe.PacketFactoryOptions.toObject=function(o,s){var c={};return e.Message.toObjectExtension(s,c,proto.mediapipe.PacketFactoryOptions.extensions,proto.mediapipe.PacketFactoryOptions.prototype.getExtension,o),o&&(c.$jspbMessageInstance=s),c}),proto.mediapipe.PacketFactoryOptions.deserializeBinary=function(o){var s=new e.BinaryReader(o),c=new proto.mediapipe.PacketFactoryOptions;return proto.mediapipe.PacketFactoryOptions.deserializeBinaryFromReader(c,s)},proto.mediapipe.PacketFactoryOptions.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)s.getFieldNumber(),e.Message.readBinaryExtension(o,s,proto.mediapipe.PacketFactoryOptions.extensionsBinary,proto.mediapipe.PacketFactoryOptions.prototype.getExtension,proto.mediapipe.PacketFactoryOptions.prototype.setExtension);return o},proto.mediapipe.PacketFactoryOptions.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.PacketFactoryOptions.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.PacketFactoryOptions.serializeBinaryToWriter=function(o,s){e.Message.serializeBinaryExtensions(o,s,proto.mediapipe.PacketFactoryOptions.extensionsBinary,proto.mediapipe.PacketFactoryOptions.prototype.getExtension)},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.PacketFactoryConfig.prototype.toObject=function(o){return proto.mediapipe.PacketFactoryConfig.toObject(o,this)},proto.mediapipe.PacketFactoryConfig.toObject=function(o,s){var c,d={packetFactory:(c=e.Message.getField(s,1))==null?void 0:c,outputSidePacket:(c=e.Message.getField(s,2))==null?void 0:c,externalOutput:(c=e.Message.getField(s,1002))==null?void 0:c,options:(c=s.getOptions())&&proto.mediapipe.PacketFactoryOptions.toObject(o,c)};return o&&(d.$jspbMessageInstance=s),d}),proto.mediapipe.PacketFactoryConfig.deserializeBinary=function(o){var s=new e.BinaryReader(o),c=new proto.mediapipe.PacketFactoryConfig;return proto.mediapipe.PacketFactoryConfig.deserializeBinaryFromReader(c,s)},proto.mediapipe.PacketFactoryConfig.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var c=s.readString();o.setPacketFactory(c);break;case 2:c=s.readString(),o.setOutputSidePacket(c);break;case 1002:c=s.readString(),o.setExternalOutput(c);break;case 3:c=new proto.mediapipe.PacketFactoryOptions,s.readMessage(c,proto.mediapipe.PacketFactoryOptions.deserializeBinaryFromReader),o.setOptions(c);break;default:s.skipField()}return o},proto.mediapipe.PacketFactoryConfig.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.PacketFactoryConfig.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.PacketFactoryConfig.serializeBinaryToWriter=function(o,s){var c=void 0;(c=e.Message.getField(o,1))!=null&&s.writeString(1,c),(c=e.Message.getField(o,2))!=null&&s.writeString(2,c),(c=e.Message.getField(o,1002))!=null&&s.writeString(1002,c),(c=o.getOptions())!=null&&s.writeMessage(3,c,proto.mediapipe.PacketFactoryOptions.serializeBinaryToWriter)},proto.mediapipe.PacketFactoryConfig.prototype.getPacketFactory=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.PacketFactoryConfig.prototype.setPacketFactory=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.PacketFactoryConfig.prototype.clearPacketFactory=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.PacketFactoryConfig.prototype.hasPacketFactory=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.PacketFactoryConfig.prototype.getOutputSidePacket=function(){return e.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.PacketFactoryConfig.prototype.setOutputSidePacket=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.PacketFactoryConfig.prototype.clearOutputSidePacket=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.PacketFactoryConfig.prototype.hasOutputSidePacket=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.PacketFactoryConfig.prototype.getExternalOutput=function(){return e.Message.getFieldWithDefault(this,1002,"")},proto.mediapipe.PacketFactoryConfig.prototype.setExternalOutput=function(o){return e.Message.setField(this,1002,o)},proto.mediapipe.PacketFactoryConfig.prototype.clearExternalOutput=function(){return e.Message.setField(this,1002,void 0)},proto.mediapipe.PacketFactoryConfig.prototype.hasExternalOutput=function(){return e.Message.getField(this,1002)!=null},proto.mediapipe.PacketFactoryConfig.prototype.getOptions=function(){return e.Message.getWrapperField(this,proto.mediapipe.PacketFactoryOptions,3)},proto.mediapipe.PacketFactoryConfig.prototype.setOptions=function(o){return e.Message.setWrapperField(this,3,o)},proto.mediapipe.PacketFactoryConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.PacketFactoryConfig.prototype.hasOptions=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.PacketManagerConfig.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.PacketManagerConfig.prototype.toObject=function(o){return proto.mediapipe.PacketManagerConfig.toObject(o,this)},proto.mediapipe.PacketManagerConfig.toObject=function(o,s){var c={packetList:e.Message.toObjectList(s.getPacketList(),proto.mediapipe.PacketFactoryConfig.toObject,o)};return o&&(c.$jspbMessageInstance=s),c}),proto.mediapipe.PacketManagerConfig.deserializeBinary=function(o){var s=new e.BinaryReader(o),c=new proto.mediapipe.PacketManagerConfig;return proto.mediapipe.PacketManagerConfig.deserializeBinaryFromReader(c,s)},proto.mediapipe.PacketManagerConfig.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)if(s.getFieldNumber()===1){var c=new proto.mediapipe.PacketFactoryConfig;s.readMessage(c,proto.mediapipe.PacketFactoryConfig.deserializeBinaryFromReader),o.addPacket(c)}else s.skipField();return o},proto.mediapipe.PacketManagerConfig.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.PacketManagerConfig.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.PacketManagerConfig.serializeBinaryToWriter=function(o,s){var c;(c=o.getPacketList()).length>0&&s.writeRepeatedMessage(1,c,proto.mediapipe.PacketFactoryConfig.serializeBinaryToWriter)},proto.mediapipe.PacketManagerConfig.prototype.getPacketList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.PacketFactoryConfig,1)},proto.mediapipe.PacketManagerConfig.prototype.setPacketList=function(o){return e.Message.setRepeatedWrapperField(this,1,o)},proto.mediapipe.PacketManagerConfig.prototype.addPacket=function(o,s){return e.Message.addToRepeatedWrapperField(this,1,o,proto.mediapipe.PacketFactoryConfig,s)},proto.mediapipe.PacketManagerConfig.prototype.clearPacketList=function(){return this.setPacketList([])},r.object.extend(t,proto.mediapipe)})(packet_factory_pb);var packet_generator_pb={};(function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.PacketGeneratorConfig",null,n),r.exportSymbol("proto.mediapipe.PacketGeneratorOptions",null,n),proto.mediapipe.PacketGeneratorOptions=function(o){e.Message.initialize(this,o,0,2,null,null)},r.inherits(proto.mediapipe.PacketGeneratorOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.PacketGeneratorOptions.displayName="proto.mediapipe.PacketGeneratorOptions"),proto.mediapipe.PacketGeneratorOptions.extensions={},proto.mediapipe.PacketGeneratorOptions.extensionsBinary={},proto.mediapipe.PacketGeneratorConfig=function(o){e.Message.initialize(this,o,0,500,proto.mediapipe.PacketGeneratorConfig.repeatedFields_,null)},r.inherits(proto.mediapipe.PacketGeneratorConfig,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.PacketGeneratorConfig.displayName="proto.mediapipe.PacketGeneratorConfig"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.PacketGeneratorOptions.prototype.toObject=function(o){return proto.mediapipe.PacketGeneratorOptions.toObject(o,this)},proto.mediapipe.PacketGeneratorOptions.toObject=function(o,s){var c={mergeFields:e.Message.getBooleanFieldWithDefault(s,1,!0)};return e.Message.toObjectExtension(s,c,proto.mediapipe.PacketGeneratorOptions.extensions,proto.mediapipe.PacketGeneratorOptions.prototype.getExtension,o),o&&(c.$jspbMessageInstance=s),c}),proto.mediapipe.PacketGeneratorOptions.deserializeBinary=function(o){var s=new e.BinaryReader(o),c=new proto.mediapipe.PacketGeneratorOptions;return proto.mediapipe.PacketGeneratorOptions.deserializeBinaryFromReader(c,s)},proto.mediapipe.PacketGeneratorOptions.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)if(s.getFieldNumber()===1){var c=s.readBool();o.setMergeFields(c)}else e.Message.readBinaryExtension(o,s,proto.mediapipe.PacketGeneratorOptions.extensionsBinary,proto.mediapipe.PacketGeneratorOptions.prototype.getExtension,proto.mediapipe.PacketGeneratorOptions.prototype.setExtension);return o},proto.mediapipe.PacketGeneratorOptions.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.PacketGeneratorOptions.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.PacketGeneratorOptions.serializeBinaryToWriter=function(o,s){var c;(c=e.Message.getField(o,1))!=null&&s.writeBool(1,c),e.Message.serializeBinaryExtensions(o,s,proto.mediapipe.PacketGeneratorOptions.extensionsBinary,proto.mediapipe.PacketGeneratorOptions.prototype.getExtension)},proto.mediapipe.PacketGeneratorOptions.prototype.getMergeFields=function(){return e.Message.getBooleanFieldWithDefault(this,1,!0)},proto.mediapipe.PacketGeneratorOptions.prototype.setMergeFields=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.PacketGeneratorOptions.prototype.clearMergeFields=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.PacketGeneratorOptions.prototype.hasMergeFields=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.PacketGeneratorConfig.repeatedFields_=[2,1002,3,1003],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.PacketGeneratorConfig.prototype.toObject=function(o){return proto.mediapipe.PacketGeneratorConfig.toObject(o,this)},proto.mediapipe.PacketGeneratorConfig.toObject=function(o,s){var c,d={packetGenerator:(c=e.Message.getField(s,1))==null?void 0:c,inputSidePacketList:(c=e.Message.getRepeatedField(s,2))==null?void 0:c,externalInputList:(c=e.Message.getRepeatedField(s,1002))==null?void 0:c,outputSidePacketList:(c=e.Message.getRepeatedField(s,3))==null?void 0:c,externalOutputList:(c=e.Message.getRepeatedField(s,1003))==null?void 0:c,options:(c=s.getOptions())&&proto.mediapipe.PacketGeneratorOptions.toObject(o,c)};return o&&(d.$jspbMessageInstance=s),d}),proto.mediapipe.PacketGeneratorConfig.deserializeBinary=function(o){var s=new e.BinaryReader(o),c=new proto.mediapipe.PacketGeneratorConfig;return proto.mediapipe.PacketGeneratorConfig.deserializeBinaryFromReader(c,s)},proto.mediapipe.PacketGeneratorConfig.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var c=s.readString();o.setPacketGenerator(c);break;case 2:c=s.readString(),o.addInputSidePacket(c);break;case 1002:c=s.readString(),o.addExternalInput(c);break;case 3:c=s.readString(),o.addOutputSidePacket(c);break;case 1003:c=s.readString(),o.addExternalOutput(c);break;case 4:c=new proto.mediapipe.PacketGeneratorOptions,s.readMessage(c,proto.mediapipe.PacketGeneratorOptions.deserializeBinaryFromReader),o.setOptions(c);break;default:s.skipField()}return o},proto.mediapipe.PacketGeneratorConfig.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.PacketGeneratorConfig.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.PacketGeneratorConfig.serializeBinaryToWriter=function(o,s){var c=void 0;(c=e.Message.getField(o,1))!=null&&s.writeString(1,c),(c=o.getInputSidePacketList()).length>0&&s.writeRepeatedString(2,c),(c=o.getExternalInputList()).length>0&&s.writeRepeatedString(1002,c),(c=o.getOutputSidePacketList()).length>0&&s.writeRepeatedString(3,c),(c=o.getExternalOutputList()).length>0&&s.writeRepeatedString(1003,c),(c=o.getOptions())!=null&&s.writeMessage(4,c,proto.mediapipe.PacketGeneratorOptions.serializeBinaryToWriter)},proto.mediapipe.PacketGeneratorConfig.prototype.getPacketGenerator=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.PacketGeneratorConfig.prototype.setPacketGenerator=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.PacketGeneratorConfig.prototype.clearPacketGenerator=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.PacketGeneratorConfig.prototype.hasPacketGenerator=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.PacketGeneratorConfig.prototype.getInputSidePacketList=function(){return e.Message.getRepeatedField(this,2)},proto.mediapipe.PacketGeneratorConfig.prototype.setInputSidePacketList=function(o){return e.Message.setField(this,2,o||[])},proto.mediapipe.PacketGeneratorConfig.prototype.addInputSidePacket=function(o,s){return e.Message.addToRepeatedField(this,2,o,s)},proto.mediapipe.PacketGeneratorConfig.prototype.clearInputSidePacketList=function(){return this.setInputSidePacketList([])},proto.mediapipe.PacketGeneratorConfig.prototype.getExternalInputList=function(){return e.Message.getRepeatedField(this,1002)},proto.mediapipe.PacketGeneratorConfig.prototype.setExternalInputList=function(o){return e.Message.setField(this,1002,o||[])},proto.mediapipe.PacketGeneratorConfig.prototype.addExternalInput=function(o,s){return e.Message.addToRepeatedField(this,1002,o,s)},proto.mediapipe.PacketGeneratorConfig.prototype.clearExternalInputList=function(){return this.setExternalInputList([])},proto.mediapipe.PacketGeneratorConfig.prototype.getOutputSidePacketList=function(){return e.Message.getRepeatedField(this,3)},proto.mediapipe.PacketGeneratorConfig.prototype.setOutputSidePacketList=function(o){return e.Message.setField(this,3,o||[])},proto.mediapipe.PacketGeneratorConfig.prototype.addOutputSidePacket=function(o,s){return e.Message.addToRepeatedField(this,3,o,s)},proto.mediapipe.PacketGeneratorConfig.prototype.clearOutputSidePacketList=function(){return this.setOutputSidePacketList([])},proto.mediapipe.PacketGeneratorConfig.prototype.getExternalOutputList=function(){return e.Message.getRepeatedField(this,1003)},proto.mediapipe.PacketGeneratorConfig.prototype.setExternalOutputList=function(o){return e.Message.setField(this,1003,o||[])},proto.mediapipe.PacketGeneratorConfig.prototype.addExternalOutput=function(o,s){return e.Message.addToRepeatedField(this,1003,o,s)},proto.mediapipe.PacketGeneratorConfig.prototype.clearExternalOutputList=function(){return this.setExternalOutputList([])},proto.mediapipe.PacketGeneratorConfig.prototype.getOptions=function(){return e.Message.getWrapperField(this,proto.mediapipe.PacketGeneratorOptions,4)},proto.mediapipe.PacketGeneratorConfig.prototype.setOptions=function(o){return e.Message.setWrapperField(this,4,o)},proto.mediapipe.PacketGeneratorConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.PacketGeneratorConfig.prototype.hasOptions=function(){return e.Message.getField(this,4)!=null},r.object.extend(t,proto.mediapipe)})(packet_generator_pb);var status_handler_pb={};(function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=mediapipe_options_pb;r.object.extend(proto,o),r.exportSymbol("proto.mediapipe.StatusHandlerConfig",null,n),proto.mediapipe.StatusHandlerConfig=function(s){e.Message.initialize(this,s,0,500,proto.mediapipe.StatusHandlerConfig.repeatedFields_,null)},r.inherits(proto.mediapipe.StatusHandlerConfig,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.StatusHandlerConfig.displayName="proto.mediapipe.StatusHandlerConfig"),proto.mediapipe.StatusHandlerConfig.repeatedFields_=[2,1002],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.StatusHandlerConfig.prototype.toObject=function(s){return proto.mediapipe.StatusHandlerConfig.toObject(s,this)},proto.mediapipe.StatusHandlerConfig.toObject=function(s,c){var d,u={statusHandler:(d=e.Message.getField(c,1))==null?void 0:d,inputSidePacketList:(d=e.Message.getRepeatedField(c,2))==null?void 0:d,externalInputList:(d=e.Message.getRepeatedField(c,1002))==null?void 0:d,options:(d=c.getOptions())&&o.MediaPipeOptions.toObject(s,d)};return s&&(u.$jspbMessageInstance=c),u}),proto.mediapipe.StatusHandlerConfig.deserializeBinary=function(s){var c=new e.BinaryReader(s),d=new proto.mediapipe.StatusHandlerConfig;return proto.mediapipe.StatusHandlerConfig.deserializeBinaryFromReader(d,c)},proto.mediapipe.StatusHandlerConfig.deserializeBinaryFromReader=function(s,c){for(;c.nextField()&&!c.isEndGroup();)switch(c.getFieldNumber()){case 1:var d=c.readString();s.setStatusHandler(d);break;case 2:d=c.readString(),s.addInputSidePacket(d);break;case 1002:d=c.readString(),s.addExternalInput(d);break;case 3:d=new o.MediaPipeOptions,c.readMessage(d,o.MediaPipeOptions.deserializeBinaryFromReader),s.setOptions(d);break;default:c.skipField()}return s},proto.mediapipe.StatusHandlerConfig.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.StatusHandlerConfig.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.StatusHandlerConfig.serializeBinaryToWriter=function(s,c){var d=void 0;(d=e.Message.getField(s,1))!=null&&c.writeString(1,d),(d=s.getInputSidePacketList()).length>0&&c.writeRepeatedString(2,d),(d=s.getExternalInputList()).length>0&&c.writeRepeatedString(1002,d),(d=s.getOptions())!=null&&c.writeMessage(3,d,o.MediaPipeOptions.serializeBinaryToWriter)},proto.mediapipe.StatusHandlerConfig.prototype.getStatusHandler=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.StatusHandlerConfig.prototype.setStatusHandler=function(s){return e.Message.setField(this,1,s)},proto.mediapipe.StatusHandlerConfig.prototype.clearStatusHandler=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.StatusHandlerConfig.prototype.hasStatusHandler=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.StatusHandlerConfig.prototype.getInputSidePacketList=function(){return e.Message.getRepeatedField(this,2)},proto.mediapipe.StatusHandlerConfig.prototype.setInputSidePacketList=function(s){return e.Message.setField(this,2,s||[])},proto.mediapipe.StatusHandlerConfig.prototype.addInputSidePacket=function(s,c){return e.Message.addToRepeatedField(this,2,s,c)},proto.mediapipe.StatusHandlerConfig.prototype.clearInputSidePacketList=function(){return this.setInputSidePacketList([])},proto.mediapipe.StatusHandlerConfig.prototype.getExternalInputList=function(){return e.Message.getRepeatedField(this,1002)},proto.mediapipe.StatusHandlerConfig.prototype.setExternalInputList=function(s){return e.Message.setField(this,1002,s||[])},proto.mediapipe.StatusHandlerConfig.prototype.addExternalInput=function(s,c){return e.Message.addToRepeatedField(this,1002,s,c)},proto.mediapipe.StatusHandlerConfig.prototype.clearExternalInputList=function(){return this.setExternalInputList([])},proto.mediapipe.StatusHandlerConfig.prototype.getOptions=function(){return e.Message.getWrapperField(this,o.MediaPipeOptions,3)},proto.mediapipe.StatusHandlerConfig.prototype.setOptions=function(s){return e.Message.setWrapperField(this,3,s)},proto.mediapipe.StatusHandlerConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.StatusHandlerConfig.prototype.hasOptions=function(){return e.Message.getField(this,3)!=null},r.object.extend(t,proto.mediapipe)})(status_handler_pb);var stream_handler_pb={};(function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=mediapipe_options_pb;r.object.extend(proto,o),r.exportSymbol("proto.mediapipe.InputStreamHandlerConfig",null,n),r.exportSymbol("proto.mediapipe.OutputStreamHandlerConfig",null,n),proto.mediapipe.InputStreamHandlerConfig=function(s){e.Message.initialize(this,s,0,-1,null,null)},r.inherits(proto.mediapipe.InputStreamHandlerConfig,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.InputStreamHandlerConfig.displayName="proto.mediapipe.InputStreamHandlerConfig"),proto.mediapipe.OutputStreamHandlerConfig=function(s){e.Message.initialize(this,s,0,-1,proto.mediapipe.OutputStreamHandlerConfig.repeatedFields_,null)},r.inherits(proto.mediapipe.OutputStreamHandlerConfig,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.OutputStreamHandlerConfig.displayName="proto.mediapipe.OutputStreamHandlerConfig"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InputStreamHandlerConfig.prototype.toObject=function(s){return proto.mediapipe.InputStreamHandlerConfig.toObject(s,this)},proto.mediapipe.InputStreamHandlerConfig.toObject=function(s,c){var d,u={inputStreamHandler:e.Message.getFieldWithDefault(c,1,"DefaultInputStreamHandler"),options:(d=c.getOptions())&&o.MediaPipeOptions.toObject(s,d)};return s&&(u.$jspbMessageInstance=c),u}),proto.mediapipe.InputStreamHandlerConfig.deserializeBinary=function(s){var c=new e.BinaryReader(s),d=new proto.mediapipe.InputStreamHandlerConfig;return proto.mediapipe.InputStreamHandlerConfig.deserializeBinaryFromReader(d,c)},proto.mediapipe.InputStreamHandlerConfig.deserializeBinaryFromReader=function(s,c){for(;c.nextField()&&!c.isEndGroup();)switch(c.getFieldNumber()){case 1:var d=c.readString();s.setInputStreamHandler(d);break;case 3:d=new o.MediaPipeOptions,c.readMessage(d,o.MediaPipeOptions.deserializeBinaryFromReader),s.setOptions(d);break;default:c.skipField()}return s},proto.mediapipe.InputStreamHandlerConfig.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.InputStreamHandlerConfig.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.InputStreamHandlerConfig.serializeBinaryToWriter=function(s,c){var d=void 0;(d=e.Message.getField(s,1))!=null&&c.writeString(1,d),(d=s.getOptions())!=null&&c.writeMessage(3,d,o.MediaPipeOptions.serializeBinaryToWriter)},proto.mediapipe.InputStreamHandlerConfig.prototype.getInputStreamHandler=function(){return e.Message.getFieldWithDefault(this,1,"DefaultInputStreamHandler")},proto.mediapipe.InputStreamHandlerConfig.prototype.setInputStreamHandler=function(s){return e.Message.setField(this,1,s)},proto.mediapipe.InputStreamHandlerConfig.prototype.clearInputStreamHandler=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.InputStreamHandlerConfig.prototype.hasInputStreamHandler=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.InputStreamHandlerConfig.prototype.getOptions=function(){return e.Message.getWrapperField(this,o.MediaPipeOptions,3)},proto.mediapipe.InputStreamHandlerConfig.prototype.setOptions=function(s){return e.Message.setWrapperField(this,3,s)},proto.mediapipe.InputStreamHandlerConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.InputStreamHandlerConfig.prototype.hasOptions=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.OutputStreamHandlerConfig.repeatedFields_=[2],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.OutputStreamHandlerConfig.prototype.toObject=function(s){return proto.mediapipe.OutputStreamHandlerConfig.toObject(s,this)},proto.mediapipe.OutputStreamHandlerConfig.toObject=function(s,c){var d,u={outputStreamHandler:e.Message.getFieldWithDefault(c,1,"InOrderOutputStreamHandler"),inputSidePacketList:(d=e.Message.getRepeatedField(c,2))==null?void 0:d,options:(d=c.getOptions())&&o.MediaPipeOptions.toObject(s,d)};return s&&(u.$jspbMessageInstance=c),u}),proto.mediapipe.OutputStreamHandlerConfig.deserializeBinary=function(s){var c=new e.BinaryReader(s),d=new proto.mediapipe.OutputStreamHandlerConfig;return proto.mediapipe.OutputStreamHandlerConfig.deserializeBinaryFromReader(d,c)},proto.mediapipe.OutputStreamHandlerConfig.deserializeBinaryFromReader=function(s,c){for(;c.nextField()&&!c.isEndGroup();)switch(c.getFieldNumber()){case 1:var d=c.readString();s.setOutputStreamHandler(d);break;case 2:d=c.readString(),s.addInputSidePacket(d);break;case 3:d=new o.MediaPipeOptions,c.readMessage(d,o.MediaPipeOptions.deserializeBinaryFromReader),s.setOptions(d);break;default:c.skipField()}return s},proto.mediapipe.OutputStreamHandlerConfig.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.OutputStreamHandlerConfig.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.OutputStreamHandlerConfig.serializeBinaryToWriter=function(s,c){var d=void 0;(d=e.Message.getField(s,1))!=null&&c.writeString(1,d),(d=s.getInputSidePacketList()).length>0&&c.writeRepeatedString(2,d),(d=s.getOptions())!=null&&c.writeMessage(3,d,o.MediaPipeOptions.serializeBinaryToWriter)},proto.mediapipe.OutputStreamHandlerConfig.prototype.getOutputStreamHandler=function(){return e.Message.getFieldWithDefault(this,1,"InOrderOutputStreamHandler")},proto.mediapipe.OutputStreamHandlerConfig.prototype.setOutputStreamHandler=function(s){return e.Message.setField(this,1,s)},proto.mediapipe.OutputStreamHandlerConfig.prototype.clearOutputStreamHandler=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.OutputStreamHandlerConfig.prototype.hasOutputStreamHandler=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.OutputStreamHandlerConfig.prototype.getInputSidePacketList=function(){return e.Message.getRepeatedField(this,2)},proto.mediapipe.OutputStreamHandlerConfig.prototype.setInputSidePacketList=function(s){return e.Message.setField(this,2,s||[])},proto.mediapipe.OutputStreamHandlerConfig.prototype.addInputSidePacket=function(s,c){return e.Message.addToRepeatedField(this,2,s,c)},proto.mediapipe.OutputStreamHandlerConfig.prototype.clearInputSidePacketList=function(){return this.setInputSidePacketList([])},proto.mediapipe.OutputStreamHandlerConfig.prototype.getOptions=function(){return e.Message.getWrapperField(this,o.MediaPipeOptions,3)},proto.mediapipe.OutputStreamHandlerConfig.prototype.setOptions=function(s){return e.Message.setWrapperField(this,3,s)},proto.mediapipe.OutputStreamHandlerConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.OutputStreamHandlerConfig.prototype.hasOptions=function(){return e.Message.getField(this,3)!=null},r.object.extend(t,proto.mediapipe)})(stream_handler_pb),function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_options_pb;r.object.extend(proto,o);var s=any_pb;r.object.extend(proto,s);var c=mediapipe_options_pb;r.object.extend(proto,c);var d=packet_factory_pb;r.object.extend(proto,d);var u=packet_generator_pb;r.object.extend(proto,u);var m=status_handler_pb;r.object.extend(proto,m);var _=stream_handler_pb;r.object.extend(proto,_),r.exportSymbol("proto.mediapipe.CalculatorGraphConfig",null,n),r.exportSymbol("proto.mediapipe.CalculatorGraphConfig.Node",null,n),r.exportSymbol("proto.mediapipe.ExecutorConfig",null,n),r.exportSymbol("proto.mediapipe.InputCollection",null,n),r.exportSymbol("proto.mediapipe.InputCollection.InputType",null,n),r.exportSymbol("proto.mediapipe.InputCollectionSet",null,n),r.exportSymbol("proto.mediapipe.InputStreamInfo",null,n),r.exportSymbol("proto.mediapipe.ProfilerConfig",null,n),proto.mediapipe.ExecutorConfig=function(g){e.Message.initialize(this,g,0,-1,null,null)},r.inherits(proto.mediapipe.ExecutorConfig,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.ExecutorConfig.displayName="proto.mediapipe.ExecutorConfig"),proto.mediapipe.InputCollection=function(g){e.Message.initialize(this,g,0,500,proto.mediapipe.InputCollection.repeatedFields_,null)},r.inherits(proto.mediapipe.InputCollection,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.InputCollection.displayName="proto.mediapipe.InputCollection"),proto.mediapipe.InputCollectionSet=function(g){e.Message.initialize(this,g,0,-1,proto.mediapipe.InputCollectionSet.repeatedFields_,null)},r.inherits(proto.mediapipe.InputCollectionSet,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.InputCollectionSet.displayName="proto.mediapipe.InputCollectionSet"),proto.mediapipe.InputStreamInfo=function(g){e.Message.initialize(this,g,0,-1,null,null)},r.inherits(proto.mediapipe.InputStreamInfo,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.InputStreamInfo.displayName="proto.mediapipe.InputStreamInfo"),proto.mediapipe.ProfilerConfig=function(g){e.Message.initialize(this,g,0,-1,proto.mediapipe.ProfilerConfig.repeatedFields_,null)},r.inherits(proto.mediapipe.ProfilerConfig,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.ProfilerConfig.displayName="proto.mediapipe.ProfilerConfig"),proto.mediapipe.CalculatorGraphConfig=function(g){e.Message.initialize(this,g,0,500,proto.mediapipe.CalculatorGraphConfig.repeatedFields_,null)},r.inherits(proto.mediapipe.CalculatorGraphConfig,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.CalculatorGraphConfig.displayName="proto.mediapipe.CalculatorGraphConfig"),proto.mediapipe.CalculatorGraphConfig.Node=function(g){e.Message.initialize(this,g,0,500,proto.mediapipe.CalculatorGraphConfig.Node.repeatedFields_,null)},r.inherits(proto.mediapipe.CalculatorGraphConfig.Node,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.CalculatorGraphConfig.Node.displayName="proto.mediapipe.CalculatorGraphConfig.Node"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.ExecutorConfig.prototype.toObject=function(g){return proto.mediapipe.ExecutorConfig.toObject(g,this)},proto.mediapipe.ExecutorConfig.toObject=function(g,f){var y,M={name:e.Message.getFieldWithDefault(f,1,""),type:e.Message.getFieldWithDefault(f,2,""),options:(y=f.getOptions())&&c.MediaPipeOptions.toObject(g,y)};return g&&(M.$jspbMessageInstance=f),M}),proto.mediapipe.ExecutorConfig.deserializeBinary=function(g){var f=new e.BinaryReader(g),y=new proto.mediapipe.ExecutorConfig;return proto.mediapipe.ExecutorConfig.deserializeBinaryFromReader(y,f)},proto.mediapipe.ExecutorConfig.deserializeBinaryFromReader=function(g,f){for(;f.nextField()&&!f.isEndGroup();)switch(f.getFieldNumber()){case 1:var y=f.readString();g.setName(y);break;case 2:y=f.readString(),g.setType(y);break;case 3:y=new c.MediaPipeOptions,f.readMessage(y,c.MediaPipeOptions.deserializeBinaryFromReader),g.setOptions(y);break;default:f.skipField()}return g},proto.mediapipe.ExecutorConfig.prototype.serializeBinary=function(){var g=new e.BinaryWriter;return proto.mediapipe.ExecutorConfig.serializeBinaryToWriter(this,g),g.getResultBuffer()},proto.mediapipe.ExecutorConfig.serializeBinaryToWriter=function(g,f){var y=void 0;(y=g.getName()).length>0&&f.writeString(1,y),(y=g.getType()).length>0&&f.writeString(2,y),(y=g.getOptions())!=null&&f.writeMessage(3,y,c.MediaPipeOptions.serializeBinaryToWriter)},proto.mediapipe.ExecutorConfig.prototype.getName=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.ExecutorConfig.prototype.setName=function(g){return e.Message.setProto3StringField(this,1,g)},proto.mediapipe.ExecutorConfig.prototype.getType=function(){return e.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.ExecutorConfig.prototype.setType=function(g){return e.Message.setProto3StringField(this,2,g)},proto.mediapipe.ExecutorConfig.prototype.getOptions=function(){return e.Message.getWrapperField(this,c.MediaPipeOptions,3)},proto.mediapipe.ExecutorConfig.prototype.setOptions=function(g){return e.Message.setWrapperField(this,3,g)},proto.mediapipe.ExecutorConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.ExecutorConfig.prototype.hasOptions=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.InputCollection.repeatedFields_=[2,1002],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InputCollection.prototype.toObject=function(g){return proto.mediapipe.InputCollection.toObject(g,this)},proto.mediapipe.InputCollection.toObject=function(g,f){var y,M={name:e.Message.getFieldWithDefault(f,1,""),sidePacketNameList:(y=e.Message.getRepeatedField(f,2))==null?void 0:y,externalInputNameList:(y=e.Message.getRepeatedField(f,1002))==null?void 0:y,inputType:e.Message.getFieldWithDefault(f,3,0),fileName:e.Message.getFieldWithDefault(f,4,"")};return g&&(M.$jspbMessageInstance=f),M}),proto.mediapipe.InputCollection.deserializeBinary=function(g){var f=new e.BinaryReader(g),y=new proto.mediapipe.InputCollection;return proto.mediapipe.InputCollection.deserializeBinaryFromReader(y,f)},proto.mediapipe.InputCollection.deserializeBinaryFromReader=function(g,f){for(;f.nextField()&&!f.isEndGroup();)switch(f.getFieldNumber()){case 1:var y=f.readString();g.setName(y);break;case 2:y=f.readString(),g.addSidePacketName(y);break;case 1002:y=f.readString(),g.addExternalInputName(y);break;case 3:y=f.readEnum(),g.setInputType(y);break;case 4:y=f.readString(),g.setFileName(y);break;default:f.skipField()}return g},proto.mediapipe.InputCollection.prototype.serializeBinary=function(){var g=new e.BinaryWriter;return proto.mediapipe.InputCollection.serializeBinaryToWriter(this,g),g.getResultBuffer()},proto.mediapipe.InputCollection.serializeBinaryToWriter=function(g,f){var y=void 0;(y=g.getName()).length>0&&f.writeString(1,y),(y=g.getSidePacketNameList()).length>0&&f.writeRepeatedString(2,y),(y=g.getExternalInputNameList()).length>0&&f.writeRepeatedString(1002,y),(y=g.getInputType())!==0&&f.writeEnum(3,y),(y=g.getFileName()).length>0&&f.writeString(4,y)},proto.mediapipe.InputCollection.InputType={UNKNOWN:0,RECORDIO:1,FOREIGN_RECORDIO:2,FOREIGN_CSV_TEXT:3,INVALID_UPPER_BOUND:4},proto.mediapipe.InputCollection.prototype.getName=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.InputCollection.prototype.setName=function(g){return e.Message.setProto3StringField(this,1,g)},proto.mediapipe.InputCollection.prototype.getSidePacketNameList=function(){return e.Message.getRepeatedField(this,2)},proto.mediapipe.InputCollection.prototype.setSidePacketNameList=function(g){return e.Message.setField(this,2,g||[])},proto.mediapipe.InputCollection.prototype.addSidePacketName=function(g,f){return e.Message.addToRepeatedField(this,2,g,f)},proto.mediapipe.InputCollection.prototype.clearSidePacketNameList=function(){return this.setSidePacketNameList([])},proto.mediapipe.InputCollection.prototype.getExternalInputNameList=function(){return e.Message.getRepeatedField(this,1002)},proto.mediapipe.InputCollection.prototype.setExternalInputNameList=function(g){return e.Message.setField(this,1002,g||[])},proto.mediapipe.InputCollection.prototype.addExternalInputName=function(g,f){return e.Message.addToRepeatedField(this,1002,g,f)},proto.mediapipe.InputCollection.prototype.clearExternalInputNameList=function(){return this.setExternalInputNameList([])},proto.mediapipe.InputCollection.prototype.getInputType=function(){return e.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.InputCollection.prototype.setInputType=function(g){return e.Message.setProto3EnumField(this,3,g)},proto.mediapipe.InputCollection.prototype.getFileName=function(){return e.Message.getFieldWithDefault(this,4,"")},proto.mediapipe.InputCollection.prototype.setFileName=function(g){return e.Message.setProto3StringField(this,4,g)},proto.mediapipe.InputCollectionSet.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InputCollectionSet.prototype.toObject=function(g){return proto.mediapipe.InputCollectionSet.toObject(g,this)},proto.mediapipe.InputCollectionSet.toObject=function(g,f){var y={inputCollectionList:e.Message.toObjectList(f.getInputCollectionList(),proto.mediapipe.InputCollection.toObject,g)};return g&&(y.$jspbMessageInstance=f),y}),proto.mediapipe.InputCollectionSet.deserializeBinary=function(g){var f=new e.BinaryReader(g),y=new proto.mediapipe.InputCollectionSet;return proto.mediapipe.InputCollectionSet.deserializeBinaryFromReader(y,f)},proto.mediapipe.InputCollectionSet.deserializeBinaryFromReader=function(g,f){for(;f.nextField()&&!f.isEndGroup();)if(f.getFieldNumber()===1){var y=new proto.mediapipe.InputCollection;f.readMessage(y,proto.mediapipe.InputCollection.deserializeBinaryFromReader),g.addInputCollection(y)}else f.skipField();return g},proto.mediapipe.InputCollectionSet.prototype.serializeBinary=function(){var g=new e.BinaryWriter;return proto.mediapipe.InputCollectionSet.serializeBinaryToWriter(this,g),g.getResultBuffer()},proto.mediapipe.InputCollectionSet.serializeBinaryToWriter=function(g,f){var y;(y=g.getInputCollectionList()).length>0&&f.writeRepeatedMessage(1,y,proto.mediapipe.InputCollection.serializeBinaryToWriter)},proto.mediapipe.InputCollectionSet.prototype.getInputCollectionList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.InputCollection,1)},proto.mediapipe.InputCollectionSet.prototype.setInputCollectionList=function(g){return e.Message.setRepeatedWrapperField(this,1,g)},proto.mediapipe.InputCollectionSet.prototype.addInputCollection=function(g,f){return e.Message.addToRepeatedWrapperField(this,1,g,proto.mediapipe.InputCollection,f)},proto.mediapipe.InputCollectionSet.prototype.clearInputCollectionList=function(){return this.setInputCollectionList([])},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InputStreamInfo.prototype.toObject=function(g){return proto.mediapipe.InputStreamInfo.toObject(g,this)},proto.mediapipe.InputStreamInfo.toObject=function(g,f){var y={tagIndex:e.Message.getFieldWithDefault(f,1,""),backEdge:e.Message.getBooleanFieldWithDefault(f,2,!1)};return g&&(y.$jspbMessageInstance=f),y}),proto.mediapipe.InputStreamInfo.deserializeBinary=function(g){var f=new e.BinaryReader(g),y=new proto.mediapipe.InputStreamInfo;return proto.mediapipe.InputStreamInfo.deserializeBinaryFromReader(y,f)},proto.mediapipe.InputStreamInfo.deserializeBinaryFromReader=function(g,f){for(;f.nextField()&&!f.isEndGroup();)switch(f.getFieldNumber()){case 1:var y=f.readString();g.setTagIndex(y);break;case 2:y=f.readBool(),g.setBackEdge(y);break;default:f.skipField()}return g},proto.mediapipe.InputStreamInfo.prototype.serializeBinary=function(){var g=new e.BinaryWriter;return proto.mediapipe.InputStreamInfo.serializeBinaryToWriter(this,g),g.getResultBuffer()},proto.mediapipe.InputStreamInfo.serializeBinaryToWriter=function(g,f){var y=void 0;(y=g.getTagIndex()).length>0&&f.writeString(1,y),(y=g.getBackEdge())&&f.writeBool(2,y)},proto.mediapipe.InputStreamInfo.prototype.getTagIndex=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.InputStreamInfo.prototype.setTagIndex=function(g){return e.Message.setProto3StringField(this,1,g)},proto.mediapipe.InputStreamInfo.prototype.getBackEdge=function(){return e.Message.getBooleanFieldWithDefault(this,2,!1)},proto.mediapipe.InputStreamInfo.prototype.setBackEdge=function(g){return e.Message.setProto3BooleanField(this,2,g)},proto.mediapipe.ProfilerConfig.repeatedFields_=[8],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.ProfilerConfig.prototype.toObject=function(g){return proto.mediapipe.ProfilerConfig.toObject(g,this)},proto.mediapipe.ProfilerConfig.toObject=function(g,f){var y,M={histogramIntervalSizeUsec:e.Message.getFieldWithDefault(f,1,0),numHistogramIntervals:e.Message.getFieldWithDefault(f,2,0),enableInputOutputLatency:e.Message.getBooleanFieldWithDefault(f,3,!1),enableProfiler:e.Message.getBooleanFieldWithDefault(f,4,!1),enableStreamLatency:e.Message.getBooleanFieldWithDefault(f,5,!1),usePacketTimestampForAddedPacket:e.Message.getBooleanFieldWithDefault(f,6,!1),traceLogCapacity:e.Message.getFieldWithDefault(f,7,0),traceEventTypesDisabledList:(y=e.Message.getRepeatedField(f,8))==null?void 0:y,traceLogPath:e.Message.getFieldWithDefault(f,9,""),traceLogCount:e.Message.getFieldWithDefault(f,10,0),traceLogIntervalUsec:e.Message.getFieldWithDefault(f,11,0),traceLogMarginUsec:e.Message.getFieldWithDefault(f,12,0),traceLogDurationEvents:e.Message.getBooleanFieldWithDefault(f,13,!1),traceLogIntervalCount:e.Message.getFieldWithDefault(f,14,0),traceLogDisabled:e.Message.getBooleanFieldWithDefault(f,15,!1),traceEnabled:e.Message.getBooleanFieldWithDefault(f,16,!1),traceLogInstantEvents:e.Message.getBooleanFieldWithDefault(f,17,!1),calculatorFilter:e.Message.getFieldWithDefault(f,18,"")};return g&&(M.$jspbMessageInstance=f),M}),proto.mediapipe.ProfilerConfig.deserializeBinary=function(g){var f=new e.BinaryReader(g),y=new proto.mediapipe.ProfilerConfig;return proto.mediapipe.ProfilerConfig.deserializeBinaryFromReader(y,f)},proto.mediapipe.ProfilerConfig.deserializeBinaryFromReader=function(g,f){for(;f.nextField()&&!f.isEndGroup();)switch(f.getFieldNumber()){case 1:var y=f.readInt64();g.setHistogramIntervalSizeUsec(y);break;case 2:y=f.readInt64(),g.setNumHistogramIntervals(y);break;case 3:y=f.readBool(),g.setEnableInputOutputLatency(y);break;case 4:y=f.readBool(),g.setEnableProfiler(y);break;case 5:y=f.readBool(),g.setEnableStreamLatency(y);break;case 6:y=f.readBool(),g.setUsePacketTimestampForAddedPacket(y);break;case 7:y=f.readInt64(),g.setTraceLogCapacity(y);break;case 8:for(var M=f.isDelimited()?f.readPackedInt32():[f.readInt32()],T=0;T<M.length;T++)g.addTraceEventTypesDisabled(M[T]);break;case 9:y=f.readString(),g.setTraceLogPath(y);break;case 10:y=f.readInt32(),g.setTraceLogCount(y);break;case 11:y=f.readInt64(),g.setTraceLogIntervalUsec(y);break;case 12:y=f.readInt64(),g.setTraceLogMarginUsec(y);break;case 13:y=f.readBool(),g.setTraceLogDurationEvents(y);break;case 14:y=f.readInt32(),g.setTraceLogIntervalCount(y);break;case 15:y=f.readBool(),g.setTraceLogDisabled(y);break;case 16:y=f.readBool(),g.setTraceEnabled(y);break;case 17:y=f.readBool(),g.setTraceLogInstantEvents(y);break;case 18:y=f.readString(),g.setCalculatorFilter(y);break;default:f.skipField()}return g},proto.mediapipe.ProfilerConfig.prototype.serializeBinary=function(){var g=new e.BinaryWriter;return proto.mediapipe.ProfilerConfig.serializeBinaryToWriter(this,g),g.getResultBuffer()},proto.mediapipe.ProfilerConfig.serializeBinaryToWriter=function(g,f){var y=void 0;(y=g.getHistogramIntervalSizeUsec())!==0&&f.writeInt64(1,y),(y=g.getNumHistogramIntervals())!==0&&f.writeInt64(2,y),(y=g.getEnableInputOutputLatency())&&f.writeBool(3,y),(y=g.getEnableProfiler())&&f.writeBool(4,y),(y=g.getEnableStreamLatency())&&f.writeBool(5,y),(y=g.getUsePacketTimestampForAddedPacket())&&f.writeBool(6,y),(y=g.getTraceLogCapacity())!==0&&f.writeInt64(7,y),(y=g.getTraceEventTypesDisabledList()).length>0&&f.writePackedInt32(8,y),(y=g.getTraceLogPath()).length>0&&f.writeString(9,y),(y=g.getTraceLogCount())!==0&&f.writeInt32(10,y),(y=g.getTraceLogIntervalUsec())!==0&&f.writeInt64(11,y),(y=g.getTraceLogMarginUsec())!==0&&f.writeInt64(12,y),(y=g.getTraceLogDurationEvents())&&f.writeBool(13,y),(y=g.getTraceLogIntervalCount())!==0&&f.writeInt32(14,y),(y=g.getTraceLogDisabled())&&f.writeBool(15,y),(y=g.getTraceEnabled())&&f.writeBool(16,y),(y=g.getTraceLogInstantEvents())&&f.writeBool(17,y),(y=g.getCalculatorFilter()).length>0&&f.writeString(18,y)},proto.mediapipe.ProfilerConfig.prototype.getHistogramIntervalSizeUsec=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.ProfilerConfig.prototype.setHistogramIntervalSizeUsec=function(g){return e.Message.setProto3IntField(this,1,g)},proto.mediapipe.ProfilerConfig.prototype.getNumHistogramIntervals=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.ProfilerConfig.prototype.setNumHistogramIntervals=function(g){return e.Message.setProto3IntField(this,2,g)},proto.mediapipe.ProfilerConfig.prototype.getEnableInputOutputLatency=function(){return e.Message.getBooleanFieldWithDefault(this,3,!1)},proto.mediapipe.ProfilerConfig.prototype.setEnableInputOutputLatency=function(g){return e.Message.setProto3BooleanField(this,3,g)},proto.mediapipe.ProfilerConfig.prototype.getEnableProfiler=function(){return e.Message.getBooleanFieldWithDefault(this,4,!1)},proto.mediapipe.ProfilerConfig.prototype.setEnableProfiler=function(g){return e.Message.setProto3BooleanField(this,4,g)},proto.mediapipe.ProfilerConfig.prototype.getEnableStreamLatency=function(){return e.Message.getBooleanFieldWithDefault(this,5,!1)},proto.mediapipe.ProfilerConfig.prototype.setEnableStreamLatency=function(g){return e.Message.setProto3BooleanField(this,5,g)},proto.mediapipe.ProfilerConfig.prototype.getUsePacketTimestampForAddedPacket=function(){return e.Message.getBooleanFieldWithDefault(this,6,!1)},proto.mediapipe.ProfilerConfig.prototype.setUsePacketTimestampForAddedPacket=function(g){return e.Message.setProto3BooleanField(this,6,g)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogCapacity=function(){return e.Message.getFieldWithDefault(this,7,0)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogCapacity=function(g){return e.Message.setProto3IntField(this,7,g)},proto.mediapipe.ProfilerConfig.prototype.getTraceEventTypesDisabledList=function(){return e.Message.getRepeatedField(this,8)},proto.mediapipe.ProfilerConfig.prototype.setTraceEventTypesDisabledList=function(g){return e.Message.setField(this,8,g||[])},proto.mediapipe.ProfilerConfig.prototype.addTraceEventTypesDisabled=function(g,f){return e.Message.addToRepeatedField(this,8,g,f)},proto.mediapipe.ProfilerConfig.prototype.clearTraceEventTypesDisabledList=function(){return this.setTraceEventTypesDisabledList([])},proto.mediapipe.ProfilerConfig.prototype.getTraceLogPath=function(){return e.Message.getFieldWithDefault(this,9,"")},proto.mediapipe.ProfilerConfig.prototype.setTraceLogPath=function(g){return e.Message.setProto3StringField(this,9,g)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogCount=function(){return e.Message.getFieldWithDefault(this,10,0)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogCount=function(g){return e.Message.setProto3IntField(this,10,g)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogIntervalUsec=function(){return e.Message.getFieldWithDefault(this,11,0)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogIntervalUsec=function(g){return e.Message.setProto3IntField(this,11,g)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogMarginUsec=function(){return e.Message.getFieldWithDefault(this,12,0)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogMarginUsec=function(g){return e.Message.setProto3IntField(this,12,g)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogDurationEvents=function(){return e.Message.getBooleanFieldWithDefault(this,13,!1)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogDurationEvents=function(g){return e.Message.setProto3BooleanField(this,13,g)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogIntervalCount=function(){return e.Message.getFieldWithDefault(this,14,0)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogIntervalCount=function(g){return e.Message.setProto3IntField(this,14,g)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogDisabled=function(){return e.Message.getBooleanFieldWithDefault(this,15,!1)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogDisabled=function(g){return e.Message.setProto3BooleanField(this,15,g)},proto.mediapipe.ProfilerConfig.prototype.getTraceEnabled=function(){return e.Message.getBooleanFieldWithDefault(this,16,!1)},proto.mediapipe.ProfilerConfig.prototype.setTraceEnabled=function(g){return e.Message.setProto3BooleanField(this,16,g)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogInstantEvents=function(){return e.Message.getBooleanFieldWithDefault(this,17,!1)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogInstantEvents=function(g){return e.Message.setProto3BooleanField(this,17,g)},proto.mediapipe.ProfilerConfig.prototype.getCalculatorFilter=function(){return e.Message.getFieldWithDefault(this,18,"")},proto.mediapipe.ProfilerConfig.prototype.setCalculatorFilter=function(g){return e.Message.setProto3StringField(this,18,g)},proto.mediapipe.CalculatorGraphConfig.repeatedFields_=[1,6,7,9,10,15,16,17,14,1002],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.CalculatorGraphConfig.prototype.toObject=function(g){return proto.mediapipe.CalculatorGraphConfig.toObject(g,this)},proto.mediapipe.CalculatorGraphConfig.toObject=function(g,f){var y,M={nodeList:e.Message.toObjectList(f.getNodeList(),proto.mediapipe.CalculatorGraphConfig.Node.toObject,g),packetFactoryList:e.Message.toObjectList(f.getPacketFactoryList(),d.PacketFactoryConfig.toObject,g),packetGeneratorList:e.Message.toObjectList(f.getPacketGeneratorList(),u.PacketGeneratorConfig.toObject,g),numThreads:e.Message.getFieldWithDefault(f,8,0),statusHandlerList:e.Message.toObjectList(f.getStatusHandlerList(),m.StatusHandlerConfig.toObject,g),inputStreamList:(y=e.Message.getRepeatedField(f,10))==null?void 0:y,outputStreamList:(y=e.Message.getRepeatedField(f,15))==null?void 0:y,inputSidePacketList:(y=e.Message.getRepeatedField(f,16))==null?void 0:y,outputSidePacketList:(y=e.Message.getRepeatedField(f,17))==null?void 0:y,maxQueueSize:e.Message.getFieldWithDefault(f,11,0),reportDeadlock:e.Message.getBooleanFieldWithDefault(f,21,!1),inputStreamHandler:(y=f.getInputStreamHandler())&&_.InputStreamHandlerConfig.toObject(g,y),outputStreamHandler:(y=f.getOutputStreamHandler())&&_.OutputStreamHandlerConfig.toObject(g,y),executorList:e.Message.toObjectList(f.getExecutorList(),proto.mediapipe.ExecutorConfig.toObject,g),profilerConfig:(y=f.getProfilerConfig())&&proto.mediapipe.ProfilerConfig.toObject(g,y),pb_package:e.Message.getFieldWithDefault(f,19,""),type:e.Message.getFieldWithDefault(f,20,""),options:(y=f.getOptions())&&c.MediaPipeOptions.toObject(g,y),graphOptionsList:e.Message.toObjectList(f.getGraphOptionsList(),s.Any.toObject,g)};return g&&(M.$jspbMessageInstance=f),M}),proto.mediapipe.CalculatorGraphConfig.deserializeBinary=function(g){var f=new e.BinaryReader(g),y=new proto.mediapipe.CalculatorGraphConfig;return proto.mediapipe.CalculatorGraphConfig.deserializeBinaryFromReader(y,f)},proto.mediapipe.CalculatorGraphConfig.deserializeBinaryFromReader=function(g,f){for(;f.nextField()&&!f.isEndGroup();)switch(f.getFieldNumber()){case 1:var y=new proto.mediapipe.CalculatorGraphConfig.Node;f.readMessage(y,proto.mediapipe.CalculatorGraphConfig.Node.deserializeBinaryFromReader),g.addNode(y);break;case 6:y=new d.PacketFactoryConfig,f.readMessage(y,d.PacketFactoryConfig.deserializeBinaryFromReader),g.addPacketFactory(y);break;case 7:y=new u.PacketGeneratorConfig,f.readMessage(y,u.PacketGeneratorConfig.deserializeBinaryFromReader),g.addPacketGenerator(y);break;case 8:y=f.readInt32(),g.setNumThreads(y);break;case 9:y=new m.StatusHandlerConfig,f.readMessage(y,m.StatusHandlerConfig.deserializeBinaryFromReader),g.addStatusHandler(y);break;case 10:y=f.readString(),g.addInputStream(y);break;case 15:y=f.readString(),g.addOutputStream(y);break;case 16:y=f.readString(),g.addInputSidePacket(y);break;case 17:y=f.readString(),g.addOutputSidePacket(y);break;case 11:y=f.readInt32(),g.setMaxQueueSize(y);break;case 21:y=f.readBool(),g.setReportDeadlock(y);break;case 12:y=new _.InputStreamHandlerConfig,f.readMessage(y,_.InputStreamHandlerConfig.deserializeBinaryFromReader),g.setInputStreamHandler(y);break;case 13:y=new _.OutputStreamHandlerConfig,f.readMessage(y,_.OutputStreamHandlerConfig.deserializeBinaryFromReader),g.setOutputStreamHandler(y);break;case 14:y=new proto.mediapipe.ExecutorConfig,f.readMessage(y,proto.mediapipe.ExecutorConfig.deserializeBinaryFromReader),g.addExecutor(y);break;case 18:y=new proto.mediapipe.ProfilerConfig,f.readMessage(y,proto.mediapipe.ProfilerConfig.deserializeBinaryFromReader),g.setProfilerConfig(y);break;case 19:y=f.readString(),g.setPackage(y);break;case 20:y=f.readString(),g.setType(y);break;case 1001:y=new c.MediaPipeOptions,f.readMessage(y,c.MediaPipeOptions.deserializeBinaryFromReader),g.setOptions(y);break;case 1002:y=new s.Any,f.readMessage(y,s.Any.deserializeBinaryFromReader),g.addGraphOptions(y);break;default:f.skipField()}return g},proto.mediapipe.CalculatorGraphConfig.prototype.serializeBinary=function(){var g=new e.BinaryWriter;return proto.mediapipe.CalculatorGraphConfig.serializeBinaryToWriter(this,g),g.getResultBuffer()},proto.mediapipe.CalculatorGraphConfig.serializeBinaryToWriter=function(g,f){var y=void 0;(y=g.getNodeList()).length>0&&f.writeRepeatedMessage(1,y,proto.mediapipe.CalculatorGraphConfig.Node.serializeBinaryToWriter),(y=g.getPacketFactoryList()).length>0&&f.writeRepeatedMessage(6,y,d.PacketFactoryConfig.serializeBinaryToWriter),(y=g.getPacketGeneratorList()).length>0&&f.writeRepeatedMessage(7,y,u.PacketGeneratorConfig.serializeBinaryToWriter),(y=g.getNumThreads())!==0&&f.writeInt32(8,y),(y=g.getStatusHandlerList()).length>0&&f.writeRepeatedMessage(9,y,m.StatusHandlerConfig.serializeBinaryToWriter),(y=g.getInputStreamList()).length>0&&f.writeRepeatedString(10,y),(y=g.getOutputStreamList()).length>0&&f.writeRepeatedString(15,y),(y=g.getInputSidePacketList()).length>0&&f.writeRepeatedString(16,y),(y=g.getOutputSidePacketList()).length>0&&f.writeRepeatedString(17,y),(y=g.getMaxQueueSize())!==0&&f.writeInt32(11,y),(y=g.getReportDeadlock())&&f.writeBool(21,y),(y=g.getInputStreamHandler())!=null&&f.writeMessage(12,y,_.InputStreamHandlerConfig.serializeBinaryToWriter),(y=g.getOutputStreamHandler())!=null&&f.writeMessage(13,y,_.OutputStreamHandlerConfig.serializeBinaryToWriter),(y=g.getExecutorList()).length>0&&f.writeRepeatedMessage(14,y,proto.mediapipe.ExecutorConfig.serializeBinaryToWriter),(y=g.getProfilerConfig())!=null&&f.writeMessage(18,y,proto.mediapipe.ProfilerConfig.serializeBinaryToWriter),(y=g.getPackage()).length>0&&f.writeString(19,y),(y=g.getType()).length>0&&f.writeString(20,y),(y=g.getOptions())!=null&&f.writeMessage(1001,y,c.MediaPipeOptions.serializeBinaryToWriter),(y=g.getGraphOptionsList()).length>0&&f.writeRepeatedMessage(1002,y,s.Any.serializeBinaryToWriter)},proto.mediapipe.CalculatorGraphConfig.Node.repeatedFields_=[3,4,5,6,8,13,17,1005],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.CalculatorGraphConfig.Node.prototype.toObject=function(g){return proto.mediapipe.CalculatorGraphConfig.Node.toObject(g,this)},proto.mediapipe.CalculatorGraphConfig.Node.toObject=function(g,f){var y,M={name:e.Message.getFieldWithDefault(f,1,""),calculator:e.Message.getFieldWithDefault(f,2,""),inputStreamList:(y=e.Message.getRepeatedField(f,3))==null?void 0:y,outputStreamList:(y=e.Message.getRepeatedField(f,4))==null?void 0:y,inputSidePacketList:(y=e.Message.getRepeatedField(f,5))==null?void 0:y,outputSidePacketList:(y=e.Message.getRepeatedField(f,6))==null?void 0:y,options:(y=f.getOptions())&&o.CalculatorOptions.toObject(g,y),nodeOptionsList:e.Message.toObjectList(f.getNodeOptionsList(),s.Any.toObject,g),sourceLayer:e.Message.getFieldWithDefault(f,9,0),bufferSizeHint:e.Message.getFieldWithDefault(f,10,0),inputStreamHandler:(y=f.getInputStreamHandler())&&_.InputStreamHandlerConfig.toObject(g,y),outputStreamHandler:(y=f.getOutputStreamHandler())&&_.OutputStreamHandlerConfig.toObject(g,y),inputStreamInfoList:e.Message.toObjectList(f.getInputStreamInfoList(),proto.mediapipe.InputStreamInfo.toObject,g),executor:e.Message.getFieldWithDefault(f,14,""),profilerConfig:(y=f.getProfilerConfig())&&proto.mediapipe.ProfilerConfig.toObject(g,y),maxInFlight:e.Message.getFieldWithDefault(f,16,0),optionValueList:(y=e.Message.getRepeatedField(f,17))==null?void 0:y,externalInputList:(y=e.Message.getRepeatedField(f,1005))==null?void 0:y};return g&&(M.$jspbMessageInstance=f),M}),proto.mediapipe.CalculatorGraphConfig.Node.deserializeBinary=function(g){var f=new e.BinaryReader(g),y=new proto.mediapipe.CalculatorGraphConfig.Node;return proto.mediapipe.CalculatorGraphConfig.Node.deserializeBinaryFromReader(y,f)},proto.mediapipe.CalculatorGraphConfig.Node.deserializeBinaryFromReader=function(g,f){for(;f.nextField()&&!f.isEndGroup();)switch(f.getFieldNumber()){case 1:var y=f.readString();g.setName(y);break;case 2:y=f.readString(),g.setCalculator(y);break;case 3:y=f.readString(),g.addInputStream(y);break;case 4:y=f.readString(),g.addOutputStream(y);break;case 5:y=f.readString(),g.addInputSidePacket(y);break;case 6:y=f.readString(),g.addOutputSidePacket(y);break;case 7:y=new o.CalculatorOptions,f.readMessage(y,o.CalculatorOptions.deserializeBinaryFromReader),g.setOptions(y);break;case 8:y=new s.Any,f.readMessage(y,s.Any.deserializeBinaryFromReader),g.addNodeOptions(y);break;case 9:y=f.readInt32(),g.setSourceLayer(y);break;case 10:y=f.readInt32(),g.setBufferSizeHint(y);break;case 11:y=new _.InputStreamHandlerConfig,f.readMessage(y,_.InputStreamHandlerConfig.deserializeBinaryFromReader),g.setInputStreamHandler(y);break;case 12:y=new _.OutputStreamHandlerConfig,f.readMessage(y,_.OutputStreamHandlerConfig.deserializeBinaryFromReader),g.setOutputStreamHandler(y);break;case 13:y=new proto.mediapipe.InputStreamInfo,f.readMessage(y,proto.mediapipe.InputStreamInfo.deserializeBinaryFromReader),g.addInputStreamInfo(y);break;case 14:y=f.readString(),g.setExecutor(y);break;case 15:y=new proto.mediapipe.ProfilerConfig,f.readMessage(y,proto.mediapipe.ProfilerConfig.deserializeBinaryFromReader),g.setProfilerConfig(y);break;case 16:y=f.readInt32(),g.setMaxInFlight(y);break;case 17:y=f.readString(),g.addOptionValue(y);break;case 1005:y=f.readString(),g.addExternalInput(y);break;default:f.skipField()}return g},proto.mediapipe.CalculatorGraphConfig.Node.prototype.serializeBinary=function(){var g=new e.BinaryWriter;return proto.mediapipe.CalculatorGraphConfig.Node.serializeBinaryToWriter(this,g),g.getResultBuffer()},proto.mediapipe.CalculatorGraphConfig.Node.serializeBinaryToWriter=function(g,f){var y=void 0;(y=g.getName()).length>0&&f.writeString(1,y),(y=g.getCalculator()).length>0&&f.writeString(2,y),(y=g.getInputStreamList()).length>0&&f.writeRepeatedString(3,y),(y=g.getOutputStreamList()).length>0&&f.writeRepeatedString(4,y),(y=g.getInputSidePacketList()).length>0&&f.writeRepeatedString(5,y),(y=g.getOutputSidePacketList()).length>0&&f.writeRepeatedString(6,y),(y=g.getOptions())!=null&&f.writeMessage(7,y,o.CalculatorOptions.serializeBinaryToWriter),(y=g.getNodeOptionsList()).length>0&&f.writeRepeatedMessage(8,y,s.Any.serializeBinaryToWriter),(y=g.getSourceLayer())!==0&&f.writeInt32(9,y),(y=g.getBufferSizeHint())!==0&&f.writeInt32(10,y),(y=g.getInputStreamHandler())!=null&&f.writeMessage(11,y,_.InputStreamHandlerConfig.serializeBinaryToWriter),(y=g.getOutputStreamHandler())!=null&&f.writeMessage(12,y,_.OutputStreamHandlerConfig.serializeBinaryToWriter),(y=g.getInputStreamInfoList()).length>0&&f.writeRepeatedMessage(13,y,proto.mediapipe.InputStreamInfo.serializeBinaryToWriter),(y=g.getExecutor()).length>0&&f.writeString(14,y),(y=g.getProfilerConfig())!=null&&f.writeMessage(15,y,proto.mediapipe.ProfilerConfig.serializeBinaryToWriter),(y=g.getMaxInFlight())!==0&&f.writeInt32(16,y),(y=g.getOptionValueList()).length>0&&f.writeRepeatedString(17,y),(y=g.getExternalInputList()).length>0&&f.writeRepeatedString(1005,y)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getName=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setName=function(g){return e.Message.setProto3StringField(this,1,g)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getCalculator=function(){return e.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setCalculator=function(g){return e.Message.setProto3StringField(this,2,g)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getInputStreamList=function(){return e.Message.getRepeatedField(this,3)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setInputStreamList=function(g){return e.Message.setField(this,3,g||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addInputStream=function(g,f){return e.Message.addToRepeatedField(this,3,g,f)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearInputStreamList=function(){return this.setInputStreamList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getOutputStreamList=function(){return e.Message.getRepeatedField(this,4)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setOutputStreamList=function(g){return e.Message.setField(this,4,g||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addOutputStream=function(g,f){return e.Message.addToRepeatedField(this,4,g,f)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearOutputStreamList=function(){return this.setOutputStreamList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getInputSidePacketList=function(){return e.Message.getRepeatedField(this,5)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setInputSidePacketList=function(g){return e.Message.setField(this,5,g||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addInputSidePacket=function(g,f){return e.Message.addToRepeatedField(this,5,g,f)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearInputSidePacketList=function(){return this.setInputSidePacketList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getOutputSidePacketList=function(){return e.Message.getRepeatedField(this,6)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setOutputSidePacketList=function(g){return e.Message.setField(this,6,g||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addOutputSidePacket=function(g,f){return e.Message.addToRepeatedField(this,6,g,f)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearOutputSidePacketList=function(){return this.setOutputSidePacketList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getOptions=function(){return e.Message.getWrapperField(this,o.CalculatorOptions,7)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setOptions=function(g){return e.Message.setWrapperField(this,7,g)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.hasOptions=function(){return e.Message.getField(this,7)!=null},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getNodeOptionsList=function(){return e.Message.getRepeatedWrapperField(this,s.Any,8)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setNodeOptionsList=function(g){return e.Message.setRepeatedWrapperField(this,8,g)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addNodeOptions=function(g,f){return e.Message.addToRepeatedWrapperField(this,8,g,proto.google.protobuf.Any,f)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearNodeOptionsList=function(){return this.setNodeOptionsList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getSourceLayer=function(){return e.Message.getFieldWithDefault(this,9,0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setSourceLayer=function(g){return e.Message.setProto3IntField(this,9,g)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getBufferSizeHint=function(){return e.Message.getFieldWithDefault(this,10,0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setBufferSizeHint=function(g){return e.Message.setProto3IntField(this,10,g)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getInputStreamHandler=function(){return e.Message.getWrapperField(this,_.InputStreamHandlerConfig,11)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setInputStreamHandler=function(g){return e.Message.setWrapperField(this,11,g)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearInputStreamHandler=function(){return this.setInputStreamHandler(void 0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.hasInputStreamHandler=function(){return e.Message.getField(this,11)!=null},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getOutputStreamHandler=function(){return e.Message.getWrapperField(this,_.OutputStreamHandlerConfig,12)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setOutputStreamHandler=function(g){return e.Message.setWrapperField(this,12,g)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearOutputStreamHandler=function(){return this.setOutputStreamHandler(void 0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.hasOutputStreamHandler=function(){return e.Message.getField(this,12)!=null},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getInputStreamInfoList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.InputStreamInfo,13)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setInputStreamInfoList=function(g){return e.Message.setRepeatedWrapperField(this,13,g)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addInputStreamInfo=function(g,f){return e.Message.addToRepeatedWrapperField(this,13,g,proto.mediapipe.InputStreamInfo,f)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearInputStreamInfoList=function(){return this.setInputStreamInfoList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getExecutor=function(){return e.Message.getFieldWithDefault(this,14,"")},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setExecutor=function(g){return e.Message.setProto3StringField(this,14,g)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getProfilerConfig=function(){return e.Message.getWrapperField(this,proto.mediapipe.ProfilerConfig,15)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setProfilerConfig=function(g){return e.Message.setWrapperField(this,15,g)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearProfilerConfig=function(){return this.setProfilerConfig(void 0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.hasProfilerConfig=function(){return e.Message.getField(this,15)!=null},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getMaxInFlight=function(){return e.Message.getFieldWithDefault(this,16,0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setMaxInFlight=function(g){return e.Message.setProto3IntField(this,16,g)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getOptionValueList=function(){return e.Message.getRepeatedField(this,17)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setOptionValueList=function(g){return e.Message.setField(this,17,g||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addOptionValue=function(g,f){return e.Message.addToRepeatedField(this,17,g,f)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearOptionValueList=function(){return this.setOptionValueList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getExternalInputList=function(){return e.Message.getRepeatedField(this,1005)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setExternalInputList=function(g){return e.Message.setField(this,1005,g||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addExternalInput=function(g,f){return e.Message.addToRepeatedField(this,1005,g,f)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearExternalInputList=function(){return this.setExternalInputList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getNodeList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.CalculatorGraphConfig.Node,1)},proto.mediapipe.CalculatorGraphConfig.prototype.setNodeList=function(g){return e.Message.setRepeatedWrapperField(this,1,g)},proto.mediapipe.CalculatorGraphConfig.prototype.addNode=function(g,f){return e.Message.addToRepeatedWrapperField(this,1,g,proto.mediapipe.CalculatorGraphConfig.Node,f)},proto.mediapipe.CalculatorGraphConfig.prototype.clearNodeList=function(){return this.setNodeList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getPacketFactoryList=function(){return e.Message.getRepeatedWrapperField(this,d.PacketFactoryConfig,6)},proto.mediapipe.CalculatorGraphConfig.prototype.setPacketFactoryList=function(g){return e.Message.setRepeatedWrapperField(this,6,g)},proto.mediapipe.CalculatorGraphConfig.prototype.addPacketFactory=function(g,f){return e.Message.addToRepeatedWrapperField(this,6,g,proto.mediapipe.PacketFactoryConfig,f)},proto.mediapipe.CalculatorGraphConfig.prototype.clearPacketFactoryList=function(){return this.setPacketFactoryList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getPacketGeneratorList=function(){return e.Message.getRepeatedWrapperField(this,u.PacketGeneratorConfig,7)},proto.mediapipe.CalculatorGraphConfig.prototype.setPacketGeneratorList=function(g){return e.Message.setRepeatedWrapperField(this,7,g)},proto.mediapipe.CalculatorGraphConfig.prototype.addPacketGenerator=function(g,f){return e.Message.addToRepeatedWrapperField(this,7,g,proto.mediapipe.PacketGeneratorConfig,f)},proto.mediapipe.CalculatorGraphConfig.prototype.clearPacketGeneratorList=function(){return this.setPacketGeneratorList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getNumThreads=function(){return e.Message.getFieldWithDefault(this,8,0)},proto.mediapipe.CalculatorGraphConfig.prototype.setNumThreads=function(g){return e.Message.setProto3IntField(this,8,g)},proto.mediapipe.CalculatorGraphConfig.prototype.getStatusHandlerList=function(){return e.Message.getRepeatedWrapperField(this,m.StatusHandlerConfig,9)},proto.mediapipe.CalculatorGraphConfig.prototype.setStatusHandlerList=function(g){return e.Message.setRepeatedWrapperField(this,9,g)},proto.mediapipe.CalculatorGraphConfig.prototype.addStatusHandler=function(g,f){return e.Message.addToRepeatedWrapperField(this,9,g,proto.mediapipe.StatusHandlerConfig,f)},proto.mediapipe.CalculatorGraphConfig.prototype.clearStatusHandlerList=function(){return this.setStatusHandlerList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getInputStreamList=function(){return e.Message.getRepeatedField(this,10)},proto.mediapipe.CalculatorGraphConfig.prototype.setInputStreamList=function(g){return e.Message.setField(this,10,g||[])},proto.mediapipe.CalculatorGraphConfig.prototype.addInputStream=function(g,f){return e.Message.addToRepeatedField(this,10,g,f)},proto.mediapipe.CalculatorGraphConfig.prototype.clearInputStreamList=function(){return this.setInputStreamList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getOutputStreamList=function(){return e.Message.getRepeatedField(this,15)},proto.mediapipe.CalculatorGraphConfig.prototype.setOutputStreamList=function(g){return e.Message.setField(this,15,g||[])},proto.mediapipe.CalculatorGraphConfig.prototype.addOutputStream=function(g,f){return e.Message.addToRepeatedField(this,15,g,f)},proto.mediapipe.CalculatorGraphConfig.prototype.clearOutputStreamList=function(){return this.setOutputStreamList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getInputSidePacketList=function(){return e.Message.getRepeatedField(this,16)},proto.mediapipe.CalculatorGraphConfig.prototype.setInputSidePacketList=function(g){return e.Message.setField(this,16,g||[])},proto.mediapipe.CalculatorGraphConfig.prototype.addInputSidePacket=function(g,f){return e.Message.addToRepeatedField(this,16,g,f)},proto.mediapipe.CalculatorGraphConfig.prototype.clearInputSidePacketList=function(){return this.setInputSidePacketList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getOutputSidePacketList=function(){return e.Message.getRepeatedField(this,17)},proto.mediapipe.CalculatorGraphConfig.prototype.setOutputSidePacketList=function(g){return e.Message.setField(this,17,g||[])},proto.mediapipe.CalculatorGraphConfig.prototype.addOutputSidePacket=function(g,f){return e.Message.addToRepeatedField(this,17,g,f)},proto.mediapipe.CalculatorGraphConfig.prototype.clearOutputSidePacketList=function(){return this.setOutputSidePacketList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getMaxQueueSize=function(){return e.Message.getFieldWithDefault(this,11,0)},proto.mediapipe.CalculatorGraphConfig.prototype.setMaxQueueSize=function(g){return e.Message.setProto3IntField(this,11,g)},proto.mediapipe.CalculatorGraphConfig.prototype.getReportDeadlock=function(){return e.Message.getBooleanFieldWithDefault(this,21,!1)},proto.mediapipe.CalculatorGraphConfig.prototype.setReportDeadlock=function(g){return e.Message.setProto3BooleanField(this,21,g)},proto.mediapipe.CalculatorGraphConfig.prototype.getInputStreamHandler=function(){return e.Message.getWrapperField(this,_.InputStreamHandlerConfig,12)},proto.mediapipe.CalculatorGraphConfig.prototype.setInputStreamHandler=function(g){return e.Message.setWrapperField(this,12,g)},proto.mediapipe.CalculatorGraphConfig.prototype.clearInputStreamHandler=function(){return this.setInputStreamHandler(void 0)},proto.mediapipe.CalculatorGraphConfig.prototype.hasInputStreamHandler=function(){return e.Message.getField(this,12)!=null},proto.mediapipe.CalculatorGraphConfig.prototype.getOutputStreamHandler=function(){return e.Message.getWrapperField(this,_.OutputStreamHandlerConfig,13)},proto.mediapipe.CalculatorGraphConfig.prototype.setOutputStreamHandler=function(g){return e.Message.setWrapperField(this,13,g)},proto.mediapipe.CalculatorGraphConfig.prototype.clearOutputStreamHandler=function(){return this.setOutputStreamHandler(void 0)},proto.mediapipe.CalculatorGraphConfig.prototype.hasOutputStreamHandler=function(){return e.Message.getField(this,13)!=null},proto.mediapipe.CalculatorGraphConfig.prototype.getExecutorList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.ExecutorConfig,14)},proto.mediapipe.CalculatorGraphConfig.prototype.setExecutorList=function(g){return e.Message.setRepeatedWrapperField(this,14,g)},proto.mediapipe.CalculatorGraphConfig.prototype.addExecutor=function(g,f){return e.Message.addToRepeatedWrapperField(this,14,g,proto.mediapipe.ExecutorConfig,f)},proto.mediapipe.CalculatorGraphConfig.prototype.clearExecutorList=function(){return this.setExecutorList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getProfilerConfig=function(){return e.Message.getWrapperField(this,proto.mediapipe.ProfilerConfig,18)},proto.mediapipe.CalculatorGraphConfig.prototype.setProfilerConfig=function(g){return e.Message.setWrapperField(this,18,g)},proto.mediapipe.CalculatorGraphConfig.prototype.clearProfilerConfig=function(){return this.setProfilerConfig(void 0)},proto.mediapipe.CalculatorGraphConfig.prototype.hasProfilerConfig=function(){return e.Message.getField(this,18)!=null},proto.mediapipe.CalculatorGraphConfig.prototype.getPackage=function(){return e.Message.getFieldWithDefault(this,19,"")},proto.mediapipe.CalculatorGraphConfig.prototype.setPackage=function(g){return e.Message.setProto3StringField(this,19,g)},proto.mediapipe.CalculatorGraphConfig.prototype.getType=function(){return e.Message.getFieldWithDefault(this,20,"")},proto.mediapipe.CalculatorGraphConfig.prototype.setType=function(g){return e.Message.setProto3StringField(this,20,g)},proto.mediapipe.CalculatorGraphConfig.prototype.getOptions=function(){return e.Message.getWrapperField(this,c.MediaPipeOptions,1001)},proto.mediapipe.CalculatorGraphConfig.prototype.setOptions=function(g){return e.Message.setWrapperField(this,1001,g)},proto.mediapipe.CalculatorGraphConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.CalculatorGraphConfig.prototype.hasOptions=function(){return e.Message.getField(this,1001)!=null},proto.mediapipe.CalculatorGraphConfig.prototype.getGraphOptionsList=function(){return e.Message.getRepeatedWrapperField(this,s.Any,1002)},proto.mediapipe.CalculatorGraphConfig.prototype.setGraphOptionsList=function(g){return e.Message.setRepeatedWrapperField(this,1002,g)},proto.mediapipe.CalculatorGraphConfig.prototype.addGraphOptions=function(g,f){return e.Message.addToRepeatedWrapperField(this,1002,g,proto.google.protobuf.Any,f)},proto.mediapipe.CalculatorGraphConfig.prototype.clearGraphOptionsList=function(){return this.setGraphOptionsList([])},r.object.extend(t,proto.mediapipe)}(calculator_pb);var detection_pb={},location_data_pb={},rasterization_pb={};(function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.Rasterization",null,n),r.exportSymbol("proto.mediapipe.Rasterization.Interval",null,n),proto.mediapipe.Rasterization=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.Rasterization.repeatedFields_,null)},r.inherits(proto.mediapipe.Rasterization,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.Rasterization.displayName="proto.mediapipe.Rasterization"),proto.mediapipe.Rasterization.Interval=function(o){e.Message.initialize(this,o,0,-1,null,null)},r.inherits(proto.mediapipe.Rasterization.Interval,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.Rasterization.Interval.displayName="proto.mediapipe.Rasterization.Interval"),proto.mediapipe.Rasterization.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Rasterization.prototype.toObject=function(o){return proto.mediapipe.Rasterization.toObject(o,this)},proto.mediapipe.Rasterization.toObject=function(o,s){var c={intervalList:e.Message.toObjectList(s.getIntervalList(),proto.mediapipe.Rasterization.Interval.toObject,o)};return o&&(c.$jspbMessageInstance=s),c}),proto.mediapipe.Rasterization.deserializeBinary=function(o){var s=new e.BinaryReader(o),c=new proto.mediapipe.Rasterization;return proto.mediapipe.Rasterization.deserializeBinaryFromReader(c,s)},proto.mediapipe.Rasterization.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)if(s.getFieldNumber()===1){var c=new proto.mediapipe.Rasterization.Interval;s.readMessage(c,proto.mediapipe.Rasterization.Interval.deserializeBinaryFromReader),o.addInterval(c)}else s.skipField();return o},proto.mediapipe.Rasterization.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.Rasterization.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.Rasterization.serializeBinaryToWriter=function(o,s){var c;(c=o.getIntervalList()).length>0&&s.writeRepeatedMessage(1,c,proto.mediapipe.Rasterization.Interval.serializeBinaryToWriter)},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Rasterization.Interval.prototype.toObject=function(o){return proto.mediapipe.Rasterization.Interval.toObject(o,this)},proto.mediapipe.Rasterization.Interval.toObject=function(o,s){var c,d={y:(c=e.Message.getField(s,1))==null?void 0:c,leftX:(c=e.Message.getField(s,2))==null?void 0:c,rightX:(c=e.Message.getField(s,3))==null?void 0:c};return o&&(d.$jspbMessageInstance=s),d}),proto.mediapipe.Rasterization.Interval.deserializeBinary=function(o){var s=new e.BinaryReader(o),c=new proto.mediapipe.Rasterization.Interval;return proto.mediapipe.Rasterization.Interval.deserializeBinaryFromReader(c,s)},proto.mediapipe.Rasterization.Interval.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var c=s.readInt32();o.setY(c);break;case 2:c=s.readInt32(),o.setLeftX(c);break;case 3:c=s.readInt32(),o.setRightX(c);break;default:s.skipField()}return o},proto.mediapipe.Rasterization.Interval.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.Rasterization.Interval.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.Rasterization.Interval.serializeBinaryToWriter=function(o,s){var c=void 0;(c=e.Message.getField(o,1))!=null&&s.writeInt32(1,c),(c=e.Message.getField(o,2))!=null&&s.writeInt32(2,c),(c=e.Message.getField(o,3))!=null&&s.writeInt32(3,c)},proto.mediapipe.Rasterization.Interval.prototype.getY=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.Rasterization.Interval.prototype.setY=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.Rasterization.Interval.prototype.clearY=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.Rasterization.Interval.prototype.hasY=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.Rasterization.Interval.prototype.getLeftX=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.Rasterization.Interval.prototype.setLeftX=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.Rasterization.Interval.prototype.clearLeftX=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.Rasterization.Interval.prototype.hasLeftX=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.Rasterization.Interval.prototype.getRightX=function(){return e.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.Rasterization.Interval.prototype.setRightX=function(o){return e.Message.setField(this,3,o)},proto.mediapipe.Rasterization.Interval.prototype.clearRightX=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.Rasterization.Interval.prototype.hasRightX=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.Rasterization.prototype.getIntervalList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.Rasterization.Interval,1)},proto.mediapipe.Rasterization.prototype.setIntervalList=function(o){return e.Message.setRepeatedWrapperField(this,1,o)},proto.mediapipe.Rasterization.prototype.addInterval=function(o,s){return e.Message.addToRepeatedWrapperField(this,1,o,proto.mediapipe.Rasterization.Interval,s)},proto.mediapipe.Rasterization.prototype.clearIntervalList=function(){return this.setIntervalList([])},r.object.extend(t,proto.mediapipe)})(rasterization_pb),function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=rasterization_pb;r.object.extend(proto,o),r.exportSymbol("proto.mediapipe.LocationData",null,n),r.exportSymbol("proto.mediapipe.LocationData.BinaryMask",null,n),r.exportSymbol("proto.mediapipe.LocationData.BoundingBox",null,n),r.exportSymbol("proto.mediapipe.LocationData.Format",null,n),r.exportSymbol("proto.mediapipe.LocationData.RelativeBoundingBox",null,n),r.exportSymbol("proto.mediapipe.LocationData.RelativeKeypoint",null,n),proto.mediapipe.LocationData=function(s){e.Message.initialize(this,s,0,-1,proto.mediapipe.LocationData.repeatedFields_,null)},r.inherits(proto.mediapipe.LocationData,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.LocationData.displayName="proto.mediapipe.LocationData"),proto.mediapipe.LocationData.BoundingBox=function(s){e.Message.initialize(this,s,0,-1,null,null)},r.inherits(proto.mediapipe.LocationData.BoundingBox,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.LocationData.BoundingBox.displayName="proto.mediapipe.LocationData.BoundingBox"),proto.mediapipe.LocationData.RelativeBoundingBox=function(s){e.Message.initialize(this,s,0,-1,null,null)},r.inherits(proto.mediapipe.LocationData.RelativeBoundingBox,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.LocationData.RelativeBoundingBox.displayName="proto.mediapipe.LocationData.RelativeBoundingBox"),proto.mediapipe.LocationData.BinaryMask=function(s){e.Message.initialize(this,s,0,-1,null,null)},r.inherits(proto.mediapipe.LocationData.BinaryMask,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.LocationData.BinaryMask.displayName="proto.mediapipe.LocationData.BinaryMask"),proto.mediapipe.LocationData.RelativeKeypoint=function(s){e.Message.initialize(this,s,0,-1,null,null)},r.inherits(proto.mediapipe.LocationData.RelativeKeypoint,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.LocationData.RelativeKeypoint.displayName="proto.mediapipe.LocationData.RelativeKeypoint"),proto.mediapipe.LocationData.repeatedFields_=[5],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LocationData.prototype.toObject=function(s){return proto.mediapipe.LocationData.toObject(s,this)},proto.mediapipe.LocationData.toObject=function(s,c){var d,u={format:(d=e.Message.getField(c,1))==null?void 0:d,boundingBox:(d=c.getBoundingBox())&&proto.mediapipe.LocationData.BoundingBox.toObject(s,d),relativeBoundingBox:(d=c.getRelativeBoundingBox())&&proto.mediapipe.LocationData.RelativeBoundingBox.toObject(s,d),mask:(d=c.getMask())&&proto.mediapipe.LocationData.BinaryMask.toObject(s,d),relativeKeypointsList:e.Message.toObjectList(c.getRelativeKeypointsList(),proto.mediapipe.LocationData.RelativeKeypoint.toObject,s)};return s&&(u.$jspbMessageInstance=c),u}),proto.mediapipe.LocationData.deserializeBinary=function(s){var c=new e.BinaryReader(s),d=new proto.mediapipe.LocationData;return proto.mediapipe.LocationData.deserializeBinaryFromReader(d,c)},proto.mediapipe.LocationData.deserializeBinaryFromReader=function(s,c){for(;c.nextField()&&!c.isEndGroup();)switch(c.getFieldNumber()){case 1:var d=c.readEnum();s.setFormat(d);break;case 2:d=new proto.mediapipe.LocationData.BoundingBox,c.readMessage(d,proto.mediapipe.LocationData.BoundingBox.deserializeBinaryFromReader),s.setBoundingBox(d);break;case 3:d=new proto.mediapipe.LocationData.RelativeBoundingBox,c.readMessage(d,proto.mediapipe.LocationData.RelativeBoundingBox.deserializeBinaryFromReader),s.setRelativeBoundingBox(d);break;case 4:d=new proto.mediapipe.LocationData.BinaryMask,c.readMessage(d,proto.mediapipe.LocationData.BinaryMask.deserializeBinaryFromReader),s.setMask(d);break;case 5:d=new proto.mediapipe.LocationData.RelativeKeypoint,c.readMessage(d,proto.mediapipe.LocationData.RelativeKeypoint.deserializeBinaryFromReader),s.addRelativeKeypoints(d);break;default:c.skipField()}return s},proto.mediapipe.LocationData.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.LocationData.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.LocationData.serializeBinaryToWriter=function(s,c){var d=void 0;(d=e.Message.getField(s,1))!=null&&c.writeEnum(1,d),(d=s.getBoundingBox())!=null&&c.writeMessage(2,d,proto.mediapipe.LocationData.BoundingBox.serializeBinaryToWriter),(d=s.getRelativeBoundingBox())!=null&&c.writeMessage(3,d,proto.mediapipe.LocationData.RelativeBoundingBox.serializeBinaryToWriter),(d=s.getMask())!=null&&c.writeMessage(4,d,proto.mediapipe.LocationData.BinaryMask.serializeBinaryToWriter),(d=s.getRelativeKeypointsList()).length>0&&c.writeRepeatedMessage(5,d,proto.mediapipe.LocationData.RelativeKeypoint.serializeBinaryToWriter)},proto.mediapipe.LocationData.Format={GLOBAL:0,BOUNDING_BOX:1,RELATIVE_BOUNDING_BOX:2,MASK:3},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LocationData.BoundingBox.prototype.toObject=function(s){return proto.mediapipe.LocationData.BoundingBox.toObject(s,this)},proto.mediapipe.LocationData.BoundingBox.toObject=function(s,c){var d,u={xmin:(d=e.Message.getField(c,1))==null?void 0:d,ymin:(d=e.Message.getField(c,2))==null?void 0:d,width:(d=e.Message.getField(c,3))==null?void 0:d,height:(d=e.Message.getField(c,4))==null?void 0:d};return s&&(u.$jspbMessageInstance=c),u}),proto.mediapipe.LocationData.BoundingBox.deserializeBinary=function(s){var c=new e.BinaryReader(s),d=new proto.mediapipe.LocationData.BoundingBox;return proto.mediapipe.LocationData.BoundingBox.deserializeBinaryFromReader(d,c)},proto.mediapipe.LocationData.BoundingBox.deserializeBinaryFromReader=function(s,c){for(;c.nextField()&&!c.isEndGroup();)switch(c.getFieldNumber()){case 1:var d=c.readInt32();s.setXmin(d);break;case 2:d=c.readInt32(),s.setYmin(d);break;case 3:d=c.readInt32(),s.setWidth(d);break;case 4:d=c.readInt32(),s.setHeight(d);break;default:c.skipField()}return s},proto.mediapipe.LocationData.BoundingBox.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.LocationData.BoundingBox.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.LocationData.BoundingBox.serializeBinaryToWriter=function(s,c){var d=void 0;(d=e.Message.getField(s,1))!=null&&c.writeInt32(1,d),(d=e.Message.getField(s,2))!=null&&c.writeInt32(2,d),(d=e.Message.getField(s,3))!=null&&c.writeInt32(3,d),(d=e.Message.getField(s,4))!=null&&c.writeInt32(4,d)},proto.mediapipe.LocationData.BoundingBox.prototype.getXmin=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.LocationData.BoundingBox.prototype.setXmin=function(s){return e.Message.setField(this,1,s)},proto.mediapipe.LocationData.BoundingBox.prototype.clearXmin=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.LocationData.BoundingBox.prototype.hasXmin=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.LocationData.BoundingBox.prototype.getYmin=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.LocationData.BoundingBox.prototype.setYmin=function(s){return e.Message.setField(this,2,s)},proto.mediapipe.LocationData.BoundingBox.prototype.clearYmin=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.LocationData.BoundingBox.prototype.hasYmin=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.LocationData.BoundingBox.prototype.getWidth=function(){return e.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.LocationData.BoundingBox.prototype.setWidth=function(s){return e.Message.setField(this,3,s)},proto.mediapipe.LocationData.BoundingBox.prototype.clearWidth=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.LocationData.BoundingBox.prototype.hasWidth=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.LocationData.BoundingBox.prototype.getHeight=function(){return e.Message.getFieldWithDefault(this,4,0)},proto.mediapipe.LocationData.BoundingBox.prototype.setHeight=function(s){return e.Message.setField(this,4,s)},proto.mediapipe.LocationData.BoundingBox.prototype.clearHeight=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.LocationData.BoundingBox.prototype.hasHeight=function(){return e.Message.getField(this,4)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LocationData.RelativeBoundingBox.prototype.toObject=function(s){return proto.mediapipe.LocationData.RelativeBoundingBox.toObject(s,this)},proto.mediapipe.LocationData.RelativeBoundingBox.toObject=function(s,c){var d,u={xmin:(d=e.Message.getOptionalFloatingPointField(c,1))==null?void 0:d,ymin:(d=e.Message.getOptionalFloatingPointField(c,2))==null?void 0:d,width:(d=e.Message.getOptionalFloatingPointField(c,3))==null?void 0:d,height:(d=e.Message.getOptionalFloatingPointField(c,4))==null?void 0:d};return s&&(u.$jspbMessageInstance=c),u}),proto.mediapipe.LocationData.RelativeBoundingBox.deserializeBinary=function(s){var c=new e.BinaryReader(s),d=new proto.mediapipe.LocationData.RelativeBoundingBox;return proto.mediapipe.LocationData.RelativeBoundingBox.deserializeBinaryFromReader(d,c)},proto.mediapipe.LocationData.RelativeBoundingBox.deserializeBinaryFromReader=function(s,c){for(;c.nextField()&&!c.isEndGroup();)switch(c.getFieldNumber()){case 1:var d=c.readFloat();s.setXmin(d);break;case 2:d=c.readFloat(),s.setYmin(d);break;case 3:d=c.readFloat(),s.setWidth(d);break;case 4:d=c.readFloat(),s.setHeight(d);break;default:c.skipField()}return s},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.LocationData.RelativeBoundingBox.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.LocationData.RelativeBoundingBox.serializeBinaryToWriter=function(s,c){var d=void 0;(d=e.Message.getField(s,1))!=null&&c.writeFloat(1,d),(d=e.Message.getField(s,2))!=null&&c.writeFloat(2,d),(d=e.Message.getField(s,3))!=null&&c.writeFloat(3,d),(d=e.Message.getField(s,4))!=null&&c.writeFloat(4,d)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.getXmin=function(){return e.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.setXmin=function(s){return e.Message.setField(this,1,s)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.clearXmin=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.hasXmin=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.getYmin=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.setYmin=function(s){return e.Message.setField(this,2,s)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.clearYmin=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.hasYmin=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.getWidth=function(){return e.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.setWidth=function(s){return e.Message.setField(this,3,s)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.clearWidth=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.hasWidth=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.getHeight=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.setHeight=function(s){return e.Message.setField(this,4,s)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.clearHeight=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.hasHeight=function(){return e.Message.getField(this,4)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LocationData.BinaryMask.prototype.toObject=function(s){return proto.mediapipe.LocationData.BinaryMask.toObject(s,this)},proto.mediapipe.LocationData.BinaryMask.toObject=function(s,c){var d,u={width:(d=e.Message.getField(c,1))==null?void 0:d,height:(d=e.Message.getField(c,2))==null?void 0:d,rasterization:(d=c.getRasterization())&&o.Rasterization.toObject(s,d)};return s&&(u.$jspbMessageInstance=c),u}),proto.mediapipe.LocationData.BinaryMask.deserializeBinary=function(s){var c=new e.BinaryReader(s),d=new proto.mediapipe.LocationData.BinaryMask;return proto.mediapipe.LocationData.BinaryMask.deserializeBinaryFromReader(d,c)},proto.mediapipe.LocationData.BinaryMask.deserializeBinaryFromReader=function(s,c){for(;c.nextField()&&!c.isEndGroup();)switch(c.getFieldNumber()){case 1:var d=c.readInt32();s.setWidth(d);break;case 2:d=c.readInt32(),s.setHeight(d);break;case 3:d=new o.Rasterization,c.readMessage(d,o.Rasterization.deserializeBinaryFromReader),s.setRasterization(d);break;default:c.skipField()}return s},proto.mediapipe.LocationData.BinaryMask.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.LocationData.BinaryMask.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.LocationData.BinaryMask.serializeBinaryToWriter=function(s,c){var d=void 0;(d=e.Message.getField(s,1))!=null&&c.writeInt32(1,d),(d=e.Message.getField(s,2))!=null&&c.writeInt32(2,d),(d=s.getRasterization())!=null&&c.writeMessage(3,d,o.Rasterization.serializeBinaryToWriter)},proto.mediapipe.LocationData.BinaryMask.prototype.getWidth=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.LocationData.BinaryMask.prototype.setWidth=function(s){return e.Message.setField(this,1,s)},proto.mediapipe.LocationData.BinaryMask.prototype.clearWidth=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.LocationData.BinaryMask.prototype.hasWidth=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.LocationData.BinaryMask.prototype.getHeight=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.LocationData.BinaryMask.prototype.setHeight=function(s){return e.Message.setField(this,2,s)},proto.mediapipe.LocationData.BinaryMask.prototype.clearHeight=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.LocationData.BinaryMask.prototype.hasHeight=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.LocationData.BinaryMask.prototype.getRasterization=function(){return e.Message.getWrapperField(this,o.Rasterization,3)},proto.mediapipe.LocationData.BinaryMask.prototype.setRasterization=function(s){return e.Message.setWrapperField(this,3,s)},proto.mediapipe.LocationData.BinaryMask.prototype.clearRasterization=function(){return this.setRasterization(void 0)},proto.mediapipe.LocationData.BinaryMask.prototype.hasRasterization=function(){return e.Message.getField(this,3)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LocationData.RelativeKeypoint.prototype.toObject=function(s){return proto.mediapipe.LocationData.RelativeKeypoint.toObject(s,this)},proto.mediapipe.LocationData.RelativeKeypoint.toObject=function(s,c){var d,u={x:(d=e.Message.getOptionalFloatingPointField(c,1))==null?void 0:d,y:(d=e.Message.getOptionalFloatingPointField(c,2))==null?void 0:d,keypointLabel:(d=e.Message.getField(c,3))==null?void 0:d,score:(d=e.Message.getOptionalFloatingPointField(c,4))==null?void 0:d};return s&&(u.$jspbMessageInstance=c),u}),proto.mediapipe.LocationData.RelativeKeypoint.deserializeBinary=function(s){var c=new e.BinaryReader(s),d=new proto.mediapipe.LocationData.RelativeKeypoint;return proto.mediapipe.LocationData.RelativeKeypoint.deserializeBinaryFromReader(d,c)},proto.mediapipe.LocationData.RelativeKeypoint.deserializeBinaryFromReader=function(s,c){for(;c.nextField()&&!c.isEndGroup();)switch(c.getFieldNumber()){case 1:var d=c.readFloat();s.setX(d);break;case 2:d=c.readFloat(),s.setY(d);break;case 3:d=c.readString(),s.setKeypointLabel(d);break;case 4:d=c.readFloat(),s.setScore(d);break;default:c.skipField()}return s},proto.mediapipe.LocationData.RelativeKeypoint.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.LocationData.RelativeKeypoint.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.LocationData.RelativeKeypoint.serializeBinaryToWriter=function(s,c){var d=void 0;(d=e.Message.getField(s,1))!=null&&c.writeFloat(1,d),(d=e.Message.getField(s,2))!=null&&c.writeFloat(2,d),(d=e.Message.getField(s,3))!=null&&c.writeString(3,d),(d=e.Message.getField(s,4))!=null&&c.writeFloat(4,d)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.getX=function(){return e.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.setX=function(s){return e.Message.setField(this,1,s)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.clearX=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.hasX=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.LocationData.RelativeKeypoint.prototype.getY=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.setY=function(s){return e.Message.setField(this,2,s)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.clearY=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.hasY=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.LocationData.RelativeKeypoint.prototype.getKeypointLabel=function(){return e.Message.getFieldWithDefault(this,3,"")},proto.mediapipe.LocationData.RelativeKeypoint.prototype.setKeypointLabel=function(s){return e.Message.setField(this,3,s)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.clearKeypointLabel=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.hasKeypointLabel=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.LocationData.RelativeKeypoint.prototype.getScore=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.setScore=function(s){return e.Message.setField(this,4,s)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.clearScore=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.hasScore=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.LocationData.prototype.getFormat=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.LocationData.prototype.setFormat=function(s){return e.Message.setField(this,1,s)},proto.mediapipe.LocationData.prototype.clearFormat=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.LocationData.prototype.hasFormat=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.LocationData.prototype.getBoundingBox=function(){return e.Message.getWrapperField(this,proto.mediapipe.LocationData.BoundingBox,2)},proto.mediapipe.LocationData.prototype.setBoundingBox=function(s){return e.Message.setWrapperField(this,2,s)},proto.mediapipe.LocationData.prototype.clearBoundingBox=function(){return this.setBoundingBox(void 0)},proto.mediapipe.LocationData.prototype.hasBoundingBox=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.LocationData.prototype.getRelativeBoundingBox=function(){return e.Message.getWrapperField(this,proto.mediapipe.LocationData.RelativeBoundingBox,3)},proto.mediapipe.LocationData.prototype.setRelativeBoundingBox=function(s){return e.Message.setWrapperField(this,3,s)},proto.mediapipe.LocationData.prototype.clearRelativeBoundingBox=function(){return this.setRelativeBoundingBox(void 0)},proto.mediapipe.LocationData.prototype.hasRelativeBoundingBox=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.LocationData.prototype.getMask=function(){return e.Message.getWrapperField(this,proto.mediapipe.LocationData.BinaryMask,4)},proto.mediapipe.LocationData.prototype.setMask=function(s){return e.Message.setWrapperField(this,4,s)},proto.mediapipe.LocationData.prototype.clearMask=function(){return this.setMask(void 0)},proto.mediapipe.LocationData.prototype.hasMask=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.LocationData.prototype.getRelativeKeypointsList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.LocationData.RelativeKeypoint,5)},proto.mediapipe.LocationData.prototype.setRelativeKeypointsList=function(s){return e.Message.setRepeatedWrapperField(this,5,s)},proto.mediapipe.LocationData.prototype.addRelativeKeypoints=function(s,c){return e.Message.addToRepeatedWrapperField(this,5,s,proto.mediapipe.LocationData.RelativeKeypoint,c)},proto.mediapipe.LocationData.prototype.clearRelativeKeypointsList=function(){return this.setRelativeKeypointsList([])},r.object.extend(t,proto.mediapipe)}(location_data_pb),function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=location_data_pb;r.object.extend(proto,o),r.exportSymbol("proto.mediapipe.Detection",null,n),r.exportSymbol("proto.mediapipe.Detection.AssociatedDetection",null,n),r.exportSymbol("proto.mediapipe.DetectionList",null,n),proto.mediapipe.Detection=function(s){e.Message.initialize(this,s,0,-1,proto.mediapipe.Detection.repeatedFields_,null)},r.inherits(proto.mediapipe.Detection,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.Detection.displayName="proto.mediapipe.Detection"),proto.mediapipe.Detection.AssociatedDetection=function(s){e.Message.initialize(this,s,0,-1,null,null)},r.inherits(proto.mediapipe.Detection.AssociatedDetection,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.Detection.AssociatedDetection.displayName="proto.mediapipe.Detection.AssociatedDetection"),proto.mediapipe.DetectionList=function(s){e.Message.initialize(this,s,0,-1,proto.mediapipe.DetectionList.repeatedFields_,null)},r.inherits(proto.mediapipe.DetectionList,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.DetectionList.displayName="proto.mediapipe.DetectionList"),proto.mediapipe.Detection.repeatedFields_=[1,2,3,8,9],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Detection.prototype.toObject=function(s){return proto.mediapipe.Detection.toObject(s,this)},proto.mediapipe.Detection.toObject=function(s,c){var d,u={labelList:(d=e.Message.getRepeatedField(c,1))==null?void 0:d,labelIdList:(d=e.Message.getRepeatedField(c,2))==null?void 0:d,scoreList:(d=e.Message.getRepeatedFloatingPointField(c,3))==null?void 0:d,locationData:(d=c.getLocationData())&&o.LocationData.toObject(s,d),featureTag:(d=e.Message.getField(c,5))==null?void 0:d,trackId:(d=e.Message.getField(c,6))==null?void 0:d,detectionId:(d=e.Message.getField(c,7))==null?void 0:d,associatedDetectionsList:e.Message.toObjectList(c.getAssociatedDetectionsList(),proto.mediapipe.Detection.AssociatedDetection.toObject,s),displayNameList:(d=e.Message.getRepeatedField(c,9))==null?void 0:d,timestampUsec:(d=e.Message.getField(c,10))==null?void 0:d};return s&&(u.$jspbMessageInstance=c),u}),proto.mediapipe.Detection.deserializeBinary=function(s){var c=new e.BinaryReader(s),d=new proto.mediapipe.Detection;return proto.mediapipe.Detection.deserializeBinaryFromReader(d,c)},proto.mediapipe.Detection.deserializeBinaryFromReader=function(s,c){for(;c.nextField()&&!c.isEndGroup();)switch(c.getFieldNumber()){case 1:var d=c.readString();s.addLabel(d);break;case 2:for(var u=c.isDelimited()?c.readPackedInt32():[c.readInt32()],m=0;m<u.length;m++)s.addLabelId(u[m]);break;case 3:for(u=c.isDelimited()?c.readPackedFloat():[c.readFloat()],m=0;m<u.length;m++)s.addScore(u[m]);break;case 4:d=new o.LocationData,c.readMessage(d,o.LocationData.deserializeBinaryFromReader),s.setLocationData(d);break;case 5:d=c.readString(),s.setFeatureTag(d);break;case 6:d=c.readString(),s.setTrackId(d);break;case 7:d=c.readInt64(),s.setDetectionId(d);break;case 8:d=new proto.mediapipe.Detection.AssociatedDetection,c.readMessage(d,proto.mediapipe.Detection.AssociatedDetection.deserializeBinaryFromReader),s.addAssociatedDetections(d);break;case 9:d=c.readString(),s.addDisplayName(d);break;case 10:d=c.readInt64(),s.setTimestampUsec(d);break;default:c.skipField()}return s},proto.mediapipe.Detection.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.Detection.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.Detection.serializeBinaryToWriter=function(s,c){var d=void 0;(d=s.getLabelList()).length>0&&c.writeRepeatedString(1,d),(d=s.getLabelIdList()).length>0&&c.writePackedInt32(2,d),(d=s.getScoreList()).length>0&&c.writePackedFloat(3,d),(d=s.getLocationData())!=null&&c.writeMessage(4,d,o.LocationData.serializeBinaryToWriter),(d=e.Message.getField(s,5))!=null&&c.writeString(5,d),(d=e.Message.getField(s,6))!=null&&c.writeString(6,d),(d=e.Message.getField(s,7))!=null&&c.writeInt64(7,d),(d=s.getAssociatedDetectionsList()).length>0&&c.writeRepeatedMessage(8,d,proto.mediapipe.Detection.AssociatedDetection.serializeBinaryToWriter),(d=s.getDisplayNameList()).length>0&&c.writeRepeatedString(9,d),(d=e.Message.getField(s,10))!=null&&c.writeInt64(10,d)},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Detection.AssociatedDetection.prototype.toObject=function(s){return proto.mediapipe.Detection.AssociatedDetection.toObject(s,this)},proto.mediapipe.Detection.AssociatedDetection.toObject=function(s,c){var d,u={id:(d=e.Message.getField(c,1))==null?void 0:d,confidence:(d=e.Message.getOptionalFloatingPointField(c,2))==null?void 0:d};return s&&(u.$jspbMessageInstance=c),u}),proto.mediapipe.Detection.AssociatedDetection.deserializeBinary=function(s){var c=new e.BinaryReader(s),d=new proto.mediapipe.Detection.AssociatedDetection;return proto.mediapipe.Detection.AssociatedDetection.deserializeBinaryFromReader(d,c)},proto.mediapipe.Detection.AssociatedDetection.deserializeBinaryFromReader=function(s,c){for(;c.nextField()&&!c.isEndGroup();)switch(c.getFieldNumber()){case 1:var d=c.readInt32();s.setId(d);break;case 2:d=c.readFloat(),s.setConfidence(d);break;default:c.skipField()}return s},proto.mediapipe.Detection.AssociatedDetection.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.Detection.AssociatedDetection.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.Detection.AssociatedDetection.serializeBinaryToWriter=function(s,c){var d=void 0;(d=e.Message.getField(s,1))!=null&&c.writeInt32(1,d),(d=e.Message.getField(s,2))!=null&&c.writeFloat(2,d)},proto.mediapipe.Detection.AssociatedDetection.prototype.getId=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.Detection.AssociatedDetection.prototype.setId=function(s){return e.Message.setField(this,1,s)},proto.mediapipe.Detection.AssociatedDetection.prototype.clearId=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.Detection.AssociatedDetection.prototype.hasId=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.Detection.AssociatedDetection.prototype.getConfidence=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.Detection.AssociatedDetection.prototype.setConfidence=function(s){return e.Message.setField(this,2,s)},proto.mediapipe.Detection.AssociatedDetection.prototype.clearConfidence=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.Detection.AssociatedDetection.prototype.hasConfidence=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.Detection.prototype.getLabelList=function(){return e.Message.getRepeatedField(this,1)},proto.mediapipe.Detection.prototype.setLabelList=function(s){return e.Message.setField(this,1,s||[])},proto.mediapipe.Detection.prototype.addLabel=function(s,c){return e.Message.addToRepeatedField(this,1,s,c)},proto.mediapipe.Detection.prototype.clearLabelList=function(){return this.setLabelList([])},proto.mediapipe.Detection.prototype.getLabelIdList=function(){return e.Message.getRepeatedField(this,2)},proto.mediapipe.Detection.prototype.setLabelIdList=function(s){return e.Message.setField(this,2,s||[])},proto.mediapipe.Detection.prototype.addLabelId=function(s,c){return e.Message.addToRepeatedField(this,2,s,c)},proto.mediapipe.Detection.prototype.clearLabelIdList=function(){return this.setLabelIdList([])},proto.mediapipe.Detection.prototype.getScoreList=function(){return e.Message.getRepeatedFloatingPointField(this,3)},proto.mediapipe.Detection.prototype.setScoreList=function(s){return e.Message.setField(this,3,s||[])},proto.mediapipe.Detection.prototype.addScore=function(s,c){return e.Message.addToRepeatedField(this,3,s,c)},proto.mediapipe.Detection.prototype.clearScoreList=function(){return this.setScoreList([])},proto.mediapipe.Detection.prototype.getLocationData=function(){return e.Message.getWrapperField(this,o.LocationData,4)},proto.mediapipe.Detection.prototype.setLocationData=function(s){return e.Message.setWrapperField(this,4,s)},proto.mediapipe.Detection.prototype.clearLocationData=function(){return this.setLocationData(void 0)},proto.mediapipe.Detection.prototype.hasLocationData=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.Detection.prototype.getFeatureTag=function(){return e.Message.getFieldWithDefault(this,5,"")},proto.mediapipe.Detection.prototype.setFeatureTag=function(s){return e.Message.setField(this,5,s)},proto.mediapipe.Detection.prototype.clearFeatureTag=function(){return e.Message.setField(this,5,void 0)},proto.mediapipe.Detection.prototype.hasFeatureTag=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.Detection.prototype.getTrackId=function(){return e.Message.getFieldWithDefault(this,6,"")},proto.mediapipe.Detection.prototype.setTrackId=function(s){return e.Message.setField(this,6,s)},proto.mediapipe.Detection.prototype.clearTrackId=function(){return e.Message.setField(this,6,void 0)},proto.mediapipe.Detection.prototype.hasTrackId=function(){return e.Message.getField(this,6)!=null},proto.mediapipe.Detection.prototype.getDetectionId=function(){return e.Message.getFieldWithDefault(this,7,0)},proto.mediapipe.Detection.prototype.setDetectionId=function(s){return e.Message.setField(this,7,s)},proto.mediapipe.Detection.prototype.clearDetectionId=function(){return e.Message.setField(this,7,void 0)},proto.mediapipe.Detection.prototype.hasDetectionId=function(){return e.Message.getField(this,7)!=null},proto.mediapipe.Detection.prototype.getAssociatedDetectionsList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.Detection.AssociatedDetection,8)},proto.mediapipe.Detection.prototype.setAssociatedDetectionsList=function(s){return e.Message.setRepeatedWrapperField(this,8,s)},proto.mediapipe.Detection.prototype.addAssociatedDetections=function(s,c){return e.Message.addToRepeatedWrapperField(this,8,s,proto.mediapipe.Detection.AssociatedDetection,c)},proto.mediapipe.Detection.prototype.clearAssociatedDetectionsList=function(){return this.setAssociatedDetectionsList([])},proto.mediapipe.Detection.prototype.getDisplayNameList=function(){return e.Message.getRepeatedField(this,9)},proto.mediapipe.Detection.prototype.setDisplayNameList=function(s){return e.Message.setField(this,9,s||[])},proto.mediapipe.Detection.prototype.addDisplayName=function(s,c){return e.Message.addToRepeatedField(this,9,s,c)},proto.mediapipe.Detection.prototype.clearDisplayNameList=function(){return this.setDisplayNameList([])},proto.mediapipe.Detection.prototype.getTimestampUsec=function(){return e.Message.getFieldWithDefault(this,10,0)},proto.mediapipe.Detection.prototype.setTimestampUsec=function(s){return e.Message.setField(this,10,s)},proto.mediapipe.Detection.prototype.clearTimestampUsec=function(){return e.Message.setField(this,10,void 0)},proto.mediapipe.Detection.prototype.hasTimestampUsec=function(){return e.Message.getField(this,10)!=null},proto.mediapipe.DetectionList.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.DetectionList.prototype.toObject=function(s){return proto.mediapipe.DetectionList.toObject(s,this)},proto.mediapipe.DetectionList.toObject=function(s,c){var d={detectionList:e.Message.toObjectList(c.getDetectionList(),proto.mediapipe.Detection.toObject,s)};return s&&(d.$jspbMessageInstance=c),d}),proto.mediapipe.DetectionList.deserializeBinary=function(s){var c=new e.BinaryReader(s),d=new proto.mediapipe.DetectionList;return proto.mediapipe.DetectionList.deserializeBinaryFromReader(d,c)},proto.mediapipe.DetectionList.deserializeBinaryFromReader=function(s,c){for(;c.nextField()&&!c.isEndGroup();)if(c.getFieldNumber()===1){var d=new proto.mediapipe.Detection;c.readMessage(d,proto.mediapipe.Detection.deserializeBinaryFromReader),s.addDetection(d)}else c.skipField();return s},proto.mediapipe.DetectionList.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.DetectionList.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.DetectionList.serializeBinaryToWriter=function(s,c){var d;(d=s.getDetectionList()).length>0&&c.writeRepeatedMessage(1,d,proto.mediapipe.Detection.serializeBinaryToWriter)},proto.mediapipe.DetectionList.prototype.getDetectionList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.Detection,1)},proto.mediapipe.DetectionList.prototype.setDetectionList=function(s){return e.Message.setRepeatedWrapperField(this,1,s)},proto.mediapipe.DetectionList.prototype.addDetection=function(s,c){return e.Message.addToRepeatedWrapperField(this,1,s,proto.mediapipe.Detection,c)},proto.mediapipe.DetectionList.prototype.clearDetectionList=function(){return this.setDetectionList([])},r.object.extend(t,proto.mediapipe)}(detection_pb);var base_options_pb={},acceleration_pb={},inference_calculator_pb={};(function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;r.object.extend(proto,o);var s=calculator_options_pb;r.object.extend(proto,s),r.exportSymbol("proto.mediapipe.InferenceCalculatorOptions",null,n),r.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate",null,n),r.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.DelegateCase",null,n),r.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu",null,n),r.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.Api",null,n),r.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.InferenceUsage",null,n),r.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi",null,n),r.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite",null,n),r.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack",null,n),proto.mediapipe.InferenceCalculatorOptions=function(c){e.Message.initialize(this,c,0,-1,null,null)},r.inherits(proto.mediapipe.InferenceCalculatorOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.displayName="proto.mediapipe.InferenceCalculatorOptions"),proto.mediapipe.InferenceCalculatorOptions.Delegate=function(c){e.Message.initialize(this,c,0,-1,null,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_)},r.inherits(proto.mediapipe.InferenceCalculatorOptions.Delegate,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.displayName="proto.mediapipe.InferenceCalculatorOptions.Delegate"),proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite=function(c){e.Message.initialize(this,c,0,-1,null,null)},r.inherits(proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.displayName="proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite"),proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu=function(c){e.Message.initialize(this,c,0,-1,null,null)},r.inherits(proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.displayName="proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu"),proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi=function(c){e.Message.initialize(this,c,0,-1,null,null)},r.inherits(proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.displayName="proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi"),proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack=function(c){e.Message.initialize(this,c,0,-1,null,null)},r.inherits(proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.displayName="proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.prototype.toObject=function(c){return proto.mediapipe.InferenceCalculatorOptions.toObject(c,this)},proto.mediapipe.InferenceCalculatorOptions.toObject=function(c,d){var u,m={modelPath:(u=e.Message.getField(d,1))==null?void 0:u,useGpu:e.Message.getBooleanFieldWithDefault(d,2,!1),useNnapi:e.Message.getBooleanFieldWithDefault(d,3,!1),cpuNumThread:e.Message.getFieldWithDefault(d,4,-1),delegate:(u=d.getDelegate())&&proto.mediapipe.InferenceCalculatorOptions.Delegate.toObject(c,u)};return c&&(m.$jspbMessageInstance=d),m}),proto.mediapipe.InferenceCalculatorOptions.deserializeBinary=function(c){var d=new e.BinaryReader(c),u=new proto.mediapipe.InferenceCalculatorOptions;return proto.mediapipe.InferenceCalculatorOptions.deserializeBinaryFromReader(u,d)},proto.mediapipe.InferenceCalculatorOptions.deserializeBinaryFromReader=function(c,d){for(;d.nextField()&&!d.isEndGroup();)switch(d.getFieldNumber()){case 1:var u=d.readString();c.setModelPath(u);break;case 2:u=d.readBool(),c.setUseGpu(u);break;case 3:u=d.readBool(),c.setUseNnapi(u);break;case 4:u=d.readInt32(),c.setCpuNumThread(u);break;case 5:u=new proto.mediapipe.InferenceCalculatorOptions.Delegate,d.readMessage(u,proto.mediapipe.InferenceCalculatorOptions.Delegate.deserializeBinaryFromReader),c.setDelegate(u);break;default:d.skipField()}return c},proto.mediapipe.InferenceCalculatorOptions.prototype.serializeBinary=function(){var c=new e.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.serializeBinaryToWriter(this,c),c.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.serializeBinaryToWriter=function(c,d){var u=void 0;(u=e.Message.getField(c,1))!=null&&d.writeString(1,u),(u=e.Message.getField(c,2))!=null&&d.writeBool(2,u),(u=e.Message.getField(c,3))!=null&&d.writeBool(3,u),(u=e.Message.getField(c,4))!=null&&d.writeInt32(4,u),(u=c.getDelegate())!=null&&d.writeMessage(5,u,proto.mediapipe.InferenceCalculatorOptions.Delegate.serializeBinaryToWriter)},proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_=[[1,2,3,4]],proto.mediapipe.InferenceCalculatorOptions.Delegate.DelegateCase={DELEGATE_NOT_SET:0,TFLITE:1,GPU:2,NNAPI:3,XNNPACK:4},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.getDelegateCase=function(){return e.Message.computeOneofCase(this,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_[0])},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.toObject=function(c){return proto.mediapipe.InferenceCalculatorOptions.Delegate.toObject(c,this)},proto.mediapipe.InferenceCalculatorOptions.Delegate.toObject=function(c,d){var u,m={tflite:(u=d.getTflite())&&proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.toObject(c,u),gpu:(u=d.getGpu())&&proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.toObject(c,u),nnapi:(u=d.getNnapi())&&proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.toObject(c,u),xnnpack:(u=d.getXnnpack())&&proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.toObject(c,u)};return c&&(m.$jspbMessageInstance=d),m}),proto.mediapipe.InferenceCalculatorOptions.Delegate.deserializeBinary=function(c){var d=new e.BinaryReader(c),u=new proto.mediapipe.InferenceCalculatorOptions.Delegate;return proto.mediapipe.InferenceCalculatorOptions.Delegate.deserializeBinaryFromReader(u,d)},proto.mediapipe.InferenceCalculatorOptions.Delegate.deserializeBinaryFromReader=function(c,d){for(;d.nextField()&&!d.isEndGroup();)switch(d.getFieldNumber()){case 1:var u=new proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite;d.readMessage(u,proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.deserializeBinaryFromReader),c.setTflite(u);break;case 2:u=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu,d.readMessage(u,proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.deserializeBinaryFromReader),c.setGpu(u);break;case 3:u=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi,d.readMessage(u,proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.deserializeBinaryFromReader),c.setNnapi(u);break;case 4:u=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack,d.readMessage(u,proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.deserializeBinaryFromReader),c.setXnnpack(u);break;default:d.skipField()}return c},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.serializeBinary=function(){var c=new e.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.Delegate.serializeBinaryToWriter(this,c),c.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.Delegate.serializeBinaryToWriter=function(c,d){var u=void 0;(u=c.getTflite())!=null&&d.writeMessage(1,u,proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.serializeBinaryToWriter),(u=c.getGpu())!=null&&d.writeMessage(2,u,proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.serializeBinaryToWriter),(u=c.getNnapi())!=null&&d.writeMessage(3,u,proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.serializeBinaryToWriter),(u=c.getXnnpack())!=null&&d.writeMessage(4,u,proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.serializeBinaryToWriter)},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.prototype.toObject=function(c){return proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.toObject(c,this)},proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.toObject=function(c,d){var u={};return c&&(u.$jspbMessageInstance=d),u}),proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.deserializeBinary=function(c){var d=new e.BinaryReader(c),u=new proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite;return proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.deserializeBinaryFromReader(u,d)},proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.deserializeBinaryFromReader=function(c,d){for(;d.nextField()&&!d.isEndGroup();)d.getFieldNumber(),d.skipField();return c},proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.prototype.serializeBinary=function(){var c=new e.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.serializeBinaryToWriter(this,c),c.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.serializeBinaryToWriter=function(c,d){},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.toObject=function(c){return proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.toObject(c,this)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.toObject=function(c,d){var u,m={useAdvancedGpuApi:e.Message.getBooleanFieldWithDefault(d,1,!1),api:e.Message.getFieldWithDefault(d,4,0),allowPrecisionLoss:e.Message.getBooleanFieldWithDefault(d,3,!0),cachedKernelPath:(u=e.Message.getField(d,2))==null?void 0:u,serializedModelDir:(u=e.Message.getField(d,7))==null?void 0:u,modelToken:(u=e.Message.getField(d,8))==null?void 0:u,usage:e.Message.getFieldWithDefault(d,5,2)};return c&&(m.$jspbMessageInstance=d),m}),proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.deserializeBinary=function(c){var d=new e.BinaryReader(c),u=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.deserializeBinaryFromReader(u,d)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.deserializeBinaryFromReader=function(c,d){for(;d.nextField()&&!d.isEndGroup();)switch(d.getFieldNumber()){case 1:var u=d.readBool();c.setUseAdvancedGpuApi(u);break;case 4:u=d.readEnum(),c.setApi(u);break;case 3:u=d.readBool(),c.setAllowPrecisionLoss(u);break;case 2:u=d.readString(),c.setCachedKernelPath(u);break;case 7:u=d.readString(),c.setSerializedModelDir(u);break;case 8:u=d.readString(),c.setModelToken(u);break;case 5:u=d.readEnum(),c.setUsage(u);break;default:d.skipField()}return c},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.serializeBinary=function(){var c=new e.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.serializeBinaryToWriter(this,c),c.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.serializeBinaryToWriter=function(c,d){var u=void 0;(u=e.Message.getField(c,1))!=null&&d.writeBool(1,u),(u=e.Message.getField(c,4))!=null&&d.writeEnum(4,u),(u=e.Message.getField(c,3))!=null&&d.writeBool(3,u),(u=e.Message.getField(c,2))!=null&&d.writeString(2,u),(u=e.Message.getField(c,7))!=null&&d.writeString(7,u),(u=e.Message.getField(c,8))!=null&&d.writeString(8,u),(u=e.Message.getField(c,5))!=null&&d.writeEnum(5,u)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.Api={ANY:0,OPENGL:1,OPENCL:2},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.InferenceUsage={UNSPECIFIED:0,FAST_SINGLE_ANSWER:1,SUSTAINED_SPEED:2},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getUseAdvancedGpuApi=function(){return e.Message.getBooleanFieldWithDefault(this,1,!1)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setUseAdvancedGpuApi=function(c){return e.Message.setField(this,1,c)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearUseAdvancedGpuApi=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasUseAdvancedGpuApi=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getApi=function(){return e.Message.getFieldWithDefault(this,4,0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setApi=function(c){return e.Message.setField(this,4,c)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearApi=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasApi=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getAllowPrecisionLoss=function(){return e.Message.getBooleanFieldWithDefault(this,3,!0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setAllowPrecisionLoss=function(c){return e.Message.setField(this,3,c)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearAllowPrecisionLoss=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasAllowPrecisionLoss=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getCachedKernelPath=function(){return e.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setCachedKernelPath=function(c){return e.Message.setField(this,2,c)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearCachedKernelPath=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasCachedKernelPath=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getSerializedModelDir=function(){return e.Message.getFieldWithDefault(this,7,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setSerializedModelDir=function(c){return e.Message.setField(this,7,c)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearSerializedModelDir=function(){return e.Message.setField(this,7,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasSerializedModelDir=function(){return e.Message.getField(this,7)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getModelToken=function(){return e.Message.getFieldWithDefault(this,8,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setModelToken=function(c){return e.Message.setField(this,8,c)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearModelToken=function(){return e.Message.setField(this,8,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasModelToken=function(){return e.Message.getField(this,8)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getUsage=function(){return e.Message.getFieldWithDefault(this,5,2)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setUsage=function(c){return e.Message.setField(this,5,c)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearUsage=function(){return e.Message.setField(this,5,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasUsage=function(){return e.Message.getField(this,5)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.toObject=function(c){return proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.toObject(c,this)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.toObject=function(c,d){var u,m={cacheDir:(u=e.Message.getField(d,1))==null?void 0:u,modelToken:(u=e.Message.getField(d,2))==null?void 0:u,acceleratorName:(u=e.Message.getField(d,3))==null?void 0:u};return c&&(m.$jspbMessageInstance=d),m}),proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.deserializeBinary=function(c){var d=new e.BinaryReader(c),u=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.deserializeBinaryFromReader(u,d)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.deserializeBinaryFromReader=function(c,d){for(;d.nextField()&&!d.isEndGroup();)switch(d.getFieldNumber()){case 1:var u=d.readString();c.setCacheDir(u);break;case 2:u=d.readString(),c.setModelToken(u);break;case 3:u=d.readString(),c.setAcceleratorName(u);break;default:d.skipField()}return c},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.serializeBinary=function(){var c=new e.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.serializeBinaryToWriter(this,c),c.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.serializeBinaryToWriter=function(c,d){var u=void 0;(u=e.Message.getField(c,1))!=null&&d.writeString(1,u),(u=e.Message.getField(c,2))!=null&&d.writeString(2,u),(u=e.Message.getField(c,3))!=null&&d.writeString(3,u)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.getCacheDir=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.setCacheDir=function(c){return e.Message.setField(this,1,c)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.clearCacheDir=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.hasCacheDir=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.getModelToken=function(){return e.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.setModelToken=function(c){return e.Message.setField(this,2,c)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.clearModelToken=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.hasModelToken=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.getAcceleratorName=function(){return e.Message.getFieldWithDefault(this,3,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.setAcceleratorName=function(c){return e.Message.setField(this,3,c)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.clearAcceleratorName=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.hasAcceleratorName=function(){return e.Message.getField(this,3)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.toObject=function(c){return proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.toObject(c,this)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.toObject=function(c,d){var u={numThreads:e.Message.getFieldWithDefault(d,1,-1)};return c&&(u.$jspbMessageInstance=d),u}),proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.deserializeBinary=function(c){var d=new e.BinaryReader(c),u=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.deserializeBinaryFromReader(u,d)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.deserializeBinaryFromReader=function(c,d){for(;d.nextField()&&!d.isEndGroup();)if(d.getFieldNumber()===1){var u=d.readInt32();c.setNumThreads(u)}else d.skipField();return c},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.serializeBinary=function(){var c=new e.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.serializeBinaryToWriter(this,c),c.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.serializeBinaryToWriter=function(c,d){var u;(u=e.Message.getField(c,1))!=null&&d.writeInt32(1,u)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.getNumThreads=function(){return e.Message.getFieldWithDefault(this,1,-1)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.setNumThreads=function(c){return e.Message.setField(this,1,c)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.clearNumThreads=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.hasNumThreads=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.getTflite=function(){return e.Message.getWrapperField(this,proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite,1)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.setTflite=function(c){return e.Message.setOneofWrapperField(this,1,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_[0],c)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.clearTflite=function(){return this.setTflite(void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.hasTflite=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.getGpu=function(){return e.Message.getWrapperField(this,proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu,2)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.setGpu=function(c){return e.Message.setOneofWrapperField(this,2,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_[0],c)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.clearGpu=function(){return this.setGpu(void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.hasGpu=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.getNnapi=function(){return e.Message.getWrapperField(this,proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi,3)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.setNnapi=function(c){return e.Message.setOneofWrapperField(this,3,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_[0],c)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.clearNnapi=function(){return this.setNnapi(void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.hasNnapi=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.getXnnpack=function(){return e.Message.getWrapperField(this,proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack,4)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.setXnnpack=function(c){return e.Message.setOneofWrapperField(this,4,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_[0],c)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.clearXnnpack=function(){return this.setXnnpack(void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.hasXnnpack=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.InferenceCalculatorOptions.ext=new e.ExtensionFieldInfo(336783863,{ext:0},proto.mediapipe.InferenceCalculatorOptions,proto.mediapipe.InferenceCalculatorOptions.toObject,0),s.CalculatorOptions.extensionsBinary[336783863]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.InferenceCalculatorOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.InferenceCalculatorOptions.serializeBinaryToWriter,proto.mediapipe.InferenceCalculatorOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[336783863]=proto.mediapipe.InferenceCalculatorOptions.ext,proto.mediapipe.InferenceCalculatorOptions.prototype.getModelPath=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.InferenceCalculatorOptions.prototype.setModelPath=function(c){return e.Message.setField(this,1,c)},proto.mediapipe.InferenceCalculatorOptions.prototype.clearModelPath=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.InferenceCalculatorOptions.prototype.hasModelPath=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.InferenceCalculatorOptions.prototype.getUseGpu=function(){return e.Message.getBooleanFieldWithDefault(this,2,!1)},proto.mediapipe.InferenceCalculatorOptions.prototype.setUseGpu=function(c){return e.Message.setField(this,2,c)},proto.mediapipe.InferenceCalculatorOptions.prototype.clearUseGpu=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.InferenceCalculatorOptions.prototype.hasUseGpu=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.InferenceCalculatorOptions.prototype.getUseNnapi=function(){return e.Message.getBooleanFieldWithDefault(this,3,!1)},proto.mediapipe.InferenceCalculatorOptions.prototype.setUseNnapi=function(c){return e.Message.setField(this,3,c)},proto.mediapipe.InferenceCalculatorOptions.prototype.clearUseNnapi=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.InferenceCalculatorOptions.prototype.hasUseNnapi=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.InferenceCalculatorOptions.prototype.getCpuNumThread=function(){return e.Message.getFieldWithDefault(this,4,-1)},proto.mediapipe.InferenceCalculatorOptions.prototype.setCpuNumThread=function(c){return e.Message.setField(this,4,c)},proto.mediapipe.InferenceCalculatorOptions.prototype.clearCpuNumThread=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.InferenceCalculatorOptions.prototype.hasCpuNumThread=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.InferenceCalculatorOptions.prototype.getDelegate=function(){return e.Message.getWrapperField(this,proto.mediapipe.InferenceCalculatorOptions.Delegate,5)},proto.mediapipe.InferenceCalculatorOptions.prototype.setDelegate=function(c){return e.Message.setWrapperField(this,5,c)},proto.mediapipe.InferenceCalculatorOptions.prototype.clearDelegate=function(){return this.setDelegate(void 0)},proto.mediapipe.InferenceCalculatorOptions.prototype.hasDelegate=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.InferenceCalculatorOptions.ext=new e.ExtensionFieldInfo(336783863,{ext:0},proto.mediapipe.InferenceCalculatorOptions,proto.mediapipe.InferenceCalculatorOptions.toObject,0),s.CalculatorOptions.extensionsBinary[336783863]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.InferenceCalculatorOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.InferenceCalculatorOptions.serializeBinaryToWriter,proto.mediapipe.InferenceCalculatorOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[336783863]=proto.mediapipe.InferenceCalculatorOptions.ext,r.object.extend(t,proto.mediapipe)})(inference_calculator_pb),function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=inference_calculator_pb;r.object.extend(proto,o),r.exportSymbol("proto.mediapipe.tasks.core.proto.Acceleration",null,n),r.exportSymbol("proto.mediapipe.tasks.core.proto.Acceleration.DelegateCase",null,n),proto.mediapipe.tasks.core.proto.Acceleration=function(s){e.Message.initialize(this,s,0,-1,null,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_)},r.inherits(proto.mediapipe.tasks.core.proto.Acceleration,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.core.proto.Acceleration.displayName="proto.mediapipe.tasks.core.proto.Acceleration"),proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_=[[1,2,4,5]],proto.mediapipe.tasks.core.proto.Acceleration.DelegateCase={DELEGATE_NOT_SET:0,XNNPACK:1,GPU:2,TFLITE:4,NNAPI:5},proto.mediapipe.tasks.core.proto.Acceleration.prototype.getDelegateCase=function(){return e.Message.computeOneofCase(this,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_[0])},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.core.proto.Acceleration.prototype.toObject=function(s){return proto.mediapipe.tasks.core.proto.Acceleration.toObject(s,this)},proto.mediapipe.tasks.core.proto.Acceleration.toObject=function(s,c){var d,u={xnnpack:(d=c.getXnnpack())&&o.InferenceCalculatorOptions.Delegate.Xnnpack.toObject(s,d),gpu:(d=c.getGpu())&&o.InferenceCalculatorOptions.Delegate.Gpu.toObject(s,d),tflite:(d=c.getTflite())&&o.InferenceCalculatorOptions.Delegate.TfLite.toObject(s,d),nnapi:(d=c.getNnapi())&&o.InferenceCalculatorOptions.Delegate.Nnapi.toObject(s,d)};return s&&(u.$jspbMessageInstance=c),u}),proto.mediapipe.tasks.core.proto.Acceleration.deserializeBinary=function(s){var c=new e.BinaryReader(s),d=new proto.mediapipe.tasks.core.proto.Acceleration;return proto.mediapipe.tasks.core.proto.Acceleration.deserializeBinaryFromReader(d,c)},proto.mediapipe.tasks.core.proto.Acceleration.deserializeBinaryFromReader=function(s,c){for(;c.nextField()&&!c.isEndGroup();)switch(c.getFieldNumber()){case 1:var d=new o.InferenceCalculatorOptions.Delegate.Xnnpack;c.readMessage(d,o.InferenceCalculatorOptions.Delegate.Xnnpack.deserializeBinaryFromReader),s.setXnnpack(d);break;case 2:d=new o.InferenceCalculatorOptions.Delegate.Gpu,c.readMessage(d,o.InferenceCalculatorOptions.Delegate.Gpu.deserializeBinaryFromReader),s.setGpu(d);break;case 4:d=new o.InferenceCalculatorOptions.Delegate.TfLite,c.readMessage(d,o.InferenceCalculatorOptions.Delegate.TfLite.deserializeBinaryFromReader),s.setTflite(d);break;case 5:d=new o.InferenceCalculatorOptions.Delegate.Nnapi,c.readMessage(d,o.InferenceCalculatorOptions.Delegate.Nnapi.deserializeBinaryFromReader),s.setNnapi(d);break;default:c.skipField()}return s},proto.mediapipe.tasks.core.proto.Acceleration.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.tasks.core.proto.Acceleration.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.tasks.core.proto.Acceleration.serializeBinaryToWriter=function(s,c){var d=void 0;(d=s.getXnnpack())!=null&&c.writeMessage(1,d,o.InferenceCalculatorOptions.Delegate.Xnnpack.serializeBinaryToWriter),(d=s.getGpu())!=null&&c.writeMessage(2,d,o.InferenceCalculatorOptions.Delegate.Gpu.serializeBinaryToWriter),(d=s.getTflite())!=null&&c.writeMessage(4,d,o.InferenceCalculatorOptions.Delegate.TfLite.serializeBinaryToWriter),(d=s.getNnapi())!=null&&c.writeMessage(5,d,o.InferenceCalculatorOptions.Delegate.Nnapi.serializeBinaryToWriter)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.getXnnpack=function(){return e.Message.getWrapperField(this,o.InferenceCalculatorOptions.Delegate.Xnnpack,1)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.setXnnpack=function(s){return e.Message.setOneofWrapperField(this,1,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_[0],s)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.clearXnnpack=function(){return this.setXnnpack(void 0)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.hasXnnpack=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.core.proto.Acceleration.prototype.getGpu=function(){return e.Message.getWrapperField(this,o.InferenceCalculatorOptions.Delegate.Gpu,2)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.setGpu=function(s){return e.Message.setOneofWrapperField(this,2,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_[0],s)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.clearGpu=function(){return this.setGpu(void 0)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.hasGpu=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.core.proto.Acceleration.prototype.getTflite=function(){return e.Message.getWrapperField(this,o.InferenceCalculatorOptions.Delegate.TfLite,4)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.setTflite=function(s){return e.Message.setOneofWrapperField(this,4,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_[0],s)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.clearTflite=function(){return this.setTflite(void 0)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.hasTflite=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.tasks.core.proto.Acceleration.prototype.getNnapi=function(){return e.Message.getWrapperField(this,o.InferenceCalculatorOptions.Delegate.Nnapi,5)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.setNnapi=function(s){return e.Message.setOneofWrapperField(this,5,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_[0],s)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.clearNnapi=function(){return this.setNnapi(void 0)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.hasNnapi=function(){return e.Message.getField(this,5)!=null},r.object.extend(t,proto.mediapipe.tasks.core.proto)}(acceleration_pb);var external_file_pb={};(function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.tasks.core.proto.ExternalFile",null,n),r.exportSymbol("proto.mediapipe.tasks.core.proto.FileDescriptorMeta",null,n),r.exportSymbol("proto.mediapipe.tasks.core.proto.FilePointerMeta",null,n),proto.mediapipe.tasks.core.proto.ExternalFile=function(o){e.Message.initialize(this,o,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.core.proto.ExternalFile,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.core.proto.ExternalFile.displayName="proto.mediapipe.tasks.core.proto.ExternalFile"),proto.mediapipe.tasks.core.proto.FileDescriptorMeta=function(o){e.Message.initialize(this,o,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.core.proto.FileDescriptorMeta,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.core.proto.FileDescriptorMeta.displayName="proto.mediapipe.tasks.core.proto.FileDescriptorMeta"),proto.mediapipe.tasks.core.proto.FilePointerMeta=function(o){e.Message.initialize(this,o,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.core.proto.FilePointerMeta,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.core.proto.FilePointerMeta.displayName="proto.mediapipe.tasks.core.proto.FilePointerMeta"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.core.proto.ExternalFile.prototype.toObject=function(o){return proto.mediapipe.tasks.core.proto.ExternalFile.toObject(o,this)},proto.mediapipe.tasks.core.proto.ExternalFile.toObject=function(o,s){var c,d={fileContent:s.getFileContent_asB64(),fileName:(c=e.Message.getField(s,2))==null?void 0:c,fileDescriptorMeta:(c=s.getFileDescriptorMeta())&&proto.mediapipe.tasks.core.proto.FileDescriptorMeta.toObject(o,c),filePointerMeta:(c=s.getFilePointerMeta())&&proto.mediapipe.tasks.core.proto.FilePointerMeta.toObject(o,c)};return o&&(d.$jspbMessageInstance=s),d}),proto.mediapipe.tasks.core.proto.ExternalFile.deserializeBinary=function(o){var s=new e.BinaryReader(o),c=new proto.mediapipe.tasks.core.proto.ExternalFile;return proto.mediapipe.tasks.core.proto.ExternalFile.deserializeBinaryFromReader(c,s)},proto.mediapipe.tasks.core.proto.ExternalFile.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var c=s.readBytes();o.setFileContent(c);break;case 2:c=s.readString(),o.setFileName(c);break;case 3:c=new proto.mediapipe.tasks.core.proto.FileDescriptorMeta,s.readMessage(c,proto.mediapipe.tasks.core.proto.FileDescriptorMeta.deserializeBinaryFromReader),o.setFileDescriptorMeta(c);break;case 4:c=new proto.mediapipe.tasks.core.proto.FilePointerMeta,s.readMessage(c,proto.mediapipe.tasks.core.proto.FilePointerMeta.deserializeBinaryFromReader),o.setFilePointerMeta(c);break;default:s.skipField()}return o},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.tasks.core.proto.ExternalFile.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.tasks.core.proto.ExternalFile.serializeBinaryToWriter=function(o,s){var c=void 0;(c=e.Message.getField(o,1))!=null&&s.writeBytes(1,c),(c=e.Message.getField(o,2))!=null&&s.writeString(2,c),(c=o.getFileDescriptorMeta())!=null&&s.writeMessage(3,c,proto.mediapipe.tasks.core.proto.FileDescriptorMeta.serializeBinaryToWriter),(c=o.getFilePointerMeta())!=null&&s.writeMessage(4,c,proto.mediapipe.tasks.core.proto.FilePointerMeta.serializeBinaryToWriter)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFileContent=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFileContent_asB64=function(){return e.Message.bytesAsB64(this.getFileContent())},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFileContent_asU8=function(){return e.Message.bytesAsU8(this.getFileContent())},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.setFileContent=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.clearFileContent=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.hasFileContent=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFileName=function(){return e.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.setFileName=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.clearFileName=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.hasFileName=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFileDescriptorMeta=function(){return e.Message.getWrapperField(this,proto.mediapipe.tasks.core.proto.FileDescriptorMeta,3)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.setFileDescriptorMeta=function(o){return e.Message.setWrapperField(this,3,o)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.clearFileDescriptorMeta=function(){return this.setFileDescriptorMeta(void 0)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.hasFileDescriptorMeta=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFilePointerMeta=function(){return e.Message.getWrapperField(this,proto.mediapipe.tasks.core.proto.FilePointerMeta,4)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.setFilePointerMeta=function(o){return e.Message.setWrapperField(this,4,o)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.clearFilePointerMeta=function(){return this.setFilePointerMeta(void 0)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.hasFilePointerMeta=function(){return e.Message.getField(this,4)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.toObject=function(o){return proto.mediapipe.tasks.core.proto.FileDescriptorMeta.toObject(o,this)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.toObject=function(o,s){var c,d={fd:(c=e.Message.getField(s,1))==null?void 0:c,length:(c=e.Message.getField(s,2))==null?void 0:c,offset:(c=e.Message.getField(s,3))==null?void 0:c};return o&&(d.$jspbMessageInstance=s),d}),proto.mediapipe.tasks.core.proto.FileDescriptorMeta.deserializeBinary=function(o){var s=new e.BinaryReader(o),c=new proto.mediapipe.tasks.core.proto.FileDescriptorMeta;return proto.mediapipe.tasks.core.proto.FileDescriptorMeta.deserializeBinaryFromReader(c,s)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var c=s.readInt32();o.setFd(c);break;case 2:c=s.readInt64(),o.setLength(c);break;case 3:c=s.readInt64(),o.setOffset(c);break;default:s.skipField()}return o},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.tasks.core.proto.FileDescriptorMeta.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.serializeBinaryToWriter=function(o,s){var c=void 0;(c=e.Message.getField(o,1))!=null&&s.writeInt32(1,c),(c=e.Message.getField(o,2))!=null&&s.writeInt64(2,c),(c=e.Message.getField(o,3))!=null&&s.writeInt64(3,c)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.getFd=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.setFd=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.clearFd=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.hasFd=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.getLength=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.setLength=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.clearLength=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.hasLength=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.getOffset=function(){return e.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.setOffset=function(o){return e.Message.setField(this,3,o)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.clearOffset=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.hasOffset=function(){return e.Message.getField(this,3)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.toObject=function(o){return proto.mediapipe.tasks.core.proto.FilePointerMeta.toObject(o,this)},proto.mediapipe.tasks.core.proto.FilePointerMeta.toObject=function(o,s){var c,d={pointer:(c=e.Message.getField(s,1))==null?void 0:c,length:(c=e.Message.getField(s,2))==null?void 0:c};return o&&(d.$jspbMessageInstance=s),d}),proto.mediapipe.tasks.core.proto.FilePointerMeta.deserializeBinary=function(o){var s=new e.BinaryReader(o),c=new proto.mediapipe.tasks.core.proto.FilePointerMeta;return proto.mediapipe.tasks.core.proto.FilePointerMeta.deserializeBinaryFromReader(c,s)},proto.mediapipe.tasks.core.proto.FilePointerMeta.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var c=s.readUint64();o.setPointer(c);break;case 2:c=s.readInt64(),o.setLength(c);break;default:s.skipField()}return o},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.tasks.core.proto.FilePointerMeta.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.tasks.core.proto.FilePointerMeta.serializeBinaryToWriter=function(o,s){var c=void 0;(c=e.Message.getField(o,1))!=null&&s.writeUint64(1,c),(c=e.Message.getField(o,2))!=null&&s.writeInt64(2,c)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.getPointer=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.setPointer=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.clearPointer=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.hasPointer=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.getLength=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.setLength=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.clearLength=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.hasLength=function(){return e.Message.getField(this,2)!=null},r.object.extend(t,proto.mediapipe.tasks.core.proto)})(external_file_pb),function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=acceleration_pb;r.object.extend(proto,o);var s=external_file_pb;r.object.extend(proto,s),r.exportSymbol("proto.mediapipe.tasks.core.proto.BaseOptions",null,n),proto.mediapipe.tasks.core.proto.BaseOptions=function(c){e.Message.initialize(this,c,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.core.proto.BaseOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.core.proto.BaseOptions.displayName="proto.mediapipe.tasks.core.proto.BaseOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.core.proto.BaseOptions.prototype.toObject=function(c){return proto.mediapipe.tasks.core.proto.BaseOptions.toObject(c,this)},proto.mediapipe.tasks.core.proto.BaseOptions.toObject=function(c,d){var u,m={modelAsset:(u=d.getModelAsset())&&s.ExternalFile.toObject(c,u),useStreamMode:e.Message.getBooleanFieldWithDefault(d,2,!1),acceleration:(u=d.getAcceleration())&&o.Acceleration.toObject(c,u)};return c&&(m.$jspbMessageInstance=d),m}),proto.mediapipe.tasks.core.proto.BaseOptions.deserializeBinary=function(c){var d=new e.BinaryReader(c),u=new proto.mediapipe.tasks.core.proto.BaseOptions;return proto.mediapipe.tasks.core.proto.BaseOptions.deserializeBinaryFromReader(u,d)},proto.mediapipe.tasks.core.proto.BaseOptions.deserializeBinaryFromReader=function(c,d){for(;d.nextField()&&!d.isEndGroup();)switch(d.getFieldNumber()){case 1:var u=new s.ExternalFile;d.readMessage(u,s.ExternalFile.deserializeBinaryFromReader),c.setModelAsset(u);break;case 2:u=d.readBool(),c.setUseStreamMode(u);break;case 3:u=new o.Acceleration,d.readMessage(u,o.Acceleration.deserializeBinaryFromReader),c.setAcceleration(u);break;default:d.skipField()}return c},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.serializeBinary=function(){var c=new e.BinaryWriter;return proto.mediapipe.tasks.core.proto.BaseOptions.serializeBinaryToWriter(this,c),c.getResultBuffer()},proto.mediapipe.tasks.core.proto.BaseOptions.serializeBinaryToWriter=function(c,d){var u=void 0;(u=c.getModelAsset())!=null&&d.writeMessage(1,u,s.ExternalFile.serializeBinaryToWriter),(u=e.Message.getField(c,2))!=null&&d.writeBool(2,u),(u=c.getAcceleration())!=null&&d.writeMessage(3,u,o.Acceleration.serializeBinaryToWriter)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.getModelAsset=function(){return e.Message.getWrapperField(this,s.ExternalFile,1)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.setModelAsset=function(c){return e.Message.setWrapperField(this,1,c)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.clearModelAsset=function(){return this.setModelAsset(void 0)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.hasModelAsset=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.getUseStreamMode=function(){return e.Message.getBooleanFieldWithDefault(this,2,!1)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.setUseStreamMode=function(c){return e.Message.setField(this,2,c)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.clearUseStreamMode=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.hasUseStreamMode=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.getAcceleration=function(){return e.Message.getWrapperField(this,o.Acceleration,3)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.setAcceleration=function(c){return e.Message.setWrapperField(this,3,c)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.clearAcceleration=function(){return this.setAcceleration(void 0)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.hasAcceleration=function(){return e.Message.getField(this,3)!=null},r.object.extend(t,proto.mediapipe.tasks.core.proto)}(base_options_pb);var face_detector_graph_options_pb={};(function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;r.object.extend(proto,o);var s=calculator_options_pb;r.object.extend(proto,s);var c=base_options_pb;r.object.extend(proto,c),r.exportSymbol("proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions",null,n),proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions=function(d){e.Message.initialize(this,d,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.displayName="proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.toObject=function(d){return proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.toObject(d,this)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.toObject=function(d,u){var m,_={baseOptions:(m=u.getBaseOptions())&&c.BaseOptions.toObject(d,m),minDetectionConfidence:e.Message.getFloatingPointFieldWithDefault(u,2,.5),minSuppressionThreshold:e.Message.getFloatingPointFieldWithDefault(u,3,.5),numFaces:(m=e.Message.getField(u,4))==null?void 0:m};return d&&(_.$jspbMessageInstance=u),_}),proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.deserializeBinary=function(d){var u=new e.BinaryReader(d),m=new proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions;return proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.deserializeBinaryFromReader(m,u)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.deserializeBinaryFromReader=function(d,u){for(;u.nextField()&&!u.isEndGroup();)switch(u.getFieldNumber()){case 1:var m=new c.BaseOptions;u.readMessage(m,c.BaseOptions.deserializeBinaryFromReader),d.setBaseOptions(m);break;case 2:m=u.readFloat(),d.setMinDetectionConfidence(m);break;case 3:m=u.readFloat(),d.setMinSuppressionThreshold(m);break;case 4:m=u.readInt32(),d.setNumFaces(m);break;default:u.skipField()}return d},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.serializeBinary=function(){var d=new e.BinaryWriter;return proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.serializeBinaryToWriter(this,d),d.getResultBuffer()},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.serializeBinaryToWriter=function(d,u){var m=void 0;(m=d.getBaseOptions())!=null&&u.writeMessage(1,m,c.BaseOptions.serializeBinaryToWriter),(m=e.Message.getField(d,2))!=null&&u.writeFloat(2,m),(m=e.Message.getField(d,3))!=null&&u.writeFloat(3,m),(m=e.Message.getField(d,4))!=null&&u.writeInt32(4,m)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.ext=new e.ExtensionFieldInfo(502141897,{ext:0},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[502141897]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[502141897]=proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.ext,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,c.BaseOptions,1)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.setBaseOptions=function(d){return e.Message.setWrapperField(this,1,d)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.getMinDetectionConfidence=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,.5)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.setMinDetectionConfidence=function(d){return e.Message.setField(this,2,d)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.clearMinDetectionConfidence=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.hasMinDetectionConfidence=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.getMinSuppressionThreshold=function(){return e.Message.getFloatingPointFieldWithDefault(this,3,.5)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.setMinSuppressionThreshold=function(d){return e.Message.setField(this,3,d)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.clearMinSuppressionThreshold=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.hasMinSuppressionThreshold=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.getNumFaces=function(){return e.Message.getFieldWithDefault(this,4,0)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.setNumFaces=function(d){return e.Message.setField(this,4,d)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.clearNumFaces=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.hasNumFaces=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.ext=new e.ExtensionFieldInfo(502141897,{ext:0},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[502141897]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[502141897]=proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.face_detector.proto)})(face_detector_graph_options_pb);var detection_result={};Object.defineProperty(detection_result,"__esModule",{value:!0}),detection_result.convertFromDetectionProto=void 0;const DEFAULT_CATEGORY_INDEX=-1;function convertFromDetectionProto(t){var e,r,n,o,s,c,d,u,m,_,g,f,y;const M=t.getScoreList(),T=t.getLabelIdList(),A=t.getLabelList(),E=t.getDisplayNameList(),C={categories:[],keypoints:[]};for(let O=0;O<M.length;O++)C.categories.push({score:M[O],index:(e=T[O])!==null&&e!==void 0?e:DEFAULT_CATEGORY_INDEX,categoryName:(r=A[O])!==null&&r!==void 0?r:"",displayName:(n=E[O])!==null&&n!==void 0?n:""});const k=(o=t.getLocationData())===null||o===void 0?void 0:o.getBoundingBox();if(k&&(C.boundingBox={originX:(s=k.getXmin())!==null&&s!==void 0?s:0,originY:(c=k.getYmin())!==null&&c!==void 0?c:0,width:(d=k.getWidth())!==null&&d!==void 0?d:0,height:(u=k.getHeight())!==null&&u!==void 0?u:0,angle:0}),(m=t.getLocationData())===null||m===void 0?void 0:m.getRelativeKeypointsList().length)for(const O of t.getLocationData().getRelativeKeypointsList())C.keypoints.push({x:(_=O.getX())!==null&&_!==void 0?_:0,y:(g=O.getY())!==null&&g!==void 0?g:0,score:(f=O.getScore())!==null&&f!==void 0?f:0,label:(y=O.getKeypointLabel())!==null&&y!==void 0?y:""});return C}detection_result.convertFromDetectionProto=convertFromDetectionProto;var vision_task_runner={},rect_pb={};(function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.NormalizedRect",null,n),r.exportSymbol("proto.mediapipe.Rect",null,n),proto.mediapipe.Rect=function(o){e.Message.initialize(this,o,0,-1,null,null)},r.inherits(proto.mediapipe.Rect,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.Rect.displayName="proto.mediapipe.Rect"),proto.mediapipe.NormalizedRect=function(o){e.Message.initialize(this,o,0,-1,null,null)},r.inherits(proto.mediapipe.NormalizedRect,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.NormalizedRect.displayName="proto.mediapipe.NormalizedRect"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Rect.prototype.toObject=function(o){return proto.mediapipe.Rect.toObject(o,this)},proto.mediapipe.Rect.toObject=function(o,s){var c,d={xCenter:(c=e.Message.getField(s,1))==null?void 0:c,yCenter:(c=e.Message.getField(s,2))==null?void 0:c,height:(c=e.Message.getField(s,3))==null?void 0:c,width:(c=e.Message.getField(s,4))==null?void 0:c,rotation:e.Message.getFloatingPointFieldWithDefault(s,5,0),rectId:(c=e.Message.getField(s,6))==null?void 0:c};return o&&(d.$jspbMessageInstance=s),d}),proto.mediapipe.Rect.deserializeBinary=function(o){var s=new e.BinaryReader(o),c=new proto.mediapipe.Rect;return proto.mediapipe.Rect.deserializeBinaryFromReader(c,s)},proto.mediapipe.Rect.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var c=s.readInt32();o.setXCenter(c);break;case 2:c=s.readInt32(),o.setYCenter(c);break;case 3:c=s.readInt32(),o.setHeight(c);break;case 4:c=s.readInt32(),o.setWidth(c);break;case 5:c=s.readFloat(),o.setRotation(c);break;case 6:c=s.readInt64(),o.setRectId(c);break;default:s.skipField()}return o},proto.mediapipe.Rect.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.Rect.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.Rect.serializeBinaryToWriter=function(o,s){var c=void 0;(c=e.Message.getField(o,1))!=null&&s.writeInt32(1,c),(c=e.Message.getField(o,2))!=null&&s.writeInt32(2,c),(c=e.Message.getField(o,3))!=null&&s.writeInt32(3,c),(c=e.Message.getField(o,4))!=null&&s.writeInt32(4,c),(c=e.Message.getField(o,5))!=null&&s.writeFloat(5,c),(c=e.Message.getField(o,6))!=null&&s.writeInt64(6,c)},proto.mediapipe.Rect.prototype.getXCenter=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.Rect.prototype.setXCenter=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.Rect.prototype.clearXCenter=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.Rect.prototype.hasXCenter=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.Rect.prototype.getYCenter=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.Rect.prototype.setYCenter=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.Rect.prototype.clearYCenter=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.Rect.prototype.hasYCenter=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.Rect.prototype.getHeight=function(){return e.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.Rect.prototype.setHeight=function(o){return e.Message.setField(this,3,o)},proto.mediapipe.Rect.prototype.clearHeight=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.Rect.prototype.hasHeight=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.Rect.prototype.getWidth=function(){return e.Message.getFieldWithDefault(this,4,0)},proto.mediapipe.Rect.prototype.setWidth=function(o){return e.Message.setField(this,4,o)},proto.mediapipe.Rect.prototype.clearWidth=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.Rect.prototype.hasWidth=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.Rect.prototype.getRotation=function(){return e.Message.getFloatingPointFieldWithDefault(this,5,0)},proto.mediapipe.Rect.prototype.setRotation=function(o){return e.Message.setField(this,5,o)},proto.mediapipe.Rect.prototype.clearRotation=function(){return e.Message.setField(this,5,void 0)},proto.mediapipe.Rect.prototype.hasRotation=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.Rect.prototype.getRectId=function(){return e.Message.getFieldWithDefault(this,6,0)},proto.mediapipe.Rect.prototype.setRectId=function(o){return e.Message.setField(this,6,o)},proto.mediapipe.Rect.prototype.clearRectId=function(){return e.Message.setField(this,6,void 0)},proto.mediapipe.Rect.prototype.hasRectId=function(){return e.Message.getField(this,6)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.NormalizedRect.prototype.toObject=function(o){return proto.mediapipe.NormalizedRect.toObject(o,this)},proto.mediapipe.NormalizedRect.toObject=function(o,s){var c,d={xCenter:(c=e.Message.getOptionalFloatingPointField(s,1))==null?void 0:c,yCenter:(c=e.Message.getOptionalFloatingPointField(s,2))==null?void 0:c,height:(c=e.Message.getOptionalFloatingPointField(s,3))==null?void 0:c,width:(c=e.Message.getOptionalFloatingPointField(s,4))==null?void 0:c,rotation:e.Message.getFloatingPointFieldWithDefault(s,5,0),rectId:(c=e.Message.getField(s,6))==null?void 0:c};return o&&(d.$jspbMessageInstance=s),d}),proto.mediapipe.NormalizedRect.deserializeBinary=function(o){var s=new e.BinaryReader(o),c=new proto.mediapipe.NormalizedRect;return proto.mediapipe.NormalizedRect.deserializeBinaryFromReader(c,s)},proto.mediapipe.NormalizedRect.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var c=s.readFloat();o.setXCenter(c);break;case 2:c=s.readFloat(),o.setYCenter(c);break;case 3:c=s.readFloat(),o.setHeight(c);break;case 4:c=s.readFloat(),o.setWidth(c);break;case 5:c=s.readFloat(),o.setRotation(c);break;case 6:c=s.readInt64(),o.setRectId(c);break;default:s.skipField()}return o},proto.mediapipe.NormalizedRect.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.NormalizedRect.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.NormalizedRect.serializeBinaryToWriter=function(o,s){var c=void 0;(c=e.Message.getField(o,1))!=null&&s.writeFloat(1,c),(c=e.Message.getField(o,2))!=null&&s.writeFloat(2,c),(c=e.Message.getField(o,3))!=null&&s.writeFloat(3,c),(c=e.Message.getField(o,4))!=null&&s.writeFloat(4,c),(c=e.Message.getField(o,5))!=null&&s.writeFloat(5,c),(c=e.Message.getField(o,6))!=null&&s.writeInt64(6,c)},proto.mediapipe.NormalizedRect.prototype.getXCenter=function(){return e.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.NormalizedRect.prototype.setXCenter=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.NormalizedRect.prototype.clearXCenter=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.NormalizedRect.prototype.hasXCenter=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.NormalizedRect.prototype.getYCenter=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.NormalizedRect.prototype.setYCenter=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.NormalizedRect.prototype.clearYCenter=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.NormalizedRect.prototype.hasYCenter=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.NormalizedRect.prototype.getHeight=function(){return e.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.NormalizedRect.prototype.setHeight=function(o){return e.Message.setField(this,3,o)},proto.mediapipe.NormalizedRect.prototype.clearHeight=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.NormalizedRect.prototype.hasHeight=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.NormalizedRect.prototype.getWidth=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.NormalizedRect.prototype.setWidth=function(o){return e.Message.setField(this,4,o)},proto.mediapipe.NormalizedRect.prototype.clearWidth=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.NormalizedRect.prototype.hasWidth=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.NormalizedRect.prototype.getRotation=function(){return e.Message.getFloatingPointFieldWithDefault(this,5,0)},proto.mediapipe.NormalizedRect.prototype.setRotation=function(o){return e.Message.setField(this,5,o)},proto.mediapipe.NormalizedRect.prototype.clearRotation=function(){return e.Message.setField(this,5,void 0)},proto.mediapipe.NormalizedRect.prototype.hasRotation=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.NormalizedRect.prototype.getRectId=function(){return e.Message.getFieldWithDefault(this,6,0)},proto.mediapipe.NormalizedRect.prototype.setRectId=function(o){return e.Message.setField(this,6,o)},proto.mediapipe.NormalizedRect.prototype.clearRectId=function(){return e.Message.setField(this,6,void 0)},proto.mediapipe.NormalizedRect.prototype.hasRectId=function(){return e.Message.getField(this,6)!=null},r.object.extend(t,proto.mediapipe)})(rect_pb);var task_runner={},graph_runner={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createGraphRunner=t.createMediaPipeLib=t.GraphRunner=t.CALCULATOR_GRAPH_CONFIG_LISTENER_NAME=void 0;const e=platform_utils;t.CALCULATOR_GRAPH_CONFIG_LISTENER_NAME="__graph_config__";class r{constructor(c,d){this.autoResizeCanvas=!0,this.wasmModule=c,this.audioPtr=null,this.audioSize=0,this.hasMultiStreamSupport=typeof this.wasmModule._addIntToInputStream=="function",d!==void 0?this.wasmModule.canvas=d:typeof OffscreenCanvas>"u"||(0,e.isWebKit)()?(console.warn("OffscreenCanvas not supported and GraphRunner constructor glCanvas parameter is undefined. Creating backup canvas."),this.wasmModule.canvas=document.createElement("canvas")):this.wasmModule.canvas=new OffscreenCanvas(1,1)}async initializeGraph(c){const d=await fetch(c),u=await d.arrayBuffer(),m=!(c.endsWith(".pbtxt")||c.endsWith(".textproto"));this.setGraph(new Uint8Array(u),m)}setGraphFromString(c){this.setGraph(new TextEncoder().encode(c),!1)}setGraph(c,d){const u=c.length,m=this.wasmModule._malloc(u);this.wasmModule.HEAPU8.set(c,m),d?this.wasmModule._changeBinaryGraph(u,m):this.wasmModule._changeTextGraph(u,m),this.wasmModule._free(m)}configureAudio(c,d,u,m,_){this.wasmModule._configureAudio||console.warn('Attempting to use configureAudio without support for input audio. Is build dep ":gl_graph_runner_audio" missing?'),m=m||"input_audio",this.wrapStringPtr(m,g=>{_=_||"audio_header",this.wrapStringPtr(_,f=>{this.wasmModule._configureAudio(g,f,c,d,u)})})}setAutoResizeCanvas(c){this.autoResizeCanvas=c}setAutoRenderToScreen(c){this.wasmModule._setAutoRenderToScreen(c)}bindTextureToStream(c,d){if(!this.wasmModule.canvas)throw new Error("No OpenGL canvas configured.");d?this.wasmModule._bindTextureToStream(d):console.assert(this.wasmModule._bindTextureToCanvas());const u=this.wasmModule.canvas.getContext("webgl2")||this.wasmModule.canvas.getContext("webgl");if(!u)throw new Error("Failed to obtain WebGL context from the provided canvas. `getContext()` should only be invoked with `webgl` or `webgl2`.");let m,_;return u.texImage2D(u.TEXTURE_2D,0,u.RGBA,u.RGBA,u.UNSIGNED_BYTE,c),c.videoWidth?(m=c.videoWidth,_=c.videoHeight):c.naturalWidth?(m=c.naturalWidth,_=c.naturalHeight):(m=c.width,_=c.height),!this.autoResizeCanvas||m===this.wasmModule.canvas.width&&_===this.wasmModule.canvas.height||(this.wasmModule.canvas.width=m,this.wasmModule.canvas.height=_),[m,_]}processGl(c,d){const[u,m]=this.bindTextureToStream(c),_=this.wasmModule._malloc(16);this.wasmModule.HEAPU32[_/4]=u,this.wasmModule.HEAPU32[_/4+1]=m,this.wasmModule.HEAPF64[_/8+1]=d,this.wasmModule._processGl(_),this.wasmModule._free(_)}wrapStringPtr(c,d){this.hasMultiStreamSupport||console.error("No wasm multistream support detected: ensure dependency inclusion of :gl_graph_runner_internal_multi_input target");const u=this.wasmModule.stringToNewUTF8(c);d(u),this.wasmModule._free(u)}wrapStringPtrPtr(c,d){this.hasMultiStreamSupport||console.error("No wasm multistream support detected: ensure dependency inclusion of :gl_graph_runner_internal_multi_input target");const u=new Uint32Array(c.length);for(let _=0;_<c.length;_++)u[_]=this.wasmModule.stringToNewUTF8(c[_]);const m=this.wasmModule._malloc(4*u.length);this.wasmModule.HEAPU32.set(u,m>>2),d(m);for(const _ of u)this.wasmModule._free(_);this.wasmModule._free(m)}getCalculatorGraphConfig(c,d){const u=t.CALCULATOR_GRAPH_CONFIG_LISTENER_NAME;this.setListener(u,m=>{c(m)}),this.wrapStringPtr(u,m=>{this.wasmModule._getGraphConfig(m,d)}),delete this.wasmModule.simpleListeners[u]}setListener(c,d){this.wasmModule.simpleListeners=this.wasmModule.simpleListeners||{},this.wasmModule.simpleListeners[c]=d}setVectorListener(c,d){let u=[];this.wasmModule.simpleListeners=this.wasmModule.simpleListeners||{},this.wasmModule.simpleListeners[c]=(m,_,g)=>{_?(d(u,g),u=[]):u.push(m)}}attachErrorListener(c){this.wasmModule.errorListener=c}attachEmptyPacketListener(c,d){this.wasmModule.emptyPacketListeners=this.wasmModule.emptyPacketListeners||{},this.wasmModule.emptyPacketListeners[c]=d}addAudioToStream(c,d,u){this.addAudioToStreamWithShape(c,0,0,d,u)}addAudioToStreamWithShape(c,d,u,m,_){const g=4*c.length;this.audioSize!==g&&(this.audioPtr&&this.wasmModule._free(this.audioPtr),this.audioPtr=this.wasmModule._malloc(g),this.audioSize=g),this.wasmModule.HEAPF32.set(c,this.audioPtr/4),this.wrapStringPtr(m,f=>{this.wasmModule._addAudioToInputStream(this.audioPtr,d,u,f,_)})}addGpuBufferToStream(c,d,u){this.wrapStringPtr(d,m=>{const[_,g]=this.bindTextureToStream(c,m);this.wasmModule._addBoundTextureToStream(m,_,g,u)})}addBoolToStream(c,d,u){this.wrapStringPtr(d,m=>{this.wasmModule._addBoolToInputStream(c,m,u)})}addDoubleToStream(c,d,u){this.wrapStringPtr(d,m=>{this.wasmModule._addDoubleToInputStream(c,m,u)})}addFloatToStream(c,d,u){this.wrapStringPtr(d,m=>{this.wasmModule._addFloatToInputStream(c,m,u)})}addIntToStream(c,d,u){this.wrapStringPtr(d,m=>{this.wasmModule._addIntToInputStream(c,m,u)})}addStringToStream(c,d,u){this.wrapStringPtr(d,m=>{this.wrapStringPtr(c,_=>{this.wasmModule._addStringToInputStream(_,m,u)})})}addStringRecordToStream(c,d,u){this.wrapStringPtr(d,m=>{this.wrapStringPtrPtr(Object.keys(c),_=>{this.wrapStringPtrPtr(Object.values(c),g=>{this.wasmModule._addFlatHashMapToInputStream(_,g,Object.keys(c).length,m,u)})})})}addProtoToStream(c,d,u,m){this.wrapStringPtr(u,_=>{this.wrapStringPtr(d,g=>{const f=this.wasmModule._malloc(c.length);this.wasmModule.HEAPU8.set(c,f),this.wasmModule._addProtoToInputStream(f,c.length,g,_,m),this.wasmModule._free(f)})})}addEmptyPacketToStream(c,d){this.wrapStringPtr(c,u=>{this.wasmModule._addEmptyPacketToInputStream(u,d)})}addBoolToInputSidePacket(c,d){this.wrapStringPtr(d,u=>{this.wasmModule._addBoolToInputSidePacket(c,u)})}addDoubleToInputSidePacket(c,d){this.wrapStringPtr(d,u=>{this.wasmModule._addDoubleToInputSidePacket(c,u)})}addFloatToInputSidePacket(c,d){this.wrapStringPtr(d,u=>{this.wasmModule._addFloatToInputSidePacket(c,u)})}addIntToInputSidePacket(c,d){this.wrapStringPtr(d,u=>{this.wasmModule._addIntToInputSidePacket(c,u)})}addStringToInputSidePacket(c,d){this.wrapStringPtr(d,u=>{this.wrapStringPtr(c,m=>{this.wasmModule._addStringToInputSidePacket(m,u)})})}addProtoToInputSidePacket(c,d,u){this.wrapStringPtr(u,m=>{this.wrapStringPtr(d,_=>{const g=this.wasmModule._malloc(c.length);this.wasmModule.HEAPU8.set(c,g),this.wasmModule._addProtoToInputSidePacket(g,c.length,_,m),this.wasmModule._free(g)})})}attachBoolListener(c,d){this.setListener(c,d),this.wrapStringPtr(c,u=>{this.wasmModule._attachBoolListener(u)})}attachBoolVectorListener(c,d){this.setVectorListener(c,d),this.wrapStringPtr(c,u=>{this.wasmModule._attachBoolVectorListener(u)})}attachIntListener(c,d){this.setListener(c,d),this.wrapStringPtr(c,u=>{this.wasmModule._attachIntListener(u)})}attachIntVectorListener(c,d){this.setVectorListener(c,d),this.wrapStringPtr(c,u=>{this.wasmModule._attachIntVectorListener(u)})}attachDoubleListener(c,d){this.setListener(c,d),this.wrapStringPtr(c,u=>{this.wasmModule._attachDoubleListener(u)})}attachDoubleVectorListener(c,d){this.setVectorListener(c,d),this.wrapStringPtr(c,u=>{this.wasmModule._attachDoubleVectorListener(u)})}attachFloatListener(c,d){this.setListener(c,d),this.wrapStringPtr(c,u=>{this.wasmModule._attachFloatListener(u)})}attachFloatVectorListener(c,d){this.setVectorListener(c,d),this.wrapStringPtr(c,u=>{this.wasmModule._attachFloatVectorListener(u)})}attachStringListener(c,d){this.setListener(c,d),this.wrapStringPtr(c,u=>{this.wasmModule._attachStringListener(u)})}attachStringVectorListener(c,d){this.setVectorListener(c,d),this.wrapStringPtr(c,u=>{this.wasmModule._attachStringVectorListener(u)})}attachProtoListener(c,d,u){this.setListener(c,d),this.wrapStringPtr(c,m=>{this.wasmModule._attachProtoListener(m,u||!1)})}attachProtoVectorListener(c,d,u){this.setVectorListener(c,d),this.wrapStringPtr(c,m=>{this.wasmModule._attachProtoVectorListener(m,u||!1)})}attachAudioListener(c,d,u){this.wasmModule._attachAudioListener||console.warn('Attempting to use attachAudioListener without support for output audio. Is build dep ":gl_graph_runner_audio_out" missing?'),this.setListener(c,(m,_)=>{const g=new Float32Array(m.buffer,m.byteOffset,m.length/4);d(g,_)}),this.wrapStringPtr(c,m=>{this.wasmModule._attachAudioListener(m,u||!1)})}finishProcessing(){this.wasmModule._waitUntilIdle()}closeGraph(){this.wasmModule._closeGraph(),this.wasmModule.simpleListeners=void 0,this.wasmModule.emptyPacketListeners=void 0}}async function n(s){if(typeof importScripts!="function"){const c=document.createElement("script");return c.setAttribute("src",s),c.setAttribute("crossorigin","anonymous"),new Promise(d=>{c.addEventListener("load",()=>{d()},!1),c.addEventListener("error",()=>{d()},!1),document.body.appendChild(c)})}importScripts(s.toString())}async function o(s,c,d,u,m){const _=[];if(c&&_.push(c),d&&_.push(d),_.length&&await Promise.all(_.map(n)),!self.ModuleFactory)throw new Error("ModuleFactory not set.");if(self.Module&&m){const f=self.Module;f.locateFile=m.locateFile,m.mainScriptUrlOrBlob&&(f.mainScriptUrlOrBlob=m.mainScriptUrlOrBlob)}const g=await self.ModuleFactory(self.Module||m);return self.ModuleFactory=self.Module=void 0,new s(g,u)}t.GraphRunner=r,t.createMediaPipeLib=o,t.createGraphRunner=async function(s,c,d,u){return o(r,s,c,d,u)}})(graph_runner);var register_model_resources_graph_service={};function SupportModelResourcesGraphService(t){return class extends t{registerModelResourcesGraphService(){this.wasmModule._registerModelResourcesGraphService()}}}Object.defineProperty(register_model_resources_graph_service,"__esModule",{value:!0}),register_model_resources_graph_service.SupportModelResourcesGraphService=void 0,register_model_resources_graph_service.SupportModelResourcesGraphService=SupportModelResourcesGraphService,Object.defineProperty(task_runner,"__esModule",{value:!0}),task_runner.TaskRunner=task_runner.createTaskRunner=task_runner.CachedGraphRunner=void 0;const inference_calculator_pb_1=inference_calculator_pb,calculator_pb_1=calculator_pb,acceleration_pb_1=acceleration_pb,external_file_pb_1=external_file_pb,graph_runner_1$1=graph_runner,register_model_resources_graph_service_1$1=register_model_resources_graph_service,FREE_MEMORY_STREAM="free_memory",UNUSED_STREAM_SUFFIX="_unused_out",CachedGraphRunnerType=(0,register_model_resources_graph_service_1$1.SupportModelResourcesGraphService)(graph_runner_1$1.GraphRunner);class CachedGraphRunner extends CachedGraphRunnerType{}async function createTaskRunner(t,e,r,n){const o={locateFile:()=>r.wasmBinaryPath.toString()},s=await(0,graph_runner_1$1.createMediaPipeLib)(t,r.wasmLoaderPath,r.assetLoaderPath,e,o);return await s.setOptions(n),s}task_runner.CachedGraphRunner=CachedGraphRunner,task_runner.createTaskRunner=createTaskRunner;class TaskRunner{static async createInstance(e,r,n,o){return createTaskRunner(e,r,n,o)}constructor(e){this.graphRunner=e,this.processingErrors=[],this.latestOutputTimestamp=0,this.graphRunner.setAutoRenderToScreen(!1)}applyOptions(e,r=!0){var n,o,s,c,d,u;if(r){const m=e.baseOptions||{};if(!((n=e.baseOptions)===null||n===void 0)&&n.modelAssetBuffer&&!((o=e.baseOptions)===null||o===void 0)&&o.modelAssetPath)throw new Error("Cannot set both baseOptions.modelAssetPath and baseOptions.modelAssetBuffer");if(!(!((s=this.baseOptions.getModelAsset())===null||s===void 0)&&s.hasFileContent()||!((c=this.baseOptions.getModelAsset())===null||c===void 0)&&c.hasFileName()||!((d=e.baseOptions)===null||d===void 0)&&d.modelAssetBuffer||!((u=e.baseOptions)===null||u===void 0)&&u.modelAssetPath))throw new Error("Either baseOptions.modelAssetPath or baseOptions.modelAssetBuffer must be set");if(this.setAcceleration(m),m.modelAssetPath)return fetch(m.modelAssetPath.toString()).then(_=>{if(_.ok)return _.arrayBuffer();throw new Error(`Failed to fetch model: ${m.modelAssetPath} (${_.status})`)}).then(_=>{try{this.graphRunner.wasmModule.FS_unlink("/model.dat")}catch{}this.graphRunner.wasmModule.FS_createDataFile("/","model.dat",new Uint8Array(_),!0,!1,!1),this.setExternalFile("/model.dat"),this.refreshGraph(),this.onGraphRefreshed()});this.setExternalFile(m.modelAssetBuffer)}return this.refreshGraph(),this.onGraphRefreshed(),Promise.resolve()}onGraphRefreshed(){}getCalculatorGraphConfig(){let e;if(this.graphRunner.getCalculatorGraphConfig(r=>{e=calculator_pb_1.CalculatorGraphConfig.deserializeBinary(r)}),!e)throw new Error("Failed to retrieve CalculatorGraphConfig");return e}setGraph(e,r){this.graphRunner.attachErrorListener((n,o)=>{this.processingErrors.push(new Error(o))}),this.graphRunner.registerModelResourcesGraphService(),this.graphRunner.setGraph(e,r),this.keepaliveNode=void 0,this.handleErrors()}finishProcessing(){this.graphRunner.finishProcessing(),this.handleErrors()}setLatestOutputTimestamp(e){this.latestOutputTimestamp=Math.max(this.latestOutputTimestamp,e)}getSynctheticTimestamp(){return this.latestOutputTimestamp+1}handleErrors(){try{const e=this.processingErrors.length;if(e===1)throw new Error(this.processingErrors[0].message);if(e>1)throw new Error("Encountered multiple errors: "+this.processingErrors.map(r=>r.message).join(", "))}finally{this.processingErrors=[]}}setExternalFile(e){const r=this.baseOptions.getModelAsset()||new external_file_pb_1.ExternalFile;typeof e=="string"?(r.setFileName(e),r.clearFileContent()):e instanceof Uint8Array&&(r.setFileContent(e),r.clearFileName()),this.baseOptions.setModelAsset(r)}setAcceleration(e){let r=this.baseOptions.getAcceleration();r||(r=new acceleration_pb_1.Acceleration,r.setTflite(new inference_calculator_pb_1.InferenceCalculatorOptions.Delegate.TfLite)),"delegate"in e&&(e.delegate==="GPU"?r.setGpu(new inference_calculator_pb_1.InferenceCalculatorOptions.Delegate.Gpu):r.setTflite(new inference_calculator_pb_1.InferenceCalculatorOptions.Delegate.TfLite)),this.baseOptions.setAcceleration(r)}addKeepaliveNode(e){this.keepaliveNode=new calculator_pb_1.CalculatorGraphConfig.Node,this.keepaliveNode.setCalculator("PassThroughCalculator"),this.keepaliveNode.addInputStream(FREE_MEMORY_STREAM),this.keepaliveNode.addOutputStream(FREE_MEMORY_STREAM+UNUSED_STREAM_SUFFIX),e.addInputStream(FREE_MEMORY_STREAM),e.addNode(this.keepaliveNode)}keepStreamAlive(e){this.keepaliveNode.addInputStream(e),this.keepaliveNode.addOutputStream(e+UNUSED_STREAM_SUFFIX)}freeKeepaliveStreams(){this.graphRunner.addBoolToStream(!0,FREE_MEMORY_STREAM,this.latestOutputTimestamp)}close(){this.keepaliveNode=void 0,this.graphRunner.closeGraph()}}task_runner.TaskRunner=TaskRunner;var graph_runner_image_lib={};function SupportImage(t){return class extends t{get wasmImageModule(){return this.wasmModule}addGpuBufferAsImageToStream(e,r,n){this.wrapStringPtr(r,o=>{const[s,c]=this.bindTextureToStream(e,o);this.wasmImageModule._addBoundTextureAsImageToStream(o,s,c,n)})}attachImageListener(e,r){this.setListener(e,r),this.wrapStringPtr(e,n=>{this.wasmImageModule._attachImageListener(n)})}attachImageVectorListener(e,r){this.setVectorListener(e,r),this.wrapStringPtr(e,n=>{this.wasmImageModule._attachImageVectorListener(n)})}}}Object.defineProperty(graph_runner_image_lib,"__esModule",{value:!0}),graph_runner_image_lib.SupportImage=void 0,graph_runner_image_lib.SupportImage=SupportImage,Object.defineProperty(vision_task_runner,"__esModule",{value:!0}),vision_task_runner.VisionTaskRunner=vision_task_runner.VisionGraphRunner=void 0;const rect_pb_1=rect_pb,task_runner_1=task_runner,image_1$1=image,image_shader_context_1=image_shader_context,mask_1$1=mask,graph_runner_1=graph_runner,graph_runner_image_lib_1=graph_runner_image_lib,platform_utils_1=platform_utils,register_model_resources_graph_service_1=register_model_resources_graph_service,GraphRunnerVisionType=(0,register_model_resources_graph_service_1.SupportModelResourcesGraphService)((0,graph_runner_image_lib_1.SupportImage)(graph_runner_1.GraphRunner));class VisionGraphRunner extends GraphRunnerVisionType{}function createCanvas(){return typeof OffscreenCanvas<"u"&&!(0,platform_utils_1.isWebKit)()?void 0:document.createElement("canvas")}vision_task_runner.VisionGraphRunner=VisionGraphRunner;class VisionTaskRunner extends task_runner_1.TaskRunner{static async createVisionInstance(e,r,n){var o;const s=(o=n.canvas)!==null&&o!==void 0?o:createCanvas();return task_runner_1.TaskRunner.createInstance(e,s,r,n)}constructor(e,r,n,o){super(e),this.graphRunner=e,this.imageStreamName=r,this.normRectStreamName=n,this.roiAllowed=o,this.shaderContext=new image_shader_context_1.MPImageShaderContext}applyOptions(e,r=!0){if("runningMode"in e){const n=!!e.runningMode&&e.runningMode!=="IMAGE";this.baseOptions.setUseStreamMode(n)}if(e.canvas!==void 0&&this.graphRunner.wasmModule.canvas!==e.canvas)throw new Error("You must create a new task to reset the canvas.");return super.applyOptions(e,r)}processImageData(e,r){var n;if(!((n=this.baseOptions)===null||n===void 0)&&n.getUseStreamMode())throw new Error("Task is not initialized with image mode. 'runningMode' must be set to 'IMAGE'.");this.process(e,r,this.getSynctheticTimestamp())}processVideoData(e,r,n){var o;if(!(!((o=this.baseOptions)===null||o===void 0)&&o.getUseStreamMode()))throw new Error("Task is not initialized with video mode. 'runningMode' must be set to 'VIDEO'.");this.process(e,r,n)}getImageSourceSize(e){return e.videoWidth!==void 0?[e.videoWidth,e.videoHeight]:e.naturalWidth!==void 0?[e.naturalWidth,e.naturalHeight]:[e.width,e.height]}convertToNormalizedRect(e,r){const n=new rect_pb_1.NormalizedRect;if(r!=null&&r.regionOfInterest){if(!this.roiAllowed)throw new Error("This task doesn't support region-of-interest.");const o=r.regionOfInterest;if(o.left>=o.right||o.top>=o.bottom)throw new Error("Expected RectF with left < right and top < bottom.");if(o.left<0||o.top<0||o.right>1||o.bottom>1)throw new Error("Expected RectF values to be in [0,1].");n.setXCenter((o.left+o.right)/2),n.setYCenter((o.top+o.bottom)/2),n.setWidth(o.right-o.left),n.setHeight(o.bottom-o.top)}else n.setXCenter(.5),n.setYCenter(.5),n.setWidth(1),n.setHeight(1);if(r!=null&&r.rotationDegrees){if((r==null?void 0:r.rotationDegrees)%90!=0)throw new Error("Expected rotation to be a multiple of 90\xB0.");if(n.setRotation(-Math.PI*r.rotationDegrees/180),(r==null?void 0:r.rotationDegrees)%180!=0){const[o,s]=this.getImageSourceSize(e),c=n.getHeight()*s/o,d=n.getWidth()*o/s;n.setWidth(c),n.setHeight(d)}}return n}process(e,r,n){if(this.normRectStreamName){const o=this.convertToNormalizedRect(e,r);this.graphRunner.addProtoToStream(o.serializeBinary(),"mediapipe.NormalizedRect",this.normRectStreamName,n)}this.graphRunner.addGpuBufferAsImageToStream(e,this.imageStreamName,n??performance.now()),this.finishProcessing()}convertToMPImage(e,r){const{data:n,width:o,height:s}=e,c=o*s;let d;if(n instanceof Uint8Array)if(n.length===3*c){const m=new Uint8ClampedArray(4*c);for(let _=0;_<c;++_)m[4*_]=n[3*_],m[4*_+1]=n[3*_+1],m[4*_+2]=n[3*_+2],m[4*_+3]=255;d=new ImageData(m,o,s)}else{if(n.length!==4*c)throw new Error("Unsupported channel count: "+n.length/c);d=new ImageData(new Uint8ClampedArray(n.buffer,n.byteOffset,n.length),o,s)}else{if(!(n instanceof WebGLTexture))throw new Error(`Unsupported format: ${n.constructor.name}`);d=n}const u=new image_1$1.MPImage([d],!1,!1,this.graphRunner.wasmModule.canvas,this.shaderContext,o,s);return r?u.clone():u}convertToMPMask(e,r){const{data:n,width:o,height:s}=e,c=o*s;let d;if(n instanceof Uint8Array||n instanceof Float32Array){if(n.length!==c)throw new Error("Unsupported channel count: "+n.length/c);d=n}else d=n;const u=new mask_1$1.MPMask([d],!1,this.graphRunner.wasmModule.canvas,this.shaderContext,o,s);return r?u.clone():u}close(){this.shaderContext.close(),super.close()}}vision_task_runner.VisionTaskRunner=VisionTaskRunner;var face_detector_options={};Object.defineProperty(face_detector_options,"__esModule",{value:!0});var face_detector_result={};Object.defineProperty(face_detector_result,"__esModule",{value:!0}),function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(M,T,A,E){E===void 0&&(E=A);var C=Object.getOwnPropertyDescriptor(T,A);C&&!("get"in C?!T.__esModule:C.writable||C.configurable)||(C={enumerable:!0,get:function(){return T[A]}}),Object.defineProperty(M,E,C)}:function(M,T,A,E){E===void 0&&(E=A),M[E]=T[A]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(M,T){for(var A in M)A==="default"||Object.prototype.hasOwnProperty.call(T,A)||e(T,M,A)};Object.defineProperty(t,"__esModule",{value:!0}),t.FaceDetector=void 0;const n=calculator_pb,o=calculator_options_pb,s=detection_pb,c=base_options_pb,d=face_detector_graph_options_pb,u=detection_result,m=vision_task_runner,_="image_in",g="norm_rect_in",f="detections";r(face_detector_options,t),r(face_detector_result,t);class y extends m.VisionTaskRunner{static createFromOptions(T,A){return m.VisionTaskRunner.createVisionInstance(y,T,A)}static createFromModelBuffer(T,A){return m.VisionTaskRunner.createVisionInstance(y,T,{baseOptions:{modelAssetBuffer:A}})}static async createFromModelPath(T,A){return m.VisionTaskRunner.createVisionInstance(y,T,{baseOptions:{modelAssetPath:A}})}constructor(T,A){super(new m.VisionGraphRunner(T,A),_,g,!1),this.result={detections:[]},this.options=new d.FaceDetectorGraphOptions,this.options.setBaseOptions(new c.BaseOptions),this.options.setMinDetectionConfidence(.5),this.options.setMinSuppressionThreshold(.3)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(T){this.options.setBaseOptions(T)}setOptions(T){var A,E;return"minDetectionConfidence"in T&&this.options.setMinDetectionConfidence((A=T.minDetectionConfidence)!==null&&A!==void 0?A:.5),"minSuppressionThreshold"in T&&this.options.setMinSuppressionThreshold((E=T.minSuppressionThreshold)!==null&&E!==void 0?E:.3),this.applyOptions(T)}detect(T,A){return this.result={detections:[]},this.processImageData(T,A),this.result}detectForVideo(T,A,E){return this.result={detections:[]},this.processVideoData(T,E,A),this.result}addJsFaceDetections(T){for(const A of T){const E=s.Detection.deserializeBinary(A);this.result.detections.push((0,u.convertFromDetectionProto)(E))}}refreshGraph(){const T=new n.CalculatorGraphConfig;T.addInputStream(_),T.addInputStream(g),T.addOutputStream(f);const A=new o.CalculatorOptions;A.setExtension(d.FaceDetectorGraphOptions.ext,this.options);const E=new n.CalculatorGraphConfig.Node;E.setCalculator("mediapipe.tasks.vision.face_detector.FaceDetectorGraph"),E.addInputStream("IMAGE:"+_),E.addInputStream("NORM_RECT:"+g),E.addOutputStream("DETECTIONS:"+f),E.setOptions(A),T.addNode(E),this.graphRunner.attachProtoVectorListener(f,(k,O)=>{this.addJsFaceDetections(k),this.setLatestOutputTimestamp(O)}),this.graphRunner.attachEmptyPacketListener(f,k=>{this.setLatestOutputTimestamp(k)});const C=T.serializeBinary();this.setGraph(new Uint8Array(C),!0)}}t.FaceDetector=y}(face_detector);var face_landmarker={},classification_pb={};(function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.Classification",null,n),r.exportSymbol("proto.mediapipe.ClassificationList",null,n),r.exportSymbol("proto.mediapipe.ClassificationListCollection",null,n),proto.mediapipe.Classification=function(o){e.Message.initialize(this,o,0,-1,null,null)},r.inherits(proto.mediapipe.Classification,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.Classification.displayName="proto.mediapipe.Classification"),proto.mediapipe.ClassificationList=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.ClassificationList.repeatedFields_,null)},r.inherits(proto.mediapipe.ClassificationList,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.ClassificationList.displayName="proto.mediapipe.ClassificationList"),proto.mediapipe.ClassificationListCollection=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.ClassificationListCollection.repeatedFields_,null)},r.inherits(proto.mediapipe.ClassificationListCollection,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.ClassificationListCollection.displayName="proto.mediapipe.ClassificationListCollection"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Classification.prototype.toObject=function(o){return proto.mediapipe.Classification.toObject(o,this)},proto.mediapipe.Classification.toObject=function(o,s){var c,d={index:(c=e.Message.getField(s,1))==null?void 0:c,score:(c=e.Message.getOptionalFloatingPointField(s,2))==null?void 0:c,label:(c=e.Message.getField(s,3))==null?void 0:c,displayName:(c=e.Message.getField(s,4))==null?void 0:c};return o&&(d.$jspbMessageInstance=s),d}),proto.mediapipe.Classification.deserializeBinary=function(o){var s=new e.BinaryReader(o),c=new proto.mediapipe.Classification;return proto.mediapipe.Classification.deserializeBinaryFromReader(c,s)},proto.mediapipe.Classification.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var c=s.readInt32();o.setIndex(c);break;case 2:c=s.readFloat(),o.setScore(c);break;case 3:c=s.readString(),o.setLabel(c);break;case 4:c=s.readString(),o.setDisplayName(c);break;default:s.skipField()}return o},proto.mediapipe.Classification.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.Classification.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.Classification.serializeBinaryToWriter=function(o,s){var c=void 0;(c=e.Message.getField(o,1))!=null&&s.writeInt32(1,c),(c=e.Message.getField(o,2))!=null&&s.writeFloat(2,c),(c=e.Message.getField(o,3))!=null&&s.writeString(3,c),(c=e.Message.getField(o,4))!=null&&s.writeString(4,c)},proto.mediapipe.Classification.prototype.getIndex=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.Classification.prototype.setIndex=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.Classification.prototype.clearIndex=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.Classification.prototype.hasIndex=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.Classification.prototype.getScore=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.Classification.prototype.setScore=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.Classification.prototype.clearScore=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.Classification.prototype.hasScore=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.Classification.prototype.getLabel=function(){return e.Message.getFieldWithDefault(this,3,"")},proto.mediapipe.Classification.prototype.setLabel=function(o){return e.Message.setField(this,3,o)},proto.mediapipe.Classification.prototype.clearLabel=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.Classification.prototype.hasLabel=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.Classification.prototype.getDisplayName=function(){return e.Message.getFieldWithDefault(this,4,"")},proto.mediapipe.Classification.prototype.setDisplayName=function(o){return e.Message.setField(this,4,o)},proto.mediapipe.Classification.prototype.clearDisplayName=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.Classification.prototype.hasDisplayName=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.ClassificationList.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.ClassificationList.prototype.toObject=function(o){return proto.mediapipe.ClassificationList.toObject(o,this)},proto.mediapipe.ClassificationList.toObject=function(o,s){var c={classificationList:e.Message.toObjectList(s.getClassificationList(),proto.mediapipe.Classification.toObject,o)};return o&&(c.$jspbMessageInstance=s),c}),proto.mediapipe.ClassificationList.deserializeBinary=function(o){var s=new e.BinaryReader(o),c=new proto.mediapipe.ClassificationList;return proto.mediapipe.ClassificationList.deserializeBinaryFromReader(c,s)},proto.mediapipe.ClassificationList.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)if(s.getFieldNumber()===1){var c=new proto.mediapipe.Classification;s.readMessage(c,proto.mediapipe.Classification.deserializeBinaryFromReader),o.addClassification(c)}else s.skipField();return o},proto.mediapipe.ClassificationList.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.ClassificationList.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.ClassificationList.serializeBinaryToWriter=function(o,s){var c;(c=o.getClassificationList()).length>0&&s.writeRepeatedMessage(1,c,proto.mediapipe.Classification.serializeBinaryToWriter)},proto.mediapipe.ClassificationList.prototype.getClassificationList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.Classification,1)},proto.mediapipe.ClassificationList.prototype.setClassificationList=function(o){return e.Message.setRepeatedWrapperField(this,1,o)},proto.mediapipe.ClassificationList.prototype.addClassification=function(o,s){return e.Message.addToRepeatedWrapperField(this,1,o,proto.mediapipe.Classification,s)},proto.mediapipe.ClassificationList.prototype.clearClassificationList=function(){return this.setClassificationList([])},proto.mediapipe.ClassificationListCollection.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.ClassificationListCollection.prototype.toObject=function(o){return proto.mediapipe.ClassificationListCollection.toObject(o,this)},proto.mediapipe.ClassificationListCollection.toObject=function(o,s){var c={classificationListList:e.Message.toObjectList(s.getClassificationListList(),proto.mediapipe.ClassificationList.toObject,o)};return o&&(c.$jspbMessageInstance=s),c}),proto.mediapipe.ClassificationListCollection.deserializeBinary=function(o){var s=new e.BinaryReader(o),c=new proto.mediapipe.ClassificationListCollection;return proto.mediapipe.ClassificationListCollection.deserializeBinaryFromReader(c,s)},proto.mediapipe.ClassificationListCollection.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)if(s.getFieldNumber()===1){var c=new proto.mediapipe.ClassificationList;s.readMessage(c,proto.mediapipe.ClassificationList.deserializeBinaryFromReader),o.addClassificationList(c)}else s.skipField();return o},proto.mediapipe.ClassificationListCollection.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.ClassificationListCollection.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.ClassificationListCollection.serializeBinaryToWriter=function(o,s){var c;(c=o.getClassificationListList()).length>0&&s.writeRepeatedMessage(1,c,proto.mediapipe.ClassificationList.serializeBinaryToWriter)},proto.mediapipe.ClassificationListCollection.prototype.getClassificationListList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.ClassificationList,1)},proto.mediapipe.ClassificationListCollection.prototype.setClassificationListList=function(o){return e.Message.setRepeatedWrapperField(this,1,o)},proto.mediapipe.ClassificationListCollection.prototype.addClassificationList=function(o,s){return e.Message.addToRepeatedWrapperField(this,1,o,proto.mediapipe.ClassificationList,s)},proto.mediapipe.ClassificationListCollection.prototype.clearClassificationListList=function(){return this.setClassificationListList([])},r.object.extend(t,proto.mediapipe)})(classification_pb);var landmark_pb={};(function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.Landmark",null,n),r.exportSymbol("proto.mediapipe.LandmarkList",null,n),r.exportSymbol("proto.mediapipe.LandmarkListCollection",null,n),r.exportSymbol("proto.mediapipe.NormalizedLandmark",null,n),r.exportSymbol("proto.mediapipe.NormalizedLandmarkList",null,n),r.exportSymbol("proto.mediapipe.NormalizedLandmarkListCollection",null,n),proto.mediapipe.Landmark=function(o){e.Message.initialize(this,o,0,-1,null,null)},r.inherits(proto.mediapipe.Landmark,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.Landmark.displayName="proto.mediapipe.Landmark"),proto.mediapipe.LandmarkList=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.LandmarkList.repeatedFields_,null)},r.inherits(proto.mediapipe.LandmarkList,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.LandmarkList.displayName="proto.mediapipe.LandmarkList"),proto.mediapipe.LandmarkListCollection=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.LandmarkListCollection.repeatedFields_,null)},r.inherits(proto.mediapipe.LandmarkListCollection,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.LandmarkListCollection.displayName="proto.mediapipe.LandmarkListCollection"),proto.mediapipe.NormalizedLandmark=function(o){e.Message.initialize(this,o,0,-1,null,null)},r.inherits(proto.mediapipe.NormalizedLandmark,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.NormalizedLandmark.displayName="proto.mediapipe.NormalizedLandmark"),proto.mediapipe.NormalizedLandmarkList=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.NormalizedLandmarkList.repeatedFields_,null)},r.inherits(proto.mediapipe.NormalizedLandmarkList,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.NormalizedLandmarkList.displayName="proto.mediapipe.NormalizedLandmarkList"),proto.mediapipe.NormalizedLandmarkListCollection=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.NormalizedLandmarkListCollection.repeatedFields_,null)},r.inherits(proto.mediapipe.NormalizedLandmarkListCollection,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.NormalizedLandmarkListCollection.displayName="proto.mediapipe.NormalizedLandmarkListCollection"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Landmark.prototype.toObject=function(o){return proto.mediapipe.Landmark.toObject(o,this)},proto.mediapipe.Landmark.toObject=function(o,s){var c,d={x:(c=e.Message.getOptionalFloatingPointField(s,1))==null?void 0:c,y:(c=e.Message.getOptionalFloatingPointField(s,2))==null?void 0:c,z:(c=e.Message.getOptionalFloatingPointField(s,3))==null?void 0:c,visibility:(c=e.Message.getOptionalFloatingPointField(s,4))==null?void 0:c,presence:(c=e.Message.getOptionalFloatingPointField(s,5))==null?void 0:c};return o&&(d.$jspbMessageInstance=s),d}),proto.mediapipe.Landmark.deserializeBinary=function(o){var s=new e.BinaryReader(o),c=new proto.mediapipe.Landmark;return proto.mediapipe.Landmark.deserializeBinaryFromReader(c,s)},proto.mediapipe.Landmark.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var c=s.readFloat();o.setX(c);break;case 2:c=s.readFloat(),o.setY(c);break;case 3:c=s.readFloat(),o.setZ(c);break;case 4:c=s.readFloat(),o.setVisibility(c);break;case 5:c=s.readFloat(),o.setPresence(c);break;default:s.skipField()}return o},proto.mediapipe.Landmark.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.Landmark.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.Landmark.serializeBinaryToWriter=function(o,s){var c=void 0;(c=e.Message.getField(o,1))!=null&&s.writeFloat(1,c),(c=e.Message.getField(o,2))!=null&&s.writeFloat(2,c),(c=e.Message.getField(o,3))!=null&&s.writeFloat(3,c),(c=e.Message.getField(o,4))!=null&&s.writeFloat(4,c),(c=e.Message.getField(o,5))!=null&&s.writeFloat(5,c)},proto.mediapipe.Landmark.prototype.getX=function(){return e.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.Landmark.prototype.setX=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.Landmark.prototype.clearX=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.Landmark.prototype.hasX=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.Landmark.prototype.getY=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.Landmark.prototype.setY=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.Landmark.prototype.clearY=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.Landmark.prototype.hasY=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.Landmark.prototype.getZ=function(){return e.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.Landmark.prototype.setZ=function(o){return e.Message.setField(this,3,o)},proto.mediapipe.Landmark.prototype.clearZ=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.Landmark.prototype.hasZ=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.Landmark.prototype.getVisibility=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.Landmark.prototype.setVisibility=function(o){return e.Message.setField(this,4,o)},proto.mediapipe.Landmark.prototype.clearVisibility=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.Landmark.prototype.hasVisibility=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.Landmark.prototype.getPresence=function(){return e.Message.getFloatingPointFieldWithDefault(this,5,0)},proto.mediapipe.Landmark.prototype.setPresence=function(o){return e.Message.setField(this,5,o)},proto.mediapipe.Landmark.prototype.clearPresence=function(){return e.Message.setField(this,5,void 0)},proto.mediapipe.Landmark.prototype.hasPresence=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.LandmarkList.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LandmarkList.prototype.toObject=function(o){return proto.mediapipe.LandmarkList.toObject(o,this)},proto.mediapipe.LandmarkList.toObject=function(o,s){var c={landmarkList:e.Message.toObjectList(s.getLandmarkList(),proto.mediapipe.Landmark.toObject,o)};return o&&(c.$jspbMessageInstance=s),c}),proto.mediapipe.LandmarkList.deserializeBinary=function(o){var s=new e.BinaryReader(o),c=new proto.mediapipe.LandmarkList;return proto.mediapipe.LandmarkList.deserializeBinaryFromReader(c,s)},proto.mediapipe.LandmarkList.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)if(s.getFieldNumber()===1){var c=new proto.mediapipe.Landmark;s.readMessage(c,proto.mediapipe.Landmark.deserializeBinaryFromReader),o.addLandmark(c)}else s.skipField();return o},proto.mediapipe.LandmarkList.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.LandmarkList.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.LandmarkList.serializeBinaryToWriter=function(o,s){var c;(c=o.getLandmarkList()).length>0&&s.writeRepeatedMessage(1,c,proto.mediapipe.Landmark.serializeBinaryToWriter)},proto.mediapipe.LandmarkList.prototype.getLandmarkList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.Landmark,1)},proto.mediapipe.LandmarkList.prototype.setLandmarkList=function(o){return e.Message.setRepeatedWrapperField(this,1,o)},proto.mediapipe.LandmarkList.prototype.addLandmark=function(o,s){return e.Message.addToRepeatedWrapperField(this,1,o,proto.mediapipe.Landmark,s)},proto.mediapipe.LandmarkList.prototype.clearLandmarkList=function(){return this.setLandmarkList([])},proto.mediapipe.LandmarkListCollection.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LandmarkListCollection.prototype.toObject=function(o){return proto.mediapipe.LandmarkListCollection.toObject(o,this)},proto.mediapipe.LandmarkListCollection.toObject=function(o,s){var c={landmarkListList:e.Message.toObjectList(s.getLandmarkListList(),proto.mediapipe.LandmarkList.toObject,o)};return o&&(c.$jspbMessageInstance=s),c}),proto.mediapipe.LandmarkListCollection.deserializeBinary=function(o){var s=new e.BinaryReader(o),c=new proto.mediapipe.LandmarkListCollection;return proto.mediapipe.LandmarkListCollection.deserializeBinaryFromReader(c,s)},proto.mediapipe.LandmarkListCollection.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)if(s.getFieldNumber()===1){var c=new proto.mediapipe.LandmarkList;s.readMessage(c,proto.mediapipe.LandmarkList.deserializeBinaryFromReader),o.addLandmarkList(c)}else s.skipField();return o},proto.mediapipe.LandmarkListCollection.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.LandmarkListCollection.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.LandmarkListCollection.serializeBinaryToWriter=function(o,s){var c;(c=o.getLandmarkListList()).length>0&&s.writeRepeatedMessage(1,c,proto.mediapipe.LandmarkList.serializeBinaryToWriter)},proto.mediapipe.LandmarkListCollection.prototype.getLandmarkListList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.LandmarkList,1)},proto.mediapipe.LandmarkListCollection.prototype.setLandmarkListList=function(o){return e.Message.setRepeatedWrapperField(this,1,o)},proto.mediapipe.LandmarkListCollection.prototype.addLandmarkList=function(o,s){return e.Message.addToRepeatedWrapperField(this,1,o,proto.mediapipe.LandmarkList,s)},proto.mediapipe.LandmarkListCollection.prototype.clearLandmarkListList=function(){return this.setLandmarkListList([])},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.NormalizedLandmark.prototype.toObject=function(o){return proto.mediapipe.NormalizedLandmark.toObject(o,this)},proto.mediapipe.NormalizedLandmark.toObject=function(o,s){var c,d={x:(c=e.Message.getOptionalFloatingPointField(s,1))==null?void 0:c,y:(c=e.Message.getOptionalFloatingPointField(s,2))==null?void 0:c,z:(c=e.Message.getOptionalFloatingPointField(s,3))==null?void 0:c,visibility:(c=e.Message.getOptionalFloatingPointField(s,4))==null?void 0:c,presence:(c=e.Message.getOptionalFloatingPointField(s,5))==null?void 0:c};return o&&(d.$jspbMessageInstance=s),d}),proto.mediapipe.NormalizedLandmark.deserializeBinary=function(o){var s=new e.BinaryReader(o),c=new proto.mediapipe.NormalizedLandmark;return proto.mediapipe.NormalizedLandmark.deserializeBinaryFromReader(c,s)},proto.mediapipe.NormalizedLandmark.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var c=s.readFloat();o.setX(c);break;case 2:c=s.readFloat(),o.setY(c);break;case 3:c=s.readFloat(),o.setZ(c);break;case 4:c=s.readFloat(),o.setVisibility(c);break;case 5:c=s.readFloat(),o.setPresence(c);break;default:s.skipField()}return o},proto.mediapipe.NormalizedLandmark.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.NormalizedLandmark.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.NormalizedLandmark.serializeBinaryToWriter=function(o,s){var c=void 0;(c=e.Message.getField(o,1))!=null&&s.writeFloat(1,c),(c=e.Message.getField(o,2))!=null&&s.writeFloat(2,c),(c=e.Message.getField(o,3))!=null&&s.writeFloat(3,c),(c=e.Message.getField(o,4))!=null&&s.writeFloat(4,c),(c=e.Message.getField(o,5))!=null&&s.writeFloat(5,c)},proto.mediapipe.NormalizedLandmark.prototype.getX=function(){return e.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.NormalizedLandmark.prototype.setX=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.NormalizedLandmark.prototype.clearX=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.NormalizedLandmark.prototype.hasX=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.NormalizedLandmark.prototype.getY=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.NormalizedLandmark.prototype.setY=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.NormalizedLandmark.prototype.clearY=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.NormalizedLandmark.prototype.hasY=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.NormalizedLandmark.prototype.getZ=function(){return e.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.NormalizedLandmark.prototype.setZ=function(o){return e.Message.setField(this,3,o)},proto.mediapipe.NormalizedLandmark.prototype.clearZ=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.NormalizedLandmark.prototype.hasZ=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.NormalizedLandmark.prototype.getVisibility=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.NormalizedLandmark.prototype.setVisibility=function(o){return e.Message.setField(this,4,o)},proto.mediapipe.NormalizedLandmark.prototype.clearVisibility=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.NormalizedLandmark.prototype.hasVisibility=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.NormalizedLandmark.prototype.getPresence=function(){return e.Message.getFloatingPointFieldWithDefault(this,5,0)},proto.mediapipe.NormalizedLandmark.prototype.setPresence=function(o){return e.Message.setField(this,5,o)},proto.mediapipe.NormalizedLandmark.prototype.clearPresence=function(){return e.Message.setField(this,5,void 0)},proto.mediapipe.NormalizedLandmark.prototype.hasPresence=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.NormalizedLandmarkList.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.NormalizedLandmarkList.prototype.toObject=function(o){return proto.mediapipe.NormalizedLandmarkList.toObject(o,this)},proto.mediapipe.NormalizedLandmarkList.toObject=function(o,s){var c={landmarkList:e.Message.toObjectList(s.getLandmarkList(),proto.mediapipe.NormalizedLandmark.toObject,o)};return o&&(c.$jspbMessageInstance=s),c}),proto.mediapipe.NormalizedLandmarkList.deserializeBinary=function(o){var s=new e.BinaryReader(o),c=new proto.mediapipe.NormalizedLandmarkList;return proto.mediapipe.NormalizedLandmarkList.deserializeBinaryFromReader(c,s)},proto.mediapipe.NormalizedLandmarkList.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)if(s.getFieldNumber()===1){var c=new proto.mediapipe.NormalizedLandmark;s.readMessage(c,proto.mediapipe.NormalizedLandmark.deserializeBinaryFromReader),o.addLandmark(c)}else s.skipField();return o},proto.mediapipe.NormalizedLandmarkList.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.NormalizedLandmarkList.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.NormalizedLandmarkList.serializeBinaryToWriter=function(o,s){var c;(c=o.getLandmarkList()).length>0&&s.writeRepeatedMessage(1,c,proto.mediapipe.NormalizedLandmark.serializeBinaryToWriter)},proto.mediapipe.NormalizedLandmarkList.prototype.getLandmarkList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.NormalizedLandmark,1)},proto.mediapipe.NormalizedLandmarkList.prototype.setLandmarkList=function(o){return e.Message.setRepeatedWrapperField(this,1,o)},proto.mediapipe.NormalizedLandmarkList.prototype.addLandmark=function(o,s){return e.Message.addToRepeatedWrapperField(this,1,o,proto.mediapipe.NormalizedLandmark,s)},proto.mediapipe.NormalizedLandmarkList.prototype.clearLandmarkList=function(){return this.setLandmarkList([])},proto.mediapipe.NormalizedLandmarkListCollection.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.NormalizedLandmarkListCollection.prototype.toObject=function(o){return proto.mediapipe.NormalizedLandmarkListCollection.toObject(o,this)},proto.mediapipe.NormalizedLandmarkListCollection.toObject=function(o,s){var c={landmarkListList:e.Message.toObjectList(s.getLandmarkListList(),proto.mediapipe.NormalizedLandmarkList.toObject,o)};return o&&(c.$jspbMessageInstance=s),c}),proto.mediapipe.NormalizedLandmarkListCollection.deserializeBinary=function(o){var s=new e.BinaryReader(o),c=new proto.mediapipe.NormalizedLandmarkListCollection;return proto.mediapipe.NormalizedLandmarkListCollection.deserializeBinaryFromReader(c,s)},proto.mediapipe.NormalizedLandmarkListCollection.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)if(s.getFieldNumber()===1){var c=new proto.mediapipe.NormalizedLandmarkList;s.readMessage(c,proto.mediapipe.NormalizedLandmarkList.deserializeBinaryFromReader),o.addLandmarkList(c)}else s.skipField();return o},proto.mediapipe.NormalizedLandmarkListCollection.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.NormalizedLandmarkListCollection.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.NormalizedLandmarkListCollection.serializeBinaryToWriter=function(o,s){var c;(c=o.getLandmarkListList()).length>0&&s.writeRepeatedMessage(1,c,proto.mediapipe.NormalizedLandmarkList.serializeBinaryToWriter)},proto.mediapipe.NormalizedLandmarkListCollection.prototype.getLandmarkListList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.NormalizedLandmarkList,1)},proto.mediapipe.NormalizedLandmarkListCollection.prototype.setLandmarkListList=function(o){return e.Message.setRepeatedWrapperField(this,1,o)},proto.mediapipe.NormalizedLandmarkListCollection.prototype.addLandmarkList=function(o,s){return e.Message.addToRepeatedWrapperField(this,1,o,proto.mediapipe.NormalizedLandmarkList,s)},proto.mediapipe.NormalizedLandmarkListCollection.prototype.clearLandmarkListList=function(){return this.setLandmarkListList([])},r.object.extend(t,proto.mediapipe)})(landmark_pb);var face_geometry_pb={},matrix_data_pb={};(function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.MatrixData",null,n),r.exportSymbol("proto.mediapipe.MatrixData.Layout",null,n),proto.mediapipe.MatrixData=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.MatrixData.repeatedFields_,null)},r.inherits(proto.mediapipe.MatrixData,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.MatrixData.displayName="proto.mediapipe.MatrixData"),proto.mediapipe.MatrixData.repeatedFields_=[3],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.MatrixData.prototype.toObject=function(o){return proto.mediapipe.MatrixData.toObject(o,this)},proto.mediapipe.MatrixData.toObject=function(o,s){var c,d={rows:(c=e.Message.getField(s,1))==null?void 0:c,cols:(c=e.Message.getField(s,2))==null?void 0:c,packedDataList:(c=e.Message.getRepeatedFloatingPointField(s,3))==null?void 0:c,layout:e.Message.getFieldWithDefault(s,4,0)};return o&&(d.$jspbMessageInstance=s),d}),proto.mediapipe.MatrixData.deserializeBinary=function(o){var s=new e.BinaryReader(o),c=new proto.mediapipe.MatrixData;return proto.mediapipe.MatrixData.deserializeBinaryFromReader(c,s)},proto.mediapipe.MatrixData.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var c=s.readInt32();o.setRows(c);break;case 2:c=s.readInt32(),o.setCols(c);break;case 3:for(var d=s.isDelimited()?s.readPackedFloat():[s.readFloat()],u=0;u<d.length;u++)o.addPackedData(d[u]);break;case 4:c=s.readEnum(),o.setLayout(c);break;default:s.skipField()}return o},proto.mediapipe.MatrixData.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.MatrixData.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.MatrixData.serializeBinaryToWriter=function(o,s){var c=void 0;(c=e.Message.getField(o,1))!=null&&s.writeInt32(1,c),(c=e.Message.getField(o,2))!=null&&s.writeInt32(2,c),(c=o.getPackedDataList()).length>0&&s.writePackedFloat(3,c),(c=e.Message.getField(o,4))!=null&&s.writeEnum(4,c)},proto.mediapipe.MatrixData.Layout={COLUMN_MAJOR:0,ROW_MAJOR:1},proto.mediapipe.MatrixData.prototype.getRows=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.MatrixData.prototype.setRows=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.MatrixData.prototype.clearRows=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.MatrixData.prototype.hasRows=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.MatrixData.prototype.getCols=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.MatrixData.prototype.setCols=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.MatrixData.prototype.clearCols=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.MatrixData.prototype.hasCols=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.MatrixData.prototype.getPackedDataList=function(){return e.Message.getRepeatedFloatingPointField(this,3)},proto.mediapipe.MatrixData.prototype.setPackedDataList=function(o){return e.Message.setField(this,3,o||[])},proto.mediapipe.MatrixData.prototype.addPackedData=function(o,s){return e.Message.addToRepeatedField(this,3,o,s)},proto.mediapipe.MatrixData.prototype.clearPackedDataList=function(){return this.setPackedDataList([])},proto.mediapipe.MatrixData.prototype.getLayout=function(){return e.Message.getFieldWithDefault(this,4,0)},proto.mediapipe.MatrixData.prototype.setLayout=function(o){return e.Message.setField(this,4,o)},proto.mediapipe.MatrixData.prototype.clearLayout=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.MatrixData.prototype.hasLayout=function(){return e.Message.getField(this,4)!=null},r.object.extend(t,proto.mediapipe)})(matrix_data_pb);var mesh_3d_pb={};(function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d",null,n),r.exportSymbol("proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.PrimitiveType",null,n),r.exportSymbol("proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.VertexType",null,n),proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.repeatedFields_,null)},r.inherits(proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.displayName="proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d"),proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.repeatedFields_=[3,4],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.toObject=function(o){return proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.toObject(o,this)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.toObject=function(o,s){var c,d={vertexType:(c=e.Message.getField(s,1))==null?void 0:c,primitiveType:(c=e.Message.getField(s,2))==null?void 0:c,vertexBufferList:(c=e.Message.getRepeatedFloatingPointField(s,3))==null?void 0:c,indexBufferList:(c=e.Message.getRepeatedField(s,4))==null?void 0:c};return o&&(d.$jspbMessageInstance=s),d}),proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.deserializeBinary=function(o){var s=new e.BinaryReader(o),c=new proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d;return proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.deserializeBinaryFromReader(c,s)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var c=s.readEnum();o.setVertexType(c);break;case 2:c=s.readEnum(),o.setPrimitiveType(c);break;case 3:for(var d=s.isDelimited()?s.readPackedFloat():[s.readFloat()],u=0;u<d.length;u++)o.addVertexBuffer(d[u]);break;case 4:for(d=s.isDelimited()?s.readPackedUint32():[s.readUint32()],u=0;u<d.length;u++)o.addIndexBuffer(d[u]);break;default:s.skipField()}return o},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.serializeBinaryToWriter=function(o,s){var c=void 0;(c=e.Message.getField(o,1))!=null&&s.writeEnum(1,c),(c=e.Message.getField(o,2))!=null&&s.writeEnum(2,c),(c=o.getVertexBufferList()).length>0&&s.writeRepeatedFloat(3,c),(c=o.getIndexBufferList()).length>0&&s.writeRepeatedUint32(4,c)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.VertexType={VERTEX_PT:0},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.PrimitiveType={TRIANGLE:0},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.getVertexType=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.setVertexType=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.clearVertexType=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.hasVertexType=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.getPrimitiveType=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.setPrimitiveType=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.clearPrimitiveType=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.hasPrimitiveType=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.getVertexBufferList=function(){return e.Message.getRepeatedFloatingPointField(this,3)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.setVertexBufferList=function(o){return e.Message.setField(this,3,o||[])},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.addVertexBuffer=function(o,s){return e.Message.addToRepeatedField(this,3,o,s)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.clearVertexBufferList=function(){return this.setVertexBufferList([])},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.getIndexBufferList=function(){return e.Message.getRepeatedField(this,4)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.setIndexBufferList=function(o){return e.Message.setField(this,4,o||[])},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.addIndexBuffer=function(o,s){return e.Message.addToRepeatedField(this,4,o,s)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.clearIndexBufferList=function(){return this.setIndexBufferList([])},r.object.extend(t,proto.mediapipe.tasks.vision.face_geometry.proto)})(mesh_3d_pb),function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=matrix_data_pb;r.object.extend(proto,o);var s=mesh_3d_pb;r.object.extend(proto,s),r.exportSymbol("proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry",null,n),proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry=function(c){e.Message.initialize(this,c,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.displayName="proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.toObject=function(c){return proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.toObject(c,this)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.toObject=function(c,d){var u,m={mesh:(u=d.getMesh())&&s.Mesh3d.toObject(c,u),poseTransformMatrix:(u=d.getPoseTransformMatrix())&&o.MatrixData.toObject(c,u)};return c&&(m.$jspbMessageInstance=d),m}),proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.deserializeBinary=function(c){var d=new e.BinaryReader(c),u=new proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry;return proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.deserializeBinaryFromReader(u,d)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.deserializeBinaryFromReader=function(c,d){for(;d.nextField()&&!d.isEndGroup();)switch(d.getFieldNumber()){case 1:var u=new s.Mesh3d;d.readMessage(u,s.Mesh3d.deserializeBinaryFromReader),c.setMesh(u);break;case 2:u=new o.MatrixData,d.readMessage(u,o.MatrixData.deserializeBinaryFromReader),c.setPoseTransformMatrix(u);break;default:d.skipField()}return c},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.serializeBinary=function(){var c=new e.BinaryWriter;return proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.serializeBinaryToWriter(this,c),c.getResultBuffer()},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.serializeBinaryToWriter=function(c,d){var u=void 0;(u=c.getMesh())!=null&&d.writeMessage(1,u,s.Mesh3d.serializeBinaryToWriter),(u=c.getPoseTransformMatrix())!=null&&d.writeMessage(2,u,o.MatrixData.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.getMesh=function(){return e.Message.getWrapperField(this,s.Mesh3d,1)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.setMesh=function(c){return e.Message.setWrapperField(this,1,c)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.clearMesh=function(){return this.setMesh(void 0)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.hasMesh=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.getPoseTransformMatrix=function(){return e.Message.getWrapperField(this,o.MatrixData,2)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.setPoseTransformMatrix=function(c){return e.Message.setWrapperField(this,2,c)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.clearPoseTransformMatrix=function(){return this.setPoseTransformMatrix(void 0)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.hasPoseTransformMatrix=function(){return e.Message.getField(this,2)!=null},r.object.extend(t,proto.mediapipe.tasks.vision.face_geometry.proto)}(face_geometry_pb);var face_landmarker_graph_options_pb={},face_geometry_graph_options_pb={},geometry_pipeline_calculator_pb={};(function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_options_pb;r.object.extend(proto,o);var s=external_file_pb;r.object.extend(proto,s),r.exportSymbol("proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions",null,n),proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions=function(c){e.Message.initialize(this,c,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.displayName="proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.prototype.toObject=function(c){return proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.toObject(c,this)},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.toObject=function(c,d){var u,m={metadataFile:(u=d.getMetadataFile())&&s.ExternalFile.toObject(c,u)};return c&&(m.$jspbMessageInstance=d),m}),proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.deserializeBinary=function(c){var d=new e.BinaryReader(c),u=new proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions;return proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.deserializeBinaryFromReader(u,d)},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.deserializeBinaryFromReader=function(c,d){for(;d.nextField()&&!d.isEndGroup();)if(d.getFieldNumber()===1){var u=new s.ExternalFile;d.readMessage(u,s.ExternalFile.deserializeBinaryFromReader),c.setMetadataFile(u)}else d.skipField();return c},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.prototype.serializeBinary=function(){var c=new e.BinaryWriter;return proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.serializeBinaryToWriter(this,c),c.getResultBuffer()},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.serializeBinaryToWriter=function(c,d){var u;(u=c.getMetadataFile())!=null&&d.writeMessage(1,u,s.ExternalFile.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.ext=new e.ExtensionFieldInfo(512499200,{ext:0},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.toObject,0),o.CalculatorOptions.extensionsBinary[512499200]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[512499200]=proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.ext,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.prototype.getMetadataFile=function(){return e.Message.getWrapperField(this,s.ExternalFile,1)},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.prototype.setMetadataFile=function(c){return e.Message.setWrapperField(this,1,c)},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.prototype.clearMetadataFile=function(){return this.setMetadataFile(void 0)},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.prototype.hasMetadataFile=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.ext=new e.ExtensionFieldInfo(512499200,{ext:0},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.toObject,0),o.CalculatorOptions.extensionsBinary[512499200]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[512499200]=proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.face_geometry)})(geometry_pipeline_calculator_pb),function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_options_pb;r.object.extend(proto,o);var s=geometry_pipeline_calculator_pb;r.object.extend(proto,s),r.exportSymbol("proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions",null,n),proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions=function(c){e.Message.initialize(this,c,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.displayName="proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.prototype.toObject=function(c){return proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.toObject(c,this)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.toObject=function(c,d){var u,m={geometryPipelineOptions:(u=d.getGeometryPipelineOptions())&&s.FaceGeometryPipelineCalculatorOptions.toObject(c,u)};return c&&(m.$jspbMessageInstance=d),m}),proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.deserializeBinary=function(c){var d=new e.BinaryReader(c),u=new proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions;return proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.deserializeBinaryFromReader(u,d)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.deserializeBinaryFromReader=function(c,d){for(;d.nextField()&&!d.isEndGroup();)if(d.getFieldNumber()===1){var u=new s.FaceGeometryPipelineCalculatorOptions;d.readMessage(u,s.FaceGeometryPipelineCalculatorOptions.deserializeBinaryFromReader),c.setGeometryPipelineOptions(u)}else d.skipField();return c},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.prototype.serializeBinary=function(){var c=new e.BinaryWriter;return proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.serializeBinaryToWriter(this,c),c.getResultBuffer()},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.serializeBinaryToWriter=function(c,d){var u;(u=c.getGeometryPipelineOptions())!=null&&d.writeMessage(1,u,s.FaceGeometryPipelineCalculatorOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.ext=new e.ExtensionFieldInfo(515723506,{ext:0},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[515723506]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[515723506]=proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.ext,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.prototype.getGeometryPipelineOptions=function(){return e.Message.getWrapperField(this,s.FaceGeometryPipelineCalculatorOptions,1)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.prototype.setGeometryPipelineOptions=function(c){return e.Message.setWrapperField(this,1,c)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.prototype.clearGeometryPipelineOptions=function(){return this.setGeometryPipelineOptions(void 0)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.prototype.hasGeometryPipelineOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.ext=new e.ExtensionFieldInfo(515723506,{ext:0},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[515723506]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[515723506]=proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.face_geometry.proto)}(face_geometry_graph_options_pb);var face_landmarks_detector_graph_options_pb={},face_blendshapes_graph_options_pb={};(function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;r.object.extend(proto,o);var s=calculator_options_pb;r.object.extend(proto,s);var c=base_options_pb;r.object.extend(proto,c),r.exportSymbol("proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions",null,n),proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions=function(d){e.Message.initialize(this,d,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.displayName="proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.prototype.toObject=function(d){return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.toObject(d,this)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.toObject=function(d,u){var m,_={baseOptions:(m=u.getBaseOptions())&&c.BaseOptions.toObject(d,m)};return d&&(_.$jspbMessageInstance=u),_}),proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.deserializeBinary=function(d){var u=new e.BinaryReader(d),m=new proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions;return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.deserializeBinaryFromReader(m,u)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.deserializeBinaryFromReader=function(d,u){for(;u.nextField()&&!u.isEndGroup();)if(u.getFieldNumber()===1){var m=new c.BaseOptions;u.readMessage(m,c.BaseOptions.deserializeBinaryFromReader),d.setBaseOptions(m)}else u.skipField();return d},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.prototype.serializeBinary=function(){var d=new e.BinaryWriter;return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.serializeBinaryToWriter(this,d),d.getResultBuffer()},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.serializeBinaryToWriter=function(d,u){var m;(m=d.getBaseOptions())!=null&&u.writeMessage(1,m,c.BaseOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.ext=new e.ExtensionFieldInfo(508981768,{ext:0},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[508981768]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[508981768]=proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.ext,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,c.BaseOptions,1)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.prototype.setBaseOptions=function(d){return e.Message.setWrapperField(this,1,d)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.ext=new e.ExtensionFieldInfo(508981768,{ext:0},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[508981768]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[508981768]=proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.face_landmarker.proto)})(face_blendshapes_graph_options_pb),function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;r.object.extend(proto,o);var s=calculator_options_pb;r.object.extend(proto,s);var c=base_options_pb;r.object.extend(proto,c);var d=face_blendshapes_graph_options_pb;r.object.extend(proto,d),r.exportSymbol("proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions",null,n),proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions=function(u){e.Message.initialize(this,u,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.displayName="proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.toObject=function(u){return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.toObject(u,this)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.toObject=function(u,m){var _,g={baseOptions:(_=m.getBaseOptions())&&c.BaseOptions.toObject(u,_),minDetectionConfidence:e.Message.getFloatingPointFieldWithDefault(m,2,.5),smoothLandmarks:(_=e.Message.getBooleanField(m,4))==null?void 0:_,faceBlendshapesGraphOptions:(_=m.getFaceBlendshapesGraphOptions())&&d.FaceBlendshapesGraphOptions.toObject(u,_)};return u&&(g.$jspbMessageInstance=m),g}),proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.deserializeBinary=function(u){var m=new e.BinaryReader(u),_=new proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions;return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.deserializeBinaryFromReader(_,m)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.deserializeBinaryFromReader=function(u,m){for(;m.nextField()&&!m.isEndGroup();)switch(m.getFieldNumber()){case 1:var _=new c.BaseOptions;m.readMessage(_,c.BaseOptions.deserializeBinaryFromReader),u.setBaseOptions(_);break;case 2:_=m.readFloat(),u.setMinDetectionConfidence(_);break;case 4:_=m.readBool(),u.setSmoothLandmarks(_);break;case 3:_=new d.FaceBlendshapesGraphOptions,m.readMessage(_,d.FaceBlendshapesGraphOptions.deserializeBinaryFromReader),u.setFaceBlendshapesGraphOptions(_);break;default:m.skipField()}return u},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.serializeBinary=function(){var u=new e.BinaryWriter;return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.serializeBinaryToWriter(this,u),u.getResultBuffer()},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.serializeBinaryToWriter=function(u,m){var _=void 0;(_=u.getBaseOptions())!=null&&m.writeMessage(1,_,c.BaseOptions.serializeBinaryToWriter),(_=e.Message.getField(u,2))!=null&&m.writeFloat(2,_),(_=e.Message.getField(u,4))!=null&&m.writeBool(4,_),(_=u.getFaceBlendshapesGraphOptions())!=null&&m.writeMessage(3,_,d.FaceBlendshapesGraphOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.ext=new e.ExtensionFieldInfo(508968149,{ext:0},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[508968149]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[508968149]=proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.ext,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,c.BaseOptions,1)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.setBaseOptions=function(u){return e.Message.setWrapperField(this,1,u)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.getMinDetectionConfidence=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,.5)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.setMinDetectionConfidence=function(u){return e.Message.setField(this,2,u)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.clearMinDetectionConfidence=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.hasMinDetectionConfidence=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.getSmoothLandmarks=function(){return e.Message.getBooleanFieldWithDefault(this,4,!1)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.setSmoothLandmarks=function(u){return e.Message.setField(this,4,u)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.clearSmoothLandmarks=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.hasSmoothLandmarks=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.getFaceBlendshapesGraphOptions=function(){return e.Message.getWrapperField(this,d.FaceBlendshapesGraphOptions,3)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.setFaceBlendshapesGraphOptions=function(u){return e.Message.setWrapperField(this,3,u)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.clearFaceBlendshapesGraphOptions=function(){return this.setFaceBlendshapesGraphOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.hasFaceBlendshapesGraphOptions=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.ext=new e.ExtensionFieldInfo(508968149,{ext:0},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[508968149]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[508968149]=proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.face_landmarker.proto)}(face_landmarks_detector_graph_options_pb),function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;r.object.extend(proto,o);var s=calculator_options_pb;r.object.extend(proto,s);var c=base_options_pb;r.object.extend(proto,c);var d=face_detector_graph_options_pb;r.object.extend(proto,d);var u=face_geometry_graph_options_pb;r.object.extend(proto,u);var m=face_landmarks_detector_graph_options_pb;r.object.extend(proto,m),r.exportSymbol("proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions",null,n),proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions=function(_){e.Message.initialize(this,_,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.displayName="proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.toObject=function(_){return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.toObject(_,this)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.toObject=function(_,g){var f,y={baseOptions:(f=g.getBaseOptions())&&c.BaseOptions.toObject(_,f),faceDetectorGraphOptions:(f=g.getFaceDetectorGraphOptions())&&d.FaceDetectorGraphOptions.toObject(_,f),faceLandmarksDetectorGraphOptions:(f=g.getFaceLandmarksDetectorGraphOptions())&&m.FaceLandmarksDetectorGraphOptions.toObject(_,f),minTrackingConfidence:e.Message.getFloatingPointFieldWithDefault(g,4,.5),faceGeometryGraphOptions:(f=g.getFaceGeometryGraphOptions())&&u.FaceGeometryGraphOptions.toObject(_,f)};return _&&(y.$jspbMessageInstance=g),y}),proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.deserializeBinary=function(_){var g=new e.BinaryReader(_),f=new proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions;return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.deserializeBinaryFromReader(f,g)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.deserializeBinaryFromReader=function(_,g){for(;g.nextField()&&!g.isEndGroup();)switch(g.getFieldNumber()){case 1:var f=new c.BaseOptions;g.readMessage(f,c.BaseOptions.deserializeBinaryFromReader),_.setBaseOptions(f);break;case 2:f=new d.FaceDetectorGraphOptions,g.readMessage(f,d.FaceDetectorGraphOptions.deserializeBinaryFromReader),_.setFaceDetectorGraphOptions(f);break;case 3:f=new m.FaceLandmarksDetectorGraphOptions,g.readMessage(f,m.FaceLandmarksDetectorGraphOptions.deserializeBinaryFromReader),_.setFaceLandmarksDetectorGraphOptions(f);break;case 4:f=g.readFloat(),_.setMinTrackingConfidence(f);break;case 5:f=new u.FaceGeometryGraphOptions,g.readMessage(f,u.FaceGeometryGraphOptions.deserializeBinaryFromReader),_.setFaceGeometryGraphOptions(f);break;default:g.skipField()}return _},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.serializeBinary=function(){var _=new e.BinaryWriter;return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.serializeBinaryToWriter(this,_),_.getResultBuffer()},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.serializeBinaryToWriter=function(_,g){var f=void 0;(f=_.getBaseOptions())!=null&&g.writeMessage(1,f,c.BaseOptions.serializeBinaryToWriter),(f=_.getFaceDetectorGraphOptions())!=null&&g.writeMessage(2,f,d.FaceDetectorGraphOptions.serializeBinaryToWriter),(f=_.getFaceLandmarksDetectorGraphOptions())!=null&&g.writeMessage(3,f,m.FaceLandmarksDetectorGraphOptions.serializeBinaryToWriter),(f=e.Message.getField(_,4))!=null&&g.writeFloat(4,f),(f=_.getFaceGeometryGraphOptions())!=null&&g.writeMessage(5,f,u.FaceGeometryGraphOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.ext=new e.ExtensionFieldInfo(508968150,{ext:0},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[508968150]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[508968150]=proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.ext,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,c.BaseOptions,1)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.setBaseOptions=function(_){return e.Message.setWrapperField(this,1,_)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.getFaceDetectorGraphOptions=function(){return e.Message.getWrapperField(this,d.FaceDetectorGraphOptions,2)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.setFaceDetectorGraphOptions=function(_){return e.Message.setWrapperField(this,2,_)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.clearFaceDetectorGraphOptions=function(){return this.setFaceDetectorGraphOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.hasFaceDetectorGraphOptions=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.getFaceLandmarksDetectorGraphOptions=function(){return e.Message.getWrapperField(this,m.FaceLandmarksDetectorGraphOptions,3)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.setFaceLandmarksDetectorGraphOptions=function(_){return e.Message.setWrapperField(this,3,_)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.clearFaceLandmarksDetectorGraphOptions=function(){return this.setFaceLandmarksDetectorGraphOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.hasFaceLandmarksDetectorGraphOptions=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.getMinTrackingConfidence=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,.5)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.setMinTrackingConfidence=function(_){return e.Message.setField(this,4,_)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.clearMinTrackingConfidence=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.hasMinTrackingConfidence=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.getFaceGeometryGraphOptions=function(){return e.Message.getWrapperField(this,u.FaceGeometryGraphOptions,5)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.setFaceGeometryGraphOptions=function(_){return e.Message.setWrapperField(this,5,_)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.clearFaceGeometryGraphOptions=function(){return this.setFaceGeometryGraphOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.hasFaceGeometryGraphOptions=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.ext=new e.ExtensionFieldInfo(508968150,{ext:0},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[508968150]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[508968150]=proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.face_landmarker.proto)}(face_landmarker_graph_options_pb);var classifier_result={};Object.defineProperty(classifier_result,"__esModule",{value:!0}),classifier_result.convertFromClassificationResultProto=classifier_result.convertFromClassifications=void 0;const DEFAULT_INDEX$1=-1,DEFAULT_SCORE=0;function convertFromClassifications(t,e=DEFAULT_INDEX$1,r=""){return{categories:t.map(n=>{var o,s,c,d;return{index:(o=n.getIndex())!==null&&o!==void 0?o:DEFAULT_INDEX$1,score:(s=n.getScore())!==null&&s!==void 0?s:DEFAULT_SCORE,categoryName:(c=n.getLabel())!==null&&c!==void 0?c:"",displayName:(d=n.getDisplayName())!==null&&d!==void 0?d:""}}),headIndex:e,headName:r}}function convertFromClassificationsProto(t){var e,r;return convertFromClassifications((r=(e=t.getClassificationList())===null||e===void 0?void 0:e.getClassificationList())!==null&&r!==void 0?r:[],t.getHeadIndex(),t.getHeadName())}function convertFromClassificationResultProto(t){const e={classifications:t.getClassificationsList().map(r=>convertFromClassificationsProto(r))};return t.hasTimestampMs()&&(e.timestampMs=t.getTimestampMs()),e}classifier_result.convertFromClassifications=convertFromClassifications,classifier_result.convertFromClassificationResultProto=convertFromClassificationResultProto;var landmark_result={};function convertToLandmarks(t){var e,r,n;const o=[];for(const s of t.getLandmarkList())o.push({x:(e=s.getX())!==null&&e!==void 0?e:0,y:(r=s.getY())!==null&&r!==void 0?r:0,z:(n=s.getZ())!==null&&n!==void 0?n:0});return o}function convertToWorldLandmarks(t){var e,r,n;const o=[];for(const s of t.getLandmarkList())o.push({x:(e=s.getX())!==null&&e!==void 0?e:0,y:(r=s.getY())!==null&&r!==void 0?r:0,z:(n=s.getZ())!==null&&n!==void 0?n:0});return o}Object.defineProperty(landmark_result,"__esModule",{value:!0}),landmark_result.convertToWorldLandmarks=landmark_result.convertToLandmarks=void 0,landmark_result.convertToLandmarks=convertToLandmarks,landmark_result.convertToWorldLandmarks=convertToWorldLandmarks;var face_landmarks_connections={},exports$1;exports$1=face_landmarks_connections,Object.defineProperty(exports$1,"__esModule",{value:!0}),exports$1.FACE_LANDMARKS_TESSELATION=exports$1.FACE_LANDMARKS_CONTOURS=exports$1.FACE_LANDMARKS_FACE_OVAL=exports$1.FACE_LANDMARKS_RIGHT_IRIS=exports$1.FACE_LANDMARKS_RIGHT_EYEBROW=exports$1.FACE_LANDMARKS_RIGHT_EYE=exports$1.FACE_LANDMARKS_LEFT_IRIS=exports$1.FACE_LANDMARKS_LEFT_EYEBROW=exports$1.FACE_LANDMARKS_LEFT_EYE=exports$1.FACE_LANDMARKS_LIPS=void 0,exports$1.FACE_LANDMARKS_LIPS=[{start:61,end:146},{start:146,end:91},{start:91,end:181},{start:181,end:84},{start:84,end:17},{start:17,end:314},{start:314,end:405},{start:405,end:321},{start:321,end:375},{start:375,end:291},{start:61,end:185},{start:185,end:40},{start:40,end:39},{start:39,end:37},{start:37,end:0},{start:0,end:267},{start:267,end:269},{start:269,end:270},{start:270,end:409},{start:409,end:291},{start:78,end:95},{start:95,end:88},{start:88,end:178},{start:178,end:87},{start:87,end:14},{start:14,end:317},{start:317,end:402},{start:402,end:318},{start:318,end:324},{start:324,end:308},{start:78,end:191},{start:191,end:80},{start:80,end:81},{start:81,end:82},{start:82,end:13},{start:13,end:312},{start:312,end:311},{start:311,end:310},{start:310,end:415},{start:415,end:308}],exports$1.FACE_LANDMARKS_LEFT_EYE=[{start:263,end:249},{start:249,end:390},{start:390,end:373},{start:373,end:374},{start:374,end:380},{start:380,end:381},{start:381,end:382},{start:382,end:362},{start:263,end:466},{start:466,end:388},{start:388,end:387},{start:387,end:386},{start:386,end:385},{start:385,end:384},{start:384,end:398},{start:398,end:362}],exports$1.FACE_LANDMARKS_LEFT_EYEBROW=[{start:276,end:283},{start:283,end:282},{start:282,end:295},{start:295,end:285},{start:300,end:293},{start:293,end:334},{start:334,end:296},{start:296,end:336}],exports$1.FACE_LANDMARKS_LEFT_IRIS=[{start:474,end:475},{start:475,end:476},{start:476,end:477},{start:477,end:474}],exports$1.FACE_LANDMARKS_RIGHT_EYE=[{start:33,end:7},{start:7,end:163},{start:163,end:144},{start:144,end:145},{start:145,end:153},{start:153,end:154},{start:154,end:155},{start:155,end:133},{start:33,end:246},{start:246,end:161},{start:161,end:160},{start:160,end:159},{start:159,end:158},{start:158,end:157},{start:157,end:173},{start:173,end:133}],exports$1.FACE_LANDMARKS_RIGHT_EYEBROW=[{start:46,end:53},{start:53,end:52},{start:52,end:65},{start:65,end:55},{start:70,end:63},{start:63,end:105},{start:105,end:66},{start:66,end:107}],exports$1.FACE_LANDMARKS_RIGHT_IRIS=[{start:469,end:470},{start:470,end:471},{start:471,end:472},{start:472,end:469}],exports$1.FACE_LANDMARKS_FACE_OVAL=[{start:10,end:338},{start:338,end:297},{start:297,end:332},{start:332,end:284},{start:284,end:251},{start:251,end:389},{start:389,end:356},{start:356,end:454},{start:454,end:323},{start:323,end:361},{start:361,end:288},{start:288,end:397},{start:397,end:365},{start:365,end:379},{start:379,end:378},{start:378,end:400},{start:400,end:377},{start:377,end:152},{start:152,end:148},{start:148,end:176},{start:176,end:149},{start:149,end:150},{start:150,end:136},{start:136,end:172},{start:172,end:58},{start:58,end:132},{start:132,end:93},{start:93,end:234},{start:234,end:127},{start:127,end:162},{start:162,end:21},{start:21,end:54},{start:54,end:103},{start:103,end:67},{start:67,end:109},{start:109,end:10}],exports$1.FACE_LANDMARKS_CONTOURS=[...exports$1.FACE_LANDMARKS_LIPS,...exports$1.FACE_LANDMARKS_LEFT_EYE,...exports$1.FACE_LANDMARKS_LEFT_EYEBROW,...exports$1.FACE_LANDMARKS_RIGHT_EYE,...exports$1.FACE_LANDMARKS_RIGHT_EYEBROW,...exports$1.FACE_LANDMARKS_FACE_OVAL],exports$1.FACE_LANDMARKS_TESSELATION=[{start:127,end:34},{start:34,end:139},{start:139,end:127},{start:11,end:0},{start:0,end:37},{start:37,end:11},{start:232,end:231},{start:231,end:120},{start:120,end:232},{start:72,end:37},{start:37,end:39},{start:39,end:72},{start:128,end:121},{start:121,end:47},{start:47,end:128},{start:232,end:121},{start:121,end:128},{start:128,end:232},{start:104,end:69},{start:69,end:67},{start:67,end:104},{start:175,end:171},{start:171,end:148},{start:148,end:175},{start:118,end:50},{start:50,end:101},{start:101,end:118},{start:73,end:39},{start:39,end:40},{start:40,end:73},{start:9,end:151},{start:151,end:108},{start:108,end:9},{start:48,end:115},{start:115,end:131},{start:131,end:48},{start:194,end:204},{start:204,end:211},{start:211,end:194},{start:74,end:40},{start:40,end:185},{start:185,end:74},{start:80,end:42},{start:42,end:183},{start:183,end:80},{start:40,end:92},{start:92,end:186},{start:186,end:40},{start:230,end:229},{start:229,end:118},{start:118,end:230},{start:202,end:212},{start:212,end:214},{start:214,end:202},{start:83,end:18},{start:18,end:17},{start:17,end:83},{start:76,end:61},{start:61,end:146},{start:146,end:76},{start:160,end:29},{start:29,end:30},{start:30,end:160},{start:56,end:157},{start:157,end:173},{start:173,end:56},{start:106,end:204},{start:204,end:194},{start:194,end:106},{start:135,end:214},{start:214,end:192},{start:192,end:135},{start:203,end:165},{start:165,end:98},{start:98,end:203},{start:21,end:71},{start:71,end:68},{start:68,end:21},{start:51,end:45},{start:45,end:4},{start:4,end:51},{start:144,end:24},{start:24,end:23},{start:23,end:144},{start:77,end:146},{start:146,end:91},{start:91,end:77},{start:205,end:50},{start:50,end:187},{start:187,end:205},{start:201,end:200},{start:200,end:18},{start:18,end:201},{start:91,end:106},{start:106,end:182},{start:182,end:91},{start:90,end:91},{start:91,end:181},{start:181,end:90},{start:85,end:84},{start:84,end:17},{start:17,end:85},{start:206,end:203},{start:203,end:36},{start:36,end:206},{start:148,end:171},{start:171,end:140},{start:140,end:148},{start:92,end:40},{start:40,end:39},{start:39,end:92},{start:193,end:189},{start:189,end:244},{start:244,end:193},{start:159,end:158},{start:158,end:28},{start:28,end:159},{start:247,end:246},{start:246,end:161},{start:161,end:247},{start:236,end:3},{start:3,end:196},{start:196,end:236},{start:54,end:68},{start:68,end:104},{start:104,end:54},{start:193,end:168},{start:168,end:8},{start:8,end:193},{start:117,end:228},{start:228,end:31},{start:31,end:117},{start:189,end:193},{start:193,end:55},{start:55,end:189},{start:98,end:97},{start:97,end:99},{start:99,end:98},{start:126,end:47},{start:47,end:100},{start:100,end:126},{start:166,end:79},{start:79,end:218},{start:218,end:166},{start:155,end:154},{start:154,end:26},{start:26,end:155},{start:209,end:49},{start:49,end:131},{start:131,end:209},{start:135,end:136},{start:136,end:150},{start:150,end:135},{start:47,end:126},{start:126,end:217},{start:217,end:47},{start:223,end:52},{start:52,end:53},{start:53,end:223},{start:45,end:51},{start:51,end:134},{start:134,end:45},{start:211,end:170},{start:170,end:140},{start:140,end:211},{start:67,end:69},{start:69,end:108},{start:108,end:67},{start:43,end:106},{start:106,end:91},{start:91,end:43},{start:230,end:119},{start:119,end:120},{start:120,end:230},{start:226,end:130},{start:130,end:247},{start:247,end:226},{start:63,end:53},{start:53,end:52},{start:52,end:63},{start:238,end:20},{start:20,end:242},{start:242,end:238},{start:46,end:70},{start:70,end:156},{start:156,end:46},{start:78,end:62},{start:62,end:96},{start:96,end:78},{start:46,end:53},{start:53,end:63},{start:63,end:46},{start:143,end:34},{start:34,end:227},{start:227,end:143},{start:123,end:117},{start:117,end:111},{start:111,end:123},{start:44,end:125},{start:125,end:19},{start:19,end:44},{start:236,end:134},{start:134,end:51},{start:51,end:236},{start:216,end:206},{start:206,end:205},{start:205,end:216},{start:154,end:153},{start:153,end:22},{start:22,end:154},{start:39,end:37},{start:37,end:167},{start:167,end:39},{start:200,end:201},{start:201,end:208},{start:208,end:200},{start:36,end:142},{start:142,end:100},{start:100,end:36},{start:57,end:212},{start:212,end:202},{start:202,end:57},{start:20,end:60},{start:60,end:99},{start:99,end:20},{start:28,end:158},{start:158,end:157},{start:157,end:28},{start:35,end:226},{start:226,end:113},{start:113,end:35},{start:160,end:159},{start:159,end:27},{start:27,end:160},{start:204,end:202},{start:202,end:210},{start:210,end:204},{start:113,end:225},{start:225,end:46},{start:46,end:113},{start:43,end:202},{start:202,end:204},{start:204,end:43},{start:62,end:76},{start:76,end:77},{start:77,end:62},{start:137,end:123},{start:123,end:116},{start:116,end:137},{start:41,end:38},{start:38,end:72},{start:72,end:41},{start:203,end:129},{start:129,end:142},{start:142,end:203},{start:64,end:98},{start:98,end:240},{start:240,end:64},{start:49,end:102},{start:102,end:64},{start:64,end:49},{start:41,end:73},{start:73,end:74},{start:74,end:41},{start:212,end:216},{start:216,end:207},{start:207,end:212},{start:42,end:74},{start:74,end:184},{start:184,end:42},{start:169,end:170},{start:170,end:211},{start:211,end:169},{start:170,end:149},{start:149,end:176},{start:176,end:170},{start:105,end:66},{start:66,end:69},{start:69,end:105},{start:122,end:6},{start:6,end:168},{start:168,end:122},{start:123,end:147},{start:147,end:187},{start:187,end:123},{start:96,end:77},{start:77,end:90},{start:90,end:96},{start:65,end:55},{start:55,end:107},{start:107,end:65},{start:89,end:90},{start:90,end:180},{start:180,end:89},{start:101,end:100},{start:100,end:120},{start:120,end:101},{start:63,end:105},{start:105,end:104},{start:104,end:63},{start:93,end:137},{start:137,end:227},{start:227,end:93},{start:15,end:86},{start:86,end:85},{start:85,end:15},{start:129,end:102},{start:102,end:49},{start:49,end:129},{start:14,end:87},{start:87,end:86},{start:86,end:14},{start:55,end:8},{start:8,end:9},{start:9,end:55},{start:100,end:47},{start:47,end:121},{start:121,end:100},{start:145,end:23},{start:23,end:22},{start:22,end:145},{start:88,end:89},{start:89,end:179},{start:179,end:88},{start:6,end:122},{start:122,end:196},{start:196,end:6},{start:88,end:95},{start:95,end:96},{start:96,end:88},{start:138,end:172},{start:172,end:136},{start:136,end:138},{start:215,end:58},{start:58,end:172},{start:172,end:215},{start:115,end:48},{start:48,end:219},{start:219,end:115},{start:42,end:80},{start:80,end:81},{start:81,end:42},{start:195,end:3},{start:3,end:51},{start:51,end:195},{start:43,end:146},{start:146,end:61},{start:61,end:43},{start:171,end:175},{start:175,end:199},{start:199,end:171},{start:81,end:82},{start:82,end:38},{start:38,end:81},{start:53,end:46},{start:46,end:225},{start:225,end:53},{start:144,end:163},{start:163,end:110},{start:110,end:144},{start:52,end:65},{start:65,end:66},{start:66,end:52},{start:229,end:228},{start:228,end:117},{start:117,end:229},{start:34,end:127},{start:127,end:234},{start:234,end:34},{start:107,end:108},{start:108,end:69},{start:69,end:107},{start:109,end:108},{start:108,end:151},{start:151,end:109},{start:48,end:64},{start:64,end:235},{start:235,end:48},{start:62,end:78},{start:78,end:191},{start:191,end:62},{start:129,end:209},{start:209,end:126},{start:126,end:129},{start:111,end:35},{start:35,end:143},{start:143,end:111},{start:117,end:123},{start:123,end:50},{start:50,end:117},{start:222,end:65},{start:65,end:52},{start:52,end:222},{start:19,end:125},{start:125,end:141},{start:141,end:19},{start:221,end:55},{start:55,end:65},{start:65,end:221},{start:3,end:195},{start:195,end:197},{start:197,end:3},{start:25,end:7},{start:7,end:33},{start:33,end:25},{start:220,end:237},{start:237,end:44},{start:44,end:220},{start:70,end:71},{start:71,end:139},{start:139,end:70},{start:122,end:193},{start:193,end:245},{start:245,end:122},{start:247,end:130},{start:130,end:33},{start:33,end:247},{start:71,end:21},{start:21,end:162},{start:162,end:71},{start:170,end:169},{start:169,end:150},{start:150,end:170},{start:188,end:174},{start:174,end:196},{start:196,end:188},{start:216,end:186},{start:186,end:92},{start:92,end:216},{start:2,end:97},{start:97,end:167},{start:167,end:2},{start:141,end:125},{start:125,end:241},{start:241,end:141},{start:164,end:167},{start:167,end:37},{start:37,end:164},{start:72,end:38},{start:38,end:12},{start:12,end:72},{start:38,end:82},{start:82,end:13},{start:13,end:38},{start:63,end:68},{start:68,end:71},{start:71,end:63},{start:226,end:35},{start:35,end:111},{start:111,end:226},{start:101,end:50},{start:50,end:205},{start:205,end:101},{start:206,end:92},{start:92,end:165},{start:165,end:206},{start:209,end:198},{start:198,end:217},{start:217,end:209},{start:165,end:167},{start:167,end:97},{start:97,end:165},{start:220,end:115},{start:115,end:218},{start:218,end:220},{start:133,end:112},{start:112,end:243},{start:243,end:133},{start:239,end:238},{start:238,end:241},{start:241,end:239},{start:214,end:135},{start:135,end:169},{start:169,end:214},{start:190,end:173},{start:173,end:133},{start:133,end:190},{start:171,end:208},{start:208,end:32},{start:32,end:171},{start:125,end:44},{start:44,end:237},{start:237,end:125},{start:86,end:87},{start:87,end:178},{start:178,end:86},{start:85,end:86},{start:86,end:179},{start:179,end:85},{start:84,end:85},{start:85,end:180},{start:180,end:84},{start:83,end:84},{start:84,end:181},{start:181,end:83},{start:201,end:83},{start:83,end:182},{start:182,end:201},{start:137,end:93},{start:93,end:132},{start:132,end:137},{start:76,end:62},{start:62,end:183},{start:183,end:76},{start:61,end:76},{start:76,end:184},{start:184,end:61},{start:57,end:61},{start:61,end:185},{start:185,end:57},{start:212,end:57},{start:57,end:186},{start:186,end:212},{start:214,end:207},{start:207,end:187},{start:187,end:214},{start:34,end:143},{start:143,end:156},{start:156,end:34},{start:79,end:239},{start:239,end:237},{start:237,end:79},{start:123,end:137},{start:137,end:177},{start:177,end:123},{start:44,end:1},{start:1,end:4},{start:4,end:44},{start:201,end:194},{start:194,end:32},{start:32,end:201},{start:64,end:102},{start:102,end:129},{start:129,end:64},{start:213,end:215},{start:215,end:138},{start:138,end:213},{start:59,end:166},{start:166,end:219},{start:219,end:59},{start:242,end:99},{start:99,end:97},{start:97,end:242},{start:2,end:94},{start:94,end:141},{start:141,end:2},{start:75,end:59},{start:59,end:235},{start:235,end:75},{start:24,end:110},{start:110,end:228},{start:228,end:24},{start:25,end:130},{start:130,end:226},{start:226,end:25},{start:23,end:24},{start:24,end:229},{start:229,end:23},{start:22,end:23},{start:23,end:230},{start:230,end:22},{start:26,end:22},{start:22,end:231},{start:231,end:26},{start:112,end:26},{start:26,end:232},{start:232,end:112},{start:189,end:190},{start:190,end:243},{start:243,end:189},{start:221,end:56},{start:56,end:190},{start:190,end:221},{start:28,end:56},{start:56,end:221},{start:221,end:28},{start:27,end:28},{start:28,end:222},{start:222,end:27},{start:29,end:27},{start:27,end:223},{start:223,end:29},{start:30,end:29},{start:29,end:224},{start:224,end:30},{start:247,end:30},{start:30,end:225},{start:225,end:247},{start:238,end:79},{start:79,end:20},{start:20,end:238},{start:166,end:59},{start:59,end:75},{start:75,end:166},{start:60,end:75},{start:75,end:240},{start:240,end:60},{start:147,end:177},{start:177,end:215},{start:215,end:147},{start:20,end:79},{start:79,end:166},{start:166,end:20},{start:187,end:147},{start:147,end:213},{start:213,end:187},{start:112,end:233},{start:233,end:244},{start:244,end:112},{start:233,end:128},{start:128,end:245},{start:245,end:233},{start:128,end:114},{start:114,end:188},{start:188,end:128},{start:114,end:217},{start:217,end:174},{start:174,end:114},{start:131,end:115},{start:115,end:220},{start:220,end:131},{start:217,end:198},{start:198,end:236},{start:236,end:217},{start:198,end:131},{start:131,end:134},{start:134,end:198},{start:177,end:132},{start:132,end:58},{start:58,end:177},{start:143,end:35},{start:35,end:124},{start:124,end:143},{start:110,end:163},{start:163,end:7},{start:7,end:110},{start:228,end:110},{start:110,end:25},{start:25,end:228},{start:356,end:389},{start:389,end:368},{start:368,end:356},{start:11,end:302},{start:302,end:267},{start:267,end:11},{start:452,end:350},{start:350,end:349},{start:349,end:452},{start:302,end:303},{start:303,end:269},{start:269,end:302},{start:357,end:343},{start:343,end:277},{start:277,end:357},{start:452,end:453},{start:453,end:357},{start:357,end:452},{start:333,end:332},{start:332,end:297},{start:297,end:333},{start:175,end:152},{start:152,end:377},{start:377,end:175},{start:347,end:348},{start:348,end:330},{start:330,end:347},{start:303,end:304},{start:304,end:270},{start:270,end:303},{start:9,end:336},{start:336,end:337},{start:337,end:9},{start:278,end:279},{start:279,end:360},{start:360,end:278},{start:418,end:262},{start:262,end:431},{start:431,end:418},{start:304,end:408},{start:408,end:409},{start:409,end:304},{start:310,end:415},{start:415,end:407},{start:407,end:310},{start:270,end:409},{start:409,end:410},{start:410,end:270},{start:450,end:348},{start:348,end:347},{start:347,end:450},{start:422,end:430},{start:430,end:434},{start:434,end:422},{start:313,end:314},{start:314,end:17},{start:17,end:313},{start:306,end:307},{start:307,end:375},{start:375,end:306},{start:387,end:388},{start:388,end:260},{start:260,end:387},{start:286,end:414},{start:414,end:398},{start:398,end:286},{start:335,end:406},{start:406,end:418},{start:418,end:335},{start:364,end:367},{start:367,end:416},{start:416,end:364},{start:423,end:358},{start:358,end:327},{start:327,end:423},{start:251,end:284},{start:284,end:298},{start:298,end:251},{start:281,end:5},{start:5,end:4},{start:4,end:281},{start:373,end:374},{start:374,end:253},{start:253,end:373},{start:307,end:320},{start:320,end:321},{start:321,end:307},{start:425,end:427},{start:427,end:411},{start:411,end:425},{start:421,end:313},{start:313,end:18},{start:18,end:421},{start:321,end:405},{start:405,end:406},{start:406,end:321},{start:320,end:404},{start:404,end:405},{start:405,end:320},{start:315,end:16},{start:16,end:17},{start:17,end:315},{start:426,end:425},{start:425,end:266},{start:266,end:426},{start:377,end:400},{start:400,end:369},{start:369,end:377},{start:322,end:391},{start:391,end:269},{start:269,end:322},{start:417,end:465},{start:465,end:464},{start:464,end:417},{start:386,end:257},{start:257,end:258},{start:258,end:386},{start:466,end:260},{start:260,end:388},{start:388,end:466},{start:456,end:399},{start:399,end:419},{start:419,end:456},{start:284,end:332},{start:332,end:333},{start:333,end:284},{start:417,end:285},{start:285,end:8},{start:8,end:417},{start:346,end:340},{start:340,end:261},{start:261,end:346},{start:413,end:441},{start:441,end:285},{start:285,end:413},{start:327,end:460},{start:460,end:328},{start:328,end:327},{start:355,end:371},{start:371,end:329},{start:329,end:355},{start:392,end:439},{start:439,end:438},{start:438,end:392},{start:382,end:341},{start:341,end:256},{start:256,end:382},{start:429,end:420},{start:420,end:360},{start:360,end:429},{start:364,end:394},{start:394,end:379},{start:379,end:364},{start:277,end:343},{start:343,end:437},{start:437,end:277},{start:443,end:444},{start:444,end:283},{start:283,end:443},{start:275,end:440},{start:440,end:363},{start:363,end:275},{start:431,end:262},{start:262,end:369},{start:369,end:431},{start:297,end:338},{start:338,end:337},{start:337,end:297},{start:273,end:375},{start:375,end:321},{start:321,end:273},{start:450,end:451},{start:451,end:349},{start:349,end:450},{start:446,end:342},{start:342,end:467},{start:467,end:446},{start:293,end:334},{start:334,end:282},{start:282,end:293},{start:458,end:461},{start:461,end:462},{start:462,end:458},{start:276,end:353},{start:353,end:383},{start:383,end:276},{start:308,end:324},{start:324,end:325},{start:325,end:308},{start:276,end:300},{start:300,end:293},{start:293,end:276},{start:372,end:345},{start:345,end:447},{start:447,end:372},{start:352,end:345},{start:345,end:340},{start:340,end:352},{start:274,end:1},{start:1,end:19},{start:19,end:274},{start:456,end:248},{start:248,end:281},{start:281,end:456},{start:436,end:427},{start:427,end:425},{start:425,end:436},{start:381,end:256},{start:256,end:252},{start:252,end:381},{start:269,end:391},{start:391,end:393},{start:393,end:269},{start:200,end:199},{start:199,end:428},{start:428,end:200},{start:266,end:330},{start:330,end:329},{start:329,end:266},{start:287,end:273},{start:273,end:422},{start:422,end:287},{start:250,end:462},{start:462,end:328},{start:328,end:250},{start:258,end:286},{start:286,end:384},{start:384,end:258},{start:265,end:353},{start:353,end:342},{start:342,end:265},{start:387,end:259},{start:259,end:257},{start:257,end:387},{start:424,end:431},{start:431,end:430},{start:430,end:424},{start:342,end:353},{start:353,end:276},{start:276,end:342},{start:273,end:335},{start:335,end:424},{start:424,end:273},{start:292,end:325},{start:325,end:307},{start:307,end:292},{start:366,end:447},{start:447,end:345},{start:345,end:366},{start:271,end:303},{start:303,end:302},{start:302,end:271},{start:423,end:266},{start:266,end:371},{start:371,end:423},{start:294,end:455},{start:455,end:460},{start:460,end:294},{start:279,end:278},{start:278,end:294},{start:294,end:279},{start:271,end:272},{start:272,end:304},{start:304,end:271},{start:432,end:434},{start:434,end:427},{start:427,end:432},{start:272,end:407},{start:407,end:408},{start:408,end:272},{start:394,end:430},{start:430,end:431},{start:431,end:394},{start:395,end:369},{start:369,end:400},{start:400,end:395},{start:334,end:333},{start:333,end:299},{start:299,end:334},{start:351,end:417},{start:417,end:168},{start:168,end:351},{start:352,end:280},{start:280,end:411},{start:411,end:352},{start:325,end:319},{start:319,end:320},{start:320,end:325},{start:295,end:296},{start:296,end:336},{start:336,end:295},{start:319,end:403},{start:403,end:404},{start:404,end:319},{start:330,end:348},{start:348,end:349},{start:349,end:330},{start:293,end:298},{start:298,end:333},{start:333,end:293},{start:323,end:454},{start:454,end:447},{start:447,end:323},{start:15,end:16},{start:16,end:315},{start:315,end:15},{start:358,end:429},{start:429,end:279},{start:279,end:358},{start:14,end:15},{start:15,end:316},{start:316,end:14},{start:285,end:336},{start:336,end:9},{start:9,end:285},{start:329,end:349},{start:349,end:350},{start:350,end:329},{start:374,end:380},{start:380,end:252},{start:252,end:374},{start:318,end:402},{start:402,end:403},{start:403,end:318},{start:6,end:197},{start:197,end:419},{start:419,end:6},{start:318,end:319},{start:319,end:325},{start:325,end:318},{start:367,end:364},{start:364,end:365},{start:365,end:367},{start:435,end:367},{start:367,end:397},{start:397,end:435},{start:344,end:438},{start:438,end:439},{start:439,end:344},{start:272,end:271},{start:271,end:311},{start:311,end:272},{start:195,end:5},{start:5,end:281},{start:281,end:195},{start:273,end:287},{start:287,end:291},{start:291,end:273},{start:396,end:428},{start:428,end:199},{start:199,end:396},{start:311,end:271},{start:271,end:268},{start:268,end:311},{start:283,end:444},{start:444,end:445},{start:445,end:283},{start:373,end:254},{start:254,end:339},{start:339,end:373},{start:282,end:334},{start:334,end:296},{start:296,end:282},{start:449,end:347},{start:347,end:346},{start:346,end:449},{start:264,end:447},{start:447,end:454},{start:454,end:264},{start:336,end:296},{start:296,end:299},{start:299,end:336},{start:338,end:10},{start:10,end:151},{start:151,end:338},{start:278,end:439},{start:439,end:455},{start:455,end:278},{start:292,end:407},{start:407,end:415},{start:415,end:292},{start:358,end:371},{start:371,end:355},{start:355,end:358},{start:340,end:345},{start:345,end:372},{start:372,end:340},{start:346,end:347},{start:347,end:280},{start:280,end:346},{start:442,end:443},{start:443,end:282},{start:282,end:442},{start:19,end:94},{start:94,end:370},{start:370,end:19},{start:441,end:442},{start:442,end:295},{start:295,end:441},{start:248,end:419},{start:419,end:197},{start:197,end:248},{start:263,end:255},{start:255,end:359},{start:359,end:263},{start:440,end:275},{start:275,end:274},{start:274,end:440},{start:300,end:383},{start:383,end:368},{start:368,end:300},{start:351,end:412},{start:412,end:465},{start:465,end:351},{start:263,end:467},{start:467,end:466},{start:466,end:263},{start:301,end:368},{start:368,end:389},{start:389,end:301},{start:395,end:378},{start:378,end:379},{start:379,end:395},{start:412,end:351},{start:351,end:419},{start:419,end:412},{start:436,end:426},{start:426,end:322},{start:322,end:436},{start:2,end:164},{start:164,end:393},{start:393,end:2},{start:370,end:462},{start:462,end:461},{start:461,end:370},{start:164,end:0},{start:0,end:267},{start:267,end:164},{start:302,end:11},{start:11,end:12},{start:12,end:302},{start:268,end:12},{start:12,end:13},{start:13,end:268},{start:293,end:300},{start:300,end:301},{start:301,end:293},{start:446,end:261},{start:261,end:340},{start:340,end:446},{start:330,end:266},{start:266,end:425},{start:425,end:330},{start:426,end:423},{start:423,end:391},{start:391,end:426},{start:429,end:355},{start:355,end:437},{start:437,end:429},{start:391,end:327},{start:327,end:326},{start:326,end:391},{start:440,end:457},{start:457,end:438},{start:438,end:440},{start:341,end:382},{start:382,end:362},{start:362,end:341},{start:459,end:457},{start:457,end:461},{start:461,end:459},{start:434,end:430},{start:430,end:394},{start:394,end:434},{start:414,end:463},{start:463,end:362},{start:362,end:414},{start:396,end:369},{start:369,end:262},{start:262,end:396},{start:354,end:461},{start:461,end:457},{start:457,end:354},{start:316,end:403},{start:403,end:402},{start:402,end:316},{start:315,end:404},{start:404,end:403},{start:403,end:315},{start:314,end:405},{start:405,end:404},{start:404,end:314},{start:313,end:406},{start:406,end:405},{start:405,end:313},{start:421,end:418},{start:418,end:406},{start:406,end:421},{start:366,end:401},{start:401,end:361},{start:361,end:366},{start:306,end:408},{start:408,end:407},{start:407,end:306},{start:291,end:409},{start:409,end:408},{start:408,end:291},{start:287,end:410},{start:410,end:409},{start:409,end:287},{start:432,end:436},{start:436,end:410},{start:410,end:432},{start:434,end:416},{start:416,end:411},{start:411,end:434},{start:264,end:368},{start:368,end:383},{start:383,end:264},{start:309,end:438},{start:438,end:457},{start:457,end:309},{start:352,end:376},{start:376,end:401},{start:401,end:352},{start:274,end:275},{start:275,end:4},{start:4,end:274},{start:421,end:428},{start:428,end:262},{start:262,end:421},{start:294,end:327},{start:327,end:358},{start:358,end:294},{start:433,end:416},{start:416,end:367},{start:367,end:433},{start:289,end:455},{start:455,end:439},{start:439,end:289},{start:462,end:370},{start:370,end:326},{start:326,end:462},{start:2,end:326},{start:326,end:370},{start:370,end:2},{start:305,end:460},{start:460,end:455},{start:455,end:305},{start:254,end:449},{start:449,end:448},{start:448,end:254},{start:255,end:261},{start:261,end:446},{start:446,end:255},{start:253,end:450},{start:450,end:449},{start:449,end:253},{start:252,end:451},{start:451,end:450},{start:450,end:252},{start:256,end:452},{start:452,end:451},{start:451,end:256},{start:341,end:453},{start:453,end:452},{start:452,end:341},{start:413,end:464},{start:464,end:463},{start:463,end:413},{start:441,end:413},{start:413,end:414},{start:414,end:441},{start:258,end:442},{start:442,end:441},{start:441,end:258},{start:257,end:443},{start:443,end:442},{start:442,end:257},{start:259,end:444},{start:444,end:443},{start:443,end:259},{start:260,end:445},{start:445,end:444},{start:444,end:260},{start:467,end:342},{start:342,end:445},{start:445,end:467},{start:459,end:458},{start:458,end:250},{start:250,end:459},{start:289,end:392},{start:392,end:290},{start:290,end:289},{start:290,end:328},{start:328,end:460},{start:460,end:290},{start:376,end:433},{start:433,end:435},{start:435,end:376},{start:250,end:290},{start:290,end:392},{start:392,end:250},{start:411,end:416},{start:416,end:433},{start:433,end:411},{start:341,end:463},{start:463,end:464},{start:464,end:341},{start:453,end:464},{start:464,end:465},{start:465,end:453},{start:357,end:465},{start:465,end:412},{start:412,end:357},{start:343,end:412},{start:412,end:399},{start:399,end:343},{start:360,end:363},{start:363,end:440},{start:440,end:360},{start:437,end:399},{start:399,end:456},{start:456,end:437},{start:420,end:456},{start:456,end:363},{start:363,end:420},{start:401,end:435},{start:435,end:288},{start:288,end:401},{start:372,end:383},{start:383,end:353},{start:353,end:372},{start:339,end:255},{start:255,end:249},{start:249,end:339},{start:448,end:261},{start:261,end:255},{start:255,end:448},{start:133,end:243},{start:243,end:190},{start:190,end:133},{start:133,end:155},{start:155,end:112},{start:112,end:133},{start:33,end:246},{start:246,end:247},{start:247,end:33},{start:33,end:130},{start:130,end:25},{start:25,end:33},{start:398,end:384},{start:384,end:286},{start:286,end:398},{start:362,end:398},{start:398,end:414},{start:414,end:362},{start:362,end:463},{start:463,end:341},{start:341,end:362},{start:263,end:359},{start:359,end:467},{start:467,end:263},{start:263,end:249},{start:249,end:255},{start:255,end:263},{start:466,end:467},{start:467,end:260},{start:260,end:466},{start:75,end:60},{start:60,end:166},{start:166,end:75},{start:238,end:239},{start:239,end:79},{start:79,end:238},{start:162,end:127},{start:127,end:139},{start:139,end:162},{start:72,end:11},{start:11,end:37},{start:37,end:72},{start:121,end:232},{start:232,end:120},{start:120,end:121},{start:73,end:72},{start:72,end:39},{start:39,end:73},{start:114,end:128},{start:128,end:47},{start:47,end:114},{start:233,end:232},{start:232,end:128},{start:128,end:233},{start:103,end:104},{start:104,end:67},{start:67,end:103},{start:152,end:175},{start:175,end:148},{start:148,end:152},{start:119,end:118},{start:118,end:101},{start:101,end:119},{start:74,end:73},{start:73,end:40},{start:40,end:74},{start:107,end:9},{start:9,end:108},{start:108,end:107},{start:49,end:48},{start:48,end:131},{start:131,end:49},{start:32,end:194},{start:194,end:211},{start:211,end:32},{start:184,end:74},{start:74,end:185},{start:185,end:184},{start:191,end:80},{start:80,end:183},{start:183,end:191},{start:185,end:40},{start:40,end:186},{start:186,end:185},{start:119,end:230},{start:230,end:118},{start:118,end:119},{start:210,end:202},{start:202,end:214},{start:214,end:210},{start:84,end:83},{start:83,end:17},{start:17,end:84},{start:77,end:76},{start:76,end:146},{start:146,end:77},{start:161,end:160},{start:160,end:30},{start:30,end:161},{start:190,end:56},{start:56,end:173},{start:173,end:190},{start:182,end:106},{start:106,end:194},{start:194,end:182},{start:138,end:135},{start:135,end:192},{start:192,end:138},{start:129,end:203},{start:203,end:98},{start:98,end:129},{start:54,end:21},{start:21,end:68},{start:68,end:54},{start:5,end:51},{start:51,end:4},{start:4,end:5},{start:145,end:144},{start:144,end:23},{start:23,end:145},{start:90,end:77},{start:77,end:91},{start:91,end:90},{start:207,end:205},{start:205,end:187},{start:187,end:207},{start:83,end:201},{start:201,end:18},{start:18,end:83},{start:181,end:91},{start:91,end:182},{start:182,end:181},{start:180,end:90},{start:90,end:181},{start:181,end:180},{start:16,end:85},{start:85,end:17},{start:17,end:16},{start:205,end:206},{start:206,end:36},{start:36,end:205},{start:176,end:148},{start:148,end:140},{start:140,end:176},{start:165,end:92},{start:92,end:39},{start:39,end:165},{start:245,end:193},{start:193,end:244},{start:244,end:245},{start:27,end:159},{start:159,end:28},{start:28,end:27},{start:30,end:247},{start:247,end:161},{start:161,end:30},{start:174,end:236},{start:236,end:196},{start:196,end:174},{start:103,end:54},{start:54,end:104},{start:104,end:103},{start:55,end:193},{start:193,end:8},{start:8,end:55},{start:111,end:117},{start:117,end:31},{start:31,end:111},{start:221,end:189},{start:189,end:55},{start:55,end:221},{start:240,end:98},{start:98,end:99},{start:99,end:240},{start:142,end:126},{start:126,end:100},{start:100,end:142},{start:219,end:166},{start:166,end:218},{start:218,end:219},{start:112,end:155},{start:155,end:26},{start:26,end:112},{start:198,end:209},{start:209,end:131},{start:131,end:198},{start:169,end:135},{start:135,end:150},{start:150,end:169},{start:114,end:47},{start:47,end:217},{start:217,end:114},{start:224,end:223},{start:223,end:53},{start:53,end:224},{start:220,end:45},{start:45,end:134},{start:134,end:220},{start:32,end:211},{start:211,end:140},{start:140,end:32},{start:109,end:67},{start:67,end:108},{start:108,end:109},{start:146,end:43},{start:43,end:91},{start:91,end:146},{start:231,end:230},{start:230,end:120},{start:120,end:231},{start:113,end:226},{start:226,end:247},{start:247,end:113},{start:105,end:63},{start:63,end:52},{start:52,end:105},{start:241,end:238},{start:238,end:242},{start:242,end:241},{start:124,end:46},{start:46,end:156},{start:156,end:124},{start:95,end:78},{start:78,end:96},{start:96,end:95},{start:70,end:46},{start:46,end:63},{start:63,end:70},{start:116,end:143},{start:143,end:227},{start:227,end:116},{start:116,end:123},{start:123,end:111},{start:111,end:116},{start:1,end:44},{start:44,end:19},{start:19,end:1},{start:3,end:236},{start:236,end:51},{start:51,end:3},{start:207,end:216},{start:216,end:205},{start:205,end:207},{start:26,end:154},{start:154,end:22},{start:22,end:26},{start:165,end:39},{start:39,end:167},{start:167,end:165},{start:199,end:200},{start:200,end:208},{start:208,end:199},{start:101,end:36},{start:36,end:100},{start:100,end:101},{start:43,end:57},{start:57,end:202},{start:202,end:43},{start:242,end:20},{start:20,end:99},{start:99,end:242},{start:56,end:28},{start:28,end:157},{start:157,end:56},{start:124,end:35},{start:35,end:113},{start:113,end:124},{start:29,end:160},{start:160,end:27},{start:27,end:29},{start:211,end:204},{start:204,end:210},{start:210,end:211},{start:124,end:113},{start:113,end:46},{start:46,end:124},{start:106,end:43},{start:43,end:204},{start:204,end:106},{start:96,end:62},{start:62,end:77},{start:77,end:96},{start:227,end:137},{start:137,end:116},{start:116,end:227},{start:73,end:41},{start:41,end:72},{start:72,end:73},{start:36,end:203},{start:203,end:142},{start:142,end:36},{start:235,end:64},{start:64,end:240},{start:240,end:235},{start:48,end:49},{start:49,end:64},{start:64,end:48},{start:42,end:41},{start:41,end:74},{start:74,end:42},{start:214,end:212},{start:212,end:207},{start:207,end:214},{start:183,end:42},{start:42,end:184},{start:184,end:183},{start:210,end:169},{start:169,end:211},{start:211,end:210},{start:140,end:170},{start:170,end:176},{start:176,end:140},{start:104,end:105},{start:105,end:69},{start:69,end:104},{start:193,end:122},{start:122,end:168},{start:168,end:193},{start:50,end:123},{start:123,end:187},{start:187,end:50},{start:89,end:96},{start:96,end:90},{start:90,end:89},{start:66,end:65},{start:65,end:107},{start:107,end:66},{start:179,end:89},{start:89,end:180},{start:180,end:179},{start:119,end:101},{start:101,end:120},{start:120,end:119},{start:68,end:63},{start:63,end:104},{start:104,end:68},{start:234,end:93},{start:93,end:227},{start:227,end:234},{start:16,end:15},{start:15,end:85},{start:85,end:16},{start:209,end:129},{start:129,end:49},{start:49,end:209},{start:15,end:14},{start:14,end:86},{start:86,end:15},{start:107,end:55},{start:55,end:9},{start:9,end:107},{start:120,end:100},{start:100,end:121},{start:121,end:120},{start:153,end:145},{start:145,end:22},{start:22,end:153},{start:178,end:88},{start:88,end:179},{start:179,end:178},{start:197,end:6},{start:6,end:196},{start:196,end:197},{start:89,end:88},{start:88,end:96},{start:96,end:89},{start:135,end:138},{start:138,end:136},{start:136,end:135},{start:138,end:215},{start:215,end:172},{start:172,end:138},{start:218,end:115},{start:115,end:219},{start:219,end:218},{start:41,end:42},{start:42,end:81},{start:81,end:41},{start:5,end:195},{start:195,end:51},{start:51,end:5},{start:57,end:43},{start:43,end:61},{start:61,end:57},{start:208,end:171},{start:171,end:199},{start:199,end:208},{start:41,end:81},{start:81,end:38},{start:38,end:41},{start:224,end:53},{start:53,end:225},{start:225,end:224},{start:24,end:144},{start:144,end:110},{start:110,end:24},{start:105,end:52},{start:52,end:66},{start:66,end:105},{start:118,end:229},{start:229,end:117},{start:117,end:118},{start:227,end:34},{start:34,end:234},{start:234,end:227},{start:66,end:107},{start:107,end:69},{start:69,end:66},{start:10,end:109},{start:109,end:151},{start:151,end:10},{start:219,end:48},{start:48,end:235},{start:235,end:219},{start:183,end:62},{start:62,end:191},{start:191,end:183},{start:142,end:129},{start:129,end:126},{start:126,end:142},{start:116,end:111},{start:111,end:143},{start:143,end:116},{start:118,end:117},{start:117,end:50},{start:50,end:118},{start:223,end:222},{start:222,end:52},{start:52,end:223},{start:94,end:19},{start:19,end:141},{start:141,end:94},{start:222,end:221},{start:221,end:65},{start:65,end:222},{start:196,end:3},{start:3,end:197},{start:197,end:196},{start:45,end:220},{start:220,end:44},{start:44,end:45},{start:156,end:70},{start:70,end:139},{start:139,end:156},{start:188,end:122},{start:122,end:245},{start:245,end:188},{start:139,end:71},{start:71,end:162},{start:162,end:139},{start:149,end:170},{start:170,end:150},{start:150,end:149},{start:122,end:188},{start:188,end:196},{start:196,end:122},{start:206,end:216},{start:216,end:92},{start:92,end:206},{start:164,end:2},{start:2,end:167},{start:167,end:164},{start:242,end:141},{start:141,end:241},{start:241,end:242},{start:0,end:164},{start:164,end:37},{start:37,end:0},{start:11,end:72},{start:72,end:12},{start:12,end:11},{start:12,end:38},{start:38,end:13},{start:13,end:12},{start:70,end:63},{start:63,end:71},{start:71,end:70},{start:31,end:226},{start:226,end:111},{start:111,end:31},{start:36,end:101},{start:101,end:205},{start:205,end:36},{start:203,end:206},{start:206,end:165},{start:165,end:203},{start:126,end:209},{start:209,end:217},{start:217,end:126},{start:98,end:165},{start:165,end:97},{start:97,end:98},{start:237,end:220},{start:220,end:218},{start:218,end:237},{start:237,end:239},{start:239,end:241},{start:241,end:237},{start:210,end:214},{start:214,end:169},{start:169,end:210},{start:140,end:171},{start:171,end:32},{start:32,end:140},{start:241,end:125},{start:125,end:237},{start:237,end:241},{start:179,end:86},{start:86,end:178},{start:178,end:179},{start:180,end:85},{start:85,end:179},{start:179,end:180},{start:181,end:84},{start:84,end:180},{start:180,end:181},{start:182,end:83},{start:83,end:181},{start:181,end:182},{start:194,end:201},{start:201,end:182},{start:182,end:194},{start:177,end:137},{start:137,end:132},{start:132,end:177},{start:184,end:76},{start:76,end:183},{start:183,end:184},{start:185,end:61},{start:61,end:184},{start:184,end:185},{start:186,end:57},{start:57,end:185},{start:185,end:186},{start:216,end:212},{start:212,end:186},{start:186,end:216},{start:192,end:214},{start:214,end:187},{start:187,end:192},{start:139,end:34},{start:34,end:156},{start:156,end:139},{start:218,end:79},{start:79,end:237},{start:237,end:218},{start:147,end:123},{start:123,end:177},{start:177,end:147},{start:45,end:44},{start:44,end:4},{start:4,end:45},{start:208,end:201},{start:201,end:32},{start:32,end:208},{start:98,end:64},{start:64,end:129},{start:129,end:98},{start:192,end:213},{start:213,end:138},{start:138,end:192},{start:235,end:59},{start:59,end:219},{start:219,end:235},{start:141,end:242},{start:242,end:97},{start:97,end:141},{start:97,end:2},{start:2,end:141},{start:141,end:97},{start:240,end:75},{start:75,end:235},{start:235,end:240},{start:229,end:24},{start:24,end:228},{start:228,end:229},{start:31,end:25},{start:25,end:226},{start:226,end:31},{start:230,end:23},{start:23,end:229},{start:229,end:230},{start:231,end:22},{start:22,end:230},{start:230,end:231},{start:232,end:26},{start:26,end:231},{start:231,end:232},{start:233,end:112},{start:112,end:232},{start:232,end:233},{start:244,end:189},{start:189,end:243},{start:243,end:244},{start:189,end:221},{start:221,end:190},{start:190,end:189},{start:222,end:28},{start:28,end:221},{start:221,end:222},{start:223,end:27},{start:27,end:222},{start:222,end:223},{start:224,end:29},{start:29,end:223},{start:223,end:224},{start:225,end:30},{start:30,end:224},{start:224,end:225},{start:113,end:247},{start:247,end:225},{start:225,end:113},{start:99,end:60},{start:60,end:240},{start:240,end:99},{start:213,end:147},{start:147,end:215},{start:215,end:213},{start:60,end:20},{start:20,end:166},{start:166,end:60},{start:192,end:187},{start:187,end:213},{start:213,end:192},{start:243,end:112},{start:112,end:244},{start:244,end:243},{start:244,end:233},{start:233,end:245},{start:245,end:244},{start:245,end:128},{start:128,end:188},{start:188,end:245},{start:188,end:114},{start:114,end:174},{start:174,end:188},{start:134,end:131},{start:131,end:220},{start:220,end:134},{start:174,end:217},{start:217,end:236},{start:236,end:174},{start:236,end:198},{start:198,end:134},{start:134,end:236},{start:215,end:177},{start:177,end:58},{start:58,end:215},{start:156,end:143},{start:143,end:124},{start:124,end:156},{start:25,end:110},{start:110,end:7},{start:7,end:25},{start:31,end:228},{start:228,end:25},{start:25,end:31},{start:264,end:356},{start:356,end:368},{start:368,end:264},{start:0,end:11},{start:11,end:267},{start:267,end:0},{start:451,end:452},{start:452,end:349},{start:349,end:451},{start:267,end:302},{start:302,end:269},{start:269,end:267},{start:350,end:357},{start:357,end:277},{start:277,end:350},{start:350,end:452},{start:452,end:357},{start:357,end:350},{start:299,end:333},{start:333,end:297},{start:297,end:299},{start:396,end:175},{start:175,end:377},{start:377,end:396},{start:280,end:347},{start:347,end:330},{start:330,end:280},{start:269,end:303},{start:303,end:270},{start:270,end:269},{start:151,end:9},{start:9,end:337},{start:337,end:151},{start:344,end:278},{start:278,end:360},{start:360,end:344},{start:424,end:418},{start:418,end:431},{start:431,end:424},{start:270,end:304},{start:304,end:409},{start:409,end:270},{start:272,end:310},{start:310,end:407},{start:407,end:272},{start:322,end:270},{start:270,end:410},{start:410,end:322},{start:449,end:450},{start:450,end:347},{start:347,end:449},{start:432,end:422},{start:422,end:434},{start:434,end:432},{start:18,end:313},{start:313,end:17},{start:17,end:18},{start:291,end:306},{start:306,end:375},{start:375,end:291},{start:259,end:387},{start:387,end:260},{start:260,end:259},{start:424,end:335},{start:335,end:418},{start:418,end:424},{start:434,end:364},{start:364,end:416},{start:416,end:434},{start:391,end:423},{start:423,end:327},{start:327,end:391},{start:301,end:251},{start:251,end:298},{start:298,end:301},{start:275,end:281},{start:281,end:4},{start:4,end:275},{start:254,end:373},{start:373,end:253},{start:253,end:254},{start:375,end:307},{start:307,end:321},{start:321,end:375},{start:280,end:425},{start:425,end:411},{start:411,end:280},{start:200,end:421},{start:421,end:18},{start:18,end:200},{start:335,end:321},{start:321,end:406},{start:406,end:335},{start:321,end:320},{start:320,end:405},{start:405,end:321},{start:314,end:315},{start:315,end:17},{start:17,end:314},{start:423,end:426},{start:426,end:266},{start:266,end:423},{start:396,end:377},{start:377,end:369},{start:369,end:396},{start:270,end:322},{start:322,end:269},{start:269,end:270},{start:413,end:417},{start:417,end:464},{start:464,end:413},{start:385,end:386},{start:386,end:258},{start:258,end:385},{start:248,end:456},{start:456,end:419},{start:419,end:248},{start:298,end:284},{start:284,end:333},{start:333,end:298},{start:168,end:417},{start:417,end:8},{start:8,end:168},{start:448,end:346},{start:346,end:261},{start:261,end:448},{start:417,end:413},{start:413,end:285},{start:285,end:417},{start:326,end:327},{start:327,end:328},{start:328,end:326},{start:277,end:355},{start:355,end:329},{start:329,end:277},{start:309,end:392},{start:392,end:438},{start:438,end:309},{start:381,end:382},{start:382,end:256},{start:256,end:381},{start:279,end:429},{start:429,end:360},{start:360,end:279},{start:365,end:364},{start:364,end:379},{start:379,end:365},{start:355,end:277},{start:277,end:437},{start:437,end:355},{start:282,end:443},{start:443,end:283},{start:283,end:282},{start:281,end:275},{start:275,end:363},{start:363,end:281},{start:395,end:431},{start:431,end:369},{start:369,end:395},{start:299,end:297},{start:297,end:337},{start:337,end:299},{start:335,end:273},{start:273,end:321},{start:321,end:335},{start:348,end:450},{start:450,end:349},{start:349,end:348},{start:359,end:446},{start:446,end:467},{start:467,end:359},{start:283,end:293},{start:293,end:282},{start:282,end:283},{start:250,end:458},{start:458,end:462},{start:462,end:250},{start:300,end:276},{start:276,end:383},{start:383,end:300},{start:292,end:308},{start:308,end:325},{start:325,end:292},{start:283,end:276},{start:276,end:293},{start:293,end:283},{start:264,end:372},{start:372,end:447},{start:447,end:264},{start:346,end:352},{start:352,end:340},{start:340,end:346},{start:354,end:274},{start:274,end:19},{start:19,end:354},{start:363,end:456},{start:456,end:281},{start:281,end:363},{start:426,end:436},{start:436,end:425},{start:425,end:426},{start:380,end:381},{start:381,end:252},{start:252,end:380},{start:267,end:269},{start:269,end:393},{start:393,end:267},{start:421,end:200},{start:200,end:428},{start:428,end:421},{start:371,end:266},{start:266,end:329},{start:329,end:371},{start:432,end:287},{start:287,end:422},{start:422,end:432},{start:290,end:250},{start:250,end:328},{start:328,end:290},{start:385,end:258},{start:258,end:384},{start:384,end:385},{start:446,end:265},{start:265,end:342},{start:342,end:446},{start:386,end:387},{start:387,end:257},{start:257,end:386},{start:422,end:424},{start:424,end:430},{start:430,end:422},{start:445,end:342},{start:342,end:276},{start:276,end:445},{start:422,end:273},{start:273,end:424},{start:424,end:422},{start:306,end:292},{start:292,end:307},{start:307,end:306},{start:352,end:366},{start:366,end:345},{start:345,end:352},{start:268,end:271},{start:271,end:302},{start:302,end:268},{start:358,end:423},{start:423,end:371},{start:371,end:358},{start:327,end:294},{start:294,end:460},{start:460,end:327},{start:331,end:279},{start:279,end:294},{start:294,end:331},{start:303,end:271},{start:271,end:304},{start:304,end:303},{start:436,end:432},{start:432,end:427},{start:427,end:436},{start:304,end:272},{start:272,end:408},{start:408,end:304},{start:395,end:394},{start:394,end:431},{start:431,end:395},{start:378,end:395},{start:395,end:400},{start:400,end:378},{start:296,end:334},{start:334,end:299},{start:299,end:296},{start:6,end:351},{start:351,end:168},{start:168,end:6},{start:376,end:352},{start:352,end:411},{start:411,end:376},{start:307,end:325},{start:325,end:320},{start:320,end:307},{start:285,end:295},{start:295,end:336},{start:336,end:285},{start:320,end:319},{start:319,end:404},{start:404,end:320},{start:329,end:330},{start:330,end:349},{start:349,end:329},{start:334,end:293},{start:293,end:333},{start:333,end:334},{start:366,end:323},{start:323,end:447},{start:447,end:366},{start:316,end:15},{start:15,end:315},{start:315,end:316},{start:331,end:358},{start:358,end:279},{start:279,end:331},{start:317,end:14},{start:14,end:316},{start:316,end:317},{start:8,end:285},{start:285,end:9},{start:9,end:8},{start:277,end:329},{start:329,end:350},{start:350,end:277},{start:253,end:374},{start:374,end:252},{start:252,end:253},{start:319,end:318},{start:318,end:403},{start:403,end:319},{start:351,end:6},{start:6,end:419},{start:419,end:351},{start:324,end:318},{start:318,end:325},{start:325,end:324},{start:397,end:367},{start:367,end:365},{start:365,end:397},{start:288,end:435},{start:435,end:397},{start:397,end:288},{start:278,end:344},{start:344,end:439},{start:439,end:278},{start:310,end:272},{start:272,end:311},{start:311,end:310},{start:248,end:195},{start:195,end:281},{start:281,end:248},{start:375,end:273},{start:273,end:291},{start:291,end:375},{start:175,end:396},{start:396,end:199},{start:199,end:175},{start:312,end:311},{start:311,end:268},{start:268,end:312},{start:276,end:283},{start:283,end:445},{start:445,end:276},{start:390,end:373},{start:373,end:339},{start:339,end:390},{start:295,end:282},{start:282,end:296},{start:296,end:295},{start:448,end:449},{start:449,end:346},{start:346,end:448},{start:356,end:264},{start:264,end:454},{start:454,end:356},{start:337,end:336},{start:336,end:299},{start:299,end:337},{start:337,end:338},{start:338,end:151},{start:151,end:337},{start:294,end:278},{start:278,end:455},{start:455,end:294},{start:308,end:292},{start:292,end:415},{start:415,end:308},{start:429,end:358},{start:358,end:355},{start:355,end:429},{start:265,end:340},{start:340,end:372},{start:372,end:265},{start:352,end:346},{start:346,end:280},{start:280,end:352},{start:295,end:442},{start:442,end:282},{start:282,end:295},{start:354,end:19},{start:19,end:370},{start:370,end:354},{start:285,end:441},{start:441,end:295},{start:295,end:285},{start:195,end:248},{start:248,end:197},{start:197,end:195},{start:457,end:440},{start:440,end:274},{start:274,end:457},{start:301,end:300},{start:300,end:368},{start:368,end:301},{start:417,end:351},{start:351,end:465},{start:465,end:417},{start:251,end:301},{start:301,end:389},{start:389,end:251},{start:394,end:395},{start:395,end:379},{start:379,end:394},{start:399,end:412},{start:412,end:419},{start:419,end:399},{start:410,end:436},{start:436,end:322},{start:322,end:410},{start:326,end:2},{start:2,end:393},{start:393,end:326},{start:354,end:370},{start:370,end:461},{start:461,end:354},{start:393,end:164},{start:164,end:267},{start:267,end:393},{start:268,end:302},{start:302,end:12},{start:12,end:268},{start:312,end:268},{start:268,end:13},{start:13,end:312},{start:298,end:293},{start:293,end:301},{start:301,end:298},{start:265,end:446},{start:446,end:340},{start:340,end:265},{start:280,end:330},{start:330,end:425},{start:425,end:280},{start:322,end:426},{start:426,end:391},{start:391,end:322},{start:420,end:429},{start:429,end:437},{start:437,end:420},{start:393,end:391},{start:391,end:326},{start:326,end:393},{start:344,end:440},{start:440,end:438},{start:438,end:344},{start:458,end:459},{start:459,end:461},{start:461,end:458},{start:364,end:434},{start:434,end:394},{start:394,end:364},{start:428,end:396},{start:396,end:262},{start:262,end:428},{start:274,end:354},{start:354,end:457},{start:457,end:274},{start:317,end:316},{start:316,end:402},{start:402,end:317},{start:316,end:315},{start:315,end:403},{start:403,end:316},{start:315,end:314},{start:314,end:404},{start:404,end:315},{start:314,end:313},{start:313,end:405},{start:405,end:314},{start:313,end:421},{start:421,end:406},{start:406,end:313},{start:323,end:366},{start:366,end:361},{start:361,end:323},{start:292,end:306},{start:306,end:407},{start:407,end:292},{start:306,end:291},{start:291,end:408},{start:408,end:306},{start:291,end:287},{start:287,end:409},{start:409,end:291},{start:287,end:432},{start:432,end:410},{start:410,end:287},{start:427,end:434},{start:434,end:411},{start:411,end:427},{start:372,end:264},{start:264,end:383},{start:383,end:372},{start:459,end:309},{start:309,end:457},{start:457,end:459},{start:366,end:352},{start:352,end:401},{start:401,end:366},{start:1,end:274},{start:274,end:4},{start:4,end:1},{start:418,end:421},{start:421,end:262},{start:262,end:418},{start:331,end:294},{start:294,end:358},{start:358,end:331},{start:435,end:433},{start:433,end:367},{start:367,end:435},{start:392,end:289},{start:289,end:439},{start:439,end:392},{start:328,end:462},{start:462,end:326},{start:326,end:328},{start:94,end:2},{start:2,end:370},{start:370,end:94},{start:289,end:305},{start:305,end:455},{start:455,end:289},{start:339,end:254},{start:254,end:448},{start:448,end:339},{start:359,end:255},{start:255,end:446},{start:446,end:359},{start:254,end:253},{start:253,end:449},{start:449,end:254},{start:253,end:252},{start:252,end:450},{start:450,end:253},{start:252,end:256},{start:256,end:451},{start:451,end:252},{start:256,end:341},{start:341,end:452},{start:452,end:256},{start:414,end:413},{start:413,end:463},{start:463,end:414},{start:286,end:441},{start:441,end:414},{start:414,end:286},{start:286,end:258},{start:258,end:441},{start:441,end:286},{start:258,end:257},{start:257,end:442},{start:442,end:258},{start:257,end:259},{start:259,end:443},{start:443,end:257},{start:259,end:260},{start:260,end:444},{start:444,end:259},{start:260,end:467},{start:467,end:445},{start:445,end:260},{start:309,end:459},{start:459,end:250},{start:250,end:309},{start:305,end:289},{start:289,end:290},{start:290,end:305},{start:305,end:290},{start:290,end:460},{start:460,end:305},{start:401,end:376},{start:376,end:435},{start:435,end:401},{start:309,end:250},{start:250,end:392},{start:392,end:309},{start:376,end:411},{start:411,end:433},{start:433,end:376},{start:453,end:341},{start:341,end:464},{start:464,end:453},{start:357,end:453},{start:453,end:465},{start:465,end:357},{start:343,end:357},{start:357,end:412},{start:412,end:343},{start:437,end:343},{start:343,end:399},{start:399,end:437},{start:344,end:360},{start:360,end:440},{start:440,end:344},{start:420,end:437},{start:437,end:456},{start:456,end:420},{start:360,end:420},{start:420,end:363},{start:363,end:360},{start:361,end:401},{start:401,end:288},{start:288,end:361},{start:265,end:372},{start:372,end:353},{start:353,end:265},{start:390,end:339},{start:339,end:249},{start:249,end:390},{start:339,end:448},{start:448,end:255},{start:255,end:339}];var face_landmarker_options={};Object.defineProperty(face_landmarker_options,"__esModule",{value:!0});var face_landmarker_result={};Object.defineProperty(face_landmarker_result,"__esModule",{value:!0}),function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(j,U,N,W){W===void 0&&(W=N);var ne=Object.getOwnPropertyDescriptor(U,N);ne&&!("get"in ne?!U.__esModule:ne.writable||ne.configurable)||(ne={enumerable:!0,get:function(){return U[N]}}),Object.defineProperty(j,W,ne)}:function(j,U,N,W){W===void 0&&(W=N),j[W]=U[N]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(j,U){for(var N in j)N==="default"||Object.prototype.hasOwnProperty.call(U,N)||e(U,j,N)};Object.defineProperty(t,"__esModule",{value:!0}),t.FaceLandmarker=void 0;const n=calculator_pb,o=calculator_options_pb,s=classification_pb,c=landmark_pb,d=base_options_pb,u=face_detector_graph_options_pb,m=face_geometry_pb,_=face_landmarker_graph_options_pb,g=face_landmarks_detector_graph_options_pb,f=classifier_result,y=landmark_result,M=vision_task_runner,T=face_landmarks_connections;r(face_landmarker_options,t),r(face_landmarker_result,t);const A="image_in",E="norm_rect",C="face_landmarks",k="blendshapes",O="face_geometry",I=.5;class B extends M.VisionTaskRunner{static createFromOptions(U,N){return M.VisionTaskRunner.createVisionInstance(B,U,N)}static createFromModelBuffer(U,N){return M.VisionTaskRunner.createVisionInstance(B,U,{baseOptions:{modelAssetBuffer:N}})}static createFromModelPath(U,N){return M.VisionTaskRunner.createVisionInstance(B,U,{baseOptions:{modelAssetPath:N}})}constructor(U,N){super(new M.VisionGraphRunner(U,N),A,E,!1),this.result={faceLandmarks:[],faceBlendshapes:[],facialTransformationMatrixes:[]},this.outputFaceBlendshapes=!1,this.outputFacialTransformationMatrixes=!1,this.options=new _.FaceLandmarkerGraphOptions,this.options.setBaseOptions(new d.BaseOptions),this.faceLandmarksDetectorGraphOptions=new g.FaceLandmarksDetectorGraphOptions,this.options.setFaceLandmarksDetectorGraphOptions(this.faceLandmarksDetectorGraphOptions),this.faceDetectorGraphOptions=new u.FaceDetectorGraphOptions,this.options.setFaceDetectorGraphOptions(this.faceDetectorGraphOptions),this.initDefaults()}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(U){this.options.setBaseOptions(U)}setOptions(U){var N,W,ne,re;return"numFaces"in U&&this.faceDetectorGraphOptions.setNumFaces((N=U.numFaces)!==null&&N!==void 0?N:1),"minFaceDetectionConfidence"in U&&this.faceDetectorGraphOptions.setMinDetectionConfidence((W=U.minFaceDetectionConfidence)!==null&&W!==void 0?W:I),"minTrackingConfidence"in U&&this.options.setMinTrackingConfidence((ne=U.minTrackingConfidence)!==null&&ne!==void 0?ne:I),"minFacePresenceConfidence"in U&&this.faceLandmarksDetectorGraphOptions.setMinDetectionConfidence((re=U.minFacePresenceConfidence)!==null&&re!==void 0?re:I),"outputFaceBlendshapes"in U&&(this.outputFaceBlendshapes=!!U.outputFaceBlendshapes),"outputFacialTransformationMatrixes"in U&&(this.outputFacialTransformationMatrixes=!!U.outputFacialTransformationMatrixes),this.applyOptions(U)}detect(U,N){return this.resetResults(),this.processImageData(U,N),this.result}detectForVideo(U,N,W){return this.resetResults(),this.processVideoData(U,W,N),this.result}resetResults(){this.result={faceLandmarks:[],faceBlendshapes:[],facialTransformationMatrixes:[]}}initDefaults(){this.faceDetectorGraphOptions.setNumFaces(1),this.faceDetectorGraphOptions.setMinDetectionConfidence(I),this.faceLandmarksDetectorGraphOptions.setMinDetectionConfidence(I),this.options.setMinTrackingConfidence(I)}addJsLandmarks(U){for(const N of U){const W=c.NormalizedLandmarkList.deserializeBinary(N);this.result.faceLandmarks.push((0,y.convertToLandmarks)(W))}}addBlenshape(U){var N;if(this.outputFaceBlendshapes)for(const W of U){const ne=s.ClassificationList.deserializeBinary(W);this.result.faceBlendshapes.push((0,f.convertFromClassifications)((N=ne.getClassificationList())!==null&&N!==void 0?N:[]))}}addFacialTransformationMatrixes(U){var N,W,ne;if(this.outputFacialTransformationMatrixes)for(const re of U){const le=m.FaceGeometry.deserializeBinary(re).getPoseTransformMatrix();le&&this.result.facialTransformationMatrixes.push({rows:(N=le.getRows())!==null&&N!==void 0?N:0,columns:(W=le.getCols())!==null&&W!==void 0?W:0,data:(ne=le.getPackedDataList())!==null&&ne!==void 0?ne:[]})}}refreshGraph(){const U=new n.CalculatorGraphConfig;U.addInputStream(A),U.addInputStream(E),U.addOutputStream(C);const N=new o.CalculatorOptions;N.setExtension(_.FaceLandmarkerGraphOptions.ext,this.options);const W=new n.CalculatorGraphConfig.Node;W.setCalculator("mediapipe.tasks.vision.face_landmarker.FaceLandmarkerGraph"),W.addInputStream("IMAGE:"+A),W.addInputStream("NORM_RECT:"+E),W.addOutputStream("NORM_LANDMARKS:"+C),W.setOptions(N),U.addNode(W),this.graphRunner.attachProtoVectorListener(C,(re,le)=>{this.addJsLandmarks(re),this.setLatestOutputTimestamp(le)}),this.graphRunner.attachEmptyPacketListener(C,re=>{this.setLatestOutputTimestamp(re)}),this.outputFaceBlendshapes&&(U.addOutputStream(k),W.addOutputStream("BLENDSHAPES:"+k),this.graphRunner.attachProtoVectorListener(k,(re,le)=>{this.addBlenshape(re),this.setLatestOutputTimestamp(le)}),this.graphRunner.attachEmptyPacketListener(k,re=>{this.setLatestOutputTimestamp(re)})),this.outputFacialTransformationMatrixes&&(U.addOutputStream(O),W.addOutputStream("FACE_GEOMETRY:"+O),this.graphRunner.attachProtoVectorListener(O,(re,le)=>{this.addFacialTransformationMatrixes(re),this.setLatestOutputTimestamp(le)}),this.graphRunner.attachEmptyPacketListener(O,re=>{this.setLatestOutputTimestamp(re)}));const ne=U.serializeBinary();this.setGraph(new Uint8Array(ne),!0)}}t.FaceLandmarker=B,B.FACE_LANDMARKS_LIPS=T.FACE_LANDMARKS_LIPS,B.FACE_LANDMARKS_LEFT_EYE=T.FACE_LANDMARKS_LEFT_EYE,B.FACE_LANDMARKS_LEFT_EYEBROW=T.FACE_LANDMARKS_LEFT_EYEBROW,B.FACE_LANDMARKS_LEFT_IRIS=T.FACE_LANDMARKS_LEFT_IRIS,B.FACE_LANDMARKS_RIGHT_EYE=T.FACE_LANDMARKS_RIGHT_EYE,B.FACE_LANDMARKS_RIGHT_EYEBROW=T.FACE_LANDMARKS_RIGHT_EYEBROW,B.FACE_LANDMARKS_RIGHT_IRIS=T.FACE_LANDMARKS_RIGHT_IRIS,B.FACE_LANDMARKS_FACE_OVAL=T.FACE_LANDMARKS_FACE_OVAL,B.FACE_LANDMARKS_CONTOURS=T.FACE_LANDMARKS_CONTOURS,B.FACE_LANDMARKS_TESSELATION=T.FACE_LANDMARKS_TESSELATION}(face_landmarker);var face_stylizer={},face_stylizer_graph_options_pb={};(function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;r.object.extend(proto,o);var s=calculator_options_pb;r.object.extend(proto,s);var c=base_options_pb;r.object.extend(proto,c);var d=face_landmarker_graph_options_pb;r.object.extend(proto,d),r.exportSymbol("proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions",null,n),proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions=function(u){e.Message.initialize(this,u,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.displayName="proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.toObject=function(u){return proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.toObject(u,this)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.toObject=function(u,m){var _,g={baseOptions:(_=m.getBaseOptions())&&c.BaseOptions.toObject(u,_),faceLandmarkerGraphOptions:(_=m.getFaceLandmarkerGraphOptions())&&d.FaceLandmarkerGraphOptions.toObject(u,_),faceAlignmentSize:e.Message.getFieldWithDefault(m,3,256)};return u&&(g.$jspbMessageInstance=m),g}),proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.deserializeBinary=function(u){var m=new e.BinaryReader(u),_=new proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions;return proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.deserializeBinaryFromReader(_,m)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.deserializeBinaryFromReader=function(u,m){for(;m.nextField()&&!m.isEndGroup();)switch(m.getFieldNumber()){case 1:var _=new c.BaseOptions;m.readMessage(_,c.BaseOptions.deserializeBinaryFromReader),u.setBaseOptions(_);break;case 2:_=new d.FaceLandmarkerGraphOptions,m.readMessage(_,d.FaceLandmarkerGraphOptions.deserializeBinaryFromReader),u.setFaceLandmarkerGraphOptions(_);break;case 3:_=m.readInt32(),u.setFaceAlignmentSize(_);break;default:m.skipField()}return u},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.serializeBinary=function(){var u=new e.BinaryWriter;return proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.serializeBinaryToWriter(this,u),u.getResultBuffer()},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.serializeBinaryToWriter=function(u,m){var _=void 0;(_=u.getBaseOptions())!=null&&m.writeMessage(1,_,c.BaseOptions.serializeBinaryToWriter),(_=u.getFaceLandmarkerGraphOptions())!=null&&m.writeMessage(2,_,d.FaceLandmarkerGraphOptions.serializeBinaryToWriter),(_=e.Message.getField(u,3))!=null&&m.writeInt32(3,_)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.ext=new e.ExtensionFieldInfo(513916220,{ext:0},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[513916220]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[513916220]=proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.ext,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,c.BaseOptions,1)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.setBaseOptions=function(u){return e.Message.setWrapperField(this,1,u)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.getFaceLandmarkerGraphOptions=function(){return e.Message.getWrapperField(this,d.FaceLandmarkerGraphOptions,2)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.setFaceLandmarkerGraphOptions=function(u){return e.Message.setWrapperField(this,2,u)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.clearFaceLandmarkerGraphOptions=function(){return this.setFaceLandmarkerGraphOptions(void 0)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.hasFaceLandmarkerGraphOptions=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.getFaceAlignmentSize=function(){return e.Message.getFieldWithDefault(this,3,256)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.setFaceAlignmentSize=function(u){return e.Message.setField(this,3,u)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.clearFaceAlignmentSize=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.hasFaceAlignmentSize=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.ext=new e.ExtensionFieldInfo(513916220,{ext:0},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[513916220]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[513916220]=proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.face_stylizer.proto)})(face_stylizer_graph_options_pb);var face_stylizer_options={};Object.defineProperty(face_stylizer_options,"__esModule",{value:!0}),function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(f,y,M,T){T===void 0&&(T=M);var A=Object.getOwnPropertyDescriptor(y,M);A&&!("get"in A?!y.__esModule:A.writable||A.configurable)||(A={enumerable:!0,get:function(){return y[M]}}),Object.defineProperty(f,T,A)}:function(f,y,M,T){T===void 0&&(T=M),f[T]=y[M]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(f,y){for(var M in f)M==="default"||Object.prototype.hasOwnProperty.call(y,M)||e(y,f,M)};Object.defineProperty(t,"__esModule",{value:!0}),t.FaceStylizer=void 0;const n=calculator_pb,o=calculator_options_pb,s=base_options_pb,c=face_stylizer_graph_options_pb,d=vision_task_runner;r(face_stylizer_options,t);const u="image_in",m="norm_rect",_="stylized_image";class g extends d.VisionTaskRunner{static createFromOptions(y,M){return d.VisionTaskRunner.createVisionInstance(g,y,M)}static createFromModelBuffer(y,M){return d.VisionTaskRunner.createVisionInstance(g,y,{baseOptions:{modelAssetBuffer:M}})}static createFromModelPath(y,M){return d.VisionTaskRunner.createVisionInstance(g,y,{baseOptions:{modelAssetPath:M}})}constructor(y,M){super(new d.VisionGraphRunner(y,M),u,m,!0),this.options=new c.FaceStylizerGraphOptions,this.options.setBaseOptions(new s.BaseOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(y){this.options.setBaseOptions(y)}setOptions(y){return super.applyOptions(y)}stylize(y,M,T){const A=typeof M!="function"?M:{};if(this.userCallback=typeof M=="function"?M:T,this.processImageData(y,A??{}),!this.userCallback)return this.result}stylizeForVideo(y,M,T,A){const E=typeof T!="function"?T:{};if(this.userCallback=typeof T=="function"?T:A,this.processVideoData(y,E,M),this.userCallback=void 0,!this.userCallback)return this.result}refreshGraph(){const y=new n.CalculatorGraphConfig;y.addInputStream(u),y.addInputStream(m),y.addOutputStream(_);const M=new o.CalculatorOptions;M.setExtension(c.FaceStylizerGraphOptions.ext,this.options);const T=new n.CalculatorGraphConfig.Node;T.setCalculator("mediapipe.tasks.vision.face_stylizer.FaceStylizerGraph"),T.addInputStream("IMAGE:"+u),T.addInputStream("NORM_RECT:"+m),T.addOutputStream("STYLIZED_IMAGE:"+_),T.setOptions(M),y.addNode(T),this.graphRunner.attachImageListener(_,(E,C)=>{const k=this.convertToMPImage(E,!this.userCallback);this.result=k,this.userCallback&&this.userCallback(k),this.setLatestOutputTimestamp(C)}),this.graphRunner.attachEmptyPacketListener(_,E=>{this.result=null,this.userCallback&&this.userCallback(null),this.setLatestOutputTimestamp(E)});const A=y.serializeBinary();this.setGraph(new Uint8Array(A),!0)}}t.FaceStylizer=g}(face_stylizer);var gesture_recognizer={},gesture_classifier_graph_options_pb={},classifier_options_pb={};(function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.tasks.components.processors.proto.ClassifierOptions",null,n),proto.mediapipe.tasks.components.processors.proto.ClassifierOptions=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.repeatedFields_,null)},r.inherits(proto.mediapipe.tasks.components.processors.proto.ClassifierOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.displayName="proto.mediapipe.tasks.components.processors.proto.ClassifierOptions"),proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.repeatedFields_=[4,5],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.toObject=function(o){return proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.toObject(o,this)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.toObject=function(o,s){var c,d={displayNamesLocale:e.Message.getFieldWithDefault(s,1,"en"),maxResults:e.Message.getFieldWithDefault(s,2,-1),scoreThreshold:(c=e.Message.getOptionalFloatingPointField(s,3))==null?void 0:c,categoryAllowlistList:(c=e.Message.getRepeatedField(s,4))==null?void 0:c,categoryDenylistList:(c=e.Message.getRepeatedField(s,5))==null?void 0:c};return o&&(d.$jspbMessageInstance=s),d}),proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.deserializeBinary=function(o){var s=new e.BinaryReader(o),c=new proto.mediapipe.tasks.components.processors.proto.ClassifierOptions;return proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.deserializeBinaryFromReader(c,s)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var c=s.readString();o.setDisplayNamesLocale(c);break;case 2:c=s.readInt32(),o.setMaxResults(c);break;case 3:c=s.readFloat(),o.setScoreThreshold(c);break;case 4:c=s.readString(),o.addCategoryAllowlist(c);break;case 5:c=s.readString(),o.addCategoryDenylist(c);break;default:s.skipField()}return o},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.serializeBinaryToWriter=function(o,s){var c=void 0;(c=e.Message.getField(o,1))!=null&&s.writeString(1,c),(c=e.Message.getField(o,2))!=null&&s.writeInt32(2,c),(c=e.Message.getField(o,3))!=null&&s.writeFloat(3,c),(c=o.getCategoryAllowlistList()).length>0&&s.writeRepeatedString(4,c),(c=o.getCategoryDenylistList()).length>0&&s.writeRepeatedString(5,c)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.getDisplayNamesLocale=function(){return e.Message.getFieldWithDefault(this,1,"en")},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.setDisplayNamesLocale=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.clearDisplayNamesLocale=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.hasDisplayNamesLocale=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.getMaxResults=function(){return e.Message.getFieldWithDefault(this,2,-1)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.setMaxResults=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.clearMaxResults=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.hasMaxResults=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.getScoreThreshold=function(){return e.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.setScoreThreshold=function(o){return e.Message.setField(this,3,o)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.clearScoreThreshold=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.hasScoreThreshold=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.getCategoryAllowlistList=function(){return e.Message.getRepeatedField(this,4)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.setCategoryAllowlistList=function(o){return e.Message.setField(this,4,o||[])},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.addCategoryAllowlist=function(o,s){return e.Message.addToRepeatedField(this,4,o,s)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.clearCategoryAllowlistList=function(){return this.setCategoryAllowlistList([])},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.getCategoryDenylistList=function(){return e.Message.getRepeatedField(this,5)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.setCategoryDenylistList=function(o){return e.Message.setField(this,5,o||[])},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.addCategoryDenylist=function(o,s){return e.Message.addToRepeatedField(this,5,o,s)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.clearCategoryDenylistList=function(){return this.setCategoryDenylistList([])},r.object.extend(t,proto.mediapipe.tasks.components.processors.proto)})(classifier_options_pb),function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;r.object.extend(proto,o);var s=calculator_options_pb;r.object.extend(proto,s);var c=classifier_options_pb;r.object.extend(proto,c);var d=base_options_pb;r.object.extend(proto,d),r.exportSymbol("proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions",null,n),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions=function(u){e.Message.initialize(this,u,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.displayName="proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.toObject=function(u){return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.toObject(u,this)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.toObject=function(u,m){var _,g={baseOptions:(_=m.getBaseOptions())&&d.BaseOptions.toObject(u,_),classifierOptions:(_=m.getClassifierOptions())&&c.ClassifierOptions.toObject(u,_)};return u&&(g.$jspbMessageInstance=m),g}),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.deserializeBinary=function(u){var m=new e.BinaryReader(u),_=new proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.deserializeBinaryFromReader(_,m)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.deserializeBinaryFromReader=function(u,m){for(;m.nextField()&&!m.isEndGroup();)switch(m.getFieldNumber()){case 1:var _=new d.BaseOptions;m.readMessage(_,d.BaseOptions.deserializeBinaryFromReader),u.setBaseOptions(_);break;case 2:_=new c.ClassifierOptions,m.readMessage(_,c.ClassifierOptions.deserializeBinaryFromReader),u.setClassifierOptions(_);break;default:m.skipField()}return u},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.serializeBinary=function(){var u=new e.BinaryWriter;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.serializeBinaryToWriter(this,u),u.getResultBuffer()},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.serializeBinaryToWriter=function(u,m){var _=void 0;(_=u.getBaseOptions())!=null&&m.writeMessage(1,_,d.BaseOptions.serializeBinaryToWriter),(_=u.getClassifierOptions())!=null&&m.writeMessage(2,_,c.ClassifierOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext=new e.ExtensionFieldInfo(478825465,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[478825465]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[478825465]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,d.BaseOptions,1)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.setBaseOptions=function(u){return e.Message.setWrapperField(this,1,u)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.getClassifierOptions=function(){return e.Message.getWrapperField(this,c.ClassifierOptions,2)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.setClassifierOptions=function(u){return e.Message.setWrapperField(this,2,u)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.clearClassifierOptions=function(){return this.setClassifierOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.hasClassifierOptions=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext=new e.ExtensionFieldInfo(478825465,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[478825465]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[478825465]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.gesture_recognizer.proto)}(gesture_classifier_graph_options_pb);var gesture_recognizer_graph_options_pb={},hand_gesture_recognizer_graph_options_pb={},gesture_embedder_graph_options_pb={};(function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;r.object.extend(proto,o);var s=calculator_options_pb;r.object.extend(proto,s);var c=base_options_pb;r.object.extend(proto,c),r.exportSymbol("proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions",null,n),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions=function(d){e.Message.initialize(this,d,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.displayName="proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.toObject=function(d){return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.toObject(d,this)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.toObject=function(d,u){var m,_={baseOptions:(m=u.getBaseOptions())&&c.BaseOptions.toObject(d,m)};return d&&(_.$jspbMessageInstance=u),_}),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.deserializeBinary=function(d){var u=new e.BinaryReader(d),m=new proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.deserializeBinaryFromReader(m,u)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.deserializeBinaryFromReader=function(d,u){for(;u.nextField()&&!u.isEndGroup();)if(u.getFieldNumber()===1){var m=new c.BaseOptions;u.readMessage(m,c.BaseOptions.deserializeBinaryFromReader),d.setBaseOptions(m)}else u.skipField();return d},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.serializeBinary=function(){var d=new e.BinaryWriter;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.serializeBinaryToWriter(this,d),d.getResultBuffer()},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.serializeBinaryToWriter=function(d,u){var m;(m=d.getBaseOptions())!=null&&u.writeMessage(1,m,c.BaseOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext=new e.ExtensionFieldInfo(478825422,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[478825422]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[478825422]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,c.BaseOptions,1)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.setBaseOptions=function(d){return e.Message.setWrapperField(this,1,d)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext=new e.ExtensionFieldInfo(478825422,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[478825422]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[478825422]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.gesture_recognizer.proto)})(gesture_embedder_graph_options_pb),function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;r.object.extend(proto,o);var s=calculator_options_pb;r.object.extend(proto,s);var c=base_options_pb;r.object.extend(proto,c);var d=gesture_classifier_graph_options_pb;r.object.extend(proto,d);var u=gesture_embedder_graph_options_pb;r.object.extend(proto,u),r.exportSymbol("proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions",null,n),proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions=function(m){e.Message.initialize(this,m,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.displayName="proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.toObject=function(m){return proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.toObject(m,this)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.toObject=function(m,_){var g,f={baseOptions:(g=_.getBaseOptions())&&c.BaseOptions.toObject(m,g),gestureEmbedderGraphOptions:(g=_.getGestureEmbedderGraphOptions())&&u.GestureEmbedderGraphOptions.toObject(m,g),cannedGestureClassifierGraphOptions:(g=_.getCannedGestureClassifierGraphOptions())&&d.GestureClassifierGraphOptions.toObject(m,g),customGestureClassifierGraphOptions:(g=_.getCustomGestureClassifierGraphOptions())&&d.GestureClassifierGraphOptions.toObject(m,g)};return m&&(f.$jspbMessageInstance=_),f}),proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.deserializeBinary=function(m){var _=new e.BinaryReader(m),g=new proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.deserializeBinaryFromReader(g,_)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.deserializeBinaryFromReader=function(m,_){for(;_.nextField()&&!_.isEndGroup();)switch(_.getFieldNumber()){case 1:var g=new c.BaseOptions;_.readMessage(g,c.BaseOptions.deserializeBinaryFromReader),m.setBaseOptions(g);break;case 2:g=new u.GestureEmbedderGraphOptions,_.readMessage(g,u.GestureEmbedderGraphOptions.deserializeBinaryFromReader),m.setGestureEmbedderGraphOptions(g);break;case 3:g=new d.GestureClassifierGraphOptions,_.readMessage(g,d.GestureClassifierGraphOptions.deserializeBinaryFromReader),m.setCannedGestureClassifierGraphOptions(g);break;case 4:g=new d.GestureClassifierGraphOptions,_.readMessage(g,d.GestureClassifierGraphOptions.deserializeBinaryFromReader),m.setCustomGestureClassifierGraphOptions(g);break;default:_.skipField()}return m},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.serializeBinary=function(){var m=new e.BinaryWriter;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.serializeBinaryToWriter(this,m),m.getResultBuffer()},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.serializeBinaryToWriter=function(m,_){var g=void 0;(g=m.getBaseOptions())!=null&&_.writeMessage(1,g,c.BaseOptions.serializeBinaryToWriter),(g=m.getGestureEmbedderGraphOptions())!=null&&_.writeMessage(2,g,u.GestureEmbedderGraphOptions.serializeBinaryToWriter),(g=m.getCannedGestureClassifierGraphOptions())!=null&&_.writeMessage(3,g,d.GestureClassifierGraphOptions.serializeBinaryToWriter),(g=m.getCustomGestureClassifierGraphOptions())!=null&&_.writeMessage(4,g,d.GestureClassifierGraphOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext=new e.ExtensionFieldInfo(463370452,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[463370452]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[463370452]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,c.BaseOptions,1)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.setBaseOptions=function(m){return e.Message.setWrapperField(this,1,m)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.getGestureEmbedderGraphOptions=function(){return e.Message.getWrapperField(this,u.GestureEmbedderGraphOptions,2)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.setGestureEmbedderGraphOptions=function(m){return e.Message.setWrapperField(this,2,m)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.clearGestureEmbedderGraphOptions=function(){return this.setGestureEmbedderGraphOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.hasGestureEmbedderGraphOptions=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.getCannedGestureClassifierGraphOptions=function(){return e.Message.getWrapperField(this,d.GestureClassifierGraphOptions,3)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.setCannedGestureClassifierGraphOptions=function(m){return e.Message.setWrapperField(this,3,m)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.clearCannedGestureClassifierGraphOptions=function(){return this.setCannedGestureClassifierGraphOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.hasCannedGestureClassifierGraphOptions=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.getCustomGestureClassifierGraphOptions=function(){return e.Message.getWrapperField(this,d.GestureClassifierGraphOptions,4)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.setCustomGestureClassifierGraphOptions=function(m){return e.Message.setWrapperField(this,4,m)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.clearCustomGestureClassifierGraphOptions=function(){return this.setCustomGestureClassifierGraphOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.hasCustomGestureClassifierGraphOptions=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext=new e.ExtensionFieldInfo(463370452,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[463370452]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[463370452]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.gesture_recognizer.proto)}(hand_gesture_recognizer_graph_options_pb);var hand_landmarker_graph_options_pb={},hand_detector_graph_options_pb={};(function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;r.object.extend(proto,o);var s=calculator_options_pb;r.object.extend(proto,s);var c=base_options_pb;r.object.extend(proto,c),r.exportSymbol("proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions",null,n),proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions=function(d){e.Message.initialize(this,d,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.displayName="proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.toObject=function(d){return proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.toObject(d,this)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.toObject=function(d,u){var m,_={baseOptions:(m=u.getBaseOptions())&&c.BaseOptions.toObject(d,m),minDetectionConfidence:e.Message.getFloatingPointFieldWithDefault(u,2,.5),numHands:(m=e.Message.getField(u,3))==null?void 0:m};return d&&(_.$jspbMessageInstance=u),_}),proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.deserializeBinary=function(d){var u=new e.BinaryReader(d),m=new proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions;return proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.deserializeBinaryFromReader(m,u)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.deserializeBinaryFromReader=function(d,u){for(;u.nextField()&&!u.isEndGroup();)switch(u.getFieldNumber()){case 1:var m=new c.BaseOptions;u.readMessage(m,c.BaseOptions.deserializeBinaryFromReader),d.setBaseOptions(m);break;case 2:m=u.readFloat(),d.setMinDetectionConfidence(m);break;case 3:m=u.readInt32(),d.setNumHands(m);break;default:u.skipField()}return d},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.serializeBinary=function(){var d=new e.BinaryWriter;return proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.serializeBinaryToWriter(this,d),d.getResultBuffer()},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.serializeBinaryToWriter=function(d,u){var m=void 0;(m=d.getBaseOptions())!=null&&u.writeMessage(1,m,c.BaseOptions.serializeBinaryToWriter),(m=e.Message.getField(d,2))!=null&&u.writeFloat(2,m),(m=e.Message.getField(d,3))!=null&&u.writeInt32(3,m)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext=new e.ExtensionFieldInfo(464864288,{ext:0},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[464864288]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[464864288]=proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,c.BaseOptions,1)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.setBaseOptions=function(d){return e.Message.setWrapperField(this,1,d)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.getMinDetectionConfidence=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,.5)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.setMinDetectionConfidence=function(d){return e.Message.setField(this,2,d)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.clearMinDetectionConfidence=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.hasMinDetectionConfidence=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.getNumHands=function(){return e.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.setNumHands=function(d){return e.Message.setField(this,3,d)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.clearNumHands=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.hasNumHands=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext=new e.ExtensionFieldInfo(464864288,{ext:0},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[464864288]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[464864288]=proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.hand_detector.proto)})(hand_detector_graph_options_pb);var hand_landmarks_detector_graph_options_pb={};(function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;r.object.extend(proto,o);var s=calculator_options_pb;r.object.extend(proto,s);var c=base_options_pb;r.object.extend(proto,c),r.exportSymbol("proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions",null,n),proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions=function(d){e.Message.initialize(this,d,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.displayName="proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.toObject=function(d){return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.toObject(d,this)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.toObject=function(d,u){var m,_={baseOptions:(m=u.getBaseOptions())&&c.BaseOptions.toObject(d,m),minDetectionConfidence:e.Message.getFloatingPointFieldWithDefault(u,2,.5)};return d&&(_.$jspbMessageInstance=u),_}),proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.deserializeBinary=function(d){var u=new e.BinaryReader(d),m=new proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions;return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.deserializeBinaryFromReader(m,u)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.deserializeBinaryFromReader=function(d,u){for(;u.nextField()&&!u.isEndGroup();)switch(u.getFieldNumber()){case 1:var m=new c.BaseOptions;u.readMessage(m,c.BaseOptions.deserializeBinaryFromReader),d.setBaseOptions(m);break;case 2:m=u.readFloat(),d.setMinDetectionConfidence(m);break;default:u.skipField()}return d},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.serializeBinary=function(){var d=new e.BinaryWriter;return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.serializeBinaryToWriter(this,d),d.getResultBuffer()},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.serializeBinaryToWriter=function(d,u){var m=void 0;(m=d.getBaseOptions())!=null&&u.writeMessage(1,m,c.BaseOptions.serializeBinaryToWriter),(m=e.Message.getField(d,2))!=null&&u.writeFloat(2,m)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext=new e.ExtensionFieldInfo(474472470,{ext:0},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[474472470]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[474472470]=proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,c.BaseOptions,1)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.setBaseOptions=function(d){return e.Message.setWrapperField(this,1,d)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.getMinDetectionConfidence=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,.5)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.setMinDetectionConfidence=function(d){return e.Message.setField(this,2,d)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.clearMinDetectionConfidence=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.hasMinDetectionConfidence=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext=new e.ExtensionFieldInfo(474472470,{ext:0},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[474472470]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[474472470]=proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.hand_landmarker.proto)})(hand_landmarks_detector_graph_options_pb),function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;r.object.extend(proto,o);var s=calculator_options_pb;r.object.extend(proto,s);var c=base_options_pb;r.object.extend(proto,c);var d=hand_detector_graph_options_pb;r.object.extend(proto,d);var u=hand_landmarks_detector_graph_options_pb;r.object.extend(proto,u),r.exportSymbol("proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions",null,n),proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions=function(m){e.Message.initialize(this,m,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.displayName="proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.toObject=function(m){return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.toObject(m,this)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.toObject=function(m,_){var g,f={baseOptions:(g=_.getBaseOptions())&&c.BaseOptions.toObject(m,g),handDetectorGraphOptions:(g=_.getHandDetectorGraphOptions())&&d.HandDetectorGraphOptions.toObject(m,g),handLandmarksDetectorGraphOptions:(g=_.getHandLandmarksDetectorGraphOptions())&&u.HandLandmarksDetectorGraphOptions.toObject(m,g),minTrackingConfidence:e.Message.getFloatingPointFieldWithDefault(_,4,.5)};return m&&(f.$jspbMessageInstance=_),f}),proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.deserializeBinary=function(m){var _=new e.BinaryReader(m),g=new proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions;return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.deserializeBinaryFromReader(g,_)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.deserializeBinaryFromReader=function(m,_){for(;_.nextField()&&!_.isEndGroup();)switch(_.getFieldNumber()){case 1:var g=new c.BaseOptions;_.readMessage(g,c.BaseOptions.deserializeBinaryFromReader),m.setBaseOptions(g);break;case 2:g=new d.HandDetectorGraphOptions,_.readMessage(g,d.HandDetectorGraphOptions.deserializeBinaryFromReader),m.setHandDetectorGraphOptions(g);break;case 3:g=new u.HandLandmarksDetectorGraphOptions,_.readMessage(g,u.HandLandmarksDetectorGraphOptions.deserializeBinaryFromReader),m.setHandLandmarksDetectorGraphOptions(g);break;case 4:g=_.readFloat(),m.setMinTrackingConfidence(g);break;default:_.skipField()}return m},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.serializeBinary=function(){var m=new e.BinaryWriter;return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.serializeBinaryToWriter(this,m),m.getResultBuffer()},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.serializeBinaryToWriter=function(m,_){var g=void 0;(g=m.getBaseOptions())!=null&&_.writeMessage(1,g,c.BaseOptions.serializeBinaryToWriter),(g=m.getHandDetectorGraphOptions())!=null&&_.writeMessage(2,g,d.HandDetectorGraphOptions.serializeBinaryToWriter),(g=m.getHandLandmarksDetectorGraphOptions())!=null&&_.writeMessage(3,g,u.HandLandmarksDetectorGraphOptions.serializeBinaryToWriter),(g=e.Message.getField(m,4))!=null&&_.writeFloat(4,g)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext=new e.ExtensionFieldInfo(462713202,{ext:0},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[462713202]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[462713202]=proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,c.BaseOptions,1)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.setBaseOptions=function(m){return e.Message.setWrapperField(this,1,m)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.getHandDetectorGraphOptions=function(){return e.Message.getWrapperField(this,d.HandDetectorGraphOptions,2)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.setHandDetectorGraphOptions=function(m){return e.Message.setWrapperField(this,2,m)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.clearHandDetectorGraphOptions=function(){return this.setHandDetectorGraphOptions(void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.hasHandDetectorGraphOptions=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.getHandLandmarksDetectorGraphOptions=function(){return e.Message.getWrapperField(this,u.HandLandmarksDetectorGraphOptions,3)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.setHandLandmarksDetectorGraphOptions=function(m){return e.Message.setWrapperField(this,3,m)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.clearHandLandmarksDetectorGraphOptions=function(){return this.setHandLandmarksDetectorGraphOptions(void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.hasHandLandmarksDetectorGraphOptions=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.getMinTrackingConfidence=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,.5)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.setMinTrackingConfidence=function(m){return e.Message.setField(this,4,m)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.clearMinTrackingConfidence=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.hasMinTrackingConfidence=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext=new e.ExtensionFieldInfo(462713202,{ext:0},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[462713202]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[462713202]=proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.hand_landmarker.proto)}(hand_landmarker_graph_options_pb),function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;r.object.extend(proto,o);var s=calculator_options_pb;r.object.extend(proto,s);var c=base_options_pb;r.object.extend(proto,c);var d=hand_gesture_recognizer_graph_options_pb;r.object.extend(proto,d);var u=hand_landmarker_graph_options_pb;r.object.extend(proto,u),r.exportSymbol("proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions",null,n),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions=function(m){e.Message.initialize(this,m,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.displayName="proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.toObject=function(m){return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.toObject(m,this)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.toObject=function(m,_){var g,f={baseOptions:(g=_.getBaseOptions())&&c.BaseOptions.toObject(m,g),handLandmarkerGraphOptions:(g=_.getHandLandmarkerGraphOptions())&&u.HandLandmarkerGraphOptions.toObject(m,g),handGestureRecognizerGraphOptions:(g=_.getHandGestureRecognizerGraphOptions())&&d.HandGestureRecognizerGraphOptions.toObject(m,g)};return m&&(f.$jspbMessageInstance=_),f}),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.deserializeBinary=function(m){var _=new e.BinaryReader(m),g=new proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.deserializeBinaryFromReader(g,_)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.deserializeBinaryFromReader=function(m,_){for(;_.nextField()&&!_.isEndGroup();)switch(_.getFieldNumber()){case 1:var g=new c.BaseOptions;_.readMessage(g,c.BaseOptions.deserializeBinaryFromReader),m.setBaseOptions(g);break;case 2:g=new u.HandLandmarkerGraphOptions,_.readMessage(g,u.HandLandmarkerGraphOptions.deserializeBinaryFromReader),m.setHandLandmarkerGraphOptions(g);break;case 3:g=new d.HandGestureRecognizerGraphOptions,_.readMessage(g,d.HandGestureRecognizerGraphOptions.deserializeBinaryFromReader),m.setHandGestureRecognizerGraphOptions(g);break;default:_.skipField()}return m},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.serializeBinary=function(){var m=new e.BinaryWriter;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.serializeBinaryToWriter(this,m),m.getResultBuffer()},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.serializeBinaryToWriter=function(m,_){var g=void 0;(g=m.getBaseOptions())!=null&&_.writeMessage(1,g,c.BaseOptions.serializeBinaryToWriter),(g=m.getHandLandmarkerGraphOptions())!=null&&_.writeMessage(2,g,u.HandLandmarkerGraphOptions.serializeBinaryToWriter),(g=m.getHandGestureRecognizerGraphOptions())!=null&&_.writeMessage(3,g,d.HandGestureRecognizerGraphOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext=new e.ExtensionFieldInfo(479097054,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[479097054]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[479097054]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,c.BaseOptions,1)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.setBaseOptions=function(m){return e.Message.setWrapperField(this,1,m)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.getHandLandmarkerGraphOptions=function(){return e.Message.getWrapperField(this,u.HandLandmarkerGraphOptions,2)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.setHandLandmarkerGraphOptions=function(m){return e.Message.setWrapperField(this,2,m)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.clearHandLandmarkerGraphOptions=function(){return this.setHandLandmarkerGraphOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.hasHandLandmarkerGraphOptions=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.getHandGestureRecognizerGraphOptions=function(){return e.Message.getWrapperField(this,d.HandGestureRecognizerGraphOptions,3)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.setHandGestureRecognizerGraphOptions=function(m){return e.Message.setWrapperField(this,3,m)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.clearHandGestureRecognizerGraphOptions=function(){return this.setHandGestureRecognizerGraphOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.hasHandGestureRecognizerGraphOptions=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext=new e.ExtensionFieldInfo(479097054,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[479097054]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[479097054]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.gesture_recognizer.proto)}(gesture_recognizer_graph_options_pb);var classifier_options={};Object.defineProperty(classifier_options,"__esModule",{value:!0}),classifier_options.convertClassifierOptionsToProto=void 0;const classifier_options_pb_1=classifier_options_pb;function convertClassifierOptionsToProto(t,e){const r=e?e.clone():new classifier_options_pb_1.ClassifierOptions;return t.displayNamesLocale!==void 0?r.setDisplayNamesLocale(t.displayNamesLocale):t.displayNamesLocale===void 0&&r.clearDisplayNamesLocale(),t.maxResults!==void 0?r.setMaxResults(t.maxResults):"maxResults"in t&&r.clearMaxResults(),t.scoreThreshold!==void 0?r.setScoreThreshold(t.scoreThreshold):"scoreThreshold"in t&&r.clearScoreThreshold(),t.categoryAllowlist!==void 0?r.setCategoryAllowlistList(t.categoryAllowlist):"categoryAllowlist"in t&&r.clearCategoryAllowlistList(),t.categoryDenylist!==void 0?r.setCategoryDenylistList(t.categoryDenylist):"categoryDenylist"in t&&r.clearCategoryDenylistList(),r}classifier_options.convertClassifierOptionsToProto=convertClassifierOptionsToProto;var hand_landmarks_connections={};Object.defineProperty(hand_landmarks_connections,"__esModule",{value:!0}),hand_landmarks_connections.HAND_CONNECTIONS=void 0,hand_landmarks_connections.HAND_CONNECTIONS=[{start:0,end:1},{start:1,end:2},{start:2,end:3},{start:3,end:4},{start:0,end:5},{start:5,end:6},{start:6,end:7},{start:7,end:8},{start:5,end:9},{start:9,end:10},{start:10,end:11},{start:11,end:12},{start:9,end:13},{start:13,end:14},{start:14,end:15},{start:15,end:16},{start:13,end:17},{start:0,end:17},{start:17,end:18},{start:18,end:19},{start:19,end:20}];var gesture_recognizer_options={};Object.defineProperty(gesture_recognizer_options,"__esModule",{value:!0});var gesture_recognizer_result={};Object.defineProperty(gesture_recognizer_result,"__esModule",{value:!0}),function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(N,W,ne,re){re===void 0&&(re=ne);var le=Object.getOwnPropertyDescriptor(W,ne);le&&!("get"in le?!W.__esModule:le.writable||le.configurable)||(le={enumerable:!0,get:function(){return W[ne]}}),Object.defineProperty(N,re,le)}:function(N,W,ne,re){re===void 0&&(re=ne),N[re]=W[ne]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(N,W){for(var ne in N)ne==="default"||Object.prototype.hasOwnProperty.call(W,ne)||e(W,N,ne)};Object.defineProperty(t,"__esModule",{value:!0}),t.GestureRecognizer=void 0;const n=calculator_pb,o=calculator_options_pb,s=classification_pb,c=landmark_pb,d=base_options_pb,u=gesture_classifier_graph_options_pb,m=gesture_recognizer_graph_options_pb,_=hand_gesture_recognizer_graph_options_pb,g=hand_detector_graph_options_pb,f=hand_landmarker_graph_options_pb,y=hand_landmarks_detector_graph_options_pb,M=classifier_options,T=vision_task_runner,A=hand_landmarks_connections;r(gesture_recognizer_options,t),r(gesture_recognizer_result,t);const E="image_in",C="norm_rect",k="hand_gestures",O="hand_landmarks",I="world_hand_landmarks",B="handedness",j=.5;class U extends T.VisionTaskRunner{static createFromOptions(W,ne){return T.VisionTaskRunner.createVisionInstance(U,W,ne)}static createFromModelBuffer(W,ne){return T.VisionTaskRunner.createVisionInstance(U,W,{baseOptions:{modelAssetBuffer:ne}})}static createFromModelPath(W,ne){return T.VisionTaskRunner.createVisionInstance(U,W,{baseOptions:{modelAssetPath:ne}})}constructor(W,ne){super(new T.VisionGraphRunner(W,ne),E,C,!1),this.gestures=[],this.landmarks=[],this.worldLandmarks=[],this.handednesses=[],this.options=new m.GestureRecognizerGraphOptions,this.options.setBaseOptions(new d.BaseOptions),this.handLandmarkerGraphOptions=new f.HandLandmarkerGraphOptions,this.options.setHandLandmarkerGraphOptions(this.handLandmarkerGraphOptions),this.handLandmarksDetectorGraphOptions=new y.HandLandmarksDetectorGraphOptions,this.handLandmarkerGraphOptions.setHandLandmarksDetectorGraphOptions(this.handLandmarksDetectorGraphOptions),this.handDetectorGraphOptions=new g.HandDetectorGraphOptions,this.handLandmarkerGraphOptions.setHandDetectorGraphOptions(this.handDetectorGraphOptions),this.handGestureRecognizerGraphOptions=new _.HandGestureRecognizerGraphOptions,this.options.setHandGestureRecognizerGraphOptions(this.handGestureRecognizerGraphOptions),this.handDetectorGraphOptions.setMinDetectionConfidence(j),this.handLandmarkerGraphOptions.setMinTrackingConfidence(j),this.handLandmarksDetectorGraphOptions.setMinDetectionConfidence(j)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(W){this.options.setBaseOptions(W)}setOptions(W){var ne,re,le,ae,pe,K,q,D;if(this.handDetectorGraphOptions.setNumHands((ne=W.numHands)!==null&&ne!==void 0?ne:1),"minHandDetectionConfidence"in W&&this.handDetectorGraphOptions.setMinDetectionConfidence((re=W.minHandDetectionConfidence)!==null&&re!==void 0?re:j),"minTrackingConfidence"in W&&this.handLandmarkerGraphOptions.setMinTrackingConfidence((le=W.minTrackingConfidence)!==null&&le!==void 0?le:j),"minHandPresenceConfidence"in W&&this.handLandmarksDetectorGraphOptions.setMinDetectionConfidence((ae=W.minHandPresenceConfidence)!==null&&ae!==void 0?ae:j),W.cannedGesturesClassifierOptions){const z=new u.GestureClassifierGraphOptions;z.setClassifierOptions((0,M.convertClassifierOptionsToProto)(W.cannedGesturesClassifierOptions,(pe=this.handGestureRecognizerGraphOptions.getCannedGestureClassifierGraphOptions())===null||pe===void 0?void 0:pe.getClassifierOptions())),this.handGestureRecognizerGraphOptions.setCannedGestureClassifierGraphOptions(z)}else W.cannedGesturesClassifierOptions===void 0&&((K=this.handGestureRecognizerGraphOptions.getCannedGestureClassifierGraphOptions())===null||K===void 0||K.clearClassifierOptions());if(W.customGesturesClassifierOptions){const z=new u.GestureClassifierGraphOptions;z.setClassifierOptions((0,M.convertClassifierOptionsToProto)(W.customGesturesClassifierOptions,(q=this.handGestureRecognizerGraphOptions.getCustomGestureClassifierGraphOptions())===null||q===void 0?void 0:q.getClassifierOptions())),this.handGestureRecognizerGraphOptions.setCustomGestureClassifierGraphOptions(z)}else W.customGesturesClassifierOptions===void 0&&((D=this.handGestureRecognizerGraphOptions.getCustomGestureClassifierGraphOptions())===null||D===void 0||D.clearClassifierOptions());return this.applyOptions(W)}recognize(W,ne){return this.resetResults(),this.processImageData(W,ne),this.processResults()}recognizeForVideo(W,ne,re){return this.resetResults(),this.processVideoData(W,re,ne),this.processResults()}resetResults(){this.gestures=[],this.landmarks=[],this.worldLandmarks=[],this.handednesses=[]}processResults(){return this.gestures.length===0?{gestures:[],landmarks:[],worldLandmarks:[],handednesses:[]}:{gestures:this.gestures,landmarks:this.landmarks,worldLandmarks:this.worldLandmarks,handednesses:this.handednesses}}toJsCategories(W,ne=!0){var re,le,ae;const pe=[];for(const K of W){const q=s.ClassificationList.deserializeBinary(K),D=[];for(const z of q.getClassificationList()){const J=ne&&z.hasIndex()?z.getIndex():-1;D.push({score:(re=z.getScore())!==null&&re!==void 0?re:0,index:J,categoryName:(le=z.getLabel())!==null&&le!==void 0?le:"",displayName:(ae=z.getDisplayName())!==null&&ae!==void 0?ae:""})}pe.push(D)}return pe}addJsLandmarks(W){var ne,re,le;for(const ae of W){const pe=c.NormalizedLandmarkList.deserializeBinary(ae),K=[];for(const q of pe.getLandmarkList())K.push({x:(ne=q.getX())!==null&&ne!==void 0?ne:0,y:(re=q.getY())!==null&&re!==void 0?re:0,z:(le=q.getZ())!==null&&le!==void 0?le:0});this.landmarks.push(K)}}adddJsWorldLandmarks(W){var ne,re,le;for(const ae of W){const pe=c.LandmarkList.deserializeBinary(ae),K=[];for(const q of pe.getLandmarkList())K.push({x:(ne=q.getX())!==null&&ne!==void 0?ne:0,y:(re=q.getY())!==null&&re!==void 0?re:0,z:(le=q.getZ())!==null&&le!==void 0?le:0});this.worldLandmarks.push(K)}}refreshGraph(){const W=new n.CalculatorGraphConfig;W.addInputStream(E),W.addInputStream(C),W.addOutputStream(k),W.addOutputStream(O),W.addOutputStream(I),W.addOutputStream(B);const ne=new o.CalculatorOptions;ne.setExtension(m.GestureRecognizerGraphOptions.ext,this.options);const re=new n.CalculatorGraphConfig.Node;re.setCalculator("mediapipe.tasks.vision.gesture_recognizer.GestureRecognizerGraph"),re.addInputStream("IMAGE:"+E),re.addInputStream("NORM_RECT:"+C),re.addOutputStream("HAND_GESTURES:"+k),re.addOutputStream("LANDMARKS:"+O),re.addOutputStream("WORLD_LANDMARKS:"+I),re.addOutputStream("HANDEDNESS:"+B),re.setOptions(ne),W.addNode(re),this.graphRunner.attachProtoVectorListener(O,(ae,pe)=>{this.addJsLandmarks(ae),this.setLatestOutputTimestamp(pe)}),this.graphRunner.attachEmptyPacketListener(O,ae=>{this.setLatestOutputTimestamp(ae)}),this.graphRunner.attachProtoVectorListener(I,(ae,pe)=>{this.adddJsWorldLandmarks(ae),this.setLatestOutputTimestamp(pe)}),this.graphRunner.attachEmptyPacketListener(I,ae=>{this.setLatestOutputTimestamp(ae)}),this.graphRunner.attachProtoVectorListener(k,(ae,pe)=>{this.gestures.push(...this.toJsCategories(ae,!1)),this.setLatestOutputTimestamp(pe)}),this.graphRunner.attachEmptyPacketListener(k,ae=>{this.setLatestOutputTimestamp(ae)}),this.graphRunner.attachProtoVectorListener(B,(ae,pe)=>{this.handednesses.push(...this.toJsCategories(ae)),this.setLatestOutputTimestamp(pe)}),this.graphRunner.attachEmptyPacketListener(B,ae=>{this.setLatestOutputTimestamp(ae)});const le=W.serializeBinary();this.setGraph(new Uint8Array(le),!0)}}t.GestureRecognizer=U,U.HAND_CONNECTIONS=A.HAND_CONNECTIONS}(gesture_recognizer);var hand_landmarker={},hand_landmarker_options={};Object.defineProperty(hand_landmarker_options,"__esModule",{value:!0});var hand_landmarker_result={};Object.defineProperty(hand_landmarker_result,"__esModule",{value:!0}),function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(I,B,j,U){U===void 0&&(U=j);var N=Object.getOwnPropertyDescriptor(B,j);N&&!("get"in N?!B.__esModule:N.writable||N.configurable)||(N={enumerable:!0,get:function(){return B[j]}}),Object.defineProperty(I,U,N)}:function(I,B,j,U){U===void 0&&(U=j),I[U]=B[j]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(I,B){for(var j in I)j==="default"||Object.prototype.hasOwnProperty.call(B,j)||e(B,I,j)};Object.defineProperty(t,"__esModule",{value:!0}),t.HandLandmarker=void 0;const n=calculator_pb,o=calculator_options_pb,s=classification_pb,c=landmark_pb,d=base_options_pb,u=hand_detector_graph_options_pb,m=hand_landmarker_graph_options_pb,_=hand_landmarks_detector_graph_options_pb,g=landmark_result,f=vision_task_runner,y=hand_landmarks_connections;r(hand_landmarker_options,t),r(hand_landmarker_result,t);const M="image_in",T="norm_rect",A="hand_landmarks",E="world_hand_landmarks",C="handedness",k=.5;class O extends f.VisionTaskRunner{static createFromOptions(B,j){return f.VisionTaskRunner.createVisionInstance(O,B,j)}static createFromModelBuffer(B,j){return f.VisionTaskRunner.createVisionInstance(O,B,{baseOptions:{modelAssetBuffer:j}})}static createFromModelPath(B,j){return f.VisionTaskRunner.createVisionInstance(O,B,{baseOptions:{modelAssetPath:j}})}constructor(B,j){super(new f.VisionGraphRunner(B,j),M,T,!1),this.landmarks=[],this.worldLandmarks=[],this.handednesses=[],this.options=new m.HandLandmarkerGraphOptions,this.options.setBaseOptions(new d.BaseOptions),this.handLandmarksDetectorGraphOptions=new _.HandLandmarksDetectorGraphOptions,this.options.setHandLandmarksDetectorGraphOptions(this.handLandmarksDetectorGraphOptions),this.handDetectorGraphOptions=new u.HandDetectorGraphOptions,this.options.setHandDetectorGraphOptions(this.handDetectorGraphOptions),this.initDefaults()}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(B){this.options.setBaseOptions(B)}setOptions(B){var j,U,N,W;return"numHands"in B&&this.handDetectorGraphOptions.setNumHands((j=B.numHands)!==null&&j!==void 0?j:1),"minHandDetectionConfidence"in B&&this.handDetectorGraphOptions.setMinDetectionConfidence((U=B.minHandDetectionConfidence)!==null&&U!==void 0?U:k),"minTrackingConfidence"in B&&this.options.setMinTrackingConfidence((N=B.minTrackingConfidence)!==null&&N!==void 0?N:k),"minHandPresenceConfidence"in B&&this.handLandmarksDetectorGraphOptions.setMinDetectionConfidence((W=B.minHandPresenceConfidence)!==null&&W!==void 0?W:k),this.applyOptions(B)}detect(B,j){return this.resetResults(),this.processImageData(B,j),this.processResults()}detectForVideo(B,j,U){return this.resetResults(),this.processVideoData(B,U,j),this.processResults()}resetResults(){this.landmarks=[],this.worldLandmarks=[],this.handednesses=[]}processResults(){return{landmarks:this.landmarks,worldLandmarks:this.worldLandmarks,handednesses:this.handednesses}}initDefaults(){this.handDetectorGraphOptions.setNumHands(1),this.handDetectorGraphOptions.setMinDetectionConfidence(k),this.handLandmarksDetectorGraphOptions.setMinDetectionConfidence(k),this.options.setMinTrackingConfidence(k)}toJsCategories(B){var j,U,N,W;const ne=[];for(const re of B){const le=s.ClassificationList.deserializeBinary(re),ae=[];for(const pe of le.getClassificationList())ae.push({score:(j=pe.getScore())!==null&&j!==void 0?j:0,index:(U=pe.getIndex())!==null&&U!==void 0?U:-1,categoryName:(N=pe.getLabel())!==null&&N!==void 0?N:"",displayName:(W=pe.getDisplayName())!==null&&W!==void 0?W:""});ne.push(ae)}return ne}addJsLandmarks(B){for(const j of B){const U=c.NormalizedLandmarkList.deserializeBinary(j);this.landmarks.push((0,g.convertToLandmarks)(U))}}adddJsWorldLandmarks(B){for(const j of B){const U=c.LandmarkList.deserializeBinary(j);this.worldLandmarks.push((0,g.convertToWorldLandmarks)(U))}}refreshGraph(){const B=new n.CalculatorGraphConfig;B.addInputStream(M),B.addInputStream(T),B.addOutputStream(A),B.addOutputStream(E),B.addOutputStream(C);const j=new o.CalculatorOptions;j.setExtension(m.HandLandmarkerGraphOptions.ext,this.options);const U=new n.CalculatorGraphConfig.Node;U.setCalculator("mediapipe.tasks.vision.hand_landmarker.HandLandmarkerGraph"),U.addInputStream("IMAGE:"+M),U.addInputStream("NORM_RECT:"+T),U.addOutputStream("LANDMARKS:"+A),U.addOutputStream("WORLD_LANDMARKS:"+E),U.addOutputStream("HANDEDNESS:"+C),U.setOptions(j),B.addNode(U),this.graphRunner.attachProtoVectorListener(A,(W,ne)=>{this.addJsLandmarks(W),this.setLatestOutputTimestamp(ne)}),this.graphRunner.attachEmptyPacketListener(A,W=>{this.setLatestOutputTimestamp(W)}),this.graphRunner.attachProtoVectorListener(E,(W,ne)=>{this.adddJsWorldLandmarks(W),this.setLatestOutputTimestamp(ne)}),this.graphRunner.attachEmptyPacketListener(E,W=>{this.setLatestOutputTimestamp(W)}),this.graphRunner.attachProtoVectorListener(C,(W,ne)=>{this.handednesses.push(...this.toJsCategories(W)),this.setLatestOutputTimestamp(ne)}),this.graphRunner.attachEmptyPacketListener(C,W=>{this.setLatestOutputTimestamp(W)});const N=B.serializeBinary();this.setGraph(new Uint8Array(N),!0)}}t.HandLandmarker=O,O.HAND_CONNECTIONS=y.HAND_CONNECTIONS}(hand_landmarker);var image_classifier={},classifications_pb={};(function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=classification_pb;r.object.extend(proto,o),r.exportSymbol("proto.mediapipe.tasks.components.containers.proto.ClassificationResult",null,n),r.exportSymbol("proto.mediapipe.tasks.components.containers.proto.Classifications",null,n),proto.mediapipe.tasks.components.containers.proto.Classifications=function(s){e.Message.initialize(this,s,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.components.containers.proto.Classifications,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.Classifications.displayName="proto.mediapipe.tasks.components.containers.proto.Classifications"),proto.mediapipe.tasks.components.containers.proto.ClassificationResult=function(s){e.Message.initialize(this,s,0,-1,proto.mediapipe.tasks.components.containers.proto.ClassificationResult.repeatedFields_,null)},r.inherits(proto.mediapipe.tasks.components.containers.proto.ClassificationResult,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.ClassificationResult.displayName="proto.mediapipe.tasks.components.containers.proto.ClassificationResult"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.toObject=function(s){return proto.mediapipe.tasks.components.containers.proto.Classifications.toObject(s,this)},proto.mediapipe.tasks.components.containers.proto.Classifications.toObject=function(s,c){var d,u={classificationList:(d=c.getClassificationList())&&o.ClassificationList.toObject(s,d),headIndex:(d=e.Message.getField(c,2))==null?void 0:d,headName:(d=e.Message.getField(c,3))==null?void 0:d};return s&&(u.$jspbMessageInstance=c),u}),proto.mediapipe.tasks.components.containers.proto.Classifications.deserializeBinary=function(s){var c=new e.BinaryReader(s),d=new proto.mediapipe.tasks.components.containers.proto.Classifications;return proto.mediapipe.tasks.components.containers.proto.Classifications.deserializeBinaryFromReader(d,c)},proto.mediapipe.tasks.components.containers.proto.Classifications.deserializeBinaryFromReader=function(s,c){for(;c.nextField()&&!c.isEndGroup();)switch(c.getFieldNumber()){case 4:var d=new o.ClassificationList;c.readMessage(d,o.ClassificationList.deserializeBinaryFromReader),s.setClassificationList(d);break;case 2:d=c.readInt32(),s.setHeadIndex(d);break;case 3:d=c.readString(),s.setHeadName(d);break;default:c.skipField()}return s},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.Classifications.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.Classifications.serializeBinaryToWriter=function(s,c){var d=void 0;(d=s.getClassificationList())!=null&&c.writeMessage(4,d,o.ClassificationList.serializeBinaryToWriter),(d=e.Message.getField(s,2))!=null&&c.writeInt32(2,d),(d=e.Message.getField(s,3))!=null&&c.writeString(3,d)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.getClassificationList=function(){return e.Message.getWrapperField(this,o.ClassificationList,4)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.setClassificationList=function(s){return e.Message.setWrapperField(this,4,s)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.clearClassificationList=function(){return this.setClassificationList(void 0)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.hasClassificationList=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.getHeadIndex=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.setHeadIndex=function(s){return e.Message.setField(this,2,s)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.clearHeadIndex=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.hasHeadIndex=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.getHeadName=function(){return e.Message.getFieldWithDefault(this,3,"")},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.setHeadName=function(s){return e.Message.setField(this,3,s)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.clearHeadName=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.hasHeadName=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.toObject=function(s){return proto.mediapipe.tasks.components.containers.proto.ClassificationResult.toObject(s,this)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.toObject=function(s,c){var d,u={classificationsList:e.Message.toObjectList(c.getClassificationsList(),proto.mediapipe.tasks.components.containers.proto.Classifications.toObject,s),timestampMs:(d=e.Message.getField(c,2))==null?void 0:d};return s&&(u.$jspbMessageInstance=c),u}),proto.mediapipe.tasks.components.containers.proto.ClassificationResult.deserializeBinary=function(s){var c=new e.BinaryReader(s),d=new proto.mediapipe.tasks.components.containers.proto.ClassificationResult;return proto.mediapipe.tasks.components.containers.proto.ClassificationResult.deserializeBinaryFromReader(d,c)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.deserializeBinaryFromReader=function(s,c){for(;c.nextField()&&!c.isEndGroup();)switch(c.getFieldNumber()){case 1:var d=new proto.mediapipe.tasks.components.containers.proto.Classifications;c.readMessage(d,proto.mediapipe.tasks.components.containers.proto.Classifications.deserializeBinaryFromReader),s.addClassifications(d);break;case 2:d=c.readInt64(),s.setTimestampMs(d);break;default:c.skipField()}return s},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.ClassificationResult.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.serializeBinaryToWriter=function(s,c){var d=void 0;(d=s.getClassificationsList()).length>0&&c.writeRepeatedMessage(1,d,proto.mediapipe.tasks.components.containers.proto.Classifications.serializeBinaryToWriter),(d=e.Message.getField(s,2))!=null&&c.writeInt64(2,d)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.getClassificationsList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.tasks.components.containers.proto.Classifications,1)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.setClassificationsList=function(s){return e.Message.setRepeatedWrapperField(this,1,s)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.addClassifications=function(s,c){return e.Message.addToRepeatedWrapperField(this,1,s,proto.mediapipe.tasks.components.containers.proto.Classifications,c)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.clearClassificationsList=function(){return this.setClassificationsList([])},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.getTimestampMs=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.setTimestampMs=function(s){return e.Message.setField(this,2,s)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.clearTimestampMs=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.hasTimestampMs=function(){return e.Message.getField(this,2)!=null},r.object.extend(t,proto.mediapipe.tasks.components.containers.proto)})(classifications_pb);var image_classifier_graph_options_pb={};(function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;r.object.extend(proto,o);var s=calculator_options_pb;r.object.extend(proto,s);var c=classifier_options_pb;r.object.extend(proto,c);var d=base_options_pb;r.object.extend(proto,d),r.exportSymbol("proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions",null,n),proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions=function(u){e.Message.initialize(this,u,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.displayName="proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.toObject=function(u){return proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.toObject(u,this)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.toObject=function(u,m){var _,g={baseOptions:(_=m.getBaseOptions())&&d.BaseOptions.toObject(u,_),classifierOptions:(_=m.getClassifierOptions())&&c.ClassifierOptions.toObject(u,_)};return u&&(g.$jspbMessageInstance=m),g}),proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.deserializeBinary=function(u){var m=new e.BinaryReader(u),_=new proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions;return proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.deserializeBinaryFromReader(_,m)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.deserializeBinaryFromReader=function(u,m){for(;m.nextField()&&!m.isEndGroup();)switch(m.getFieldNumber()){case 1:var _=new d.BaseOptions;m.readMessage(_,d.BaseOptions.deserializeBinaryFromReader),u.setBaseOptions(_);break;case 2:_=new c.ClassifierOptions,m.readMessage(_,c.ClassifierOptions.deserializeBinaryFromReader),u.setClassifierOptions(_);break;default:m.skipField()}return u},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.serializeBinary=function(){var u=new e.BinaryWriter;return proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.serializeBinaryToWriter(this,u),u.getResultBuffer()},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.serializeBinaryToWriter=function(u,m){var _=void 0;(_=u.getBaseOptions())!=null&&m.writeMessage(1,_,d.BaseOptions.serializeBinaryToWriter),(_=u.getClassifierOptions())!=null&&m.writeMessage(2,_,c.ClassifierOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext=new e.ExtensionFieldInfo(456383383,{ext:0},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[456383383]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[456383383]=proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,d.BaseOptions,1)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.setBaseOptions=function(u){return e.Message.setWrapperField(this,1,u)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.getClassifierOptions=function(){return e.Message.getWrapperField(this,c.ClassifierOptions,2)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.setClassifierOptions=function(u){return e.Message.setWrapperField(this,2,u)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.clearClassifierOptions=function(){return this.setClassifierOptions(void 0)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.hasClassifierOptions=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext=new e.ExtensionFieldInfo(456383383,{ext:0},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[456383383]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[456383383]=proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.image_classifier.proto)})(image_classifier_graph_options_pb);var image_classifier_options={};Object.defineProperty(image_classifier_options,"__esModule",{value:!0});var image_classifier_result={};Object.defineProperty(image_classifier_result,"__esModule",{value:!0}),function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(T,A,E,C){C===void 0&&(C=E);var k=Object.getOwnPropertyDescriptor(A,E);k&&!("get"in k?!A.__esModule:k.writable||k.configurable)||(k={enumerable:!0,get:function(){return A[E]}}),Object.defineProperty(T,C,k)}:function(T,A,E,C){C===void 0&&(C=E),T[C]=A[E]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(T,A){for(var E in T)E==="default"||Object.prototype.hasOwnProperty.call(A,E)||e(A,T,E)};Object.defineProperty(t,"__esModule",{value:!0}),t.ImageClassifier=void 0;const n=calculator_pb,o=calculator_options_pb,s=classifications_pb,c=base_options_pb,d=image_classifier_graph_options_pb,u=classifier_options,m=classifier_result,_=vision_task_runner,g="input_image",f="norm_rect",y="classifications";r(image_classifier_options,t),r(image_classifier_result,t);class M extends _.VisionTaskRunner{static createFromOptions(A,E){return _.VisionTaskRunner.createVisionInstance(M,A,E)}static createFromModelBuffer(A,E){return _.VisionTaskRunner.createVisionInstance(M,A,{baseOptions:{modelAssetBuffer:E}})}static createFromModelPath(A,E){return _.VisionTaskRunner.createVisionInstance(M,A,{baseOptions:{modelAssetPath:E}})}constructor(A,E){super(new _.VisionGraphRunner(A,E),g,f,!0),this.classificationResult={classifications:[]},this.options=new d.ImageClassifierGraphOptions,this.options.setBaseOptions(new c.BaseOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(A){this.options.setBaseOptions(A)}setOptions(A){return this.options.setClassifierOptions((0,u.convertClassifierOptionsToProto)(A,this.options.getClassifierOptions())),this.applyOptions(A)}classify(A,E){return this.classificationResult={classifications:[]},this.processImageData(A,E),this.classificationResult}classifyForVideo(A,E,C){return this.classificationResult={classifications:[]},this.processVideoData(A,C,E),this.classificationResult}refreshGraph(){const A=new n.CalculatorGraphConfig;A.addInputStream(g),A.addInputStream(f),A.addOutputStream(y);const E=new o.CalculatorOptions;E.setExtension(d.ImageClassifierGraphOptions.ext,this.options);const C=new n.CalculatorGraphConfig.Node;C.setCalculator("mediapipe.tasks.vision.image_classifier.ImageClassifierGraph"),C.addInputStream("IMAGE:"+g),C.addInputStream("NORM_RECT:"+f),C.addOutputStream("CLASSIFICATIONS:"+y),C.setOptions(E),A.addNode(C),this.graphRunner.attachProtoListener(y,(O,I)=>{this.classificationResult=(0,m.convertFromClassificationResultProto)(s.ClassificationResult.deserializeBinary(O)),this.setLatestOutputTimestamp(I)}),this.graphRunner.attachEmptyPacketListener(y,O=>{this.setLatestOutputTimestamp(O)});const k=A.serializeBinary();this.setGraph(new Uint8Array(k),!0)}}t.ImageClassifier=M}(image_classifier);var image_embedder={},embeddings_pb={};(function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.tasks.components.containers.proto.Embedding",null,n),r.exportSymbol("proto.mediapipe.tasks.components.containers.proto.Embedding.EmbeddingCase",null,n),r.exportSymbol("proto.mediapipe.tasks.components.containers.proto.EmbeddingResult",null,n),r.exportSymbol("proto.mediapipe.tasks.components.containers.proto.FloatEmbedding",null,n),r.exportSymbol("proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding",null,n),proto.mediapipe.tasks.components.containers.proto.FloatEmbedding=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.repeatedFields_,null)},r.inherits(proto.mediapipe.tasks.components.containers.proto.FloatEmbedding,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.displayName="proto.mediapipe.tasks.components.containers.proto.FloatEmbedding"),proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding=function(o){e.Message.initialize(this,o,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.displayName="proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding"),proto.mediapipe.tasks.components.containers.proto.Embedding=function(o){e.Message.initialize(this,o,0,-1,null,proto.mediapipe.tasks.components.containers.proto.Embedding.oneofGroups_)},r.inherits(proto.mediapipe.tasks.components.containers.proto.Embedding,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.Embedding.displayName="proto.mediapipe.tasks.components.containers.proto.Embedding"),proto.mediapipe.tasks.components.containers.proto.EmbeddingResult=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.repeatedFields_,null)},r.inherits(proto.mediapipe.tasks.components.containers.proto.EmbeddingResult,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.displayName="proto.mediapipe.tasks.components.containers.proto.EmbeddingResult"),proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.toObject=function(o){return proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.toObject(o,this)},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.toObject=function(o,s){var c,d={valuesList:(c=e.Message.getRepeatedFloatingPointField(s,1))==null?void 0:c};return o&&(d.$jspbMessageInstance=s),d}),proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.deserializeBinary=function(o){var s=new e.BinaryReader(o),c=new proto.mediapipe.tasks.components.containers.proto.FloatEmbedding;return proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.deserializeBinaryFromReader(c,s)},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)if(s.getFieldNumber()===1)for(var c=s.isDelimited()?s.readPackedFloat():[s.readFloat()],d=0;d<c.length;d++)o.addValues(c[d]);else s.skipField();return o},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.serializeBinaryToWriter=function(o,s){var c;(c=o.getValuesList()).length>0&&s.writePackedFloat(1,c)},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.getValuesList=function(){return e.Message.getRepeatedFloatingPointField(this,1)},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.setValuesList=function(o){return e.Message.setField(this,1,o||[])},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.addValues=function(o,s){return e.Message.addToRepeatedField(this,1,o,s)},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.clearValuesList=function(){return this.setValuesList([])},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.toObject=function(o){return proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.toObject(o,this)},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.toObject=function(o,s){var c={values:s.getValues_asB64()};return o&&(c.$jspbMessageInstance=s),c}),proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.deserializeBinary=function(o){var s=new e.BinaryReader(o),c=new proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding;return proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.deserializeBinaryFromReader(c,s)},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)if(s.getFieldNumber()===1){var c=s.readBytes();o.setValues(c)}else s.skipField();return o},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.serializeBinaryToWriter=function(o,s){var c;(c=e.Message.getField(o,1))!=null&&s.writeBytes(1,c)},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.getValues=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.getValues_asB64=function(){return e.Message.bytesAsB64(this.getValues())},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.getValues_asU8=function(){return e.Message.bytesAsU8(this.getValues())},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.setValues=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.clearValues=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.hasValues=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.components.containers.proto.Embedding.oneofGroups_=[[1,2]],proto.mediapipe.tasks.components.containers.proto.Embedding.EmbeddingCase={EMBEDDING_NOT_SET:0,FLOAT_EMBEDDING:1,QUANTIZED_EMBEDDING:2},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.getEmbeddingCase=function(){return e.Message.computeOneofCase(this,proto.mediapipe.tasks.components.containers.proto.Embedding.oneofGroups_[0])},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.toObject=function(o){return proto.mediapipe.tasks.components.containers.proto.Embedding.toObject(o,this)},proto.mediapipe.tasks.components.containers.proto.Embedding.toObject=function(o,s){var c,d={floatEmbedding:(c=s.getFloatEmbedding())&&proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.toObject(o,c),quantizedEmbedding:(c=s.getQuantizedEmbedding())&&proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.toObject(o,c),headIndex:(c=e.Message.getField(s,3))==null?void 0:c,headName:(c=e.Message.getField(s,4))==null?void 0:c};return o&&(d.$jspbMessageInstance=s),d}),proto.mediapipe.tasks.components.containers.proto.Embedding.deserializeBinary=function(o){var s=new e.BinaryReader(o),c=new proto.mediapipe.tasks.components.containers.proto.Embedding;return proto.mediapipe.tasks.components.containers.proto.Embedding.deserializeBinaryFromReader(c,s)},proto.mediapipe.tasks.components.containers.proto.Embedding.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var c=new proto.mediapipe.tasks.components.containers.proto.FloatEmbedding;s.readMessage(c,proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.deserializeBinaryFromReader),o.setFloatEmbedding(c);break;case 2:c=new proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding,s.readMessage(c,proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.deserializeBinaryFromReader),o.setQuantizedEmbedding(c);break;case 3:c=s.readInt32(),o.setHeadIndex(c);break;case 4:c=s.readString(),o.setHeadName(c);break;default:s.skipField()}return o},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.Embedding.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.Embedding.serializeBinaryToWriter=function(o,s){var c=void 0;(c=o.getFloatEmbedding())!=null&&s.writeMessage(1,c,proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.serializeBinaryToWriter),(c=o.getQuantizedEmbedding())!=null&&s.writeMessage(2,c,proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.serializeBinaryToWriter),(c=e.Message.getField(o,3))!=null&&s.writeInt32(3,c),(c=e.Message.getField(o,4))!=null&&s.writeString(4,c)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.getFloatEmbedding=function(){return e.Message.getWrapperField(this,proto.mediapipe.tasks.components.containers.proto.FloatEmbedding,1)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.setFloatEmbedding=function(o){return e.Message.setOneofWrapperField(this,1,proto.mediapipe.tasks.components.containers.proto.Embedding.oneofGroups_[0],o)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.clearFloatEmbedding=function(){return this.setFloatEmbedding(void 0)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.hasFloatEmbedding=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.getQuantizedEmbedding=function(){return e.Message.getWrapperField(this,proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding,2)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.setQuantizedEmbedding=function(o){return e.Message.setOneofWrapperField(this,2,proto.mediapipe.tasks.components.containers.proto.Embedding.oneofGroups_[0],o)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.clearQuantizedEmbedding=function(){return this.setQuantizedEmbedding(void 0)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.hasQuantizedEmbedding=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.getHeadIndex=function(){return e.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.setHeadIndex=function(o){return e.Message.setField(this,3,o)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.clearHeadIndex=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.hasHeadIndex=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.getHeadName=function(){return e.Message.getFieldWithDefault(this,4,"")},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.setHeadName=function(o){return e.Message.setField(this,4,o)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.clearHeadName=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.hasHeadName=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.toObject=function(o){return proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.toObject(o,this)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.toObject=function(o,s){var c,d={embeddingsList:e.Message.toObjectList(s.getEmbeddingsList(),proto.mediapipe.tasks.components.containers.proto.Embedding.toObject,o),timestampMs:(c=e.Message.getField(s,2))==null?void 0:c};return o&&(d.$jspbMessageInstance=s),d}),proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.deserializeBinary=function(o){var s=new e.BinaryReader(o),c=new proto.mediapipe.tasks.components.containers.proto.EmbeddingResult;return proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.deserializeBinaryFromReader(c,s)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var c=new proto.mediapipe.tasks.components.containers.proto.Embedding;s.readMessage(c,proto.mediapipe.tasks.components.containers.proto.Embedding.deserializeBinaryFromReader),o.addEmbeddings(c);break;case 2:c=s.readInt64(),o.setTimestampMs(c);break;default:s.skipField()}return o},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.serializeBinaryToWriter=function(o,s){var c=void 0;(c=o.getEmbeddingsList()).length>0&&s.writeRepeatedMessage(1,c,proto.mediapipe.tasks.components.containers.proto.Embedding.serializeBinaryToWriter),(c=e.Message.getField(o,2))!=null&&s.writeInt64(2,c)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.getEmbeddingsList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.tasks.components.containers.proto.Embedding,1)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.setEmbeddingsList=function(o){return e.Message.setRepeatedWrapperField(this,1,o)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.addEmbeddings=function(o,s){return e.Message.addToRepeatedWrapperField(this,1,o,proto.mediapipe.tasks.components.containers.proto.Embedding,s)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.clearEmbeddingsList=function(){return this.setEmbeddingsList([])},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.getTimestampMs=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.setTimestampMs=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.clearTimestampMs=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.hasTimestampMs=function(){return e.Message.getField(this,2)!=null},r.object.extend(t,proto.mediapipe.tasks.components.containers.proto)})(embeddings_pb);var image_embedder_graph_options_pb={},embedder_options_pb={};(function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.tasks.components.processors.proto.EmbedderOptions",null,n),proto.mediapipe.tasks.components.processors.proto.EmbedderOptions=function(o){e.Message.initialize(this,o,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.components.processors.proto.EmbedderOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.displayName="proto.mediapipe.tasks.components.processors.proto.EmbedderOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.toObject=function(o){return proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.toObject(o,this)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.toObject=function(o,s){var c,d={l2Normalize:(c=e.Message.getBooleanField(s,1))==null?void 0:c,quantize:(c=e.Message.getBooleanField(s,2))==null?void 0:c};return o&&(d.$jspbMessageInstance=s),d}),proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.deserializeBinary=function(o){var s=new e.BinaryReader(o),c=new proto.mediapipe.tasks.components.processors.proto.EmbedderOptions;return proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.deserializeBinaryFromReader(c,s)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var c=s.readBool();o.setL2Normalize(c);break;case 2:c=s.readBool(),o.setQuantize(c);break;default:s.skipField()}return o},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.serializeBinaryToWriter=function(o,s){var c=void 0;(c=e.Message.getField(o,1))!=null&&s.writeBool(1,c),(c=e.Message.getField(o,2))!=null&&s.writeBool(2,c)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.getL2Normalize=function(){return e.Message.getBooleanFieldWithDefault(this,1,!1)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.setL2Normalize=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.clearL2Normalize=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.hasL2Normalize=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.getQuantize=function(){return e.Message.getBooleanFieldWithDefault(this,2,!1)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.setQuantize=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.clearQuantize=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.hasQuantize=function(){return e.Message.getField(this,2)!=null},r.object.extend(t,proto.mediapipe.tasks.components.processors.proto)})(embedder_options_pb),function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;r.object.extend(proto,o);var s=calculator_options_pb;r.object.extend(proto,s);var c=embedder_options_pb;r.object.extend(proto,c);var d=base_options_pb;r.object.extend(proto,d),r.exportSymbol("proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions",null,n),proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions=function(u){e.Message.initialize(this,u,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.displayName="proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.toObject=function(u){return proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.toObject(u,this)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.toObject=function(u,m){var _,g={baseOptions:(_=m.getBaseOptions())&&d.BaseOptions.toObject(u,_),embedderOptions:(_=m.getEmbedderOptions())&&c.EmbedderOptions.toObject(u,_)};return u&&(g.$jspbMessageInstance=m),g}),proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.deserializeBinary=function(u){var m=new e.BinaryReader(u),_=new proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions;return proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.deserializeBinaryFromReader(_,m)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.deserializeBinaryFromReader=function(u,m){for(;m.nextField()&&!m.isEndGroup();)switch(m.getFieldNumber()){case 1:var _=new d.BaseOptions;m.readMessage(_,d.BaseOptions.deserializeBinaryFromReader),u.setBaseOptions(_);break;case 2:_=new c.EmbedderOptions,m.readMessage(_,c.EmbedderOptions.deserializeBinaryFromReader),u.setEmbedderOptions(_);break;default:m.skipField()}return u},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.serializeBinary=function(){var u=new e.BinaryWriter;return proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.serializeBinaryToWriter(this,u),u.getResultBuffer()},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.serializeBinaryToWriter=function(u,m){var _=void 0;(_=u.getBaseOptions())!=null&&m.writeMessage(1,_,d.BaseOptions.serializeBinaryToWriter),(_=u.getEmbedderOptions())!=null&&m.writeMessage(2,_,c.EmbedderOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext=new e.ExtensionFieldInfo(476348187,{ext:0},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[476348187]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[476348187]=proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,d.BaseOptions,1)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.setBaseOptions=function(u){return e.Message.setWrapperField(this,1,u)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.getEmbedderOptions=function(){return e.Message.getWrapperField(this,c.EmbedderOptions,2)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.setEmbedderOptions=function(u){return e.Message.setWrapperField(this,2,u)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.clearEmbedderOptions=function(){return this.setEmbedderOptions(void 0)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.hasEmbedderOptions=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext=new e.ExtensionFieldInfo(476348187,{ext:0},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[476348187]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[476348187]=proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.image_embedder.proto)}(image_embedder_graph_options_pb);var embedder_options={};Object.defineProperty(embedder_options,"__esModule",{value:!0}),embedder_options.convertEmbedderOptionsToProto=void 0;const embedder_options_pb_1=embedder_options_pb;function convertEmbedderOptionsToProto(t,e){const r=e?e.clone():new embedder_options_pb_1.EmbedderOptions;return t.l2Normalize!==void 0?r.setL2Normalize(t.l2Normalize):"l2Normalize"in t&&r.clearL2Normalize(),t.quantize!==void 0?r.setQuantize(t.quantize):"quantize"in t&&r.clearQuantize(),r}embedder_options.convertEmbedderOptionsToProto=convertEmbedderOptionsToProto;var embedder_result={};Object.defineProperty(embedder_result,"__esModule",{value:!0}),embedder_result.convertFromEmbeddingResultProto=void 0;const DEFAULT_INDEX=-1;function convertFromEmbeddingsProto(t){var e,r,n,o;const s={headIndex:(e=t.getHeadIndex())!==null&&e!==void 0?e:DEFAULT_INDEX,headName:(r=t.getHeadName())!==null&&r!==void 0?r:""};if(t.hasFloatEmbedding())s.floatEmbedding=t.getFloatEmbedding().getValuesList();else{const c=(o=(n=t.getQuantizedEmbedding())===null||n===void 0?void 0:n.getValues())!==null&&o!==void 0?o:"";s.quantizedEmbedding=typeof c=="string"?Uint8Array.from(atob(c),d=>d.charCodeAt(0)):c}return s}function convertFromEmbeddingResultProto(t){return{embeddings:t.getEmbeddingsList().map(e=>convertFromEmbeddingsProto(e)),timestampMs:t.getTimestampMs()}}embedder_result.convertFromEmbeddingResultProto=convertFromEmbeddingResultProto;var cosine_similarity={};function computeCosineSimilarity(t,e){if(t.floatEmbedding&&e.floatEmbedding)return compute(t.floatEmbedding,e.floatEmbedding);if(t.quantizedEmbedding&&e.quantizedEmbedding)return compute(convertToBytes(t.quantizedEmbedding),convertToBytes(e.quantizedEmbedding));throw new Error("Cannot compute cosine similarity between quantized and float embeddings.")}function convertToBytes(t){return Array.from(t,e=>e>127?e-256:e)}function compute(t,e){if(t.length!==e.length)throw new Error(`Cannot compute cosine similarity between embeddings of different sizes (${t.length} vs. ${e.length}).`);let r=0,n=0,o=0;for(let s=0;s<t.length;s++)r+=t[s]*e[s],n+=t[s]*t[s],o+=e[s]*e[s];if(n<=0||o<=0)throw new Error("Cannot compute cosine similarity on embedding with 0 norm.");return r/Math.sqrt(n*o)}Object.defineProperty(cosine_similarity,"__esModule",{value:!0}),cosine_similarity.computeCosineSimilarity=void 0,cosine_similarity.computeCosineSimilarity=computeCosineSimilarity;var image_embedder_options={};Object.defineProperty(image_embedder_options,"__esModule",{value:!0});var image_embedder_result={};Object.defineProperty(image_embedder_result,"__esModule",{value:!0}),function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(A,E,C,k){k===void 0&&(k=C);var O=Object.getOwnPropertyDescriptor(E,C);O&&!("get"in O?!E.__esModule:O.writable||O.configurable)||(O={enumerable:!0,get:function(){return E[C]}}),Object.defineProperty(A,k,O)}:function(A,E,C,k){k===void 0&&(k=C),A[k]=E[C]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(A,E){for(var C in A)C==="default"||Object.prototype.hasOwnProperty.call(E,C)||e(E,A,C)};Object.defineProperty(t,"__esModule",{value:!0}),t.ImageEmbedder=void 0;const n=calculator_pb,o=calculator_options_pb,s=embeddings_pb,c=base_options_pb,d=image_embedder_graph_options_pb,u=embedder_options,m=embedder_result,_=cosine_similarity,g=vision_task_runner,f="image_in",y="norm_rect",M="embeddings_out";r(image_embedder_options,t),r(image_embedder_result,t);class T extends g.VisionTaskRunner{static createFromOptions(E,C){return g.VisionTaskRunner.createVisionInstance(T,E,C)}static createFromModelBuffer(E,C){return g.VisionTaskRunner.createVisionInstance(T,E,{baseOptions:{modelAssetBuffer:C}})}static createFromModelPath(E,C){return g.VisionTaskRunner.createVisionInstance(T,E,{baseOptions:{modelAssetPath:C}})}constructor(E,C){super(new g.VisionGraphRunner(E,C),f,y,!0),this.options=new d.ImageEmbedderGraphOptions,this.embeddings={embeddings:[]},this.options.setBaseOptions(new c.BaseOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(E){this.options.setBaseOptions(E)}setOptions(E){return this.options.setEmbedderOptions((0,u.convertEmbedderOptionsToProto)(E,this.options.getEmbedderOptions())),this.applyOptions(E)}embed(E,C){return this.processImageData(E,C),this.embeddings}embedForVideo(E,C,k){return this.processVideoData(E,k,C),this.embeddings}static cosineSimilarity(E,C){return(0,_.computeCosineSimilarity)(E,C)}addJsImageEmdedding(E){const C=s.EmbeddingResult.deserializeBinary(E);this.embeddings=(0,m.convertFromEmbeddingResultProto)(C)}refreshGraph(){const E=new n.CalculatorGraphConfig;E.addInputStream(f),E.addInputStream(y),E.addOutputStream(M);const C=new o.CalculatorOptions;C.setExtension(d.ImageEmbedderGraphOptions.ext,this.options);const k=new n.CalculatorGraphConfig.Node;k.setCalculator("mediapipe.tasks.vision.image_embedder.ImageEmbedderGraph"),k.addInputStream("IMAGE:"+f),k.addInputStream("NORM_RECT:"+y),k.addOutputStream("EMBEDDINGS:"+M),k.setOptions(C),E.addNode(k),this.graphRunner.attachProtoListener(M,(I,B)=>{this.addJsImageEmdedding(I),this.setLatestOutputTimestamp(B)}),this.graphRunner.attachEmptyPacketListener(M,I=>{this.setLatestOutputTimestamp(I)});const O=E.serializeBinary();this.setGraph(new Uint8Array(O),!0)}}t.ImageEmbedder=T}(image_embedder);var image_segmenter={},tensors_to_segmentation_calculator_pb={},segmenter_options_pb={};(function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions",null,n),r.exportSymbol("proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.Activation",null,n),r.exportSymbol("proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.OutputType",null,n),proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions=function(o){e.Message.initialize(this,o,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.displayName="proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.toObject=function(o){return proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.toObject(o,this)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.toObject=function(o,s){var c,d={outputType:(c=e.Message.getField(s,1))==null?void 0:c,activation:e.Message.getFieldWithDefault(s,2,0)};return o&&(d.$jspbMessageInstance=s),d}),proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.deserializeBinary=function(o){var s=new e.BinaryReader(o),c=new proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions;return proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.deserializeBinaryFromReader(c,s)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var c=s.readEnum();o.setOutputType(c);break;case 2:c=s.readEnum(),o.setActivation(c);break;default:s.skipField()}return o},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.serializeBinaryToWriter=function(o,s){var c=void 0;(c=e.Message.getField(o,1))!=null&&s.writeEnum(1,c),(c=e.Message.getField(o,2))!=null&&s.writeEnum(2,c)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.OutputType={UNSPECIFIED:0,CATEGORY_MASK:1,CONFIDENCE_MASK:2},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.Activation={NONE:0,SIGMOID:1,SOFTMAX:2},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.getOutputType=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.setOutputType=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.clearOutputType=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.hasOutputType=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.getActivation=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.setActivation=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.clearActivation=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.hasActivation=function(){return e.Message.getField(this,2)!=null},r.object.extend(t,proto.mediapipe.tasks.vision.image_segmenter.proto)})(segmenter_options_pb);var label_map_pb={};(function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.LabelMapItem",null,n),proto.mediapipe.LabelMapItem=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.LabelMapItem.repeatedFields_,null)},r.inherits(proto.mediapipe.LabelMapItem,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.LabelMapItem.displayName="proto.mediapipe.LabelMapItem"),proto.mediapipe.LabelMapItem.repeatedFields_=[3],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LabelMapItem.prototype.toObject=function(o){return proto.mediapipe.LabelMapItem.toObject(o,this)},proto.mediapipe.LabelMapItem.toObject=function(o,s){var c,d={name:(c=e.Message.getField(s,1))==null?void 0:c,displayName:(c=e.Message.getField(s,2))==null?void 0:c,childNameList:(c=e.Message.getRepeatedField(s,3))==null?void 0:c};return o&&(d.$jspbMessageInstance=s),d}),proto.mediapipe.LabelMapItem.deserializeBinary=function(o){var s=new e.BinaryReader(o),c=new proto.mediapipe.LabelMapItem;return proto.mediapipe.LabelMapItem.deserializeBinaryFromReader(c,s)},proto.mediapipe.LabelMapItem.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var c=s.readString();o.setName(c);break;case 2:c=s.readString(),o.setDisplayName(c);break;case 3:c=s.readString(),o.addChildName(c);break;default:s.skipField()}return o},proto.mediapipe.LabelMapItem.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.LabelMapItem.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.LabelMapItem.serializeBinaryToWriter=function(o,s){var c=void 0;(c=e.Message.getField(o,1))!=null&&s.writeString(1,c),(c=e.Message.getField(o,2))!=null&&s.writeString(2,c),(c=o.getChildNameList()).length>0&&s.writeRepeatedString(3,c)},proto.mediapipe.LabelMapItem.prototype.getName=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.LabelMapItem.prototype.setName=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.LabelMapItem.prototype.clearName=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.LabelMapItem.prototype.hasName=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.LabelMapItem.prototype.getDisplayName=function(){return e.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.LabelMapItem.prototype.setDisplayName=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.LabelMapItem.prototype.clearDisplayName=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.LabelMapItem.prototype.hasDisplayName=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.LabelMapItem.prototype.getChildNameList=function(){return e.Message.getRepeatedField(this,3)},proto.mediapipe.LabelMapItem.prototype.setChildNameList=function(o){return e.Message.setField(this,3,o||[])},proto.mediapipe.LabelMapItem.prototype.addChildName=function(o,s){return e.Message.addToRepeatedField(this,3,o,s)},proto.mediapipe.LabelMapItem.prototype.clearChildNameList=function(){return this.setChildNameList([])},r.object.extend(t,proto.mediapipe)})(label_map_pb),function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_options_pb;r.object.extend(proto,o);var s=segmenter_options_pb;r.object.extend(proto,s);var c=label_map_pb;r.object.extend(proto,c),r.exportSymbol("proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions",null,n),proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions=function(d){e.Message.initialize(this,d,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.displayName="proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.toObject=function(d){return proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.toObject(d,this)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.toObject=function(d,u){var m,_={segmenterOptions:(m=u.getSegmenterOptions())&&s.SegmenterOptions.toObject(d,m),labelItemsMap:(m=u.getLabelItemsMap())?m.toObject(d,proto.mediapipe.LabelMapItem.toObject):[]};return d&&(_.$jspbMessageInstance=u),_}),proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.deserializeBinary=function(d){var u=new e.BinaryReader(d),m=new proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions;return proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.deserializeBinaryFromReader(m,u)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.deserializeBinaryFromReader=function(d,u){for(;u.nextField()&&!u.isEndGroup();)switch(u.getFieldNumber()){case 1:var m=new s.SegmenterOptions;u.readMessage(m,s.SegmenterOptions.deserializeBinaryFromReader),d.setSegmenterOptions(m);break;case 2:m=d.getLabelItemsMap(),u.readMessage(m,function(_,g){e.Map.deserializeBinary(_,g,e.BinaryReader.prototype.readInt64,e.BinaryReader.prototype.readMessage,proto.mediapipe.LabelMapItem.deserializeBinaryFromReader,0,new proto.mediapipe.LabelMapItem)});break;default:u.skipField()}return d},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.serializeBinary=function(){var d=new e.BinaryWriter;return proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.serializeBinaryToWriter(this,d),d.getResultBuffer()},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.serializeBinaryToWriter=function(d,u){var m=void 0;(m=d.getSegmenterOptions())!=null&&u.writeMessage(1,m,s.SegmenterOptions.serializeBinaryToWriter),(m=d.getLabelItemsMap(!0))&&m.getLength()>0&&m.serializeBinary(2,u,e.BinaryWriter.prototype.writeInt64,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.LabelMapItem.serializeBinaryToWriter)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.ext=new e.ExtensionFieldInfo(458105876,{ext:0},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.toObject,0),o.CalculatorOptions.extensionsBinary[458105876]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.serializeBinaryToWriter,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[458105876]=proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.ext,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.getSegmenterOptions=function(){return e.Message.getWrapperField(this,s.SegmenterOptions,1)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.setSegmenterOptions=function(d){return e.Message.setWrapperField(this,1,d)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.clearSegmenterOptions=function(){return this.setSegmenterOptions(void 0)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.hasSegmenterOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.getLabelItemsMap=function(d){return e.Message.getMapField(this,2,d,proto.mediapipe.LabelMapItem)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.clearLabelItemsMap=function(){return this.getLabelItemsMap().clear(),this},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.ext=new e.ExtensionFieldInfo(458105876,{ext:0},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.toObject,0),o.CalculatorOptions.extensionsBinary[458105876]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.serializeBinaryToWriter,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[458105876]=proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.ext,r.object.extend(t,proto.mediapipe.tasks)}(tensors_to_segmentation_calculator_pb);var image_segmenter_graph_options_pb={};(function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;r.object.extend(proto,o);var s=calculator_options_pb;r.object.extend(proto,s);var c=base_options_pb;r.object.extend(proto,c);var d=segmenter_options_pb;r.object.extend(proto,d),r.exportSymbol("proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions",null,n),proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions=function(u){e.Message.initialize(this,u,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.displayName="proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.toObject=function(u){return proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.toObject(u,this)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.toObject=function(u,m){var _,g={baseOptions:(_=m.getBaseOptions())&&c.BaseOptions.toObject(u,_),displayNamesLocale:e.Message.getFieldWithDefault(m,2,"en"),segmenterOptions:(_=m.getSegmenterOptions())&&d.SegmenterOptions.toObject(u,_)};return u&&(g.$jspbMessageInstance=m),g}),proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.deserializeBinary=function(u){var m=new e.BinaryReader(u),_=new proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions;return proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.deserializeBinaryFromReader(_,m)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.deserializeBinaryFromReader=function(u,m){for(;m.nextField()&&!m.isEndGroup();)switch(m.getFieldNumber()){case 1:var _=new c.BaseOptions;m.readMessage(_,c.BaseOptions.deserializeBinaryFromReader),u.setBaseOptions(_);break;case 2:_=m.readString(),u.setDisplayNamesLocale(_);break;case 3:_=new d.SegmenterOptions,m.readMessage(_,d.SegmenterOptions.deserializeBinaryFromReader),u.setSegmenterOptions(_);break;default:m.skipField()}return u},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.serializeBinary=function(){var u=new e.BinaryWriter;return proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.serializeBinaryToWriter(this,u),u.getResultBuffer()},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.serializeBinaryToWriter=function(u,m){var _=void 0;(_=u.getBaseOptions())!=null&&m.writeMessage(1,_,c.BaseOptions.serializeBinaryToWriter),(_=e.Message.getField(u,2))!=null&&m.writeString(2,_),(_=u.getSegmenterOptions())!=null&&m.writeMessage(3,_,d.SegmenterOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext=new e.ExtensionFieldInfo(458105758,{ext:0},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[458105758]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[458105758]=proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,c.BaseOptions,1)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.setBaseOptions=function(u){return e.Message.setWrapperField(this,1,u)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.getDisplayNamesLocale=function(){return e.Message.getFieldWithDefault(this,2,"en")},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.setDisplayNamesLocale=function(u){return e.Message.setField(this,2,u)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.clearDisplayNamesLocale=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.hasDisplayNamesLocale=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.getSegmenterOptions=function(){return e.Message.getWrapperField(this,d.SegmenterOptions,3)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.setSegmenterOptions=function(u){return e.Message.setWrapperField(this,3,u)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.clearSegmenterOptions=function(){return this.setSegmenterOptions(void 0)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.hasSegmenterOptions=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext=new e.ExtensionFieldInfo(458105758,{ext:0},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[458105758]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[458105758]=proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.image_segmenter.proto)})(image_segmenter_graph_options_pb);var image_segmenter_result={};Object.defineProperty(image_segmenter_result,"__esModule",{value:!0}),image_segmenter_result.ImageSegmenterResult=void 0;class ImageSegmenterResult{constructor(e,r,n){this.confidenceMasks=e,this.categoryMask=r,this.qualityScores=n}close(){var e,r;(e=this.confidenceMasks)===null||e===void 0||e.forEach(n=>{n.close()}),(r=this.categoryMask)===null||r===void 0||r.close()}}image_segmenter_result.ImageSegmenterResult=ImageSegmenterResult;var image_segmenter_options={};Object.defineProperty(image_segmenter_options,"__esModule",{value:!0}),function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(C,k,O,I){I===void 0&&(I=O);var B=Object.getOwnPropertyDescriptor(k,O);B&&!("get"in B?!k.__esModule:B.writable||B.configurable)||(B={enumerable:!0,get:function(){return k[O]}}),Object.defineProperty(C,I,B)}:function(C,k,O,I){I===void 0&&(I=O),C[I]=k[O]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(C,k){for(var O in C)O==="default"||Object.prototype.hasOwnProperty.call(k,O)||e(k,C,O)};Object.defineProperty(t,"__esModule",{value:!0}),t.ImageSegmenter=void 0;const n=calculator_pb,o=calculator_options_pb,s=base_options_pb,c=tensors_to_segmentation_calculator_pb,d=image_segmenter_graph_options_pb,u=segmenter_options_pb,m=vision_task_runner,_=image_segmenter_result;r(image_segmenter_options,t),r(image_segmenter_result,t);const g="image_in",f="norm_rect",y="confidence_masks",M="category_mask",T="quality_scores",A="mediapipe.tasks.TensorsToSegmentationCalculator";class E extends m.VisionTaskRunner{static createFromOptions(k,O){return m.VisionTaskRunner.createVisionInstance(E,k,O)}static createFromModelBuffer(k,O){return m.VisionTaskRunner.createVisionInstance(E,k,{baseOptions:{modelAssetBuffer:O}})}static createFromModelPath(k,O){return m.VisionTaskRunner.createVisionInstance(E,k,{baseOptions:{modelAssetPath:O}})}constructor(k,O){super(new m.VisionGraphRunner(k,O),g,f,!1),this.labels=[],this.outputCategoryMask=!1,this.outputConfidenceMasks=!0,this.options=new d.ImageSegmenterGraphOptions,this.segmenterOptions=new u.SegmenterOptions,this.options.setSegmenterOptions(this.segmenterOptions),this.options.setBaseOptions(new s.BaseOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(k){this.options.setBaseOptions(k)}setOptions(k){var O,I;return k.displayNamesLocale!==void 0?this.options.setDisplayNamesLocale(k.displayNamesLocale):"displayNamesLocale"in k&&this.options.clearDisplayNamesLocale(),"outputCategoryMask"in k&&(this.outputCategoryMask=(O=k.outputCategoryMask)!==null&&O!==void 0&&O),"outputConfidenceMasks"in k&&(this.outputConfidenceMasks=(I=k.outputConfidenceMasks)===null||I===void 0||I),super.applyOptions(k)}onGraphRefreshed(){this.populateLabels()}populateLabels(){var k,O,I;const B=this.getCalculatorGraphConfig().getNodeList().filter(j=>j.getName().includes(A));if(this.labels=[],B.length>1)throw new Error(`The graph has more than one ${A}.`);B.length===1&&((I=(O=(k=B[0].getOptions())===null||k===void 0?void 0:k.getExtension(c.TensorsToSegmentationCalculatorOptions.ext))===null||O===void 0?void 0:O.getLabelItemsMap())!==null&&I!==void 0?I:new Map).forEach((j,U)=>{this.labels[Number(U)]=j.getName()})}segment(k,O,I){const B=typeof O!="function"?O:{};return this.userCallback=typeof O=="function"?O:I,this.reset(),this.processImageData(k,B),this.processResults()}segmentForVideo(k,O,I,B){const j=typeof I!="function"?I:{};return this.userCallback=typeof I=="function"?I:B,this.reset(),this.processVideoData(k,j,O),this.processResults()}getLabels(){return this.labels}reset(){this.categoryMask=void 0,this.confidenceMasks=void 0,this.qualityScores=void 0}processResults(){try{const k=new _.ImageSegmenterResult(this.confidenceMasks,this.categoryMask,this.qualityScores);if(!this.userCallback)return k;this.userCallback(k)}finally{this.freeKeepaliveStreams()}}refreshGraph(){const k=new n.CalculatorGraphConfig;k.addInputStream(g),k.addInputStream(f);const O=new o.CalculatorOptions;O.setExtension(d.ImageSegmenterGraphOptions.ext,this.options);const I=new n.CalculatorGraphConfig.Node;I.setCalculator("mediapipe.tasks.vision.image_segmenter.ImageSegmenterGraph"),I.addInputStream("IMAGE:"+g),I.addInputStream("NORM_RECT:"+f),I.setOptions(O),k.addNode(I),this.addKeepaliveNode(k),this.outputConfidenceMasks&&(k.addOutputStream(y),I.addOutputStream("CONFIDENCE_MASKS:"+y),this.keepStreamAlive(y),this.graphRunner.attachImageVectorListener(y,(j,U)=>{this.confidenceMasks=j.map(N=>this.convertToMPMask(N,!this.userCallback)),this.setLatestOutputTimestamp(U)}),this.graphRunner.attachEmptyPacketListener(y,j=>{this.confidenceMasks=[],this.setLatestOutputTimestamp(j)})),this.outputCategoryMask&&(k.addOutputStream(M),I.addOutputStream("CATEGORY_MASK:"+M),this.keepStreamAlive(M),this.graphRunner.attachImageListener(M,(j,U)=>{this.categoryMask=this.convertToMPMask(j,!this.userCallback),this.setLatestOutputTimestamp(U)}),this.graphRunner.attachEmptyPacketListener(M,j=>{this.categoryMask=void 0,this.setLatestOutputTimestamp(j)})),k.addOutputStream(T),I.addOutputStream("QUALITY_SCORES:"+T),this.graphRunner.attachFloatVectorListener(T,(j,U)=>{this.qualityScores=j,this.setLatestOutputTimestamp(U)}),this.graphRunner.attachEmptyPacketListener(T,j=>{this.categoryMask=void 0,this.setLatestOutputTimestamp(j)});const B=k.serializeBinary();this.setGraph(new Uint8Array(B),!0)}}t.ImageSegmenter=E}(image_segmenter);var interactive_segmenter={},color_pb={};(function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.Color",null,n),r.exportSymbol("proto.mediapipe.ColorMap",null,n),proto.mediapipe.Color=function(o){e.Message.initialize(this,o,0,-1,null,null)},r.inherits(proto.mediapipe.Color,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.Color.displayName="proto.mediapipe.Color"),proto.mediapipe.ColorMap=function(o){e.Message.initialize(this,o,0,-1,null,null)},r.inherits(proto.mediapipe.ColorMap,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.ColorMap.displayName="proto.mediapipe.ColorMap"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Color.prototype.toObject=function(o){return proto.mediapipe.Color.toObject(o,this)},proto.mediapipe.Color.toObject=function(o,s){var c,d={r:(c=e.Message.getField(s,1))==null?void 0:c,g:(c=e.Message.getField(s,2))==null?void 0:c,b:(c=e.Message.getField(s,3))==null?void 0:c};return o&&(d.$jspbMessageInstance=s),d}),proto.mediapipe.Color.deserializeBinary=function(o){var s=new e.BinaryReader(o),c=new proto.mediapipe.Color;return proto.mediapipe.Color.deserializeBinaryFromReader(c,s)},proto.mediapipe.Color.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var c=s.readInt32();o.setR(c);break;case 2:c=s.readInt32(),o.setG(c);break;case 3:c=s.readInt32(),o.setB(c);break;default:s.skipField()}return o},proto.mediapipe.Color.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.Color.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.Color.serializeBinaryToWriter=function(o,s){var c=void 0;(c=e.Message.getField(o,1))!=null&&s.writeInt32(1,c),(c=e.Message.getField(o,2))!=null&&s.writeInt32(2,c),(c=e.Message.getField(o,3))!=null&&s.writeInt32(3,c)},proto.mediapipe.Color.prototype.getR=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.Color.prototype.setR=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.Color.prototype.clearR=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.Color.prototype.hasR=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.Color.prototype.getG=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.Color.prototype.setG=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.Color.prototype.clearG=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.Color.prototype.hasG=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.Color.prototype.getB=function(){return e.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.Color.prototype.setB=function(o){return e.Message.setField(this,3,o)},proto.mediapipe.Color.prototype.clearB=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.Color.prototype.hasB=function(){return e.Message.getField(this,3)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.ColorMap.prototype.toObject=function(o){return proto.mediapipe.ColorMap.toObject(o,this)},proto.mediapipe.ColorMap.toObject=function(o,s){var c,d={labelToColorMap:(c=s.getLabelToColorMap())?c.toObject(o,proto.mediapipe.Color.toObject):[]};return o&&(d.$jspbMessageInstance=s),d}),proto.mediapipe.ColorMap.deserializeBinary=function(o){var s=new e.BinaryReader(o),c=new proto.mediapipe.ColorMap;return proto.mediapipe.ColorMap.deserializeBinaryFromReader(c,s)},proto.mediapipe.ColorMap.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)if(s.getFieldNumber()===1){var c=o.getLabelToColorMap();s.readMessage(c,function(d,u){e.Map.deserializeBinary(d,u,e.BinaryReader.prototype.readString,e.BinaryReader.prototype.readMessage,proto.mediapipe.Color.deserializeBinaryFromReader,"",new proto.mediapipe.Color)})}else s.skipField();return o},proto.mediapipe.ColorMap.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.ColorMap.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.ColorMap.serializeBinaryToWriter=function(o,s){var c=void 0;(c=o.getLabelToColorMap(!0))&&c.getLength()>0&&c.serializeBinary(1,s,e.BinaryWriter.prototype.writeString,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.Color.serializeBinaryToWriter)},proto.mediapipe.ColorMap.prototype.getLabelToColorMap=function(o){return e.Message.getMapField(this,1,o,proto.mediapipe.Color)},proto.mediapipe.ColorMap.prototype.clearLabelToColorMap=function(){return this.getLabelToColorMap().clear(),this},r.object.extend(t,proto.mediapipe)})(color_pb);var render_data_pb={};(function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=color_pb;r.object.extend(proto,o),r.exportSymbol("proto.mediapipe.RenderAnnotation",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.Arrow",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.DataCase",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.FilledOval",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.FilledRectangle",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.FilledRoundedRectangle",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.GradientLine",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.Line",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.Line.LineType",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.Oval",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.Point",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.Rectangle",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.RoundedRectangle",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.Scribble",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.Text",null,n),r.exportSymbol("proto.mediapipe.RenderData",null,n),r.exportSymbol("proto.mediapipe.RenderViewport",null,n),proto.mediapipe.RenderData=function(s){e.Message.initialize(this,s,0,-1,proto.mediapipe.RenderData.repeatedFields_,null)},r.inherits(proto.mediapipe.RenderData,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderData.displayName="proto.mediapipe.RenderData"),proto.mediapipe.RenderAnnotation=function(s){e.Message.initialize(this,s,0,-1,null,proto.mediapipe.RenderAnnotation.oneofGroups_)},r.inherits(proto.mediapipe.RenderAnnotation,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.displayName="proto.mediapipe.RenderAnnotation"),proto.mediapipe.RenderAnnotation.Rectangle=function(s){e.Message.initialize(this,s,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.Rectangle,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Rectangle.displayName="proto.mediapipe.RenderAnnotation.Rectangle"),proto.mediapipe.RenderAnnotation.FilledRectangle=function(s){e.Message.initialize(this,s,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.FilledRectangle,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.FilledRectangle.displayName="proto.mediapipe.RenderAnnotation.FilledRectangle"),proto.mediapipe.RenderAnnotation.RoundedRectangle=function(s){e.Message.initialize(this,s,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.RoundedRectangle,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.RoundedRectangle.displayName="proto.mediapipe.RenderAnnotation.RoundedRectangle"),proto.mediapipe.RenderAnnotation.FilledRoundedRectangle=function(s){e.Message.initialize(this,s,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.FilledRoundedRectangle,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.displayName="proto.mediapipe.RenderAnnotation.FilledRoundedRectangle"),proto.mediapipe.RenderAnnotation.Oval=function(s){e.Message.initialize(this,s,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.Oval,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Oval.displayName="proto.mediapipe.RenderAnnotation.Oval"),proto.mediapipe.RenderAnnotation.FilledOval=function(s){e.Message.initialize(this,s,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.FilledOval,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.FilledOval.displayName="proto.mediapipe.RenderAnnotation.FilledOval"),proto.mediapipe.RenderAnnotation.Point=function(s){e.Message.initialize(this,s,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.Point,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Point.displayName="proto.mediapipe.RenderAnnotation.Point"),proto.mediapipe.RenderAnnotation.Line=function(s){e.Message.initialize(this,s,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.Line,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Line.displayName="proto.mediapipe.RenderAnnotation.Line"),proto.mediapipe.RenderAnnotation.GradientLine=function(s){e.Message.initialize(this,s,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.GradientLine,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.GradientLine.displayName="proto.mediapipe.RenderAnnotation.GradientLine"),proto.mediapipe.RenderAnnotation.Scribble=function(s){e.Message.initialize(this,s,0,-1,proto.mediapipe.RenderAnnotation.Scribble.repeatedFields_,null)},r.inherits(proto.mediapipe.RenderAnnotation.Scribble,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Scribble.displayName="proto.mediapipe.RenderAnnotation.Scribble"),proto.mediapipe.RenderAnnotation.Arrow=function(s){e.Message.initialize(this,s,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.Arrow,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Arrow.displayName="proto.mediapipe.RenderAnnotation.Arrow"),proto.mediapipe.RenderAnnotation.Text=function(s){e.Message.initialize(this,s,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.Text,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Text.displayName="proto.mediapipe.RenderAnnotation.Text"),proto.mediapipe.RenderViewport=function(s){e.Message.initialize(this,s,0,-1,null,null)},r.inherits(proto.mediapipe.RenderViewport,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderViewport.displayName="proto.mediapipe.RenderViewport"),proto.mediapipe.RenderData.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderData.prototype.toObject=function(s){return proto.mediapipe.RenderData.toObject(s,this)},proto.mediapipe.RenderData.toObject=function(s,c){var d,u={renderAnnotationsList:e.Message.toObjectList(c.getRenderAnnotationsList(),proto.mediapipe.RenderAnnotation.toObject,s),sceneClass:(d=e.Message.getField(c,2))==null?void 0:d,sceneViewport:(d=c.getSceneViewport())&&proto.mediapipe.RenderViewport.toObject(s,d)};return s&&(u.$jspbMessageInstance=c),u}),proto.mediapipe.RenderData.deserializeBinary=function(s){var c=new e.BinaryReader(s),d=new proto.mediapipe.RenderData;return proto.mediapipe.RenderData.deserializeBinaryFromReader(d,c)},proto.mediapipe.RenderData.deserializeBinaryFromReader=function(s,c){for(;c.nextField()&&!c.isEndGroup();)switch(c.getFieldNumber()){case 1:var d=new proto.mediapipe.RenderAnnotation;c.readMessage(d,proto.mediapipe.RenderAnnotation.deserializeBinaryFromReader),s.addRenderAnnotations(d);break;case 2:d=c.readString(),s.setSceneClass(d);break;case 3:d=new proto.mediapipe.RenderViewport,c.readMessage(d,proto.mediapipe.RenderViewport.deserializeBinaryFromReader),s.setSceneViewport(d);break;default:c.skipField()}return s},proto.mediapipe.RenderData.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.RenderData.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.RenderData.serializeBinaryToWriter=function(s,c){var d=void 0;(d=s.getRenderAnnotationsList()).length>0&&c.writeRepeatedMessage(1,d,proto.mediapipe.RenderAnnotation.serializeBinaryToWriter),(d=e.Message.getField(s,2))!=null&&c.writeString(2,d),(d=s.getSceneViewport())!=null&&c.writeMessage(3,d,proto.mediapipe.RenderViewport.serializeBinaryToWriter)},proto.mediapipe.RenderData.prototype.getRenderAnnotationsList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.RenderAnnotation,1)},proto.mediapipe.RenderData.prototype.setRenderAnnotationsList=function(s){return e.Message.setRepeatedWrapperField(this,1,s)},proto.mediapipe.RenderData.prototype.addRenderAnnotations=function(s,c){return e.Message.addToRepeatedWrapperField(this,1,s,proto.mediapipe.RenderAnnotation,c)},proto.mediapipe.RenderData.prototype.clearRenderAnnotationsList=function(){return this.setRenderAnnotationsList([])},proto.mediapipe.RenderData.prototype.getSceneClass=function(){return e.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.RenderData.prototype.setSceneClass=function(s){return e.Message.setField(this,2,s)},proto.mediapipe.RenderData.prototype.clearSceneClass=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.RenderData.prototype.hasSceneClass=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.RenderData.prototype.getSceneViewport=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderViewport,3)},proto.mediapipe.RenderData.prototype.setSceneViewport=function(s){return e.Message.setWrapperField(this,3,s)},proto.mediapipe.RenderData.prototype.clearSceneViewport=function(){return this.setSceneViewport(void 0)},proto.mediapipe.RenderData.prototype.hasSceneViewport=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.RenderAnnotation.oneofGroups_=[[1,2,3,4,5,6,7,8,9,10,14,15]],proto.mediapipe.RenderAnnotation.DataCase={DATA_NOT_SET:0,RECTANGLE:1,FILLED_RECTANGLE:2,OVAL:3,FILLED_OVAL:4,POINT:5,LINE:6,ARROW:7,TEXT:8,ROUNDED_RECTANGLE:9,FILLED_ROUNDED_RECTANGLE:10,GRADIENT_LINE:14,SCRIBBLE:15},proto.mediapipe.RenderAnnotation.prototype.getDataCase=function(){return e.Message.computeOneofCase(this,proto.mediapipe.RenderAnnotation.oneofGroups_[0])},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.prototype.toObject=function(s){return proto.mediapipe.RenderAnnotation.toObject(s,this)},proto.mediapipe.RenderAnnotation.toObject=function(s,c){var d,u={rectangle:(d=c.getRectangle())&&proto.mediapipe.RenderAnnotation.Rectangle.toObject(s,d),filledRectangle:(d=c.getFilledRectangle())&&proto.mediapipe.RenderAnnotation.FilledRectangle.toObject(s,d),oval:(d=c.getOval())&&proto.mediapipe.RenderAnnotation.Oval.toObject(s,d),filledOval:(d=c.getFilledOval())&&proto.mediapipe.RenderAnnotation.FilledOval.toObject(s,d),point:(d=c.getPoint())&&proto.mediapipe.RenderAnnotation.Point.toObject(s,d),line:(d=c.getLine())&&proto.mediapipe.RenderAnnotation.Line.toObject(s,d),arrow:(d=c.getArrow())&&proto.mediapipe.RenderAnnotation.Arrow.toObject(s,d),text:(d=c.getText())&&proto.mediapipe.RenderAnnotation.Text.toObject(s,d),roundedRectangle:(d=c.getRoundedRectangle())&&proto.mediapipe.RenderAnnotation.RoundedRectangle.toObject(s,d),filledRoundedRectangle:(d=c.getFilledRoundedRectangle())&&proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.toObject(s,d),gradientLine:(d=c.getGradientLine())&&proto.mediapipe.RenderAnnotation.GradientLine.toObject(s,d),scribble:(d=c.getScribble())&&proto.mediapipe.RenderAnnotation.Scribble.toObject(s,d),thickness:e.Message.getFloatingPointFieldWithDefault(c,11,1),color:(d=c.getColor())&&o.Color.toObject(s,d),sceneTag:(d=e.Message.getField(c,13))==null?void 0:d};return s&&(u.$jspbMessageInstance=c),u}),proto.mediapipe.RenderAnnotation.deserializeBinary=function(s){var c=new e.BinaryReader(s),d=new proto.mediapipe.RenderAnnotation;return proto.mediapipe.RenderAnnotation.deserializeBinaryFromReader(d,c)},proto.mediapipe.RenderAnnotation.deserializeBinaryFromReader=function(s,c){for(;c.nextField()&&!c.isEndGroup();)switch(c.getFieldNumber()){case 1:var d=new proto.mediapipe.RenderAnnotation.Rectangle;c.readMessage(d,proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinaryFromReader),s.setRectangle(d);break;case 2:d=new proto.mediapipe.RenderAnnotation.FilledRectangle,c.readMessage(d,proto.mediapipe.RenderAnnotation.FilledRectangle.deserializeBinaryFromReader),s.setFilledRectangle(d);break;case 3:d=new proto.mediapipe.RenderAnnotation.Oval,c.readMessage(d,proto.mediapipe.RenderAnnotation.Oval.deserializeBinaryFromReader),s.setOval(d);break;case 4:d=new proto.mediapipe.RenderAnnotation.FilledOval,c.readMessage(d,proto.mediapipe.RenderAnnotation.FilledOval.deserializeBinaryFromReader),s.setFilledOval(d);break;case 5:d=new proto.mediapipe.RenderAnnotation.Point,c.readMessage(d,proto.mediapipe.RenderAnnotation.Point.deserializeBinaryFromReader),s.setPoint(d);break;case 6:d=new proto.mediapipe.RenderAnnotation.Line,c.readMessage(d,proto.mediapipe.RenderAnnotation.Line.deserializeBinaryFromReader),s.setLine(d);break;case 7:d=new proto.mediapipe.RenderAnnotation.Arrow,c.readMessage(d,proto.mediapipe.RenderAnnotation.Arrow.deserializeBinaryFromReader),s.setArrow(d);break;case 8:d=new proto.mediapipe.RenderAnnotation.Text,c.readMessage(d,proto.mediapipe.RenderAnnotation.Text.deserializeBinaryFromReader),s.setText(d);break;case 9:d=new proto.mediapipe.RenderAnnotation.RoundedRectangle,c.readMessage(d,proto.mediapipe.RenderAnnotation.RoundedRectangle.deserializeBinaryFromReader),s.setRoundedRectangle(d);break;case 10:d=new proto.mediapipe.RenderAnnotation.FilledRoundedRectangle,c.readMessage(d,proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.deserializeBinaryFromReader),s.setFilledRoundedRectangle(d);break;case 14:d=new proto.mediapipe.RenderAnnotation.GradientLine,c.readMessage(d,proto.mediapipe.RenderAnnotation.GradientLine.deserializeBinaryFromReader),s.setGradientLine(d);break;case 15:d=new proto.mediapipe.RenderAnnotation.Scribble,c.readMessage(d,proto.mediapipe.RenderAnnotation.Scribble.deserializeBinaryFromReader),s.setScribble(d);break;case 11:d=c.readDouble(),s.setThickness(d);break;case 12:d=new o.Color,c.readMessage(d,o.Color.deserializeBinaryFromReader),s.setColor(d);break;case 13:d=c.readString(),s.setSceneTag(d);break;default:c.skipField()}return s},proto.mediapipe.RenderAnnotation.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.RenderAnnotation.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.RenderAnnotation.serializeBinaryToWriter=function(s,c){var d=void 0;(d=s.getRectangle())!=null&&c.writeMessage(1,d,proto.mediapipe.RenderAnnotation.Rectangle.serializeBinaryToWriter),(d=s.getFilledRectangle())!=null&&c.writeMessage(2,d,proto.mediapipe.RenderAnnotation.FilledRectangle.serializeBinaryToWriter),(d=s.getOval())!=null&&c.writeMessage(3,d,proto.mediapipe.RenderAnnotation.Oval.serializeBinaryToWriter),(d=s.getFilledOval())!=null&&c.writeMessage(4,d,proto.mediapipe.RenderAnnotation.FilledOval.serializeBinaryToWriter),(d=s.getPoint())!=null&&c.writeMessage(5,d,proto.mediapipe.RenderAnnotation.Point.serializeBinaryToWriter),(d=s.getLine())!=null&&c.writeMessage(6,d,proto.mediapipe.RenderAnnotation.Line.serializeBinaryToWriter),(d=s.getArrow())!=null&&c.writeMessage(7,d,proto.mediapipe.RenderAnnotation.Arrow.serializeBinaryToWriter),(d=s.getText())!=null&&c.writeMessage(8,d,proto.mediapipe.RenderAnnotation.Text.serializeBinaryToWriter),(d=s.getRoundedRectangle())!=null&&c.writeMessage(9,d,proto.mediapipe.RenderAnnotation.RoundedRectangle.serializeBinaryToWriter),(d=s.getFilledRoundedRectangle())!=null&&c.writeMessage(10,d,proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.serializeBinaryToWriter),(d=s.getGradientLine())!=null&&c.writeMessage(14,d,proto.mediapipe.RenderAnnotation.GradientLine.serializeBinaryToWriter),(d=s.getScribble())!=null&&c.writeMessage(15,d,proto.mediapipe.RenderAnnotation.Scribble.serializeBinaryToWriter),(d=e.Message.getField(s,11))!=null&&c.writeDouble(11,d),(d=s.getColor())!=null&&c.writeMessage(12,d,o.Color.serializeBinaryToWriter),(d=e.Message.getField(s,13))!=null&&c.writeString(13,d)},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Rectangle.prototype.toObject=function(s){return proto.mediapipe.RenderAnnotation.Rectangle.toObject(s,this)},proto.mediapipe.RenderAnnotation.Rectangle.toObject=function(s,c){var d,u={left:(d=e.Message.getOptionalFloatingPointField(c,1))==null?void 0:d,top:(d=e.Message.getOptionalFloatingPointField(c,2))==null?void 0:d,right:(d=e.Message.getOptionalFloatingPointField(c,3))==null?void 0:d,bottom:(d=e.Message.getOptionalFloatingPointField(c,4))==null?void 0:d,normalized:e.Message.getBooleanFieldWithDefault(c,5,!1),rotation:(d=e.Message.getOptionalFloatingPointField(c,6))==null?void 0:d,topLeftThickness:(d=e.Message.getOptionalFloatingPointField(c,7))==null?void 0:d};return s&&(u.$jspbMessageInstance=c),u}),proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinary=function(s){var c=new e.BinaryReader(s),d=new proto.mediapipe.RenderAnnotation.Rectangle;return proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinaryFromReader(d,c)},proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinaryFromReader=function(s,c){for(;c.nextField()&&!c.isEndGroup();)switch(c.getFieldNumber()){case 1:var d=c.readDouble();s.setLeft(d);break;case 2:d=c.readDouble(),s.setTop(d);break;case 3:d=c.readDouble(),s.setRight(d);break;case 4:d=c.readDouble(),s.setBottom(d);break;case 5:d=c.readBool(),s.setNormalized(d);break;case 6:d=c.readDouble(),s.setRotation(d);break;case 7:d=c.readDouble(),s.setTopLeftThickness(d);break;default:c.skipField()}return s},proto.mediapipe.RenderAnnotation.Rectangle.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.RenderAnnotation.Rectangle.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.RenderAnnotation.Rectangle.serializeBinaryToWriter=function(s,c){var d=void 0;(d=e.Message.getField(s,1))!=null&&c.writeDouble(1,d),(d=e.Message.getField(s,2))!=null&&c.writeDouble(2,d),(d=e.Message.getField(s,3))!=null&&c.writeDouble(3,d),(d=e.Message.getField(s,4))!=null&&c.writeDouble(4,d),(d=e.Message.getField(s,5))!=null&&c.writeBool(5,d),(d=e.Message.getField(s,6))!=null&&c.writeDouble(6,d),(d=e.Message.getField(s,7))!=null&&c.writeDouble(7,d)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getLeft=function(){return e.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setLeft=function(s){return e.Message.setField(this,1,s)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearLeft=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasLeft=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getTop=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setTop=function(s){return e.Message.setField(this,2,s)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearTop=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasTop=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getRight=function(){return e.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setRight=function(s){return e.Message.setField(this,3,s)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearRight=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasRight=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getBottom=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setBottom=function(s){return e.Message.setField(this,4,s)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearBottom=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasBottom=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getNormalized=function(){return e.Message.getBooleanFieldWithDefault(this,5,!1)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setNormalized=function(s){return e.Message.setField(this,5,s)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearNormalized=function(){return e.Message.setField(this,5,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasNormalized=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getRotation=function(){return e.Message.getFloatingPointFieldWithDefault(this,6,0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setRotation=function(s){return e.Message.setField(this,6,s)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearRotation=function(){return e.Message.setField(this,6,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasRotation=function(){return e.Message.getField(this,6)!=null},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getTopLeftThickness=function(){return e.Message.getFloatingPointFieldWithDefault(this,7,0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setTopLeftThickness=function(s){return e.Message.setField(this,7,s)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearTopLeftThickness=function(){return e.Message.setField(this,7,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasTopLeftThickness=function(){return e.Message.getField(this,7)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.toObject=function(s){return proto.mediapipe.RenderAnnotation.FilledRectangle.toObject(s,this)},proto.mediapipe.RenderAnnotation.FilledRectangle.toObject=function(s,c){var d,u={rectangle:(d=c.getRectangle())&&proto.mediapipe.RenderAnnotation.Rectangle.toObject(s,d),fillColor:(d=c.getFillColor())&&o.Color.toObject(s,d)};return s&&(u.$jspbMessageInstance=c),u}),proto.mediapipe.RenderAnnotation.FilledRectangle.deserializeBinary=function(s){var c=new e.BinaryReader(s),d=new proto.mediapipe.RenderAnnotation.FilledRectangle;return proto.mediapipe.RenderAnnotation.FilledRectangle.deserializeBinaryFromReader(d,c)},proto.mediapipe.RenderAnnotation.FilledRectangle.deserializeBinaryFromReader=function(s,c){for(;c.nextField()&&!c.isEndGroup();)switch(c.getFieldNumber()){case 1:var d=new proto.mediapipe.RenderAnnotation.Rectangle;c.readMessage(d,proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinaryFromReader),s.setRectangle(d);break;case 2:d=new o.Color,c.readMessage(d,o.Color.deserializeBinaryFromReader),s.setFillColor(d);break;default:c.skipField()}return s},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.RenderAnnotation.FilledRectangle.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.RenderAnnotation.FilledRectangle.serializeBinaryToWriter=function(s,c){var d=void 0;(d=s.getRectangle())!=null&&c.writeMessage(1,d,proto.mediapipe.RenderAnnotation.Rectangle.serializeBinaryToWriter),(d=s.getFillColor())!=null&&c.writeMessage(2,d,o.Color.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.getRectangle=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Rectangle,1)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.setRectangle=function(s){return e.Message.setWrapperField(this,1,s)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.clearRectangle=function(){return this.setRectangle(void 0)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.hasRectangle=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.getFillColor=function(){return e.Message.getWrapperField(this,o.Color,2)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.setFillColor=function(s){return e.Message.setWrapperField(this,2,s)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.clearFillColor=function(){return this.setFillColor(void 0)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.hasFillColor=function(){return e.Message.getField(this,2)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.toObject=function(s){return proto.mediapipe.RenderAnnotation.RoundedRectangle.toObject(s,this)},proto.mediapipe.RenderAnnotation.RoundedRectangle.toObject=function(s,c){var d,u={rectangle:(d=c.getRectangle())&&proto.mediapipe.RenderAnnotation.Rectangle.toObject(s,d),cornerRadius:e.Message.getFieldWithDefault(c,2,0),lineType:e.Message.getFieldWithDefault(c,3,4)};return s&&(u.$jspbMessageInstance=c),u}),proto.mediapipe.RenderAnnotation.RoundedRectangle.deserializeBinary=function(s){var c=new e.BinaryReader(s),d=new proto.mediapipe.RenderAnnotation.RoundedRectangle;return proto.mediapipe.RenderAnnotation.RoundedRectangle.deserializeBinaryFromReader(d,c)},proto.mediapipe.RenderAnnotation.RoundedRectangle.deserializeBinaryFromReader=function(s,c){for(;c.nextField()&&!c.isEndGroup();)switch(c.getFieldNumber()){case 1:var d=new proto.mediapipe.RenderAnnotation.Rectangle;c.readMessage(d,proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinaryFromReader),s.setRectangle(d);break;case 2:d=c.readInt32(),s.setCornerRadius(d);break;case 3:d=c.readInt32(),s.setLineType(d);break;default:c.skipField()}return s},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.RenderAnnotation.RoundedRectangle.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.RenderAnnotation.RoundedRectangle.serializeBinaryToWriter=function(s,c){var d=void 0;(d=s.getRectangle())!=null&&c.writeMessage(1,d,proto.mediapipe.RenderAnnotation.Rectangle.serializeBinaryToWriter),(d=e.Message.getField(s,2))!=null&&c.writeInt32(2,d),(d=e.Message.getField(s,3))!=null&&c.writeInt32(3,d)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.getRectangle=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Rectangle,1)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.setRectangle=function(s){return e.Message.setWrapperField(this,1,s)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.clearRectangle=function(){return this.setRectangle(void 0)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.hasRectangle=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.getCornerRadius=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.setCornerRadius=function(s){return e.Message.setField(this,2,s)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.clearCornerRadius=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.hasCornerRadius=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.getLineType=function(){return e.Message.getFieldWithDefault(this,3,4)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.setLineType=function(s){return e.Message.setField(this,3,s)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.clearLineType=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.hasLineType=function(){return e.Message.getField(this,3)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.toObject=function(s){return proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.toObject(s,this)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.toObject=function(s,c){var d,u={roundedRectangle:(d=c.getRoundedRectangle())&&proto.mediapipe.RenderAnnotation.RoundedRectangle.toObject(s,d),fillColor:(d=c.getFillColor())&&o.Color.toObject(s,d)};return s&&(u.$jspbMessageInstance=c),u}),proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.deserializeBinary=function(s){var c=new e.BinaryReader(s),d=new proto.mediapipe.RenderAnnotation.FilledRoundedRectangle;return proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.deserializeBinaryFromReader(d,c)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.deserializeBinaryFromReader=function(s,c){for(;c.nextField()&&!c.isEndGroup();)switch(c.getFieldNumber()){case 1:var d=new proto.mediapipe.RenderAnnotation.RoundedRectangle;c.readMessage(d,proto.mediapipe.RenderAnnotation.RoundedRectangle.deserializeBinaryFromReader),s.setRoundedRectangle(d);break;case 2:d=new o.Color,c.readMessage(d,o.Color.deserializeBinaryFromReader),s.setFillColor(d);break;default:c.skipField()}return s},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.serializeBinaryToWriter=function(s,c){var d=void 0;(d=s.getRoundedRectangle())!=null&&c.writeMessage(1,d,proto.mediapipe.RenderAnnotation.RoundedRectangle.serializeBinaryToWriter),(d=s.getFillColor())!=null&&c.writeMessage(2,d,o.Color.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.getRoundedRectangle=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.RoundedRectangle,1)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.setRoundedRectangle=function(s){return e.Message.setWrapperField(this,1,s)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.clearRoundedRectangle=function(){return this.setRoundedRectangle(void 0)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.hasRoundedRectangle=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.getFillColor=function(){return e.Message.getWrapperField(this,o.Color,2)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.setFillColor=function(s){return e.Message.setWrapperField(this,2,s)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.clearFillColor=function(){return this.setFillColor(void 0)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.hasFillColor=function(){return e.Message.getField(this,2)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Oval.prototype.toObject=function(s){return proto.mediapipe.RenderAnnotation.Oval.toObject(s,this)},proto.mediapipe.RenderAnnotation.Oval.toObject=function(s,c){var d,u={rectangle:(d=c.getRectangle())&&proto.mediapipe.RenderAnnotation.Rectangle.toObject(s,d)};return s&&(u.$jspbMessageInstance=c),u}),proto.mediapipe.RenderAnnotation.Oval.deserializeBinary=function(s){var c=new e.BinaryReader(s),d=new proto.mediapipe.RenderAnnotation.Oval;return proto.mediapipe.RenderAnnotation.Oval.deserializeBinaryFromReader(d,c)},proto.mediapipe.RenderAnnotation.Oval.deserializeBinaryFromReader=function(s,c){for(;c.nextField()&&!c.isEndGroup();)if(c.getFieldNumber()===1){var d=new proto.mediapipe.RenderAnnotation.Rectangle;c.readMessage(d,proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinaryFromReader),s.setRectangle(d)}else c.skipField();return s},proto.mediapipe.RenderAnnotation.Oval.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.RenderAnnotation.Oval.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.RenderAnnotation.Oval.serializeBinaryToWriter=function(s,c){var d;(d=s.getRectangle())!=null&&c.writeMessage(1,d,proto.mediapipe.RenderAnnotation.Rectangle.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.Oval.prototype.getRectangle=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Rectangle,1)},proto.mediapipe.RenderAnnotation.Oval.prototype.setRectangle=function(s){return e.Message.setWrapperField(this,1,s)},proto.mediapipe.RenderAnnotation.Oval.prototype.clearRectangle=function(){return this.setRectangle(void 0)},proto.mediapipe.RenderAnnotation.Oval.prototype.hasRectangle=function(){return e.Message.getField(this,1)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.FilledOval.prototype.toObject=function(s){return proto.mediapipe.RenderAnnotation.FilledOval.toObject(s,this)},proto.mediapipe.RenderAnnotation.FilledOval.toObject=function(s,c){var d,u={oval:(d=c.getOval())&&proto.mediapipe.RenderAnnotation.Oval.toObject(s,d),fillColor:(d=c.getFillColor())&&o.Color.toObject(s,d)};return s&&(u.$jspbMessageInstance=c),u}),proto.mediapipe.RenderAnnotation.FilledOval.deserializeBinary=function(s){var c=new e.BinaryReader(s),d=new proto.mediapipe.RenderAnnotation.FilledOval;return proto.mediapipe.RenderAnnotation.FilledOval.deserializeBinaryFromReader(d,c)},proto.mediapipe.RenderAnnotation.FilledOval.deserializeBinaryFromReader=function(s,c){for(;c.nextField()&&!c.isEndGroup();)switch(c.getFieldNumber()){case 1:var d=new proto.mediapipe.RenderAnnotation.Oval;c.readMessage(d,proto.mediapipe.RenderAnnotation.Oval.deserializeBinaryFromReader),s.setOval(d);break;case 2:d=new o.Color,c.readMessage(d,o.Color.deserializeBinaryFromReader),s.setFillColor(d);break;default:c.skipField()}return s},proto.mediapipe.RenderAnnotation.FilledOval.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.RenderAnnotation.FilledOval.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.RenderAnnotation.FilledOval.serializeBinaryToWriter=function(s,c){var d=void 0;(d=s.getOval())!=null&&c.writeMessage(1,d,proto.mediapipe.RenderAnnotation.Oval.serializeBinaryToWriter),(d=s.getFillColor())!=null&&c.writeMessage(2,d,o.Color.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.getOval=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Oval,1)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.setOval=function(s){return e.Message.setWrapperField(this,1,s)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.clearOval=function(){return this.setOval(void 0)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.hasOval=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.FilledOval.prototype.getFillColor=function(){return e.Message.getWrapperField(this,o.Color,2)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.setFillColor=function(s){return e.Message.setWrapperField(this,2,s)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.clearFillColor=function(){return this.setFillColor(void 0)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.hasFillColor=function(){return e.Message.getField(this,2)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Point.prototype.toObject=function(s){return proto.mediapipe.RenderAnnotation.Point.toObject(s,this)},proto.mediapipe.RenderAnnotation.Point.toObject=function(s,c){var d,u={x:(d=e.Message.getOptionalFloatingPointField(c,1))==null?void 0:d,y:(d=e.Message.getOptionalFloatingPointField(c,2))==null?void 0:d,normalized:e.Message.getBooleanFieldWithDefault(c,3,!1)};return s&&(u.$jspbMessageInstance=c),u}),proto.mediapipe.RenderAnnotation.Point.deserializeBinary=function(s){var c=new e.BinaryReader(s),d=new proto.mediapipe.RenderAnnotation.Point;return proto.mediapipe.RenderAnnotation.Point.deserializeBinaryFromReader(d,c)},proto.mediapipe.RenderAnnotation.Point.deserializeBinaryFromReader=function(s,c){for(;c.nextField()&&!c.isEndGroup();)switch(c.getFieldNumber()){case 1:var d=c.readDouble();s.setX(d);break;case 2:d=c.readDouble(),s.setY(d);break;case 3:d=c.readBool(),s.setNormalized(d);break;default:c.skipField()}return s},proto.mediapipe.RenderAnnotation.Point.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.RenderAnnotation.Point.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.RenderAnnotation.Point.serializeBinaryToWriter=function(s,c){var d=void 0;(d=e.Message.getField(s,1))!=null&&c.writeDouble(1,d),(d=e.Message.getField(s,2))!=null&&c.writeDouble(2,d),(d=e.Message.getField(s,3))!=null&&c.writeBool(3,d)},proto.mediapipe.RenderAnnotation.Point.prototype.getX=function(){return e.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.RenderAnnotation.Point.prototype.setX=function(s){return e.Message.setField(this,1,s)},proto.mediapipe.RenderAnnotation.Point.prototype.clearX=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.RenderAnnotation.Point.prototype.hasX=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.Point.prototype.getY=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.Point.prototype.setY=function(s){return e.Message.setField(this,2,s)},proto.mediapipe.RenderAnnotation.Point.prototype.clearY=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.Point.prototype.hasY=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.RenderAnnotation.Point.prototype.getNormalized=function(){return e.Message.getBooleanFieldWithDefault(this,3,!1)},proto.mediapipe.RenderAnnotation.Point.prototype.setNormalized=function(s){return e.Message.setField(this,3,s)},proto.mediapipe.RenderAnnotation.Point.prototype.clearNormalized=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.Point.prototype.hasNormalized=function(){return e.Message.getField(this,3)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Line.prototype.toObject=function(s){return proto.mediapipe.RenderAnnotation.Line.toObject(s,this)},proto.mediapipe.RenderAnnotation.Line.toObject=function(s,c){var d,u={xStart:(d=e.Message.getOptionalFloatingPointField(c,1))==null?void 0:d,yStart:(d=e.Message.getOptionalFloatingPointField(c,2))==null?void 0:d,xEnd:(d=e.Message.getOptionalFloatingPointField(c,3))==null?void 0:d,yEnd:(d=e.Message.getOptionalFloatingPointField(c,4))==null?void 0:d,normalized:e.Message.getBooleanFieldWithDefault(c,5,!1),lineType:e.Message.getFieldWithDefault(c,6,1)};return s&&(u.$jspbMessageInstance=c),u}),proto.mediapipe.RenderAnnotation.Line.deserializeBinary=function(s){var c=new e.BinaryReader(s),d=new proto.mediapipe.RenderAnnotation.Line;return proto.mediapipe.RenderAnnotation.Line.deserializeBinaryFromReader(d,c)},proto.mediapipe.RenderAnnotation.Line.deserializeBinaryFromReader=function(s,c){for(;c.nextField()&&!c.isEndGroup();)switch(c.getFieldNumber()){case 1:var d=c.readDouble();s.setXStart(d);break;case 2:d=c.readDouble(),s.setYStart(d);break;case 3:d=c.readDouble(),s.setXEnd(d);break;case 4:d=c.readDouble(),s.setYEnd(d);break;case 5:d=c.readBool(),s.setNormalized(d);break;case 6:d=c.readEnum(),s.setLineType(d);break;default:c.skipField()}return s},proto.mediapipe.RenderAnnotation.Line.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.RenderAnnotation.Line.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.RenderAnnotation.Line.serializeBinaryToWriter=function(s,c){var d=void 0;(d=e.Message.getField(s,1))!=null&&c.writeDouble(1,d),(d=e.Message.getField(s,2))!=null&&c.writeDouble(2,d),(d=e.Message.getField(s,3))!=null&&c.writeDouble(3,d),(d=e.Message.getField(s,4))!=null&&c.writeDouble(4,d),(d=e.Message.getField(s,5))!=null&&c.writeBool(5,d),(d=e.Message.getField(s,6))!=null&&c.writeEnum(6,d)},proto.mediapipe.RenderAnnotation.Line.LineType={UNKNOWN:0,SOLID:1,DASHED:2},proto.mediapipe.RenderAnnotation.Line.prototype.getXStart=function(){return e.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.RenderAnnotation.Line.prototype.setXStart=function(s){return e.Message.setField(this,1,s)},proto.mediapipe.RenderAnnotation.Line.prototype.clearXStart=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.RenderAnnotation.Line.prototype.hasXStart=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.Line.prototype.getYStart=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.Line.prototype.setYStart=function(s){return e.Message.setField(this,2,s)},proto.mediapipe.RenderAnnotation.Line.prototype.clearYStart=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.Line.prototype.hasYStart=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.RenderAnnotation.Line.prototype.getXEnd=function(){return e.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.RenderAnnotation.Line.prototype.setXEnd=function(s){return e.Message.setField(this,3,s)},proto.mediapipe.RenderAnnotation.Line.prototype.clearXEnd=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.Line.prototype.hasXEnd=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.RenderAnnotation.Line.prototype.getYEnd=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.RenderAnnotation.Line.prototype.setYEnd=function(s){return e.Message.setField(this,4,s)},proto.mediapipe.RenderAnnotation.Line.prototype.clearYEnd=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.RenderAnnotation.Line.prototype.hasYEnd=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.RenderAnnotation.Line.prototype.getNormalized=function(){return e.Message.getBooleanFieldWithDefault(this,5,!1)},proto.mediapipe.RenderAnnotation.Line.prototype.setNormalized=function(s){return e.Message.setField(this,5,s)},proto.mediapipe.RenderAnnotation.Line.prototype.clearNormalized=function(){return e.Message.setField(this,5,void 0)},proto.mediapipe.RenderAnnotation.Line.prototype.hasNormalized=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.RenderAnnotation.Line.prototype.getLineType=function(){return e.Message.getFieldWithDefault(this,6,1)},proto.mediapipe.RenderAnnotation.Line.prototype.setLineType=function(s){return e.Message.setField(this,6,s)},proto.mediapipe.RenderAnnotation.Line.prototype.clearLineType=function(){return e.Message.setField(this,6,void 0)},proto.mediapipe.RenderAnnotation.Line.prototype.hasLineType=function(){return e.Message.getField(this,6)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.GradientLine.prototype.toObject=function(s){return proto.mediapipe.RenderAnnotation.GradientLine.toObject(s,this)},proto.mediapipe.RenderAnnotation.GradientLine.toObject=function(s,c){var d,u={xStart:(d=e.Message.getOptionalFloatingPointField(c,1))==null?void 0:d,yStart:(d=e.Message.getOptionalFloatingPointField(c,2))==null?void 0:d,xEnd:(d=e.Message.getOptionalFloatingPointField(c,3))==null?void 0:d,yEnd:(d=e.Message.getOptionalFloatingPointField(c,4))==null?void 0:d,normalized:e.Message.getBooleanFieldWithDefault(c,5,!1),color1:(d=c.getColor1())&&o.Color.toObject(s,d),color2:(d=c.getColor2())&&o.Color.toObject(s,d)};return s&&(u.$jspbMessageInstance=c),u}),proto.mediapipe.RenderAnnotation.GradientLine.deserializeBinary=function(s){var c=new e.BinaryReader(s),d=new proto.mediapipe.RenderAnnotation.GradientLine;return proto.mediapipe.RenderAnnotation.GradientLine.deserializeBinaryFromReader(d,c)},proto.mediapipe.RenderAnnotation.GradientLine.deserializeBinaryFromReader=function(s,c){for(;c.nextField()&&!c.isEndGroup();)switch(c.getFieldNumber()){case 1:var d=c.readDouble();s.setXStart(d);break;case 2:d=c.readDouble(),s.setYStart(d);break;case 3:d=c.readDouble(),s.setXEnd(d);break;case 4:d=c.readDouble(),s.setYEnd(d);break;case 5:d=c.readBool(),s.setNormalized(d);break;case 6:d=new o.Color,c.readMessage(d,o.Color.deserializeBinaryFromReader),s.setColor1(d);break;case 7:d=new o.Color,c.readMessage(d,o.Color.deserializeBinaryFromReader),s.setColor2(d);break;default:c.skipField()}return s},proto.mediapipe.RenderAnnotation.GradientLine.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.RenderAnnotation.GradientLine.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.RenderAnnotation.GradientLine.serializeBinaryToWriter=function(s,c){var d=void 0;(d=e.Message.getField(s,1))!=null&&c.writeDouble(1,d),(d=e.Message.getField(s,2))!=null&&c.writeDouble(2,d),(d=e.Message.getField(s,3))!=null&&c.writeDouble(3,d),(d=e.Message.getField(s,4))!=null&&c.writeDouble(4,d),(d=e.Message.getField(s,5))!=null&&c.writeBool(5,d),(d=s.getColor1())!=null&&c.writeMessage(6,d,o.Color.serializeBinaryToWriter),(d=s.getColor2())!=null&&c.writeMessage(7,d,o.Color.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getXStart=function(){return e.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setXStart=function(s){return e.Message.setField(this,1,s)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearXStart=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasXStart=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getYStart=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setYStart=function(s){return e.Message.setField(this,2,s)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearYStart=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasYStart=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getXEnd=function(){return e.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setXEnd=function(s){return e.Message.setField(this,3,s)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearXEnd=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasXEnd=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getYEnd=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setYEnd=function(s){return e.Message.setField(this,4,s)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearYEnd=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasYEnd=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getNormalized=function(){return e.Message.getBooleanFieldWithDefault(this,5,!1)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setNormalized=function(s){return e.Message.setField(this,5,s)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearNormalized=function(){return e.Message.setField(this,5,void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasNormalized=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getColor1=function(){return e.Message.getWrapperField(this,o.Color,6)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setColor1=function(s){return e.Message.setWrapperField(this,6,s)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearColor1=function(){return this.setColor1(void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasColor1=function(){return e.Message.getField(this,6)!=null},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getColor2=function(){return e.Message.getWrapperField(this,o.Color,7)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setColor2=function(s){return e.Message.setWrapperField(this,7,s)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearColor2=function(){return this.setColor2(void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasColor2=function(){return e.Message.getField(this,7)!=null},proto.mediapipe.RenderAnnotation.Scribble.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Scribble.prototype.toObject=function(s){return proto.mediapipe.RenderAnnotation.Scribble.toObject(s,this)},proto.mediapipe.RenderAnnotation.Scribble.toObject=function(s,c){var d={pointList:e.Message.toObjectList(c.getPointList(),proto.mediapipe.RenderAnnotation.Point.toObject,s)};return s&&(d.$jspbMessageInstance=c),d}),proto.mediapipe.RenderAnnotation.Scribble.deserializeBinary=function(s){var c=new e.BinaryReader(s),d=new proto.mediapipe.RenderAnnotation.Scribble;return proto.mediapipe.RenderAnnotation.Scribble.deserializeBinaryFromReader(d,c)},proto.mediapipe.RenderAnnotation.Scribble.deserializeBinaryFromReader=function(s,c){for(;c.nextField()&&!c.isEndGroup();)if(c.getFieldNumber()===1){var d=new proto.mediapipe.RenderAnnotation.Point;c.readMessage(d,proto.mediapipe.RenderAnnotation.Point.deserializeBinaryFromReader),s.addPoint(d)}else c.skipField();return s},proto.mediapipe.RenderAnnotation.Scribble.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.RenderAnnotation.Scribble.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.RenderAnnotation.Scribble.serializeBinaryToWriter=function(s,c){var d;(d=s.getPointList()).length>0&&c.writeRepeatedMessage(1,d,proto.mediapipe.RenderAnnotation.Point.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.Scribble.prototype.getPointList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.RenderAnnotation.Point,1)},proto.mediapipe.RenderAnnotation.Scribble.prototype.setPointList=function(s){return e.Message.setRepeatedWrapperField(this,1,s)},proto.mediapipe.RenderAnnotation.Scribble.prototype.addPoint=function(s,c){return e.Message.addToRepeatedWrapperField(this,1,s,proto.mediapipe.RenderAnnotation.Point,c)},proto.mediapipe.RenderAnnotation.Scribble.prototype.clearPointList=function(){return this.setPointList([])},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Arrow.prototype.toObject=function(s){return proto.mediapipe.RenderAnnotation.Arrow.toObject(s,this)},proto.mediapipe.RenderAnnotation.Arrow.toObject=function(s,c){var d,u={xStart:(d=e.Message.getOptionalFloatingPointField(c,1))==null?void 0:d,yStart:(d=e.Message.getOptionalFloatingPointField(c,2))==null?void 0:d,xEnd:(d=e.Message.getOptionalFloatingPointField(c,3))==null?void 0:d,yEnd:(d=e.Message.getOptionalFloatingPointField(c,4))==null?void 0:d,normalized:e.Message.getBooleanFieldWithDefault(c,5,!1)};return s&&(u.$jspbMessageInstance=c),u}),proto.mediapipe.RenderAnnotation.Arrow.deserializeBinary=function(s){var c=new e.BinaryReader(s),d=new proto.mediapipe.RenderAnnotation.Arrow;return proto.mediapipe.RenderAnnotation.Arrow.deserializeBinaryFromReader(d,c)},proto.mediapipe.RenderAnnotation.Arrow.deserializeBinaryFromReader=function(s,c){for(;c.nextField()&&!c.isEndGroup();)switch(c.getFieldNumber()){case 1:var d=c.readDouble();s.setXStart(d);break;case 2:d=c.readDouble(),s.setYStart(d);break;case 3:d=c.readDouble(),s.setXEnd(d);break;case 4:d=c.readDouble(),s.setYEnd(d);break;case 5:d=c.readBool(),s.setNormalized(d);break;default:c.skipField()}return s},proto.mediapipe.RenderAnnotation.Arrow.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.RenderAnnotation.Arrow.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.RenderAnnotation.Arrow.serializeBinaryToWriter=function(s,c){var d=void 0;(d=e.Message.getField(s,1))!=null&&c.writeDouble(1,d),(d=e.Message.getField(s,2))!=null&&c.writeDouble(2,d),(d=e.Message.getField(s,3))!=null&&c.writeDouble(3,d),(d=e.Message.getField(s,4))!=null&&c.writeDouble(4,d),(d=e.Message.getField(s,5))!=null&&c.writeBool(5,d)},proto.mediapipe.RenderAnnotation.Arrow.prototype.getXStart=function(){return e.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.setXStart=function(s){return e.Message.setField(this,1,s)},proto.mediapipe.RenderAnnotation.Arrow.prototype.clearXStart=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.hasXStart=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.Arrow.prototype.getYStart=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.setYStart=function(s){return e.Message.setField(this,2,s)},proto.mediapipe.RenderAnnotation.Arrow.prototype.clearYStart=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.hasYStart=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.RenderAnnotation.Arrow.prototype.getXEnd=function(){return e.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.setXEnd=function(s){return e.Message.setField(this,3,s)},proto.mediapipe.RenderAnnotation.Arrow.prototype.clearXEnd=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.hasXEnd=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.RenderAnnotation.Arrow.prototype.getYEnd=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.setYEnd=function(s){return e.Message.setField(this,4,s)},proto.mediapipe.RenderAnnotation.Arrow.prototype.clearYEnd=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.hasYEnd=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.RenderAnnotation.Arrow.prototype.getNormalized=function(){return e.Message.getBooleanFieldWithDefault(this,5,!1)},proto.mediapipe.RenderAnnotation.Arrow.prototype.setNormalized=function(s){return e.Message.setField(this,5,s)},proto.mediapipe.RenderAnnotation.Arrow.prototype.clearNormalized=function(){return e.Message.setField(this,5,void 0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.hasNormalized=function(){return e.Message.getField(this,5)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Text.prototype.toObject=function(s){return proto.mediapipe.RenderAnnotation.Text.toObject(s,this)},proto.mediapipe.RenderAnnotation.Text.toObject=function(s,c){var d,u={displayText:(d=e.Message.getField(c,1))==null?void 0:d,left:(d=e.Message.getOptionalFloatingPointField(c,2))==null?void 0:d,baseline:(d=e.Message.getOptionalFloatingPointField(c,3))==null?void 0:d,fontHeight:e.Message.getFloatingPointFieldWithDefault(c,4,8),normalized:e.Message.getBooleanFieldWithDefault(c,5,!1),fontFace:e.Message.getFieldWithDefault(c,6,0),centerHorizontally:e.Message.getBooleanFieldWithDefault(c,7,!1),centerVertically:e.Message.getBooleanFieldWithDefault(c,8,!1),outlineThickness:e.Message.getFloatingPointFieldWithDefault(c,11,0),outlineColor:(d=c.getOutlineColor())&&o.Color.toObject(s,d)};return s&&(u.$jspbMessageInstance=c),u}),proto.mediapipe.RenderAnnotation.Text.deserializeBinary=function(s){var c=new e.BinaryReader(s),d=new proto.mediapipe.RenderAnnotation.Text;return proto.mediapipe.RenderAnnotation.Text.deserializeBinaryFromReader(d,c)},proto.mediapipe.RenderAnnotation.Text.deserializeBinaryFromReader=function(s,c){for(;c.nextField()&&!c.isEndGroup();)switch(c.getFieldNumber()){case 1:var d=c.readString();s.setDisplayText(d);break;case 2:d=c.readDouble(),s.setLeft(d);break;case 3:d=c.readDouble(),s.setBaseline(d);break;case 4:d=c.readDouble(),s.setFontHeight(d);break;case 5:d=c.readBool(),s.setNormalized(d);break;case 6:d=c.readInt32(),s.setFontFace(d);break;case 7:d=c.readBool(),s.setCenterHorizontally(d);break;case 8:d=c.readBool(),s.setCenterVertically(d);break;case 11:d=c.readDouble(),s.setOutlineThickness(d);break;case 12:d=new o.Color,c.readMessage(d,o.Color.deserializeBinaryFromReader),s.setOutlineColor(d);break;default:c.skipField()}return s},proto.mediapipe.RenderAnnotation.Text.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.RenderAnnotation.Text.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.RenderAnnotation.Text.serializeBinaryToWriter=function(s,c){var d=void 0;(d=e.Message.getField(s,1))!=null&&c.writeString(1,d),(d=e.Message.getField(s,2))!=null&&c.writeDouble(2,d),(d=e.Message.getField(s,3))!=null&&c.writeDouble(3,d),(d=e.Message.getField(s,4))!=null&&c.writeDouble(4,d),(d=e.Message.getField(s,5))!=null&&c.writeBool(5,d),(d=e.Message.getField(s,6))!=null&&c.writeInt32(6,d),(d=e.Message.getField(s,7))!=null&&c.writeBool(7,d),(d=e.Message.getField(s,8))!=null&&c.writeBool(8,d),(d=e.Message.getField(s,11))!=null&&c.writeDouble(11,d),(d=s.getOutlineColor())!=null&&c.writeMessage(12,d,o.Color.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.Text.prototype.getDisplayText=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.RenderAnnotation.Text.prototype.setDisplayText=function(s){return e.Message.setField(this,1,s)},proto.mediapipe.RenderAnnotation.Text.prototype.clearDisplayText=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasDisplayText=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.Text.prototype.getLeft=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.Text.prototype.setLeft=function(s){return e.Message.setField(this,2,s)},proto.mediapipe.RenderAnnotation.Text.prototype.clearLeft=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasLeft=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.RenderAnnotation.Text.prototype.getBaseline=function(){return e.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.RenderAnnotation.Text.prototype.setBaseline=function(s){return e.Message.setField(this,3,s)},proto.mediapipe.RenderAnnotation.Text.prototype.clearBaseline=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasBaseline=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.RenderAnnotation.Text.prototype.getFontHeight=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,8)},proto.mediapipe.RenderAnnotation.Text.prototype.setFontHeight=function(s){return e.Message.setField(this,4,s)},proto.mediapipe.RenderAnnotation.Text.prototype.clearFontHeight=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasFontHeight=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.RenderAnnotation.Text.prototype.getNormalized=function(){return e.Message.getBooleanFieldWithDefault(this,5,!1)},proto.mediapipe.RenderAnnotation.Text.prototype.setNormalized=function(s){return e.Message.setField(this,5,s)},proto.mediapipe.RenderAnnotation.Text.prototype.clearNormalized=function(){return e.Message.setField(this,5,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasNormalized=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.RenderAnnotation.Text.prototype.getFontFace=function(){return e.Message.getFieldWithDefault(this,6,0)},proto.mediapipe.RenderAnnotation.Text.prototype.setFontFace=function(s){return e.Message.setField(this,6,s)},proto.mediapipe.RenderAnnotation.Text.prototype.clearFontFace=function(){return e.Message.setField(this,6,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasFontFace=function(){return e.Message.getField(this,6)!=null},proto.mediapipe.RenderAnnotation.Text.prototype.getCenterHorizontally=function(){return e.Message.getBooleanFieldWithDefault(this,7,!1)},proto.mediapipe.RenderAnnotation.Text.prototype.setCenterHorizontally=function(s){return e.Message.setField(this,7,s)},proto.mediapipe.RenderAnnotation.Text.prototype.clearCenterHorizontally=function(){return e.Message.setField(this,7,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasCenterHorizontally=function(){return e.Message.getField(this,7)!=null},proto.mediapipe.RenderAnnotation.Text.prototype.getCenterVertically=function(){return e.Message.getBooleanFieldWithDefault(this,8,!1)},proto.mediapipe.RenderAnnotation.Text.prototype.setCenterVertically=function(s){return e.Message.setField(this,8,s)},proto.mediapipe.RenderAnnotation.Text.prototype.clearCenterVertically=function(){return e.Message.setField(this,8,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasCenterVertically=function(){return e.Message.getField(this,8)!=null},proto.mediapipe.RenderAnnotation.Text.prototype.getOutlineThickness=function(){return e.Message.getFloatingPointFieldWithDefault(this,11,0)},proto.mediapipe.RenderAnnotation.Text.prototype.setOutlineThickness=function(s){return e.Message.setField(this,11,s)},proto.mediapipe.RenderAnnotation.Text.prototype.clearOutlineThickness=function(){return e.Message.setField(this,11,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasOutlineThickness=function(){return e.Message.getField(this,11)!=null},proto.mediapipe.RenderAnnotation.Text.prototype.getOutlineColor=function(){return e.Message.getWrapperField(this,o.Color,12)},proto.mediapipe.RenderAnnotation.Text.prototype.setOutlineColor=function(s){return e.Message.setWrapperField(this,12,s)},proto.mediapipe.RenderAnnotation.Text.prototype.clearOutlineColor=function(){return this.setOutlineColor(void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasOutlineColor=function(){return e.Message.getField(this,12)!=null},proto.mediapipe.RenderAnnotation.prototype.getRectangle=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Rectangle,1)},proto.mediapipe.RenderAnnotation.prototype.setRectangle=function(s){return e.Message.setOneofWrapperField(this,1,proto.mediapipe.RenderAnnotation.oneofGroups_[0],s)},proto.mediapipe.RenderAnnotation.prototype.clearRectangle=function(){return this.setRectangle(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasRectangle=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.prototype.getFilledRectangle=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.FilledRectangle,2)},proto.mediapipe.RenderAnnotation.prototype.setFilledRectangle=function(s){return e.Message.setOneofWrapperField(this,2,proto.mediapipe.RenderAnnotation.oneofGroups_[0],s)},proto.mediapipe.RenderAnnotation.prototype.clearFilledRectangle=function(){return this.setFilledRectangle(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasFilledRectangle=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.RenderAnnotation.prototype.getOval=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Oval,3)},proto.mediapipe.RenderAnnotation.prototype.setOval=function(s){return e.Message.setOneofWrapperField(this,3,proto.mediapipe.RenderAnnotation.oneofGroups_[0],s)},proto.mediapipe.RenderAnnotation.prototype.clearOval=function(){return this.setOval(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasOval=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.RenderAnnotation.prototype.getFilledOval=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.FilledOval,4)},proto.mediapipe.RenderAnnotation.prototype.setFilledOval=function(s){return e.Message.setOneofWrapperField(this,4,proto.mediapipe.RenderAnnotation.oneofGroups_[0],s)},proto.mediapipe.RenderAnnotation.prototype.clearFilledOval=function(){return this.setFilledOval(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasFilledOval=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.RenderAnnotation.prototype.getPoint=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Point,5)},proto.mediapipe.RenderAnnotation.prototype.setPoint=function(s){return e.Message.setOneofWrapperField(this,5,proto.mediapipe.RenderAnnotation.oneofGroups_[0],s)},proto.mediapipe.RenderAnnotation.prototype.clearPoint=function(){return this.setPoint(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasPoint=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.RenderAnnotation.prototype.getLine=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Line,6)},proto.mediapipe.RenderAnnotation.prototype.setLine=function(s){return e.Message.setOneofWrapperField(this,6,proto.mediapipe.RenderAnnotation.oneofGroups_[0],s)},proto.mediapipe.RenderAnnotation.prototype.clearLine=function(){return this.setLine(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasLine=function(){return e.Message.getField(this,6)!=null},proto.mediapipe.RenderAnnotation.prototype.getArrow=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Arrow,7)},proto.mediapipe.RenderAnnotation.prototype.setArrow=function(s){return e.Message.setOneofWrapperField(this,7,proto.mediapipe.RenderAnnotation.oneofGroups_[0],s)},proto.mediapipe.RenderAnnotation.prototype.clearArrow=function(){return this.setArrow(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasArrow=function(){return e.Message.getField(this,7)!=null},proto.mediapipe.RenderAnnotation.prototype.getText=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Text,8)},proto.mediapipe.RenderAnnotation.prototype.setText=function(s){return e.Message.setOneofWrapperField(this,8,proto.mediapipe.RenderAnnotation.oneofGroups_[0],s)},proto.mediapipe.RenderAnnotation.prototype.clearText=function(){return this.setText(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasText=function(){return e.Message.getField(this,8)!=null},proto.mediapipe.RenderAnnotation.prototype.getRoundedRectangle=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.RoundedRectangle,9)},proto.mediapipe.RenderAnnotation.prototype.setRoundedRectangle=function(s){return e.Message.setOneofWrapperField(this,9,proto.mediapipe.RenderAnnotation.oneofGroups_[0],s)},proto.mediapipe.RenderAnnotation.prototype.clearRoundedRectangle=function(){return this.setRoundedRectangle(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasRoundedRectangle=function(){return e.Message.getField(this,9)!=null},proto.mediapipe.RenderAnnotation.prototype.getFilledRoundedRectangle=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.FilledRoundedRectangle,10)},proto.mediapipe.RenderAnnotation.prototype.setFilledRoundedRectangle=function(s){return e.Message.setOneofWrapperField(this,10,proto.mediapipe.RenderAnnotation.oneofGroups_[0],s)},proto.mediapipe.RenderAnnotation.prototype.clearFilledRoundedRectangle=function(){return this.setFilledRoundedRectangle(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasFilledRoundedRectangle=function(){return e.Message.getField(this,10)!=null},proto.mediapipe.RenderAnnotation.prototype.getGradientLine=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.GradientLine,14)},proto.mediapipe.RenderAnnotation.prototype.setGradientLine=function(s){return e.Message.setOneofWrapperField(this,14,proto.mediapipe.RenderAnnotation.oneofGroups_[0],s)},proto.mediapipe.RenderAnnotation.prototype.clearGradientLine=function(){return this.setGradientLine(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasGradientLine=function(){return e.Message.getField(this,14)!=null},proto.mediapipe.RenderAnnotation.prototype.getScribble=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Scribble,15)},proto.mediapipe.RenderAnnotation.prototype.setScribble=function(s){return e.Message.setOneofWrapperField(this,15,proto.mediapipe.RenderAnnotation.oneofGroups_[0],s)},proto.mediapipe.RenderAnnotation.prototype.clearScribble=function(){return this.setScribble(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasScribble=function(){return e.Message.getField(this,15)!=null},proto.mediapipe.RenderAnnotation.prototype.getThickness=function(){return e.Message.getFloatingPointFieldWithDefault(this,11,1)},proto.mediapipe.RenderAnnotation.prototype.setThickness=function(s){return e.Message.setField(this,11,s)},proto.mediapipe.RenderAnnotation.prototype.clearThickness=function(){return e.Message.setField(this,11,void 0)},proto.mediapipe.RenderAnnotation.prototype.hasThickness=function(){return e.Message.getField(this,11)!=null},proto.mediapipe.RenderAnnotation.prototype.getColor=function(){return e.Message.getWrapperField(this,o.Color,12)},proto.mediapipe.RenderAnnotation.prototype.setColor=function(s){return e.Message.setWrapperField(this,12,s)},proto.mediapipe.RenderAnnotation.prototype.clearColor=function(){return this.setColor(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasColor=function(){return e.Message.getField(this,12)!=null},proto.mediapipe.RenderAnnotation.prototype.getSceneTag=function(){return e.Message.getFieldWithDefault(this,13,"")},proto.mediapipe.RenderAnnotation.prototype.setSceneTag=function(s){return e.Message.setField(this,13,s)},proto.mediapipe.RenderAnnotation.prototype.clearSceneTag=function(){return e.Message.setField(this,13,void 0)},proto.mediapipe.RenderAnnotation.prototype.hasSceneTag=function(){return e.Message.getField(this,13)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderViewport.prototype.toObject=function(s){return proto.mediapipe.RenderViewport.toObject(s,this)},proto.mediapipe.RenderViewport.toObject=function(s,c){var d,u={id:(d=e.Message.getField(c,1))==null?void 0:d,widthPx:(d=e.Message.getField(c,2))==null?void 0:d,heightPx:(d=e.Message.getField(c,3))==null?void 0:d,composeOnVideo:(d=e.Message.getBooleanField(c,4))==null?void 0:d};return s&&(u.$jspbMessageInstance=c),u}),proto.mediapipe.RenderViewport.deserializeBinary=function(s){var c=new e.BinaryReader(s),d=new proto.mediapipe.RenderViewport;return proto.mediapipe.RenderViewport.deserializeBinaryFromReader(d,c)},proto.mediapipe.RenderViewport.deserializeBinaryFromReader=function(s,c){for(;c.nextField()&&!c.isEndGroup();)switch(c.getFieldNumber()){case 1:var d=c.readString();s.setId(d);break;case 2:d=c.readInt32(),s.setWidthPx(d);break;case 3:d=c.readInt32(),s.setHeightPx(d);break;case 4:d=c.readBool(),s.setComposeOnVideo(d);break;default:c.skipField()}return s},proto.mediapipe.RenderViewport.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.RenderViewport.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.RenderViewport.serializeBinaryToWriter=function(s,c){var d=void 0;(d=e.Message.getField(s,1))!=null&&c.writeString(1,d),(d=e.Message.getField(s,2))!=null&&c.writeInt32(2,d),(d=e.Message.getField(s,3))!=null&&c.writeInt32(3,d),(d=e.Message.getField(s,4))!=null&&c.writeBool(4,d)},proto.mediapipe.RenderViewport.prototype.getId=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.RenderViewport.prototype.setId=function(s){return e.Message.setField(this,1,s)},proto.mediapipe.RenderViewport.prototype.clearId=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.RenderViewport.prototype.hasId=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.RenderViewport.prototype.getWidthPx=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.RenderViewport.prototype.setWidthPx=function(s){return e.Message.setField(this,2,s)},proto.mediapipe.RenderViewport.prototype.clearWidthPx=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.RenderViewport.prototype.hasWidthPx=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.RenderViewport.prototype.getHeightPx=function(){return e.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.RenderViewport.prototype.setHeightPx=function(s){return e.Message.setField(this,3,s)},proto.mediapipe.RenderViewport.prototype.clearHeightPx=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.RenderViewport.prototype.hasHeightPx=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.RenderViewport.prototype.getComposeOnVideo=function(){return e.Message.getBooleanFieldWithDefault(this,4,!1)},proto.mediapipe.RenderViewport.prototype.setComposeOnVideo=function(s){return e.Message.setField(this,4,s)},proto.mediapipe.RenderViewport.prototype.clearComposeOnVideo=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.RenderViewport.prototype.hasComposeOnVideo=function(){return e.Message.getField(this,4)!=null},r.object.extend(t,proto.mediapipe)})(render_data_pb);var interactive_segmenter_result={};Object.defineProperty(interactive_segmenter_result,"__esModule",{value:!0}),interactive_segmenter_result.InteractiveSegmenterResult=void 0;class InteractiveSegmenterResult{constructor(e,r,n){this.confidenceMasks=e,this.categoryMask=r,this.qualityScores=n}close(){var e,r;(e=this.confidenceMasks)===null||e===void 0||e.forEach(n=>{n.close()}),(r=this.categoryMask)===null||r===void 0||r.close()}}interactive_segmenter_result.InteractiveSegmenterResult=InteractiveSegmenterResult;var interactive_segmenter_options={};Object.defineProperty(interactive_segmenter_options,"__esModule",{value:!0}),function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(k,O,I,B){B===void 0&&(B=I);var j=Object.getOwnPropertyDescriptor(O,I);j&&!("get"in j?!O.__esModule:j.writable||j.configurable)||(j={enumerable:!0,get:function(){return O[I]}}),Object.defineProperty(k,B,j)}:function(k,O,I,B){B===void 0&&(B=I),k[B]=O[I]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(k,O){for(var I in k)I==="default"||Object.prototype.hasOwnProperty.call(O,I)||e(O,k,I)};Object.defineProperty(t,"__esModule",{value:!0}),t.InteractiveSegmenter=void 0;const n=calculator_pb,o=calculator_options_pb,s=base_options_pb,c=image_segmenter_graph_options_pb,d=segmenter_options_pb,u=vision_task_runner,m=color_pb,_=render_data_pb,g=interactive_segmenter_result;r(interactive_segmenter_options,t),r(interactive_segmenter_result,t);const f="image_in",y="norm_rect_in",M="roi_in",T="confidence_masks",A="category_mask",E="quality_scores";class C extends u.VisionTaskRunner{static createFromOptions(O,I){return u.VisionTaskRunner.createVisionInstance(C,O,I)}static createFromModelBuffer(O,I){return u.VisionTaskRunner.createVisionInstance(C,O,{baseOptions:{modelAssetBuffer:I}})}static createFromModelPath(O,I){return u.VisionTaskRunner.createVisionInstance(C,O,{baseOptions:{modelAssetPath:I}})}constructor(O,I){super(new u.VisionGraphRunner(O,I),f,y,!1),this.outputCategoryMask=!1,this.outputConfidenceMasks=!0,this.options=new c.ImageSegmenterGraphOptions,this.segmenterOptions=new d.SegmenterOptions,this.options.setSegmenterOptions(this.segmenterOptions),this.options.setBaseOptions(new s.BaseOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(O){this.options.setBaseOptions(O)}setOptions(O){var I,B;return"outputCategoryMask"in O&&(this.outputCategoryMask=(I=O.outputCategoryMask)!==null&&I!==void 0&&I),"outputConfidenceMasks"in O&&(this.outputConfidenceMasks=(B=O.outputConfidenceMasks)===null||B===void 0||B),super.applyOptions(O)}segment(O,I,B,j){const U=typeof B!="function"?B:{};return this.userCallback=typeof B=="function"?B:j,this.reset(),this.processRenderData(I,this.getSynctheticTimestamp()),this.processImageData(O,U),this.processResults()}reset(){this.confidenceMasks=void 0,this.categoryMask=void 0,this.qualityScores=void 0}processResults(){try{const O=new g.InteractiveSegmenterResult(this.confidenceMasks,this.categoryMask,this.qualityScores);if(!this.userCallback)return O;this.userCallback(O)}finally{this.freeKeepaliveStreams()}}refreshGraph(){const O=new n.CalculatorGraphConfig;O.addInputStream(f),O.addInputStream(M),O.addInputStream(y);const I=new o.CalculatorOptions;I.setExtension(c.ImageSegmenterGraphOptions.ext,this.options);const B=new n.CalculatorGraphConfig.Node;B.setCalculator("mediapipe.tasks.vision.interactive_segmenter.InteractiveSegmenterGraph"),B.addInputStream("IMAGE:"+f),B.addInputStream("ROI:"+M),B.addInputStream("NORM_RECT:"+y),B.setOptions(I),O.addNode(B),this.addKeepaliveNode(O),this.outputConfidenceMasks&&(O.addOutputStream(T),B.addOutputStream("CONFIDENCE_MASKS:"+T),this.keepStreamAlive(T),this.graphRunner.attachImageVectorListener(T,(U,N)=>{this.confidenceMasks=U.map(W=>this.convertToMPMask(W,!this.userCallback)),this.setLatestOutputTimestamp(N)}),this.graphRunner.attachEmptyPacketListener(T,U=>{this.confidenceMasks=[],this.setLatestOutputTimestamp(U)})),this.outputCategoryMask&&(O.addOutputStream(A),B.addOutputStream("CATEGORY_MASK:"+A),this.keepStreamAlive(A),this.graphRunner.attachImageListener(A,(U,N)=>{this.categoryMask=this.convertToMPMask(U,!this.userCallback),this.setLatestOutputTimestamp(N)}),this.graphRunner.attachEmptyPacketListener(A,U=>{this.categoryMask=void 0,this.setLatestOutputTimestamp(U)})),O.addOutputStream(E),B.addOutputStream("QUALITY_SCORES:"+E),this.graphRunner.attachFloatVectorListener(E,(U,N)=>{this.qualityScores=U,this.setLatestOutputTimestamp(N)}),this.graphRunner.attachEmptyPacketListener(E,U=>{this.categoryMask=void 0,this.setLatestOutputTimestamp(U)});const j=O.serializeBinary();this.setGraph(new Uint8Array(j),!0)}processRenderData(O,I){const B=new _.RenderData,j=new _.RenderAnnotation,U=new m.Color;if(U.setR(255),j.setColor(U),O.keypoint&&O.scribble)throw new Error("Cannot provide both keypoint and scribble.");if(O.keypoint){const N=new _.RenderAnnotation.Point;N.setNormalized(!0),N.setX(O.keypoint.x),N.setY(O.keypoint.y),j.setPoint(N)}else{if(!O.scribble)throw new Error("Must provide either a keypoint or a scribble.");{const N=new _.RenderAnnotation.Scribble;for(const W of O.scribble){const ne=new _.RenderAnnotation.Point;ne.setNormalized(!0),ne.setX(W.x),ne.setY(W.y),N.addPoint(ne)}j.setScribble(N)}}B.addRenderAnnotations(j),this.graphRunner.addProtoToStream(B.serializeBinary(),"mediapipe.RenderData",M,I)}}t.InteractiveSegmenter=C}(interactive_segmenter);var object_detector={},object_detector_options_pb={};(function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;r.object.extend(proto,o);var s=calculator_options_pb;r.object.extend(proto,s);var c=base_options_pb;r.object.extend(proto,c),r.exportSymbol("proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions",null,n),proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions=function(d){e.Message.initialize(this,d,0,-1,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.repeatedFields_,null)},r.inherits(proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.displayName="proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions"),proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.repeatedFields_=[5,6],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.toObject=function(d){return proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.toObject(d,this)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.toObject=function(d,u){var m,_={baseOptions:(m=u.getBaseOptions())&&c.BaseOptions.toObject(d,m),displayNamesLocale:e.Message.getFieldWithDefault(u,2,"en"),maxResults:e.Message.getFieldWithDefault(u,3,-1),scoreThreshold:(m=e.Message.getOptionalFloatingPointField(u,4))==null?void 0:m,categoryAllowlistList:(m=e.Message.getRepeatedField(u,5))==null?void 0:m,categoryDenylistList:(m=e.Message.getRepeatedField(u,6))==null?void 0:m};return d&&(_.$jspbMessageInstance=u),_}),proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.deserializeBinary=function(d){var u=new e.BinaryReader(d),m=new proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions;return proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.deserializeBinaryFromReader(m,u)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.deserializeBinaryFromReader=function(d,u){for(;u.nextField()&&!u.isEndGroup();)switch(u.getFieldNumber()){case 1:var m=new c.BaseOptions;u.readMessage(m,c.BaseOptions.deserializeBinaryFromReader),d.setBaseOptions(m);break;case 2:m=u.readString(),d.setDisplayNamesLocale(m);break;case 3:m=u.readInt32(),d.setMaxResults(m);break;case 4:m=u.readFloat(),d.setScoreThreshold(m);break;case 5:m=u.readString(),d.addCategoryAllowlist(m);break;case 6:m=u.readString(),d.addCategoryDenylist(m);break;default:u.skipField()}return d},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.serializeBinary=function(){var d=new e.BinaryWriter;return proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.serializeBinaryToWriter(this,d),d.getResultBuffer()},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.serializeBinaryToWriter=function(d,u){var m=void 0;(m=d.getBaseOptions())!=null&&u.writeMessage(1,m,c.BaseOptions.serializeBinaryToWriter),(m=e.Message.getField(d,2))!=null&&u.writeString(2,m),(m=e.Message.getField(d,3))!=null&&u.writeInt32(3,m),(m=e.Message.getField(d,4))!=null&&u.writeFloat(4,m),(m=d.getCategoryAllowlistList()).length>0&&u.writeRepeatedString(5,m),(m=d.getCategoryDenylistList()).length>0&&u.writeRepeatedString(6,m)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext=new e.ExtensionFieldInfo(443442058,{ext:0},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.toObject,0),s.CalculatorOptions.extensionsBinary[443442058]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[443442058]=proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,c.BaseOptions,1)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setBaseOptions=function(d){return e.Message.setWrapperField(this,1,d)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getDisplayNamesLocale=function(){return e.Message.getFieldWithDefault(this,2,"en")},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setDisplayNamesLocale=function(d){return e.Message.setField(this,2,d)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearDisplayNamesLocale=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.hasDisplayNamesLocale=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getMaxResults=function(){return e.Message.getFieldWithDefault(this,3,-1)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setMaxResults=function(d){return e.Message.setField(this,3,d)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearMaxResults=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.hasMaxResults=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getScoreThreshold=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setScoreThreshold=function(d){return e.Message.setField(this,4,d)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearScoreThreshold=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.hasScoreThreshold=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getCategoryAllowlistList=function(){return e.Message.getRepeatedField(this,5)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setCategoryAllowlistList=function(d){return e.Message.setField(this,5,d||[])},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.addCategoryAllowlist=function(d,u){return e.Message.addToRepeatedField(this,5,d,u)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearCategoryAllowlistList=function(){return this.setCategoryAllowlistList([])},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getCategoryDenylistList=function(){return e.Message.getRepeatedField(this,6)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setCategoryDenylistList=function(d){return e.Message.setField(this,6,d||[])},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.addCategoryDenylist=function(d,u){return e.Message.addToRepeatedField(this,6,d,u)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearCategoryDenylistList=function(){return this.setCategoryDenylistList([])},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext=new e.ExtensionFieldInfo(443442058,{ext:0},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.toObject,0),s.CalculatorOptions.extensionsBinary[443442058]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[443442058]=proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.object_detector.proto)})(object_detector_options_pb);var object_detector_options={};Object.defineProperty(object_detector_options,"__esModule",{value:!0});var object_detector_result={};Object.defineProperty(object_detector_result,"__esModule",{value:!0}),function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(M,T,A,E){E===void 0&&(E=A);var C=Object.getOwnPropertyDescriptor(T,A);C&&!("get"in C?!T.__esModule:C.writable||C.configurable)||(C={enumerable:!0,get:function(){return T[A]}}),Object.defineProperty(M,E,C)}:function(M,T,A,E){E===void 0&&(E=A),M[E]=T[A]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(M,T){for(var A in M)A==="default"||Object.prototype.hasOwnProperty.call(T,A)||e(T,M,A)};Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectDetector=void 0;const n=calculator_pb,o=calculator_options_pb,s=detection_pb,c=base_options_pb,d=object_detector_options_pb,u=detection_result,m=vision_task_runner,_="input_frame_gpu",g="norm_rect",f="detections";r(object_detector_options,t),r(object_detector_result,t);class y extends m.VisionTaskRunner{static createFromOptions(T,A){return m.VisionTaskRunner.createVisionInstance(y,T,A)}static createFromModelBuffer(T,A){return m.VisionTaskRunner.createVisionInstance(y,T,{baseOptions:{modelAssetBuffer:A}})}static async createFromModelPath(T,A){return m.VisionTaskRunner.createVisionInstance(y,T,{baseOptions:{modelAssetPath:A}})}constructor(T,A){super(new m.VisionGraphRunner(T,A),_,g,!1),this.result={detections:[]},this.options=new d.ObjectDetectorOptions,this.options.setBaseOptions(new c.BaseOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(T){this.options.setBaseOptions(T)}setOptions(T){return T.displayNamesLocale!==void 0?this.options.setDisplayNamesLocale(T.displayNamesLocale):"displayNamesLocale"in T&&this.options.clearDisplayNamesLocale(),T.maxResults!==void 0?this.options.setMaxResults(T.maxResults):"maxResults"in T&&this.options.clearMaxResults(),T.scoreThreshold!==void 0?this.options.setScoreThreshold(T.scoreThreshold):"scoreThreshold"in T&&this.options.clearScoreThreshold(),T.categoryAllowlist!==void 0?this.options.setCategoryAllowlistList(T.categoryAllowlist):"categoryAllowlist"in T&&this.options.clearCategoryAllowlistList(),T.categoryDenylist!==void 0?this.options.setCategoryDenylistList(T.categoryDenylist):"categoryDenylist"in T&&this.options.clearCategoryDenylistList(),this.applyOptions(T)}detect(T,A){return this.result={detections:[]},this.processImageData(T,A),this.result}detectForVideo(T,A,E){return this.result={detections:[]},this.processVideoData(T,E,A),this.result}addJsObjectDetections(T){for(const A of T){const E=s.Detection.deserializeBinary(A);this.result.detections.push((0,u.convertFromDetectionProto)(E))}}refreshGraph(){const T=new n.CalculatorGraphConfig;T.addInputStream(_),T.addInputStream(g),T.addOutputStream(f);const A=new o.CalculatorOptions;A.setExtension(d.ObjectDetectorOptions.ext,this.options);const E=new n.CalculatorGraphConfig.Node;E.setCalculator("mediapipe.tasks.vision.ObjectDetectorGraph"),E.addInputStream("IMAGE:"+_),E.addInputStream("NORM_RECT:"+g),E.addOutputStream("DETECTIONS:"+f),E.setOptions(A),T.addNode(E),this.graphRunner.attachProtoVectorListener(f,(k,O)=>{this.addJsObjectDetections(k),this.setLatestOutputTimestamp(O)}),this.graphRunner.attachEmptyPacketListener(f,k=>{this.setLatestOutputTimestamp(k)});const C=T.serializeBinary();this.setGraph(new Uint8Array(C),!0)}}t.ObjectDetector=y}(object_detector);var pose_landmarker={},pose_detector_graph_options_pb={};(function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;r.object.extend(proto,o);var s=calculator_options_pb;r.object.extend(proto,s);var c=base_options_pb;r.object.extend(proto,c),r.exportSymbol("proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions",null,n),proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions=function(d){e.Message.initialize(this,d,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.displayName="proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.toObject=function(d){return proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.toObject(d,this)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.toObject=function(d,u){var m,_={baseOptions:(m=u.getBaseOptions())&&c.BaseOptions.toObject(d,m),minDetectionConfidence:e.Message.getFloatingPointFieldWithDefault(u,2,.5),minSuppressionThreshold:e.Message.getFloatingPointFieldWithDefault(u,3,.5),numPoses:(m=e.Message.getField(u,4))==null?void 0:m};return d&&(_.$jspbMessageInstance=u),_}),proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.deserializeBinary=function(d){var u=new e.BinaryReader(d),m=new proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions;return proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.deserializeBinaryFromReader(m,u)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.deserializeBinaryFromReader=function(d,u){for(;u.nextField()&&!u.isEndGroup();)switch(u.getFieldNumber()){case 1:var m=new c.BaseOptions;u.readMessage(m,c.BaseOptions.deserializeBinaryFromReader),d.setBaseOptions(m);break;case 2:m=u.readFloat(),d.setMinDetectionConfidence(m);break;case 3:m=u.readFloat(),d.setMinSuppressionThreshold(m);break;case 4:m=u.readInt32(),d.setNumPoses(m);break;default:u.skipField()}return d},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.serializeBinary=function(){var d=new e.BinaryWriter;return proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.serializeBinaryToWriter(this,d),d.getResultBuffer()},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.serializeBinaryToWriter=function(d,u){var m=void 0;(m=d.getBaseOptions())!=null&&u.writeMessage(1,m,c.BaseOptions.serializeBinaryToWriter),(m=e.Message.getField(d,2))!=null&&u.writeFloat(2,m),(m=e.Message.getField(d,3))!=null&&u.writeFloat(3,m),(m=e.Message.getField(d,4))!=null&&u.writeInt32(4,m)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.ext=new e.ExtensionFieldInfo(514774813,{ext:0},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions,proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[514774813]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[514774813]=proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.ext,proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,c.BaseOptions,1)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.setBaseOptions=function(d){return e.Message.setWrapperField(this,1,d)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.getMinDetectionConfidence=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,.5)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.setMinDetectionConfidence=function(d){return e.Message.setField(this,2,d)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.clearMinDetectionConfidence=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.hasMinDetectionConfidence=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.getMinSuppressionThreshold=function(){return e.Message.getFloatingPointFieldWithDefault(this,3,.5)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.setMinSuppressionThreshold=function(d){return e.Message.setField(this,3,d)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.clearMinSuppressionThreshold=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.hasMinSuppressionThreshold=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.getNumPoses=function(){return e.Message.getFieldWithDefault(this,4,0)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.setNumPoses=function(d){return e.Message.setField(this,4,d)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.clearNumPoses=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.hasNumPoses=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.ext=new e.ExtensionFieldInfo(514774813,{ext:0},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions,proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[514774813]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[514774813]=proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.pose_detector.proto)})(pose_detector_graph_options_pb);var pose_landmarker_graph_options_pb={},pose_landmarks_detector_graph_options_pb={};(function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;r.object.extend(proto,o);var s=calculator_options_pb;r.object.extend(proto,s);var c=base_options_pb;r.object.extend(proto,c),r.exportSymbol("proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions",null,n),proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions=function(d){e.Message.initialize(this,d,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.displayName="proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.toObject=function(d){return proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.toObject(d,this)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.toObject=function(d,u){var m,_={baseOptions:(m=u.getBaseOptions())&&c.BaseOptions.toObject(d,m),minDetectionConfidence:e.Message.getFloatingPointFieldWithDefault(u,2,.5)};return d&&(_.$jspbMessageInstance=u),_}),proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.deserializeBinary=function(d){var u=new e.BinaryReader(d),m=new proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions;return proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.deserializeBinaryFromReader(m,u)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.deserializeBinaryFromReader=function(d,u){for(;u.nextField()&&!u.isEndGroup();)switch(u.getFieldNumber()){case 1:var m=new c.BaseOptions;u.readMessage(m,c.BaseOptions.deserializeBinaryFromReader),d.setBaseOptions(m);break;case 2:m=u.readFloat(),d.setMinDetectionConfidence(m);break;default:u.skipField()}return d},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.serializeBinary=function(){var d=new e.BinaryWriter;return proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.serializeBinaryToWriter(this,d),d.getResultBuffer()},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.serializeBinaryToWriter=function(d,u){var m=void 0;(m=d.getBaseOptions())!=null&&u.writeMessage(1,m,c.BaseOptions.serializeBinaryToWriter),(m=e.Message.getField(d,2))!=null&&u.writeFloat(2,m)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.ext=new e.ExtensionFieldInfo(518928384,{ext:0},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[518928384]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[518928384]=proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.ext,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,c.BaseOptions,1)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.setBaseOptions=function(d){return e.Message.setWrapperField(this,1,d)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.getMinDetectionConfidence=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,.5)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.setMinDetectionConfidence=function(d){return e.Message.setField(this,2,d)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.clearMinDetectionConfidence=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.hasMinDetectionConfidence=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.ext=new e.ExtensionFieldInfo(518928384,{ext:0},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[518928384]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[518928384]=proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.pose_landmarker.proto)})(pose_landmarks_detector_graph_options_pb),function(t){var e=googleProtobuf,r=e,n=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||n!==void 0&&n||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;r.object.extend(proto,o);var s=calculator_options_pb;r.object.extend(proto,s);var c=base_options_pb;r.object.extend(proto,c);var d=pose_detector_graph_options_pb;r.object.extend(proto,d);var u=pose_landmarks_detector_graph_options_pb;r.object.extend(proto,u),r.exportSymbol("proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions",null,n),proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions=function(m){e.Message.initialize(this,m,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.displayName="proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.toObject=function(m){return proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.toObject(m,this)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.toObject=function(m,_){var g,f={baseOptions:(g=_.getBaseOptions())&&c.BaseOptions.toObject(m,g),poseDetectorGraphOptions:(g=_.getPoseDetectorGraphOptions())&&d.PoseDetectorGraphOptions.toObject(m,g),poseLandmarksDetectorGraphOptions:(g=_.getPoseLandmarksDetectorGraphOptions())&&u.PoseLandmarksDetectorGraphOptions.toObject(m,g),minTrackingConfidence:e.Message.getFloatingPointFieldWithDefault(_,4,.5)};return m&&(f.$jspbMessageInstance=_),f}),proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.deserializeBinary=function(m){var _=new e.BinaryReader(m),g=new proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions;return proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.deserializeBinaryFromReader(g,_)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.deserializeBinaryFromReader=function(m,_){for(;_.nextField()&&!_.isEndGroup();)switch(_.getFieldNumber()){case 1:var g=new c.BaseOptions;_.readMessage(g,c.BaseOptions.deserializeBinaryFromReader),m.setBaseOptions(g);break;case 2:g=new d.PoseDetectorGraphOptions,_.readMessage(g,d.PoseDetectorGraphOptions.deserializeBinaryFromReader),m.setPoseDetectorGraphOptions(g);break;case 3:g=new u.PoseLandmarksDetectorGraphOptions,_.readMessage(g,u.PoseLandmarksDetectorGraphOptions.deserializeBinaryFromReader),m.setPoseLandmarksDetectorGraphOptions(g);break;case 4:g=_.readFloat(),m.setMinTrackingConfidence(g);break;default:_.skipField()}return m},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.serializeBinary=function(){var m=new e.BinaryWriter;return proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.serializeBinaryToWriter(this,m),m.getResultBuffer()},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.serializeBinaryToWriter=function(m,_){var g=void 0;(g=m.getBaseOptions())!=null&&_.writeMessage(1,g,c.BaseOptions.serializeBinaryToWriter),(g=m.getPoseDetectorGraphOptions())!=null&&_.writeMessage(2,g,d.PoseDetectorGraphOptions.serializeBinaryToWriter),(g=m.getPoseLandmarksDetectorGraphOptions())!=null&&_.writeMessage(3,g,u.PoseLandmarksDetectorGraphOptions.serializeBinaryToWriter),(g=e.Message.getField(m,4))!=null&&_.writeFloat(4,g)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.ext=new e.ExtensionFieldInfo(516587230,{ext:0},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[516587230]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[516587230]=proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.ext,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,c.BaseOptions,1)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.setBaseOptions=function(m){return e.Message.setWrapperField(this,1,m)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.getPoseDetectorGraphOptions=function(){return e.Message.getWrapperField(this,d.PoseDetectorGraphOptions,2)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.setPoseDetectorGraphOptions=function(m){return e.Message.setWrapperField(this,2,m)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.clearPoseDetectorGraphOptions=function(){return this.setPoseDetectorGraphOptions(void 0)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.hasPoseDetectorGraphOptions=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.getPoseLandmarksDetectorGraphOptions=function(){return e.Message.getWrapperField(this,u.PoseLandmarksDetectorGraphOptions,3)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.setPoseLandmarksDetectorGraphOptions=function(m){return e.Message.setWrapperField(this,3,m)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.clearPoseLandmarksDetectorGraphOptions=function(){return this.setPoseLandmarksDetectorGraphOptions(void 0)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.hasPoseLandmarksDetectorGraphOptions=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.getMinTrackingConfidence=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,.5)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.setMinTrackingConfidence=function(m){return e.Message.setField(this,4,m)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.clearMinTrackingConfidence=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.hasMinTrackingConfidence=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.ext=new e.ExtensionFieldInfo(516587230,{ext:0},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[516587230]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[516587230]=proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.pose_landmarker.proto)}(pose_landmarker_graph_options_pb);var pose_landmarker_result={};Object.defineProperty(pose_landmarker_result,"__esModule",{value:!0}),pose_landmarker_result.PoseLandmarkerResult=void 0;class PoseLandmarkerResult{constructor(e,r,n){this.landmarks=e,this.worldLandmarks=r,this.segmentationMasks=n}close(){var e;(e=this.segmentationMasks)===null||e===void 0||e.forEach(r=>{r.close()})}}pose_landmarker_result.PoseLandmarkerResult=PoseLandmarkerResult;var pose_landmarker_options={};Object.defineProperty(pose_landmarker_options,"__esModule",{value:!0}),function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(O,I,B,j){j===void 0&&(j=B);var U=Object.getOwnPropertyDescriptor(I,B);U&&!("get"in U?!I.__esModule:U.writable||U.configurable)||(U={enumerable:!0,get:function(){return I[B]}}),Object.defineProperty(O,j,U)}:function(O,I,B,j){j===void 0&&(j=B),O[j]=I[B]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(O,I){for(var B in O)B==="default"||Object.prototype.hasOwnProperty.call(I,B)||e(I,O,B)};Object.defineProperty(t,"__esModule",{value:!0}),t.PoseLandmarker=void 0;const n=calculator_pb,o=calculator_options_pb,s=landmark_pb,c=base_options_pb,d=pose_detector_graph_options_pb,u=pose_landmarker_graph_options_pb,m=pose_landmarks_detector_graph_options_pb,_=landmark_result,g=vision_task_runner,f=pose_landmarker_result;r(pose_landmarker_options,t),r(pose_landmarker_result,t);const y="image_in",M="norm_rect",T="normalized_landmarks",A="world_landmarks",E="segmentation_masks",C=.5;class k extends g.VisionTaskRunner{static createFromOptions(I,B){return g.VisionTaskRunner.createVisionInstance(k,I,B)}static createFromModelBuffer(I,B){return g.VisionTaskRunner.createVisionInstance(k,I,{baseOptions:{modelAssetBuffer:B}})}static createFromModelPath(I,B){return g.VisionTaskRunner.createVisionInstance(k,I,{baseOptions:{modelAssetPath:B}})}constructor(I,B){super(new g.VisionGraphRunner(I,B),y,M,!1),this.landmarks=[],this.worldLandmarks=[],this.outputSegmentationMasks=!1,this.options=new u.PoseLandmarkerGraphOptions,this.options.setBaseOptions(new c.BaseOptions),this.poseLandmarksDetectorGraphOptions=new m.PoseLandmarksDetectorGraphOptions,this.options.setPoseLandmarksDetectorGraphOptions(this.poseLandmarksDetectorGraphOptions),this.poseDetectorGraphOptions=new d.PoseDetectorGraphOptions,this.options.setPoseDetectorGraphOptions(this.poseDetectorGraphOptions),this.initDefaults()}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(I){this.options.setBaseOptions(I)}setOptions(I){var B,j,U,N,W;return"numPoses"in I&&this.poseDetectorGraphOptions.setNumPoses((B=I.numPoses)!==null&&B!==void 0?B:1),"minPoseDetectionConfidence"in I&&this.poseDetectorGraphOptions.setMinDetectionConfidence((j=I.minPoseDetectionConfidence)!==null&&j!==void 0?j:C),"minTrackingConfidence"in I&&this.options.setMinTrackingConfidence((U=I.minTrackingConfidence)!==null&&U!==void 0?U:C),"minPosePresenceConfidence"in I&&this.poseLandmarksDetectorGraphOptions.setMinDetectionConfidence((N=I.minPosePresenceConfidence)!==null&&N!==void 0?N:C),"outputSegmentationMasks"in I&&(this.outputSegmentationMasks=(W=I.outputSegmentationMasks)!==null&&W!==void 0&&W),this.applyOptions(I)}detect(I,B,j){const U=typeof B!="function"?B:{};return this.userCallback=typeof B=="function"?B:j,this.resetResults(),this.processImageData(I,U),this.processResults()}detectForVideo(I,B,j,U){const N=typeof j!="function"?j:{};return this.userCallback=typeof j=="function"?j:U,this.resetResults(),this.processVideoData(I,N,B),this.processResults()}resetResults(){this.landmarks=[],this.worldLandmarks=[],this.segmentationMasks=void 0}processResults(){try{const I=new f.PoseLandmarkerResult(this.landmarks,this.worldLandmarks,this.segmentationMasks);if(!this.userCallback)return I;this.userCallback(I)}finally{this.freeKeepaliveStreams()}}initDefaults(){this.poseDetectorGraphOptions.setNumPoses(1),this.poseDetectorGraphOptions.setMinDetectionConfidence(C),this.poseLandmarksDetectorGraphOptions.setMinDetectionConfidence(C),this.options.setMinTrackingConfidence(C)}addJsLandmarks(I){this.landmarks=[];for(const B of I){const j=s.NormalizedLandmarkList.deserializeBinary(B);this.landmarks.push((0,_.convertToLandmarks)(j))}}adddJsWorldLandmarks(I){this.worldLandmarks=[];for(const B of I){const j=s.LandmarkList.deserializeBinary(B);this.worldLandmarks.push((0,_.convertToWorldLandmarks)(j))}}refreshGraph(){const I=new n.CalculatorGraphConfig;I.addInputStream(y),I.addInputStream(M),I.addOutputStream(T),I.addOutputStream(A),I.addOutputStream(E);const B=new o.CalculatorOptions;B.setExtension(u.PoseLandmarkerGraphOptions.ext,this.options);const j=new n.CalculatorGraphConfig.Node;j.setCalculator("mediapipe.tasks.vision.pose_landmarker.PoseLandmarkerGraph"),j.addInputStream("IMAGE:"+y),j.addInputStream("NORM_RECT:"+M),j.addOutputStream("NORM_LANDMARKS:"+T),j.addOutputStream("WORLD_LANDMARKS:"+A),j.setOptions(B),I.addNode(j),this.addKeepaliveNode(I),this.graphRunner.attachProtoVectorListener(T,(N,W)=>{this.addJsLandmarks(N),this.setLatestOutputTimestamp(W)}),this.graphRunner.attachEmptyPacketListener(T,N=>{this.landmarks=[],this.setLatestOutputTimestamp(N)}),this.graphRunner.attachProtoVectorListener(A,(N,W)=>{this.adddJsWorldLandmarks(N),this.setLatestOutputTimestamp(W)}),this.graphRunner.attachEmptyPacketListener(A,N=>{this.worldLandmarks=[],this.setLatestOutputTimestamp(N)}),this.outputSegmentationMasks&&(j.addOutputStream("SEGMENTATION_MASK:"+E),this.keepStreamAlive(E),this.graphRunner.attachImageVectorListener(E,(N,W)=>{this.segmentationMasks=N.map(ne=>this.convertToMPMask(ne,!this.userCallback)),this.setLatestOutputTimestamp(W)}),this.graphRunner.attachEmptyPacketListener(E,N=>{this.segmentationMasks=[],this.setLatestOutputTimestamp(N)}));const U=I.serializeBinary();this.setGraph(new Uint8Array(U),!0)}}t.PoseLandmarker=k,k.POSE_CONNECTIONS=[{start:0,end:1},{start:1,end:2},{start:2,end:3},{start:3,end:7},{start:0,end:4},{start:4,end:5},{start:5,end:6},{start:6,end:8},{start:9,end:10},{start:11,end:12},{start:11,end:13},{start:13,end:15},{start:15,end:17},{start:15,end:19},{start:15,end:21},{start:17,end:19},{start:12,end:14},{start:14,end:16},{start:16,end:18},{start:16,end:20},{start:16,end:22},{start:18,end:20},{start:11,end:23},{start:12,end:24},{start:23,end:24},{start:23,end:25},{start:24,end:26},{start:25,end:27},{start:26,end:28},{start:27,end:29},{start:28,end:30},{start:29,end:31},{start:30,end:32},{start:27,end:31},{start:28,end:32}]}(pose_landmarker),Object.defineProperty(vision,"__esModule",{value:!0}),vision.PoseLandmarker=vision.ObjectDetector=vision.InteractiveSegmenter=vision.ImageSegmenter=vision.ImageEmbedder=vision.ImageClassifier=vision.HandLandmarker=GestureRecognizer_1=vision.GestureRecognizer=vision.FaceStylizer=vision.FaceLandmarker=vision.FaceDetector=vision.MPMask=vision.MPImage=FilesetResolver_1=vision.FilesetResolver=vision.DrawingUtils=void 0;const fileset_resolver_1=fileset_resolver,drawing_utils_1=drawing_utils,image_1=image,mask_1=mask,face_detector_1=face_detector,face_landmarker_1=face_landmarker,face_stylizer_1=face_stylizer,gesture_recognizer_1=gesture_recognizer,hand_landmarker_1=hand_landmarker,image_classifier_1=image_classifier,image_embedder_1=image_embedder,image_segmenter_1=image_segmenter,interactive_segmenter_1=interactive_segmenter,object_detector_1=object_detector,pose_landmarker_1=pose_landmarker,DrawingUtils=drawing_utils_1.DrawingUtils;vision.DrawingUtils=DrawingUtils;const FilesetResolver=fileset_resolver_1.FilesetResolver;var FilesetResolver_1=vision.FilesetResolver=FilesetResolver;const MPImage=image_1.MPImage;vision.MPImage=MPImage;const MPMask=mask_1.MPMask;vision.MPMask=MPMask;const FaceDetector=face_detector_1.FaceDetector;vision.FaceDetector=FaceDetector;const FaceLandmarker=face_landmarker_1.FaceLandmarker;vision.FaceLandmarker=FaceLandmarker;const FaceStylizer=face_stylizer_1.FaceStylizer;vision.FaceStylizer=FaceStylizer;const GestureRecognizer=gesture_recognizer_1.GestureRecognizer;var GestureRecognizer_1=vision.GestureRecognizer=GestureRecognizer;const HandLandmarker=hand_landmarker_1.HandLandmarker;vision.HandLandmarker=HandLandmarker;const ImageClassifier=image_classifier_1.ImageClassifier;vision.ImageClassifier=ImageClassifier;const ImageEmbedder=image_embedder_1.ImageEmbedder;vision.ImageEmbedder=ImageEmbedder;const ImageSegmenter=image_segmenter_1.ImageSegmenter;vision.ImageSegmenter=ImageSegmenter;const InteractiveSegmenter=interactive_segmenter_1.InteractiveSegmenter;vision.InteractiveSegmenter=InteractiveSegmenter;const ObjectDetector=object_detector_1.ObjectDetector;vision.ObjectDetector=ObjectDetector;const PoseLandmarker=pose_landmarker_1.PoseLandmarker;vision.PoseLandmarker=PoseLandmarker;let instance=null;class AIModel{constructor(){return instance||(instance=this),this.init(),instance}async init(){this.vision=await FilesetResolver_1.forVisionTasks("/ai/gesture_recognizer/models/wasm"),this.gestureRecognizer=await GestureRecognizer_1.createFromOptions(this.vision,{baseOptions:{modelAssetPath:"ai/gesture_recognizer/gesture_recognizer.task",delegate:"GPU"},runningMode:"image",numHands:2})}}const REVISION="152",CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,PCFShadowMap=1,PCFSoftShadowMap=2,VSMShadowMap=3,FrontSide=0,BackSide=1,DoubleSide=2,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,CineonToneMapping=3,ACESFilmicToneMapping=4,CustomToneMapping=5,UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,CubeUVReflectionMapping=306,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipmapNearestFilter=1004,NearestMipmapLinearFilter=1005,LinearFilter=1006,LinearMipmapNearestFilter=1007,LinearMipmapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedInt248Type=1020,AlphaFormat=1021,RGBAFormat=1023,LuminanceFormat=1024,LuminanceAlphaFormat=1025,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RedIntegerFormat=1029,RGFormat=1030,RGIntegerFormat=1031,RGBAIntegerFormat=1033,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGB_ETC2_Format=37492,RGBA_ETC2_EAC_Format=37496,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,RGBA_BPTC_Format=36492,RED_RGTC1_Format=36283,SIGNED_RED_RGTC1_Format=36284,RED_GREEN_RGTC2_Format=36285,SIGNED_RED_GREEN_RGTC2_Format=36286,InterpolateDiscrete=2300,InterpolateLinear=2301,InterpolateSmooth=2302,ZeroCurvatureEnding=2400,ZeroSlopeEnding=2401,WrapAroundEnding=2402,NormalAnimationBlendMode=2500,TrianglesDrawMode=0,TriangleStripDrawMode=1,TriangleFanDrawMode=2,LinearEncoding=3e3,sRGBEncoding=3001,BasicDepthPacking=3200,RGBADepthPacking=3201,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,NoColorSpace="",SRGBColorSpace="srgb",LinearSRGBColorSpace="srgb-linear",DisplayP3ColorSpace="display-p3",KeepStencilOp=7680,AlwaysStencilFunc=519,StaticDrawUsage=35044,GLSL3="300 es",_SRGBAFormat=1035;class EventDispatcher{addEventListener(e,r){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(r)===-1&&n[e].push(r)}hasEventListener(e,r){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(r)!==-1}removeEventListener(e,r){if(this._listeners===void 0)return;const n=this._listeners[e];if(n!==void 0){const o=n.indexOf(r);o!==-1&&n.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const n=r.slice(0);for(let o=0,s=n.length;o<s;o++)n[o].call(this,e);e.target=null}}}const _lut=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _seed=1234567;const DEG2RAD=Math.PI/180,RAD2DEG=180/Math.PI;function generateUUID(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,r=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(_lut[t&255]+_lut[t>>8&255]+_lut[t>>16&255]+_lut[t>>24&255]+"-"+_lut[e&255]+_lut[e>>8&255]+"-"+_lut[e>>16&15|64]+_lut[e>>24&255]+"-"+_lut[r&63|128]+_lut[r>>8&255]+"-"+_lut[r>>16&255]+_lut[r>>24&255]+_lut[n&255]+_lut[n>>8&255]+_lut[n>>16&255]+_lut[n>>24&255]).toLowerCase()}function clamp$2(t,e,r){return Math.max(e,Math.min(r,t))}function euclideanModulo(t,e){return(t%e+e)%e}function mapLinear(t,e,r,n,o){return n+(t-e)*(o-n)/(r-e)}function inverseLerp(t,e,r){return t!==e?(r-t)/(e-t):0}function lerp$1(t,e,r){return(1-r)*t+r*e}function damp(t,e,r,n){return lerp$1(t,e,1-Math.exp(-r*n))}function pingpong(t,e=1){return e-Math.abs(euclideanModulo(t,e*2)-e)}function smoothstep(t,e,r){return t<=e?0:t>=r?1:(t=(t-e)/(r-e),t*t*(3-2*t))}function smootherstep(t,e,r){return t<=e?0:t>=r?1:(t=(t-e)/(r-e),t*t*t*(t*(t*6-15)+10))}function randInt(t,e){return t+Math.floor(Math.random()*(e-t+1))}function randFloat(t,e){return t+Math.random()*(e-t)}function randFloatSpread(t){return t*(.5-Math.random())}function seededRandom(t){t!==void 0&&(_seed=t);let e=_seed+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function degToRad(t){return t*DEG2RAD}function radToDeg(t){return t*RAD2DEG}function isPowerOfTwo(t){return(t&t-1)===0&&t!==0}function ceilPowerOfTwo(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function floorPowerOfTwo(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function setQuaternionFromProperEuler(t,e,r,n,o){const s=Math.cos,c=Math.sin,d=s(r/2),u=c(r/2),m=s((e+n)/2),_=c((e+n)/2),g=s((e-n)/2),f=c((e-n)/2),y=s((n-e)/2),M=c((n-e)/2);switch(o){case"XYX":t.set(d*_,u*g,u*f,d*m);break;case"YZY":t.set(u*f,d*_,u*g,d*m);break;case"ZXZ":t.set(u*g,u*f,d*_,d*m);break;case"XZX":t.set(d*_,u*M,u*y,d*m);break;case"YXY":t.set(u*y,d*_,u*M,d*m);break;case"ZYZ":t.set(u*M,u*y,d*_,d*m);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+o)}}function denormalize(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function normalize$1(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const MathUtils={DEG2RAD,RAD2DEG,generateUUID,clamp:clamp$2,euclideanModulo,mapLinear,inverseLerp,lerp:lerp$1,damp,pingpong,smoothstep,smootherstep,randInt,randFloat,randFloatSpread,seededRandom,degToRad,radToDeg,isPowerOfTwo,ceilPowerOfTwo,floorPowerOfTwo,setQuaternionFromProperEuler,normalize:normalize$1,denormalize};class Vector2{constructor(e=0,r=0){Vector2.prototype.isVector2=!0,this.x=e,this.y=r}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,r){return this.x=e,this.y=r,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,r){switch(e){case 0:this.x=r;break;case 1:this.y=r;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,r){return this.x=e.x+r.x,this.y=e.y+r.y,this}addScaledVector(e,r){return this.x+=e.x*r,this.y+=e.y*r,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,r){return this.x=e.x-r.x,this.y=e.y-r.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const r=this.x,n=this.y,o=e.elements;return this.x=o[0]*r+o[3]*n+o[6],this.y=o[1]*r+o[4]*n+o[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,r){return this.x=Math.max(e.x,Math.min(r.x,this.x)),this.y=Math.max(e.y,Math.min(r.y,this.y)),this}clampScalar(e,r){return this.x=Math.max(e,Math.min(r,this.x)),this.y=Math.max(e,Math.min(r,this.y)),this}clampLength(e,r){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(r,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const r=Math.sqrt(this.lengthSq()*e.lengthSq());if(r===0)return Math.PI/2;const n=this.dot(e)/r;return Math.acos(clamp$2(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const r=this.x-e.x,n=this.y-e.y;return r*r+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,r){return this.x+=(e.x-this.x)*r,this.y+=(e.y-this.y)*r,this}lerpVectors(e,r,n){return this.x=e.x+(r.x-e.x)*n,this.y=e.y+(r.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,r=0){return this.x=e[r],this.y=e[r+1],this}toArray(e=[],r=0){return e[r]=this.x,e[r+1]=this.y,e}fromBufferAttribute(e,r){return this.x=e.getX(r),this.y=e.getY(r),this}rotateAround(e,r){const n=Math.cos(r),o=Math.sin(r),s=this.x-e.x,c=this.y-e.y;return this.x=s*n-c*o+e.x,this.y=s*o+c*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Matrix3{constructor(){Matrix3.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,r,n,o,s,c,d,u,m){const _=this.elements;return _[0]=e,_[1]=o,_[2]=d,_[3]=r,_[4]=s,_[5]=u,_[6]=n,_[7]=c,_[8]=m,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const r=this.elements,n=e.elements;return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4],r[5]=n[5],r[6]=n[6],r[7]=n[7],r[8]=n[8],this}extractBasis(e,r,n){return e.setFromMatrix3Column(this,0),r.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const r=e.elements;return this.set(r[0],r[4],r[8],r[1],r[5],r[9],r[2],r[6],r[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,r){const n=e.elements,o=r.elements,s=this.elements,c=n[0],d=n[3],u=n[6],m=n[1],_=n[4],g=n[7],f=n[2],y=n[5],M=n[8],T=o[0],A=o[3],E=o[6],C=o[1],k=o[4],O=o[7],I=o[2],B=o[5],j=o[8];return s[0]=c*T+d*C+u*I,s[3]=c*A+d*k+u*B,s[6]=c*E+d*O+u*j,s[1]=m*T+_*C+g*I,s[4]=m*A+_*k+g*B,s[7]=m*E+_*O+g*j,s[2]=f*T+y*C+M*I,s[5]=f*A+y*k+M*B,s[8]=f*E+y*O+M*j,this}multiplyScalar(e){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=e,r[4]*=e,r[7]*=e,r[2]*=e,r[5]*=e,r[8]*=e,this}determinant(){const e=this.elements,r=e[0],n=e[1],o=e[2],s=e[3],c=e[4],d=e[5],u=e[6],m=e[7],_=e[8];return r*c*_-r*d*m-n*s*_+n*d*u+o*s*m-o*c*u}invert(){const e=this.elements,r=e[0],n=e[1],o=e[2],s=e[3],c=e[4],d=e[5],u=e[6],m=e[7],_=e[8],g=_*c-d*m,f=d*u-_*s,y=m*s-c*u,M=r*g+n*f+o*y;if(M===0)return this.set(0,0,0,0,0,0,0,0,0);const T=1/M;return e[0]=g*T,e[1]=(o*m-_*n)*T,e[2]=(d*n-o*c)*T,e[3]=f*T,e[4]=(_*r-o*u)*T,e[5]=(o*s-d*r)*T,e[6]=y*T,e[7]=(n*u-m*r)*T,e[8]=(c*r-n*s)*T,this}transpose(){let e;const r=this.elements;return e=r[1],r[1]=r[3],r[3]=e,e=r[2],r[2]=r[6],r[6]=e,e=r[5],r[5]=r[7],r[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const r=this.elements;return e[0]=r[0],e[1]=r[3],e[2]=r[6],e[3]=r[1],e[4]=r[4],e[5]=r[7],e[6]=r[2],e[7]=r[5],e[8]=r[8],this}setUvTransform(e,r,n,o,s,c,d){const u=Math.cos(s),m=Math.sin(s);return this.set(n*u,n*m,-n*(u*c+m*d)+c+e,-o*m,o*u,-o*(-m*c+u*d)+d+r,0,0,1),this}scale(e,r){return this.premultiply(_m3.makeScale(e,r)),this}rotate(e){return this.premultiply(_m3.makeRotation(-e)),this}translate(e,r){return this.premultiply(_m3.makeTranslation(e,r)),this}makeTranslation(e,r){return this.set(1,0,e,0,1,r,0,0,1),this}makeRotation(e){const r=Math.cos(e),n=Math.sin(e);return this.set(r,-n,0,n,r,0,0,0,1),this}makeScale(e,r){return this.set(e,0,0,0,r,0,0,0,1),this}equals(e){const r=this.elements,n=e.elements;for(let o=0;o<9;o++)if(r[o]!==n[o])return!1;return!0}fromArray(e,r=0){for(let n=0;n<9;n++)this.elements[n]=e[n+r];return this}toArray(e=[],r=0){const n=this.elements;return e[r]=n[0],e[r+1]=n[1],e[r+2]=n[2],e[r+3]=n[3],e[r+4]=n[4],e[r+5]=n[5],e[r+6]=n[6],e[r+7]=n[7],e[r+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const _m3=new Matrix3;function arrayNeedsUint32(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function createElementNS(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}const _cache={};function warnOnce(t){t in _cache||(_cache[t]=!0,console.warn(t))}function SRGBToLinear(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function LinearToSRGB(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const LINEAR_SRGB_TO_LINEAR_DISPLAY_P3=new Matrix3().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),LINEAR_DISPLAY_P3_TO_LINEAR_SRGB=new Matrix3().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function DisplayP3ToLinearSRGB(t){return t.convertSRGBToLinear().applyMatrix3(LINEAR_DISPLAY_P3_TO_LINEAR_SRGB)}function LinearSRGBToDisplayP3(t){return t.applyMatrix3(LINEAR_SRGB_TO_LINEAR_DISPLAY_P3).convertLinearToSRGB()}const TO_LINEAR={[LinearSRGBColorSpace]:t=>t,[SRGBColorSpace]:t=>t.convertSRGBToLinear(),[DisplayP3ColorSpace]:DisplayP3ToLinearSRGB},FROM_LINEAR={[LinearSRGBColorSpace]:t=>t,[SRGBColorSpace]:t=>t.convertLinearToSRGB(),[DisplayP3ColorSpace]:LinearSRGBToDisplayP3},ColorManagement={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(t){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!t},get workingColorSpace(){return LinearSRGBColorSpace},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,r){if(this.enabled===!1||e===r||!e||!r)return t;const n=TO_LINEAR[e],o=FROM_LINEAR[r];if(n===void 0||o===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${r}".`);return o(n(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}};let _canvas;class ImageUtils{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{_canvas===void 0&&(_canvas=createElementNS("canvas")),_canvas.width=e.width,_canvas.height=e.height;const n=_canvas.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),r=_canvas}return r.width>2048||r.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),r.toDataURL("image/jpeg",.6)):r.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const r=createElementNS("canvas");r.width=e.width,r.height=e.height;const n=r.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const o=n.getImageData(0,0,e.width,e.height),s=o.data;for(let c=0;c<s.length;c++)s[c]=SRGBToLinear(s[c]/255)*255;return n.putImageData(o,0,0),r}else if(e.data){const r=e.data.slice(0);for(let n=0;n<r.length;n++)r instanceof Uint8Array||r instanceof Uint8ClampedArray?r[n]=Math.floor(SRGBToLinear(r[n]/255)*255):r[n]=SRGBToLinear(r[n]);return{data:r,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Source{constructor(e=null){this.isSource=!0,this.uuid=generateUUID(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const r=e===void 0||typeof e=="string";if(!r&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},o=this.data;if(o!==null){let s;if(Array.isArray(o)){s=[];for(let c=0,d=o.length;c<d;c++)o[c].isDataTexture?s.push(serializeImage(o[c].image)):s.push(serializeImage(o[c]))}else s=serializeImage(o);n.url=s}return r||(e.images[this.uuid]=n),n}}function serializeImage(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?ImageUtils.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let textureId=0;class Texture extends EventDispatcher{constructor(e=Texture.DEFAULT_IMAGE,r=Texture.DEFAULT_MAPPING,n=ClampToEdgeWrapping,o=ClampToEdgeWrapping,s=LinearFilter,c=LinearMipmapLinearFilter,d=RGBAFormat,u=UnsignedByteType,m=Texture.DEFAULT_ANISOTROPY,_=NoColorSpace){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:textureId++}),this.uuid=generateUUID(),this.name="",this.source=new Source(e),this.mipmaps=[],this.mapping=r,this.channel=0,this.wrapS=n,this.wrapT=o,this.magFilter=s,this.minFilter=c,this.anisotropy=m,this.format=d,this.internalFormat=null,this.type=u,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof _=="string"?this.colorSpace=_:(warnOnce("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=_===sRGBEncoding?SRGBColorSpace:NoColorSpace),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const r=e===void 0||typeof e=="string";if(!r&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),r||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==UVMapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case RepeatWrapping:e.x=e.x-Math.floor(e.x);break;case ClampToEdgeWrapping:e.x=e.x<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case RepeatWrapping:e.y=e.y-Math.floor(e.y);break;case ClampToEdgeWrapping:e.y=e.y<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return warnOnce("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===SRGBColorSpace?sRGBEncoding:LinearEncoding}set encoding(e){warnOnce("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===sRGBEncoding?SRGBColorSpace:NoColorSpace}}Texture.DEFAULT_IMAGE=null,Texture.DEFAULT_MAPPING=UVMapping,Texture.DEFAULT_ANISOTROPY=1;class Vector4{constructor(e=0,r=0,n=0,o=1){Vector4.prototype.isVector4=!0,this.x=e,this.y=r,this.z=n,this.w=o}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,r,n,o){return this.x=e,this.y=r,this.z=n,this.w=o,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,r){switch(e){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;case 3:this.w=r;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,r){return this.x=e.x+r.x,this.y=e.y+r.y,this.z=e.z+r.z,this.w=e.w+r.w,this}addScaledVector(e,r){return this.x+=e.x*r,this.y+=e.y*r,this.z+=e.z*r,this.w+=e.w*r,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,r){return this.x=e.x-r.x,this.y=e.y-r.y,this.z=e.z-r.z,this.w=e.w-r.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const r=this.x,n=this.y,o=this.z,s=this.w,c=e.elements;return this.x=c[0]*r+c[4]*n+c[8]*o+c[12]*s,this.y=c[1]*r+c[5]*n+c[9]*o+c[13]*s,this.z=c[2]*r+c[6]*n+c[10]*o+c[14]*s,this.w=c[3]*r+c[7]*n+c[11]*o+c[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const r=Math.sqrt(1-e.w*e.w);return r<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/r,this.y=e.y/r,this.z=e.z/r),this}setAxisAngleFromRotationMatrix(e){let r,n,o,s;const c=e.elements,d=c[0],u=c[4],m=c[8],_=c[1],g=c[5],f=c[9],y=c[2],M=c[6],T=c[10];if(Math.abs(u-_)<.01&&Math.abs(m-y)<.01&&Math.abs(f-M)<.01){if(Math.abs(u+_)<.1&&Math.abs(m+y)<.1&&Math.abs(f+M)<.1&&Math.abs(d+g+T-3)<.1)return this.set(1,0,0,0),this;r=Math.PI;const E=(d+1)/2,C=(g+1)/2,k=(T+1)/2,O=(u+_)/4,I=(m+y)/4,B=(f+M)/4;return E>C&&E>k?E<.01?(n=0,o=.707106781,s=.707106781):(n=Math.sqrt(E),o=O/n,s=I/n):C>k?C<.01?(n=.707106781,o=0,s=.707106781):(o=Math.sqrt(C),n=O/o,s=B/o):k<.01?(n=.707106781,o=.707106781,s=0):(s=Math.sqrt(k),n=I/s,o=B/s),this.set(n,o,s,r),this}let A=Math.sqrt((M-f)*(M-f)+(m-y)*(m-y)+(_-u)*(_-u));return Math.abs(A)<.001&&(A=1),this.x=(M-f)/A,this.y=(m-y)/A,this.z=(_-u)/A,this.w=Math.acos((d+g+T-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,r){return this.x=Math.max(e.x,Math.min(r.x,this.x)),this.y=Math.max(e.y,Math.min(r.y,this.y)),this.z=Math.max(e.z,Math.min(r.z,this.z)),this.w=Math.max(e.w,Math.min(r.w,this.w)),this}clampScalar(e,r){return this.x=Math.max(e,Math.min(r,this.x)),this.y=Math.max(e,Math.min(r,this.y)),this.z=Math.max(e,Math.min(r,this.z)),this.w=Math.max(e,Math.min(r,this.w)),this}clampLength(e,r){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(r,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,r){return this.x+=(e.x-this.x)*r,this.y+=(e.y-this.y)*r,this.z+=(e.z-this.z)*r,this.w+=(e.w-this.w)*r,this}lerpVectors(e,r,n){return this.x=e.x+(r.x-e.x)*n,this.y=e.y+(r.y-e.y)*n,this.z=e.z+(r.z-e.z)*n,this.w=e.w+(r.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,r=0){return this.x=e[r],this.y=e[r+1],this.z=e[r+2],this.w=e[r+3],this}toArray(e=[],r=0){return e[r]=this.x,e[r+1]=this.y,e[r+2]=this.z,e[r+3]=this.w,e}fromBufferAttribute(e,r){return this.x=e.getX(r),this.y=e.getY(r),this.z=e.getZ(r),this.w=e.getW(r),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class WebGLRenderTarget extends EventDispatcher{constructor(e=1,r=1,n={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=r,this.depth=1,this.scissor=new Vector4(0,0,e,r),this.scissorTest=!1,this.viewport=new Vector4(0,0,e,r);const o={width:e,height:r,depth:1};n.encoding!==void 0&&(warnOnce("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===sRGBEncoding?SRGBColorSpace:NoColorSpace),this.texture=new Texture(o,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.internalFormat=n.internalFormat!==void 0?n.internalFormat:null,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:LinearFilter,this.depthBuffer=n.depthBuffer!==void 0?n.depthBuffer:!0,this.stencilBuffer=n.stencilBuffer!==void 0?n.stencilBuffer:!1,this.depthTexture=n.depthTexture!==void 0?n.depthTexture:null,this.samples=n.samples!==void 0?n.samples:0}setSize(e,r,n=1){(this.width!==e||this.height!==r||this.depth!==n)&&(this.width=e,this.height=r,this.depth=n,this.texture.image.width=e,this.texture.image.height=r,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,r),this.scissor.set(0,0,e,r)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const r=Object.assign({},e.texture.image);return this.texture.source=new Source(r),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class DataArrayTexture extends Texture{constructor(e=null,r=1,n=1,o=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:r,height:n,depth:o},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Data3DTexture extends Texture{constructor(e=null,r=1,n=1,o=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:r,height:n,depth:o},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Quaternion{constructor(e=0,r=0,n=0,o=1){this.isQuaternion=!0,this._x=e,this._y=r,this._z=n,this._w=o}static slerpFlat(e,r,n,o,s,c,d){let u=n[o+0],m=n[o+1],_=n[o+2],g=n[o+3];const f=s[c+0],y=s[c+1],M=s[c+2],T=s[c+3];if(d===0){e[r+0]=u,e[r+1]=m,e[r+2]=_,e[r+3]=g;return}if(d===1){e[r+0]=f,e[r+1]=y,e[r+2]=M,e[r+3]=T;return}if(g!==T||u!==f||m!==y||_!==M){let A=1-d;const E=u*f+m*y+_*M+g*T,C=E>=0?1:-1,k=1-E*E;if(k>Number.EPSILON){const I=Math.sqrt(k),B=Math.atan2(I,E*C);A=Math.sin(A*B)/I,d=Math.sin(d*B)/I}const O=d*C;if(u=u*A+f*O,m=m*A+y*O,_=_*A+M*O,g=g*A+T*O,A===1-d){const I=1/Math.sqrt(u*u+m*m+_*_+g*g);u*=I,m*=I,_*=I,g*=I}}e[r]=u,e[r+1]=m,e[r+2]=_,e[r+3]=g}static multiplyQuaternionsFlat(e,r,n,o,s,c){const d=n[o],u=n[o+1],m=n[o+2],_=n[o+3],g=s[c],f=s[c+1],y=s[c+2],M=s[c+3];return e[r]=d*M+_*g+u*y-m*f,e[r+1]=u*M+_*f+m*g-d*y,e[r+2]=m*M+_*y+d*f-u*g,e[r+3]=_*M-d*g-u*f-m*y,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,r,n,o){return this._x=e,this._y=r,this._z=n,this._w=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,r){const n=e._x,o=e._y,s=e._z,c=e._order,d=Math.cos,u=Math.sin,m=d(n/2),_=d(o/2),g=d(s/2),f=u(n/2),y=u(o/2),M=u(s/2);switch(c){case"XYZ":this._x=f*_*g+m*y*M,this._y=m*y*g-f*_*M,this._z=m*_*M+f*y*g,this._w=m*_*g-f*y*M;break;case"YXZ":this._x=f*_*g+m*y*M,this._y=m*y*g-f*_*M,this._z=m*_*M-f*y*g,this._w=m*_*g+f*y*M;break;case"ZXY":this._x=f*_*g-m*y*M,this._y=m*y*g+f*_*M,this._z=m*_*M+f*y*g,this._w=m*_*g-f*y*M;break;case"ZYX":this._x=f*_*g-m*y*M,this._y=m*y*g+f*_*M,this._z=m*_*M-f*y*g,this._w=m*_*g+f*y*M;break;case"YZX":this._x=f*_*g+m*y*M,this._y=m*y*g+f*_*M,this._z=m*_*M-f*y*g,this._w=m*_*g-f*y*M;break;case"XZY":this._x=f*_*g-m*y*M,this._y=m*y*g-f*_*M,this._z=m*_*M+f*y*g,this._w=m*_*g+f*y*M;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+c)}return r!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,r){const n=r/2,o=Math.sin(n);return this._x=e.x*o,this._y=e.y*o,this._z=e.z*o,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const r=e.elements,n=r[0],o=r[4],s=r[8],c=r[1],d=r[5],u=r[9],m=r[2],_=r[6],g=r[10],f=n+d+g;if(f>0){const y=.5/Math.sqrt(f+1);this._w=.25/y,this._x=(_-u)*y,this._y=(s-m)*y,this._z=(c-o)*y}else if(n>d&&n>g){const y=2*Math.sqrt(1+n-d-g);this._w=(_-u)/y,this._x=.25*y,this._y=(o+c)/y,this._z=(s+m)/y}else if(d>g){const y=2*Math.sqrt(1+d-n-g);this._w=(s-m)/y,this._x=(o+c)/y,this._y=.25*y,this._z=(u+_)/y}else{const y=2*Math.sqrt(1+g-n-d);this._w=(c-o)/y,this._x=(s+m)/y,this._y=(u+_)/y,this._z=.25*y}return this._onChangeCallback(),this}setFromUnitVectors(e,r){let n=e.dot(r)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*r.z-e.z*r.y,this._y=e.z*r.x-e.x*r.z,this._z=e.x*r.y-e.y*r.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(clamp$2(this.dot(e),-1,1)))}rotateTowards(e,r){const n=this.angleTo(e);if(n===0)return this;const o=Math.min(1,r/n);return this.slerp(e,o),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,r){const n=e._x,o=e._y,s=e._z,c=e._w,d=r._x,u=r._y,m=r._z,_=r._w;return this._x=n*_+c*d+o*m-s*u,this._y=o*_+c*u+s*d-n*m,this._z=s*_+c*m+n*u-o*d,this._w=c*_-n*d-o*u-s*m,this._onChangeCallback(),this}slerp(e,r){if(r===0)return this;if(r===1)return this.copy(e);const n=this._x,o=this._y,s=this._z,c=this._w;let d=c*e._w+n*e._x+o*e._y+s*e._z;if(d<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,d=-d):this.copy(e),d>=1)return this._w=c,this._x=n,this._y=o,this._z=s,this;const u=1-d*d;if(u<=Number.EPSILON){const y=1-r;return this._w=y*c+r*this._w,this._x=y*n+r*this._x,this._y=y*o+r*this._y,this._z=y*s+r*this._z,this.normalize(),this._onChangeCallback(),this}const m=Math.sqrt(u),_=Math.atan2(m,d),g=Math.sin((1-r)*_)/m,f=Math.sin(r*_)/m;return this._w=c*g+this._w*f,this._x=n*g+this._x*f,this._y=o*g+this._y*f,this._z=s*g+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,r,n){return this.copy(e).slerp(r,n)}random(){const e=Math.random(),r=Math.sqrt(1-e),n=Math.sqrt(e),o=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(r*Math.cos(o),n*Math.sin(s),n*Math.cos(s),r*Math.sin(o))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,r=0){return this._x=e[r],this._y=e[r+1],this._z=e[r+2],this._w=e[r+3],this._onChangeCallback(),this}toArray(e=[],r=0){return e[r]=this._x,e[r+1]=this._y,e[r+2]=this._z,e[r+3]=this._w,e}fromBufferAttribute(e,r){return this._x=e.getX(r),this._y=e.getY(r),this._z=e.getZ(r),this._w=e.getW(r),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Vector3{constructor(e=0,r=0,n=0){Vector3.prototype.isVector3=!0,this.x=e,this.y=r,this.z=n}set(e,r,n){return n===void 0&&(n=this.z),this.x=e,this.y=r,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,r){switch(e){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,r){return this.x=e.x+r.x,this.y=e.y+r.y,this.z=e.z+r.z,this}addScaledVector(e,r){return this.x+=e.x*r,this.y+=e.y*r,this.z+=e.z*r,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,r){return this.x=e.x-r.x,this.y=e.y-r.y,this.z=e.z-r.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,r){return this.x=e.x*r.x,this.y=e.y*r.y,this.z=e.z*r.z,this}applyEuler(e){return this.applyQuaternion(_quaternion$4.setFromEuler(e))}applyAxisAngle(e,r){return this.applyQuaternion(_quaternion$4.setFromAxisAngle(e,r))}applyMatrix3(e){const r=this.x,n=this.y,o=this.z,s=e.elements;return this.x=s[0]*r+s[3]*n+s[6]*o,this.y=s[1]*r+s[4]*n+s[7]*o,this.z=s[2]*r+s[5]*n+s[8]*o,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const r=this.x,n=this.y,o=this.z,s=e.elements,c=1/(s[3]*r+s[7]*n+s[11]*o+s[15]);return this.x=(s[0]*r+s[4]*n+s[8]*o+s[12])*c,this.y=(s[1]*r+s[5]*n+s[9]*o+s[13])*c,this.z=(s[2]*r+s[6]*n+s[10]*o+s[14])*c,this}applyQuaternion(e){const r=this.x,n=this.y,o=this.z,s=e.x,c=e.y,d=e.z,u=e.w,m=u*r+c*o-d*n,_=u*n+d*r-s*o,g=u*o+s*n-c*r,f=-s*r-c*n-d*o;return this.x=m*u+f*-s+_*-d-g*-c,this.y=_*u+f*-c+g*-s-m*-d,this.z=g*u+f*-d+m*-c-_*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const r=this.x,n=this.y,o=this.z,s=e.elements;return this.x=s[0]*r+s[4]*n+s[8]*o,this.y=s[1]*r+s[5]*n+s[9]*o,this.z=s[2]*r+s[6]*n+s[10]*o,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,r){return this.x=Math.max(e.x,Math.min(r.x,this.x)),this.y=Math.max(e.y,Math.min(r.y,this.y)),this.z=Math.max(e.z,Math.min(r.z,this.z)),this}clampScalar(e,r){return this.x=Math.max(e,Math.min(r,this.x)),this.y=Math.max(e,Math.min(r,this.y)),this.z=Math.max(e,Math.min(r,this.z)),this}clampLength(e,r){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(r,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,r){return this.x+=(e.x-this.x)*r,this.y+=(e.y-this.y)*r,this.z+=(e.z-this.z)*r,this}lerpVectors(e,r,n){return this.x=e.x+(r.x-e.x)*n,this.y=e.y+(r.y-e.y)*n,this.z=e.z+(r.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,r){const n=e.x,o=e.y,s=e.z,c=r.x,d=r.y,u=r.z;return this.x=o*u-s*d,this.y=s*c-n*u,this.z=n*d-o*c,this}projectOnVector(e){const r=e.lengthSq();if(r===0)return this.set(0,0,0);const n=e.dot(this)/r;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return _vector$b.copy(this).projectOnVector(e),this.sub(_vector$b)}reflect(e){return this.sub(_vector$b.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const r=Math.sqrt(this.lengthSq()*e.lengthSq());if(r===0)return Math.PI/2;const n=this.dot(e)/r;return Math.acos(clamp$2(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const r=this.x-e.x,n=this.y-e.y,o=this.z-e.z;return r*r+n*n+o*o}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,r,n){const o=Math.sin(r)*e;return this.x=o*Math.sin(n),this.y=Math.cos(r)*e,this.z=o*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,r,n){return this.x=e*Math.sin(r),this.y=n,this.z=e*Math.cos(r),this}setFromMatrixPosition(e){const r=e.elements;return this.x=r[12],this.y=r[13],this.z=r[14],this}setFromMatrixScale(e){const r=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),o=this.setFromMatrixColumn(e,2).length();return this.x=r,this.y=n,this.z=o,this}setFromMatrixColumn(e,r){return this.fromArray(e.elements,r*4)}setFromMatrix3Column(e,r){return this.fromArray(e.elements,r*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,r=0){return this.x=e[r],this.y=e[r+1],this.z=e[r+2],this}toArray(e=[],r=0){return e[r]=this.x,e[r+1]=this.y,e[r+2]=this.z,e}fromBufferAttribute(e,r){return this.x=e.getX(r),this.y=e.getY(r),this.z=e.getZ(r),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,r=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(r),this.y=n*Math.sin(r),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const _vector$b=new Vector3,_quaternion$4=new Quaternion;class Box3{constructor(e=new Vector3(1/0,1/0,1/0),r=new Vector3(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=r}set(e,r){return this.min.copy(e),this.max.copy(r),this}setFromArray(e){this.makeEmpty();for(let r=0,n=e.length;r<n;r+=3)this.expandByPoint(_vector$a.fromArray(e,r));return this}setFromBufferAttribute(e){this.makeEmpty();for(let r=0,n=e.count;r<n;r++)this.expandByPoint(_vector$a.fromBufferAttribute(e,r));return this}setFromPoints(e){this.makeEmpty();for(let r=0,n=e.length;r<n;r++)this.expandByPoint(e[r]);return this}setFromCenterAndSize(e,r){const n=_vector$a.copy(r).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,r=!1){return this.makeEmpty(),this.expandByObject(e,r)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,r=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),_box$3.copy(e.boundingBox),_box$3.applyMatrix4(e.matrixWorld),this.union(_box$3);else{const o=e.geometry;if(o!==void 0)if(r&&o.attributes!==void 0&&o.attributes.position!==void 0){const s=o.attributes.position;for(let c=0,d=s.count;c<d;c++)_vector$a.fromBufferAttribute(s,c).applyMatrix4(e.matrixWorld),this.expandByPoint(_vector$a)}else o.boundingBox===null&&o.computeBoundingBox(),_box$3.copy(o.boundingBox),_box$3.applyMatrix4(e.matrixWorld),this.union(_box$3)}const n=e.children;for(let o=0,s=n.length;o<s;o++)this.expandByObject(n[o],r);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,r){return r.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,_vector$a),_vector$a.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let r,n;return e.normal.x>0?(r=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(r=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(r+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(r+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(r+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(r+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),r<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(_center),_extents.subVectors(this.max,_center),_v0$2.subVectors(e.a,_center),_v1$7.subVectors(e.b,_center),_v2$4.subVectors(e.c,_center),_f0.subVectors(_v1$7,_v0$2),_f1.subVectors(_v2$4,_v1$7),_f2.subVectors(_v0$2,_v2$4);let r=[0,-_f0.z,_f0.y,0,-_f1.z,_f1.y,0,-_f2.z,_f2.y,_f0.z,0,-_f0.x,_f1.z,0,-_f1.x,_f2.z,0,-_f2.x,-_f0.y,_f0.x,0,-_f1.y,_f1.x,0,-_f2.y,_f2.x,0];return!satForAxes(r,_v0$2,_v1$7,_v2$4,_extents)||(r=[1,0,0,0,1,0,0,0,1],!satForAxes(r,_v0$2,_v1$7,_v2$4,_extents))?!1:(_triangleNormal.crossVectors(_f0,_f1),r=[_triangleNormal.x,_triangleNormal.y,_triangleNormal.z],satForAxes(r,_v0$2,_v1$7,_v2$4,_extents))}clampPoint(e,r){return r.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,_vector$a).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(_vector$a).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(_points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),_points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),_points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),_points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),_points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),_points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),_points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),_points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(_points),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const _points=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3],_vector$a=new Vector3,_box$3=new Box3,_v0$2=new Vector3,_v1$7=new Vector3,_v2$4=new Vector3,_f0=new Vector3,_f1=new Vector3,_f2=new Vector3,_center=new Vector3,_extents=new Vector3,_triangleNormal=new Vector3,_testAxis=new Vector3;function satForAxes(t,e,r,n,o){for(let s=0,c=t.length-3;s<=c;s+=3){_testAxis.fromArray(t,s);const d=o.x*Math.abs(_testAxis.x)+o.y*Math.abs(_testAxis.y)+o.z*Math.abs(_testAxis.z),u=e.dot(_testAxis),m=r.dot(_testAxis),_=n.dot(_testAxis);if(Math.max(-Math.max(u,m,_),Math.min(u,m,_))>d)return!1}return!0}const _box$2=new Box3,_v1$6=new Vector3,_v2$3=new Vector3;class Sphere{constructor(e=new Vector3,r=-1){this.center=e,this.radius=r}set(e,r){return this.center.copy(e),this.radius=r,this}setFromPoints(e,r){const n=this.center;r!==void 0?n.copy(r):_box$2.setFromPoints(e).getCenter(n);let o=0;for(let s=0,c=e.length;s<c;s++)o=Math.max(o,n.distanceToSquared(e[s]));return this.radius=Math.sqrt(o),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const r=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=r*r}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,r){const n=this.center.distanceToSquared(e);return r.copy(e),n>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;_v1$6.subVectors(e,this.center);const r=_v1$6.lengthSq();if(r>this.radius*this.radius){const n=Math.sqrt(r),o=(n-this.radius)*.5;this.center.addScaledVector(_v1$6,o/n),this.radius+=o}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(_v2$3.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(_v1$6.copy(e.center).add(_v2$3)),this.expandByPoint(_v1$6.copy(e.center).sub(_v2$3))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const _vector$9=new Vector3,_segCenter=new Vector3,_segDir=new Vector3,_diff=new Vector3,_edge1=new Vector3,_edge2=new Vector3,_normal$1=new Vector3;class Ray{constructor(e=new Vector3,r=new Vector3(0,0,-1)){this.origin=e,this.direction=r}set(e,r){return this.origin.copy(e),this.direction.copy(r),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,r){return r.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,_vector$9)),this}closestPointToPoint(e,r){r.subVectors(e,this.origin);const n=r.dot(this.direction);return n<0?r.copy(this.origin):r.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const r=_vector$9.subVectors(e,this.origin).dot(this.direction);return r<0?this.origin.distanceToSquared(e):(_vector$9.copy(this.origin).addScaledVector(this.direction,r),_vector$9.distanceToSquared(e))}distanceSqToSegment(e,r,n,o){_segCenter.copy(e).add(r).multiplyScalar(.5),_segDir.copy(r).sub(e).normalize(),_diff.copy(this.origin).sub(_segCenter);const s=e.distanceTo(r)*.5,c=-this.direction.dot(_segDir),d=_diff.dot(this.direction),u=-_diff.dot(_segDir),m=_diff.lengthSq(),_=Math.abs(1-c*c);let g,f,y,M;if(_>0)if(g=c*u-d,f=c*d-u,M=s*_,g>=0)if(f>=-M)if(f<=M){const T=1/_;g*=T,f*=T,y=g*(g+c*f+2*d)+f*(c*g+f+2*u)+m}else f=s,g=Math.max(0,-(c*f+d)),y=-g*g+f*(f+2*u)+m;else f=-s,g=Math.max(0,-(c*f+d)),y=-g*g+f*(f+2*u)+m;else f<=-M?(g=Math.max(0,-(-c*s+d)),f=g>0?-s:Math.min(Math.max(-s,-u),s),y=-g*g+f*(f+2*u)+m):f<=M?(g=0,f=Math.min(Math.max(-s,-u),s),y=f*(f+2*u)+m):(g=Math.max(0,-(c*s+d)),f=g>0?s:Math.min(Math.max(-s,-u),s),y=-g*g+f*(f+2*u)+m);else f=c>0?-s:s,g=Math.max(0,-(c*f+d)),y=-g*g+f*(f+2*u)+m;return n&&n.copy(this.origin).addScaledVector(this.direction,g),o&&o.copy(_segCenter).addScaledVector(_segDir,f),y}intersectSphere(e,r){_vector$9.subVectors(e.center,this.origin);const n=_vector$9.dot(this.direction),o=_vector$9.dot(_vector$9)-n*n,s=e.radius*e.radius;if(o>s)return null;const c=Math.sqrt(s-o),d=n-c,u=n+c;return u<0?null:d<0?this.at(u,r):this.at(d,r)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const r=e.normal.dot(this.direction);if(r===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/r;return n>=0?n:null}intersectPlane(e,r){const n=this.distanceToPlane(e);return n===null?null:this.at(n,r)}intersectsPlane(e){const r=e.distanceToPoint(this.origin);return r===0||e.normal.dot(this.direction)*r<0}intersectBox(e,r){let n,o,s,c,d,u;const m=1/this.direction.x,_=1/this.direction.y,g=1/this.direction.z,f=this.origin;return m>=0?(n=(e.min.x-f.x)*m,o=(e.max.x-f.x)*m):(n=(e.max.x-f.x)*m,o=(e.min.x-f.x)*m),_>=0?(s=(e.min.y-f.y)*_,c=(e.max.y-f.y)*_):(s=(e.max.y-f.y)*_,c=(e.min.y-f.y)*_),n>c||s>o||((s>n||isNaN(n))&&(n=s),(c<o||isNaN(o))&&(o=c),g>=0?(d=(e.min.z-f.z)*g,u=(e.max.z-f.z)*g):(d=(e.max.z-f.z)*g,u=(e.min.z-f.z)*g),n>u||d>o)||((d>n||n!==n)&&(n=d),(u<o||o!==o)&&(o=u),o<0)?null:this.at(n>=0?n:o,r)}intersectsBox(e){return this.intersectBox(e,_vector$9)!==null}intersectTriangle(e,r,n,o,s){_edge1.subVectors(r,e),_edge2.subVectors(n,e),_normal$1.crossVectors(_edge1,_edge2);let c=this.direction.dot(_normal$1),d;if(c>0){if(o)return null;d=1}else if(c<0)d=-1,c=-c;else return null;_diff.subVectors(this.origin,e);const u=d*this.direction.dot(_edge2.crossVectors(_diff,_edge2));if(u<0)return null;const m=d*this.direction.dot(_edge1.cross(_diff));if(m<0||u+m>c)return null;const _=-d*_diff.dot(_normal$1);return _<0?null:this.at(_/c,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Matrix4{constructor(){Matrix4.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,r,n,o,s,c,d,u,m,_,g,f,y,M,T,A){const E=this.elements;return E[0]=e,E[4]=r,E[8]=n,E[12]=o,E[1]=s,E[5]=c,E[9]=d,E[13]=u,E[2]=m,E[6]=_,E[10]=g,E[14]=f,E[3]=y,E[7]=M,E[11]=T,E[15]=A,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Matrix4().fromArray(this.elements)}copy(e){const r=this.elements,n=e.elements;return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4],r[5]=n[5],r[6]=n[6],r[7]=n[7],r[8]=n[8],r[9]=n[9],r[10]=n[10],r[11]=n[11],r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15],this}copyPosition(e){const r=this.elements,n=e.elements;return r[12]=n[12],r[13]=n[13],r[14]=n[14],this}setFromMatrix3(e){const r=e.elements;return this.set(r[0],r[3],r[6],0,r[1],r[4],r[7],0,r[2],r[5],r[8],0,0,0,0,1),this}extractBasis(e,r,n){return e.setFromMatrixColumn(this,0),r.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,r,n){return this.set(e.x,r.x,n.x,0,e.y,r.y,n.y,0,e.z,r.z,n.z,0,0,0,0,1),this}extractRotation(e){const r=this.elements,n=e.elements,o=1/_v1$5.setFromMatrixColumn(e,0).length(),s=1/_v1$5.setFromMatrixColumn(e,1).length(),c=1/_v1$5.setFromMatrixColumn(e,2).length();return r[0]=n[0]*o,r[1]=n[1]*o,r[2]=n[2]*o,r[3]=0,r[4]=n[4]*s,r[5]=n[5]*s,r[6]=n[6]*s,r[7]=0,r[8]=n[8]*c,r[9]=n[9]*c,r[10]=n[10]*c,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this}makeRotationFromEuler(e){const r=this.elements,n=e.x,o=e.y,s=e.z,c=Math.cos(n),d=Math.sin(n),u=Math.cos(o),m=Math.sin(o),_=Math.cos(s),g=Math.sin(s);if(e.order==="XYZ"){const f=c*_,y=c*g,M=d*_,T=d*g;r[0]=u*_,r[4]=-u*g,r[8]=m,r[1]=y+M*m,r[5]=f-T*m,r[9]=-d*u,r[2]=T-f*m,r[6]=M+y*m,r[10]=c*u}else if(e.order==="YXZ"){const f=u*_,y=u*g,M=m*_,T=m*g;r[0]=f+T*d,r[4]=M*d-y,r[8]=c*m,r[1]=c*g,r[5]=c*_,r[9]=-d,r[2]=y*d-M,r[6]=T+f*d,r[10]=c*u}else if(e.order==="ZXY"){const f=u*_,y=u*g,M=m*_,T=m*g;r[0]=f-T*d,r[4]=-c*g,r[8]=M+y*d,r[1]=y+M*d,r[5]=c*_,r[9]=T-f*d,r[2]=-c*m,r[6]=d,r[10]=c*u}else if(e.order==="ZYX"){const f=c*_,y=c*g,M=d*_,T=d*g;r[0]=u*_,r[4]=M*m-y,r[8]=f*m+T,r[1]=u*g,r[5]=T*m+f,r[9]=y*m-M,r[2]=-m,r[6]=d*u,r[10]=c*u}else if(e.order==="YZX"){const f=c*u,y=c*m,M=d*u,T=d*m;r[0]=u*_,r[4]=T-f*g,r[8]=M*g+y,r[1]=g,r[5]=c*_,r[9]=-d*_,r[2]=-m*_,r[6]=y*g+M,r[10]=f-T*g}else if(e.order==="XZY"){const f=c*u,y=c*m,M=d*u,T=d*m;r[0]=u*_,r[4]=-g,r[8]=m*_,r[1]=f*g+T,r[5]=c*_,r[9]=y*g-M,r[2]=M*g-y,r[6]=d*_,r[10]=T*g+f}return r[3]=0,r[7]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this}makeRotationFromQuaternion(e){return this.compose(_zero,e,_one)}lookAt(e,r,n){const o=this.elements;return _z.subVectors(e,r),_z.lengthSq()===0&&(_z.z=1),_z.normalize(),_x.crossVectors(n,_z),_x.lengthSq()===0&&(Math.abs(n.z)===1?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors(n,_z)),_x.normalize(),_y.crossVectors(_z,_x),o[0]=_x.x,o[4]=_y.x,o[8]=_z.x,o[1]=_x.y,o[5]=_y.y,o[9]=_z.y,o[2]=_x.z,o[6]=_y.z,o[10]=_z.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,r){const n=e.elements,o=r.elements,s=this.elements,c=n[0],d=n[4],u=n[8],m=n[12],_=n[1],g=n[5],f=n[9],y=n[13],M=n[2],T=n[6],A=n[10],E=n[14],C=n[3],k=n[7],O=n[11],I=n[15],B=o[0],j=o[4],U=o[8],N=o[12],W=o[1],ne=o[5],re=o[9],le=o[13],ae=o[2],pe=o[6],K=o[10],q=o[14],D=o[3],z=o[7],J=o[11],ie=o[15];return s[0]=c*B+d*W+u*ae+m*D,s[4]=c*j+d*ne+u*pe+m*z,s[8]=c*U+d*re+u*K+m*J,s[12]=c*N+d*le+u*q+m*ie,s[1]=_*B+g*W+f*ae+y*D,s[5]=_*j+g*ne+f*pe+y*z,s[9]=_*U+g*re+f*K+y*J,s[13]=_*N+g*le+f*q+y*ie,s[2]=M*B+T*W+A*ae+E*D,s[6]=M*j+T*ne+A*pe+E*z,s[10]=M*U+T*re+A*K+E*J,s[14]=M*N+T*le+A*q+E*ie,s[3]=C*B+k*W+O*ae+I*D,s[7]=C*j+k*ne+O*pe+I*z,s[11]=C*U+k*re+O*K+I*J,s[15]=C*N+k*le+O*q+I*ie,this}multiplyScalar(e){const r=this.elements;return r[0]*=e,r[4]*=e,r[8]*=e,r[12]*=e,r[1]*=e,r[5]*=e,r[9]*=e,r[13]*=e,r[2]*=e,r[6]*=e,r[10]*=e,r[14]*=e,r[3]*=e,r[7]*=e,r[11]*=e,r[15]*=e,this}determinant(){const e=this.elements,r=e[0],n=e[4],o=e[8],s=e[12],c=e[1],d=e[5],u=e[9],m=e[13],_=e[2],g=e[6],f=e[10],y=e[14],M=e[3],T=e[7],A=e[11],E=e[15];return M*(+s*u*g-o*m*g-s*d*f+n*m*f+o*d*y-n*u*y)+T*(+r*u*y-r*m*f+s*c*f-o*c*y+o*m*_-s*u*_)+A*(+r*m*g-r*d*y-s*c*g+n*c*y+s*d*_-n*m*_)+E*(-o*d*_-r*u*g+r*d*f+o*c*g-n*c*f+n*u*_)}transpose(){const e=this.elements;let r;return r=e[1],e[1]=e[4],e[4]=r,r=e[2],e[2]=e[8],e[8]=r,r=e[6],e[6]=e[9],e[9]=r,r=e[3],e[3]=e[12],e[12]=r,r=e[7],e[7]=e[13],e[13]=r,r=e[11],e[11]=e[14],e[14]=r,this}setPosition(e,r,n){const o=this.elements;return e.isVector3?(o[12]=e.x,o[13]=e.y,o[14]=e.z):(o[12]=e,o[13]=r,o[14]=n),this}invert(){const e=this.elements,r=e[0],n=e[1],o=e[2],s=e[3],c=e[4],d=e[5],u=e[6],m=e[7],_=e[8],g=e[9],f=e[10],y=e[11],M=e[12],T=e[13],A=e[14],E=e[15],C=g*A*m-T*f*m+T*u*y-d*A*y-g*u*E+d*f*E,k=M*f*m-_*A*m-M*u*y+c*A*y+_*u*E-c*f*E,O=_*T*m-M*g*m+M*d*y-c*T*y-_*d*E+c*g*E,I=M*g*u-_*T*u-M*d*f+c*T*f+_*d*A-c*g*A,B=r*C+n*k+o*O+s*I;if(B===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const j=1/B;return e[0]=C*j,e[1]=(T*f*s-g*A*s-T*o*y+n*A*y+g*o*E-n*f*E)*j,e[2]=(d*A*s-T*u*s+T*o*m-n*A*m-d*o*E+n*u*E)*j,e[3]=(g*u*s-d*f*s-g*o*m+n*f*m+d*o*y-n*u*y)*j,e[4]=k*j,e[5]=(_*A*s-M*f*s+M*o*y-r*A*y-_*o*E+r*f*E)*j,e[6]=(M*u*s-c*A*s-M*o*m+r*A*m+c*o*E-r*u*E)*j,e[7]=(c*f*s-_*u*s+_*o*m-r*f*m-c*o*y+r*u*y)*j,e[8]=O*j,e[9]=(M*g*s-_*T*s-M*n*y+r*T*y+_*n*E-r*g*E)*j,e[10]=(c*T*s-M*d*s+M*n*m-r*T*m-c*n*E+r*d*E)*j,e[11]=(_*d*s-c*g*s-_*n*m+r*g*m+c*n*y-r*d*y)*j,e[12]=I*j,e[13]=(_*T*o-M*g*o+M*n*f-r*T*f-_*n*A+r*g*A)*j,e[14]=(M*d*o-c*T*o-M*n*u+r*T*u+c*n*A-r*d*A)*j,e[15]=(c*g*o-_*d*o+_*n*u-r*g*u-c*n*f+r*d*f)*j,this}scale(e){const r=this.elements,n=e.x,o=e.y,s=e.z;return r[0]*=n,r[4]*=o,r[8]*=s,r[1]*=n,r[5]*=o,r[9]*=s,r[2]*=n,r[6]*=o,r[10]*=s,r[3]*=n,r[7]*=o,r[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,r=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],o=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(r,n,o))}makeTranslation(e,r,n){return this.set(1,0,0,e,0,1,0,r,0,0,1,n,0,0,0,1),this}makeRotationX(e){const r=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,r,-n,0,0,n,r,0,0,0,0,1),this}makeRotationY(e){const r=Math.cos(e),n=Math.sin(e);return this.set(r,0,n,0,0,1,0,0,-n,0,r,0,0,0,0,1),this}makeRotationZ(e){const r=Math.cos(e),n=Math.sin(e);return this.set(r,-n,0,0,n,r,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,r){const n=Math.cos(r),o=Math.sin(r),s=1-n,c=e.x,d=e.y,u=e.z,m=s*c,_=s*d;return this.set(m*c+n,m*d-o*u,m*u+o*d,0,m*d+o*u,_*d+n,_*u-o*c,0,m*u-o*d,_*u+o*c,s*u*u+n,0,0,0,0,1),this}makeScale(e,r,n){return this.set(e,0,0,0,0,r,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,r,n,o,s,c){return this.set(1,n,s,0,e,1,c,0,r,o,1,0,0,0,0,1),this}compose(e,r,n){const o=this.elements,s=r._x,c=r._y,d=r._z,u=r._w,m=s+s,_=c+c,g=d+d,f=s*m,y=s*_,M=s*g,T=c*_,A=c*g,E=d*g,C=u*m,k=u*_,O=u*g,I=n.x,B=n.y,j=n.z;return o[0]=(1-(T+E))*I,o[1]=(y+O)*I,o[2]=(M-k)*I,o[3]=0,o[4]=(y-O)*B,o[5]=(1-(f+E))*B,o[6]=(A+C)*B,o[7]=0,o[8]=(M+k)*j,o[9]=(A-C)*j,o[10]=(1-(f+T))*j,o[11]=0,o[12]=e.x,o[13]=e.y,o[14]=e.z,o[15]=1,this}decompose(e,r,n){const o=this.elements;let s=_v1$5.set(o[0],o[1],o[2]).length();const c=_v1$5.set(o[4],o[5],o[6]).length(),d=_v1$5.set(o[8],o[9],o[10]).length();this.determinant()<0&&(s=-s),e.x=o[12],e.y=o[13],e.z=o[14],_m1$2.copy(this);const u=1/s,m=1/c,_=1/d;return _m1$2.elements[0]*=u,_m1$2.elements[1]*=u,_m1$2.elements[2]*=u,_m1$2.elements[4]*=m,_m1$2.elements[5]*=m,_m1$2.elements[6]*=m,_m1$2.elements[8]*=_,_m1$2.elements[9]*=_,_m1$2.elements[10]*=_,r.setFromRotationMatrix(_m1$2),n.x=s,n.y=c,n.z=d,this}makePerspective(e,r,n,o,s,c){const d=this.elements,u=2*s/(r-e),m=2*s/(n-o),_=(r+e)/(r-e),g=(n+o)/(n-o),f=-(c+s)/(c-s),y=-2*c*s/(c-s);return d[0]=u,d[4]=0,d[8]=_,d[12]=0,d[1]=0,d[5]=m,d[9]=g,d[13]=0,d[2]=0,d[6]=0,d[10]=f,d[14]=y,d[3]=0,d[7]=0,d[11]=-1,d[15]=0,this}makeOrthographic(e,r,n,o,s,c){const d=this.elements,u=1/(r-e),m=1/(n-o),_=1/(c-s),g=(r+e)*u,f=(n+o)*m,y=(c+s)*_;return d[0]=2*u,d[4]=0,d[8]=0,d[12]=-g,d[1]=0,d[5]=2*m,d[9]=0,d[13]=-f,d[2]=0,d[6]=0,d[10]=-2*_,d[14]=-y,d[3]=0,d[7]=0,d[11]=0,d[15]=1,this}equals(e){const r=this.elements,n=e.elements;for(let o=0;o<16;o++)if(r[o]!==n[o])return!1;return!0}fromArray(e,r=0){for(let n=0;n<16;n++)this.elements[n]=e[n+r];return this}toArray(e=[],r=0){const n=this.elements;return e[r]=n[0],e[r+1]=n[1],e[r+2]=n[2],e[r+3]=n[3],e[r+4]=n[4],e[r+5]=n[5],e[r+6]=n[6],e[r+7]=n[7],e[r+8]=n[8],e[r+9]=n[9],e[r+10]=n[10],e[r+11]=n[11],e[r+12]=n[12],e[r+13]=n[13],e[r+14]=n[14],e[r+15]=n[15],e}}const _v1$5=new Vector3,_m1$2=new Matrix4,_zero=new Vector3(0,0,0),_one=new Vector3(1,1,1),_x=new Vector3,_y=new Vector3,_z=new Vector3,_matrix=new Matrix4,_quaternion$3=new Quaternion;class Euler{constructor(e=0,r=0,n=0,o=Euler.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=r,this._z=n,this._order=o}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,r,n,o=this._order){return this._x=e,this._y=r,this._z=n,this._order=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,r=this._order,n=!0){const o=e.elements,s=o[0],c=o[4],d=o[8],u=o[1],m=o[5],_=o[9],g=o[2],f=o[6],y=o[10];switch(r){case"XYZ":this._y=Math.asin(clamp$2(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(-_,y),this._z=Math.atan2(-c,s)):(this._x=Math.atan2(f,m),this._z=0);break;case"YXZ":this._x=Math.asin(-clamp$2(_,-1,1)),Math.abs(_)<.9999999?(this._y=Math.atan2(d,y),this._z=Math.atan2(u,m)):(this._y=Math.atan2(-g,s),this._z=0);break;case"ZXY":this._x=Math.asin(clamp$2(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-g,y),this._z=Math.atan2(-c,m)):(this._y=0,this._z=Math.atan2(u,s));break;case"ZYX":this._y=Math.asin(-clamp$2(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(f,y),this._z=Math.atan2(u,s)):(this._x=0,this._z=Math.atan2(-c,m));break;case"YZX":this._z=Math.asin(clamp$2(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-_,m),this._y=Math.atan2(-g,s)):(this._x=0,this._y=Math.atan2(d,y));break;case"XZY":this._z=Math.asin(-clamp$2(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(f,m),this._y=Math.atan2(d,s)):(this._x=Math.atan2(-_,y),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+r)}return this._order=r,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,r,n){return _matrix.makeRotationFromQuaternion(e),this.setFromRotationMatrix(_matrix,r,n)}setFromVector3(e,r=this._order){return this.set(e.x,e.y,e.z,r)}reorder(e){return _quaternion$3.setFromEuler(this),this.setFromQuaternion(_quaternion$3,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],r=0){return e[r]=this._x,e[r+1]=this._y,e[r+2]=this._z,e[r+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Euler.DEFAULT_ORDER="XYZ";class Layers{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let _object3DId=0;const _v1$4=new Vector3,_q1=new Quaternion,_m1$1=new Matrix4,_target=new Vector3,_position$3=new Vector3,_scale$2=new Vector3,_quaternion$2=new Quaternion,_xAxis=new Vector3(1,0,0),_yAxis=new Vector3(0,1,0),_zAxis=new Vector3(0,0,1),_addedEvent={type:"added"},_removedEvent={type:"removed"};class Object3D extends EventDispatcher{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_object3DId++}),this.uuid=generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DEFAULT_UP.clone();const e=new Vector3,r=new Euler,n=new Quaternion,o=new Vector3(1,1,1);function s(){n.setFromEuler(r,!1)}function c(){r.setFromQuaternion(n,void 0,!1)}r._onChange(s),n._onChange(c),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:r},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,r){this.quaternion.setFromAxisAngle(e,r)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,r){return _q1.setFromAxisAngle(e,r),this.quaternion.multiply(_q1),this}rotateOnWorldAxis(e,r){return _q1.setFromAxisAngle(e,r),this.quaternion.premultiply(_q1),this}rotateX(e){return this.rotateOnAxis(_xAxis,e)}rotateY(e){return this.rotateOnAxis(_yAxis,e)}rotateZ(e){return this.rotateOnAxis(_zAxis,e)}translateOnAxis(e,r){return _v1$4.copy(e).applyQuaternion(this.quaternion),this.position.add(_v1$4.multiplyScalar(r)),this}translateX(e){return this.translateOnAxis(_xAxis,e)}translateY(e){return this.translateOnAxis(_yAxis,e)}translateZ(e){return this.translateOnAxis(_zAxis,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(_m1$1.copy(this.matrixWorld).invert())}lookAt(e,r,n){e.isVector3?_target.copy(e):_target.set(e,r,n);const o=this.parent;this.updateWorldMatrix(!0,!1),_position$3.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_m1$1.lookAt(_position$3,_target,this.up):_m1$1.lookAt(_target,_position$3,this.up),this.quaternion.setFromRotationMatrix(_m1$1),o&&(_m1$1.extractRotation(o.matrixWorld),_q1.setFromRotationMatrix(_m1$1),this.quaternion.premultiply(_q1.invert()))}add(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.add(arguments[r]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(_addedEvent)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const r=this.children.indexOf(e);return r!==-1&&(e.parent=null,this.children.splice(r,1),e.dispatchEvent(_removedEvent)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const r=this.children[e];r.parent=null,r.dispatchEvent(_removedEvent)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),_m1$1.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),_m1$1.multiply(e.parent.matrixWorld)),e.applyMatrix4(_m1$1),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,r){if(this[e]===r)return this;for(let n=0,o=this.children.length;n<o;n++){const s=this.children[n].getObjectByProperty(e,r);if(s!==void 0)return s}}getObjectsByProperty(e,r){let n=[];this[e]===r&&n.push(this);for(let o=0,s=this.children.length;o<s;o++){const c=this.children[o].getObjectsByProperty(e,r);c.length>0&&(n=n.concat(c))}return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,e,_scale$2),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_quaternion$2,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const r=this.matrixWorld.elements;return e.set(r[8],r[9],r[10]).normalize()}raycast(){}traverse(e){e(this);const r=this.children;for(let n=0,o=r.length;n<o;n++)r[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const r=this.children;for(let n=0,o=r.length;n<o;n++)r[n].traverseVisible(e)}traverseAncestors(e){const r=this.parent;r!==null&&(e(r),r.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const r=this.children;for(let n=0,o=r.length;n<o;n++){const s=r[n];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,r){const n=this.parent;if(e===!0&&n!==null&&n.matrixWorldAutoUpdate===!0&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),r===!0){const o=this.children;for(let s=0,c=o.length;s<c;s++){const d=o[s];d.matrixWorldAutoUpdate===!0&&d.updateWorldMatrix(!1,!0)}}}toJSON(e){const r=e===void 0||typeof e=="string",n={};r&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const o={};o.uuid=this.uuid,o.type=this.type,this.name!==""&&(o.name=this.name),this.castShadow===!0&&(o.castShadow=!0),this.receiveShadow===!0&&(o.receiveShadow=!0),this.visible===!1&&(o.visible=!1),this.frustumCulled===!1&&(o.frustumCulled=!1),this.renderOrder!==0&&(o.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(o.userData=this.userData),o.layers=this.layers.mask,o.matrix=this.matrix.toArray(),o.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(o.matrixAutoUpdate=!1),this.isInstancedMesh&&(o.type="InstancedMesh",o.count=this.count,o.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(o.instanceColor=this.instanceColor.toJSON()));function s(d,u){return d[u.uuid]===void 0&&(d[u.uuid]=u.toJSON(e)),u.uuid}if(this.isScene)this.background&&(this.background.isColor?o.background=this.background.toJSON():this.background.isTexture&&(o.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(o.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){o.geometry=s(e.geometries,this.geometry);const d=this.geometry.parameters;if(d!==void 0&&d.shapes!==void 0){const u=d.shapes;if(Array.isArray(u))for(let m=0,_=u.length;m<_;m++){const g=u[m];s(e.shapes,g)}else s(e.shapes,u)}}if(this.isSkinnedMesh&&(o.bindMode=this.bindMode,o.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),o.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const d=[];for(let u=0,m=this.material.length;u<m;u++)d.push(s(e.materials,this.material[u]));o.material=d}else o.material=s(e.materials,this.material);if(this.children.length>0){o.children=[];for(let d=0;d<this.children.length;d++)o.children.push(this.children[d].toJSON(e).object)}if(this.animations.length>0){o.animations=[];for(let d=0;d<this.animations.length;d++){const u=this.animations[d];o.animations.push(s(e.animations,u))}}if(r){const d=c(e.geometries),u=c(e.materials),m=c(e.textures),_=c(e.images),g=c(e.shapes),f=c(e.skeletons),y=c(e.animations),M=c(e.nodes);d.length>0&&(n.geometries=d),u.length>0&&(n.materials=u),m.length>0&&(n.textures=m),_.length>0&&(n.images=_),g.length>0&&(n.shapes=g),f.length>0&&(n.skeletons=f),y.length>0&&(n.animations=y),M.length>0&&(n.nodes=M)}return n.object=o,n;function c(d){const u=[];for(const m in d){const _=d[m];delete _.metadata,u.push(_)}return u}}clone(e){return new this.constructor().copy(this,e)}copy(e,r=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations,this.userData=JSON.parse(JSON.stringify(e.userData)),r===!0)for(let n=0;n<e.children.length;n++){const o=e.children[n];this.add(o.clone())}return this}}Object3D.DEFAULT_UP=new Vector3(0,1,0),Object3D.DEFAULT_MATRIX_AUTO_UPDATE=!0,Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const _v0$1=new Vector3,_v1$3=new Vector3,_v2$2=new Vector3,_v3$1=new Vector3,_vab=new Vector3,_vac=new Vector3,_vbc=new Vector3,_vap=new Vector3,_vbp=new Vector3,_vcp=new Vector3;let warnedGetUV=!1;class Triangle{constructor(e=new Vector3,r=new Vector3,n=new Vector3){this.a=e,this.b=r,this.c=n}static getNormal(e,r,n,o){o.subVectors(n,r),_v0$1.subVectors(e,r),o.cross(_v0$1);const s=o.lengthSq();return s>0?o.multiplyScalar(1/Math.sqrt(s)):o.set(0,0,0)}static getBarycoord(e,r,n,o,s){_v0$1.subVectors(o,r),_v1$3.subVectors(n,r),_v2$2.subVectors(e,r);const c=_v0$1.dot(_v0$1),d=_v0$1.dot(_v1$3),u=_v0$1.dot(_v2$2),m=_v1$3.dot(_v1$3),_=_v1$3.dot(_v2$2),g=c*m-d*d;if(g===0)return s.set(-2,-1,-1);const f=1/g,y=(m*u-d*_)*f,M=(c*_-d*u)*f;return s.set(1-y-M,M,y)}static containsPoint(e,r,n,o){return this.getBarycoord(e,r,n,o,_v3$1),_v3$1.x>=0&&_v3$1.y>=0&&_v3$1.x+_v3$1.y<=1}static getUV(e,r,n,o,s,c,d,u){return warnedGetUV===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),warnedGetUV=!0),this.getInterpolation(e,r,n,o,s,c,d,u)}static getInterpolation(e,r,n,o,s,c,d,u){return this.getBarycoord(e,r,n,o,_v3$1),u.setScalar(0),u.addScaledVector(s,_v3$1.x),u.addScaledVector(c,_v3$1.y),u.addScaledVector(d,_v3$1.z),u}static isFrontFacing(e,r,n,o){return _v0$1.subVectors(n,r),_v1$3.subVectors(e,r),_v0$1.cross(_v1$3).dot(o)<0}set(e,r,n){return this.a.copy(e),this.b.copy(r),this.c.copy(n),this}setFromPointsAndIndices(e,r,n,o){return this.a.copy(e[r]),this.b.copy(e[n]),this.c.copy(e[o]),this}setFromAttributeAndIndices(e,r,n,o){return this.a.fromBufferAttribute(e,r),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,o),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return _v0$1.subVectors(this.c,this.b),_v1$3.subVectors(this.a,this.b),_v0$1.cross(_v1$3).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(.3333333333333333)}getNormal(e){return Triangle.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,r){return Triangle.getBarycoord(e,this.a,this.b,this.c,r)}getUV(e,r,n,o,s){return warnedGetUV===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),warnedGetUV=!0),Triangle.getInterpolation(e,this.a,this.b,this.c,r,n,o,s)}getInterpolation(e,r,n,o,s){return Triangle.getInterpolation(e,this.a,this.b,this.c,r,n,o,s)}containsPoint(e){return Triangle.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Triangle.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,r){const n=this.a,o=this.b,s=this.c;let c,d;_vab.subVectors(o,n),_vac.subVectors(s,n),_vap.subVectors(e,n);const u=_vab.dot(_vap),m=_vac.dot(_vap);if(u<=0&&m<=0)return r.copy(n);_vbp.subVectors(e,o);const _=_vab.dot(_vbp),g=_vac.dot(_vbp);if(_>=0&&g<=_)return r.copy(o);const f=u*g-_*m;if(f<=0&&u>=0&&_<=0)return c=u/(u-_),r.copy(n).addScaledVector(_vab,c);_vcp.subVectors(e,s);const y=_vab.dot(_vcp),M=_vac.dot(_vcp);if(M>=0&&y<=M)return r.copy(s);const T=y*m-u*M;if(T<=0&&m>=0&&M<=0)return d=m/(m-M),r.copy(n).addScaledVector(_vac,d);const A=_*M-y*g;if(A<=0&&g-_>=0&&y-M>=0)return _vbc.subVectors(s,o),d=(g-_)/(g-_+(y-M)),r.copy(o).addScaledVector(_vbc,d);const E=1/(A+T+f);return c=T*E,d=f*E,r.copy(n).addScaledVector(_vab,c).addScaledVector(_vac,d)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let materialId=0;class Material extends EventDispatcher{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:materialId++}),this.uuid=generateUUID(),this.name="",this.type="Material",this.blending=NormalBlending,this.side=FrontSide,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AlwaysStencilFunc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=KeepStencilOp,this.stencilZFail=KeepStencilOp,this.stencilZPass=KeepStencilOp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const r in e){const n=e[r];if(n===void 0){console.warn(`THREE.Material: parameter '${r}' has value of undefined.`);continue}const o=this[r];if(o===void 0){console.warn(`THREE.Material: '${r}' is not a property of THREE.${this.type}.`);continue}o&&o.isColor?o.set(n):o&&o.isVector3&&n&&n.isVector3?o.copy(n):this[r]=n}}toJSON(e){const r=e===void 0||typeof e=="string";r&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(n.blending=this.blending),this.side!==FrontSide&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(n.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(n.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=this.flatShading),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function o(s){const c=[];for(const d in s){const u=s[d];delete u.metadata,c.push(u)}return c}if(r){const s=o(e.textures),c=o(e.images);s.length>0&&(n.textures=s),c.length>0&&(n.images=c)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const r=e.clippingPlanes;let n=null;if(r!==null){const o=r.length;n=new Array(o);for(let s=0;s!==o;++s)n[s]=r[s].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const _colorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_hslA={h:0,s:0,l:0},_hslB={h:0,s:0,l:0};function hue2rgb(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<.16666666666666666?t+(e-t)*6*r:r<.5?e:r<.6666666666666666?t+(e-t)*6*(.6666666666666666-r):t}class Color{constructor(e,r,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,r===void 0&&n===void 0?this.set(e):this.setRGB(e,r,n)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,r=SRGBColorSpace){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ColorManagement.toWorkingColorSpace(this,r),this}setRGB(e,r,n,o=ColorManagement.workingColorSpace){return this.r=e,this.g=r,this.b=n,ColorManagement.toWorkingColorSpace(this,o),this}setHSL(e,r,n,o=ColorManagement.workingColorSpace){if(e=euclideanModulo(e,1),r=clamp$2(r,0,1),n=clamp$2(n,0,1),r===0)this.r=this.g=this.b=n;else{const s=n<=.5?n*(1+r):n+r-n*r,c=2*n-s;this.r=hue2rgb(c,s,e+.3333333333333333),this.g=hue2rgb(c,s,e),this.b=hue2rgb(c,s,e-.3333333333333333)}return ColorManagement.toWorkingColorSpace(this,o),this}setStyle(e,r=SRGBColorSpace){function n(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let o;if(o=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const c=o[1],d=o[2];switch(c){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(d))return n(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,r);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(d))return n(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,r);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(d))return n(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,r);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(o=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=o[1],c=s.length;if(c===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,r);if(c===6)return this.setHex(parseInt(s,16),r);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,r);return this}setColorName(e,r=SRGBColorSpace){const n=_colorKeywords[e.toLowerCase()];return n!==void 0?this.setHex(n,r):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=SRGBToLinear(e.r),this.g=SRGBToLinear(e.g),this.b=SRGBToLinear(e.b),this}copyLinearToSRGB(e){return this.r=LinearToSRGB(e.r),this.g=LinearToSRGB(e.g),this.b=LinearToSRGB(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=SRGBColorSpace){return ColorManagement.fromWorkingColorSpace(_color.copy(this),e),Math.round(clamp$2(_color.r*255,0,255))*65536+Math.round(clamp$2(_color.g*255,0,255))*256+Math.round(clamp$2(_color.b*255,0,255))}getHexString(e=SRGBColorSpace){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,r=ColorManagement.workingColorSpace){ColorManagement.fromWorkingColorSpace(_color.copy(this),r);const n=_color.r,o=_color.g,s=_color.b,c=Math.max(n,o,s),d=Math.min(n,o,s);let u,m;const _=(d+c)/2;if(d===c)u=0,m=0;else{const g=c-d;switch(m=_<=.5?g/(c+d):g/(2-c-d),c){case n:u=(o-s)/g+(o<s?6:0);break;case o:u=(s-n)/g+2;break;case s:u=(n-o)/g+4;break}u/=6}return e.h=u,e.s=m,e.l=_,e}getRGB(e,r=ColorManagement.workingColorSpace){return ColorManagement.fromWorkingColorSpace(_color.copy(this),r),e.r=_color.r,e.g=_color.g,e.b=_color.b,e}getStyle(e=SRGBColorSpace){ColorManagement.fromWorkingColorSpace(_color.copy(this),e);const r=_color.r,n=_color.g,o=_color.b;return e!==SRGBColorSpace?`color(${e} ${r.toFixed(3)} ${n.toFixed(3)} ${o.toFixed(3)})`:`rgb(${Math.round(r*255)},${Math.round(n*255)},${Math.round(o*255)})`}offsetHSL(e,r,n){return this.getHSL(_hslA),_hslA.h+=e,_hslA.s+=r,_hslA.l+=n,this.setHSL(_hslA.h,_hslA.s,_hslA.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,r){return this.r=e.r+r.r,this.g=e.g+r.g,this.b=e.b+r.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,r){return this.r+=(e.r-this.r)*r,this.g+=(e.g-this.g)*r,this.b+=(e.b-this.b)*r,this}lerpColors(e,r,n){return this.r=e.r+(r.r-e.r)*n,this.g=e.g+(r.g-e.g)*n,this.b=e.b+(r.b-e.b)*n,this}lerpHSL(e,r){this.getHSL(_hslA),e.getHSL(_hslB);const n=lerp$1(_hslA.h,_hslB.h,r),o=lerp$1(_hslA.s,_hslB.s,r),s=lerp$1(_hslA.l,_hslB.l,r);return this.setHSL(n,o,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const r=this.r,n=this.g,o=this.b,s=e.elements;return this.r=s[0]*r+s[3]*n+s[6]*o,this.g=s[1]*r+s[4]*n+s[7]*o,this.b=s[2]*r+s[5]*n+s[8]*o,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,r=0){return this.r=e[r],this.g=e[r+1],this.b=e[r+2],this}toArray(e=[],r=0){return e[r]=this.r,e[r+1]=this.g,e[r+2]=this.b,e}fromBufferAttribute(e,r){return this.r=e.getX(r),this.g=e.getY(r),this.b=e.getZ(r),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const _color=new Color;Color.NAMES=_colorKeywords;class MeshBasicMaterial extends Material{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const _vector$8=new Vector3,_vector2$1=new Vector2;class BufferAttribute{constructor(e,r,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=r,this.count=e!==void 0?e.length/r:0,this.normalized=n,this.usage=StaticDrawUsage,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,r,n){e*=this.itemSize,n*=r.itemSize;for(let o=0,s=this.itemSize;o<s;o++)this.array[e+o]=r.array[n+o];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let r=0,n=this.count;r<n;r++)_vector2$1.fromBufferAttribute(this,r),_vector2$1.applyMatrix3(e),this.setXY(r,_vector2$1.x,_vector2$1.y);else if(this.itemSize===3)for(let r=0,n=this.count;r<n;r++)_vector$8.fromBufferAttribute(this,r),_vector$8.applyMatrix3(e),this.setXYZ(r,_vector$8.x,_vector$8.y,_vector$8.z);return this}applyMatrix4(e){for(let r=0,n=this.count;r<n;r++)_vector$8.fromBufferAttribute(this,r),_vector$8.applyMatrix4(e),this.setXYZ(r,_vector$8.x,_vector$8.y,_vector$8.z);return this}applyNormalMatrix(e){for(let r=0,n=this.count;r<n;r++)_vector$8.fromBufferAttribute(this,r),_vector$8.applyNormalMatrix(e),this.setXYZ(r,_vector$8.x,_vector$8.y,_vector$8.z);return this}transformDirection(e){for(let r=0,n=this.count;r<n;r++)_vector$8.fromBufferAttribute(this,r),_vector$8.transformDirection(e),this.setXYZ(r,_vector$8.x,_vector$8.y,_vector$8.z);return this}set(e,r=0){return this.array.set(e,r),this}getX(e){let r=this.array[e*this.itemSize];return this.normalized&&(r=denormalize(r,this.array)),r}setX(e,r){return this.normalized&&(r=normalize$1(r,this.array)),this.array[e*this.itemSize]=r,this}getY(e){let r=this.array[e*this.itemSize+1];return this.normalized&&(r=denormalize(r,this.array)),r}setY(e,r){return this.normalized&&(r=normalize$1(r,this.array)),this.array[e*this.itemSize+1]=r,this}getZ(e){let r=this.array[e*this.itemSize+2];return this.normalized&&(r=denormalize(r,this.array)),r}setZ(e,r){return this.normalized&&(r=normalize$1(r,this.array)),this.array[e*this.itemSize+2]=r,this}getW(e){let r=this.array[e*this.itemSize+3];return this.normalized&&(r=denormalize(r,this.array)),r}setW(e,r){return this.normalized&&(r=normalize$1(r,this.array)),this.array[e*this.itemSize+3]=r,this}setXY(e,r,n){return e*=this.itemSize,this.normalized&&(r=normalize$1(r,this.array),n=normalize$1(n,this.array)),this.array[e+0]=r,this.array[e+1]=n,this}setXYZ(e,r,n,o){return e*=this.itemSize,this.normalized&&(r=normalize$1(r,this.array),n=normalize$1(n,this.array),o=normalize$1(o,this.array)),this.array[e+0]=r,this.array[e+1]=n,this.array[e+2]=o,this}setXYZW(e,r,n,o,s){return e*=this.itemSize,this.normalized&&(r=normalize$1(r,this.array),n=normalize$1(n,this.array),o=normalize$1(o,this.array),s=normalize$1(s,this.array)),this.array[e+0]=r,this.array[e+1]=n,this.array[e+2]=o,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==StaticDrawUsage&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class Uint16BufferAttribute extends BufferAttribute{constructor(e,r,n){super(new Uint16Array(e),r,n)}}class Uint32BufferAttribute extends BufferAttribute{constructor(e,r,n){super(new Uint32Array(e),r,n)}}class Float32BufferAttribute extends BufferAttribute{constructor(e,r,n){super(new Float32Array(e),r,n)}}let _id$1=0;const _m1=new Matrix4,_obj=new Object3D,_offset=new Vector3,_box$1=new Box3,_boxMorphTargets=new Box3,_vector$7=new Vector3;class BufferGeometry extends EventDispatcher{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_id$1++}),this.uuid=generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(arrayNeedsUint32(e)?Uint32BufferAttribute:Uint16BufferAttribute)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,r){return this.attributes[e]=r,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,r,n=0){this.groups.push({start:e,count:r,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,r){this.drawRange.start=e,this.drawRange.count=r}applyMatrix4(e){const r=this.attributes.position;r!==void 0&&(r.applyMatrix4(e),r.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const s=new Matrix3().getNormalMatrix(e);n.applyNormalMatrix(s),n.needsUpdate=!0}const o=this.attributes.tangent;return o!==void 0&&(o.transformDirection(e),o.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return _m1.makeRotationFromQuaternion(e),this.applyMatrix4(_m1),this}rotateX(e){return _m1.makeRotationX(e),this.applyMatrix4(_m1),this}rotateY(e){return _m1.makeRotationY(e),this.applyMatrix4(_m1),this}rotateZ(e){return _m1.makeRotationZ(e),this.applyMatrix4(_m1),this}translate(e,r,n){return _m1.makeTranslation(e,r,n),this.applyMatrix4(_m1),this}scale(e,r,n){return _m1.makeScale(e,r,n),this.applyMatrix4(_m1),this}lookAt(e){return _obj.lookAt(e),_obj.updateMatrix(),this.applyMatrix4(_obj.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset).negate(),this.translate(_offset.x,_offset.y,_offset.z),this}setFromPoints(e){const r=[];for(let n=0,o=e.length;n<o;n++){const s=e[n];r.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Float32BufferAttribute(r,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const e=this.attributes.position,r=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Vector3(-1/0,-1/0,-1/0),new Vector3(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),r)for(let n=0,o=r.length;n<o;n++){const s=r[n];_box$1.setFromBufferAttribute(s),this.morphTargetsRelative?(_vector$7.addVectors(this.boundingBox.min,_box$1.min),this.boundingBox.expandByPoint(_vector$7),_vector$7.addVectors(this.boundingBox.max,_box$1.max),this.boundingBox.expandByPoint(_vector$7)):(this.boundingBox.expandByPoint(_box$1.min),this.boundingBox.expandByPoint(_box$1.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const e=this.attributes.position,r=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Vector3,1/0);return}if(e){const n=this.boundingSphere.center;if(_box$1.setFromBufferAttribute(e),r)for(let s=0,c=r.length;s<c;s++){const d=r[s];_boxMorphTargets.setFromBufferAttribute(d),this.morphTargetsRelative?(_vector$7.addVectors(_box$1.min,_boxMorphTargets.min),_box$1.expandByPoint(_vector$7),_vector$7.addVectors(_box$1.max,_boxMorphTargets.max),_box$1.expandByPoint(_vector$7)):(_box$1.expandByPoint(_boxMorphTargets.min),_box$1.expandByPoint(_boxMorphTargets.max))}_box$1.getCenter(n);let o=0;for(let s=0,c=e.count;s<c;s++)_vector$7.fromBufferAttribute(e,s),o=Math.max(o,n.distanceToSquared(_vector$7));if(r)for(let s=0,c=r.length;s<c;s++){const d=r[s],u=this.morphTargetsRelative;for(let m=0,_=d.count;m<_;m++)_vector$7.fromBufferAttribute(d,m),u&&(_offset.fromBufferAttribute(e,m),_vector$7.add(_offset)),o=Math.max(o,n.distanceToSquared(_vector$7))}this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,r=this.attributes;if(e===null||r.position===void 0||r.normal===void 0||r.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=e.array,o=r.position.array,s=r.normal.array,c=r.uv.array,d=o.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new BufferAttribute(new Float32Array(4*d),4));const u=this.getAttribute("tangent").array,m=[],_=[];for(let W=0;W<d;W++)m[W]=new Vector3,_[W]=new Vector3;const g=new Vector3,f=new Vector3,y=new Vector3,M=new Vector2,T=new Vector2,A=new Vector2,E=new Vector3,C=new Vector3;function k(W,ne,re){g.fromArray(o,W*3),f.fromArray(o,ne*3),y.fromArray(o,re*3),M.fromArray(c,W*2),T.fromArray(c,ne*2),A.fromArray(c,re*2),f.sub(g),y.sub(g),T.sub(M),A.sub(M);const le=1/(T.x*A.y-A.x*T.y);isFinite(le)&&(E.copy(f).multiplyScalar(A.y).addScaledVector(y,-T.y).multiplyScalar(le),C.copy(y).multiplyScalar(T.x).addScaledVector(f,-A.x).multiplyScalar(le),m[W].add(E),m[ne].add(E),m[re].add(E),_[W].add(C),_[ne].add(C),_[re].add(C))}let O=this.groups;O.length===0&&(O=[{start:0,count:n.length}]);for(let W=0,ne=O.length;W<ne;++W){const re=O[W],le=re.start,ae=re.count;for(let pe=le,K=le+ae;pe<K;pe+=3)k(n[pe+0],n[pe+1],n[pe+2])}const I=new Vector3,B=new Vector3,j=new Vector3,U=new Vector3;function N(W){j.fromArray(s,W*3),U.copy(j);const ne=m[W];I.copy(ne),I.sub(j.multiplyScalar(j.dot(ne))).normalize(),B.crossVectors(U,ne);const re=B.dot(_[W])<0?-1:1;u[W*4]=I.x,u[W*4+1]=I.y,u[W*4+2]=I.z,u[W*4+3]=re}for(let W=0,ne=O.length;W<ne;++W){const re=O[W],le=re.start,ae=re.count;for(let pe=le,K=le+ae;pe<K;pe+=3)N(n[pe+0]),N(n[pe+1]),N(n[pe+2])}}computeVertexNormals(){const e=this.index,r=this.getAttribute("position");if(r!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new BufferAttribute(new Float32Array(r.count*3),3),this.setAttribute("normal",n);else for(let f=0,y=n.count;f<y;f++)n.setXYZ(f,0,0,0);const o=new Vector3,s=new Vector3,c=new Vector3,d=new Vector3,u=new Vector3,m=new Vector3,_=new Vector3,g=new Vector3;if(e)for(let f=0,y=e.count;f<y;f+=3){const M=e.getX(f+0),T=e.getX(f+1),A=e.getX(f+2);o.fromBufferAttribute(r,M),s.fromBufferAttribute(r,T),c.fromBufferAttribute(r,A),_.subVectors(c,s),g.subVectors(o,s),_.cross(g),d.fromBufferAttribute(n,M),u.fromBufferAttribute(n,T),m.fromBufferAttribute(n,A),d.add(_),u.add(_),m.add(_),n.setXYZ(M,d.x,d.y,d.z),n.setXYZ(T,u.x,u.y,u.z),n.setXYZ(A,m.x,m.y,m.z)}else for(let f=0,y=r.count;f<y;f+=3)o.fromBufferAttribute(r,f+0),s.fromBufferAttribute(r,f+1),c.fromBufferAttribute(r,f+2),_.subVectors(c,s),g.subVectors(o,s),_.cross(g),n.setXYZ(f+0,_.x,_.y,_.z),n.setXYZ(f+1,_.x,_.y,_.z),n.setXYZ(f+2,_.x,_.y,_.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let r=0,n=e.count;r<n;r++)_vector$7.fromBufferAttribute(e,r),_vector$7.normalize(),e.setXYZ(r,_vector$7.x,_vector$7.y,_vector$7.z)}toNonIndexed(){function e(d,u){const m=d.array,_=d.itemSize,g=d.normalized,f=new m.constructor(u.length*_);let y=0,M=0;for(let T=0,A=u.length;T<A;T++){d.isInterleavedBufferAttribute?y=u[T]*d.data.stride+d.offset:y=u[T]*_;for(let E=0;E<_;E++)f[M++]=m[y++]}return new BufferAttribute(f,_,g)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const r=new BufferGeometry,n=this.index.array,o=this.attributes;for(const d in o){const u=o[d],m=e(u,n);r.setAttribute(d,m)}const s=this.morphAttributes;for(const d in s){const u=[],m=s[d];for(let _=0,g=m.length;_<g;_++){const f=m[_],y=e(f,n);u.push(y)}r.morphAttributes[d]=u}r.morphTargetsRelative=this.morphTargetsRelative;const c=this.groups;for(let d=0,u=c.length;d<u;d++){const m=c[d];r.addGroup(m.start,m.count,m.materialIndex)}return r}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const m in u)u[m]!==void 0&&(e[m]=u[m]);return e}e.data={attributes:{}};const r=this.index;r!==null&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});const n=this.attributes;for(const u in n){const m=n[u];e.data.attributes[u]=m.toJSON(e.data)}const o={};let s=!1;for(const u in this.morphAttributes){const m=this.morphAttributes[u],_=[];for(let g=0,f=m.length;g<f;g++){const y=m[g];_.push(y.toJSON(e.data))}_.length>0&&(o[u]=_,s=!0)}s&&(e.data.morphAttributes=o,e.data.morphTargetsRelative=this.morphTargetsRelative);const c=this.groups;c.length>0&&(e.data.groups=JSON.parse(JSON.stringify(c)));const d=this.boundingSphere;return d!==null&&(e.data.boundingSphere={center:d.center.toArray(),radius:d.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const r={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(r));const o=e.attributes;for(const m in o){const _=o[m];this.setAttribute(m,_.clone(r))}const s=e.morphAttributes;for(const m in s){const _=[],g=s[m];for(let f=0,y=g.length;f<y;f++)_.push(g[f].clone(r));this.morphAttributes[m]=_}this.morphTargetsRelative=e.morphTargetsRelative;const c=e.groups;for(let m=0,_=c.length;m<_;m++){const g=c[m];this.addGroup(g.start,g.count,g.materialIndex)}const d=e.boundingBox;d!==null&&(this.boundingBox=d.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const _inverseMatrix$2=new Matrix4,_ray$2=new Ray,_sphere$4=new Sphere,_sphereHitAt=new Vector3,_vA$1=new Vector3,_vB$1=new Vector3,_vC$1=new Vector3,_tempA=new Vector3,_morphA=new Vector3,_uvA$1=new Vector2,_uvB$1=new Vector2,_uvC$1=new Vector2,_normalA=new Vector3,_normalB=new Vector3,_normalC=new Vector3,_intersectionPoint=new Vector3,_intersectionPointWorld=new Vector3;class Mesh extends Object3D{constructor(e=new BufferGeometry,r=new MeshBasicMaterial){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=r,this.updateMorphTargets()}copy(e,r){return super.copy(e,r),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,r=Object.keys(e);if(r.length>0){const n=e[r[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=n.length;o<s;o++){const c=n[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=o}}}}getVertexPosition(e,r){const n=this.geometry,o=n.attributes.position,s=n.morphAttributes.position,c=n.morphTargetsRelative;r.fromBufferAttribute(o,e);const d=this.morphTargetInfluences;if(s&&d){_morphA.set(0,0,0);for(let u=0,m=s.length;u<m;u++){const _=d[u],g=s[u];_!==0&&(_tempA.fromBufferAttribute(g,e),c?_morphA.addScaledVector(_tempA,_):_morphA.addScaledVector(_tempA.sub(r),_))}r.add(_morphA)}return r}raycast(e,r){const n=this.geometry,o=this.material,s=this.matrixWorld;o!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),_sphere$4.copy(n.boundingSphere),_sphere$4.applyMatrix4(s),_ray$2.copy(e.ray).recast(e.near),!(_sphere$4.containsPoint(_ray$2.origin)===!1&&(_ray$2.intersectSphere(_sphere$4,_sphereHitAt)===null||_ray$2.origin.distanceToSquared(_sphereHitAt)>(e.far-e.near)**2))&&(_inverseMatrix$2.copy(s).invert(),_ray$2.copy(e.ray).applyMatrix4(_inverseMatrix$2),!(n.boundingBox!==null&&_ray$2.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,r)))}_computeIntersections(e,r){let n;const o=this.geometry,s=this.material,c=o.index,d=o.attributes.position,u=o.attributes.uv,m=o.attributes.uv1,_=o.attributes.normal,g=o.groups,f=o.drawRange;if(c!==null)if(Array.isArray(s))for(let y=0,M=g.length;y<M;y++){const T=g[y],A=s[T.materialIndex],E=Math.max(T.start,f.start),C=Math.min(c.count,Math.min(T.start+T.count,f.start+f.count));for(let k=E,O=C;k<O;k+=3){const I=c.getX(k),B=c.getX(k+1),j=c.getX(k+2);n=checkGeometryIntersection(this,A,e,_ray$2,u,m,_,I,B,j),n&&(n.faceIndex=Math.floor(k/3),n.face.materialIndex=T.materialIndex,r.push(n))}}else{const y=Math.max(0,f.start),M=Math.min(c.count,f.start+f.count);for(let T=y,A=M;T<A;T+=3){const E=c.getX(T),C=c.getX(T+1),k=c.getX(T+2);n=checkGeometryIntersection(this,s,e,_ray$2,u,m,_,E,C,k),n&&(n.faceIndex=Math.floor(T/3),r.push(n))}}else if(d!==void 0)if(Array.isArray(s))for(let y=0,M=g.length;y<M;y++){const T=g[y],A=s[T.materialIndex],E=Math.max(T.start,f.start),C=Math.min(d.count,Math.min(T.start+T.count,f.start+f.count));for(let k=E,O=C;k<O;k+=3){const I=k,B=k+1,j=k+2;n=checkGeometryIntersection(this,A,e,_ray$2,u,m,_,I,B,j),n&&(n.faceIndex=Math.floor(k/3),n.face.materialIndex=T.materialIndex,r.push(n))}}else{const y=Math.max(0,f.start),M=Math.min(d.count,f.start+f.count);for(let T=y,A=M;T<A;T+=3){const E=T,C=T+1,k=T+2;n=checkGeometryIntersection(this,s,e,_ray$2,u,m,_,E,C,k),n&&(n.faceIndex=Math.floor(T/3),r.push(n))}}}}function checkIntersection(t,e,r,n,o,s,c,d){let u;if(e.side===BackSide?u=n.intersectTriangle(c,s,o,!0,d):u=n.intersectTriangle(o,s,c,e.side===FrontSide,d),u===null)return null;_intersectionPointWorld.copy(d),_intersectionPointWorld.applyMatrix4(t.matrixWorld);const m=r.ray.origin.distanceTo(_intersectionPointWorld);return m<r.near||m>r.far?null:{distance:m,point:_intersectionPointWorld.clone(),object:t}}function checkGeometryIntersection(t,e,r,n,o,s,c,d,u,m){t.getVertexPosition(d,_vA$1),t.getVertexPosition(u,_vB$1),t.getVertexPosition(m,_vC$1);const _=checkIntersection(t,e,r,n,_vA$1,_vB$1,_vC$1,_intersectionPoint);if(_){o&&(_uvA$1.fromBufferAttribute(o,d),_uvB$1.fromBufferAttribute(o,u),_uvC$1.fromBufferAttribute(o,m),_.uv=Triangle.getInterpolation(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2)),s&&(_uvA$1.fromBufferAttribute(s,d),_uvB$1.fromBufferAttribute(s,u),_uvC$1.fromBufferAttribute(s,m),_.uv1=Triangle.getInterpolation(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2),_.uv2=_.uv1),c&&(_normalA.fromBufferAttribute(c,d),_normalB.fromBufferAttribute(c,u),_normalC.fromBufferAttribute(c,m),_.normal=Triangle.getInterpolation(_intersectionPoint,_vA$1,_vB$1,_vC$1,_normalA,_normalB,_normalC,new Vector3),_.normal.dot(n.direction)>0&&_.normal.multiplyScalar(-1));const g={a:d,b:u,c:m,normal:new Vector3,materialIndex:0};Triangle.getNormal(_vA$1,_vB$1,_vC$1,g.normal),_.face=g}return _}class BoxGeometry extends BufferGeometry{constructor(e=1,r=1,n=1,o=1,s=1,c=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:r,depth:n,widthSegments:o,heightSegments:s,depthSegments:c};const d=this;o=Math.floor(o),s=Math.floor(s),c=Math.floor(c);const u=[],m=[],_=[],g=[];let f=0,y=0;M("z","y","x",-1,-1,n,r,e,c,s,0),M("z","y","x",1,-1,n,r,-e,c,s,1),M("x","z","y",1,1,e,n,r,o,c,2),M("x","z","y",1,-1,e,n,-r,o,c,3),M("x","y","z",1,-1,e,r,n,o,s,4),M("x","y","z",-1,-1,e,r,-n,o,s,5),this.setIndex(u),this.setAttribute("position",new Float32BufferAttribute(m,3)),this.setAttribute("normal",new Float32BufferAttribute(_,3)),this.setAttribute("uv",new Float32BufferAttribute(g,2));function M(T,A,E,C,k,O,I,B,j,U,N){const W=O/j,ne=I/U,re=O/2,le=I/2,ae=B/2,pe=j+1,K=U+1;let q=0,D=0;const z=new Vector3;for(let J=0;J<K;J++){const ie=J*ne-le;for(let fe=0;fe<pe;fe++){const ee=fe*W-re;z[T]=ee*C,z[A]=ie*k,z[E]=ae,m.push(z.x,z.y,z.z),z[T]=0,z[A]=0,z[E]=B>0?1:-1,_.push(z.x,z.y,z.z),g.push(fe/j),g.push(1-J/U),q+=1}}for(let J=0;J<U;J++)for(let ie=0;ie<j;ie++){const fe=f+ie+pe*J,ee=f+ie+pe*(J+1),Z=f+(ie+1)+pe*(J+1),te=f+(ie+1)+pe*J;u.push(fe,ee,te),u.push(ee,Z,te),D+=6}d.addGroup(y,D,N),y+=D,f+=q}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new BoxGeometry(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function cloneUniforms(t){const e={};for(const r in t){e[r]={};for(const n in t[r]){const o=t[r][n];o&&(o.isColor||o.isMatrix3||o.isMatrix4||o.isVector2||o.isVector3||o.isVector4||o.isTexture||o.isQuaternion)?o.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[r][n]=null):e[r][n]=o.clone():Array.isArray(o)?e[r][n]=o.slice():e[r][n]=o}}return e}function mergeUniforms(t){const e={};for(let r=0;r<t.length;r++){const n=cloneUniforms(t[r]);for(const o in n)e[o]=n[o]}return e}function cloneUniformsGroups(t){const e=[];for(let r=0;r<t.length;r++)e.push(t[r].clone());return e}function getUnlitUniformColorSpace(t){return t.getRenderTarget()===null?t.outputColorSpace:LinearSRGBColorSpace}const UniformsUtils={clone:cloneUniforms,merge:mergeUniforms};var default_vertex=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,default_fragment=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ShaderMaterial extends Material{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=default_vertex,this.fragmentShader=default_fragment,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=cloneUniforms(e.uniforms),this.uniformsGroups=cloneUniformsGroups(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const r=super.toJSON(e);r.glslVersion=this.glslVersion,r.uniforms={};for(const o in this.uniforms){const s=this.uniforms[o].value;s&&s.isTexture?r.uniforms[o]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?r.uniforms[o]={type:"c",value:s.getHex()}:s&&s.isVector2?r.uniforms[o]={type:"v2",value:s.toArray()}:s&&s.isVector3?r.uniforms[o]={type:"v3",value:s.toArray()}:s&&s.isVector4?r.uniforms[o]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?r.uniforms[o]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?r.uniforms[o]={type:"m4",value:s.toArray()}:r.uniforms[o]={value:s}}Object.keys(this.defines).length>0&&(r.defines=this.defines),r.vertexShader=this.vertexShader,r.fragmentShader=this.fragmentShader,r.lights=this.lights,r.clipping=this.clipping;const n={};for(const o in this.extensions)this.extensions[o]===!0&&(n[o]=!0);return Object.keys(n).length>0&&(r.extensions=n),r}}class Camera extends Object3D{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4}copy(e,r){return super.copy(e,r),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const r=this.matrixWorld.elements;return e.set(-r[8],-r[9],-r[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,r){super.updateWorldMatrix(e,r),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class PerspectiveCamera extends Camera{constructor(e=50,r=1,n=.1,o=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=o,this.focus=10,this.aspect=r,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,r){return super.copy(e,r),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const r=.5*this.getFilmHeight()/e;this.fov=RAD2DEG*2*Math.atan(r),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return RAD2DEG*2*Math.atan(Math.tan(DEG2RAD*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,r,n,o,s,c){this.aspect=e/r,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=r,this.view.offsetX=n,this.view.offsetY=o,this.view.width=s,this.view.height=c,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let r=e*Math.tan(DEG2RAD*.5*this.fov)/this.zoom,n=2*r,o=this.aspect*n,s=-.5*o;const c=this.view;if(this.view!==null&&this.view.enabled){const u=c.fullWidth,m=c.fullHeight;s+=c.offsetX*o/u,r-=c.offsetY*n/m,o*=c.width/u,n*=c.height/m}const d=this.filmOffset;d!==0&&(s+=e*d/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+o,r,r-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const r=super.toJSON(e);return r.object.fov=this.fov,r.object.zoom=this.zoom,r.object.near=this.near,r.object.far=this.far,r.object.focus=this.focus,r.object.aspect=this.aspect,this.view!==null&&(r.object.view=Object.assign({},this.view)),r.object.filmGauge=this.filmGauge,r.object.filmOffset=this.filmOffset,r}}const fov=-90,aspect=1;class CubeCamera extends Object3D{constructor(e,r,n){super(),this.type="CubeCamera",this.renderTarget=n;const o=new PerspectiveCamera(fov,aspect,e,r);o.layers=this.layers,o.up.set(0,1,0),o.lookAt(1,0,0),this.add(o);const s=new PerspectiveCamera(fov,aspect,e,r);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const c=new PerspectiveCamera(fov,aspect,e,r);c.layers=this.layers,c.up.set(0,0,-1),c.lookAt(0,1,0),this.add(c);const d=new PerspectiveCamera(fov,aspect,e,r);d.layers=this.layers,d.up.set(0,0,1),d.lookAt(0,-1,0),this.add(d);const u=new PerspectiveCamera(fov,aspect,e,r);u.layers=this.layers,u.up.set(0,1,0),u.lookAt(0,0,1),this.add(u);const m=new PerspectiveCamera(fov,aspect,e,r);m.layers=this.layers,m.up.set(0,1,0),m.lookAt(0,0,-1),this.add(m)}update(e,r){this.parent===null&&this.updateMatrixWorld();const n=this.renderTarget,[o,s,c,d,u,m]=this.children,_=e.getRenderTarget(),g=e.toneMapping,f=e.xr.enabled;e.toneMapping=NoToneMapping,e.xr.enabled=!1;const y=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(r,o),e.setRenderTarget(n,1),e.render(r,s),e.setRenderTarget(n,2),e.render(r,c),e.setRenderTarget(n,3),e.render(r,d),e.setRenderTarget(n,4),e.render(r,u),n.texture.generateMipmaps=y,e.setRenderTarget(n,5),e.render(r,m),e.setRenderTarget(_),e.toneMapping=g,e.xr.enabled=f,n.texture.needsPMREMUpdate=!0}}class CubeTexture extends Texture{constructor(e,r,n,o,s,c,d,u,m,_){e=e!==void 0?e:[],r=r!==void 0?r:CubeReflectionMapping,super(e,r,n,o,s,c,d,u,m,_),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class WebGLCubeRenderTarget extends WebGLRenderTarget{constructor(e=1,r={}){super(e,e,r),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},o=[n,n,n,n,n,n];r.encoding!==void 0&&(warnOnce("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===sRGBEncoding?SRGBColorSpace:NoColorSpace),this.texture=new CubeTexture(o,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:LinearFilter}fromEquirectangularTexture(e,r){this.texture.type=r.type,this.texture.colorSpace=r.colorSpace,this.texture.generateMipmaps=r.generateMipmaps,this.texture.minFilter=r.minFilter,this.texture.magFilter=r.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},o=new BoxGeometry(5,5,5),s=new ShaderMaterial({name:"CubemapFromEquirect",uniforms:cloneUniforms(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:BackSide,blending:NoBlending});s.uniforms.tEquirect.value=r;const c=new Mesh(o,s),d=r.minFilter;return r.minFilter===LinearMipmapLinearFilter&&(r.minFilter=LinearFilter),new CubeCamera(1,10,this).update(e,c),r.minFilter=d,c.geometry.dispose(),c.material.dispose(),this}clear(e,r,n,o){const s=e.getRenderTarget();for(let c=0;c<6;c++)e.setRenderTarget(this,c),e.clear(r,n,o);e.setRenderTarget(s)}}const _vector1=new Vector3,_vector2=new Vector3,_normalMatrix=new Matrix3;class Plane{constructor(e=new Vector3(1,0,0),r=0){this.isPlane=!0,this.normal=e,this.constant=r}set(e,r){return this.normal.copy(e),this.constant=r,this}setComponents(e,r,n,o){return this.normal.set(e,r,n),this.constant=o,this}setFromNormalAndCoplanarPoint(e,r){return this.normal.copy(e),this.constant=-r.dot(this.normal),this}setFromCoplanarPoints(e,r,n){const o=_vector1.subVectors(n,r).cross(_vector2.subVectors(e,r)).normalize();return this.setFromNormalAndCoplanarPoint(o,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,r){return r.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,r){const n=e.delta(_vector1),o=this.normal.dot(n);if(o===0)return this.distanceToPoint(e.start)===0?r.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/o;return s<0||s>1?null:r.copy(e.start).addScaledVector(n,s)}intersectsLine(e){const r=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return r<0&&n>0||n<0&&r>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,r){const n=r||_normalMatrix.getNormalMatrix(e),o=this.coplanarPoint(_vector1).applyMatrix4(e),s=this.normal.applyMatrix3(n).normalize();return this.constant=-o.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const _sphere$3=new Sphere,_vector$6=new Vector3;class Frustum{constructor(e=new Plane,r=new Plane,n=new Plane,o=new Plane,s=new Plane,c=new Plane){this.planes=[e,r,n,o,s,c]}set(e,r,n,o,s,c){const d=this.planes;return d[0].copy(e),d[1].copy(r),d[2].copy(n),d[3].copy(o),d[4].copy(s),d[5].copy(c),this}copy(e){const r=this.planes;for(let n=0;n<6;n++)r[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){const r=this.planes,n=e.elements,o=n[0],s=n[1],c=n[2],d=n[3],u=n[4],m=n[5],_=n[6],g=n[7],f=n[8],y=n[9],M=n[10],T=n[11],A=n[12],E=n[13],C=n[14],k=n[15];return r[0].setComponents(d-o,g-u,T-f,k-A).normalize(),r[1].setComponents(d+o,g+u,T+f,k+A).normalize(),r[2].setComponents(d+s,g+m,T+y,k+E).normalize(),r[3].setComponents(d-s,g-m,T-y,k-E).normalize(),r[4].setComponents(d-c,g-_,T-M,k-C).normalize(),r[5].setComponents(d+c,g+_,T+M,k+C).normalize(),this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),_sphere$3.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const r=e.geometry;r.boundingSphere===null&&r.computeBoundingSphere(),_sphere$3.copy(r.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(_sphere$3)}intersectsSprite(e){return _sphere$3.center.set(0,0,0),_sphere$3.radius=.7071067811865476,_sphere$3.applyMatrix4(e.matrixWorld),this.intersectsSphere(_sphere$3)}intersectsSphere(e){const r=this.planes,n=e.center,o=-e.radius;for(let s=0;s<6;s++)if(r[s].distanceToPoint(n)<o)return!1;return!0}intersectsBox(e){const r=this.planes;for(let n=0;n<6;n++){const o=r[n];if(_vector$6.x=o.normal.x>0?e.max.x:e.min.x,_vector$6.y=o.normal.y>0?e.max.y:e.min.y,_vector$6.z=o.normal.z>0?e.max.z:e.min.z,o.distanceToPoint(_vector$6)<0)return!1}return!0}containsPoint(e){const r=this.planes;for(let n=0;n<6;n++)if(r[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function WebGLAnimation(){let t=null,e=!1,r=null,n=null;function o(s,c){r(s,c),n=t.requestAnimationFrame(o)}return{start:function(){e!==!0&&r!==null&&(n=t.requestAnimationFrame(o),e=!0)},stop:function(){t.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(s){r=s},setContext:function(s){t=s}}}function WebGLAttributes(t,e){const r=e.isWebGL2,n=new WeakMap;function o(m,_){const g=m.array,f=m.usage,y=t.createBuffer();t.bindBuffer(_,y),t.bufferData(_,g,f),m.onUploadCallback();let M;if(g instanceof Float32Array)M=t.FLOAT;else if(g instanceof Uint16Array)if(m.isFloat16BufferAttribute)if(r)M=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else M=t.UNSIGNED_SHORT;else if(g instanceof Int16Array)M=t.SHORT;else if(g instanceof Uint32Array)M=t.UNSIGNED_INT;else if(g instanceof Int32Array)M=t.INT;else if(g instanceof Int8Array)M=t.BYTE;else if(g instanceof Uint8Array)M=t.UNSIGNED_BYTE;else if(g instanceof Uint8ClampedArray)M=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+g);return{buffer:y,type:M,bytesPerElement:g.BYTES_PER_ELEMENT,version:m.version}}function s(m,_,g){const f=_.array,y=_.updateRange;t.bindBuffer(g,m),y.count===-1?t.bufferSubData(g,0,f):(r?t.bufferSubData(g,y.offset*f.BYTES_PER_ELEMENT,f,y.offset,y.count):t.bufferSubData(g,y.offset*f.BYTES_PER_ELEMENT,f.subarray(y.offset,y.offset+y.count)),y.count=-1),_.onUploadCallback()}function c(m){return m.isInterleavedBufferAttribute&&(m=m.data),n.get(m)}function d(m){m.isInterleavedBufferAttribute&&(m=m.data);const _=n.get(m);_&&(t.deleteBuffer(_.buffer),n.delete(m))}function u(m,_){if(m.isGLBufferAttribute){const f=n.get(m);(!f||f.version<m.version)&&n.set(m,{buffer:m.buffer,type:m.type,bytesPerElement:m.elementSize,version:m.version});return}m.isInterleavedBufferAttribute&&(m=m.data);const g=n.get(m);g===void 0?n.set(m,o(m,_)):g.version<m.version&&(s(g.buffer,m,_),g.version=m.version)}return{get:c,remove:d,update:u}}class PlaneGeometry extends BufferGeometry{constructor(e=1,r=1,n=1,o=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:r,widthSegments:n,heightSegments:o};const s=e/2,c=r/2,d=Math.floor(n),u=Math.floor(o),m=d+1,_=u+1,g=e/d,f=r/u,y=[],M=[],T=[],A=[];for(let E=0;E<_;E++){const C=E*f-c;for(let k=0;k<m;k++){const O=k*g-s;M.push(O,-C,0),T.push(0,0,1),A.push(k/d),A.push(1-E/u)}}for(let E=0;E<u;E++)for(let C=0;C<d;C++){const k=C+m*E,O=C+m*(E+1),I=C+1+m*(E+1),B=C+1+m*E;y.push(k,O,B),y.push(O,I,B)}this.setIndex(y),this.setAttribute("position",new Float32BufferAttribute(M,3)),this.setAttribute("normal",new Float32BufferAttribute(T,3)),this.setAttribute("uv",new Float32BufferAttribute(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new PlaneGeometry(e.width,e.height,e.widthSegments,e.heightSegments)}}var alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,alphatest_pars_fragment=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,begin_vertex="vec3 transformed = vec3( position );",beginnormal_vertex=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,iridescence_fragment=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,clipping_planes_pars_fragment=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,color_pars_vertex=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,common=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,encodings_fragment="gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,envmap_fragment=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_vertex=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fog_pars_vertex=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fog_fragment=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lightmap_fragment=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_fragment=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,lights_lambert_pars_fragment=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,lights_pars_begin=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,envmap_physical_pars_fragment=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,lights_toon_fragment=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,lights_physical_fragment=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif`,lights_physical_pars_fragment=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lights_fragment_end=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,logdepthbuf_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,logdepthbuf_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,map_fragment=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphcolor_vertex=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,normal_fragment_begin=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#ifdef USE_NORMALMAP_TANGENTSPACE
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,normal_fragment_maps=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,normal_pars_fragment=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_pars_vertex=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_vertex=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,clearcoat_normal_fragment_begin=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,clearcoat_normal_fragment_maps=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,clearcoat_pars_fragment=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,iridescence_pars_fragment=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,output_fragment=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,packing=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,shadowmap_pars_vertex=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmission_fragment=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,transmission_pars_fragment=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,uv_pars_fragment=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_pars_vertex=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_vertex=`#ifdef USE_UV
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vertex$h=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fragment$h=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$g=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$g=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$f=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$f=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$e=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fragment$e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,vertex$d=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fragment$d=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vertex$c=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragment$c=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$b=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$b=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$a=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fragment$a=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$9=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$9=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fragment$8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fragment$7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vertex$6=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$6=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$5=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fragment$5=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$4=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$3=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fragment$3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$2=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$2=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,vertex$1=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,ShaderChunk={alphamap_fragment,alphamap_pars_fragment,alphatest_fragment,alphatest_pars_fragment,aomap_fragment,aomap_pars_fragment,begin_vertex,beginnormal_vertex,bsdfs,iridescence_fragment,bumpmap_pars_fragment,clipping_planes_fragment,clipping_planes_pars_fragment,clipping_planes_pars_vertex,clipping_planes_vertex,color_fragment,color_pars_fragment,color_pars_vertex,color_vertex,common,cube_uv_reflection_fragment,defaultnormal_vertex,displacementmap_pars_vertex,displacementmap_vertex,emissivemap_fragment,emissivemap_pars_fragment,encodings_fragment,encodings_pars_fragment,envmap_fragment,envmap_common_pars_fragment,envmap_pars_fragment,envmap_pars_vertex,envmap_physical_pars_fragment,envmap_vertex,fog_vertex,fog_pars_vertex,fog_fragment,fog_pars_fragment,gradientmap_pars_fragment,lightmap_fragment,lightmap_pars_fragment,lights_lambert_fragment,lights_lambert_pars_fragment,lights_pars_begin,lights_toon_fragment,lights_toon_pars_fragment,lights_phong_fragment,lights_phong_pars_fragment,lights_physical_fragment,lights_physical_pars_fragment,lights_fragment_begin,lights_fragment_maps,lights_fragment_end,logdepthbuf_fragment,logdepthbuf_pars_fragment,logdepthbuf_pars_vertex,logdepthbuf_vertex,map_fragment,map_pars_fragment,map_particle_fragment,map_particle_pars_fragment,metalnessmap_fragment,metalnessmap_pars_fragment,morphcolor_vertex,morphnormal_vertex,morphtarget_pars_vertex,morphtarget_vertex,normal_fragment_begin,normal_fragment_maps,normal_pars_fragment,normal_pars_vertex,normal_vertex,normalmap_pars_fragment,clearcoat_normal_fragment_begin,clearcoat_normal_fragment_maps,clearcoat_pars_fragment,iridescence_pars_fragment,output_fragment,packing,premultiplied_alpha_fragment,project_vertex,dithering_fragment,dithering_pars_fragment,roughnessmap_fragment,roughnessmap_pars_fragment,shadowmap_pars_fragment,shadowmap_pars_vertex,shadowmap_vertex,shadowmask_pars_fragment,skinbase_vertex,skinning_pars_vertex,skinning_vertex,skinnormal_vertex,specularmap_fragment,specularmap_pars_fragment,tonemapping_fragment,tonemapping_pars_fragment,transmission_fragment,transmission_pars_fragment,uv_pars_fragment,uv_pars_vertex,uv_vertex,worldpos_vertex,background_vert:vertex$h,background_frag:fragment$h,backgroundCube_vert:vertex$g,backgroundCube_frag:fragment$g,cube_vert:vertex$f,cube_frag:fragment$f,depth_vert:vertex$e,depth_frag:fragment$e,distanceRGBA_vert:vertex$d,distanceRGBA_frag:fragment$d,equirect_vert:vertex$c,equirect_frag:fragment$c,linedashed_vert:vertex$b,linedashed_frag:fragment$b,meshbasic_vert:vertex$a,meshbasic_frag:fragment$a,meshlambert_vert:vertex$9,meshlambert_frag:fragment$9,meshmatcap_vert:vertex$8,meshmatcap_frag:fragment$8,meshnormal_vert:vertex$7,meshnormal_frag:fragment$7,meshphong_vert:vertex$6,meshphong_frag:fragment$6,meshphysical_vert:vertex$5,meshphysical_frag:fragment$5,meshtoon_vert:vertex$4,meshtoon_frag:fragment$4,points_vert:vertex$3,points_frag:fragment$3,shadow_vert:vertex$2,shadow_frag:fragment$2,sprite_vert:vertex$1,sprite_frag:fragment$1},UniformsLib={common:{diffuse:{value:new Color(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Matrix3}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Matrix3}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Matrix3}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Matrix3},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Matrix3},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Matrix3},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Matrix3}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Matrix3}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Matrix3}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Matrix3}},sprite:{diffuse:{value:new Color(16777215)},opacity:{value:1},center:{value:new Vector2(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaTest:{value:0}}},ShaderLib={basic:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},specular:{value:new Color(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},toon:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshtoon_vert,fragmentShader:ShaderChunk.meshtoon_frag},matcap:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk.meshmatcap_vert,fragmentShader:ShaderChunk.meshmatcap_frag},points:{uniforms:mergeUniforms([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.meshnormal_vert,fragmentShader:ShaderChunk.meshnormal_frag},sprite:{uniforms:mergeUniforms([UniformsLib.sprite,UniformsLib.fog]),vertexShader:ShaderChunk.sprite_vert,fragmentShader:ShaderChunk.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.background_vert,fragmentShader:ShaderChunk.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.backgroundCube_vert,fragmentShader:ShaderChunk.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:mergeUniforms([UniformsLib.lights,UniformsLib.fog,{color:{value:new Color(0)},opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};ShaderLib.physical={uniforms:mergeUniforms([ShaderLib.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Matrix3},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Matrix3},clearcoatNormalScale:{value:new Vector2(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Matrix3},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Matrix3},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Matrix3},sheen:{value:0},sheenColor:{value:new Color(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Matrix3},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Matrix3},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Matrix3},transmissionSamplerSize:{value:new Vector2},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Matrix3},attenuationDistance:{value:0},attenuationColor:{value:new Color(0)},specularColor:{value:new Color(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Matrix3},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Matrix3}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};const _rgb={r:0,b:0,g:0};function WebGLBackground(t,e,r,n,o,s,c){const d=new Color(0);let u=s===!0?0:1,m,_,g=null,f=0,y=null;function M(A,E){let C=!1,k=E.isScene===!0?E.background:null;switch(k&&k.isTexture&&(k=(E.backgroundBlurriness>0?r:e).get(k)),k===null?T(d,u):k&&k.isColor&&(T(k,1),C=!0),t.xr.getEnvironmentBlendMode()){case"opaque":C=!0;break;case"additive":n.buffers.color.setClear(0,0,0,1,c),C=!0;break;case"alpha-blend":n.buffers.color.setClear(0,0,0,0,c),C=!0;break}(t.autoClear||C)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),k&&(k.isCubeTexture||k.mapping===CubeUVReflectionMapping)?(_===void 0&&(_=new Mesh(new BoxGeometry(1,1,1),new ShaderMaterial({name:"BackgroundCubeMaterial",uniforms:cloneUniforms(ShaderLib.backgroundCube.uniforms),vertexShader:ShaderLib.backgroundCube.vertexShader,fragmentShader:ShaderLib.backgroundCube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1})),_.geometry.deleteAttribute("normal"),_.geometry.deleteAttribute("uv"),_.onBeforeRender=function(O,I,B){this.matrixWorld.copyPosition(B.matrixWorld)},Object.defineProperty(_.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),o.update(_)),_.material.uniforms.envMap.value=k,_.material.uniforms.flipEnvMap.value=k.isCubeTexture&&k.isRenderTargetTexture===!1?-1:1,_.material.uniforms.backgroundBlurriness.value=E.backgroundBlurriness,_.material.uniforms.backgroundIntensity.value=E.backgroundIntensity,_.material.toneMapped=k.colorSpace!==SRGBColorSpace,(g!==k||f!==k.version||y!==t.toneMapping)&&(_.material.needsUpdate=!0,g=k,f=k.version,y=t.toneMapping),_.layers.enableAll(),A.unshift(_,_.geometry,_.material,0,0,null)):k&&k.isTexture&&(m===void 0&&(m=new Mesh(new PlaneGeometry(2,2),new ShaderMaterial({name:"BackgroundMaterial",uniforms:cloneUniforms(ShaderLib.background.uniforms),vertexShader:ShaderLib.background.vertexShader,fragmentShader:ShaderLib.background.fragmentShader,side:FrontSide,depthTest:!1,depthWrite:!1,fog:!1})),m.geometry.deleteAttribute("normal"),Object.defineProperty(m.material,"map",{get:function(){return this.uniforms.t2D.value}}),o.update(m)),m.material.uniforms.t2D.value=k,m.material.uniforms.backgroundIntensity.value=E.backgroundIntensity,m.material.toneMapped=k.colorSpace!==SRGBColorSpace,k.matrixAutoUpdate===!0&&k.updateMatrix(),m.material.uniforms.uvTransform.value.copy(k.matrix),(g!==k||f!==k.version||y!==t.toneMapping)&&(m.material.needsUpdate=!0,g=k,f=k.version,y=t.toneMapping),m.layers.enableAll(),A.unshift(m,m.geometry,m.material,0,0,null))}function T(A,E){A.getRGB(_rgb,getUnlitUniformColorSpace(t)),n.buffers.color.setClear(_rgb.r,_rgb.g,_rgb.b,E,c)}return{getClearColor:function(){return d},setClearColor:function(A,E=1){d.set(A),u=E,T(d,u)},getClearAlpha:function(){return u},setClearAlpha:function(A){u=A,T(d,u)},render:M}}function WebGLBindingStates(t,e,r,n){const o=t.getParameter(t.MAX_VERTEX_ATTRIBS),s=n.isWebGL2?null:e.get("OES_vertex_array_object"),c=n.isWebGL2||s!==null,d={},u=A(null);let m=u,_=!1;function g(ae,pe,K,q,D){let z=!1;if(c){const J=T(q,K,pe);m!==J&&(m=J,y(m.object)),z=E(ae,q,K,D),z&&C(ae,q,K,D)}else{const J=pe.wireframe===!0;(m.geometry!==q.id||m.program!==K.id||m.wireframe!==J)&&(m.geometry=q.id,m.program=K.id,m.wireframe=J,z=!0)}D!==null&&r.update(D,t.ELEMENT_ARRAY_BUFFER),(z||_)&&(_=!1,U(ae,pe,K,q),D!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,r.get(D).buffer))}function f(){return n.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function y(ae){return n.isWebGL2?t.bindVertexArray(ae):s.bindVertexArrayOES(ae)}function M(ae){return n.isWebGL2?t.deleteVertexArray(ae):s.deleteVertexArrayOES(ae)}function T(ae,pe,K){const q=K.wireframe===!0;let D=d[ae.id];D===void 0&&(D={},d[ae.id]=D);let z=D[pe.id];z===void 0&&(z={},D[pe.id]=z);let J=z[q];return J===void 0&&(J=A(f()),z[q]=J),J}function A(ae){const pe=[],K=[],q=[];for(let D=0;D<o;D++)pe[D]=0,K[D]=0,q[D]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:pe,enabledAttributes:K,attributeDivisors:q,object:ae,attributes:{},index:null}}function E(ae,pe,K,q){const D=m.attributes,z=pe.attributes;let J=0;const ie=K.getAttributes();for(const fe in ie)if(ie[fe].location>=0){const ee=D[fe];let Z=z[fe];if(Z===void 0&&(fe==="instanceMatrix"&&ae.instanceMatrix&&(Z=ae.instanceMatrix),fe==="instanceColor"&&ae.instanceColor&&(Z=ae.instanceColor)),ee===void 0||ee.attribute!==Z||Z&&ee.data!==Z.data)return!0;J++}return m.attributesNum!==J||m.index!==q}function C(ae,pe,K,q){const D={},z=pe.attributes;let J=0;const ie=K.getAttributes();for(const fe in ie)if(ie[fe].location>=0){let ee=z[fe];ee===void 0&&(fe==="instanceMatrix"&&ae.instanceMatrix&&(ee=ae.instanceMatrix),fe==="instanceColor"&&ae.instanceColor&&(ee=ae.instanceColor));const Z={};Z.attribute=ee,ee&&ee.data&&(Z.data=ee.data),D[fe]=Z,J++}m.attributes=D,m.attributesNum=J,m.index=q}function k(){const ae=m.newAttributes;for(let pe=0,K=ae.length;pe<K;pe++)ae[pe]=0}function O(ae){I(ae,0)}function I(ae,pe){const K=m.newAttributes,q=m.enabledAttributes,D=m.attributeDivisors;K[ae]=1,q[ae]===0&&(t.enableVertexAttribArray(ae),q[ae]=1),D[ae]!==pe&&((n.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](ae,pe),D[ae]=pe)}function B(){const ae=m.newAttributes,pe=m.enabledAttributes;for(let K=0,q=pe.length;K<q;K++)pe[K]!==ae[K]&&(t.disableVertexAttribArray(K),pe[K]=0)}function j(ae,pe,K,q,D,z){n.isWebGL2===!0&&(K===t.INT||K===t.UNSIGNED_INT)?t.vertexAttribIPointer(ae,pe,K,D,z):t.vertexAttribPointer(ae,pe,K,q,D,z)}function U(ae,pe,K,q){if(n.isWebGL2===!1&&(ae.isInstancedMesh||q.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;k();const D=q.attributes,z=K.getAttributes(),J=pe.defaultAttributeValues;for(const ie in z){const fe=z[ie];if(fe.location>=0){let ee=D[ie];if(ee===void 0&&(ie==="instanceMatrix"&&ae.instanceMatrix&&(ee=ae.instanceMatrix),ie==="instanceColor"&&ae.instanceColor&&(ee=ae.instanceColor)),ee!==void 0){const Z=ee.normalized,te=ee.itemSize,de=r.get(ee);if(de===void 0)continue;const Y=de.buffer,we=de.type,Te=de.bytesPerElement;if(ee.isInterleavedBufferAttribute){const Me=ee.data,Ae=Me.stride,ue=ee.offset;if(Me.isInstancedInterleavedBuffer){for(let X=0;X<fe.locationSize;X++)I(fe.location+X,Me.meshPerAttribute);ae.isInstancedMesh!==!0&&q._maxInstanceCount===void 0&&(q._maxInstanceCount=Me.meshPerAttribute*Me.count)}else for(let X=0;X<fe.locationSize;X++)O(fe.location+X);t.bindBuffer(t.ARRAY_BUFFER,Y);for(let X=0;X<fe.locationSize;X++)j(fe.location+X,te/fe.locationSize,we,Z,Ae*Te,(ue+te/fe.locationSize*X)*Te)}else{if(ee.isInstancedBufferAttribute){for(let Me=0;Me<fe.locationSize;Me++)I(fe.location+Me,ee.meshPerAttribute);ae.isInstancedMesh!==!0&&q._maxInstanceCount===void 0&&(q._maxInstanceCount=ee.meshPerAttribute*ee.count)}else for(let Me=0;Me<fe.locationSize;Me++)O(fe.location+Me);t.bindBuffer(t.ARRAY_BUFFER,Y);for(let Me=0;Me<fe.locationSize;Me++)j(fe.location+Me,te/fe.locationSize,we,Z,te*Te,te/fe.locationSize*Me*Te)}}else if(J!==void 0){const Z=J[ie];if(Z!==void 0)switch(Z.length){case 2:t.vertexAttrib2fv(fe.location,Z);break;case 3:t.vertexAttrib3fv(fe.location,Z);break;case 4:t.vertexAttrib4fv(fe.location,Z);break;default:t.vertexAttrib1fv(fe.location,Z)}}}}B()}function N(){re();for(const ae in d){const pe=d[ae];for(const K in pe){const q=pe[K];for(const D in q)M(q[D].object),delete q[D];delete pe[K]}delete d[ae]}}function W(ae){if(d[ae.id]===void 0)return;const pe=d[ae.id];for(const K in pe){const q=pe[K];for(const D in q)M(q[D].object),delete q[D];delete pe[K]}delete d[ae.id]}function ne(ae){for(const pe in d){const K=d[pe];if(K[ae.id]===void 0)continue;const q=K[ae.id];for(const D in q)M(q[D].object),delete q[D];delete K[ae.id]}}function re(){le(),_=!0,m!==u&&(m=u,y(m.object))}function le(){u.geometry=null,u.program=null,u.wireframe=!1}return{setup:g,reset:re,resetDefaultState:le,dispose:N,releaseStatesOfGeometry:W,releaseStatesOfProgram:ne,initAttributes:k,enableAttribute:O,disableUnusedAttributes:B}}function WebGLBufferRenderer(t,e,r,n){const o=n.isWebGL2;let s;function c(m){s=m}function d(m,_){t.drawArrays(s,m,_),r.update(_,s,1)}function u(m,_,g){if(g===0)return;let f,y;if(o)f=t,y="drawArraysInstanced";else if(f=e.get("ANGLE_instanced_arrays"),y="drawArraysInstancedANGLE",f===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}f[y](s,m,_,g),r.update(_,s,g)}this.setMode=c,this.render=d,this.renderInstances=u}function WebGLCapabilities(t,e,r){let n;function o(){if(n!==void 0)return n;if(e.has("EXT_texture_filter_anisotropic")===!0){const j=e.get("EXT_texture_filter_anisotropic");n=t.getParameter(j.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n}function s(j){if(j==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";j="mediump"}return j==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const c=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let d=r.precision!==void 0?r.precision:"highp";const u=s(d);u!==d&&(console.warn("THREE.WebGLRenderer:",d,"not supported, using",u,"instead."),d=u);const m=c||e.has("WEBGL_draw_buffers"),_=r.logarithmicDepthBuffer===!0,g=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),f=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),y=t.getParameter(t.MAX_TEXTURE_SIZE),M=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),T=t.getParameter(t.MAX_VERTEX_ATTRIBS),A=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),E=t.getParameter(t.MAX_VARYING_VECTORS),C=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),k=f>0,O=c||e.has("OES_texture_float"),I=k&&O,B=c?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:c,drawBuffers:m,getMaxAnisotropy:o,getMaxPrecision:s,precision:d,logarithmicDepthBuffer:_,maxTextures:g,maxVertexTextures:f,maxTextureSize:y,maxCubemapSize:M,maxAttributes:T,maxVertexUniforms:A,maxVaryings:E,maxFragmentUniforms:C,vertexTextures:k,floatFragmentTextures:O,floatVertexTextures:I,maxSamples:B}}function WebGLClipping(t){const e=this;let r=null,n=0,o=!1,s=!1;const c=new Plane,d=new Matrix3,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(g,f){const y=g.length!==0||f||n!==0||o;return o=f,n=g.length,y},this.beginShadows=function(){s=!0,_(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(g,f){r=_(g,f,0)},this.setState=function(g,f,y){const M=g.clippingPlanes,T=g.clipIntersection,A=g.clipShadows,E=t.get(g);if(!o||M===null||M.length===0||s&&!A)s?_(null):m();else{const C=s?0:n,k=C*4;let O=E.clippingState||null;u.value=O,O=_(M,f,k,y);for(let I=0;I!==k;++I)O[I]=r[I];E.clippingState=O,this.numIntersection=T?this.numPlanes:0,this.numPlanes+=C}};function m(){u.value!==r&&(u.value=r,u.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function _(g,f,y,M){const T=g!==null?g.length:0;let A=null;if(T!==0){if(A=u.value,M!==!0||A===null){const E=y+T*4,C=f.matrixWorldInverse;d.getNormalMatrix(C),(A===null||A.length<E)&&(A=new Float32Array(E));for(let k=0,O=y;k!==T;++k,O+=4)c.copy(g[k]).applyMatrix4(C,d),c.normal.toArray(A,O),A[O+3]=c.constant}u.value=A,u.needsUpdate=!0}return e.numPlanes=T,e.numIntersection=0,A}}function WebGLCubeMaps(t){let e=new WeakMap;function r(c,d){return d===EquirectangularReflectionMapping?c.mapping=CubeReflectionMapping:d===EquirectangularRefractionMapping&&(c.mapping=CubeRefractionMapping),c}function n(c){if(c&&c.isTexture&&c.isRenderTargetTexture===!1){const d=c.mapping;if(d===EquirectangularReflectionMapping||d===EquirectangularRefractionMapping)if(e.has(c)){const u=e.get(c).texture;return r(u,c.mapping)}else{const u=c.image;if(u&&u.height>0){const m=new WebGLCubeRenderTarget(u.height/2);return m.fromEquirectangularTexture(t,c),e.set(c,m),c.addEventListener("dispose",o),r(m.texture,c.mapping)}else return null}}return c}function o(c){const d=c.target;d.removeEventListener("dispose",o);const u=e.get(d);u!==void 0&&(e.delete(d),u.dispose())}function s(){e=new WeakMap}return{get:n,dispose:s}}class OrthographicCamera extends Camera{constructor(e=-1,r=1,n=1,o=-1,s=.1,c=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=r,this.top=n,this.bottom=o,this.near=s,this.far=c,this.updateProjectionMatrix()}copy(e,r){return super.copy(e,r),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,r,n,o,s,c){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=r,this.view.offsetX=n,this.view.offsetY=o,this.view.width=s,this.view.height=c,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),r=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,o=(this.top+this.bottom)/2;let s=n-e,c=n+e,d=o+r,u=o-r;if(this.view!==null&&this.view.enabled){const m=(this.right-this.left)/this.view.fullWidth/this.zoom,_=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=m*this.view.offsetX,c=s+m*this.view.width,d-=_*this.view.offsetY,u=d-_*this.view.height}this.projectionMatrix.makeOrthographic(s,c,d,u,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const r=super.toJSON(e);return r.object.zoom=this.zoom,r.object.left=this.left,r.object.right=this.right,r.object.top=this.top,r.object.bottom=this.bottom,r.object.near=this.near,r.object.far=this.far,this.view!==null&&(r.object.view=Object.assign({},this.view)),r}}const LOD_MIN=4,EXTRA_LOD_SIGMA=[.125,.215,.35,.446,.526,.582],MAX_SAMPLES=20,_flatCamera=new OrthographicCamera,_clearColor=new Color;let _oldTarget=null;const PHI=(1+Math.sqrt(5))/2,INV_PHI=1/PHI,_axisDirections=[new Vector3(1,1,1),new Vector3(-1,1,1),new Vector3(1,1,-1),new Vector3(-1,1,-1),new Vector3(0,PHI,INV_PHI),new Vector3(0,PHI,-INV_PHI),new Vector3(INV_PHI,0,PHI),new Vector3(-INV_PHI,0,PHI),new Vector3(PHI,INV_PHI,0),new Vector3(-PHI,INV_PHI,0)];class PMREMGenerator{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,r=0,n=.1,o=100){_oldTarget=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,n,o,s),r>0&&this._blur(s,0,0,r),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,r=null){return this._fromTexture(e,r)}fromCubemap(e,r=null){return this._fromTexture(e,r)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(_oldTarget),e.scissorTest=!1,_setViewport(e,0,0,e.width,e.height)}_fromTexture(e,r){e.mapping===CubeReflectionMapping||e.mapping===CubeRefractionMapping?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),_oldTarget=this._renderer.getRenderTarget();const n=r||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),r=4*this._cubeSize,n={magFilter:LinearFilter,minFilter:LinearFilter,generateMipmaps:!1,type:HalfFloatType,format:RGBAFormat,colorSpace:LinearSRGBColorSpace,depthBuffer:!1},o=_createRenderTarget(e,r,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==r){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_createRenderTarget(e,r,n);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_createPlanes(s)),this._blurMaterial=_getBlurShader(s,e,r)}return o}_compileMaterial(e){const r=new Mesh(this._lodPlanes[0],e);this._renderer.compile(r,_flatCamera)}_sceneToCubeUV(e,r,n,o){const s=new PerspectiveCamera(90,1,r,n),c=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],u=this._renderer,m=u.autoClear,_=u.toneMapping;u.getClearColor(_clearColor),u.toneMapping=NoToneMapping,u.autoClear=!1;const g=new MeshBasicMaterial({name:"PMREM.Background",side:BackSide,depthWrite:!1,depthTest:!1}),f=new Mesh(new BoxGeometry,g);let y=!1;const M=e.background;M?M.isColor&&(g.color.copy(M),e.background=null,y=!0):(g.color.copy(_clearColor),y=!0);for(let T=0;T<6;T++){const A=T%3;A===0?(s.up.set(0,c[T],0),s.lookAt(d[T],0,0)):A===1?(s.up.set(0,0,c[T]),s.lookAt(0,d[T],0)):(s.up.set(0,c[T],0),s.lookAt(0,0,d[T]));const E=this._cubeSize;_setViewport(o,A*E,T>2?E:0,E,E),u.setRenderTarget(o),y&&u.render(f,s),u.render(e,s)}f.geometry.dispose(),f.material.dispose(),u.toneMapping=_,u.autoClear=m,e.background=M}_textureToCubeUV(e,r){const n=this._renderer,o=e.mapping===CubeReflectionMapping||e.mapping===CubeRefractionMapping;o?(this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial());const s=o?this._cubemapMaterial:this._equirectMaterial,c=new Mesh(this._lodPlanes[0],s),d=s.uniforms;d.envMap.value=e;const u=this._cubeSize;_setViewport(r,0,0,3*u,2*u),n.setRenderTarget(r),n.render(c,_flatCamera)}_applyPMREM(e){const r=this._renderer,n=r.autoClear;r.autoClear=!1;for(let o=1;o<this._lodPlanes.length;o++){const s=Math.sqrt(this._sigmas[o]*this._sigmas[o]-this._sigmas[o-1]*this._sigmas[o-1]),c=_axisDirections[(o-1)%_axisDirections.length];this._blur(e,o-1,o,s,c)}r.autoClear=n}_blur(e,r,n,o,s){const c=this._pingPongRenderTarget;this._halfBlur(e,c,r,n,o,"latitudinal",s),this._halfBlur(c,e,n,n,o,"longitudinal",s)}_halfBlur(e,r,n,o,s,c,d){const u=this._renderer,m=this._blurMaterial;c!=="latitudinal"&&c!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const _=3,g=new Mesh(this._lodPlanes[o],m),f=m.uniforms,y=this._sizeLods[n]-1,M=isFinite(s)?Math.PI/(2*y):2*Math.PI/(2*MAX_SAMPLES-1),T=s/M,A=isFinite(s)?1+Math.floor(_*T):MAX_SAMPLES;A>MAX_SAMPLES&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${A} samples when the maximum is set to ${MAX_SAMPLES}`);const E=[];let C=0;for(let j=0;j<MAX_SAMPLES;++j){const U=j/T,N=Math.exp(-U*U/2);E.push(N),j===0?C+=N:j<A&&(C+=2*N)}for(let j=0;j<E.length;j++)E[j]=E[j]/C;f.envMap.value=e.texture,f.samples.value=A,f.weights.value=E,f.latitudinal.value=c==="latitudinal",d&&(f.poleAxis.value=d);const{_lodMax:k}=this;f.dTheta.value=M,f.mipInt.value=k-n;const O=this._sizeLods[o],I=3*O*(o>k-LOD_MIN?o-k+LOD_MIN:0),B=4*(this._cubeSize-O);_setViewport(r,I,B,3*O,2*O),u.setRenderTarget(r),u.render(g,_flatCamera)}}function _createPlanes(t){const e=[],r=[],n=[];let o=t;const s=t-LOD_MIN+1+EXTRA_LOD_SIGMA.length;for(let c=0;c<s;c++){const d=Math.pow(2,o);r.push(d);let u=1/d;c>t-LOD_MIN?u=EXTRA_LOD_SIGMA[c-t+LOD_MIN-1]:c===0&&(u=0),n.push(u);const m=1/(d-2),_=-m,g=1+m,f=[_,_,g,_,g,g,_,_,g,g,_,g],y=6,M=6,T=3,A=2,E=1,C=new Float32Array(T*M*y),k=new Float32Array(A*M*y),O=new Float32Array(E*M*y);for(let B=0;B<y;B++){const j=B%3*2/3-1,U=B>2?0:-1,N=[j,U,0,j+2/3,U,0,j+2/3,U+1,0,j,U,0,j+2/3,U+1,0,j,U+1,0];C.set(N,T*M*B),k.set(f,A*M*B);const W=[B,B,B,B,B,B];O.set(W,E*M*B)}const I=new BufferGeometry;I.setAttribute("position",new BufferAttribute(C,T)),I.setAttribute("uv",new BufferAttribute(k,A)),I.setAttribute("faceIndex",new BufferAttribute(O,E)),e.push(I),o>LOD_MIN&&o--}return{lodPlanes:e,sizeLods:r,sigmas:n}}function _createRenderTarget(t,e,r){const n=new WebGLRenderTarget(t,e,r);return n.texture.mapping=CubeUVReflectionMapping,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function _setViewport(t,e,r,n,o){t.viewport.set(e,r,n,o),t.scissor.set(e,r,n,o)}function _getBlurShader(t,e,r){const n=new Float32Array(MAX_SAMPLES),o=new Vector3(0,1,0);return new ShaderMaterial({name:"SphericalGaussianBlur",defines:{n:MAX_SAMPLES,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/r,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:o}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getEquirectMaterial(){return new ShaderMaterial({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCubemapMaterial(){return new ShaderMaterial({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCommonVertexShader(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WebGLCubeUVMaps(t){let e=new WeakMap,r=null;function n(d){if(d&&d.isTexture){const u=d.mapping,m=u===EquirectangularReflectionMapping||u===EquirectangularRefractionMapping,_=u===CubeReflectionMapping||u===CubeRefractionMapping;if(m||_)if(d.isRenderTargetTexture&&d.needsPMREMUpdate===!0){d.needsPMREMUpdate=!1;let g=e.get(d);return r===null&&(r=new PMREMGenerator(t)),g=m?r.fromEquirectangular(d,g):r.fromCubemap(d,g),e.set(d,g),g.texture}else{if(e.has(d))return e.get(d).texture;{const g=d.image;if(m&&g&&g.height>0||_&&g&&o(g)){r===null&&(r=new PMREMGenerator(t));const f=m?r.fromEquirectangular(d):r.fromCubemap(d);return e.set(d,f),d.addEventListener("dispose",s),f.texture}else return null}}}return d}function o(d){let u=0;const m=6;for(let _=0;_<m;_++)d[_]!==void 0&&u++;return u===m}function s(d){const u=d.target;u.removeEventListener("dispose",s);const m=e.get(u);m!==void 0&&(e.delete(u),m.dispose())}function c(){e=new WeakMap,r!==null&&(r.dispose(),r=null)}return{get:n,dispose:c}}function WebGLExtensions(t){const e={};function r(n){if(e[n]!==void 0)return e[n];let o;switch(n){case"WEBGL_depth_texture":o=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":o=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":o=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":o=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:o=t.getExtension(n)}return e[n]=o,o}return{has:function(n){return r(n)!==null},init:function(n){n.isWebGL2?r("EXT_color_buffer_float"):(r("WEBGL_depth_texture"),r("OES_texture_float"),r("OES_texture_half_float"),r("OES_texture_half_float_linear"),r("OES_standard_derivatives"),r("OES_element_index_uint"),r("OES_vertex_array_object"),r("ANGLE_instanced_arrays")),r("OES_texture_float_linear"),r("EXT_color_buffer_half_float"),r("WEBGL_multisampled_render_to_texture")},get:function(n){const o=r(n);return o===null&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),o}}}function WebGLGeometries(t,e,r,n){const o={},s=new WeakMap;function c(g){const f=g.target;f.index!==null&&e.remove(f.index);for(const M in f.attributes)e.remove(f.attributes[M]);f.removeEventListener("dispose",c),delete o[f.id];const y=s.get(f);y&&(e.remove(y),s.delete(f)),n.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,r.memory.geometries--}function d(g,f){return o[f.id]===!0||(f.addEventListener("dispose",c),o[f.id]=!0,r.memory.geometries++),f}function u(g){const f=g.attributes;for(const M in f)e.update(f[M],t.ARRAY_BUFFER);const y=g.morphAttributes;for(const M in y){const T=y[M];for(let A=0,E=T.length;A<E;A++)e.update(T[A],t.ARRAY_BUFFER)}}function m(g){const f=[],y=g.index,M=g.attributes.position;let T=0;if(y!==null){const C=y.array;T=y.version;for(let k=0,O=C.length;k<O;k+=3){const I=C[k+0],B=C[k+1],j=C[k+2];f.push(I,B,B,j,j,I)}}else{const C=M.array;T=M.version;for(let k=0,O=C.length/3-1;k<O;k+=3){const I=k+0,B=k+1,j=k+2;f.push(I,B,B,j,j,I)}}const A=new(arrayNeedsUint32(f)?Uint32BufferAttribute:Uint16BufferAttribute)(f,1);A.version=T;const E=s.get(g);E&&e.remove(E),s.set(g,A)}function _(g){const f=s.get(g);if(f){const y=g.index;y!==null&&f.version<y.version&&m(g)}else m(g);return s.get(g)}return{get:d,update:u,getWireframeAttribute:_}}function WebGLIndexedBufferRenderer(t,e,r,n){const o=n.isWebGL2;let s;function c(f){s=f}let d,u;function m(f){d=f.type,u=f.bytesPerElement}function _(f,y){t.drawElements(s,y,d,f*u),r.update(y,s,1)}function g(f,y,M){if(M===0)return;let T,A;if(o)T=t,A="drawElementsInstanced";else if(T=e.get("ANGLE_instanced_arrays"),A="drawElementsInstancedANGLE",T===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}T[A](s,y,d,f*u,M),r.update(y,s,M)}this.setMode=c,this.setIndex=m,this.render=_,this.renderInstances=g}function WebGLInfo(t){const e={geometries:0,textures:0},r={frame:0,calls:0,triangles:0,points:0,lines:0};function n(s,c,d){switch(r.calls++,c){case t.TRIANGLES:r.triangles+=d*(s/3);break;case t.LINES:r.lines+=d*(s/2);break;case t.LINE_STRIP:r.lines+=d*(s-1);break;case t.LINE_LOOP:r.lines+=d*s;break;case t.POINTS:r.points+=d*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",c);break}}function o(){r.frame++,r.calls=0,r.triangles=0,r.points=0,r.lines=0}return{memory:e,render:r,programs:null,autoReset:!0,reset:o,update:n}}function numericalSort(t,e){return t[0]-e[0]}function absNumericalSort(t,e){return Math.abs(e[1])-Math.abs(t[1])}function WebGLMorphtargets(t,e,r){const n={},o=new Float32Array(8),s=new WeakMap,c=new Vector4,d=[];for(let m=0;m<8;m++)d[m]=[m,0];function u(m,_,g){const f=m.morphTargetInfluences;if(e.isWebGL2===!0){const M=_.morphAttributes.position||_.morphAttributes.normal||_.morphAttributes.color,T=M!==void 0?M.length:0;let A=s.get(_);if(A===void 0||A.count!==T){let k=function(){ae.dispose(),s.delete(_),_.removeEventListener("dispose",k)};var y=k;A!==void 0&&A.texture.dispose();const O=_.morphAttributes.position!==void 0,I=_.morphAttributes.normal!==void 0,B=_.morphAttributes.color!==void 0,j=_.morphAttributes.position||[],U=_.morphAttributes.normal||[],N=_.morphAttributes.color||[];let W=0;O===!0&&(W=1),I===!0&&(W=2),B===!0&&(W=3);let ne=_.attributes.position.count*W,re=1;ne>e.maxTextureSize&&(re=Math.ceil(ne/e.maxTextureSize),ne=e.maxTextureSize);const le=new Float32Array(ne*re*4*T),ae=new DataArrayTexture(le,ne,re,T);ae.type=FloatType,ae.needsUpdate=!0;const pe=W*4;for(let K=0;K<T;K++){const q=j[K],D=U[K],z=N[K],J=ne*re*4*K;for(let ie=0;ie<q.count;ie++){const fe=ie*pe;O===!0&&(c.fromBufferAttribute(q,ie),le[J+fe+0]=c.x,le[J+fe+1]=c.y,le[J+fe+2]=c.z,le[J+fe+3]=0),I===!0&&(c.fromBufferAttribute(D,ie),le[J+fe+4]=c.x,le[J+fe+5]=c.y,le[J+fe+6]=c.z,le[J+fe+7]=0),B===!0&&(c.fromBufferAttribute(z,ie),le[J+fe+8]=c.x,le[J+fe+9]=c.y,le[J+fe+10]=c.z,le[J+fe+11]=z.itemSize===4?c.w:1)}}A={count:T,texture:ae,size:new Vector2(ne,re)},s.set(_,A),_.addEventListener("dispose",k)}let E=0;for(let k=0;k<f.length;k++)E+=f[k];const C=_.morphTargetsRelative?1:1-E;g.getUniforms().setValue(t,"morphTargetBaseInfluence",C),g.getUniforms().setValue(t,"morphTargetInfluences",f),g.getUniforms().setValue(t,"morphTargetsTexture",A.texture,r),g.getUniforms().setValue(t,"morphTargetsTextureSize",A.size)}else{const M=f===void 0?0:f.length;let T=n[_.id];if(T===void 0||T.length!==M){T=[];for(let O=0;O<M;O++)T[O]=[O,0];n[_.id]=T}for(let O=0;O<M;O++){const I=T[O];I[0]=O,I[1]=f[O]}T.sort(absNumericalSort);for(let O=0;O<8;O++)O<M&&T[O][1]?(d[O][0]=T[O][0],d[O][1]=T[O][1]):(d[O][0]=Number.MAX_SAFE_INTEGER,d[O][1]=0);d.sort(numericalSort);const A=_.morphAttributes.position,E=_.morphAttributes.normal;let C=0;for(let O=0;O<8;O++){const I=d[O],B=I[0],j=I[1];B!==Number.MAX_SAFE_INTEGER&&j?(A&&_.getAttribute("morphTarget"+O)!==A[B]&&_.setAttribute("morphTarget"+O,A[B]),E&&_.getAttribute("morphNormal"+O)!==E[B]&&_.setAttribute("morphNormal"+O,E[B]),o[O]=j,C+=j):(A&&_.hasAttribute("morphTarget"+O)===!0&&_.deleteAttribute("morphTarget"+O),E&&_.hasAttribute("morphNormal"+O)===!0&&_.deleteAttribute("morphNormal"+O),o[O]=0)}const k=_.morphTargetsRelative?1:1-C;g.getUniforms().setValue(t,"morphTargetBaseInfluence",k),g.getUniforms().setValue(t,"morphTargetInfluences",o)}}return{update:u}}function WebGLObjects(t,e,r,n){let o=new WeakMap;function s(u){const m=n.render.frame,_=u.geometry,g=e.get(u,_);return o.get(g)!==m&&(e.update(g),o.set(g,m)),u.isInstancedMesh&&(u.hasEventListener("dispose",d)===!1&&u.addEventListener("dispose",d),r.update(u.instanceMatrix,t.ARRAY_BUFFER),u.instanceColor!==null&&r.update(u.instanceColor,t.ARRAY_BUFFER)),g}function c(){o=new WeakMap}function d(u){const m=u.target;m.removeEventListener("dispose",d),r.remove(m.instanceMatrix),m.instanceColor!==null&&r.remove(m.instanceColor)}return{update:s,dispose:c}}const emptyTexture=new Texture,emptyArrayTexture=new DataArrayTexture,empty3dTexture=new Data3DTexture,emptyCubeTexture=new CubeTexture,arrayCacheF32=[],arrayCacheI32=[],mat4array=new Float32Array(16),mat3array=new Float32Array(9),mat2array=new Float32Array(4);function flatten(t,e,r){const n=t[0];if(n<=0||n>0)return t;const o=e*r;let s=arrayCacheF32[o];if(s===void 0&&(s=new Float32Array(o),arrayCacheF32[o]=s),e!==0){n.toArray(s,0);for(let c=1,d=0;c!==e;++c)d+=r,t[c].toArray(s,d)}return s}function arraysEqual(t,e){if(t.length!==e.length)return!1;for(let r=0,n=t.length;r<n;r++)if(t[r]!==e[r])return!1;return!0}function copyArray(t,e){for(let r=0,n=e.length;r<n;r++)t[r]=e[r]}function allocTexUnits(t,e){let r=arrayCacheI32[e];r===void 0&&(r=new Int32Array(e),arrayCacheI32[e]=r);for(let n=0;n!==e;++n)r[n]=t.allocateTextureUnit();return r}function setValueV1f(t,e){const r=this.cache;r[0]!==e&&(t.uniform1f(this.addr,e),r[0]=e)}function setValueV2f(t,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),r[0]=e.x,r[1]=e.y);else{if(arraysEqual(r,e))return;t.uniform2fv(this.addr,e),copyArray(r,e)}}function setValueV3f(t,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),r[0]=e.x,r[1]=e.y,r[2]=e.z);else if(e.r!==void 0)(r[0]!==e.r||r[1]!==e.g||r[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),r[0]=e.r,r[1]=e.g,r[2]=e.b);else{if(arraysEqual(r,e))return;t.uniform3fv(this.addr,e),copyArray(r,e)}}function setValueV4f(t,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z||r[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=e.w);else{if(arraysEqual(r,e))return;t.uniform4fv(this.addr,e),copyArray(r,e)}}function setValueM2(t,e){const r=this.cache,n=e.elements;if(n===void 0){if(arraysEqual(r,e))return;t.uniformMatrix2fv(this.addr,!1,e),copyArray(r,e)}else{if(arraysEqual(r,n))return;mat2array.set(n),t.uniformMatrix2fv(this.addr,!1,mat2array),copyArray(r,n)}}function setValueM3(t,e){const r=this.cache,n=e.elements;if(n===void 0){if(arraysEqual(r,e))return;t.uniformMatrix3fv(this.addr,!1,e),copyArray(r,e)}else{if(arraysEqual(r,n))return;mat3array.set(n),t.uniformMatrix3fv(this.addr,!1,mat3array),copyArray(r,n)}}function setValueM4(t,e){const r=this.cache,n=e.elements;if(n===void 0){if(arraysEqual(r,e))return;t.uniformMatrix4fv(this.addr,!1,e),copyArray(r,e)}else{if(arraysEqual(r,n))return;mat4array.set(n),t.uniformMatrix4fv(this.addr,!1,mat4array),copyArray(r,n)}}function setValueV1i(t,e){const r=this.cache;r[0]!==e&&(t.uniform1i(this.addr,e),r[0]=e)}function setValueV2i(t,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),r[0]=e.x,r[1]=e.y);else{if(arraysEqual(r,e))return;t.uniform2iv(this.addr,e),copyArray(r,e)}}function setValueV3i(t,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),r[0]=e.x,r[1]=e.y,r[2]=e.z);else{if(arraysEqual(r,e))return;t.uniform3iv(this.addr,e),copyArray(r,e)}}function setValueV4i(t,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z||r[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=e.w);else{if(arraysEqual(r,e))return;t.uniform4iv(this.addr,e),copyArray(r,e)}}function setValueV1ui(t,e){const r=this.cache;r[0]!==e&&(t.uniform1ui(this.addr,e),r[0]=e)}function setValueV2ui(t,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),r[0]=e.x,r[1]=e.y);else{if(arraysEqual(r,e))return;t.uniform2uiv(this.addr,e),copyArray(r,e)}}function setValueV3ui(t,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),r[0]=e.x,r[1]=e.y,r[2]=e.z);else{if(arraysEqual(r,e))return;t.uniform3uiv(this.addr,e),copyArray(r,e)}}function setValueV4ui(t,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z||r[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=e.w);else{if(arraysEqual(r,e))return;t.uniform4uiv(this.addr,e),copyArray(r,e)}}function setValueT1(t,e,r){const n=this.cache,o=r.allocateTextureUnit();n[0]!==o&&(t.uniform1i(this.addr,o),n[0]=o),r.setTexture2D(e||emptyTexture,o)}function setValueT3D1(t,e,r){const n=this.cache,o=r.allocateTextureUnit();n[0]!==o&&(t.uniform1i(this.addr,o),n[0]=o),r.setTexture3D(e||empty3dTexture,o)}function setValueT6(t,e,r){const n=this.cache,o=r.allocateTextureUnit();n[0]!==o&&(t.uniform1i(this.addr,o),n[0]=o),r.setTextureCube(e||emptyCubeTexture,o)}function setValueT2DArray1(t,e,r){const n=this.cache,o=r.allocateTextureUnit();n[0]!==o&&(t.uniform1i(this.addr,o),n[0]=o),r.setTexture2DArray(e||emptyArrayTexture,o)}function getSingularSetter(t){switch(t){case 5126:return setValueV1f;case 35664:return setValueV2f;case 35665:return setValueV3f;case 35666:return setValueV4f;case 35674:return setValueM2;case 35675:return setValueM3;case 35676:return setValueM4;case 5124:case 35670:return setValueV1i;case 35667:case 35671:return setValueV2i;case 35668:case 35672:return setValueV3i;case 35669:case 35673:return setValueV4i;case 5125:return setValueV1ui;case 36294:return setValueV2ui;case 36295:return setValueV3ui;case 36296:return setValueV4ui;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1;case 35679:case 36299:case 36307:return setValueT3D1;case 35680:case 36300:case 36308:case 36293:return setValueT6;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1}}function setValueV1fArray(t,e){t.uniform1fv(this.addr,e)}function setValueV2fArray(t,e){const r=flatten(e,this.size,2);t.uniform2fv(this.addr,r)}function setValueV3fArray(t,e){const r=flatten(e,this.size,3);t.uniform3fv(this.addr,r)}function setValueV4fArray(t,e){const r=flatten(e,this.size,4);t.uniform4fv(this.addr,r)}function setValueM2Array(t,e){const r=flatten(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,r)}function setValueM3Array(t,e){const r=flatten(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,r)}function setValueM4Array(t,e){const r=flatten(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,r)}function setValueV1iArray(t,e){t.uniform1iv(this.addr,e)}function setValueV2iArray(t,e){t.uniform2iv(this.addr,e)}function setValueV3iArray(t,e){t.uniform3iv(this.addr,e)}function setValueV4iArray(t,e){t.uniform4iv(this.addr,e)}function setValueV1uiArray(t,e){t.uniform1uiv(this.addr,e)}function setValueV2uiArray(t,e){t.uniform2uiv(this.addr,e)}function setValueV3uiArray(t,e){t.uniform3uiv(this.addr,e)}function setValueV4uiArray(t,e){t.uniform4uiv(this.addr,e)}function setValueT1Array(t,e,r){const n=this.cache,o=e.length,s=allocTexUnits(r,o);arraysEqual(n,s)||(t.uniform1iv(this.addr,s),copyArray(n,s));for(let c=0;c!==o;++c)r.setTexture2D(e[c]||emptyTexture,s[c])}function setValueT3DArray(t,e,r){const n=this.cache,o=e.length,s=allocTexUnits(r,o);arraysEqual(n,s)||(t.uniform1iv(this.addr,s),copyArray(n,s));for(let c=0;c!==o;++c)r.setTexture3D(e[c]||empty3dTexture,s[c])}function setValueT6Array(t,e,r){const n=this.cache,o=e.length,s=allocTexUnits(r,o);arraysEqual(n,s)||(t.uniform1iv(this.addr,s),copyArray(n,s));for(let c=0;c!==o;++c)r.setTextureCube(e[c]||emptyCubeTexture,s[c])}function setValueT2DArrayArray(t,e,r){const n=this.cache,o=e.length,s=allocTexUnits(r,o);arraysEqual(n,s)||(t.uniform1iv(this.addr,s),copyArray(n,s));for(let c=0;c!==o;++c)r.setTexture2DArray(e[c]||emptyArrayTexture,s[c])}function getPureArraySetter(t){switch(t){case 5126:return setValueV1fArray;case 35664:return setValueV2fArray;case 35665:return setValueV3fArray;case 35666:return setValueV4fArray;case 35674:return setValueM2Array;case 35675:return setValueM3Array;case 35676:return setValueM4Array;case 5124:case 35670:return setValueV1iArray;case 35667:case 35671:return setValueV2iArray;case 35668:case 35672:return setValueV3iArray;case 35669:case 35673:return setValueV4iArray;case 5125:return setValueV1uiArray;case 36294:return setValueV2uiArray;case 36295:return setValueV3uiArray;case 36296:return setValueV4uiArray;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array;case 35679:case 36299:case 36307:return setValueT3DArray;case 35680:case 36300:case 36308:case 36293:return setValueT6Array;case 36289:case 36303:case 36311:case 36292:return setValueT2DArrayArray}}class SingleUniform{constructor(e,r,n){this.id=e,this.addr=n,this.cache=[],this.setValue=getSingularSetter(r.type)}}class PureArrayUniform{constructor(e,r,n){this.id=e,this.addr=n,this.cache=[],this.size=r.size,this.setValue=getPureArraySetter(r.type)}}class StructuredUniform{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,r,n){const o=this.seq;for(let s=0,c=o.length;s!==c;++s){const d=o[s];d.setValue(e,r[d.id],n)}}}const RePathPart=/(\w+)(\])?(\[|\.)?/g;function addUniform(t,e){t.seq.push(e),t.map[e.id]=e}function parseUniform(t,e,r){const n=t.name,o=n.length;for(RePathPart.lastIndex=0;;){const s=RePathPart.exec(n),c=RePathPart.lastIndex;let d=s[1];const u=s[2]==="]",m=s[3];if(u&&(d=d|0),m===void 0||m==="["&&c+2===o){addUniform(r,m===void 0?new SingleUniform(d,t,e):new PureArrayUniform(d,t,e));break}else{let _=r.map[d];_===void 0&&(_=new StructuredUniform(d),addUniform(r,_)),r=_}}}class WebGLUniforms{constructor(e,r){this.seq=[],this.map={};const n=e.getProgramParameter(r,e.ACTIVE_UNIFORMS);for(let o=0;o<n;++o){const s=e.getActiveUniform(r,o),c=e.getUniformLocation(r,s.name);parseUniform(s,c,this)}}setValue(e,r,n,o){const s=this.map[r];s!==void 0&&s.setValue(e,n,o)}setOptional(e,r,n){const o=r[n];o!==void 0&&this.setValue(e,n,o)}static upload(e,r,n,o){for(let s=0,c=r.length;s!==c;++s){const d=r[s],u=n[d.id];u.needsUpdate!==!1&&d.setValue(e,u.value,o)}}static seqWithValue(e,r){const n=[];for(let o=0,s=e.length;o!==s;++o){const c=e[o];c.id in r&&n.push(c)}return n}}function WebGLShader(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}let programIdCount=0;function handleSource(t,e){const r=t.split(`
`),n=[],o=Math.max(e-6,0),s=Math.min(e+6,r.length);for(let c=o;c<s;c++){const d=c+1;n.push(`${d===e?">":" "} ${d}: ${r[c]}`)}return n.join(`
`)}function getEncodingComponents(t){switch(t){case LinearSRGBColorSpace:return["Linear","( value )"];case SRGBColorSpace:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),["Linear","( value )"]}}function getShaderErrors(t,e,r){const n=t.getShaderParameter(e,t.COMPILE_STATUS),o=t.getShaderInfoLog(e).trim();if(n&&o==="")return"";const s=/ERROR: 0:(\d+)/.exec(o);if(s){const c=parseInt(s[1]);return r.toUpperCase()+`

`+o+`

`+handleSource(t.getShaderSource(e),c)}else return o}function getTexelEncodingFunction(t,e){const r=getEncodingComponents(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+r[0]+r[1]+"; }"}function getToneMappingFunction(t,e){let r;switch(e){case LinearToneMapping:r="Linear";break;case ReinhardToneMapping:r="Reinhard";break;case CineonToneMapping:r="OptimizedCineon";break;case ACESFilmicToneMapping:r="ACESFilmic";break;case CustomToneMapping:r="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),r="Linear"}return"vec3 "+t+"( vec3 color ) { return "+r+"ToneMapping( color ); }"}function generateExtensions(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(filterEmptyLine).join(`
`)}function generateDefines(t){const e=[];for(const r in t){const n=t[r];n!==!1&&e.push("#define "+r+" "+n)}return e.join(`
`)}function fetchAttributeLocations(t,e){const r={},n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let o=0;o<n;o++){const s=t.getActiveAttrib(e,o),c=s.name;let d=1;s.type===t.FLOAT_MAT2&&(d=2),s.type===t.FLOAT_MAT3&&(d=3),s.type===t.FLOAT_MAT4&&(d=4),r[c]={type:s.type,location:t.getAttribLocation(e,c),locationSize:d}}return r}function filterEmptyLine(t){return t!==""}function replaceLightNums(t,e){const r=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,r).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function replaceClippingPlaneNums(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const includePattern=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes(t){return t.replace(includePattern,includeReplacer)}function includeReplacer(t,e){const r=ShaderChunk[e];if(r===void 0)throw new Error("Can not resolve #include <"+e+">");return resolveIncludes(r)}const unrollLoopPattern=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function unrollLoops(t){return t.replace(unrollLoopPattern,loopReplacer)}function loopReplacer(t,e,r,n){let o="";for(let s=parseInt(e);s<parseInt(r);s++)o+=n.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return o}function generatePrecision(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function generateShadowMapTypeDefine(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===PCFShadowMap?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===PCFSoftShadowMap?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===VSMShadowMap&&(e="SHADOWMAP_TYPE_VSM"),e}function generateEnvMapTypeDefine(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case CubeReflectionMapping:case CubeRefractionMapping:e="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:e="ENVMAP_TYPE_CUBE_UV";break}return e}function generateEnvMapModeDefine(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case CubeRefractionMapping:e="ENVMAP_MODE_REFRACTION";break}return e}function generateEnvMapBlendingDefine(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case MultiplyOperation:e="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:e="ENVMAP_BLENDING_MIX";break;case AddOperation:e="ENVMAP_BLENDING_ADD";break}return e}function generateCubeUVSize(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const r=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,r),112)),texelHeight:n,maxMip:r}}function WebGLProgram(t,e,r,n){const o=t.getContext(),s=r.defines;let c=r.vertexShader,d=r.fragmentShader;const u=generateShadowMapTypeDefine(r),m=generateEnvMapTypeDefine(r),_=generateEnvMapModeDefine(r),g=generateEnvMapBlendingDefine(r),f=generateCubeUVSize(r),y=r.isWebGL2?"":generateExtensions(r),M=generateDefines(s),T=o.createProgram();let A,E,C=r.glslVersion?"#version "+r.glslVersion+`
`:"";r.isRawShaderMaterial?(A=[M].filter(filterEmptyLine).join(`
`),A.length>0&&(A+=`
`),E=[y,M].filter(filterEmptyLine).join(`
`),E.length>0&&(E+=`
`)):(A=[generatePrecision(r),"#define SHADER_NAME "+r.shaderName,M,r.instancing?"#define USE_INSTANCING":"",r.instancingColor?"#define USE_INSTANCING_COLOR":"",r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+_:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",r.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",r.displacementMap?"#define USE_DISPLACEMENTMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",r.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",r.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",r.mapUv?"#define MAP_UV "+r.mapUv:"",r.alphaMapUv?"#define ALPHAMAP_UV "+r.alphaMapUv:"",r.lightMapUv?"#define LIGHTMAP_UV "+r.lightMapUv:"",r.aoMapUv?"#define AOMAP_UV "+r.aoMapUv:"",r.emissiveMapUv?"#define EMISSIVEMAP_UV "+r.emissiveMapUv:"",r.bumpMapUv?"#define BUMPMAP_UV "+r.bumpMapUv:"",r.normalMapUv?"#define NORMALMAP_UV "+r.normalMapUv:"",r.displacementMapUv?"#define DISPLACEMENTMAP_UV "+r.displacementMapUv:"",r.metalnessMapUv?"#define METALNESSMAP_UV "+r.metalnessMapUv:"",r.roughnessMapUv?"#define ROUGHNESSMAP_UV "+r.roughnessMapUv:"",r.clearcoatMapUv?"#define CLEARCOATMAP_UV "+r.clearcoatMapUv:"",r.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+r.clearcoatNormalMapUv:"",r.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+r.clearcoatRoughnessMapUv:"",r.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+r.iridescenceMapUv:"",r.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+r.iridescenceThicknessMapUv:"",r.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+r.sheenColorMapUv:"",r.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+r.sheenRoughnessMapUv:"",r.specularMapUv?"#define SPECULARMAP_UV "+r.specularMapUv:"",r.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+r.specularColorMapUv:"",r.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+r.specularIntensityMapUv:"",r.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+r.transmissionMapUv:"",r.thicknessMapUv?"#define THICKNESSMAP_UV "+r.thicknessMapUv:"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUv1s?"#define USE_UV1":"",r.vertexUv2s?"#define USE_UV2":"",r.vertexUv3s?"#define USE_UV3":"",r.pointsUvs?"#define USE_POINTS_UV":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&r.flatShading===!1?"#define USE_MORPHNORMALS":"",r.morphColors&&r.isWebGL2?"#define USE_MORPHCOLORS":"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+r.morphTextureStride:"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_COUNT "+r.morphTargetsCount:"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+u:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(filterEmptyLine).join(`
`),E=[y,generatePrecision(r),"#define SHADER_NAME "+r.shaderName,M,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.matcap?"#define USE_MATCAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+m:"",r.envMap?"#define "+_:"",r.envMap?"#define "+g:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",r.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.clearcoat?"#define USE_CLEARCOAT":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.iridescence?"#define USE_IRIDESCENCE":"",r.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",r.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",r.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.alphaTest?"#define USE_ALPHATEST":"",r.sheen?"#define USE_SHEEN":"",r.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors||r.instancingColor?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUv1s?"#define USE_UV1":"",r.vertexUv2s?"#define USE_UV2":"",r.vertexUv3s?"#define USE_UV3":"",r.pointsUvs?"#define USE_POINTS_UV":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+u:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.useLegacyLights?"#define LEGACY_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",r.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",r.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",r.toneMapping!==NoToneMapping?getToneMappingFunction("toneMapping",r.toneMapping):"",r.dithering?"#define DITHERING":"",r.opaque?"#define OPAQUE":"",ShaderChunk.encodings_pars_fragment,getTexelEncodingFunction("linearToOutputTexel",r.outputColorSpace),r.useDepthPacking?"#define DEPTH_PACKING "+r.depthPacking:"",`
`].filter(filterEmptyLine).join(`
`)),c=resolveIncludes(c),c=replaceLightNums(c,r),c=replaceClippingPlaneNums(c,r),d=resolveIncludes(d),d=replaceLightNums(d,r),d=replaceClippingPlaneNums(d,r),c=unrollLoops(c),d=unrollLoops(d),r.isWebGL2&&r.isRawShaderMaterial!==!0&&(C=`#version 300 es
`,A=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+A,E=["#define varying in",r.glslVersion===GLSL3?"":"layout(location = 0) out highp vec4 pc_fragColor;",r.glslVersion===GLSL3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+E);const k=C+A+c,O=C+E+d,I=WebGLShader(o,o.VERTEX_SHADER,k),B=WebGLShader(o,o.FRAGMENT_SHADER,O);if(o.attachShader(T,I),o.attachShader(T,B),r.index0AttributeName!==void 0?o.bindAttribLocation(T,0,r.index0AttributeName):r.morphTargets===!0&&o.bindAttribLocation(T,0,"position"),o.linkProgram(T),t.debug.checkShaderErrors){const N=o.getProgramInfoLog(T).trim(),W=o.getShaderInfoLog(I).trim(),ne=o.getShaderInfoLog(B).trim();let re=!0,le=!0;if(o.getProgramParameter(T,o.LINK_STATUS)===!1)if(re=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(o,T,I,B);else{const ae=getShaderErrors(o,I,"vertex"),pe=getShaderErrors(o,B,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(T,o.VALIDATE_STATUS)+`

Program Info Log: `+N+`
`+ae+`
`+pe)}else N!==""?console.warn("THREE.WebGLProgram: Program Info Log:",N):(W===""||ne==="")&&(le=!1);le&&(this.diagnostics={runnable:re,programLog:N,vertexShader:{log:W,prefix:A},fragmentShader:{log:ne,prefix:E}})}o.deleteShader(I),o.deleteShader(B);let j;this.getUniforms=function(){return j===void 0&&(j=new WebGLUniforms(o,T)),j};let U;return this.getAttributes=function(){return U===void 0&&(U=fetchAttributeLocations(o,T)),U},this.destroy=function(){n.releaseStatesOfProgram(this),o.deleteProgram(T),this.program=void 0},this.name=r.shaderName,this.id=programIdCount++,this.cacheKey=e,this.usedTimes=1,this.program=T,this.vertexShader=I,this.fragmentShader=B,this}let _id=0;class WebGLShaderCache{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const r=e.vertexShader,n=e.fragmentShader,o=this._getShaderStage(r),s=this._getShaderStage(n),c=this._getShaderCacheForMaterial(e);return c.has(o)===!1&&(c.add(o),o.usedTimes++),c.has(s)===!1&&(c.add(s),s.usedTimes++),this}remove(e){const r=this.materialCache.get(e);for(const n of r)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const r=this.materialCache;let n=r.get(e);return n===void 0&&(n=new Set,r.set(e,n)),n}_getShaderStage(e){const r=this.shaderCache;let n=r.get(e);return n===void 0&&(n=new WebGLShaderStage(e),r.set(e,n)),n}}class WebGLShaderStage{constructor(e){this.id=_id++,this.code=e,this.usedTimes=0}}function WebGLPrograms(t,e,r,n,o,s,c){const d=new Layers,u=new WebGLShaderCache,m=[],_=o.isWebGL2,g=o.logarithmicDepthBuffer,f=o.vertexTextures;let y=o.precision;const M={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function T(N){return N===1?"uv1":N===2?"uv2":N===3?"uv3":"uv"}function A(N,W,ne,re,le){const ae=re.fog,pe=le.geometry,K=N.isMeshStandardMaterial?re.environment:null,q=(N.isMeshStandardMaterial?r:e).get(N.envMap||K),D=q&&q.mapping===CubeUVReflectionMapping?q.image.height:null,z=M[N.type];N.precision!==null&&(y=o.getMaxPrecision(N.precision),y!==N.precision&&console.warn("THREE.WebGLProgram.getParameters:",N.precision,"not supported, using",y,"instead."));const J=pe.morphAttributes.position||pe.morphAttributes.normal||pe.morphAttributes.color,ie=J!==void 0?J.length:0;let fe=0;pe.morphAttributes.position!==void 0&&(fe=1),pe.morphAttributes.normal!==void 0&&(fe=2),pe.morphAttributes.color!==void 0&&(fe=3);let ee,Z,te,de;if(z){const Ke=ShaderLib[z];ee=Ke.vertexShader,Z=Ke.fragmentShader}else ee=N.vertexShader,Z=N.fragmentShader,u.update(N),te=u.getVertexShaderID(N),de=u.getFragmentShaderID(N);const Y=t.getRenderTarget(),we=le.isInstancedMesh===!0,Te=!!N.map,Me=!!N.matcap,Ae=!!q,ue=!!N.aoMap,X=!!N.lightMap,$=!!N.bumpMap,ge=!!N.normalMap,ve=!!N.displacementMap,me=!!N.emissiveMap,ce=!!N.metalnessMap,Se=!!N.roughnessMap,ye=N.clearcoat>0,be=N.iridescence>0,he=N.sheen>0,se=N.transmission>0,Ee=ye&&!!N.clearcoatMap,Oe=ye&&!!N.clearcoatNormalMap,Fe=ye&&!!N.clearcoatRoughnessMap,Ne=be&&!!N.iridescenceMap,Ue=be&&!!N.iridescenceThicknessMap,je=he&&!!N.sheenColorMap,Le=he&&!!N.sheenRoughnessMap,Xe=!!N.specularMap,Ye=!!N.specularColorMap,qe=!!N.specularIntensityMap,He=se&&!!N.transmissionMap,ze=se&&!!N.thicknessMap,Je=!!N.gradientMap,ot=!!N.alphaMap,_t=N.alphaTest>0,Ce=!!N.extensions,Ie=!!pe.attributes.uv1,Ge=!!pe.attributes.uv2,We=!!pe.attributes.uv3;return{isWebGL2:_,shaderID:z,shaderName:N.type,vertexShader:ee,fragmentShader:Z,defines:N.defines,customVertexShaderID:te,customFragmentShaderID:de,isRawShaderMaterial:N.isRawShaderMaterial===!0,glslVersion:N.glslVersion,precision:y,instancing:we,instancingColor:we&&le.instanceColor!==null,supportsVertexTextures:f,outputColorSpace:Y===null?t.outputColorSpace:Y.isXRRenderTarget===!0?Y.texture.colorSpace:LinearSRGBColorSpace,map:Te,matcap:Me,envMap:Ae,envMapMode:Ae&&q.mapping,envMapCubeUVHeight:D,aoMap:ue,lightMap:X,bumpMap:$,normalMap:ge,displacementMap:f&&ve,emissiveMap:me,normalMapObjectSpace:ge&&N.normalMapType===ObjectSpaceNormalMap,normalMapTangentSpace:ge&&N.normalMapType===TangentSpaceNormalMap,metalnessMap:ce,roughnessMap:Se,clearcoat:ye,clearcoatMap:Ee,clearcoatNormalMap:Oe,clearcoatRoughnessMap:Fe,iridescence:be,iridescenceMap:Ne,iridescenceThicknessMap:Ue,sheen:he,sheenColorMap:je,sheenRoughnessMap:Le,specularMap:Xe,specularColorMap:Ye,specularIntensityMap:qe,transmission:se,transmissionMap:He,thicknessMap:ze,gradientMap:Je,opaque:N.transparent===!1&&N.blending===NormalBlending,alphaMap:ot,alphaTest:_t,combine:N.combine,mapUv:Te&&T(N.map.channel),aoMapUv:ue&&T(N.aoMap.channel),lightMapUv:X&&T(N.lightMap.channel),bumpMapUv:$&&T(N.bumpMap.channel),normalMapUv:ge&&T(N.normalMap.channel),displacementMapUv:ve&&T(N.displacementMap.channel),emissiveMapUv:me&&T(N.emissiveMap.channel),metalnessMapUv:ce&&T(N.metalnessMap.channel),roughnessMapUv:Se&&T(N.roughnessMap.channel),clearcoatMapUv:Ee&&T(N.clearcoatMap.channel),clearcoatNormalMapUv:Oe&&T(N.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Fe&&T(N.clearcoatRoughnessMap.channel),iridescenceMapUv:Ne&&T(N.iridescenceMap.channel),iridescenceThicknessMapUv:Ue&&T(N.iridescenceThicknessMap.channel),sheenColorMapUv:je&&T(N.sheenColorMap.channel),sheenRoughnessMapUv:Le&&T(N.sheenRoughnessMap.channel),specularMapUv:Xe&&T(N.specularMap.channel),specularColorMapUv:Ye&&T(N.specularColorMap.channel),specularIntensityMapUv:qe&&T(N.specularIntensityMap.channel),transmissionMapUv:He&&T(N.transmissionMap.channel),thicknessMapUv:ze&&T(N.thicknessMap.channel),alphaMapUv:ot&&T(N.alphaMap.channel),vertexTangents:ge&&!!pe.attributes.tangent,vertexColors:N.vertexColors,vertexAlphas:N.vertexColors===!0&&!!pe.attributes.color&&pe.attributes.color.itemSize===4,vertexUv1s:Ie,vertexUv2s:Ge,vertexUv3s:We,pointsUvs:le.isPoints===!0&&!!pe.attributes.uv&&(Te||ot),fog:!!ae,useFog:N.fog===!0,fogExp2:ae&&ae.isFogExp2,flatShading:N.flatShading===!0,sizeAttenuation:N.sizeAttenuation===!0,logarithmicDepthBuffer:g,skinning:le.isSkinnedMesh===!0,morphTargets:pe.morphAttributes.position!==void 0,morphNormals:pe.morphAttributes.normal!==void 0,morphColors:pe.morphAttributes.color!==void 0,morphTargetsCount:ie,morphTextureStride:fe,numDirLights:W.directional.length,numPointLights:W.point.length,numSpotLights:W.spot.length,numSpotLightMaps:W.spotLightMap.length,numRectAreaLights:W.rectArea.length,numHemiLights:W.hemi.length,numDirLightShadows:W.directionalShadowMap.length,numPointLightShadows:W.pointShadowMap.length,numSpotLightShadows:W.spotShadowMap.length,numSpotLightShadowsWithMaps:W.numSpotLightShadowsWithMaps,numClippingPlanes:c.numPlanes,numClipIntersection:c.numIntersection,dithering:N.dithering,shadowMapEnabled:t.shadowMap.enabled&&ne.length>0,shadowMapType:t.shadowMap.type,toneMapping:N.toneMapped?t.toneMapping:NoToneMapping,useLegacyLights:t.useLegacyLights,premultipliedAlpha:N.premultipliedAlpha,doubleSided:N.side===DoubleSide,flipSided:N.side===BackSide,useDepthPacking:N.depthPacking>=0,depthPacking:N.depthPacking||0,index0AttributeName:N.index0AttributeName,extensionDerivatives:Ce&&N.extensions.derivatives===!0,extensionFragDepth:Ce&&N.extensions.fragDepth===!0,extensionDrawBuffers:Ce&&N.extensions.drawBuffers===!0,extensionShaderTextureLOD:Ce&&N.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:_||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:_||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:_||n.has("EXT_shader_texture_lod"),customProgramCacheKey:N.customProgramCacheKey()}}function E(N){const W=[];if(N.shaderID?W.push(N.shaderID):(W.push(N.customVertexShaderID),W.push(N.customFragmentShaderID)),N.defines!==void 0)for(const ne in N.defines)W.push(ne),W.push(N.defines[ne]);return N.isRawShaderMaterial===!1&&(C(W,N),k(W,N),W.push(t.outputColorSpace)),W.push(N.customProgramCacheKey),W.join()}function C(N,W){N.push(W.precision),N.push(W.outputColorSpace),N.push(W.envMapMode),N.push(W.envMapCubeUVHeight),N.push(W.mapUv),N.push(W.alphaMapUv),N.push(W.lightMapUv),N.push(W.aoMapUv),N.push(W.bumpMapUv),N.push(W.normalMapUv),N.push(W.displacementMapUv),N.push(W.emissiveMapUv),N.push(W.metalnessMapUv),N.push(W.roughnessMapUv),N.push(W.clearcoatMapUv),N.push(W.clearcoatNormalMapUv),N.push(W.clearcoatRoughnessMapUv),N.push(W.iridescenceMapUv),N.push(W.iridescenceThicknessMapUv),N.push(W.sheenColorMapUv),N.push(W.sheenRoughnessMapUv),N.push(W.specularMapUv),N.push(W.specularColorMapUv),N.push(W.specularIntensityMapUv),N.push(W.transmissionMapUv),N.push(W.thicknessMapUv),N.push(W.combine),N.push(W.fogExp2),N.push(W.sizeAttenuation),N.push(W.morphTargetsCount),N.push(W.morphAttributeCount),N.push(W.numDirLights),N.push(W.numPointLights),N.push(W.numSpotLights),N.push(W.numSpotLightMaps),N.push(W.numHemiLights),N.push(W.numRectAreaLights),N.push(W.numDirLightShadows),N.push(W.numPointLightShadows),N.push(W.numSpotLightShadows),N.push(W.numSpotLightShadowsWithMaps),N.push(W.shadowMapType),N.push(W.toneMapping),N.push(W.numClippingPlanes),N.push(W.numClipIntersection),N.push(W.depthPacking)}function k(N,W){d.disableAll(),W.isWebGL2&&d.enable(0),W.supportsVertexTextures&&d.enable(1),W.instancing&&d.enable(2),W.instancingColor&&d.enable(3),W.matcap&&d.enable(4),W.envMap&&d.enable(5),W.normalMapObjectSpace&&d.enable(6),W.normalMapTangentSpace&&d.enable(7),W.clearcoat&&d.enable(8),W.iridescence&&d.enable(9),W.alphaTest&&d.enable(10),W.vertexColors&&d.enable(11),W.vertexAlphas&&d.enable(12),W.vertexUv1s&&d.enable(13),W.vertexUv2s&&d.enable(14),W.vertexUv3s&&d.enable(15),W.vertexTangents&&d.enable(16),N.push(d.mask),d.disableAll(),W.fog&&d.enable(0),W.useFog&&d.enable(1),W.flatShading&&d.enable(2),W.logarithmicDepthBuffer&&d.enable(3),W.skinning&&d.enable(4),W.morphTargets&&d.enable(5),W.morphNormals&&d.enable(6),W.morphColors&&d.enable(7),W.premultipliedAlpha&&d.enable(8),W.shadowMapEnabled&&d.enable(9),W.useLegacyLights&&d.enable(10),W.doubleSided&&d.enable(11),W.flipSided&&d.enable(12),W.useDepthPacking&&d.enable(13),W.dithering&&d.enable(14),W.transmission&&d.enable(15),W.sheen&&d.enable(16),W.opaque&&d.enable(17),W.pointsUvs&&d.enable(18),N.push(d.mask)}function O(N){const W=M[N.type];let ne;if(W){const re=ShaderLib[W];ne=UniformsUtils.clone(re.uniforms)}else ne=N.uniforms;return ne}function I(N,W){let ne;for(let re=0,le=m.length;re<le;re++){const ae=m[re];if(ae.cacheKey===W){ne=ae,++ne.usedTimes;break}}return ne===void 0&&(ne=new WebGLProgram(t,W,N,s),m.push(ne)),ne}function B(N){if(--N.usedTimes===0){const W=m.indexOf(N);m[W]=m[m.length-1],m.pop(),N.destroy()}}function j(N){u.remove(N)}function U(){u.dispose()}return{getParameters:A,getProgramCacheKey:E,getUniforms:O,acquireProgram:I,releaseProgram:B,releaseShaderCache:j,programs:m,dispose:U}}function WebGLProperties(){let t=new WeakMap;function e(s){let c=t.get(s);return c===void 0&&(c={},t.set(s,c)),c}function r(s){t.delete(s)}function n(s,c,d){t.get(s)[c]=d}function o(){t=new WeakMap}return{get:e,remove:r,update:n,dispose:o}}function painterSortStable(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function reversePainterSortStable(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function WebGLRenderList(){const t=[];let e=0;const r=[],n=[],o=[];function s(){e=0,r.length=0,n.length=0,o.length=0}function c(g,f,y,M,T,A){let E=t[e];return E===void 0?(E={id:g.id,object:g,geometry:f,material:y,groupOrder:M,renderOrder:g.renderOrder,z:T,group:A},t[e]=E):(E.id=g.id,E.object=g,E.geometry=f,E.material=y,E.groupOrder=M,E.renderOrder=g.renderOrder,E.z=T,E.group=A),e++,E}function d(g,f,y,M,T,A){const E=c(g,f,y,M,T,A);y.transmission>0?n.push(E):y.transparent===!0?o.push(E):r.push(E)}function u(g,f,y,M,T,A){const E=c(g,f,y,M,T,A);y.transmission>0?n.unshift(E):y.transparent===!0?o.unshift(E):r.unshift(E)}function m(g,f){r.length>1&&r.sort(g||painterSortStable),n.length>1&&n.sort(f||reversePainterSortStable),o.length>1&&o.sort(f||reversePainterSortStable)}function _(){for(let g=e,f=t.length;g<f;g++){const y=t[g];if(y.id===null)break;y.id=null,y.object=null,y.geometry=null,y.material=null,y.group=null}}return{opaque:r,transmissive:n,transparent:o,init:s,push:d,unshift:u,finish:_,sort:m}}function WebGLRenderLists(){let t=new WeakMap;function e(n,o){const s=t.get(n);let c;return s===void 0?(c=new WebGLRenderList,t.set(n,[c])):o>=s.length?(c=new WebGLRenderList,s.push(c)):c=s[o],c}function r(){t=new WeakMap}return{get:e,dispose:r}}function UniformsCache(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let r;switch(e.type){case"DirectionalLight":r={direction:new Vector3,color:new Color};break;case"SpotLight":r={position:new Vector3,direction:new Vector3,color:new Color,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":r={position:new Vector3,color:new Color,distance:0,decay:0};break;case"HemisphereLight":r={direction:new Vector3,skyColor:new Color,groundColor:new Color};break;case"RectAreaLight":r={color:new Color,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3};break}return t[e.id]=r,r}}}function ShadowUniformsCache(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let r;switch(e.type){case"DirectionalLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=r,r}}}let nextVersion=0;function shadowCastingAndTexturingLightsFirst(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function WebGLLights(t,e){const r=new UniformsCache,n=ShadowUniformsCache(),o={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let _=0;_<9;_++)o.probe.push(new Vector3);const s=new Vector3,c=new Matrix4,d=new Matrix4;function u(_,g){let f=0,y=0,M=0;for(let ne=0;ne<9;ne++)o.probe[ne].set(0,0,0);let T=0,A=0,E=0,C=0,k=0,O=0,I=0,B=0,j=0,U=0;_.sort(shadowCastingAndTexturingLightsFirst);const N=g===!0?Math.PI:1;for(let ne=0,re=_.length;ne<re;ne++){const le=_[ne],ae=le.color,pe=le.intensity,K=le.distance,q=le.shadow&&le.shadow.map?le.shadow.map.texture:null;if(le.isAmbientLight)f+=ae.r*pe*N,y+=ae.g*pe*N,M+=ae.b*pe*N;else if(le.isLightProbe)for(let D=0;D<9;D++)o.probe[D].addScaledVector(le.sh.coefficients[D],pe);else if(le.isDirectionalLight){const D=r.get(le);if(D.color.copy(le.color).multiplyScalar(le.intensity*N),le.castShadow){const z=le.shadow,J=n.get(le);J.shadowBias=z.bias,J.shadowNormalBias=z.normalBias,J.shadowRadius=z.radius,J.shadowMapSize=z.mapSize,o.directionalShadow[T]=J,o.directionalShadowMap[T]=q,o.directionalShadowMatrix[T]=le.shadow.matrix,O++}o.directional[T]=D,T++}else if(le.isSpotLight){const D=r.get(le);D.position.setFromMatrixPosition(le.matrixWorld),D.color.copy(ae).multiplyScalar(pe*N),D.distance=K,D.coneCos=Math.cos(le.angle),D.penumbraCos=Math.cos(le.angle*(1-le.penumbra)),D.decay=le.decay,o.spot[E]=D;const z=le.shadow;if(le.map&&(o.spotLightMap[j]=le.map,j++,z.updateMatrices(le),le.castShadow&&U++),o.spotLightMatrix[E]=z.matrix,le.castShadow){const J=n.get(le);J.shadowBias=z.bias,J.shadowNormalBias=z.normalBias,J.shadowRadius=z.radius,J.shadowMapSize=z.mapSize,o.spotShadow[E]=J,o.spotShadowMap[E]=q,B++}E++}else if(le.isRectAreaLight){const D=r.get(le);D.color.copy(ae).multiplyScalar(pe),D.halfWidth.set(le.width*.5,0,0),D.halfHeight.set(0,le.height*.5,0),o.rectArea[C]=D,C++}else if(le.isPointLight){const D=r.get(le);if(D.color.copy(le.color).multiplyScalar(le.intensity*N),D.distance=le.distance,D.decay=le.decay,le.castShadow){const z=le.shadow,J=n.get(le);J.shadowBias=z.bias,J.shadowNormalBias=z.normalBias,J.shadowRadius=z.radius,J.shadowMapSize=z.mapSize,J.shadowCameraNear=z.camera.near,J.shadowCameraFar=z.camera.far,o.pointShadow[A]=J,o.pointShadowMap[A]=q,o.pointShadowMatrix[A]=le.shadow.matrix,I++}o.point[A]=D,A++}else if(le.isHemisphereLight){const D=r.get(le);D.skyColor.copy(le.color).multiplyScalar(pe*N),D.groundColor.copy(le.groundColor).multiplyScalar(pe*N),o.hemi[k]=D,k++}}C>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(o.rectAreaLTC1=UniformsLib.LTC_FLOAT_1,o.rectAreaLTC2=UniformsLib.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(o.rectAreaLTC1=UniformsLib.LTC_HALF_1,o.rectAreaLTC2=UniformsLib.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),o.ambient[0]=f,o.ambient[1]=y,o.ambient[2]=M;const W=o.hash;(W.directionalLength!==T||W.pointLength!==A||W.spotLength!==E||W.rectAreaLength!==C||W.hemiLength!==k||W.numDirectionalShadows!==O||W.numPointShadows!==I||W.numSpotShadows!==B||W.numSpotMaps!==j)&&(o.directional.length=T,o.spot.length=E,o.rectArea.length=C,o.point.length=A,o.hemi.length=k,o.directionalShadow.length=O,o.directionalShadowMap.length=O,o.pointShadow.length=I,o.pointShadowMap.length=I,o.spotShadow.length=B,o.spotShadowMap.length=B,o.directionalShadowMatrix.length=O,o.pointShadowMatrix.length=I,o.spotLightMatrix.length=B+j-U,o.spotLightMap.length=j,o.numSpotLightShadowsWithMaps=U,W.directionalLength=T,W.pointLength=A,W.spotLength=E,W.rectAreaLength=C,W.hemiLength=k,W.numDirectionalShadows=O,W.numPointShadows=I,W.numSpotShadows=B,W.numSpotMaps=j,o.version=nextVersion++)}function m(_,g){let f=0,y=0,M=0,T=0,A=0;const E=g.matrixWorldInverse;for(let C=0,k=_.length;C<k;C++){const O=_[C];if(O.isDirectionalLight){const I=o.directional[f];I.direction.setFromMatrixPosition(O.matrixWorld),s.setFromMatrixPosition(O.target.matrixWorld),I.direction.sub(s),I.direction.transformDirection(E),f++}else if(O.isSpotLight){const I=o.spot[M];I.position.setFromMatrixPosition(O.matrixWorld),I.position.applyMatrix4(E),I.direction.setFromMatrixPosition(O.matrixWorld),s.setFromMatrixPosition(O.target.matrixWorld),I.direction.sub(s),I.direction.transformDirection(E),M++}else if(O.isRectAreaLight){const I=o.rectArea[T];I.position.setFromMatrixPosition(O.matrixWorld),I.position.applyMatrix4(E),d.identity(),c.copy(O.matrixWorld),c.premultiply(E),d.extractRotation(c),I.halfWidth.set(O.width*.5,0,0),I.halfHeight.set(0,O.height*.5,0),I.halfWidth.applyMatrix4(d),I.halfHeight.applyMatrix4(d),T++}else if(O.isPointLight){const I=o.point[y];I.position.setFromMatrixPosition(O.matrixWorld),I.position.applyMatrix4(E),y++}else if(O.isHemisphereLight){const I=o.hemi[A];I.direction.setFromMatrixPosition(O.matrixWorld),I.direction.transformDirection(E),A++}}}return{setup:u,setupView:m,state:o}}function WebGLRenderState(t,e){const r=new WebGLLights(t,e),n=[],o=[];function s(){n.length=0,o.length=0}function c(_){n.push(_)}function d(_){o.push(_)}function u(_){r.setup(n,_)}function m(_){r.setupView(n,_)}return{init:s,state:{lightsArray:n,shadowsArray:o,lights:r},setupLights:u,setupLightsView:m,pushLight:c,pushShadow:d}}function WebGLRenderStates(t,e){let r=new WeakMap;function n(s,c=0){const d=r.get(s);let u;return d===void 0?(u=new WebGLRenderState(t,e),r.set(s,[u])):c>=d.length?(u=new WebGLRenderState(t,e),d.push(u)):u=d[c],u}function o(){r=new WeakMap}return{get:n,dispose:o}}class MeshDepthMaterial extends Material{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class MeshDistanceMaterial extends Material{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const vertex=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragment=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WebGLShadowMap(t,e,r){let n=new Frustum;const o=new Vector2,s=new Vector2,c=new Vector4,d=new MeshDepthMaterial({depthPacking:RGBADepthPacking}),u=new MeshDistanceMaterial,m={},_=r.maxTextureSize,g={[FrontSide]:BackSide,[BackSide]:FrontSide,[DoubleSide]:DoubleSide},f=new ShaderMaterial({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2},radius:{value:4}},vertexShader:vertex,fragmentShader:fragment}),y=f.clone();y.defines.HORIZONTAL_PASS=1;const M=new BufferGeometry;M.setAttribute("position",new BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const T=new Mesh(M,f),A=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap;let E=this.type;this.render=function(I,B,j){if(A.enabled===!1||A.autoUpdate===!1&&A.needsUpdate===!1||I.length===0)return;const U=t.getRenderTarget(),N=t.getActiveCubeFace(),W=t.getActiveMipmapLevel(),ne=t.state;ne.setBlending(NoBlending),ne.buffers.color.setClear(1,1,1,1),ne.buffers.depth.setTest(!0),ne.setScissorTest(!1);const re=E!==VSMShadowMap&&this.type===VSMShadowMap,le=E===VSMShadowMap&&this.type!==VSMShadowMap;for(let ae=0,pe=I.length;ae<pe;ae++){const K=I[ae],q=K.shadow;if(q===void 0){console.warn("THREE.WebGLShadowMap:",K,"has no shadow.");continue}if(q.autoUpdate===!1&&q.needsUpdate===!1)continue;o.copy(q.mapSize);const D=q.getFrameExtents();if(o.multiply(D),s.copy(q.mapSize),(o.x>_||o.y>_)&&(o.x>_&&(s.x=Math.floor(_/D.x),o.x=s.x*D.x,q.mapSize.x=s.x),o.y>_&&(s.y=Math.floor(_/D.y),o.y=s.y*D.y,q.mapSize.y=s.y)),q.map===null||re===!0||le===!0){const J=this.type!==VSMShadowMap?{minFilter:NearestFilter,magFilter:NearestFilter}:{};q.map!==null&&q.map.dispose(),q.map=new WebGLRenderTarget(o.x,o.y,J),q.map.texture.name=K.name+".shadowMap",q.camera.updateProjectionMatrix()}t.setRenderTarget(q.map),t.clear();const z=q.getViewportCount();for(let J=0;J<z;J++){const ie=q.getViewport(J);c.set(s.x*ie.x,s.y*ie.y,s.x*ie.z,s.y*ie.w),ne.viewport(c),q.updateMatrices(K,J),n=q.getFrustum(),O(B,j,q.camera,K,this.type)}q.isPointLightShadow!==!0&&this.type===VSMShadowMap&&C(q,j),q.needsUpdate=!1}E=this.type,A.needsUpdate=!1,t.setRenderTarget(U,N,W)};function C(I,B){const j=e.update(T);f.defines.VSM_SAMPLES!==I.blurSamples&&(f.defines.VSM_SAMPLES=I.blurSamples,y.defines.VSM_SAMPLES=I.blurSamples,f.needsUpdate=!0,y.needsUpdate=!0),I.mapPass===null&&(I.mapPass=new WebGLRenderTarget(o.x,o.y)),f.uniforms.shadow_pass.value=I.map.texture,f.uniforms.resolution.value=I.mapSize,f.uniforms.radius.value=I.radius,t.setRenderTarget(I.mapPass),t.clear(),t.renderBufferDirect(B,null,j,f,T,null),y.uniforms.shadow_pass.value=I.mapPass.texture,y.uniforms.resolution.value=I.mapSize,y.uniforms.radius.value=I.radius,t.setRenderTarget(I.map),t.clear(),t.renderBufferDirect(B,null,j,y,T,null)}function k(I,B,j,U){let N=null;const W=j.isPointLight===!0?I.customDistanceMaterial:I.customDepthMaterial;if(W!==void 0)N=W;else if(N=j.isPointLight===!0?u:d,t.localClippingEnabled&&B.clipShadows===!0&&Array.isArray(B.clippingPlanes)&&B.clippingPlanes.length!==0||B.displacementMap&&B.displacementScale!==0||B.alphaMap&&B.alphaTest>0||B.map&&B.alphaTest>0){const ne=N.uuid,re=B.uuid;let le=m[ne];le===void 0&&(le={},m[ne]=le);let ae=le[re];ae===void 0&&(ae=N.clone(),le[re]=ae),N=ae}if(N.visible=B.visible,N.wireframe=B.wireframe,U===VSMShadowMap?N.side=B.shadowSide!==null?B.shadowSide:B.side:N.side=B.shadowSide!==null?B.shadowSide:g[B.side],N.alphaMap=B.alphaMap,N.alphaTest=B.alphaTest,N.map=B.map,N.clipShadows=B.clipShadows,N.clippingPlanes=B.clippingPlanes,N.clipIntersection=B.clipIntersection,N.displacementMap=B.displacementMap,N.displacementScale=B.displacementScale,N.displacementBias=B.displacementBias,N.wireframeLinewidth=B.wireframeLinewidth,N.linewidth=B.linewidth,j.isPointLight===!0&&N.isMeshDistanceMaterial===!0){const ne=t.properties.get(N);ne.light=j}return N}function O(I,B,j,U,N){if(I.visible===!1)return;if(I.layers.test(B.layers)&&(I.isMesh||I.isLine||I.isPoints)&&(I.castShadow||I.receiveShadow&&N===VSMShadowMap)&&(!I.frustumCulled||n.intersectsObject(I))){I.modelViewMatrix.multiplyMatrices(j.matrixWorldInverse,I.matrixWorld);const ne=e.update(I),re=I.material;if(Array.isArray(re)){const le=ne.groups;for(let ae=0,pe=le.length;ae<pe;ae++){const K=le[ae],q=re[K.materialIndex];if(q&&q.visible){const D=k(I,q,U,N);t.renderBufferDirect(j,null,ne,D,I,K)}}}else if(re.visible){const le=k(I,re,U,N);t.renderBufferDirect(j,null,ne,le,I,null)}}const W=I.children;for(let ne=0,re=W.length;ne<re;ne++)O(W[ne],B,j,U,N)}}function WebGLState(t,e,r){const n=r.isWebGL2;function o(){let Ce=!1;const Ie=new Vector4;let Ge=null;const We=new Vector4(0,0,0,0);return{setMask:function(Ke){Ge!==Ke&&!Ce&&(t.colorMask(Ke,Ke,Ke,Ke),Ge=Ke)},setLocked:function(Ke){Ce=Ke},setClear:function(Ke,gt,ut,bt,kt){kt===!0&&(Ke*=bt,gt*=bt,ut*=bt),Ie.set(Ke,gt,ut,bt),We.equals(Ie)===!1&&(t.clearColor(Ke,gt,ut,bt),We.copy(Ie))},reset:function(){Ce=!1,Ge=null,We.set(-1,0,0,0)}}}function s(){let Ce=!1,Ie=null,Ge=null,We=null;return{setTest:function(Ke){Ke?Y(t.DEPTH_TEST):we(t.DEPTH_TEST)},setMask:function(Ke){Ie!==Ke&&!Ce&&(t.depthMask(Ke),Ie=Ke)},setFunc:function(Ke){if(Ge!==Ke){switch(Ke){case NeverDepth:t.depthFunc(t.NEVER);break;case AlwaysDepth:t.depthFunc(t.ALWAYS);break;case LessDepth:t.depthFunc(t.LESS);break;case LessEqualDepth:t.depthFunc(t.LEQUAL);break;case EqualDepth:t.depthFunc(t.EQUAL);break;case GreaterEqualDepth:t.depthFunc(t.GEQUAL);break;case GreaterDepth:t.depthFunc(t.GREATER);break;case NotEqualDepth:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Ge=Ke}},setLocked:function(Ke){Ce=Ke},setClear:function(Ke){We!==Ke&&(t.clearDepth(Ke),We=Ke)},reset:function(){Ce=!1,Ie=null,Ge=null,We=null}}}function c(){let Ce=!1,Ie=null,Ge=null,We=null,Ke=null,gt=null,ut=null,bt=null,kt=null;return{setTest:function(ct){Ce||(ct?Y(t.STENCIL_TEST):we(t.STENCIL_TEST))},setMask:function(ct){Ie!==ct&&!Ce&&(t.stencilMask(ct),Ie=ct)},setFunc:function(ct,wt,xt){(Ge!==ct||We!==wt||Ke!==xt)&&(t.stencilFunc(ct,wt,xt),Ge=ct,We=wt,Ke=xt)},setOp:function(ct,wt,xt){(gt!==ct||ut!==wt||bt!==xt)&&(t.stencilOp(ct,wt,xt),gt=ct,ut=wt,bt=xt)},setLocked:function(ct){Ce=ct},setClear:function(ct){kt!==ct&&(t.clearStencil(ct),kt=ct)},reset:function(){Ce=!1,Ie=null,Ge=null,We=null,Ke=null,gt=null,ut=null,bt=null,kt=null}}}const d=new o,u=new s,m=new c,_=new WeakMap,g=new WeakMap;let f={},y={},M=new WeakMap,T=[],A=null,E=!1,C=null,k=null,O=null,I=null,B=null,j=null,U=null,N=!1,W=null,ne=null,re=null,le=null,ae=null;const pe=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let K=!1,q=0;const D=t.getParameter(t.VERSION);D.indexOf("WebGL")!==-1?(q=parseFloat(/^WebGL (\d)/.exec(D)[1]),K=q>=1):D.indexOf("OpenGL ES")!==-1&&(q=parseFloat(/^OpenGL ES (\d)/.exec(D)[1]),K=q>=2);let z=null,J={};const ie=t.getParameter(t.SCISSOR_BOX),fe=t.getParameter(t.VIEWPORT),ee=new Vector4().fromArray(ie),Z=new Vector4().fromArray(fe);function te(Ce,Ie,Ge,We){const Ke=new Uint8Array(4),gt=t.createTexture();t.bindTexture(Ce,gt),t.texParameteri(Ce,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(Ce,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let ut=0;ut<Ge;ut++)n&&(Ce===t.TEXTURE_3D||Ce===t.TEXTURE_2D_ARRAY)?t.texImage3D(Ie,0,t.RGBA,1,1,We,0,t.RGBA,t.UNSIGNED_BYTE,Ke):t.texImage2D(Ie+ut,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Ke);return gt}const de={};de[t.TEXTURE_2D]=te(t.TEXTURE_2D,t.TEXTURE_2D,1),de[t.TEXTURE_CUBE_MAP]=te(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),n&&(de[t.TEXTURE_2D_ARRAY]=te(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),de[t.TEXTURE_3D]=te(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),d.setClear(0,0,0,1),u.setClear(1),m.setClear(0),Y(t.DEPTH_TEST),u.setFunc(LessEqualDepth),ve(!1),me(CullFaceBack),Y(t.CULL_FACE),$(NoBlending);function Y(Ce){f[Ce]!==!0&&(t.enable(Ce),f[Ce]=!0)}function we(Ce){f[Ce]!==!1&&(t.disable(Ce),f[Ce]=!1)}function Te(Ce,Ie){return y[Ce]!==Ie?(t.bindFramebuffer(Ce,Ie),y[Ce]=Ie,n&&(Ce===t.DRAW_FRAMEBUFFER&&(y[t.FRAMEBUFFER]=Ie),Ce===t.FRAMEBUFFER&&(y[t.DRAW_FRAMEBUFFER]=Ie)),!0):!1}function Me(Ce,Ie){let Ge=T,We=!1;if(Ce)if(Ge=M.get(Ie),Ge===void 0&&(Ge=[],M.set(Ie,Ge)),Ce.isWebGLMultipleRenderTargets){const Ke=Ce.texture;if(Ge.length!==Ke.length||Ge[0]!==t.COLOR_ATTACHMENT0){for(let gt=0,ut=Ke.length;gt<ut;gt++)Ge[gt]=t.COLOR_ATTACHMENT0+gt;Ge.length=Ke.length,We=!0}}else Ge[0]!==t.COLOR_ATTACHMENT0&&(Ge[0]=t.COLOR_ATTACHMENT0,We=!0);else Ge[0]!==t.BACK&&(Ge[0]=t.BACK,We=!0);We&&(r.isWebGL2?t.drawBuffers(Ge):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ge))}function Ae(Ce){return A!==Ce?(t.useProgram(Ce),A=Ce,!0):!1}const ue={[AddEquation]:t.FUNC_ADD,[SubtractEquation]:t.FUNC_SUBTRACT,[ReverseSubtractEquation]:t.FUNC_REVERSE_SUBTRACT};if(n)ue[MinEquation]=t.MIN,ue[MaxEquation]=t.MAX;else{const Ce=e.get("EXT_blend_minmax");Ce!==null&&(ue[MinEquation]=Ce.MIN_EXT,ue[MaxEquation]=Ce.MAX_EXT)}const X={[ZeroFactor]:t.ZERO,[OneFactor]:t.ONE,[SrcColorFactor]:t.SRC_COLOR,[SrcAlphaFactor]:t.SRC_ALPHA,[SrcAlphaSaturateFactor]:t.SRC_ALPHA_SATURATE,[DstColorFactor]:t.DST_COLOR,[DstAlphaFactor]:t.DST_ALPHA,[OneMinusSrcColorFactor]:t.ONE_MINUS_SRC_COLOR,[OneMinusSrcAlphaFactor]:t.ONE_MINUS_SRC_ALPHA,[OneMinusDstColorFactor]:t.ONE_MINUS_DST_COLOR,[OneMinusDstAlphaFactor]:t.ONE_MINUS_DST_ALPHA};function $(Ce,Ie,Ge,We,Ke,gt,ut,bt){if(Ce===NoBlending){E===!0&&(we(t.BLEND),E=!1);return}if(E===!1&&(Y(t.BLEND),E=!0),Ce!==CustomBlending){if(Ce!==C||bt!==N){if((k!==AddEquation||B!==AddEquation)&&(t.blendEquation(t.FUNC_ADD),k=AddEquation,B=AddEquation),bt)switch(Ce){case NormalBlending:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:t.blendFunc(t.ONE,t.ONE);break;case SubtractiveBlending:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case MultiplyBlending:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ce);break}else switch(Ce){case NormalBlending:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case SubtractiveBlending:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case MultiplyBlending:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ce);break}O=null,I=null,j=null,U=null,C=Ce,N=bt}return}Ke=Ke||Ie,gt=gt||Ge,ut=ut||We,(Ie!==k||Ke!==B)&&(t.blendEquationSeparate(ue[Ie],ue[Ke]),k=Ie,B=Ke),(Ge!==O||We!==I||gt!==j||ut!==U)&&(t.blendFuncSeparate(X[Ge],X[We],X[gt],X[ut]),O=Ge,I=We,j=gt,U=ut),C=Ce,N=!1}function ge(Ce,Ie){Ce.side===DoubleSide?we(t.CULL_FACE):Y(t.CULL_FACE);let Ge=Ce.side===BackSide;Ie&&(Ge=!Ge),ve(Ge),Ce.blending===NormalBlending&&Ce.transparent===!1?$(NoBlending):$(Ce.blending,Ce.blendEquation,Ce.blendSrc,Ce.blendDst,Ce.blendEquationAlpha,Ce.blendSrcAlpha,Ce.blendDstAlpha,Ce.premultipliedAlpha),u.setFunc(Ce.depthFunc),u.setTest(Ce.depthTest),u.setMask(Ce.depthWrite),d.setMask(Ce.colorWrite);const We=Ce.stencilWrite;m.setTest(We),We&&(m.setMask(Ce.stencilWriteMask),m.setFunc(Ce.stencilFunc,Ce.stencilRef,Ce.stencilFuncMask),m.setOp(Ce.stencilFail,Ce.stencilZFail,Ce.stencilZPass)),Se(Ce.polygonOffset,Ce.polygonOffsetFactor,Ce.polygonOffsetUnits),Ce.alphaToCoverage===!0?Y(t.SAMPLE_ALPHA_TO_COVERAGE):we(t.SAMPLE_ALPHA_TO_COVERAGE)}function ve(Ce){W!==Ce&&(Ce?t.frontFace(t.CW):t.frontFace(t.CCW),W=Ce)}function me(Ce){Ce!==CullFaceNone?(Y(t.CULL_FACE),Ce!==ne&&(Ce===CullFaceBack?t.cullFace(t.BACK):Ce===CullFaceFront?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):we(t.CULL_FACE),ne=Ce}function ce(Ce){Ce!==re&&(K&&t.lineWidth(Ce),re=Ce)}function Se(Ce,Ie,Ge){Ce?(Y(t.POLYGON_OFFSET_FILL),(le!==Ie||ae!==Ge)&&(t.polygonOffset(Ie,Ge),le=Ie,ae=Ge)):we(t.POLYGON_OFFSET_FILL)}function ye(Ce){Ce?Y(t.SCISSOR_TEST):we(t.SCISSOR_TEST)}function be(Ce){Ce===void 0&&(Ce=t.TEXTURE0+pe-1),z!==Ce&&(t.activeTexture(Ce),z=Ce)}function he(Ce,Ie,Ge){Ge===void 0&&(z===null?Ge=t.TEXTURE0+pe-1:Ge=z);let We=J[Ge];We===void 0&&(We={type:void 0,texture:void 0},J[Ge]=We),(We.type!==Ce||We.texture!==Ie)&&(z!==Ge&&(t.activeTexture(Ge),z=Ge),t.bindTexture(Ce,Ie||de[Ce]),We.type=Ce,We.texture=Ie)}function se(){const Ce=J[z];Ce!==void 0&&Ce.type!==void 0&&(t.bindTexture(Ce.type,null),Ce.type=void 0,Ce.texture=void 0)}function Ee(){try{t.compressedTexImage2D.apply(t,arguments)}catch(Ce){console.error("THREE.WebGLState:",Ce)}}function Oe(){try{t.compressedTexImage3D.apply(t,arguments)}catch(Ce){console.error("THREE.WebGLState:",Ce)}}function Fe(){try{t.texSubImage2D.apply(t,arguments)}catch(Ce){console.error("THREE.WebGLState:",Ce)}}function Ne(){try{t.texSubImage3D.apply(t,arguments)}catch(Ce){console.error("THREE.WebGLState:",Ce)}}function Ue(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(Ce){console.error("THREE.WebGLState:",Ce)}}function je(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(Ce){console.error("THREE.WebGLState:",Ce)}}function Le(){try{t.texStorage2D.apply(t,arguments)}catch(Ce){console.error("THREE.WebGLState:",Ce)}}function Xe(){try{t.texStorage3D.apply(t,arguments)}catch(Ce){console.error("THREE.WebGLState:",Ce)}}function Ye(){try{t.texImage2D.apply(t,arguments)}catch(Ce){console.error("THREE.WebGLState:",Ce)}}function qe(){try{t.texImage3D.apply(t,arguments)}catch(Ce){console.error("THREE.WebGLState:",Ce)}}function He(Ce){ee.equals(Ce)===!1&&(t.scissor(Ce.x,Ce.y,Ce.z,Ce.w),ee.copy(Ce))}function ze(Ce){Z.equals(Ce)===!1&&(t.viewport(Ce.x,Ce.y,Ce.z,Ce.w),Z.copy(Ce))}function Je(Ce,Ie){let Ge=g.get(Ie);Ge===void 0&&(Ge=new WeakMap,g.set(Ie,Ge));let We=Ge.get(Ce);We===void 0&&(We=t.getUniformBlockIndex(Ie,Ce.name),Ge.set(Ce,We))}function ot(Ce,Ie){const Ge=g.get(Ie).get(Ce);_.get(Ie)!==Ge&&(t.uniformBlockBinding(Ie,Ge,Ce.__bindingPointIndex),_.set(Ie,Ge))}function _t(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),n===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),f={},z=null,J={},y={},M=new WeakMap,T=[],A=null,E=!1,C=null,k=null,O=null,I=null,B=null,j=null,U=null,N=!1,W=null,ne=null,re=null,le=null,ae=null,ee.set(0,0,t.canvas.width,t.canvas.height),Z.set(0,0,t.canvas.width,t.canvas.height),d.reset(),u.reset(),m.reset()}return{buffers:{color:d,depth:u,stencil:m},enable:Y,disable:we,bindFramebuffer:Te,drawBuffers:Me,useProgram:Ae,setBlending:$,setMaterial:ge,setFlipSided:ve,setCullFace:me,setLineWidth:ce,setPolygonOffset:Se,setScissorTest:ye,activeTexture:be,bindTexture:he,unbindTexture:se,compressedTexImage2D:Ee,compressedTexImage3D:Oe,texImage2D:Ye,texImage3D:qe,updateUBOMapping:Je,uniformBlockBinding:ot,texStorage2D:Le,texStorage3D:Xe,texSubImage2D:Fe,texSubImage3D:Ne,compressedTexSubImage2D:Ue,compressedTexSubImage3D:je,scissor:He,viewport:ze,reset:_t}}function WebGLTextures(t,e,r,n,o,s,c){const d=o.isWebGL2,u=o.maxTextures,m=o.maxCubemapSize,_=o.maxTextureSize,g=o.maxSamples,f=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,y=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),M=new WeakMap;let T;const A=new WeakMap;let E=!1;try{E=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function C(he,se){return E?new OffscreenCanvas(he,se):createElementNS("canvas")}function k(he,se,Ee,Oe){let Fe=1;if((he.width>Oe||he.height>Oe)&&(Fe=Oe/Math.max(he.width,he.height)),Fe<1||se===!0)if(typeof HTMLImageElement<"u"&&he instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&he instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&he instanceof ImageBitmap){const Ne=se?floorPowerOfTwo:Math.floor,Ue=Ne(Fe*he.width),je=Ne(Fe*he.height);T===void 0&&(T=C(Ue,je));const Le=Ee?C(Ue,je):T;return Le.width=Ue,Le.height=je,Le.getContext("2d").drawImage(he,0,0,Ue,je),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+he.width+"x"+he.height+") to ("+Ue+"x"+je+")."),Le}else return"data"in he&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+he.width+"x"+he.height+")."),he;return he}function O(he){return isPowerOfTwo(he.width)&&isPowerOfTwo(he.height)}function I(he){return d?!1:he.wrapS!==ClampToEdgeWrapping||he.wrapT!==ClampToEdgeWrapping||he.minFilter!==NearestFilter&&he.minFilter!==LinearFilter}function B(he,se){return he.generateMipmaps&&se&&he.minFilter!==NearestFilter&&he.minFilter!==LinearFilter}function j(he){t.generateMipmap(he)}function U(he,se,Ee,Oe,Fe=!1){if(d===!1)return se;if(he!==null){if(t[he]!==void 0)return t[he];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+he+"'")}let Ne=se;return se===t.RED&&(Ee===t.FLOAT&&(Ne=t.R32F),Ee===t.HALF_FLOAT&&(Ne=t.R16F),Ee===t.UNSIGNED_BYTE&&(Ne=t.R8)),se===t.RG&&(Ee===t.FLOAT&&(Ne=t.RG32F),Ee===t.HALF_FLOAT&&(Ne=t.RG16F),Ee===t.UNSIGNED_BYTE&&(Ne=t.RG8)),se===t.RGBA&&(Ee===t.FLOAT&&(Ne=t.RGBA32F),Ee===t.HALF_FLOAT&&(Ne=t.RGBA16F),Ee===t.UNSIGNED_BYTE&&(Ne=Oe===SRGBColorSpace&&Fe===!1?t.SRGB8_ALPHA8:t.RGBA8),Ee===t.UNSIGNED_SHORT_4_4_4_4&&(Ne=t.RGBA4),Ee===t.UNSIGNED_SHORT_5_5_5_1&&(Ne=t.RGB5_A1)),(Ne===t.R16F||Ne===t.R32F||Ne===t.RG16F||Ne===t.RG32F||Ne===t.RGBA16F||Ne===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Ne}function N(he,se,Ee){return B(he,Ee)===!0||he.isFramebufferTexture&&he.minFilter!==NearestFilter&&he.minFilter!==LinearFilter?Math.log2(Math.max(se.width,se.height))+1:he.mipmaps!==void 0&&he.mipmaps.length>0?he.mipmaps.length:he.isCompressedTexture&&Array.isArray(he.image)?se.mipmaps.length:1}function W(he){return he===NearestFilter||he===NearestMipmapNearestFilter||he===NearestMipmapLinearFilter?t.NEAREST:t.LINEAR}function ne(he){const se=he.target;se.removeEventListener("dispose",ne),le(se),se.isVideoTexture&&M.delete(se)}function re(he){const se=he.target;se.removeEventListener("dispose",re),pe(se)}function le(he){const se=n.get(he);if(se.__webglInit===void 0)return;const Ee=he.source,Oe=A.get(Ee);if(Oe){const Fe=Oe[se.__cacheKey];Fe.usedTimes--,Fe.usedTimes===0&&ae(he),Object.keys(Oe).length===0&&A.delete(Ee)}n.remove(he)}function ae(he){const se=n.get(he);t.deleteTexture(se.__webglTexture);const Ee=he.source,Oe=A.get(Ee);delete Oe[se.__cacheKey],c.memory.textures--}function pe(he){const se=he.texture,Ee=n.get(he),Oe=n.get(se);if(Oe.__webglTexture!==void 0&&(t.deleteTexture(Oe.__webglTexture),c.memory.textures--),he.depthTexture&&he.depthTexture.dispose(),he.isWebGLCubeRenderTarget)for(let Fe=0;Fe<6;Fe++)t.deleteFramebuffer(Ee.__webglFramebuffer[Fe]),Ee.__webglDepthbuffer&&t.deleteRenderbuffer(Ee.__webglDepthbuffer[Fe]);else{if(t.deleteFramebuffer(Ee.__webglFramebuffer),Ee.__webglDepthbuffer&&t.deleteRenderbuffer(Ee.__webglDepthbuffer),Ee.__webglMultisampledFramebuffer&&t.deleteFramebuffer(Ee.__webglMultisampledFramebuffer),Ee.__webglColorRenderbuffer)for(let Fe=0;Fe<Ee.__webglColorRenderbuffer.length;Fe++)Ee.__webglColorRenderbuffer[Fe]&&t.deleteRenderbuffer(Ee.__webglColorRenderbuffer[Fe]);Ee.__webglDepthRenderbuffer&&t.deleteRenderbuffer(Ee.__webglDepthRenderbuffer)}if(he.isWebGLMultipleRenderTargets)for(let Fe=0,Ne=se.length;Fe<Ne;Fe++){const Ue=n.get(se[Fe]);Ue.__webglTexture&&(t.deleteTexture(Ue.__webglTexture),c.memory.textures--),n.remove(se[Fe])}n.remove(se),n.remove(he)}let K=0;function q(){K=0}function D(){const he=K;return he>=u&&console.warn("THREE.WebGLTextures: Trying to use "+he+" texture units while this GPU supports only "+u),K+=1,he}function z(he){const se=[];return se.push(he.wrapS),se.push(he.wrapT),se.push(he.wrapR||0),se.push(he.magFilter),se.push(he.minFilter),se.push(he.anisotropy),se.push(he.internalFormat),se.push(he.format),se.push(he.type),se.push(he.generateMipmaps),se.push(he.premultiplyAlpha),se.push(he.flipY),se.push(he.unpackAlignment),se.push(he.colorSpace),se.join()}function J(he,se){const Ee=n.get(he);if(he.isVideoTexture&&ye(he),he.isRenderTargetTexture===!1&&he.version>0&&Ee.__version!==he.version){const Oe=he.image;if(Oe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Oe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{we(Ee,he,se);return}}r.bindTexture(t.TEXTURE_2D,Ee.__webglTexture,t.TEXTURE0+se)}function ie(he,se){const Ee=n.get(he);if(he.version>0&&Ee.__version!==he.version){we(Ee,he,se);return}r.bindTexture(t.TEXTURE_2D_ARRAY,Ee.__webglTexture,t.TEXTURE0+se)}function fe(he,se){const Ee=n.get(he);if(he.version>0&&Ee.__version!==he.version){we(Ee,he,se);return}r.bindTexture(t.TEXTURE_3D,Ee.__webglTexture,t.TEXTURE0+se)}function ee(he,se){const Ee=n.get(he);if(he.version>0&&Ee.__version!==he.version){Te(Ee,he,se);return}r.bindTexture(t.TEXTURE_CUBE_MAP,Ee.__webglTexture,t.TEXTURE0+se)}const Z={[RepeatWrapping]:t.REPEAT,[ClampToEdgeWrapping]:t.CLAMP_TO_EDGE,[MirroredRepeatWrapping]:t.MIRRORED_REPEAT},te={[NearestFilter]:t.NEAREST,[NearestMipmapNearestFilter]:t.NEAREST_MIPMAP_NEAREST,[NearestMipmapLinearFilter]:t.NEAREST_MIPMAP_LINEAR,[LinearFilter]:t.LINEAR,[LinearMipmapNearestFilter]:t.LINEAR_MIPMAP_NEAREST,[LinearMipmapLinearFilter]:t.LINEAR_MIPMAP_LINEAR};function de(he,se,Ee){if(Ee?(t.texParameteri(he,t.TEXTURE_WRAP_S,Z[se.wrapS]),t.texParameteri(he,t.TEXTURE_WRAP_T,Z[se.wrapT]),(he===t.TEXTURE_3D||he===t.TEXTURE_2D_ARRAY)&&t.texParameteri(he,t.TEXTURE_WRAP_R,Z[se.wrapR]),t.texParameteri(he,t.TEXTURE_MAG_FILTER,te[se.magFilter]),t.texParameteri(he,t.TEXTURE_MIN_FILTER,te[se.minFilter])):(t.texParameteri(he,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(he,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(he===t.TEXTURE_3D||he===t.TEXTURE_2D_ARRAY)&&t.texParameteri(he,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(se.wrapS!==ClampToEdgeWrapping||se.wrapT!==ClampToEdgeWrapping)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(he,t.TEXTURE_MAG_FILTER,W(se.magFilter)),t.texParameteri(he,t.TEXTURE_MIN_FILTER,W(se.minFilter)),se.minFilter!==NearestFilter&&se.minFilter!==LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Oe=e.get("EXT_texture_filter_anisotropic");if(se.magFilter===NearestFilter||se.minFilter!==NearestMipmapLinearFilter&&se.minFilter!==LinearMipmapLinearFilter||se.type===FloatType&&e.has("OES_texture_float_linear")===!1||d===!1&&se.type===HalfFloatType&&e.has("OES_texture_half_float_linear")===!1)return;(se.anisotropy>1||n.get(se).__currentAnisotropy)&&(t.texParameterf(he,Oe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(se.anisotropy,o.getMaxAnisotropy())),n.get(se).__currentAnisotropy=se.anisotropy)}}function Y(he,se){let Ee=!1;he.__webglInit===void 0&&(he.__webglInit=!0,se.addEventListener("dispose",ne));const Oe=se.source;let Fe=A.get(Oe);Fe===void 0&&(Fe={},A.set(Oe,Fe));const Ne=z(se);if(Ne!==he.__cacheKey){Fe[Ne]===void 0&&(Fe[Ne]={texture:t.createTexture(),usedTimes:0},c.memory.textures++,Ee=!0),Fe[Ne].usedTimes++;const Ue=Fe[he.__cacheKey];Ue!==void 0&&(Fe[he.__cacheKey].usedTimes--,Ue.usedTimes===0&&ae(se)),he.__cacheKey=Ne,he.__webglTexture=Fe[Ne].texture}return Ee}function we(he,se,Ee){let Oe=t.TEXTURE_2D;(se.isDataArrayTexture||se.isCompressedArrayTexture)&&(Oe=t.TEXTURE_2D_ARRAY),se.isData3DTexture&&(Oe=t.TEXTURE_3D);const Fe=Y(he,se),Ne=se.source;r.bindTexture(Oe,he.__webglTexture,t.TEXTURE0+Ee);const Ue=n.get(Ne);if(Ne.version!==Ue.__version||Fe===!0){r.activeTexture(t.TEXTURE0+Ee),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,se.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,se.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,se.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const je=I(se)&&O(se.image)===!1;let Le=k(se.image,je,!1,_);Le=be(se,Le);const Xe=O(Le)||d,Ye=s.convert(se.format,se.colorSpace);let qe=s.convert(se.type),He=U(se.internalFormat,Ye,qe,se.colorSpace);de(Oe,se,Xe);let ze;const Je=se.mipmaps,ot=d&&se.isVideoTexture!==!0,_t=Ue.__version===void 0||Fe===!0,Ce=N(se,Le,Xe);if(se.isDepthTexture)He=t.DEPTH_COMPONENT,d?se.type===FloatType?He=t.DEPTH_COMPONENT32F:se.type===UnsignedIntType?He=t.DEPTH_COMPONENT24:se.type===UnsignedInt248Type?He=t.DEPTH24_STENCIL8:He=t.DEPTH_COMPONENT16:se.type===FloatType&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),se.format===DepthFormat&&He===t.DEPTH_COMPONENT&&se.type!==UnsignedShortType&&se.type!==UnsignedIntType&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),se.type=UnsignedIntType,qe=s.convert(se.type)),se.format===DepthStencilFormat&&He===t.DEPTH_COMPONENT&&(He=t.DEPTH_STENCIL,se.type!==UnsignedInt248Type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),se.type=UnsignedInt248Type,qe=s.convert(se.type))),_t&&(ot?r.texStorage2D(t.TEXTURE_2D,1,He,Le.width,Le.height):r.texImage2D(t.TEXTURE_2D,0,He,Le.width,Le.height,0,Ye,qe,null));else if(se.isDataTexture)if(Je.length>0&&Xe){ot&&_t&&r.texStorage2D(t.TEXTURE_2D,Ce,He,Je[0].width,Je[0].height);for(let Ie=0,Ge=Je.length;Ie<Ge;Ie++)ze=Je[Ie],ot?r.texSubImage2D(t.TEXTURE_2D,Ie,0,0,ze.width,ze.height,Ye,qe,ze.data):r.texImage2D(t.TEXTURE_2D,Ie,He,ze.width,ze.height,0,Ye,qe,ze.data);se.generateMipmaps=!1}else ot?(_t&&r.texStorage2D(t.TEXTURE_2D,Ce,He,Le.width,Le.height),r.texSubImage2D(t.TEXTURE_2D,0,0,0,Le.width,Le.height,Ye,qe,Le.data)):r.texImage2D(t.TEXTURE_2D,0,He,Le.width,Le.height,0,Ye,qe,Le.data);else if(se.isCompressedTexture)if(se.isCompressedArrayTexture){ot&&_t&&r.texStorage3D(t.TEXTURE_2D_ARRAY,Ce,He,Je[0].width,Je[0].height,Le.depth);for(let Ie=0,Ge=Je.length;Ie<Ge;Ie++)ze=Je[Ie],se.format!==RGBAFormat?Ye!==null?ot?r.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ie,0,0,0,ze.width,ze.height,Le.depth,Ye,ze.data,0,0):r.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Ie,He,ze.width,ze.height,Le.depth,0,ze.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ot?r.texSubImage3D(t.TEXTURE_2D_ARRAY,Ie,0,0,0,ze.width,ze.height,Le.depth,Ye,qe,ze.data):r.texImage3D(t.TEXTURE_2D_ARRAY,Ie,He,ze.width,ze.height,Le.depth,0,Ye,qe,ze.data)}else{ot&&_t&&r.texStorage2D(t.TEXTURE_2D,Ce,He,Je[0].width,Je[0].height);for(let Ie=0,Ge=Je.length;Ie<Ge;Ie++)ze=Je[Ie],se.format!==RGBAFormat?Ye!==null?ot?r.compressedTexSubImage2D(t.TEXTURE_2D,Ie,0,0,ze.width,ze.height,Ye,ze.data):r.compressedTexImage2D(t.TEXTURE_2D,Ie,He,ze.width,ze.height,0,ze.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ot?r.texSubImage2D(t.TEXTURE_2D,Ie,0,0,ze.width,ze.height,Ye,qe,ze.data):r.texImage2D(t.TEXTURE_2D,Ie,He,ze.width,ze.height,0,Ye,qe,ze.data)}else if(se.isDataArrayTexture)ot?(_t&&r.texStorage3D(t.TEXTURE_2D_ARRAY,Ce,He,Le.width,Le.height,Le.depth),r.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Le.width,Le.height,Le.depth,Ye,qe,Le.data)):r.texImage3D(t.TEXTURE_2D_ARRAY,0,He,Le.width,Le.height,Le.depth,0,Ye,qe,Le.data);else if(se.isData3DTexture)ot?(_t&&r.texStorage3D(t.TEXTURE_3D,Ce,He,Le.width,Le.height,Le.depth),r.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Le.width,Le.height,Le.depth,Ye,qe,Le.data)):r.texImage3D(t.TEXTURE_3D,0,He,Le.width,Le.height,Le.depth,0,Ye,qe,Le.data);else if(se.isFramebufferTexture){if(_t)if(ot)r.texStorage2D(t.TEXTURE_2D,Ce,He,Le.width,Le.height);else{let Ie=Le.width,Ge=Le.height;for(let We=0;We<Ce;We++)r.texImage2D(t.TEXTURE_2D,We,He,Ie,Ge,0,Ye,qe,null),Ie>>=1,Ge>>=1}}else if(Je.length>0&&Xe){ot&&_t&&r.texStorage2D(t.TEXTURE_2D,Ce,He,Je[0].width,Je[0].height);for(let Ie=0,Ge=Je.length;Ie<Ge;Ie++)ze=Je[Ie],ot?r.texSubImage2D(t.TEXTURE_2D,Ie,0,0,Ye,qe,ze):r.texImage2D(t.TEXTURE_2D,Ie,He,Ye,qe,ze);se.generateMipmaps=!1}else ot?(_t&&r.texStorage2D(t.TEXTURE_2D,Ce,He,Le.width,Le.height),r.texSubImage2D(t.TEXTURE_2D,0,0,0,Ye,qe,Le)):r.texImage2D(t.TEXTURE_2D,0,He,Ye,qe,Le);B(se,Xe)&&j(Oe),Ue.__version=Ne.version,se.onUpdate&&se.onUpdate(se)}he.__version=se.version}function Te(he,se,Ee){if(se.image.length!==6)return;const Oe=Y(he,se),Fe=se.source;r.bindTexture(t.TEXTURE_CUBE_MAP,he.__webglTexture,t.TEXTURE0+Ee);const Ne=n.get(Fe);if(Fe.version!==Ne.__version||Oe===!0){r.activeTexture(t.TEXTURE0+Ee),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,se.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,se.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,se.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const Ue=se.isCompressedTexture||se.image[0].isCompressedTexture,je=se.image[0]&&se.image[0].isDataTexture,Le=[];for(let Ie=0;Ie<6;Ie++)!Ue&&!je?Le[Ie]=k(se.image[Ie],!1,!0,m):Le[Ie]=je?se.image[Ie].image:se.image[Ie],Le[Ie]=be(se,Le[Ie]);const Xe=Le[0],Ye=O(Xe)||d,qe=s.convert(se.format,se.colorSpace),He=s.convert(se.type),ze=U(se.internalFormat,qe,He,se.colorSpace),Je=d&&se.isVideoTexture!==!0,ot=Ne.__version===void 0||Oe===!0;let _t=N(se,Xe,Ye);de(t.TEXTURE_CUBE_MAP,se,Ye);let Ce;if(Ue){Je&&ot&&r.texStorage2D(t.TEXTURE_CUBE_MAP,_t,ze,Xe.width,Xe.height);for(let Ie=0;Ie<6;Ie++){Ce=Le[Ie].mipmaps;for(let Ge=0;Ge<Ce.length;Ge++){const We=Ce[Ge];se.format!==RGBAFormat?qe!==null?Je?r.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,Ge,0,0,We.width,We.height,qe,We.data):r.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,Ge,ze,We.width,We.height,0,We.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Je?r.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,Ge,0,0,We.width,We.height,qe,He,We.data):r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,Ge,ze,We.width,We.height,0,qe,He,We.data)}}}else{Ce=se.mipmaps,Je&&ot&&(Ce.length>0&&_t++,r.texStorage2D(t.TEXTURE_CUBE_MAP,_t,ze,Le[0].width,Le[0].height));for(let Ie=0;Ie<6;Ie++)if(je){Je?r.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,0,0,0,Le[Ie].width,Le[Ie].height,qe,He,Le[Ie].data):r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,0,ze,Le[Ie].width,Le[Ie].height,0,qe,He,Le[Ie].data);for(let Ge=0;Ge<Ce.length;Ge++){const We=Ce[Ge].image[Ie].image;Je?r.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,Ge+1,0,0,We.width,We.height,qe,He,We.data):r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,Ge+1,ze,We.width,We.height,0,qe,He,We.data)}}else{Je?r.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,0,0,0,qe,He,Le[Ie]):r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,0,ze,qe,He,Le[Ie]);for(let Ge=0;Ge<Ce.length;Ge++){const We=Ce[Ge];Je?r.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,Ge+1,0,0,qe,He,We.image[Ie]):r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,Ge+1,ze,qe,He,We.image[Ie])}}}B(se,Ye)&&j(t.TEXTURE_CUBE_MAP),Ne.__version=Fe.version,se.onUpdate&&se.onUpdate(se)}he.__version=se.version}function Me(he,se,Ee,Oe,Fe){const Ne=s.convert(Ee.format,Ee.colorSpace),Ue=s.convert(Ee.type),je=U(Ee.internalFormat,Ne,Ue,Ee.colorSpace);n.get(se).__hasExternalTextures||(Fe===t.TEXTURE_3D||Fe===t.TEXTURE_2D_ARRAY?r.texImage3D(Fe,0,je,se.width,se.height,se.depth,0,Ne,Ue,null):r.texImage2D(Fe,0,je,se.width,se.height,0,Ne,Ue,null)),r.bindFramebuffer(t.FRAMEBUFFER,he),Se(se)?f.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Oe,Fe,n.get(Ee).__webglTexture,0,ce(se)):(Fe===t.TEXTURE_2D||Fe>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Fe<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Oe,Fe,n.get(Ee).__webglTexture,0),r.bindFramebuffer(t.FRAMEBUFFER,null)}function Ae(he,se,Ee){if(t.bindRenderbuffer(t.RENDERBUFFER,he),se.depthBuffer&&!se.stencilBuffer){let Oe=t.DEPTH_COMPONENT16;if(Ee||Se(se)){const Fe=se.depthTexture;Fe&&Fe.isDepthTexture&&(Fe.type===FloatType?Oe=t.DEPTH_COMPONENT32F:Fe.type===UnsignedIntType&&(Oe=t.DEPTH_COMPONENT24));const Ne=ce(se);Se(se)?f.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ne,Oe,se.width,se.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,Ne,Oe,se.width,se.height)}else t.renderbufferStorage(t.RENDERBUFFER,Oe,se.width,se.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,he)}else if(se.depthBuffer&&se.stencilBuffer){const Oe=ce(se);Ee&&Se(se)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Oe,t.DEPTH24_STENCIL8,se.width,se.height):Se(se)?f.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Oe,t.DEPTH24_STENCIL8,se.width,se.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,se.width,se.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,he)}else{const Oe=se.isWebGLMultipleRenderTargets===!0?se.texture:[se.texture];for(let Fe=0;Fe<Oe.length;Fe++){const Ne=Oe[Fe],Ue=s.convert(Ne.format,Ne.colorSpace),je=s.convert(Ne.type),Le=U(Ne.internalFormat,Ue,je,Ne.colorSpace),Xe=ce(se);Ee&&Se(se)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Xe,Le,se.width,se.height):Se(se)?f.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Xe,Le,se.width,se.height):t.renderbufferStorage(t.RENDERBUFFER,Le,se.width,se.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function ue(he,se){if(se&&se.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(r.bindFramebuffer(t.FRAMEBUFFER,he),!(se.depthTexture&&se.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(se.depthTexture).__webglTexture||se.depthTexture.image.width!==se.width||se.depthTexture.image.height!==se.height)&&(se.depthTexture.image.width=se.width,se.depthTexture.image.height=se.height,se.depthTexture.needsUpdate=!0),J(se.depthTexture,0);const Ee=n.get(se.depthTexture).__webglTexture,Oe=ce(se);if(se.depthTexture.format===DepthFormat)Se(se)?f.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ee,0,Oe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ee,0);else if(se.depthTexture.format===DepthStencilFormat)Se(se)?f.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ee,0,Oe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ee,0);else throw new Error("Unknown depthTexture format")}function X(he){const se=n.get(he),Ee=he.isWebGLCubeRenderTarget===!0;if(he.depthTexture&&!se.__autoAllocateDepthBuffer){if(Ee)throw new Error("target.depthTexture not supported in Cube render targets");ue(se.__webglFramebuffer,he)}else if(Ee){se.__webglDepthbuffer=[];for(let Oe=0;Oe<6;Oe++)r.bindFramebuffer(t.FRAMEBUFFER,se.__webglFramebuffer[Oe]),se.__webglDepthbuffer[Oe]=t.createRenderbuffer(),Ae(se.__webglDepthbuffer[Oe],he,!1)}else r.bindFramebuffer(t.FRAMEBUFFER,se.__webglFramebuffer),se.__webglDepthbuffer=t.createRenderbuffer(),Ae(se.__webglDepthbuffer,he,!1);r.bindFramebuffer(t.FRAMEBUFFER,null)}function $(he,se,Ee){const Oe=n.get(he);se!==void 0&&Me(Oe.__webglFramebuffer,he,he.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),Ee!==void 0&&X(he)}function ge(he){const se=he.texture,Ee=n.get(he),Oe=n.get(se);he.addEventListener("dispose",re),he.isWebGLMultipleRenderTargets!==!0&&(Oe.__webglTexture===void 0&&(Oe.__webglTexture=t.createTexture()),Oe.__version=se.version,c.memory.textures++);const Fe=he.isWebGLCubeRenderTarget===!0,Ne=he.isWebGLMultipleRenderTargets===!0,Ue=O(he)||d;if(Fe){Ee.__webglFramebuffer=[];for(let je=0;je<6;je++)Ee.__webglFramebuffer[je]=t.createFramebuffer()}else{if(Ee.__webglFramebuffer=t.createFramebuffer(),Ne)if(o.drawBuffers){const je=he.texture;for(let Le=0,Xe=je.length;Le<Xe;Le++){const Ye=n.get(je[Le]);Ye.__webglTexture===void 0&&(Ye.__webglTexture=t.createTexture(),c.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(d&&he.samples>0&&Se(he)===!1){const je=Ne?se:[se];Ee.__webglMultisampledFramebuffer=t.createFramebuffer(),Ee.__webglColorRenderbuffer=[],r.bindFramebuffer(t.FRAMEBUFFER,Ee.__webglMultisampledFramebuffer);for(let Le=0;Le<je.length;Le++){const Xe=je[Le];Ee.__webglColorRenderbuffer[Le]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,Ee.__webglColorRenderbuffer[Le]);const Ye=s.convert(Xe.format,Xe.colorSpace),qe=s.convert(Xe.type),He=U(Xe.internalFormat,Ye,qe,Xe.colorSpace,he.isXRRenderTarget===!0),ze=ce(he);t.renderbufferStorageMultisample(t.RENDERBUFFER,ze,He,he.width,he.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Le,t.RENDERBUFFER,Ee.__webglColorRenderbuffer[Le])}t.bindRenderbuffer(t.RENDERBUFFER,null),he.depthBuffer&&(Ee.__webglDepthRenderbuffer=t.createRenderbuffer(),Ae(Ee.__webglDepthRenderbuffer,he,!0)),r.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Fe){r.bindTexture(t.TEXTURE_CUBE_MAP,Oe.__webglTexture),de(t.TEXTURE_CUBE_MAP,se,Ue);for(let je=0;je<6;je++)Me(Ee.__webglFramebuffer[je],he,se,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+je);B(se,Ue)&&j(t.TEXTURE_CUBE_MAP),r.unbindTexture()}else if(Ne){const je=he.texture;for(let Le=0,Xe=je.length;Le<Xe;Le++){const Ye=je[Le],qe=n.get(Ye);r.bindTexture(t.TEXTURE_2D,qe.__webglTexture),de(t.TEXTURE_2D,Ye,Ue),Me(Ee.__webglFramebuffer,he,Ye,t.COLOR_ATTACHMENT0+Le,t.TEXTURE_2D),B(Ye,Ue)&&j(t.TEXTURE_2D)}r.unbindTexture()}else{let je=t.TEXTURE_2D;(he.isWebGL3DRenderTarget||he.isWebGLArrayRenderTarget)&&(d?je=he.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),r.bindTexture(je,Oe.__webglTexture),de(je,se,Ue),Me(Ee.__webglFramebuffer,he,se,t.COLOR_ATTACHMENT0,je),B(se,Ue)&&j(je),r.unbindTexture()}he.depthBuffer&&X(he)}function ve(he){const se=O(he)||d,Ee=he.isWebGLMultipleRenderTargets===!0?he.texture:[he.texture];for(let Oe=0,Fe=Ee.length;Oe<Fe;Oe++){const Ne=Ee[Oe];if(B(Ne,se)){const Ue=he.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,je=n.get(Ne).__webglTexture;r.bindTexture(Ue,je),j(Ue),r.unbindTexture()}}}function me(he){if(d&&he.samples>0&&Se(he)===!1){const se=he.isWebGLMultipleRenderTargets?he.texture:[he.texture],Ee=he.width,Oe=he.height;let Fe=t.COLOR_BUFFER_BIT;const Ne=[],Ue=he.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,je=n.get(he),Le=he.isWebGLMultipleRenderTargets===!0;if(Le)for(let Xe=0;Xe<se.length;Xe++)r.bindFramebuffer(t.FRAMEBUFFER,je.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Xe,t.RENDERBUFFER,null),r.bindFramebuffer(t.FRAMEBUFFER,je.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Xe,t.TEXTURE_2D,null,0);r.bindFramebuffer(t.READ_FRAMEBUFFER,je.__webglMultisampledFramebuffer),r.bindFramebuffer(t.DRAW_FRAMEBUFFER,je.__webglFramebuffer);for(let Xe=0;Xe<se.length;Xe++){Ne.push(t.COLOR_ATTACHMENT0+Xe),he.depthBuffer&&Ne.push(Ue);const Ye=je.__ignoreDepthValues!==void 0?je.__ignoreDepthValues:!1;if(Ye===!1&&(he.depthBuffer&&(Fe|=t.DEPTH_BUFFER_BIT),he.stencilBuffer&&(Fe|=t.STENCIL_BUFFER_BIT)),Le&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,je.__webglColorRenderbuffer[Xe]),Ye===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[Ue]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[Ue])),Le){const qe=n.get(se[Xe]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,qe,0)}t.blitFramebuffer(0,0,Ee,Oe,0,0,Ee,Oe,Fe,t.NEAREST),y&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Ne)}if(r.bindFramebuffer(t.READ_FRAMEBUFFER,null),r.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Le)for(let Xe=0;Xe<se.length;Xe++){r.bindFramebuffer(t.FRAMEBUFFER,je.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Xe,t.RENDERBUFFER,je.__webglColorRenderbuffer[Xe]);const Ye=n.get(se[Xe]).__webglTexture;r.bindFramebuffer(t.FRAMEBUFFER,je.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Xe,t.TEXTURE_2D,Ye,0)}r.bindFramebuffer(t.DRAW_FRAMEBUFFER,je.__webglMultisampledFramebuffer)}}function ce(he){return Math.min(g,he.samples)}function Se(he){const se=n.get(he);return d&&he.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&se.__useRenderToTexture!==!1}function ye(he){const se=c.render.frame;M.get(he)!==se&&(M.set(he,se),he.update())}function be(he,se){const Ee=he.colorSpace,Oe=he.format,Fe=he.type;return he.isCompressedTexture===!0||he.format===_SRGBAFormat||Ee!==LinearSRGBColorSpace&&Ee!==NoColorSpace&&(Ee===SRGBColorSpace?d===!1?e.has("EXT_sRGB")===!0&&Oe===RGBAFormat?(he.format=_SRGBAFormat,he.minFilter=LinearFilter,he.generateMipmaps=!1):se=ImageUtils.sRGBToLinear(se):(Oe!==RGBAFormat||Fe!==UnsignedByteType)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Ee)),se}this.allocateTextureUnit=D,this.resetTextureUnits=q,this.setTexture2D=J,this.setTexture2DArray=ie,this.setTexture3D=fe,this.setTextureCube=ee,this.rebindTextures=$,this.setupRenderTarget=ge,this.updateRenderTargetMipmap=ve,this.updateMultisampleRenderTarget=me,this.setupDepthRenderbuffer=X,this.setupFrameBufferTexture=Me,this.useMultisampledRTT=Se}function WebGLUtils(t,e,r){const n=r.isWebGL2;function o(s,c=NoColorSpace){let d;if(s===UnsignedByteType)return t.UNSIGNED_BYTE;if(s===UnsignedShort4444Type)return t.UNSIGNED_SHORT_4_4_4_4;if(s===UnsignedShort5551Type)return t.UNSIGNED_SHORT_5_5_5_1;if(s===ByteType)return t.BYTE;if(s===ShortType)return t.SHORT;if(s===UnsignedShortType)return t.UNSIGNED_SHORT;if(s===IntType)return t.INT;if(s===UnsignedIntType)return t.UNSIGNED_INT;if(s===FloatType)return t.FLOAT;if(s===HalfFloatType)return n?t.HALF_FLOAT:(d=e.get("OES_texture_half_float"),d!==null?d.HALF_FLOAT_OES:null);if(s===AlphaFormat)return t.ALPHA;if(s===RGBAFormat)return t.RGBA;if(s===LuminanceFormat)return t.LUMINANCE;if(s===LuminanceAlphaFormat)return t.LUMINANCE_ALPHA;if(s===DepthFormat)return t.DEPTH_COMPONENT;if(s===DepthStencilFormat)return t.DEPTH_STENCIL;if(s===_SRGBAFormat)return d=e.get("EXT_sRGB"),d!==null?d.SRGB_ALPHA_EXT:null;if(s===RedFormat)return t.RED;if(s===RedIntegerFormat)return t.RED_INTEGER;if(s===RGFormat)return t.RG;if(s===RGIntegerFormat)return t.RG_INTEGER;if(s===RGBAIntegerFormat)return t.RGBA_INTEGER;if(s===RGB_S3TC_DXT1_Format||s===RGBA_S3TC_DXT1_Format||s===RGBA_S3TC_DXT3_Format||s===RGBA_S3TC_DXT5_Format)if(c===SRGBColorSpace)if(d=e.get("WEBGL_compressed_texture_s3tc_srgb"),d!==null){if(s===RGB_S3TC_DXT1_Format)return d.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===RGBA_S3TC_DXT1_Format)return d.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===RGBA_S3TC_DXT3_Format)return d.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===RGBA_S3TC_DXT5_Format)return d.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(d=e.get("WEBGL_compressed_texture_s3tc"),d!==null){if(s===RGB_S3TC_DXT1_Format)return d.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===RGBA_S3TC_DXT1_Format)return d.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===RGBA_S3TC_DXT3_Format)return d.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===RGBA_S3TC_DXT5_Format)return d.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===RGB_PVRTC_4BPPV1_Format||s===RGB_PVRTC_2BPPV1_Format||s===RGBA_PVRTC_4BPPV1_Format||s===RGBA_PVRTC_2BPPV1_Format)if(d=e.get("WEBGL_compressed_texture_pvrtc"),d!==null){if(s===RGB_PVRTC_4BPPV1_Format)return d.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===RGB_PVRTC_2BPPV1_Format)return d.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===RGBA_PVRTC_4BPPV1_Format)return d.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===RGBA_PVRTC_2BPPV1_Format)return d.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===RGB_ETC1_Format)return d=e.get("WEBGL_compressed_texture_etc1"),d!==null?d.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===RGB_ETC2_Format||s===RGBA_ETC2_EAC_Format)if(d=e.get("WEBGL_compressed_texture_etc"),d!==null){if(s===RGB_ETC2_Format)return c===SRGBColorSpace?d.COMPRESSED_SRGB8_ETC2:d.COMPRESSED_RGB8_ETC2;if(s===RGBA_ETC2_EAC_Format)return c===SRGBColorSpace?d.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:d.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===RGBA_ASTC_4x4_Format||s===RGBA_ASTC_5x4_Format||s===RGBA_ASTC_5x5_Format||s===RGBA_ASTC_6x5_Format||s===RGBA_ASTC_6x6_Format||s===RGBA_ASTC_8x5_Format||s===RGBA_ASTC_8x6_Format||s===RGBA_ASTC_8x8_Format||s===RGBA_ASTC_10x5_Format||s===RGBA_ASTC_10x6_Format||s===RGBA_ASTC_10x8_Format||s===RGBA_ASTC_10x10_Format||s===RGBA_ASTC_12x10_Format||s===RGBA_ASTC_12x12_Format)if(d=e.get("WEBGL_compressed_texture_astc"),d!==null){if(s===RGBA_ASTC_4x4_Format)return c===SRGBColorSpace?d.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:d.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===RGBA_ASTC_5x4_Format)return c===SRGBColorSpace?d.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:d.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===RGBA_ASTC_5x5_Format)return c===SRGBColorSpace?d.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:d.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===RGBA_ASTC_6x5_Format)return c===SRGBColorSpace?d.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:d.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===RGBA_ASTC_6x6_Format)return c===SRGBColorSpace?d.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:d.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===RGBA_ASTC_8x5_Format)return c===SRGBColorSpace?d.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:d.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===RGBA_ASTC_8x6_Format)return c===SRGBColorSpace?d.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:d.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===RGBA_ASTC_8x8_Format)return c===SRGBColorSpace?d.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:d.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===RGBA_ASTC_10x5_Format)return c===SRGBColorSpace?d.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:d.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===RGBA_ASTC_10x6_Format)return c===SRGBColorSpace?d.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:d.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===RGBA_ASTC_10x8_Format)return c===SRGBColorSpace?d.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:d.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===RGBA_ASTC_10x10_Format)return c===SRGBColorSpace?d.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:d.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===RGBA_ASTC_12x10_Format)return c===SRGBColorSpace?d.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:d.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===RGBA_ASTC_12x12_Format)return c===SRGBColorSpace?d.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:d.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===RGBA_BPTC_Format)if(d=e.get("EXT_texture_compression_bptc"),d!==null){if(s===RGBA_BPTC_Format)return c===SRGBColorSpace?d.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:d.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===RED_RGTC1_Format||s===SIGNED_RED_RGTC1_Format||s===RED_GREEN_RGTC2_Format||s===SIGNED_RED_GREEN_RGTC2_Format)if(d=e.get("EXT_texture_compression_rgtc"),d!==null){if(s===RGBA_BPTC_Format)return d.COMPRESSED_RED_RGTC1_EXT;if(s===SIGNED_RED_RGTC1_Format)return d.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===RED_GREEN_RGTC2_Format)return d.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===SIGNED_RED_GREEN_RGTC2_Format)return d.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===UnsignedInt248Type?n?t.UNSIGNED_INT_24_8:(d=e.get("WEBGL_depth_texture"),d!==null?d.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:o}}class ArrayCamera extends PerspectiveCamera{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Group extends Object3D{constructor(){super(),this.isGroup=!0,this.type="Group"}}const _moveEvent={type:"move"};class WebXRController{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Group,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Group,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Vector3,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Vector3),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Group,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Vector3,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Vector3),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const r=this._hand;if(r)for(const n of e.hand.values())this._getHandJoint(r,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,r,n){let o=null,s=null,c=null;const d=this._targetRay,u=this._grip,m=this._hand;if(e&&r.session.visibilityState!=="visible-blurred"){if(m&&e.hand){c=!0;for(const T of e.hand.values()){const A=r.getJointPose(T,n),E=this._getHandJoint(m,T);A!==null&&(E.matrix.fromArray(A.transform.matrix),E.matrix.decompose(E.position,E.rotation,E.scale),E.matrixWorldNeedsUpdate=!0,E.jointRadius=A.radius),E.visible=A!==null}const _=m.joints["index-finger-tip"],g=m.joints["thumb-tip"],f=_.position.distanceTo(g.position),y=.02,M=.005;m.inputState.pinching&&f>y+M?(m.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!m.inputState.pinching&&f<=y-M&&(m.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else u!==null&&e.gripSpace&&(s=r.getPose(e.gripSpace,n),s!==null&&(u.matrix.fromArray(s.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,s.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(s.linearVelocity)):u.hasLinearVelocity=!1,s.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(s.angularVelocity)):u.hasAngularVelocity=!1));d!==null&&(o=r.getPose(e.targetRaySpace,n),o===null&&s!==null&&(o=s),o!==null&&(d.matrix.fromArray(o.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.matrixWorldNeedsUpdate=!0,o.linearVelocity?(d.hasLinearVelocity=!0,d.linearVelocity.copy(o.linearVelocity)):d.hasLinearVelocity=!1,o.angularVelocity?(d.hasAngularVelocity=!0,d.angularVelocity.copy(o.angularVelocity)):d.hasAngularVelocity=!1,this.dispatchEvent(_moveEvent)))}return d!==null&&(d.visible=o!==null),u!==null&&(u.visible=s!==null),m!==null&&(m.visible=c!==null),this}_getHandJoint(e,r){if(e.joints[r.jointName]===void 0){const n=new Group;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[r.jointName]=n,e.add(n)}return e.joints[r.jointName]}}class DepthTexture extends Texture{constructor(e,r,n,o,s,c,d,u,m,_){if(_=_!==void 0?_:DepthFormat,_!==DepthFormat&&_!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&_===DepthFormat&&(n=UnsignedIntType),n===void 0&&_===DepthStencilFormat&&(n=UnsignedInt248Type),super(null,o,s,c,d,u,_,n,m),this.isDepthTexture=!0,this.image={width:e,height:r},this.magFilter=d!==void 0?d:NearestFilter,this.minFilter=u!==void 0?u:NearestFilter,this.flipY=!1,this.generateMipmaps=!1}}class WebXRManager extends EventDispatcher{constructor(e,r){super();const n=this;let o=null,s=1,c=null,d="local-floor",u=1,m=null,_=null,g=null,f=null,y=null,M=null;const T=r.getContextAttributes();let A=null,E=null;const C=[],k=[],O=new Set,I=new Map,B=new PerspectiveCamera;B.layers.enable(1),B.viewport=new Vector4;const j=new PerspectiveCamera;j.layers.enable(2),j.viewport=new Vector4;const U=[B,j],N=new ArrayCamera;N.layers.enable(1),N.layers.enable(2);let W=null,ne=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ee){let Z=C[ee];return Z===void 0&&(Z=new WebXRController,C[ee]=Z),Z.getTargetRaySpace()},this.getControllerGrip=function(ee){let Z=C[ee];return Z===void 0&&(Z=new WebXRController,C[ee]=Z),Z.getGripSpace()},this.getHand=function(ee){let Z=C[ee];return Z===void 0&&(Z=new WebXRController,C[ee]=Z),Z.getHandSpace()};function re(ee){const Z=k.indexOf(ee.inputSource);if(Z===-1)return;const te=C[Z];te!==void 0&&(te.update(ee.inputSource,ee.frame,m||c),te.dispatchEvent({type:ee.type,data:ee.inputSource}))}function le(){o.removeEventListener("select",re),o.removeEventListener("selectstart",re),o.removeEventListener("selectend",re),o.removeEventListener("squeeze",re),o.removeEventListener("squeezestart",re),o.removeEventListener("squeezeend",re),o.removeEventListener("end",le),o.removeEventListener("inputsourceschange",ae);for(let ee=0;ee<C.length;ee++){const Z=k[ee];Z!==null&&(k[ee]=null,C[ee].disconnect(Z))}W=null,ne=null,e.setRenderTarget(A),y=null,f=null,g=null,o=null,E=null,fe.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ee){s=ee,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ee){d=ee,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return m||c},this.setReferenceSpace=function(ee){m=ee},this.getBaseLayer=function(){return f!==null?f:y},this.getBinding=function(){return g},this.getFrame=function(){return M},this.getSession=function(){return o},this.setSession=async function(ee){if(o=ee,o!==null){if(A=e.getRenderTarget(),o.addEventListener("select",re),o.addEventListener("selectstart",re),o.addEventListener("selectend",re),o.addEventListener("squeeze",re),o.addEventListener("squeezestart",re),o.addEventListener("squeezeend",re),o.addEventListener("end",le),o.addEventListener("inputsourceschange",ae),T.xrCompatible!==!0&&await r.makeXRCompatible(),o.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const Z={antialias:o.renderState.layers===void 0?T.antialias:!0,alpha:!0,depth:T.depth,stencil:T.stencil,framebufferScaleFactor:s};y=new XRWebGLLayer(o,r,Z),o.updateRenderState({baseLayer:y}),E=new WebGLRenderTarget(y.framebufferWidth,y.framebufferHeight,{format:RGBAFormat,type:UnsignedByteType,colorSpace:e.outputColorSpace,stencilBuffer:T.stencil})}else{let Z=null,te=null,de=null;T.depth&&(de=T.stencil?r.DEPTH24_STENCIL8:r.DEPTH_COMPONENT24,Z=T.stencil?DepthStencilFormat:DepthFormat,te=T.stencil?UnsignedInt248Type:UnsignedIntType);const Y={colorFormat:r.RGBA8,depthFormat:de,scaleFactor:s};g=new XRWebGLBinding(o,r),f=g.createProjectionLayer(Y),o.updateRenderState({layers:[f]}),E=new WebGLRenderTarget(f.textureWidth,f.textureHeight,{format:RGBAFormat,type:UnsignedByteType,depthTexture:new DepthTexture(f.textureWidth,f.textureHeight,te,void 0,void 0,void 0,void 0,void 0,void 0,Z),stencilBuffer:T.stencil,colorSpace:e.outputColorSpace,samples:T.antialias?4:0});const we=e.properties.get(E);we.__ignoreDepthValues=f.ignoreDepthValues}E.isXRRenderTarget=!0,this.setFoveation(u),m=null,c=await o.requestReferenceSpace(d),fe.setContext(o),fe.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(o!==null)return o.environmentBlendMode};function ae(ee){for(let Z=0;Z<ee.removed.length;Z++){const te=ee.removed[Z],de=k.indexOf(te);de>=0&&(k[de]=null,C[de].disconnect(te))}for(let Z=0;Z<ee.added.length;Z++){const te=ee.added[Z];let de=k.indexOf(te);if(de===-1){for(let we=0;we<C.length;we++)if(we>=k.length){k.push(te),de=we;break}else if(k[we]===null){k[we]=te,de=we;break}if(de===-1)break}const Y=C[de];Y&&Y.connect(te)}}const pe=new Vector3,K=new Vector3;function q(ee,Z,te){pe.setFromMatrixPosition(Z.matrixWorld),K.setFromMatrixPosition(te.matrixWorld);const de=pe.distanceTo(K),Y=Z.projectionMatrix.elements,we=te.projectionMatrix.elements,Te=Y[14]/(Y[10]-1),Me=Y[14]/(Y[10]+1),Ae=(Y[9]+1)/Y[5],ue=(Y[9]-1)/Y[5],X=(Y[8]-1)/Y[0],$=(we[8]+1)/we[0],ge=Te*X,ve=Te*$,me=de/(-X+$),ce=me*-X;Z.matrixWorld.decompose(ee.position,ee.quaternion,ee.scale),ee.translateX(ce),ee.translateZ(me),ee.matrixWorld.compose(ee.position,ee.quaternion,ee.scale),ee.matrixWorldInverse.copy(ee.matrixWorld).invert();const Se=Te+me,ye=Me+me,be=ge-ce,he=ve+(de-ce),se=Ae*Me/ye*Se,Ee=ue*Me/ye*Se;ee.projectionMatrix.makePerspective(be,he,se,Ee,Se,ye),ee.projectionMatrixInverse.copy(ee.projectionMatrix).invert()}function D(ee,Z){Z===null?ee.matrixWorld.copy(ee.matrix):ee.matrixWorld.multiplyMatrices(Z.matrixWorld,ee.matrix),ee.matrixWorldInverse.copy(ee.matrixWorld).invert()}this.updateCamera=function(ee){if(o===null)return;N.near=j.near=B.near=ee.near,N.far=j.far=B.far=ee.far,(W!==N.near||ne!==N.far)&&(o.updateRenderState({depthNear:N.near,depthFar:N.far}),W=N.near,ne=N.far);const Z=ee.parent,te=N.cameras;D(N,Z);for(let de=0;de<te.length;de++)D(te[de],Z);te.length===2?q(N,B,j):N.projectionMatrix.copy(B.projectionMatrix),z(ee,N,Z)};function z(ee,Z,te){te===null?ee.matrix.copy(Z.matrixWorld):(ee.matrix.copy(te.matrixWorld),ee.matrix.invert(),ee.matrix.multiply(Z.matrixWorld)),ee.matrix.decompose(ee.position,ee.quaternion,ee.scale),ee.updateMatrixWorld(!0);const de=ee.children;for(let Y=0,we=de.length;Y<we;Y++)de[Y].updateMatrixWorld(!0);ee.projectionMatrix.copy(Z.projectionMatrix),ee.projectionMatrixInverse.copy(Z.projectionMatrixInverse),ee.isPerspectiveCamera&&(ee.fov=RAD2DEG*2*Math.atan(1/ee.projectionMatrix.elements[5]),ee.zoom=1)}this.getCamera=function(){return N},this.getFoveation=function(){if(!(f===null&&y===null))return u},this.setFoveation=function(ee){u=ee,f!==null&&(f.fixedFoveation=ee),y!==null&&y.fixedFoveation!==void 0&&(y.fixedFoveation=ee)},this.getPlanes=function(){return O};let J=null;function ie(ee,Z){if(_=Z.getViewerPose(m||c),M=Z,_!==null){const te=_.views;y!==null&&(e.setRenderTargetFramebuffer(E,y.framebuffer),e.setRenderTarget(E));let de=!1;te.length!==N.cameras.length&&(N.cameras.length=0,de=!0);for(let Y=0;Y<te.length;Y++){const we=te[Y];let Te=null;if(y!==null)Te=y.getViewport(we);else{const Ae=g.getViewSubImage(f,we);Te=Ae.viewport,Y===0&&(e.setRenderTargetTextures(E,Ae.colorTexture,f.ignoreDepthValues?void 0:Ae.depthStencilTexture),e.setRenderTarget(E))}let Me=U[Y];Me===void 0&&(Me=new PerspectiveCamera,Me.layers.enable(Y),Me.viewport=new Vector4,U[Y]=Me),Me.matrix.fromArray(we.transform.matrix),Me.matrix.decompose(Me.position,Me.quaternion,Me.scale),Me.projectionMatrix.fromArray(we.projectionMatrix),Me.projectionMatrixInverse.copy(Me.projectionMatrix).invert(),Me.viewport.set(Te.x,Te.y,Te.width,Te.height),Y===0&&(N.matrix.copy(Me.matrix),N.matrix.decompose(N.position,N.quaternion,N.scale)),de===!0&&N.cameras.push(Me)}}for(let te=0;te<C.length;te++){const de=k[te],Y=C[te];de!==null&&Y!==void 0&&Y.update(de,Z,m||c)}if(J&&J(ee,Z),Z.detectedPlanes){n.dispatchEvent({type:"planesdetected",data:Z.detectedPlanes});let te=null;for(const de of O)Z.detectedPlanes.has(de)||(te===null&&(te=[]),te.push(de));if(te!==null)for(const de of te)O.delete(de),I.delete(de),n.dispatchEvent({type:"planeremoved",data:de});for(const de of Z.detectedPlanes)if(!O.has(de))O.add(de),I.set(de,Z.lastChangedTime),n.dispatchEvent({type:"planeadded",data:de});else{const Y=I.get(de);de.lastChangedTime>Y&&(I.set(de,de.lastChangedTime),n.dispatchEvent({type:"planechanged",data:de}))}}M=null}const fe=new WebGLAnimation;fe.setAnimationLoop(ie),this.setAnimationLoop=function(ee){J=ee},this.dispose=function(){}}}function WebGLMaterials(t,e){function r(A,E){A.matrixAutoUpdate===!0&&A.updateMatrix(),E.value.copy(A.matrix)}function n(A,E){E.color.getRGB(A.fogColor.value,getUnlitUniformColorSpace(t)),E.isFog?(A.fogNear.value=E.near,A.fogFar.value=E.far):E.isFogExp2&&(A.fogDensity.value=E.density)}function o(A,E,C,k,O){E.isMeshBasicMaterial||E.isMeshLambertMaterial?s(A,E):E.isMeshToonMaterial?(s(A,E),g(A,E)):E.isMeshPhongMaterial?(s(A,E),_(A,E)):E.isMeshStandardMaterial?(s(A,E),f(A,E),E.isMeshPhysicalMaterial&&y(A,E,O)):E.isMeshMatcapMaterial?(s(A,E),M(A,E)):E.isMeshDepthMaterial?s(A,E):E.isMeshDistanceMaterial?(s(A,E),T(A,E)):E.isMeshNormalMaterial?s(A,E):E.isLineBasicMaterial?(c(A,E),E.isLineDashedMaterial&&d(A,E)):E.isPointsMaterial?u(A,E,C,k):E.isSpriteMaterial?m(A,E):E.isShadowMaterial?(A.color.value.copy(E.color),A.opacity.value=E.opacity):E.isShaderMaterial&&(E.uniformsNeedUpdate=!1)}function s(A,E){A.opacity.value=E.opacity,E.color&&A.diffuse.value.copy(E.color),E.emissive&&A.emissive.value.copy(E.emissive).multiplyScalar(E.emissiveIntensity),E.map&&(A.map.value=E.map,r(E.map,A.mapTransform)),E.alphaMap&&(A.alphaMap.value=E.alphaMap,r(E.alphaMap,A.alphaMapTransform)),E.bumpMap&&(A.bumpMap.value=E.bumpMap,r(E.bumpMap,A.bumpMapTransform),A.bumpScale.value=E.bumpScale,E.side===BackSide&&(A.bumpScale.value*=-1)),E.normalMap&&(A.normalMap.value=E.normalMap,r(E.normalMap,A.normalMapTransform),A.normalScale.value.copy(E.normalScale),E.side===BackSide&&A.normalScale.value.negate()),E.displacementMap&&(A.displacementMap.value=E.displacementMap,r(E.displacementMap,A.displacementMapTransform),A.displacementScale.value=E.displacementScale,A.displacementBias.value=E.displacementBias),E.emissiveMap&&(A.emissiveMap.value=E.emissiveMap,r(E.emissiveMap,A.emissiveMapTransform)),E.specularMap&&(A.specularMap.value=E.specularMap,r(E.specularMap,A.specularMapTransform)),E.alphaTest>0&&(A.alphaTest.value=E.alphaTest);const C=e.get(E).envMap;if(C&&(A.envMap.value=C,A.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,A.reflectivity.value=E.reflectivity,A.ior.value=E.ior,A.refractionRatio.value=E.refractionRatio),E.lightMap){A.lightMap.value=E.lightMap;const k=t.useLegacyLights===!0?Math.PI:1;A.lightMapIntensity.value=E.lightMapIntensity*k,r(E.lightMap,A.lightMapTransform)}E.aoMap&&(A.aoMap.value=E.aoMap,A.aoMapIntensity.value=E.aoMapIntensity,r(E.aoMap,A.aoMapTransform))}function c(A,E){A.diffuse.value.copy(E.color),A.opacity.value=E.opacity,E.map&&(A.map.value=E.map,r(E.map,A.mapTransform))}function d(A,E){A.dashSize.value=E.dashSize,A.totalSize.value=E.dashSize+E.gapSize,A.scale.value=E.scale}function u(A,E,C,k){A.diffuse.value.copy(E.color),A.opacity.value=E.opacity,A.size.value=E.size*C,A.scale.value=k*.5,E.map&&(A.map.value=E.map,r(E.map,A.uvTransform)),E.alphaMap&&(A.alphaMap.value=E.alphaMap),E.alphaTest>0&&(A.alphaTest.value=E.alphaTest)}function m(A,E){A.diffuse.value.copy(E.color),A.opacity.value=E.opacity,A.rotation.value=E.rotation,E.map&&(A.map.value=E.map,r(E.map,A.mapTransform)),E.alphaMap&&(A.alphaMap.value=E.alphaMap),E.alphaTest>0&&(A.alphaTest.value=E.alphaTest)}function _(A,E){A.specular.value.copy(E.specular),A.shininess.value=Math.max(E.shininess,1e-4)}function g(A,E){E.gradientMap&&(A.gradientMap.value=E.gradientMap)}function f(A,E){A.metalness.value=E.metalness,E.metalnessMap&&(A.metalnessMap.value=E.metalnessMap,r(E.metalnessMap,A.metalnessMapTransform)),A.roughness.value=E.roughness,E.roughnessMap&&(A.roughnessMap.value=E.roughnessMap,r(E.roughnessMap,A.roughnessMapTransform)),e.get(E).envMap&&(A.envMapIntensity.value=E.envMapIntensity)}function y(A,E,C){A.ior.value=E.ior,E.sheen>0&&(A.sheenColor.value.copy(E.sheenColor).multiplyScalar(E.sheen),A.sheenRoughness.value=E.sheenRoughness,E.sheenColorMap&&(A.sheenColorMap.value=E.sheenColorMap,r(E.sheenColorMap,A.sheenColorMapTransform)),E.sheenRoughnessMap&&(A.sheenRoughnessMap.value=E.sheenRoughnessMap,r(E.sheenRoughnessMap,A.sheenRoughnessMapTransform))),E.clearcoat>0&&(A.clearcoat.value=E.clearcoat,A.clearcoatRoughness.value=E.clearcoatRoughness,E.clearcoatMap&&(A.clearcoatMap.value=E.clearcoatMap,r(E.clearcoatMap,A.clearcoatMapTransform)),E.clearcoatRoughnessMap&&(A.clearcoatRoughnessMap.value=E.clearcoatRoughnessMap,r(E.clearcoatRoughnessMap,A.clearcoatRoughnessMapTransform)),E.clearcoatNormalMap&&(A.clearcoatNormalMap.value=E.clearcoatNormalMap,r(E.clearcoatNormalMap,A.clearcoatNormalMapTransform),A.clearcoatNormalScale.value.copy(E.clearcoatNormalScale),E.side===BackSide&&A.clearcoatNormalScale.value.negate())),E.iridescence>0&&(A.iridescence.value=E.iridescence,A.iridescenceIOR.value=E.iridescenceIOR,A.iridescenceThicknessMinimum.value=E.iridescenceThicknessRange[0],A.iridescenceThicknessMaximum.value=E.iridescenceThicknessRange[1],E.iridescenceMap&&(A.iridescenceMap.value=E.iridescenceMap,r(E.iridescenceMap,A.iridescenceMapTransform)),E.iridescenceThicknessMap&&(A.iridescenceThicknessMap.value=E.iridescenceThicknessMap,r(E.iridescenceThicknessMap,A.iridescenceThicknessMapTransform))),E.transmission>0&&(A.transmission.value=E.transmission,A.transmissionSamplerMap.value=C.texture,A.transmissionSamplerSize.value.set(C.width,C.height),E.transmissionMap&&(A.transmissionMap.value=E.transmissionMap,r(E.transmissionMap,A.transmissionMapTransform)),A.thickness.value=E.thickness,E.thicknessMap&&(A.thicknessMap.value=E.thicknessMap,r(E.thicknessMap,A.thicknessMapTransform)),A.attenuationDistance.value=E.attenuationDistance,A.attenuationColor.value.copy(E.attenuationColor)),A.specularIntensity.value=E.specularIntensity,A.specularColor.value.copy(E.specularColor),E.specularColorMap&&(A.specularColorMap.value=E.specularColorMap,r(E.specularColorMap,A.specularColorMapTransform)),E.specularIntensityMap&&(A.specularIntensityMap.value=E.specularIntensityMap,r(E.specularIntensityMap,A.specularIntensityMapTransform))}function M(A,E){E.matcap&&(A.matcap.value=E.matcap)}function T(A,E){const C=e.get(E).light;A.referencePosition.value.setFromMatrixPosition(C.matrixWorld),A.nearDistance.value=C.shadow.camera.near,A.farDistance.value=C.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:o}}function WebGLUniformsGroups(t,e,r,n){let o={},s={},c=[];const d=r.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function u(C,k){const O=k.program;n.uniformBlockBinding(C,O)}function m(C,k){let O=o[C.id];O===void 0&&(M(C),O=_(C),o[C.id]=O,C.addEventListener("dispose",A));const I=k.program;n.updateUBOMapping(C,I);const B=e.render.frame;s[C.id]!==B&&(f(C),s[C.id]=B)}function _(C){const k=g();C.__bindingPointIndex=k;const O=t.createBuffer(),I=C.__size,B=C.usage;return t.bindBuffer(t.UNIFORM_BUFFER,O),t.bufferData(t.UNIFORM_BUFFER,I,B),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,k,O),O}function g(){for(let C=0;C<d;C++)if(c.indexOf(C)===-1)return c.push(C),C;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(C){const k=o[C.id],O=C.uniforms,I=C.__cache;t.bindBuffer(t.UNIFORM_BUFFER,k);for(let B=0,j=O.length;B<j;B++){const U=O[B];if(y(U,B,I)===!0){const N=U.__offset,W=Array.isArray(U.value)?U.value:[U.value];let ne=0;for(let re=0;re<W.length;re++){const le=W[re],ae=T(le);typeof le=="number"?(U.__data[0]=le,t.bufferSubData(t.UNIFORM_BUFFER,N+ne,U.__data)):le.isMatrix3?(U.__data[0]=le.elements[0],U.__data[1]=le.elements[1],U.__data[2]=le.elements[2],U.__data[3]=le.elements[0],U.__data[4]=le.elements[3],U.__data[5]=le.elements[4],U.__data[6]=le.elements[5],U.__data[7]=le.elements[0],U.__data[8]=le.elements[6],U.__data[9]=le.elements[7],U.__data[10]=le.elements[8],U.__data[11]=le.elements[0]):(le.toArray(U.__data,ne),ne+=ae.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,N,U.__data)}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function y(C,k,O){const I=C.value;if(O[k]===void 0){if(typeof I=="number")O[k]=I;else{const B=Array.isArray(I)?I:[I],j=[];for(let U=0;U<B.length;U++)j.push(B[U].clone());O[k]=j}return!0}else if(typeof I=="number"){if(O[k]!==I)return O[k]=I,!0}else{const B=Array.isArray(O[k])?O[k]:[O[k]],j=Array.isArray(I)?I:[I];for(let U=0;U<B.length;U++){const N=B[U];if(N.equals(j[U])===!1)return N.copy(j[U]),!0}}return!1}function M(C){const k=C.uniforms;let O=0;const I=16;let B=0;for(let j=0,U=k.length;j<U;j++){const N=k[j],W={boundary:0,storage:0},ne=Array.isArray(N.value)?N.value:[N.value];for(let re=0,le=ne.length;re<le;re++){const ae=ne[re],pe=T(ae);W.boundary+=pe.boundary,W.storage+=pe.storage}if(N.__data=new Float32Array(W.storage/Float32Array.BYTES_PER_ELEMENT),N.__offset=O,j>0){B=O%I;const re=I-B;B!==0&&re-W.boundary<0&&(O+=I-B,N.__offset=O)}O+=W.storage}return B=O%I,B>0&&(O+=I-B),C.__size=O,C.__cache={},this}function T(C){const k={boundary:0,storage:0};return typeof C=="number"?(k.boundary=4,k.storage=4):C.isVector2?(k.boundary=8,k.storage=8):C.isVector3||C.isColor?(k.boundary=16,k.storage=12):C.isVector4?(k.boundary=16,k.storage=16):C.isMatrix3?(k.boundary=48,k.storage=48):C.isMatrix4?(k.boundary=64,k.storage=64):C.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",C),k}function A(C){const k=C.target;k.removeEventListener("dispose",A);const O=c.indexOf(k.__bindingPointIndex);c.splice(O,1),t.deleteBuffer(o[k.id]),delete o[k.id],delete s[k.id]}function E(){for(const C in o)t.deleteBuffer(o[C]);c=[],o={},s={}}return{bind:u,update:m,dispose:E}}function createCanvasElement(){const t=createElementNS("canvas");return t.style.display="block",t}class WebGLRenderer{constructor(e={}){const{canvas:r=createCanvasElement(),context:n=null,depth:o=!0,stencil:s=!0,alpha:c=!1,antialias:d=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:m=!1,powerPreference:_="default",failIfMajorPerformanceCaveat:g=!1}=e;this.isWebGLRenderer=!0;let f;n!==null?f=n.getContextAttributes().alpha:f=c;let y=null,M=null;const T=[],A=[];this.domElement=r,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=SRGBColorSpace,this.useLegacyLights=!0,this.toneMapping=NoToneMapping,this.toneMappingExposure=1;const E=this;let C=!1,k=0,O=0,I=null,B=-1,j=null;const U=new Vector4,N=new Vector4;let W=null,ne=r.width,re=r.height,le=1,ae=null,pe=null;const K=new Vector4(0,0,ne,re),q=new Vector4(0,0,ne,re);let D=!1;const z=new Frustum;let J=!1,ie=!1,fe=null;const ee=new Matrix4,Z=new Vector3,te={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function de(){return I===null?le:1}let Y=n;function we(_e,Pe){for(let De=0;De<_e.length;De++){const Re=_e[De],Be=r.getContext(Re,Pe);if(Be!==null)return Be}return null}try{const _e={alpha:!0,depth:o,stencil:s,antialias:d,premultipliedAlpha:u,preserveDrawingBuffer:m,powerPreference:_,failIfMajorPerformanceCaveat:g};if("setAttribute"in r&&r.setAttribute("data-engine",`three.js r${REVISION}`),r.addEventListener("webglcontextlost",ze,!1),r.addEventListener("webglcontextrestored",Je,!1),r.addEventListener("webglcontextcreationerror",ot,!1),Y===null){const Pe=["webgl2","webgl","experimental-webgl"];if(E.isWebGL1Renderer===!0&&Pe.shift(),Y=we(Pe,_e),Y===null)throw we(Pe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Y.getShaderPrecisionFormat===void 0&&(Y.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(_e){throw console.error("THREE.WebGLRenderer: "+_e.message),_e}let Te,Me,Ae,ue,X,$,ge,ve,me,ce,Se,ye,be,he,se,Ee,Oe,Fe,Ne,Ue,je,Le,Xe,Ye;function qe(){Te=new WebGLExtensions(Y),Me=new WebGLCapabilities(Y,Te,e),Te.init(Me),Le=new WebGLUtils(Y,Te,Me),Ae=new WebGLState(Y,Te,Me),ue=new WebGLInfo(Y),X=new WebGLProperties,$=new WebGLTextures(Y,Te,Ae,X,Me,Le,ue),ge=new WebGLCubeMaps(E),ve=new WebGLCubeUVMaps(E),me=new WebGLAttributes(Y,Me),Xe=new WebGLBindingStates(Y,Te,me,Me),ce=new WebGLGeometries(Y,me,ue,Xe),Se=new WebGLObjects(Y,ce,me,ue),Ne=new WebGLMorphtargets(Y,Me,$),Ee=new WebGLClipping(X),ye=new WebGLPrograms(E,ge,ve,Te,Me,Xe,Ee),be=new WebGLMaterials(E,X),he=new WebGLRenderLists,se=new WebGLRenderStates(Te,Me),Fe=new WebGLBackground(E,ge,ve,Ae,Se,f,u),Oe=new WebGLShadowMap(E,Se,Me),Ye=new WebGLUniformsGroups(Y,ue,Me,Ae),Ue=new WebGLBufferRenderer(Y,Te,ue,Me),je=new WebGLIndexedBufferRenderer(Y,Te,ue,Me),ue.programs=ye.programs,E.capabilities=Me,E.extensions=Te,E.properties=X,E.renderLists=he,E.shadowMap=Oe,E.state=Ae,E.info=ue}qe();const He=new WebXRManager(E,Y);this.xr=He,this.getContext=function(){return Y},this.getContextAttributes=function(){return Y.getContextAttributes()},this.forceContextLoss=function(){const _e=Te.get("WEBGL_lose_context");_e&&_e.loseContext()},this.forceContextRestore=function(){const _e=Te.get("WEBGL_lose_context");_e&&_e.restoreContext()},this.getPixelRatio=function(){return le},this.setPixelRatio=function(_e){_e!==void 0&&(le=_e,this.setSize(ne,re,!1))},this.getSize=function(_e){return _e.set(ne,re)},this.setSize=function(_e,Pe,De=!0){if(He.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}ne=_e,re=Pe,r.width=Math.floor(_e*le),r.height=Math.floor(Pe*le),De===!0&&(r.style.width=_e+"px",r.style.height=Pe+"px"),this.setViewport(0,0,_e,Pe)},this.getDrawingBufferSize=function(_e){return _e.set(ne*le,re*le).floor()},this.setDrawingBufferSize=function(_e,Pe,De){ne=_e,re=Pe,le=De,r.width=Math.floor(_e*De),r.height=Math.floor(Pe*De),this.setViewport(0,0,_e,Pe)},this.getCurrentViewport=function(_e){return _e.copy(U)},this.getViewport=function(_e){return _e.copy(K)},this.setViewport=function(_e,Pe,De,Re){_e.isVector4?K.set(_e.x,_e.y,_e.z,_e.w):K.set(_e,Pe,De,Re),Ae.viewport(U.copy(K).multiplyScalar(le).floor())},this.getScissor=function(_e){return _e.copy(q)},this.setScissor=function(_e,Pe,De,Re){_e.isVector4?q.set(_e.x,_e.y,_e.z,_e.w):q.set(_e,Pe,De,Re),Ae.scissor(N.copy(q).multiplyScalar(le).floor())},this.getScissorTest=function(){return D},this.setScissorTest=function(_e){Ae.setScissorTest(D=_e)},this.setOpaqueSort=function(_e){ae=_e},this.setTransparentSort=function(_e){pe=_e},this.getClearColor=function(_e){return _e.copy(Fe.getClearColor())},this.setClearColor=function(){Fe.setClearColor.apply(Fe,arguments)},this.getClearAlpha=function(){return Fe.getClearAlpha()},this.setClearAlpha=function(){Fe.setClearAlpha.apply(Fe,arguments)},this.clear=function(_e=!0,Pe=!0,De=!0){let Re=0;_e&&(Re|=Y.COLOR_BUFFER_BIT),Pe&&(Re|=Y.DEPTH_BUFFER_BIT),De&&(Re|=Y.STENCIL_BUFFER_BIT),Y.clear(Re)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){r.removeEventListener("webglcontextlost",ze,!1),r.removeEventListener("webglcontextrestored",Je,!1),r.removeEventListener("webglcontextcreationerror",ot,!1),he.dispose(),se.dispose(),X.dispose(),ge.dispose(),ve.dispose(),Se.dispose(),Xe.dispose(),Ye.dispose(),ye.dispose(),He.dispose(),He.removeEventListener("sessionstart",Ke),He.removeEventListener("sessionend",gt),fe&&(fe.dispose(),fe=null),ut.stop()};function ze(_e){_e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),C=!0}function Je(){console.log("THREE.WebGLRenderer: Context Restored."),C=!1;const _e=ue.autoReset,Pe=Oe.enabled,De=Oe.autoUpdate,Re=Oe.needsUpdate,Be=Oe.type;qe(),ue.autoReset=_e,Oe.enabled=Pe,Oe.autoUpdate=De,Oe.needsUpdate=Re,Oe.type=Be}function ot(_e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",_e.statusMessage)}function _t(_e){const Pe=_e.target;Pe.removeEventListener("dispose",_t),Ce(Pe)}function Ce(_e){Ie(_e),X.remove(_e)}function Ie(_e){const Pe=X.get(_e).programs;Pe!==void 0&&(Pe.forEach(function(De){ye.releaseProgram(De)}),_e.isShaderMaterial&&ye.releaseShaderCache(_e))}this.renderBufferDirect=function(_e,Pe,De,Re,Be,$e){Pe===null&&(Pe=te);const tt=Be.isMesh&&Be.matrixWorld.determinant()<0,rt=Rr(_e,Pe,De,Re,Be);Ae.setMaterial(Re,tt);let it=De.index,pt=1;Re.wireframe===!0&&(it=ce.getWireframeAttribute(De),pt=2);const at=De.drawRange,nt=De.attributes.position;let mt=at.start*pt,yt=(at.start+at.count)*pt;$e!==null&&(mt=Math.max(mt,$e.start*pt),yt=Math.min(yt,($e.start+$e.count)*pt)),it!==null?(mt=Math.max(mt,0),yt=Math.min(yt,it.count)):nt!=null&&(mt=Math.max(mt,0),yt=Math.min(yt,nt.count));const Ct=yt-mt;if(Ct<0||Ct===1/0)return;Xe.setup(Be,Re,rt,De,it);let Pt,vt=Ue;if(it!==null&&(Pt=me.get(it),vt=je,vt.setIndex(Pt)),Be.isMesh)Re.wireframe===!0?(Ae.setLineWidth(Re.wireframeLinewidth*de()),vt.setMode(Y.LINES)):vt.setMode(Y.TRIANGLES);else if(Be.isLine){let st=Re.linewidth;st===void 0&&(st=1),Ae.setLineWidth(st*de()),Be.isLineSegments?vt.setMode(Y.LINES):Be.isLineLoop?vt.setMode(Y.LINE_LOOP):vt.setMode(Y.LINE_STRIP)}else Be.isPoints?vt.setMode(Y.POINTS):Be.isSprite&&vt.setMode(Y.TRIANGLES);if(Be.isInstancedMesh)vt.renderInstances(mt,Ct,Be.count);else if(De.isInstancedBufferGeometry){const st=De._maxInstanceCount!==void 0?De._maxInstanceCount:1/0,gr=Math.min(De.instanceCount,st);vt.renderInstances(mt,Ct,gr)}else vt.render(mt,Ct)},this.compile=function(_e,Pe){function De(Re,Be,$e){Re.transparent===!0&&Re.side===DoubleSide&&Re.forceSinglePass===!1?(Re.side=BackSide,Re.needsUpdate=!0,tr(Re,Be,$e),Re.side=FrontSide,Re.needsUpdate=!0,tr(Re,Be,$e),Re.side=DoubleSide):tr(Re,Be,$e)}M=se.get(_e),M.init(),A.push(M),_e.traverseVisible(function(Re){Re.isLight&&Re.layers.test(Pe.layers)&&(M.pushLight(Re),Re.castShadow&&M.pushShadow(Re))}),M.setupLights(E.useLegacyLights),_e.traverse(function(Re){const Be=Re.material;if(Be)if(Array.isArray(Be))for(let $e=0;$e<Be.length;$e++){const tt=Be[$e];De(tt,_e,Re)}else De(Be,_e,Re)}),A.pop(),M=null};let Ge=null;function We(_e){Ge&&Ge(_e)}function Ke(){ut.stop()}function gt(){ut.start()}const ut=new WebGLAnimation;ut.setAnimationLoop(We),typeof self<"u"&&ut.setContext(self),this.setAnimationLoop=function(_e){Ge=_e,He.setAnimationLoop(_e),_e===null?ut.stop():ut.start()},He.addEventListener("sessionstart",Ke),He.addEventListener("sessionend",gt),this.render=function(_e,Pe){if(Pe!==void 0&&Pe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(C===!0)return;_e.matrixWorldAutoUpdate===!0&&_e.updateMatrixWorld(),Pe.parent===null&&Pe.matrixWorldAutoUpdate===!0&&Pe.updateMatrixWorld(),He.enabled===!0&&He.isPresenting===!0&&(He.cameraAutoUpdate===!0&&He.updateCamera(Pe),Pe=He.getCamera()),_e.isScene===!0&&_e.onBeforeRender(E,_e,Pe,I),M=se.get(_e,A.length),M.init(),A.push(M),ee.multiplyMatrices(Pe.projectionMatrix,Pe.matrixWorldInverse),z.setFromProjectionMatrix(ee),ie=this.localClippingEnabled,J=Ee.init(this.clippingPlanes,ie),y=he.get(_e,T.length),y.init(),T.push(y),bt(_e,Pe,0,E.sortObjects),y.finish(),E.sortObjects===!0&&y.sort(ae,pe),J===!0&&Ee.beginShadows();const De=M.state.shadowsArray;if(Oe.render(De,_e,Pe),J===!0&&Ee.endShadows(),this.info.autoReset===!0&&this.info.reset(),Fe.render(y,_e),M.setupLights(E.useLegacyLights),Pe.isArrayCamera){const Re=Pe.cameras;for(let Be=0,$e=Re.length;Be<$e;Be++){const tt=Re[Be];kt(y,_e,tt,tt.viewport)}}else kt(y,_e,Pe);I!==null&&($.updateMultisampleRenderTarget(I),$.updateRenderTargetMipmap(I)),_e.isScene===!0&&_e.onAfterRender(E,_e,Pe),Xe.resetDefaultState(),B=-1,j=null,A.pop(),A.length>0?M=A[A.length-1]:M=null,T.pop(),T.length>0?y=T[T.length-1]:y=null};function bt(_e,Pe,De,Re){if(_e.visible===!1)return;if(_e.layers.test(Pe.layers)){if(_e.isGroup)De=_e.renderOrder;else if(_e.isLOD)_e.autoUpdate===!0&&_e.update(Pe);else if(_e.isLight)M.pushLight(_e),_e.castShadow&&M.pushShadow(_e);else if(_e.isSprite){if(!_e.frustumCulled||z.intersectsSprite(_e)){Re&&Z.setFromMatrixPosition(_e.matrixWorld).applyMatrix4(ee);const $e=Se.update(_e),tt=_e.material;tt.visible&&y.push(_e,$e,tt,De,Z.z,null)}}else if((_e.isMesh||_e.isLine||_e.isPoints)&&(!_e.frustumCulled||z.intersectsObject(_e))){_e.isSkinnedMesh&&_e.skeleton.frame!==ue.render.frame&&(_e.skeleton.update(),_e.skeleton.frame=ue.render.frame);const $e=Se.update(_e),tt=_e.material;if(Re&&($e.boundingSphere===null&&$e.computeBoundingSphere(),Z.copy($e.boundingSphere.center).applyMatrix4(_e.matrixWorld).applyMatrix4(ee)),Array.isArray(tt)){const rt=$e.groups;for(let it=0,pt=rt.length;it<pt;it++){const at=rt[it],nt=tt[at.materialIndex];nt&&nt.visible&&y.push(_e,$e,nt,De,Z.z,at)}}else tt.visible&&y.push(_e,$e,tt,De,Z.z,null)}}const Be=_e.children;for(let $e=0,tt=Be.length;$e<tt;$e++)bt(Be[$e],Pe,De,Re)}function kt(_e,Pe,De,Re){const Be=_e.opaque,$e=_e.transmissive,tt=_e.transparent;M.setupLightsView(De),J===!0&&Ee.setGlobalState(E.clippingPlanes,De),$e.length>0&&ct(Be,$e,Pe,De),Re&&Ae.viewport(U.copy(Re)),Be.length>0&&wt(Be,Pe,De),$e.length>0&&wt($e,Pe,De),tt.length>0&&wt(tt,Pe,De),Ae.buffers.depth.setTest(!0),Ae.buffers.depth.setMask(!0),Ae.buffers.color.setMask(!0),Ae.setPolygonOffset(!1)}function ct(_e,Pe,De,Re){if(fe===null){const rt=Me.isWebGL2;fe=new WebGLRenderTarget(1024,1024,{generateMipmaps:!0,type:Te.has("EXT_color_buffer_half_float")?HalfFloatType:UnsignedByteType,minFilter:LinearMipmapLinearFilter,samples:rt&&d===!0?4:0})}const Be=E.getRenderTarget();E.setRenderTarget(fe),E.clear();const $e=E.toneMapping;E.toneMapping=NoToneMapping,wt(_e,De,Re),$.updateMultisampleRenderTarget(fe),$.updateRenderTargetMipmap(fe);let tt=!1;for(let rt=0,it=Pe.length;rt<it;rt++){const pt=Pe[rt],at=pt.object,nt=pt.geometry,mt=pt.material,yt=pt.group;if(mt.side===DoubleSide&&at.layers.test(Re.layers)){const Ct=mt.side;mt.side=BackSide,mt.needsUpdate=!0,xt(at,De,Re,nt,mt,yt),mt.side=Ct,mt.needsUpdate=!0,tt=!0}}tt===!0&&($.updateMultisampleRenderTarget(fe),$.updateRenderTargetMipmap(fe)),E.setRenderTarget(Be),E.toneMapping=$e}function wt(_e,Pe,De){const Re=Pe.isScene===!0?Pe.overrideMaterial:null;for(let Be=0,$e=_e.length;Be<$e;Be++){const tt=_e[Be],rt=tt.object,it=tt.geometry,pt=Re===null?tt.material:Re,at=tt.group;rt.layers.test(De.layers)&&xt(rt,Pe,De,it,pt,at)}}function xt(_e,Pe,De,Re,Be,$e){_e.onBeforeRender(E,Pe,De,Re,Be,$e),_e.modelViewMatrix.multiplyMatrices(De.matrixWorldInverse,_e.matrixWorld),_e.normalMatrix.getNormalMatrix(_e.modelViewMatrix),Be.onBeforeRender(E,Pe,De,Re,_e,$e),Be.transparent===!0&&Be.side===DoubleSide&&Be.forceSinglePass===!1?(Be.side=BackSide,Be.needsUpdate=!0,E.renderBufferDirect(De,Pe,Re,Be,_e,$e),Be.side=FrontSide,Be.needsUpdate=!0,E.renderBufferDirect(De,Pe,Re,Be,_e,$e),Be.side=DoubleSide):E.renderBufferDirect(De,Pe,Re,Be,_e,$e),_e.onAfterRender(E,Pe,De,Re,Be,$e)}function tr(_e,Pe,De){Pe.isScene!==!0&&(Pe=te);const Re=X.get(_e),Be=M.state.lights,$e=M.state.shadowsArray,tt=Be.state.version,rt=ye.getParameters(_e,Be.state,$e,Pe,De),it=ye.getProgramCacheKey(rt);let pt=Re.programs;Re.environment=_e.isMeshStandardMaterial?Pe.environment:null,Re.fog=Pe.fog,Re.envMap=(_e.isMeshStandardMaterial?ve:ge).get(_e.envMap||Re.environment),pt===void 0&&(_e.addEventListener("dispose",_t),pt=new Map,Re.programs=pt);let at=pt.get(it);if(at!==void 0){if(Re.currentProgram===at&&Re.lightsStateVersion===tt)return jt(_e,rt),at}else rt.uniforms=ye.getUniforms(_e),_e.onBuild(De,rt,E),_e.onBeforeCompile(rt,E),at=ye.acquireProgram(rt,it),pt.set(it,at),Re.uniforms=rt.uniforms;const nt=Re.uniforms;(!_e.isShaderMaterial&&!_e.isRawShaderMaterial||_e.clipping===!0)&&(nt.clippingPlanes=Ee.uniform),jt(_e,rt),Re.needsLights=hr(_e),Re.lightsStateVersion=tt,Re.needsLights&&(nt.ambientLightColor.value=Be.state.ambient,nt.lightProbe.value=Be.state.probe,nt.directionalLights.value=Be.state.directional,nt.directionalLightShadows.value=Be.state.directionalShadow,nt.spotLights.value=Be.state.spot,nt.spotLightShadows.value=Be.state.spotShadow,nt.rectAreaLights.value=Be.state.rectArea,nt.ltc_1.value=Be.state.rectAreaLTC1,nt.ltc_2.value=Be.state.rectAreaLTC2,nt.pointLights.value=Be.state.point,nt.pointLightShadows.value=Be.state.pointShadow,nt.hemisphereLights.value=Be.state.hemi,nt.directionalShadowMap.value=Be.state.directionalShadowMap,nt.directionalShadowMatrix.value=Be.state.directionalShadowMatrix,nt.spotShadowMap.value=Be.state.spotShadowMap,nt.spotLightMatrix.value=Be.state.spotLightMatrix,nt.spotLightMap.value=Be.state.spotLightMap,nt.pointShadowMap.value=Be.state.pointShadowMap,nt.pointShadowMatrix.value=Be.state.pointShadowMatrix);const mt=at.getUniforms(),yt=WebGLUniforms.seqWithValue(mt.seq,nt);return Re.currentProgram=at,Re.uniformsList=yt,at}function jt(_e,Pe){const De=X.get(_e);De.outputColorSpace=Pe.outputColorSpace,De.instancing=Pe.instancing,De.skinning=Pe.skinning,De.morphTargets=Pe.morphTargets,De.morphNormals=Pe.morphNormals,De.morphColors=Pe.morphColors,De.morphTargetsCount=Pe.morphTargetsCount,De.numClippingPlanes=Pe.numClippingPlanes,De.numIntersection=Pe.numClipIntersection,De.vertexAlphas=Pe.vertexAlphas,De.vertexTangents=Pe.vertexTangents,De.toneMapping=Pe.toneMapping}function Rr(_e,Pe,De,Re,Be){Pe.isScene!==!0&&(Pe=te),$.resetTextureUnits();const $e=Pe.fog,tt=Re.isMeshStandardMaterial?Pe.environment:null,rt=I===null?E.outputColorSpace:I.isXRRenderTarget===!0?I.texture.colorSpace:LinearSRGBColorSpace,it=(Re.isMeshStandardMaterial?ve:ge).get(Re.envMap||tt),pt=Re.vertexColors===!0&&!!De.attributes.color&&De.attributes.color.itemSize===4,at=!!Re.normalMap&&!!De.attributes.tangent,nt=!!De.morphAttributes.position,mt=!!De.morphAttributes.normal,yt=!!De.morphAttributes.color,Ct=Re.toneMapped?E.toneMapping:NoToneMapping,Pt=De.morphAttributes.position||De.morphAttributes.normal||De.morphAttributes.color,vt=Pt!==void 0?Pt.length:0,st=X.get(Re),gr=M.state.lights;if(J===!0&&(ie===!0||_e!==j)){const St=_e===j&&Re.id===B;Ee.setState(Re,_e,St)}let Lt=!1;Re.version===st.__version?(st.needsLights&&st.lightsStateVersion!==gr.state.version||st.outputColorSpace!==rt||Be.isInstancedMesh&&st.instancing===!1||!Be.isInstancedMesh&&st.instancing===!0||Be.isSkinnedMesh&&st.skinning===!1||!Be.isSkinnedMesh&&st.skinning===!0||st.envMap!==it||Re.fog===!0&&st.fog!==$e||st.numClippingPlanes!==void 0&&(st.numClippingPlanes!==Ee.numPlanes||st.numIntersection!==Ee.numIntersection)||st.vertexAlphas!==pt||st.vertexTangents!==at||st.morphTargets!==nt||st.morphNormals!==mt||st.morphColors!==yt||st.toneMapping!==Ct||Me.isWebGL2===!0&&st.morphTargetsCount!==vt)&&(Lt=!0):(Lt=!0,st.__version=Re.version);let It=st.currentProgram;Lt===!0&&(It=tr(Re,Pe,Be));let Or=!1,Ut=!1,ir=!1;const Tt=It.getUniforms(),Ft=st.uniforms;if(Ae.useProgram(It.program)&&(Or=!0,Ut=!0,ir=!0),Re.id!==B&&(B=Re.id,Ut=!0),Or||j!==_e){if(Tt.setValue(Y,"projectionMatrix",_e.projectionMatrix),Me.logarithmicDepthBuffer&&Tt.setValue(Y,"logDepthBufFC",2/(Math.log(_e.far+1)/Math.LN2)),j!==_e&&(j=_e,Ut=!0,ir=!0),Re.isShaderMaterial||Re.isMeshPhongMaterial||Re.isMeshToonMaterial||Re.isMeshStandardMaterial||Re.envMap){const St=Tt.map.cameraPosition;St!==void 0&&St.setValue(Y,Z.setFromMatrixPosition(_e.matrixWorld))}(Re.isMeshPhongMaterial||Re.isMeshToonMaterial||Re.isMeshLambertMaterial||Re.isMeshBasicMaterial||Re.isMeshStandardMaterial||Re.isShaderMaterial)&&Tt.setValue(Y,"isOrthographic",_e.isOrthographicCamera===!0),(Re.isMeshPhongMaterial||Re.isMeshToonMaterial||Re.isMeshLambertMaterial||Re.isMeshBasicMaterial||Re.isMeshStandardMaterial||Re.isShaderMaterial||Re.isShadowMaterial||Be.isSkinnedMesh)&&Tt.setValue(Y,"viewMatrix",_e.matrixWorldInverse)}if(Be.isSkinnedMesh){Tt.setOptional(Y,Be,"bindMatrix"),Tt.setOptional(Y,Be,"bindMatrixInverse");const St=Be.skeleton;St&&(Me.floatVertexTextures?(St.boneTexture===null&&St.computeBoneTexture(),Tt.setValue(Y,"boneTexture",St.boneTexture,$),Tt.setValue(Y,"boneTextureSize",St.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const mr=De.morphAttributes;if((mr.position!==void 0||mr.normal!==void 0||mr.color!==void 0&&Me.isWebGL2===!0)&&Ne.update(Be,De,It),(Ut||st.receiveShadow!==Be.receiveShadow)&&(st.receiveShadow=Be.receiveShadow,Tt.setValue(Y,"receiveShadow",Be.receiveShadow)),Re.isMeshGouraudMaterial&&Re.envMap!==null&&(Ft.envMap.value=it,Ft.flipEnvMap.value=it.isCubeTexture&&it.isRenderTargetTexture===!1?-1:1),Ut&&(Tt.setValue(Y,"toneMappingExposure",E.toneMappingExposure),st.needsLights&&rr(Ft,ir),$e&&Re.fog===!0&&be.refreshFogUniforms(Ft,$e),be.refreshMaterialUniforms(Ft,Re,le,re,fe),WebGLUniforms.upload(Y,st.uniformsList,Ft,$)),Re.isShaderMaterial&&Re.uniformsNeedUpdate===!0&&(WebGLUniforms.upload(Y,st.uniformsList,Ft,$),Re.uniformsNeedUpdate=!1),Re.isSpriteMaterial&&Tt.setValue(Y,"center",Be.center),Tt.setValue(Y,"modelViewMatrix",Be.modelViewMatrix),Tt.setValue(Y,"normalMatrix",Be.normalMatrix),Tt.setValue(Y,"modelMatrix",Be.matrixWorld),Re.isShaderMaterial||Re.isRawShaderMaterial){const St=Re.uniformsGroups;for(let _r=0,Pr=St.length;_r<Pr;_r++)if(Me.isWebGL2){const yr=St[_r];Ye.update(yr,It),Ye.bind(yr,It)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return It}function rr(_e,Pe){_e.ambientLightColor.needsUpdate=Pe,_e.lightProbe.needsUpdate=Pe,_e.directionalLights.needsUpdate=Pe,_e.directionalLightShadows.needsUpdate=Pe,_e.pointLights.needsUpdate=Pe,_e.pointLightShadows.needsUpdate=Pe,_e.spotLights.needsUpdate=Pe,_e.spotLightShadows.needsUpdate=Pe,_e.rectAreaLights.needsUpdate=Pe,_e.hemisphereLights.needsUpdate=Pe}function hr(_e){return _e.isMeshLambertMaterial||_e.isMeshToonMaterial||_e.isMeshPhongMaterial||_e.isMeshStandardMaterial||_e.isShadowMaterial||_e.isShaderMaterial&&_e.lights===!0}this.getActiveCubeFace=function(){return k},this.getActiveMipmapLevel=function(){return O},this.getRenderTarget=function(){return I},this.setRenderTargetTextures=function(_e,Pe,De){X.get(_e.texture).__webglTexture=Pe,X.get(_e.depthTexture).__webglTexture=De;const Re=X.get(_e);Re.__hasExternalTextures=!0,Re.__hasExternalTextures&&(Re.__autoAllocateDepthBuffer=De===void 0,Re.__autoAllocateDepthBuffer||Te.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Re.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(_e,Pe){const De=X.get(_e);De.__webglFramebuffer=Pe,De.__useDefaultFramebuffer=Pe===void 0},this.setRenderTarget=function(_e,Pe=0,De=0){I=_e,k=Pe,O=De;let Re=!0,Be=null,$e=!1,tt=!1;if(_e){const rt=X.get(_e);rt.__useDefaultFramebuffer!==void 0?(Ae.bindFramebuffer(Y.FRAMEBUFFER,null),Re=!1):rt.__webglFramebuffer===void 0?$.setupRenderTarget(_e):rt.__hasExternalTextures&&$.rebindTextures(_e,X.get(_e.texture).__webglTexture,X.get(_e.depthTexture).__webglTexture);const it=_e.texture;(it.isData3DTexture||it.isDataArrayTexture||it.isCompressedArrayTexture)&&(tt=!0);const pt=X.get(_e).__webglFramebuffer;_e.isWebGLCubeRenderTarget?(Be=pt[Pe],$e=!0):Me.isWebGL2&&_e.samples>0&&$.useMultisampledRTT(_e)===!1?Be=X.get(_e).__webglMultisampledFramebuffer:Be=pt,U.copy(_e.viewport),N.copy(_e.scissor),W=_e.scissorTest}else U.copy(K).multiplyScalar(le).floor(),N.copy(q).multiplyScalar(le).floor(),W=D;if(Ae.bindFramebuffer(Y.FRAMEBUFFER,Be)&&Me.drawBuffers&&Re&&Ae.drawBuffers(_e,Be),Ae.viewport(U),Ae.scissor(N),Ae.setScissorTest(W),$e){const rt=X.get(_e.texture);Y.framebufferTexture2D(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,rt.__webglTexture,De)}else if(tt){const rt=X.get(_e.texture),it=Pe||0;Y.framebufferTextureLayer(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,rt.__webglTexture,De||0,it)}B=-1},this.readRenderTargetPixels=function(_e,Pe,De,Re,Be,$e,tt){if(!(_e&&_e.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let rt=X.get(_e).__webglFramebuffer;if(_e.isWebGLCubeRenderTarget&&tt!==void 0&&(rt=rt[tt]),rt){Ae.bindFramebuffer(Y.FRAMEBUFFER,rt);try{const it=_e.texture,pt=it.format,at=it.type;if(pt!==RGBAFormat&&Le.convert(pt)!==Y.getParameter(Y.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const nt=at===HalfFloatType&&(Te.has("EXT_color_buffer_half_float")||Me.isWebGL2&&Te.has("EXT_color_buffer_float"));if(at!==UnsignedByteType&&Le.convert(at)!==Y.getParameter(Y.IMPLEMENTATION_COLOR_READ_TYPE)&&!(at===FloatType&&(Me.isWebGL2||Te.has("OES_texture_float")||Te.has("WEBGL_color_buffer_float")))&&!nt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Pe>=0&&Pe<=_e.width-Re&&De>=0&&De<=_e.height-Be&&Y.readPixels(Pe,De,Re,Be,Le.convert(pt),Le.convert(at),$e)}finally{const it=I!==null?X.get(I).__webglFramebuffer:null;Ae.bindFramebuffer(Y.FRAMEBUFFER,it)}}},this.copyFramebufferToTexture=function(_e,Pe,De=0){const Re=Math.pow(2,-De),Be=Math.floor(Pe.image.width*Re),$e=Math.floor(Pe.image.height*Re);$.setTexture2D(Pe,0),Y.copyTexSubImage2D(Y.TEXTURE_2D,De,0,0,_e.x,_e.y,Be,$e),Ae.unbindTexture()},this.copyTextureToTexture=function(_e,Pe,De,Re=0){const Be=Pe.image.width,$e=Pe.image.height,tt=Le.convert(De.format),rt=Le.convert(De.type);$.setTexture2D(De,0),Y.pixelStorei(Y.UNPACK_FLIP_Y_WEBGL,De.flipY),Y.pixelStorei(Y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,De.premultiplyAlpha),Y.pixelStorei(Y.UNPACK_ALIGNMENT,De.unpackAlignment),Pe.isDataTexture?Y.texSubImage2D(Y.TEXTURE_2D,Re,_e.x,_e.y,Be,$e,tt,rt,Pe.image.data):Pe.isCompressedTexture?Y.compressedTexSubImage2D(Y.TEXTURE_2D,Re,_e.x,_e.y,Pe.mipmaps[0].width,Pe.mipmaps[0].height,tt,Pe.mipmaps[0].data):Y.texSubImage2D(Y.TEXTURE_2D,Re,_e.x,_e.y,tt,rt,Pe.image),Re===0&&De.generateMipmaps&&Y.generateMipmap(Y.TEXTURE_2D),Ae.unbindTexture()},this.copyTextureToTexture3D=function(_e,Pe,De,Re,Be=0){if(E.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const $e=_e.max.x-_e.min.x+1,tt=_e.max.y-_e.min.y+1,rt=_e.max.z-_e.min.z+1,it=Le.convert(Re.format),pt=Le.convert(Re.type);let at;if(Re.isData3DTexture)$.setTexture3D(Re,0),at=Y.TEXTURE_3D;else if(Re.isDataArrayTexture)$.setTexture2DArray(Re,0),at=Y.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Y.pixelStorei(Y.UNPACK_FLIP_Y_WEBGL,Re.flipY),Y.pixelStorei(Y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Re.premultiplyAlpha),Y.pixelStorei(Y.UNPACK_ALIGNMENT,Re.unpackAlignment);const nt=Y.getParameter(Y.UNPACK_ROW_LENGTH),mt=Y.getParameter(Y.UNPACK_IMAGE_HEIGHT),yt=Y.getParameter(Y.UNPACK_SKIP_PIXELS),Ct=Y.getParameter(Y.UNPACK_SKIP_ROWS),Pt=Y.getParameter(Y.UNPACK_SKIP_IMAGES),vt=De.isCompressedTexture?De.mipmaps[0]:De.image;Y.pixelStorei(Y.UNPACK_ROW_LENGTH,vt.width),Y.pixelStorei(Y.UNPACK_IMAGE_HEIGHT,vt.height),Y.pixelStorei(Y.UNPACK_SKIP_PIXELS,_e.min.x),Y.pixelStorei(Y.UNPACK_SKIP_ROWS,_e.min.y),Y.pixelStorei(Y.UNPACK_SKIP_IMAGES,_e.min.z),De.isDataTexture||De.isData3DTexture?Y.texSubImage3D(at,Be,Pe.x,Pe.y,Pe.z,$e,tt,rt,it,pt,vt.data):De.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Y.compressedTexSubImage3D(at,Be,Pe.x,Pe.y,Pe.z,$e,tt,rt,it,vt.data)):Y.texSubImage3D(at,Be,Pe.x,Pe.y,Pe.z,$e,tt,rt,it,pt,vt),Y.pixelStorei(Y.UNPACK_ROW_LENGTH,nt),Y.pixelStorei(Y.UNPACK_IMAGE_HEIGHT,mt),Y.pixelStorei(Y.UNPACK_SKIP_PIXELS,yt),Y.pixelStorei(Y.UNPACK_SKIP_ROWS,Ct),Y.pixelStorei(Y.UNPACK_SKIP_IMAGES,Pt),Be===0&&Re.generateMipmaps&&Y.generateMipmap(at),Ae.unbindTexture()},this.initTexture=function(_e){_e.isCubeTexture?$.setTextureCube(_e,0):_e.isData3DTexture?$.setTexture3D(_e,0):_e.isDataArrayTexture||_e.isCompressedArrayTexture?$.setTexture2DArray(_e,0):$.setTexture2D(_e,0),Ae.unbindTexture()},this.resetState=function(){k=0,O=0,I=null,Ae.reset(),Xe.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===SRGBColorSpace?sRGBEncoding:LinearEncoding}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===sRGBEncoding?SRGBColorSpace:LinearSRGBColorSpace}}class WebGL1Renderer extends WebGLRenderer{}WebGL1Renderer.prototype.isWebGL1Renderer=!0;class Scene extends Object3D{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,r){return super.copy(e,r),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const r=super.toJSON(e);return this.fog!==null&&(r.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(r.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(r.object.backgroundIntensity=this.backgroundIntensity),r}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class InterleavedBuffer{constructor(e,r){this.isInterleavedBuffer=!0,this.array=e,this.stride=r,this.count=e!==void 0?e.length/r:0,this.usage=StaticDrawUsage,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=generateUUID()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,r,n){e*=this.stride,n*=r.stride;for(let o=0,s=this.stride;o<s;o++)this.array[e+o]=r.array[n+o];return this}set(e,r=0){return this.array.set(e,r),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const r=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(r,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const _vector$5=new Vector3;class InterleavedBufferAttribute{constructor(e,r,n,o=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=r,this.offset=n,this.normalized=o}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let r=0,n=this.data.count;r<n;r++)_vector$5.fromBufferAttribute(this,r),_vector$5.applyMatrix4(e),this.setXYZ(r,_vector$5.x,_vector$5.y,_vector$5.z);return this}applyNormalMatrix(e){for(let r=0,n=this.count;r<n;r++)_vector$5.fromBufferAttribute(this,r),_vector$5.applyNormalMatrix(e),this.setXYZ(r,_vector$5.x,_vector$5.y,_vector$5.z);return this}transformDirection(e){for(let r=0,n=this.count;r<n;r++)_vector$5.fromBufferAttribute(this,r),_vector$5.transformDirection(e),this.setXYZ(r,_vector$5.x,_vector$5.y,_vector$5.z);return this}setX(e,r){return this.normalized&&(r=normalize$1(r,this.array)),this.data.array[e*this.data.stride+this.offset]=r,this}setY(e,r){return this.normalized&&(r=normalize$1(r,this.array)),this.data.array[e*this.data.stride+this.offset+1]=r,this}setZ(e,r){return this.normalized&&(r=normalize$1(r,this.array)),this.data.array[e*this.data.stride+this.offset+2]=r,this}setW(e,r){return this.normalized&&(r=normalize$1(r,this.array)),this.data.array[e*this.data.stride+this.offset+3]=r,this}getX(e){let r=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(r=denormalize(r,this.array)),r}getY(e){let r=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(r=denormalize(r,this.array)),r}getZ(e){let r=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(r=denormalize(r,this.array)),r}getW(e){let r=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(r=denormalize(r,this.array)),r}setXY(e,r,n){return e=e*this.data.stride+this.offset,this.normalized&&(r=normalize$1(r,this.array),n=normalize$1(n,this.array)),this.data.array[e+0]=r,this.data.array[e+1]=n,this}setXYZ(e,r,n,o){return e=e*this.data.stride+this.offset,this.normalized&&(r=normalize$1(r,this.array),n=normalize$1(n,this.array),o=normalize$1(o,this.array)),this.data.array[e+0]=r,this.data.array[e+1]=n,this.data.array[e+2]=o,this}setXYZW(e,r,n,o,s){return e=e*this.data.stride+this.offset,this.normalized&&(r=normalize$1(r,this.array),n=normalize$1(n,this.array),o=normalize$1(o,this.array),s=normalize$1(s,this.array)),this.data.array[e+0]=r,this.data.array[e+1]=n,this.data.array[e+2]=o,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const r=[];for(let n=0;n<this.count;n++){const o=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)r.push(this.data.array[o+s])}return new BufferAttribute(new this.array.constructor(r),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new InterleavedBufferAttribute(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const r=[];for(let n=0;n<this.count;n++){const o=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)r.push(this.data.array[o+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:r,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}const _basePosition=new Vector3,_skinIndex=new Vector4,_skinWeight=new Vector4,_vector3=new Vector3,_matrix4=new Matrix4,_vertex=new Vector3;class SkinnedMesh extends Mesh{constructor(e,r){super(e,r),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Matrix4,this.bindMatrixInverse=new Matrix4,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Box3),this.boundingBox.makeEmpty();const r=e.getAttribute("position");for(let n=0;n<r.count;n++)_vertex.fromBufferAttribute(r,n),this.applyBoneTransform(n,_vertex),this.boundingBox.expandByPoint(_vertex)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Sphere),this.boundingSphere.makeEmpty();const r=e.getAttribute("position");for(let n=0;n<r.count;n++)_vertex.fromBufferAttribute(r,n),this.applyBoneTransform(n,_vertex),this.boundingSphere.expandByPoint(_vertex)}copy(e,r){return super.copy(e,r),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}getVertexPosition(e,r){return super.getVertexPosition(e,r),this.applyBoneTransform(e,r),r}bind(e,r){this.skeleton=e,r===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),r=this.matrixWorld),this.bindMatrix.copy(r),this.bindMatrixInverse.copy(r).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Vector4,r=this.geometry.attributes.skinWeight;for(let n=0,o=r.count;n<o;n++){e.fromBufferAttribute(r,n);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),r.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,r){const n=this.skeleton,o=this.geometry;_skinIndex.fromBufferAttribute(o.attributes.skinIndex,e),_skinWeight.fromBufferAttribute(o.attributes.skinWeight,e),_basePosition.copy(r).applyMatrix4(this.bindMatrix),r.set(0,0,0);for(let s=0;s<4;s++){const c=_skinWeight.getComponent(s);if(c!==0){const d=_skinIndex.getComponent(s);_matrix4.multiplyMatrices(n.bones[d].matrixWorld,n.boneInverses[d]),r.addScaledVector(_vector3.copy(_basePosition).applyMatrix4(_matrix4),c)}}return r.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,r){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,r)}}class Bone extends Object3D{constructor(){super(),this.isBone=!0,this.type="Bone"}}class DataTexture extends Texture{constructor(e=null,r=1,n=1,o,s,c,d,u,m=NearestFilter,_=NearestFilter,g,f){super(null,c,d,u,m,_,o,s,g,f),this.isDataTexture=!0,this.image={data:e,width:r,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const _offsetMatrix=new Matrix4,_identityMatrix$1=new Matrix4;class Skeleton{constructor(e=[],r=[]){this.uuid=generateUUID(),this.bones=e.slice(0),this.boneInverses=r,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,r=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),r.length===0)this.calculateInverses();else if(e.length!==r.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,o=this.bones.length;n<o;n++)this.boneInverses.push(new Matrix4)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,r=this.bones.length;e<r;e++){const n=new Matrix4;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,r=this.bones.length;e<r;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,r=this.bones.length;e<r;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,r=this.boneInverses,n=this.boneMatrices,o=this.boneTexture;for(let s=0,c=e.length;s<c;s++){const d=e[s]?e[s].matrixWorld:_identityMatrix$1;_offsetMatrix.multiplyMatrices(d,r[s]),_offsetMatrix.toArray(n,s*16)}o!==null&&(o.needsUpdate=!0)}clone(){return new Skeleton(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=ceilPowerOfTwo(e),e=Math.max(e,4);const r=new Float32Array(e*e*4);r.set(this.boneMatrices);const n=new DataTexture(r,e,e,RGBAFormat,FloatType);return n.needsUpdate=!0,this.boneMatrices=r,this.boneTexture=n,this.boneTextureSize=e,this}getBoneByName(e){for(let r=0,n=this.bones.length;r<n;r++){const o=this.bones[r];if(o.name===e)return o}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,r){this.uuid=e.uuid;for(let n=0,o=e.bones.length;n<o;n++){const s=e.bones[n];let c=r[s];c===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),c=new Bone),this.bones.push(c),this.boneInverses.push(new Matrix4().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const r=this.bones,n=this.boneInverses;for(let o=0,s=r.length;o<s;o++){const c=r[o];e.bones.push(c.uuid);const d=n[o];e.boneInverses.push(d.toArray())}return e}}class InstancedBufferAttribute extends BufferAttribute{constructor(e,r,n,o=1){super(e,r,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=o}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const _instanceLocalMatrix=new Matrix4,_instanceWorldMatrix=new Matrix4,_instanceIntersects=[],_box3=new Box3,_identity=new Matrix4,_mesh=new Mesh,_sphere$2=new Sphere;class InstancedMesh extends Mesh{constructor(e,r,n){super(e,r),this.isInstancedMesh=!0,this.instanceMatrix=new InstancedBufferAttribute(new Float32Array(n*16),16),this.instanceColor=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let o=0;o<n;o++)this.setMatrixAt(o,_identity)}computeBoundingBox(){const e=this.geometry,r=this.count;this.boundingBox===null&&(this.boundingBox=new Box3),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<r;n++)this.getMatrixAt(n,_instanceLocalMatrix),_box3.copy(e.boundingBox).applyMatrix4(_instanceLocalMatrix),this.boundingBox.union(_box3)}computeBoundingSphere(){const e=this.geometry,r=this.count;this.boundingSphere===null&&(this.boundingSphere=new Sphere),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<r;n++)this.getMatrixAt(n,_instanceLocalMatrix),_sphere$2.copy(e.boundingSphere).applyMatrix4(_instanceLocalMatrix),this.boundingSphere.union(_sphere$2)}copy(e,r){return super.copy(e,r),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,r){r.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,r){r.fromArray(this.instanceMatrix.array,e*16)}raycast(e,r){const n=this.matrixWorld,o=this.count;if(_mesh.geometry=this.geometry,_mesh.material=this.material,_mesh.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_sphere$2.copy(this.boundingSphere),_sphere$2.applyMatrix4(n),e.ray.intersectsSphere(_sphere$2)!==!1))for(let s=0;s<o;s++){this.getMatrixAt(s,_instanceLocalMatrix),_instanceWorldMatrix.multiplyMatrices(n,_instanceLocalMatrix),_mesh.matrixWorld=_instanceWorldMatrix,_mesh.raycast(e,_instanceIntersects);for(let c=0,d=_instanceIntersects.length;c<d;c++){const u=_instanceIntersects[c];u.instanceId=s,u.object=this,r.push(u)}_instanceIntersects.length=0}}setColorAt(e,r){this.instanceColor===null&&(this.instanceColor=new InstancedBufferAttribute(new Float32Array(this.instanceMatrix.count*3),3)),r.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,r){r.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class LineBasicMaterial extends Material{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Color(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const _start$1=new Vector3,_end$1=new Vector3,_inverseMatrix$1=new Matrix4,_ray$1=new Ray,_sphere$1=new Sphere;class Line extends Object3D{constructor(e=new BufferGeometry,r=new LineBasicMaterial){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=r,this.updateMorphTargets()}copy(e,r){return super.copy(e,r),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const r=e.attributes.position,n=[0];for(let o=1,s=r.count;o<s;o++)_start$1.fromBufferAttribute(r,o-1),_end$1.fromBufferAttribute(r,o),n[o]=n[o-1],n[o]+=_start$1.distanceTo(_end$1);e.setAttribute("lineDistance",new Float32BufferAttribute(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,r){const n=this.geometry,o=this.matrixWorld,s=e.params.Line.threshold,c=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),_sphere$1.copy(n.boundingSphere),_sphere$1.applyMatrix4(o),_sphere$1.radius+=s,e.ray.intersectsSphere(_sphere$1)===!1)return;_inverseMatrix$1.copy(o).invert(),_ray$1.copy(e.ray).applyMatrix4(_inverseMatrix$1);const d=s/((this.scale.x+this.scale.y+this.scale.z)/3),u=d*d,m=new Vector3,_=new Vector3,g=new Vector3,f=new Vector3,y=this.isLineSegments?2:1,M=n.index,T=n.attributes.position;if(M!==null){const A=Math.max(0,c.start),E=Math.min(M.count,c.start+c.count);for(let C=A,k=E-1;C<k;C+=y){const O=M.getX(C),I=M.getX(C+1);if(m.fromBufferAttribute(T,O),_.fromBufferAttribute(T,I),_ray$1.distanceSqToSegment(m,_,f,g)>u)continue;f.applyMatrix4(this.matrixWorld);const B=e.ray.origin.distanceTo(f);B<e.near||B>e.far||r.push({distance:B,point:g.clone().applyMatrix4(this.matrixWorld),index:C,face:null,faceIndex:null,object:this})}}else{const A=Math.max(0,c.start),E=Math.min(T.count,c.start+c.count);for(let C=A,k=E-1;C<k;C+=y){if(m.fromBufferAttribute(T,C),_.fromBufferAttribute(T,C+1),_ray$1.distanceSqToSegment(m,_,f,g)>u)continue;f.applyMatrix4(this.matrixWorld);const O=e.ray.origin.distanceTo(f);O<e.near||O>e.far||r.push({distance:O,point:g.clone().applyMatrix4(this.matrixWorld),index:C,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const e=this.geometry.morphAttributes,r=Object.keys(e);if(r.length>0){const n=e[r[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=n.length;o<s;o++){const c=n[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=o}}}}}const _start=new Vector3,_end=new Vector3;class LineSegments extends Line{constructor(e,r){super(e,r),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const r=e.attributes.position,n=[];for(let o=0,s=r.count;o<s;o+=2)_start.fromBufferAttribute(r,o),_end.fromBufferAttribute(r,o+1),n[o]=o===0?0:n[o-1],n[o+1]=n[o]+_start.distanceTo(_end);e.setAttribute("lineDistance",new Float32BufferAttribute(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class LineLoop extends Line{constructor(e,r){super(e,r),this.isLineLoop=!0,this.type="LineLoop"}}class PointsMaterial extends Material{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const _inverseMatrix=new Matrix4,_ray=new Ray,_sphere=new Sphere,_position$2=new Vector3;class Points extends Object3D{constructor(e=new BufferGeometry,r=new PointsMaterial){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=r,this.updateMorphTargets()}copy(e,r){return super.copy(e,r),this.material=e.material,this.geometry=e.geometry,this}raycast(e,r){const n=this.geometry,o=this.matrixWorld,s=e.params.Points.threshold,c=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),_sphere.copy(n.boundingSphere),_sphere.applyMatrix4(o),_sphere.radius+=s,e.ray.intersectsSphere(_sphere)===!1)return;_inverseMatrix.copy(o).invert(),_ray.copy(e.ray).applyMatrix4(_inverseMatrix);const d=s/((this.scale.x+this.scale.y+this.scale.z)/3),u=d*d,m=n.index,_=n.attributes.position;if(m!==null){const g=Math.max(0,c.start),f=Math.min(m.count,c.start+c.count);for(let y=g,M=f;y<M;y++){const T=m.getX(y);_position$2.fromBufferAttribute(_,T),testPoint(_position$2,T,u,o,e,r,this)}}else{const g=Math.max(0,c.start),f=Math.min(_.count,c.start+c.count);for(let y=g,M=f;y<M;y++)_position$2.fromBufferAttribute(_,y),testPoint(_position$2,y,u,o,e,r,this)}}updateMorphTargets(){const e=this.geometry.morphAttributes,r=Object.keys(e);if(r.length>0){const n=e[r[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=n.length;o<s;o++){const c=n[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=o}}}}}function testPoint(t,e,r,n,o,s,c){const d=_ray.distanceSqToPoint(t);if(d<r){const u=new Vector3;_ray.closestPointToPoint(t,u),u.applyMatrix4(n);const m=o.ray.origin.distanceTo(u);if(m<o.near||m>o.far)return;s.push({distance:m,distanceToRay:Math.sqrt(d),point:u,index:e,face:null,object:c})}}class Curve{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,r){const n=this.getUtoTmapping(e);return this.getPoint(n,r)}getPoints(e=5){const r=[];for(let n=0;n<=e;n++)r.push(this.getPoint(n/e));return r}getSpacedPoints(e=5){const r=[];for(let n=0;n<=e;n++)r.push(this.getPointAt(n/e));return r}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const r=[];let n,o=this.getPoint(0),s=0;r.push(0);for(let c=1;c<=e;c++)n=this.getPoint(c/e),s+=n.distanceTo(o),r.push(s),o=n;return this.cacheArcLengths=r,r}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,r){const n=this.getLengths();let o=0;const s=n.length;let c;r?c=r:c=e*n[s-1];let d=0,u=s-1,m;for(;d<=u;)if(o=Math.floor(d+(u-d)/2),m=n[o]-c,m<0)d=o+1;else if(m>0)u=o-1;else{u=o;break}if(o=u,n[o]===c)return o/(s-1);const _=n[o],g=n[o+1]-_,f=(c-_)/g;return(o+f)/(s-1)}getTangent(e,r){let n=e-1e-4,o=e+1e-4;n<0&&(n=0),o>1&&(o=1);const s=this.getPoint(n),c=this.getPoint(o),d=r||(s.isVector2?new Vector2:new Vector3);return d.copy(c).sub(s).normalize(),d}getTangentAt(e,r){const n=this.getUtoTmapping(e);return this.getTangent(n,r)}computeFrenetFrames(e,r){const n=new Vector3,o=[],s=[],c=[],d=new Vector3,u=new Matrix4;for(let y=0;y<=e;y++){const M=y/e;o[y]=this.getTangentAt(M,new Vector3)}s[0]=new Vector3,c[0]=new Vector3;let m=Number.MAX_VALUE;const _=Math.abs(o[0].x),g=Math.abs(o[0].y),f=Math.abs(o[0].z);_<=m&&(m=_,n.set(1,0,0)),g<=m&&(m=g,n.set(0,1,0)),f<=m&&n.set(0,0,1),d.crossVectors(o[0],n).normalize(),s[0].crossVectors(o[0],d),c[0].crossVectors(o[0],s[0]);for(let y=1;y<=e;y++){if(s[y]=s[y-1].clone(),c[y]=c[y-1].clone(),d.crossVectors(o[y-1],o[y]),d.length()>Number.EPSILON){d.normalize();const M=Math.acos(clamp$2(o[y-1].dot(o[y]),-1,1));s[y].applyMatrix4(u.makeRotationAxis(d,M))}c[y].crossVectors(o[y],s[y])}if(r===!0){let y=Math.acos(clamp$2(s[0].dot(s[e]),-1,1));y/=e,o[0].dot(d.crossVectors(s[0],s[e]))>0&&(y=-y);for(let M=1;M<=e;M++)s[M].applyMatrix4(u.makeRotationAxis(o[M],y*M)),c[M].crossVectors(o[M],s[M])}return{tangents:o,normals:s,binormals:c}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class EllipseCurve extends Curve{constructor(e=0,r=0,n=1,o=1,s=0,c=Math.PI*2,d=!1,u=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=r,this.xRadius=n,this.yRadius=o,this.aStartAngle=s,this.aEndAngle=c,this.aClockwise=d,this.aRotation=u}getPoint(e,r){const n=r||new Vector2,o=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const c=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=o;for(;s>o;)s-=o;s<Number.EPSILON&&(c?s=0:s=o),this.aClockwise===!0&&!c&&(s===o?s=-o:s=s-o);const d=this.aStartAngle+e*s;let u=this.aX+this.xRadius*Math.cos(d),m=this.aY+this.yRadius*Math.sin(d);if(this.aRotation!==0){const _=Math.cos(this.aRotation),g=Math.sin(this.aRotation),f=u-this.aX,y=m-this.aY;u=f*_-y*g+this.aX,m=f*g+y*_+this.aY}return n.set(u,m)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class ArcCurve extends EllipseCurve{constructor(e,r,n,o,s,c){super(e,r,n,n,o,s,c),this.isArcCurve=!0,this.type="ArcCurve"}}function CubicPoly(){let t=0,e=0,r=0,n=0;function o(s,c,d,u){t=s,e=d,r=-3*s+3*c-2*d-u,n=2*s-2*c+d+u}return{initCatmullRom:function(s,c,d,u,m){o(c,d,m*(d-s),m*(u-c))},initNonuniformCatmullRom:function(s,c,d,u,m,_,g){let f=(c-s)/m-(d-s)/(m+_)+(d-c)/_,y=(d-c)/_-(u-c)/(_+g)+(u-d)/g;f*=_,y*=_,o(c,d,f,y)},calc:function(s){const c=s*s,d=c*s;return t+e*s+r*c+n*d}}}const tmp=new Vector3,px=new CubicPoly,py=new CubicPoly,pz=new CubicPoly;class CatmullRomCurve3 extends Curve{constructor(e=[],r=!1,n="centripetal",o=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=r,this.curveType=n,this.tension=o}getPoint(e,r=new Vector3){const n=r,o=this.points,s=o.length,c=(s-(this.closed?0:1))*e;let d=Math.floor(c),u=c-d;this.closed?d+=d>0?0:(Math.floor(Math.abs(d)/s)+1)*s:u===0&&d===s-1&&(d=s-2,u=1);let m,_;this.closed||d>0?m=o[(d-1)%s]:(tmp.subVectors(o[0],o[1]).add(o[0]),m=tmp);const g=o[d%s],f=o[(d+1)%s];if(this.closed||d+2<s?_=o[(d+2)%s]:(tmp.subVectors(o[s-1],o[s-2]).add(o[s-1]),_=tmp),this.curveType==="centripetal"||this.curveType==="chordal"){const y=this.curveType==="chordal"?.5:.25;let M=Math.pow(m.distanceToSquared(g),y),T=Math.pow(g.distanceToSquared(f),y),A=Math.pow(f.distanceToSquared(_),y);T<1e-4&&(T=1),M<1e-4&&(M=T),A<1e-4&&(A=T),px.initNonuniformCatmullRom(m.x,g.x,f.x,_.x,M,T,A),py.initNonuniformCatmullRom(m.y,g.y,f.y,_.y,M,T,A),pz.initNonuniformCatmullRom(m.z,g.z,f.z,_.z,M,T,A)}else this.curveType==="catmullrom"&&(px.initCatmullRom(m.x,g.x,f.x,_.x,this.tension),py.initCatmullRom(m.y,g.y,f.y,_.y,this.tension),pz.initCatmullRom(m.z,g.z,f.z,_.z,this.tension));return n.set(px.calc(u),py.calc(u),pz.calc(u)),n}copy(e){super.copy(e),this.points=[];for(let r=0,n=e.points.length;r<n;r++){const o=e.points[r];this.points.push(o.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let r=0,n=this.points.length;r<n;r++){const o=this.points[r];e.points.push(o.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let r=0,n=e.points.length;r<n;r++){const o=e.points[r];this.points.push(new Vector3().fromArray(o))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function CatmullRom(t,e,r,n,o){const s=(n-e)*.5,c=(o-r)*.5,d=t*t,u=t*d;return(2*r-2*n+s+c)*u+(-3*r+3*n-2*s-c)*d+s*t+r}function QuadraticBezierP0(t,e){const r=1-t;return r*r*e}function QuadraticBezierP1(t,e){return 2*(1-t)*t*e}function QuadraticBezierP2(t,e){return t*t*e}function QuadraticBezier(t,e,r,n){return QuadraticBezierP0(t,e)+QuadraticBezierP1(t,r)+QuadraticBezierP2(t,n)}function CubicBezierP0(t,e){const r=1-t;return r*r*r*e}function CubicBezierP1(t,e){const r=1-t;return 3*r*r*t*e}function CubicBezierP2(t,e){return 3*(1-t)*t*t*e}function CubicBezierP3(t,e){return t*t*t*e}function CubicBezier(t,e,r,n,o){return CubicBezierP0(t,e)+CubicBezierP1(t,r)+CubicBezierP2(t,n)+CubicBezierP3(t,o)}class CubicBezierCurve extends Curve{constructor(e=new Vector2,r=new Vector2,n=new Vector2,o=new Vector2){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=r,this.v2=n,this.v3=o}getPoint(e,r=new Vector2){const n=r,o=this.v0,s=this.v1,c=this.v2,d=this.v3;return n.set(CubicBezier(e,o.x,s.x,c.x,d.x),CubicBezier(e,o.y,s.y,c.y,d.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class CubicBezierCurve3 extends Curve{constructor(e=new Vector3,r=new Vector3,n=new Vector3,o=new Vector3){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=r,this.v2=n,this.v3=o}getPoint(e,r=new Vector3){const n=r,o=this.v0,s=this.v1,c=this.v2,d=this.v3;return n.set(CubicBezier(e,o.x,s.x,c.x,d.x),CubicBezier(e,o.y,s.y,c.y,d.y),CubicBezier(e,o.z,s.z,c.z,d.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class LineCurve extends Curve{constructor(e=new Vector2,r=new Vector2){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=r}getPoint(e,r=new Vector2){const n=r;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,r){return this.getPoint(e,r)}getTangent(e,r=new Vector2){return r.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,r){return this.getTangent(e,r)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class LineCurve3 extends Curve{constructor(e=new Vector3,r=new Vector3){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=r}getPoint(e,r=new Vector3){const n=r;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,r){return this.getPoint(e,r)}getTangent(e,r=new Vector3){return r.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,r){return this.getTangent(e,r)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class QuadraticBezierCurve extends Curve{constructor(e=new Vector2,r=new Vector2,n=new Vector2){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=r,this.v2=n}getPoint(e,r=new Vector2){const n=r,o=this.v0,s=this.v1,c=this.v2;return n.set(QuadraticBezier(e,o.x,s.x,c.x),QuadraticBezier(e,o.y,s.y,c.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class QuadraticBezierCurve3 extends Curve{constructor(e=new Vector3,r=new Vector3,n=new Vector3){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=r,this.v2=n}getPoint(e,r=new Vector3){const n=r,o=this.v0,s=this.v1,c=this.v2;return n.set(QuadraticBezier(e,o.x,s.x,c.x),QuadraticBezier(e,o.y,s.y,c.y),QuadraticBezier(e,o.z,s.z,c.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class SplineCurve extends Curve{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,r=new Vector2){const n=r,o=this.points,s=(o.length-1)*e,c=Math.floor(s),d=s-c,u=o[c===0?c:c-1],m=o[c],_=o[c>o.length-2?o.length-1:c+1],g=o[c>o.length-3?o.length-1:c+2];return n.set(CatmullRom(d,u.x,m.x,_.x,g.x),CatmullRom(d,u.y,m.y,_.y,g.y)),n}copy(e){super.copy(e),this.points=[];for(let r=0,n=e.points.length;r<n;r++){const o=e.points[r];this.points.push(o.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let r=0,n=this.points.length;r<n;r++){const o=this.points[r];e.points.push(o.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let r=0,n=e.points.length;r<n;r++){const o=e.points[r];this.points.push(new Vector2().fromArray(o))}return this}}var Curves=Object.freeze({__proto__:null,ArcCurve,CatmullRomCurve3,CubicBezierCurve,CubicBezierCurve3,EllipseCurve,LineCurve,LineCurve3,QuadraticBezierCurve,QuadraticBezierCurve3,SplineCurve});class CurvePath extends Curve{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),r=this.curves[this.curves.length-1].getPoint(1);e.equals(r)||this.curves.push(new LineCurve(r,e))}getPoint(e,r){const n=e*this.getLength(),o=this.getCurveLengths();let s=0;for(;s<o.length;){if(o[s]>=n){const c=o[s]-n,d=this.curves[s],u=d.getLength(),m=u===0?0:1-c/u;return d.getPointAt(m,r)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let r=0;for(let n=0,o=this.curves.length;n<o;n++)r+=this.curves[n].getLength(),e.push(r);return this.cacheLengths=e,e}getSpacedPoints(e=40){const r=[];for(let n=0;n<=e;n++)r.push(this.getPoint(n/e));return this.autoClose&&r.push(r[0]),r}getPoints(e=12){const r=[];let n;for(let o=0,s=this.curves;o<s.length;o++){const c=s[o],d=c.isEllipseCurve?e*2:c.isLineCurve||c.isLineCurve3?1:c.isSplineCurve?e*c.points.length:e,u=c.getPoints(d);for(let m=0;m<u.length;m++){const _=u[m];n&&n.equals(_)||(r.push(_),n=_)}}return this.autoClose&&r.length>1&&!r[r.length-1].equals(r[0])&&r.push(r[0]),r}copy(e){super.copy(e),this.curves=[];for(let r=0,n=e.curves.length;r<n;r++){const o=e.curves[r];this.curves.push(o.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let r=0,n=this.curves.length;r<n;r++){const o=this.curves[r];e.curves.push(o.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let r=0,n=e.curves.length;r<n;r++){const o=e.curves[r];this.curves.push(new Curves[o.type]().fromJSON(o))}return this}}class Path extends CurvePath{constructor(e){super(),this.type="Path",this.currentPoint=new Vector2,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let r=1,n=e.length;r<n;r++)this.lineTo(e[r].x,e[r].y);return this}moveTo(e,r){return this.currentPoint.set(e,r),this}lineTo(e,r){const n=new LineCurve(this.currentPoint.clone(),new Vector2(e,r));return this.curves.push(n),this.currentPoint.set(e,r),this}quadraticCurveTo(e,r,n,o){const s=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2(e,r),new Vector2(n,o));return this.curves.push(s),this.currentPoint.set(n,o),this}bezierCurveTo(e,r,n,o,s,c){const d=new CubicBezierCurve(this.currentPoint.clone(),new Vector2(e,r),new Vector2(n,o),new Vector2(s,c));return this.curves.push(d),this.currentPoint.set(s,c),this}splineThru(e){const r=[this.currentPoint.clone()].concat(e),n=new SplineCurve(r);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,r,n,o,s,c){const d=this.currentPoint.x,u=this.currentPoint.y;return this.absarc(e+d,r+u,n,o,s,c),this}absarc(e,r,n,o,s,c){return this.absellipse(e,r,n,n,o,s,c),this}ellipse(e,r,n,o,s,c,d,u){const m=this.currentPoint.x,_=this.currentPoint.y;return this.absellipse(e+m,r+_,n,o,s,c,d,u),this}absellipse(e,r,n,o,s,c,d,u){const m=new EllipseCurve(e,r,n,o,s,c,d,u);if(this.curves.length>0){const g=m.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(m);const _=m.getPoint(1);return this.currentPoint.copy(_),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Shape extends Path{constructor(e){super(e),this.uuid=generateUUID(),this.type="Shape",this.holes=[]}getPointsHoles(e){const r=[];for(let n=0,o=this.holes.length;n<o;n++)r[n]=this.holes[n].getPoints(e);return r}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let r=0,n=e.holes.length;r<n;r++){const o=e.holes[r];this.holes.push(o.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let r=0,n=this.holes.length;r<n;r++){const o=this.holes[r];e.holes.push(o.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let r=0,n=e.holes.length;r<n;r++){const o=e.holes[r];this.holes.push(new Path().fromJSON(o))}return this}}const Earcut={triangulate:function(t,e,r=2){const n=e&&e.length,o=n?e[0]*r:t.length;let s=linkedList(t,0,o,r,!0);const c=[];if(!s||s.next===s.prev)return c;let d,u,m,_,g,f,y;if(n&&(s=eliminateHoles(t,e,s,r)),t.length>80*r){d=m=t[0],u=_=t[1];for(let M=r;M<o;M+=r)g=t[M],f=t[M+1],g<d&&(d=g),f<u&&(u=f),g>m&&(m=g),f>_&&(_=f);y=Math.max(m-d,_-u),y=y!==0?32767/y:0}return earcutLinked(s,c,r,d,u,y,0),c}};function linkedList(t,e,r,n,o){let s,c;if(o===signedArea(t,e,r,n)>0)for(s=e;s<r;s+=n)c=insertNode(s,t[s],t[s+1],c);else for(s=r-n;s>=e;s-=n)c=insertNode(s,t[s],t[s+1],c);return c&&equals(c,c.next)&&(removeNode(c),c=c.next),c}function filterPoints(t,e){if(!t)return t;e||(e=t);let r=t,n;do if(n=!1,!r.steiner&&(equals(r,r.next)||area(r.prev,r,r.next)===0)){if(removeNode(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function earcutLinked(t,e,r,n,o,s,c){if(!t)return;!c&&s&&indexCurve(t,n,o,s);let d=t,u,m;for(;t.prev!==t.next;){if(u=t.prev,m=t.next,s?isEarHashed(t,n,o,s):isEar(t)){e.push(u.i/r|0),e.push(t.i/r|0),e.push(m.i/r|0),removeNode(t),t=m.next,d=m.next;continue}if(t=m,t===d){c?c===1?(t=cureLocalIntersections(filterPoints(t),e,r),earcutLinked(t,e,r,n,o,s,2)):c===2&&splitEarcut(t,e,r,n,o,s):earcutLinked(filterPoints(t),e,r,n,o,s,1);break}}}function isEar(t){const e=t.prev,r=t,n=t.next;if(area(e,r,n)>=0)return!1;const o=e.x,s=r.x,c=n.x,d=e.y,u=r.y,m=n.y,_=o<s?o<c?o:c:s<c?s:c,g=d<u?d<m?d:m:u<m?u:m,f=o>s?o>c?o:c:s>c?s:c,y=d>u?d>m?d:m:u>m?u:m;let M=n.next;for(;M!==e;){if(M.x>=_&&M.x<=f&&M.y>=g&&M.y<=y&&pointInTriangle(o,d,s,u,c,m,M.x,M.y)&&area(M.prev,M,M.next)>=0)return!1;M=M.next}return!0}function isEarHashed(t,e,r,n){const o=t.prev,s=t,c=t.next;if(area(o,s,c)>=0)return!1;const d=o.x,u=s.x,m=c.x,_=o.y,g=s.y,f=c.y,y=d<u?d<m?d:m:u<m?u:m,M=_<g?_<f?_:f:g<f?g:f,T=d>u?d>m?d:m:u>m?u:m,A=_>g?_>f?_:f:g>f?g:f,E=zOrder(y,M,e,r,n),C=zOrder(T,A,e,r,n);let k=t.prevZ,O=t.nextZ;for(;k&&k.z>=E&&O&&O.z<=C;){if(k.x>=y&&k.x<=T&&k.y>=M&&k.y<=A&&k!==o&&k!==c&&pointInTriangle(d,_,u,g,m,f,k.x,k.y)&&area(k.prev,k,k.next)>=0||(k=k.prevZ,O.x>=y&&O.x<=T&&O.y>=M&&O.y<=A&&O!==o&&O!==c&&pointInTriangle(d,_,u,g,m,f,O.x,O.y)&&area(O.prev,O,O.next)>=0))return!1;O=O.nextZ}for(;k&&k.z>=E;){if(k.x>=y&&k.x<=T&&k.y>=M&&k.y<=A&&k!==o&&k!==c&&pointInTriangle(d,_,u,g,m,f,k.x,k.y)&&area(k.prev,k,k.next)>=0)return!1;k=k.prevZ}for(;O&&O.z<=C;){if(O.x>=y&&O.x<=T&&O.y>=M&&O.y<=A&&O!==o&&O!==c&&pointInTriangle(d,_,u,g,m,f,O.x,O.y)&&area(O.prev,O,O.next)>=0)return!1;O=O.nextZ}return!0}function cureLocalIntersections(t,e,r){let n=t;do{const o=n.prev,s=n.next.next;!equals(o,s)&&intersects(o,n,n.next,s)&&locallyInside(o,s)&&locallyInside(s,o)&&(e.push(o.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),removeNode(n),removeNode(n.next),n=t=s),n=n.next}while(n!==t);return filterPoints(n)}function splitEarcut(t,e,r,n,o,s){let c=t;do{let d=c.next.next;for(;d!==c.prev;){if(c.i!==d.i&&isValidDiagonal(c,d)){let u=splitPolygon(c,d);c=filterPoints(c,c.next),u=filterPoints(u,u.next),earcutLinked(c,e,r,n,o,s,0),earcutLinked(u,e,r,n,o,s,0);return}d=d.next}c=c.next}while(c!==t)}function eliminateHoles(t,e,r,n){const o=[];let s,c,d,u,m;for(s=0,c=e.length;s<c;s++)d=e[s]*n,u=s<c-1?e[s+1]*n:t.length,m=linkedList(t,d,u,n,!1),m===m.next&&(m.steiner=!0),o.push(getLeftmost(m));for(o.sort(compareX),s=0;s<o.length;s++)r=eliminateHole(o[s],r);return r}function compareX(t,e){return t.x-e.x}function eliminateHole(t,e){const r=findHoleBridge(t,e);if(!r)return e;const n=splitPolygon(r,t);return filterPoints(n,n.next),filterPoints(r,r.next)}function findHoleBridge(t,e){let r=e,n=-1/0,o;const s=t.x,c=t.y;do{if(c<=r.y&&c>=r.next.y&&r.next.y!==r.y){const f=r.x+(c-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(f<=s&&f>n&&(n=f,o=r.x<r.next.x?r:r.next,f===s))return o}r=r.next}while(r!==e);if(!o)return null;const d=o,u=o.x,m=o.y;let _=1/0,g;r=o;do s>=r.x&&r.x>=u&&s!==r.x&&pointInTriangle(c<m?s:n,c,u,m,c<m?n:s,c,r.x,r.y)&&(g=Math.abs(c-r.y)/(s-r.x),locallyInside(r,t)&&(g<_||g===_&&(r.x>o.x||r.x===o.x&&sectorContainsSector(o,r)))&&(o=r,_=g)),r=r.next;while(r!==d);return o}function sectorContainsSector(t,e){return area(t.prev,t,e.prev)<0&&area(e.next,t,t.next)<0}function indexCurve(t,e,r,n){let o=t;do o.z===0&&(o.z=zOrder(o.x,o.y,e,r,n)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next;while(o!==t);o.prevZ.nextZ=null,o.prevZ=null,sortLinked(o)}function sortLinked(t){let e,r,n,o,s,c,d,u,m=1;do{for(r=t,t=null,s=null,c=0;r;){for(c++,n=r,d=0,e=0;e<m&&(d++,n=n.nextZ,!!n);e++);for(u=m;d>0||u>0&&n;)d!==0&&(u===0||!n||r.z<=n.z)?(o=r,r=r.nextZ,d--):(o=n,n=n.nextZ,u--),s?s.nextZ=o:t=o,o.prevZ=s,s=o;r=n}s.nextZ=null,m*=2}while(c>1);return t}function zOrder(t,e,r,n,o){return t=(t-r)*o|0,e=(e-n)*o|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function getLeftmost(t){let e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function pointInTriangle(t,e,r,n,o,s,c,d){return(o-c)*(e-d)>=(t-c)*(s-d)&&(t-c)*(n-d)>=(r-c)*(e-d)&&(r-c)*(s-d)>=(o-c)*(n-d)}function isValidDiagonal(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!intersectsPolygon(t,e)&&(locallyInside(t,e)&&locallyInside(e,t)&&middleInside(t,e)&&(area(t.prev,t,e.prev)||area(t,e.prev,e))||equals(t,e)&&area(t.prev,t,t.next)>0&&area(e.prev,e,e.next)>0)}function area(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function equals(t,e){return t.x===e.x&&t.y===e.y}function intersects(t,e,r,n){const o=sign(area(t,e,r)),s=sign(area(t,e,n)),c=sign(area(r,n,t)),d=sign(area(r,n,e));return!!(o!==s&&c!==d||o===0&&onSegment(t,r,e)||s===0&&onSegment(t,n,e)||c===0&&onSegment(r,t,n)||d===0&&onSegment(r,e,n))}function onSegment(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function sign(t){return t>0?1:t<0?-1:0}function intersectsPolygon(t,e){let r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&intersects(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function locallyInside(t,e){return area(t.prev,t,t.next)<0?area(t,e,t.next)>=0&&area(t,t.prev,e)>=0:area(t,e,t.prev)<0||area(t,t.next,e)<0}function middleInside(t,e){let r=t,n=!1;const o=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&o<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function splitPolygon(t,e){const r=new Node(t.i,t.x,t.y),n=new Node(e.i,e.x,e.y),o=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=o,o.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function insertNode(t,e,r,n){const o=new Node(t,e,r);return n?(o.next=n.next,o.prev=n,n.next.prev=o,n.next=o):(o.prev=o,o.next=o),o}function removeNode(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Node(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(t,e,r,n){let o=0;for(let s=e,c=r-n;s<r;s+=n)o+=(t[c]-t[s])*(t[s+1]+t[c+1]),c=s;return o}class ShapeUtils{static area(e){const r=e.length;let n=0;for(let o=r-1,s=0;s<r;o=s++)n+=e[o].x*e[s].y-e[s].x*e[o].y;return n*.5}static isClockWise(e){return ShapeUtils.area(e)<0}static triangulateShape(e,r){const n=[],o=[],s=[];removeDupEndPts(e),addContour(n,e);let c=e.length;r.forEach(removeDupEndPts);for(let u=0;u<r.length;u++)o.push(c),c+=r[u].length,addContour(n,r[u]);const d=Earcut.triangulate(n,o);for(let u=0;u<d.length;u+=3)s.push(d.slice(u,u+3));return s}}function removeDupEndPts(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function addContour(t,e){for(let r=0;r<e.length;r++)t.push(e[r].x),t.push(e[r].y)}class SphereGeometry extends BufferGeometry{constructor(e=1,r=32,n=16,o=0,s=Math.PI*2,c=0,d=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:r,heightSegments:n,phiStart:o,phiLength:s,thetaStart:c,thetaLength:d},r=Math.max(3,Math.floor(r)),n=Math.max(2,Math.floor(n));const u=Math.min(c+d,Math.PI);let m=0;const _=[],g=new Vector3,f=new Vector3,y=[],M=[],T=[],A=[];for(let E=0;E<=n;E++){const C=[],k=E/n;let O=0;E===0&&c===0?O=.5/r:E===n&&u===Math.PI&&(O=-.5/r);for(let I=0;I<=r;I++){const B=I/r;g.x=-e*Math.cos(o+B*s)*Math.sin(c+k*d),g.y=e*Math.cos(c+k*d),g.z=e*Math.sin(o+B*s)*Math.sin(c+k*d),M.push(g.x,g.y,g.z),f.copy(g).normalize(),T.push(f.x,f.y,f.z),A.push(B+O,1-k),C.push(m++)}_.push(C)}for(let E=0;E<n;E++)for(let C=0;C<r;C++){const k=_[E][C+1],O=_[E][C],I=_[E+1][C],B=_[E+1][C+1];(E!==0||c>0)&&y.push(k,O,B),(E!==n-1||u<Math.PI)&&y.push(O,I,B)}this.setIndex(y),this.setAttribute("position",new Float32BufferAttribute(M,3)),this.setAttribute("normal",new Float32BufferAttribute(T,3)),this.setAttribute("uv",new Float32BufferAttribute(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new SphereGeometry(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class MeshStandardMaterial extends Material{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Color(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class MeshPhysicalMaterial extends MeshStandardMaterial{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vector2(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return clamp$2(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(r){this.ior=(1+.4*r)/(1-.4*r)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Color(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Color(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Color(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class MeshPhongMaterial extends Material{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Color(16777215),this.specular=new Color(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class MeshNormalMaterial extends Material{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class MeshLambertMaterial extends Material{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}function arraySlice(t,e,r){return isTypedArray$1(t)?new t.constructor(t.subarray(e,r!==void 0?r:t.length)):t.slice(e,r)}function convertArray(t,e,r){return!t||!r&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function isTypedArray$1(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function getKeyframeOrder(t){function e(o,s){return t[o]-t[s]}const r=t.length,n=new Array(r);for(let o=0;o!==r;++o)n[o]=o;return n.sort(e),n}function sortedArray(t,e,r){const n=t.length,o=new t.constructor(n);for(let s=0,c=0;c!==n;++s){const d=r[s]*e;for(let u=0;u!==e;++u)o[c++]=t[d+u]}return o}function flattenJSON(t,e,r,n){let o=1,s=t[0];for(;s!==void 0&&s[n]===void 0;)s=t[o++];if(s===void 0)return;let c=s[n];if(c!==void 0)if(Array.isArray(c))do c=s[n],c!==void 0&&(e.push(s.time),r.push.apply(r,c)),s=t[o++];while(s!==void 0);else if(c.toArray!==void 0)do c=s[n],c!==void 0&&(e.push(s.time),c.toArray(r,r.length)),s=t[o++];while(s!==void 0);else do c=s[n],c!==void 0&&(e.push(s.time),r.push(c)),s=t[o++];while(s!==void 0)}class Interpolant{constructor(e,r,n,o){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=o!==void 0?o:new r.constructor(n),this.sampleValues=r,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const r=this.parameterPositions;let n=this._cachedIndex,o=r[n],s=r[n-1];r:{e:{let c;t:{i:if(!(e<o)){for(let d=n+2;;){if(o===void 0){if(e<s)break i;return n=r.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===d)break;if(s=o,o=r[++n],e<o)break e}c=r.length;break t}if(!(e>=s)){const d=r[1];e<d&&(n=2,s=d);for(let u=n-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===u)break;if(o=s,s=r[--n-1],e>=s)break e}c=n,n=0;break t}break r}for(;n<c;){const d=n+c>>>1;e<r[d]?c=d:n=d+1}if(o=r[n],s=r[n-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(o===void 0)return n=r.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,s,o)}return this.interpolate_(n,s,e,o)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const r=this.resultBuffer,n=this.sampleValues,o=this.valueSize,s=e*o;for(let c=0;c!==o;++c)r[c]=n[s+c];return r}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class CubicInterpolant extends Interpolant{constructor(e,r,n,o){super(e,r,n,o),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding}}intervalChanged_(e,r,n){const o=this.parameterPositions;let s=e-2,c=e+1,d=o[s],u=o[c];if(d===void 0)switch(this.getSettings_().endingStart){case ZeroSlopeEnding:s=e,d=2*r-n;break;case WrapAroundEnding:s=o.length-2,d=r+o[s]-o[s+1];break;default:s=e,d=n}if(u===void 0)switch(this.getSettings_().endingEnd){case ZeroSlopeEnding:c=e,u=2*n-r;break;case WrapAroundEnding:c=1,u=n+o[1]-o[0];break;default:c=e-1,u=r}const m=(n-r)*.5,_=this.valueSize;this._weightPrev=m/(r-d),this._weightNext=m/(u-n),this._offsetPrev=s*_,this._offsetNext=c*_}interpolate_(e,r,n,o){const s=this.resultBuffer,c=this.sampleValues,d=this.valueSize,u=e*d,m=u-d,_=this._offsetPrev,g=this._offsetNext,f=this._weightPrev,y=this._weightNext,M=(n-r)/(o-r),T=M*M,A=T*M,E=-f*A+2*f*T-f*M,C=(1+f)*A+(-1.5-2*f)*T+(-.5+f)*M+1,k=(-1-y)*A+(1.5+y)*T+.5*M,O=y*A-y*T;for(let I=0;I!==d;++I)s[I]=E*c[_+I]+C*c[m+I]+k*c[u+I]+O*c[g+I];return s}}class LinearInterpolant extends Interpolant{constructor(e,r,n,o){super(e,r,n,o)}interpolate_(e,r,n,o){const s=this.resultBuffer,c=this.sampleValues,d=this.valueSize,u=e*d,m=u-d,_=(n-r)/(o-r),g=1-_;for(let f=0;f!==d;++f)s[f]=c[m+f]*g+c[u+f]*_;return s}}class DiscreteInterpolant extends Interpolant{constructor(e,r,n,o){super(e,r,n,o)}interpolate_(e){return this.copySampleValue_(e-1)}}class KeyframeTrack{constructor(e,r,n,o){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(r===void 0||r.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=convertArray(r,this.TimeBufferType),this.values=convertArray(n,this.ValueBufferType),this.setInterpolation(o||this.DefaultInterpolation)}static toJSON(e){const r=e.constructor;let n;if(r.toJSON!==this.toJSON)n=r.toJSON(e);else{n={name:e.name,times:convertArray(e.times,Array),values:convertArray(e.values,Array)};const o=e.getInterpolation();o!==e.DefaultInterpolation&&(n.interpolation=o)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new DiscreteInterpolant(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new LinearInterpolant(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new CubicInterpolant(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let r;switch(e){case InterpolateDiscrete:r=this.InterpolantFactoryMethodDiscrete;break;case InterpolateLinear:r=this.InterpolantFactoryMethodLinear;break;case InterpolateSmooth:r=this.InterpolantFactoryMethodSmooth;break}if(r===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=r,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return InterpolateSmooth}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const r=this.times;for(let n=0,o=r.length;n!==o;++n)r[n]+=e}return this}scale(e){if(e!==1){const r=this.times;for(let n=0,o=r.length;n!==o;++n)r[n]*=e}return this}trim(e,r){const n=this.times,o=n.length;let s=0,c=o-1;for(;s!==o&&n[s]<e;)++s;for(;c!==-1&&n[c]>r;)--c;if(++c,s!==0||c!==o){s>=c&&(c=Math.max(c,1),s=c-1);const d=this.getValueSize();this.times=arraySlice(n,s,c),this.values=arraySlice(this.values,s*d,c*d)}return this}validate(){let e=!0;const r=this.getValueSize();r-Math.floor(r)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,o=this.values,s=n.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let c=null;for(let d=0;d!==s;d++){const u=n[d];if(typeof u=="number"&&isNaN(u)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,d,u),e=!1;break}if(c!==null&&c>u){console.error("THREE.KeyframeTrack: Out of order keys.",this,d,u,c),e=!1;break}c=u}if(o!==void 0&&isTypedArray$1(o))for(let d=0,u=o.length;d!==u;++d){const m=o[d];if(isNaN(m)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,d,m),e=!1;break}}return e}optimize(){const e=arraySlice(this.times),r=arraySlice(this.values),n=this.getValueSize(),o=this.getInterpolation()===InterpolateSmooth,s=e.length-1;let c=1;for(let d=1;d<s;++d){let u=!1;const m=e[d],_=e[d+1];if(m!==_&&(d!==1||m!==e[0]))if(o)u=!0;else{const g=d*n,f=g-n,y=g+n;for(let M=0;M!==n;++M){const T=r[g+M];if(T!==r[f+M]||T!==r[y+M]){u=!0;break}}}if(u){if(d!==c){e[c]=e[d];const g=d*n,f=c*n;for(let y=0;y!==n;++y)r[f+y]=r[g+y]}++c}}if(s>0){e[c]=e[s];for(let d=s*n,u=c*n,m=0;m!==n;++m)r[u+m]=r[d+m];++c}return c!==e.length?(this.times=arraySlice(e,0,c),this.values=arraySlice(r,0,c*n)):(this.times=e,this.values=r),this}clone(){const e=arraySlice(this.times,0),r=arraySlice(this.values,0),n=this.constructor,o=new n(this.name,e,r);return o.createInterpolant=this.createInterpolant,o}}KeyframeTrack.prototype.TimeBufferType=Float32Array,KeyframeTrack.prototype.ValueBufferType=Float32Array,KeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;class BooleanKeyframeTrack extends KeyframeTrack{}BooleanKeyframeTrack.prototype.ValueTypeName="bool",BooleanKeyframeTrack.prototype.ValueBufferType=Array,BooleanKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete,BooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0,BooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class ColorKeyframeTrack extends KeyframeTrack{}ColorKeyframeTrack.prototype.ValueTypeName="color";class NumberKeyframeTrack extends KeyframeTrack{}NumberKeyframeTrack.prototype.ValueTypeName="number";class QuaternionLinearInterpolant extends Interpolant{constructor(e,r,n,o){super(e,r,n,o)}interpolate_(e,r,n,o){const s=this.resultBuffer,c=this.sampleValues,d=this.valueSize,u=(n-r)/(o-r);let m=e*d;for(let _=m+d;m!==_;m+=4)Quaternion.slerpFlat(s,0,c,m-d,c,m,u);return s}}class QuaternionKeyframeTrack extends KeyframeTrack{InterpolantFactoryMethodLinear(e){return new QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),e)}}QuaternionKeyframeTrack.prototype.ValueTypeName="quaternion",QuaternionKeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear,QuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class StringKeyframeTrack extends KeyframeTrack{}StringKeyframeTrack.prototype.ValueTypeName="string",StringKeyframeTrack.prototype.ValueBufferType=Array,StringKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete,StringKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0,StringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class VectorKeyframeTrack extends KeyframeTrack{}VectorKeyframeTrack.prototype.ValueTypeName="vector";class AnimationClip{constructor(e,r=-1,n,o=NormalAnimationBlendMode){this.name=e,this.tracks=n,this.duration=r,this.blendMode=o,this.uuid=generateUUID(),this.duration<0&&this.resetDuration()}static parse(e){const r=[],n=e.tracks,o=1/(e.fps||1);for(let c=0,d=n.length;c!==d;++c)r.push(parseKeyframeTrack(n[c]).scale(o));const s=new this(e.name,e.duration,r,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const r=[],n=e.tracks,o={name:e.name,duration:e.duration,tracks:r,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,c=n.length;s!==c;++s)r.push(KeyframeTrack.toJSON(n[s]));return o}static CreateFromMorphTargetSequence(e,r,n,o){const s=r.length,c=[];for(let d=0;d<s;d++){let u=[],m=[];u.push((d+s-1)%s,d,(d+1)%s),m.push(0,1,0);const _=getKeyframeOrder(u);u=sortedArray(u,1,_),m=sortedArray(m,1,_),!o&&u[0]===0&&(u.push(s),m.push(m[0])),c.push(new NumberKeyframeTrack(".morphTargetInfluences["+r[d].name+"]",u,m).scale(1/n))}return new this(e,-1,c)}static findByName(e,r){let n=e;if(!Array.isArray(e)){const o=e;n=o.geometry&&o.geometry.animations||o.animations}for(let o=0;o<n.length;o++)if(n[o].name===r)return n[o];return null}static CreateClipsFromMorphTargetSequences(e,r,n){const o={},s=/^([\w-]*?)([\d]+)$/;for(let d=0,u=e.length;d<u;d++){const m=e[d],_=m.name.match(s);if(_&&_.length>1){const g=_[1];let f=o[g];f||(o[g]=f=[]),f.push(m)}}const c=[];for(const d in o)c.push(this.CreateFromMorphTargetSequence(d,o[d],r,n));return c}static parseAnimation(e,r){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(_,g,f,y,M){if(f.length!==0){const T=[],A=[];flattenJSON(f,T,A,y),T.length!==0&&M.push(new _(g,T,A))}},o=[],s=e.name||"default",c=e.fps||30,d=e.blendMode;let u=e.length||-1;const m=e.hierarchy||[];for(let _=0;_<m.length;_++){const g=m[_].keys;if(!(!g||g.length===0))if(g[0].morphTargets){const f={};let y;for(y=0;y<g.length;y++)if(g[y].morphTargets)for(let M=0;M<g[y].morphTargets.length;M++)f[g[y].morphTargets[M]]=-1;for(const M in f){const T=[],A=[];for(let E=0;E!==g[y].morphTargets.length;++E){const C=g[y];T.push(C.time),A.push(C.morphTarget===M?1:0)}o.push(new NumberKeyframeTrack(".morphTargetInfluence["+M+"]",T,A))}u=f.length*c}else{const f=".bones["+r[_].name+"]";n(VectorKeyframeTrack,f+".position",g,"pos",o),n(QuaternionKeyframeTrack,f+".quaternion",g,"rot",o),n(VectorKeyframeTrack,f+".scale",g,"scl",o)}}return o.length===0?null:new this(s,u,o,d)}resetDuration(){const e=this.tracks;let r=0;for(let n=0,o=e.length;n!==o;++n){const s=this.tracks[n];r=Math.max(r,s.times[s.times.length-1])}return this.duration=r,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let r=0;r<this.tracks.length;r++)e=e&&this.tracks[r].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let r=0;r<this.tracks.length;r++)e.push(this.tracks[r].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function getTrackTypeForValueTypeName(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return VectorKeyframeTrack;case"color":return ColorKeyframeTrack;case"quaternion":return QuaternionKeyframeTrack;case"bool":case"boolean":return BooleanKeyframeTrack;case"string":return StringKeyframeTrack}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function parseKeyframeTrack(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=getTrackTypeForValueTypeName(t.type);if(t.times===void 0){const r=[],n=[];flattenJSON(t.keys,r,n,"value"),t.times=r,t.values=n}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Cache={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class LoadingManager{constructor(e,r,n){const o=this;let s=!1,c=0,d=0,u;const m=[];this.onStart=void 0,this.onLoad=e,this.onProgress=r,this.onError=n,this.itemStart=function(_){d++,s===!1&&o.onStart!==void 0&&o.onStart(_,c,d),s=!0},this.itemEnd=function(_){c++,o.onProgress!==void 0&&o.onProgress(_,c,d),c===d&&(s=!1,o.onLoad!==void 0&&o.onLoad())},this.itemError=function(_){o.onError!==void 0&&o.onError(_)},this.resolveURL=function(_){return u?u(_):_},this.setURLModifier=function(_){return u=_,this},this.addHandler=function(_,g){return m.push(_,g),this},this.removeHandler=function(_){const g=m.indexOf(_);return g!==-1&&m.splice(g,2),this},this.getHandler=function(_){for(let g=0,f=m.length;g<f;g+=2){const y=m[g],M=m[g+1];if(y.global&&(y.lastIndex=0),y.test(_))return M}return null}}}const DefaultLoadingManager=new LoadingManager;let Loader$2=class{constructor(t){this.manager=t!==void 0?t:DefaultLoadingManager,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const r=this;return new Promise(function(n,o){r.load(t,n,e,o)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}};const loading={};class HttpError extends Error{constructor(e,r){super(e),this.response=r}}class FileLoader extends Loader$2{constructor(e){super(e)}load(e,r,n,o){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Cache.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{r&&r(s),this.manager.itemEnd(e)},0),s;if(loading[e]!==void 0){loading[e].push({onLoad:r,onProgress:n,onError:o});return}loading[e]=[],loading[e].push({onLoad:r,onProgress:n,onError:o});const c=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),d=this.mimeType,u=this.responseType;fetch(c).then(m=>{if(m.status===200||m.status===0){if(m.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||m.body===void 0||m.body.getReader===void 0)return m;const _=loading[e],g=m.body.getReader(),f=m.headers.get("Content-Length")||m.headers.get("X-File-Size"),y=f?parseInt(f):0,M=y!==0;let T=0;const A=new ReadableStream({start(E){C();function C(){g.read().then(({done:k,value:O})=>{if(k)E.close();else{T+=O.byteLength;const I=new ProgressEvent("progress",{lengthComputable:M,loaded:T,total:y});for(let B=0,j=_.length;B<j;B++){const U=_[B];U.onProgress&&U.onProgress(I)}E.enqueue(O),C()}})}}});return new Response(A)}else throw new HttpError(`fetch for "${m.url}" responded with ${m.status}: ${m.statusText}`,m)}).then(m=>{switch(u){case"arraybuffer":return m.arrayBuffer();case"blob":return m.blob();case"document":return m.text().then(_=>new DOMParser().parseFromString(_,d));case"json":return m.json();default:if(d===void 0)return m.text();{const _=/charset="?([^;"\s]*)"?/i.exec(d),g=_&&_[1]?_[1].toLowerCase():void 0,f=new TextDecoder(g);return m.arrayBuffer().then(y=>f.decode(y))}}}).then(m=>{Cache.add(e,m);const _=loading[e];delete loading[e];for(let g=0,f=_.length;g<f;g++){const y=_[g];y.onLoad&&y.onLoad(m)}}).catch(m=>{const _=loading[e];if(_===void 0)throw this.manager.itemError(e),m;delete loading[e];for(let g=0,f=_.length;g<f;g++){const y=_[g];y.onError&&y.onError(m)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class ImageLoader extends Loader$2{constructor(e){super(e)}load(e,r,n,o){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,c=Cache.get(e);if(c!==void 0)return s.manager.itemStart(e),setTimeout(function(){r&&r(c),s.manager.itemEnd(e)},0),c;const d=createElementNS("img");function u(){_(),Cache.add(e,this),r&&r(this),s.manager.itemEnd(e)}function m(g){_(),o&&o(g),s.manager.itemError(e),s.manager.itemEnd(e)}function _(){d.removeEventListener("load",u,!1),d.removeEventListener("error",m,!1)}return d.addEventListener("load",u,!1),d.addEventListener("error",m,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(d.crossOrigin=this.crossOrigin),s.manager.itemStart(e),d.src=e,d}}class TextureLoader extends Loader$2{constructor(e){super(e)}load(e,r,n,o){const s=new Texture,c=new ImageLoader(this.manager);return c.setCrossOrigin(this.crossOrigin),c.setPath(this.path),c.load(e,function(d){s.image=d,s.needsUpdate=!0,r!==void 0&&r(s)},n,o),s}}class Light extends Object3D{constructor(e,r=1){super(),this.isLight=!0,this.type="Light",this.color=new Color(e),this.intensity=r}dispose(){}copy(e,r){return super.copy(e,r),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const r=super.toJSON(e);return r.object.color=this.color.getHex(),r.object.intensity=this.intensity,this.groundColor!==void 0&&(r.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(r.object.distance=this.distance),this.angle!==void 0&&(r.object.angle=this.angle),this.decay!==void 0&&(r.object.decay=this.decay),this.penumbra!==void 0&&(r.object.penumbra=this.penumbra),this.shadow!==void 0&&(r.object.shadow=this.shadow.toJSON()),r}}const _projScreenMatrix$1=new Matrix4,_lightPositionWorld$1=new Vector3,_lookTarget$1=new Vector3;class LightShadow{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vector2(512,512),this.map=null,this.mapPass=null,this.matrix=new Matrix4,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Frustum,this._frameExtents=new Vector2(1,1),this._viewportCount=1,this._viewports=[new Vector4(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const r=this.camera,n=this.matrix;_lightPositionWorld$1.setFromMatrixPosition(e.matrixWorld),r.position.copy(_lightPositionWorld$1),_lookTarget$1.setFromMatrixPosition(e.target.matrixWorld),r.lookAt(_lookTarget$1),r.updateMatrixWorld(),_projScreenMatrix$1.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix$1),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(_projScreenMatrix$1)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class SpotLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const r=this.camera,n=RAD2DEG*2*e.angle*this.focus,o=this.mapSize.width/this.mapSize.height,s=e.distance||r.far;(n!==r.fov||o!==r.aspect||s!==r.far)&&(r.fov=n,r.aspect=o,r.far=s,r.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class SpotLight extends Light{constructor(e,r,n=0,o=Math.PI/3,s=0,c=2){super(e,r),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.distance=n,this.angle=o,this.penumbra=s,this.decay=c,this.map=null,this.shadow=new SpotLightShadow}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,r){return super.copy(e,r),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const _projScreenMatrix=new Matrix4,_lightPositionWorld=new Vector3,_lookTarget=new Vector3;class PointLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Vector2(4,2),this._viewportCount=6,this._viewports=[new Vector4(2,1,1,1),new Vector4(0,1,1,1),new Vector4(3,1,1,1),new Vector4(1,1,1,1),new Vector4(3,0,1,1),new Vector4(1,0,1,1)],this._cubeDirections=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)],this._cubeUps=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)]}updateMatrices(e,r=0){const n=this.camera,o=this.matrix,s=e.distance||n.far;s!==n.far&&(n.far=s,n.updateProjectionMatrix()),_lightPositionWorld.setFromMatrixPosition(e.matrixWorld),n.position.copy(_lightPositionWorld),_lookTarget.copy(n.position),_lookTarget.add(this._cubeDirections[r]),n.up.copy(this._cubeUps[r]),n.lookAt(_lookTarget),n.updateMatrixWorld(),o.makeTranslation(-_lightPositionWorld.x,-_lightPositionWorld.y,-_lightPositionWorld.z),_projScreenMatrix.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix)}}class PointLight extends Light{constructor(e,r,n=0,o=2){super(e,r),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=o,this.shadow=new PointLightShadow}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,r){return super.copy(e,r),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class DirectionalLightShadow extends LightShadow{constructor(){super(new OrthographicCamera(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class DirectionalLight extends Light{constructor(e,r){super(e,r),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.shadow=new DirectionalLightShadow}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class AmbientLight extends Light{constructor(e,r){super(e,r),this.isAmbientLight=!0,this.type="AmbientLight"}}class LoaderUtils{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let r="";for(let n=0,o=e.length;n<o;n++)r+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(r))}catch{return r}}static extractUrlBase(e){const r=e.lastIndexOf("/");return r===-1?"./":e.slice(0,r+1)}static resolveURL(e,r){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(r)&&/^\//.test(e)&&(r=r.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:r+e)}}class ImageBitmapLoader extends Loader$2{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,r,n,o){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,c=Cache.get(e);if(c!==void 0)return s.manager.itemStart(e),setTimeout(function(){r&&r(c),s.manager.itemEnd(e)},0),c;const d={};d.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",d.headers=this.requestHeader,fetch(e,d).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(u){Cache.add(e,u),r&&r(u),s.manager.itemEnd(e)}).catch(function(u){o&&o(u),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}const _RESERVED_CHARS_RE="\\[\\]\\.:\\/",_reservedRe=new RegExp("["+_RESERVED_CHARS_RE+"]","g"),_wordChar="[^"+_RESERVED_CHARS_RE+"]",_wordCharOrDot="[^"+_RESERVED_CHARS_RE.replace("\\.","")+"]",_directoryRe=/((?:WC+[\/:])*)/.source.replace("WC",_wordChar),_nodeRe=/(WCOD+)?/.source.replace("WCOD",_wordCharOrDot),_objectRe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_wordChar),_propertyRe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_wordChar),_trackRe=new RegExp("^"+_directoryRe+_nodeRe+_objectRe+_propertyRe+"$"),_supportedObjectNames=["material","materials","bones","map"];class Composite{constructor(e,r,n){const o=n||PropertyBinding.parseTrackName(r);this._targetGroup=e,this._bindings=e.subscribe_(r,o)}getValue(e,r){this.bind();const n=this._targetGroup.nCachedObjects_,o=this._bindings[n];o!==void 0&&o.getValue(e,r)}setValue(e,r){const n=this._bindings;for(let o=this._targetGroup.nCachedObjects_,s=n.length;o!==s;++o)n[o].setValue(e,r)}bind(){const e=this._bindings;for(let r=this._targetGroup.nCachedObjects_,n=e.length;r!==n;++r)e[r].bind()}unbind(){const e=this._bindings;for(let r=this._targetGroup.nCachedObjects_,n=e.length;r!==n;++r)e[r].unbind()}}class PropertyBinding{constructor(e,r,n){this.path=r,this.parsedPath=n||PropertyBinding.parseTrackName(r),this.node=PropertyBinding.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,r,n){return e&&e.isAnimationObjectGroup?new PropertyBinding.Composite(e,r,n):new PropertyBinding(e,r,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(_reservedRe,"")}static parseTrackName(e){const r=_trackRe.exec(e);if(r===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:r[2],objectName:r[3],objectIndex:r[4],propertyName:r[5],propertyIndex:r[6]},o=n.nodeName&&n.nodeName.lastIndexOf(".");if(o!==void 0&&o!==-1){const s=n.nodeName.substring(o+1);_supportedObjectNames.indexOf(s)!==-1&&(n.nodeName=n.nodeName.substring(0,o),n.objectName=s)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,r){if(r===void 0||r===""||r==="."||r===-1||r===e.name||r===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(r);if(n!==void 0)return n}if(e.children){const n=function(s){for(let c=0;c<s.length;c++){const d=s[c];if(d.name===r||d.uuid===r)return d;const u=n(d.children);if(u)return u}return null},o=n(e.children);if(o)return o}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,r){e[r]=this.targetObject[this.propertyName]}_getValue_array(e,r){const n=this.resolvedProperty;for(let o=0,s=n.length;o!==s;++o)e[r++]=n[o]}_getValue_arrayElement(e,r){e[r]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,r){this.resolvedProperty.toArray(e,r)}_setValue_direct(e,r){this.targetObject[this.propertyName]=e[r]}_setValue_direct_setNeedsUpdate(e,r){this.targetObject[this.propertyName]=e[r],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,r){this.targetObject[this.propertyName]=e[r],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,r){const n=this.resolvedProperty;for(let o=0,s=n.length;o!==s;++o)n[o]=e[r++]}_setValue_array_setNeedsUpdate(e,r){const n=this.resolvedProperty;for(let o=0,s=n.length;o!==s;++o)n[o]=e[r++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,r){const n=this.resolvedProperty;for(let o=0,s=n.length;o!==s;++o)n[o]=e[r++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,r){this.resolvedProperty[this.propertyIndex]=e[r]}_setValue_arrayElement_setNeedsUpdate(e,r){this.resolvedProperty[this.propertyIndex]=e[r],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,r){this.resolvedProperty[this.propertyIndex]=e[r],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,r){this.resolvedProperty.fromArray(e,r)}_setValue_fromArray_setNeedsUpdate(e,r){this.resolvedProperty.fromArray(e,r),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,r){this.resolvedProperty.fromArray(e,r),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,r){this.bind(),this.getValue(e,r)}_setValue_unbound(e,r){this.bind(),this.setValue(e,r)}bind(){let e=this.node;const r=this.parsedPath,n=r.objectName,o=r.propertyName;let s=r.propertyIndex;if(e||(e=PropertyBinding.findNode(this.rootNode,r.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(n){let m=r.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let _=0;_<e.length;_++)if(e[_].name===m){m=_;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(m!==void 0){if(e[m]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[m]}}const c=e[o];if(c===void 0){const m=r.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+m+"."+o+" but it wasn't found.",e);return}let d=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?d=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(d=this.Versioning.MatrixWorldNeedsUpdate);let u=this.BindingType.Direct;if(s!==void 0){if(o==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}u=this.BindingType.ArrayElement,this.resolvedProperty=c,this.propertyIndex=s}else c.fromArray!==void 0&&c.toArray!==void 0?(u=this.BindingType.HasFromToArray,this.resolvedProperty=c):Array.isArray(c)?(u=this.BindingType.EntireArray,this.resolvedProperty=c):this.propertyName=o;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][d]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}PropertyBinding.Composite=Composite,PropertyBinding.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},PropertyBinding.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},PropertyBinding.prototype.GetterByBindingType=[PropertyBinding.prototype._getValue_direct,PropertyBinding.prototype._getValue_array,PropertyBinding.prototype._getValue_arrayElement,PropertyBinding.prototype._getValue_toArray],PropertyBinding.prototype.SetterByBindingTypeAndVersioning=[[PropertyBinding.prototype._setValue_direct,PropertyBinding.prototype._setValue_direct_setNeedsUpdate,PropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_array,PropertyBinding.prototype._setValue_array_setNeedsUpdate,PropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_arrayElement,PropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,PropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_fromArray,PropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,PropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];const _vector$4=new Vector2;class Box2{constructor(e=new Vector2(1/0,1/0),r=new Vector2(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=r}set(e,r){return this.min.copy(e),this.max.copy(r),this}setFromPoints(e){this.makeEmpty();for(let r=0,n=e.length;r<n;r++)this.expandByPoint(e[r]);return this}setFromCenterAndSize(e,r){const n=_vector$4.copy(r).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,r){return r.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,r){return r.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,_vector$4).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}class ShapePath{constructor(){this.type="ShapePath",this.color=new Color,this.subPaths=[],this.currentPath=null}moveTo(e,r){return this.currentPath=new Path,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,r),this}lineTo(e,r){return this.currentPath.lineTo(e,r),this}quadraticCurveTo(e,r,n,o){return this.currentPath.quadraticCurveTo(e,r,n,o),this}bezierCurveTo(e,r,n,o,s,c){return this.currentPath.bezierCurveTo(e,r,n,o,s,c),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function r(E){const C=[];for(let k=0,O=E.length;k<O;k++){const I=E[k],B=new Shape;B.curves=I.curves,C.push(B)}return C}function n(E,C){const k=C.length;let O=!1;for(let I=k-1,B=0;B<k;I=B++){let j=C[I],U=C[B],N=U.x-j.x,W=U.y-j.y;if(Math.abs(W)>Number.EPSILON){if(W<0&&(j=C[B],N=-N,U=C[I],W=-W),E.y<j.y||E.y>U.y)continue;if(E.y===j.y){if(E.x===j.x)return!0}else{const ne=W*(E.x-j.x)-N*(E.y-j.y);if(ne===0)return!0;if(ne<0)continue;O=!O}}else{if(E.y!==j.y)continue;if(U.x<=E.x&&E.x<=j.x||j.x<=E.x&&E.x<=U.x)return!0}}return O}const o=ShapeUtils.isClockWise,s=this.subPaths;if(s.length===0)return[];let c,d,u;const m=[];if(s.length===1)return d=s[0],u=new Shape,u.curves=d.curves,m.push(u),m;let _=!o(s[0].getPoints());_=e?!_:_;const g=[],f=[];let y=[],M=0,T;f[M]=void 0,y[M]=[];for(let E=0,C=s.length;E<C;E++)d=s[E],T=d.getPoints(),c=o(T),c=e?!c:c,c?(!_&&f[M]&&M++,f[M]={s:new Shape,p:T},f[M].s.curves=d.curves,_&&M++,y[M]=[]):y[M].push({h:d,p:T[0]});if(!f[0])return r(s);if(f.length>1){let E=!1,C=0;for(let k=0,O=f.length;k<O;k++)g[k]=[];for(let k=0,O=f.length;k<O;k++){const I=y[k];for(let B=0;B<I.length;B++){const j=I[B];let U=!0;for(let N=0;N<f.length;N++)n(j.p,f[N].p)&&(k!==N&&C++,U?(U=!1,g[N].push(j)):E=!0);U&&g[k].push(j)}}C>0&&E===!1&&(y=g)}let A;for(let E=0,C=f.length;E<C;E++){u=f[E].s,m.push(u),A=y[E];for(let k=0,O=A.length;k<O;k++)u.holes.push(A[k].h)}return m}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=REVISION);function toTrianglesDrawMode(t,e){if(e===TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===TriangleFanDrawMode||e===TriangleStripDrawMode){let r=t.getIndex();if(r===null){const c=[],d=t.getAttribute("position");if(d!==void 0){for(let u=0;u<d.count;u++)c.push(u);t.setIndex(c),r=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const n=r.count-2,o=[];if(e===TriangleFanDrawMode)for(let c=1;c<=n;c++)o.push(r.getX(0)),o.push(r.getX(c)),o.push(r.getX(c+1));else for(let c=0;c<n;c++)c%2===0?(o.push(r.getX(c)),o.push(r.getX(c+1)),o.push(r.getX(c+2))):(o.push(r.getX(c+2)),o.push(r.getX(c+1)),o.push(r.getX(c)));o.length/3!==n&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=t.clone();return s.setIndex(o),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}class GLTFLoader extends Loader$2{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(r){return new GLTFMaterialsClearcoatExtension(r)}),this.register(function(r){return new GLTFTextureBasisUExtension(r)}),this.register(function(r){return new GLTFTextureWebPExtension(r)}),this.register(function(r){return new GLTFTextureAVIFExtension(r)}),this.register(function(r){return new GLTFMaterialsSheenExtension(r)}),this.register(function(r){return new GLTFMaterialsTransmissionExtension(r)}),this.register(function(r){return new GLTFMaterialsVolumeExtension(r)}),this.register(function(r){return new GLTFMaterialsIorExtension(r)}),this.register(function(r){return new GLTFMaterialsEmissiveStrengthExtension(r)}),this.register(function(r){return new GLTFMaterialsSpecularExtension(r)}),this.register(function(r){return new GLTFMaterialsIridescenceExtension(r)}),this.register(function(r){return new GLTFLightsExtension(r)}),this.register(function(r){return new GLTFMeshoptCompression(r)}),this.register(function(r){return new GLTFMeshGpuInstancing(r)})}load(e,r,n,o){const s=this;let c;this.resourcePath!==""?c=this.resourcePath:this.path!==""?c=this.path:c=LoaderUtils.extractUrlBase(e),this.manager.itemStart(e);const d=function(m){o?o(m):console.error(m),s.manager.itemError(e),s.manager.itemEnd(e)},u=new FileLoader(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,function(m){try{s.parse(m,c,function(_){r(_),s.manager.itemEnd(e)},d)}catch(_){d(_)}},n,d)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,r,n,o){let s;const c={},d={},u=new TextDecoder;if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(u.decode(new Uint8Array(e,0,4))===BINARY_EXTENSION_HEADER_MAGIC){try{c[EXTENSIONS.KHR_BINARY_GLTF]=new GLTFBinaryExtension(e)}catch(_){o&&o(_);return}s=JSON.parse(c[EXTENSIONS.KHR_BINARY_GLTF].content)}else s=JSON.parse(u.decode(e));else s=e;if(s.asset===void 0||s.asset.version[0]<2){o&&o(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const m=new GLTFParser(s,{path:r||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});m.fileLoader.setRequestHeader(this.requestHeader);for(let _=0;_<this.pluginCallbacks.length;_++){const g=this.pluginCallbacks[_](m);d[g.name]=g,c[g.name]=!0}if(s.extensionsUsed)for(let _=0;_<s.extensionsUsed.length;++_){const g=s.extensionsUsed[_],f=s.extensionsRequired||[];switch(g){case EXTENSIONS.KHR_MATERIALS_UNLIT:c[g]=new GLTFMaterialsUnlitExtension;break;case EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:c[g]=new GLTFDracoMeshCompressionExtension(s,this.dracoLoader);break;case EXTENSIONS.KHR_TEXTURE_TRANSFORM:c[g]=new GLTFTextureTransformExtension;break;case EXTENSIONS.KHR_MESH_QUANTIZATION:c[g]=new GLTFMeshQuantizationExtension;break;default:f.indexOf(g)>=0&&d[g]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+g+'".')}}m.setExtensions(c),m.setPlugins(d),m.parse(n,o)}parseAsync(e,r){const n=this;return new Promise(function(o,s){n.parse(e,r,o,s)})}}function GLTFRegistry(){let t={};return{get:function(e){return t[e]},add:function(e,r){t[e]=r},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const EXTENSIONS={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class GLTFLightsExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,r=this.parser.json.nodes||[];for(let n=0,o=r.length;n<o;n++){const s=r[n];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const r=this.parser,n="light:"+e;let o=r.cache.get(n);if(o)return o;const s=r.json,c=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let d;const u=new Color(16777215);c.color!==void 0&&u.fromArray(c.color);const m=c.range!==void 0?c.range:0;switch(c.type){case"directional":d=new DirectionalLight(u),d.target.position.set(0,0,-1),d.add(d.target);break;case"point":d=new PointLight(u),d.distance=m;break;case"spot":d=new SpotLight(u),d.distance=m,c.spot=c.spot||{},c.spot.innerConeAngle=c.spot.innerConeAngle!==void 0?c.spot.innerConeAngle:0,c.spot.outerConeAngle=c.spot.outerConeAngle!==void 0?c.spot.outerConeAngle:Math.PI/4,d.angle=c.spot.outerConeAngle,d.penumbra=1-c.spot.innerConeAngle/c.spot.outerConeAngle,d.target.position.set(0,0,-1),d.add(d.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+c.type)}return d.position.set(0,0,0),d.decay=2,assignExtrasToUserData(d,c),c.intensity!==void 0&&(d.intensity=c.intensity),d.name=r.createUniqueName(c.name||"light_"+e),o=Promise.resolve(d),r.cache.add(n,o),o}getDependency(e,r){if(e==="light")return this._loadLight(r)}createNodeAttachment(e){const r=this,n=this.parser,o=n.json.nodes[e],s=(o.extensions&&o.extensions[this.name]||{}).light;return s===void 0?null:this._loadLight(s).then(function(c){return n._getNodeRef(r.cache,s,c)})}}class GLTFMaterialsUnlitExtension{constructor(){this.name=EXTENSIONS.KHR_MATERIALS_UNLIT}getMaterialType(){return MeshBasicMaterial}extendParams(e,r,n){const o=[];e.color=new Color(1,1,1),e.opacity=1;const s=r.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const c=s.baseColorFactor;e.color.fromArray(c),e.opacity=c[3]}s.baseColorTexture!==void 0&&o.push(n.assignTexture(e,"map",s.baseColorTexture,SRGBColorSpace))}return Promise.all(o)}}class GLTFMaterialsEmissiveStrengthExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,r){const n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const o=n.extensions[this.name].emissiveStrength;return o!==void 0&&(r.emissiveIntensity=o),Promise.resolve()}}class GLTFMaterialsClearcoatExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(e,r){const n=this.parser,o=n.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const s=[],c=o.extensions[this.name];if(c.clearcoatFactor!==void 0&&(r.clearcoat=c.clearcoatFactor),c.clearcoatTexture!==void 0&&s.push(n.assignTexture(r,"clearcoatMap",c.clearcoatTexture)),c.clearcoatRoughnessFactor!==void 0&&(r.clearcoatRoughness=c.clearcoatRoughnessFactor),c.clearcoatRoughnessTexture!==void 0&&s.push(n.assignTexture(r,"clearcoatRoughnessMap",c.clearcoatRoughnessTexture)),c.clearcoatNormalTexture!==void 0&&(s.push(n.assignTexture(r,"clearcoatNormalMap",c.clearcoatNormalTexture)),c.clearcoatNormalTexture.scale!==void 0)){const d=c.clearcoatNormalTexture.scale;r.clearcoatNormalScale=new Vector2(d,d)}return Promise.all(s)}}class GLTFMaterialsIridescenceExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(e,r){const n=this.parser,o=n.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const s=[],c=o.extensions[this.name];return c.iridescenceFactor!==void 0&&(r.iridescence=c.iridescenceFactor),c.iridescenceTexture!==void 0&&s.push(n.assignTexture(r,"iridescenceMap",c.iridescenceTexture)),c.iridescenceIor!==void 0&&(r.iridescenceIOR=c.iridescenceIor),r.iridescenceThicknessRange===void 0&&(r.iridescenceThicknessRange=[100,400]),c.iridescenceThicknessMinimum!==void 0&&(r.iridescenceThicknessRange[0]=c.iridescenceThicknessMinimum),c.iridescenceThicknessMaximum!==void 0&&(r.iridescenceThicknessRange[1]=c.iridescenceThicknessMaximum),c.iridescenceThicknessTexture!==void 0&&s.push(n.assignTexture(r,"iridescenceThicknessMap",c.iridescenceThicknessTexture)),Promise.all(s)}}class GLTFMaterialsSheenExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(e,r){const n=this.parser,o=n.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const s=[];r.sheenColor=new Color(0,0,0),r.sheenRoughness=0,r.sheen=1;const c=o.extensions[this.name];return c.sheenColorFactor!==void 0&&r.sheenColor.fromArray(c.sheenColorFactor),c.sheenRoughnessFactor!==void 0&&(r.sheenRoughness=c.sheenRoughnessFactor),c.sheenColorTexture!==void 0&&s.push(n.assignTexture(r,"sheenColorMap",c.sheenColorTexture,SRGBColorSpace)),c.sheenRoughnessTexture!==void 0&&s.push(n.assignTexture(r,"sheenRoughnessMap",c.sheenRoughnessTexture)),Promise.all(s)}}class GLTFMaterialsTransmissionExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(e,r){const n=this.parser,o=n.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const s=[],c=o.extensions[this.name];return c.transmissionFactor!==void 0&&(r.transmission=c.transmissionFactor),c.transmissionTexture!==void 0&&s.push(n.assignTexture(r,"transmissionMap",c.transmissionTexture)),Promise.all(s)}}class GLTFMaterialsVolumeExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(e,r){const n=this.parser,o=n.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const s=[],c=o.extensions[this.name];r.thickness=c.thicknessFactor!==void 0?c.thicknessFactor:0,c.thicknessTexture!==void 0&&s.push(n.assignTexture(r,"thicknessMap",c.thicknessTexture)),r.attenuationDistance=c.attenuationDistance||1/0;const d=c.attenuationColor||[1,1,1];return r.attenuationColor=new Color(d[0],d[1],d[2]),Promise.all(s)}}class GLTFMaterialsIorExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(e,r){const n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const o=n.extensions[this.name];return r.ior=o.ior!==void 0?o.ior:1.5,Promise.resolve()}}class GLTFMaterialsSpecularExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(e,r){const n=this.parser,o=n.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const s=[],c=o.extensions[this.name];r.specularIntensity=c.specularFactor!==void 0?c.specularFactor:1,c.specularTexture!==void 0&&s.push(n.assignTexture(r,"specularIntensityMap",c.specularTexture));const d=c.specularColorFactor||[1,1,1];return r.specularColor=new Color(d[0],d[1],d[2]),c.specularColorTexture!==void 0&&s.push(n.assignTexture(r,"specularColorMap",c.specularColorTexture,SRGBColorSpace)),Promise.all(s)}}class GLTFTextureBasisUExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.KHR_TEXTURE_BASISU}loadTexture(e){const r=this.parser,n=r.json,o=n.textures[e];if(!o.extensions||!o.extensions[this.name])return null;const s=o.extensions[this.name],c=r.options.ktx2Loader;if(!c){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return r.loadTextureImage(e,s.source,c)}}class GLTFTextureWebPExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const r=this.name,n=this.parser,o=n.json,s=o.textures[e];if(!s.extensions||!s.extensions[r])return null;const c=s.extensions[r],d=o.images[c.source];let u=n.textureLoader;if(d.uri){const m=n.options.manager.getHandler(d.uri);m!==null&&(u=m)}return this.detectSupport().then(function(m){if(m)return n.loadTextureImage(e,c.source,u);if(o.extensionsRequired&&o.extensionsRequired.indexOf(r)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const r=new Image;r.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",r.onload=r.onerror=function(){e(r.height===1)}})),this.isSupported}}class GLTFTextureAVIFExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const r=this.name,n=this.parser,o=n.json,s=o.textures[e];if(!s.extensions||!s.extensions[r])return null;const c=s.extensions[r],d=o.images[c.source];let u=n.textureLoader;if(d.uri){const m=n.options.manager.getHandler(d.uri);m!==null&&(u=m)}return this.detectSupport().then(function(m){if(m)return n.loadTextureImage(e,c.source,u);if(o.extensionsRequired&&o.extensionsRequired.indexOf(r)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const r=new Image;r.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",r.onload=r.onerror=function(){e(r.height===1)}})),this.isSupported}}class GLTFMeshoptCompression{constructor(e){this.name=EXTENSIONS.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const r=this.parser.json,n=r.bufferViews[e];if(n.extensions&&n.extensions[this.name]){const o=n.extensions[this.name],s=this.parser.getDependency("buffer",o.buffer),c=this.parser.options.meshoptDecoder;if(!c||!c.supported){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(d){const u=o.byteOffset||0,m=o.byteLength||0,_=o.count,g=o.byteStride,f=new Uint8Array(d,u,m);return c.decodeGltfBufferAsync?c.decodeGltfBufferAsync(_,g,f,o.mode,o.filter).then(function(y){return y.buffer}):c.ready.then(function(){const y=new ArrayBuffer(_*g);return c.decodeGltfBuffer(new Uint8Array(y),_,g,f,o.mode,o.filter),y})})}else return null}}class GLTFMeshGpuInstancing{constructor(e){this.name=EXTENSIONS.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const r=this.parser.json,n=r.nodes[e];if(!n.extensions||!n.extensions[this.name]||n.mesh===void 0)return null;const o=r.meshes[n.mesh];for(const u of o.primitives)if(u.mode!==WEBGL_CONSTANTS.TRIANGLES&&u.mode!==WEBGL_CONSTANTS.TRIANGLE_STRIP&&u.mode!==WEBGL_CONSTANTS.TRIANGLE_FAN&&u.mode!==void 0)return null;const s=n.extensions[this.name].attributes,c=[],d={};for(const u in s)c.push(this.parser.getDependency("accessor",s[u]).then(m=>(d[u]=m,d[u])));return c.length<1?null:(c.push(this.parser.createNodeMesh(e)),Promise.all(c).then(u=>{const m=u.pop(),_=m.isGroup?m.children:[m],g=u[0].count,f=[];for(const y of _){const M=new Matrix4,T=new Vector3,A=new Quaternion,E=new Vector3(1,1,1),C=new InstancedMesh(y.geometry,y.material,g);for(let k=0;k<g;k++)d.TRANSLATION&&T.fromBufferAttribute(d.TRANSLATION,k),d.ROTATION&&A.fromBufferAttribute(d.ROTATION,k),d.SCALE&&E.fromBufferAttribute(d.SCALE,k),C.setMatrixAt(k,M.compose(T,A,E));for(const k in d)k!=="TRANSLATION"&&k!=="ROTATION"&&k!=="SCALE"&&y.geometry.setAttribute(k,d[k]);Object3D.prototype.copy.call(C,y),this.parser.assignFinalMaterial(C),f.push(C)}return m.isGroup?(m.clear(),m.add(...f),m):f[0]}))}}const BINARY_EXTENSION_HEADER_MAGIC="glTF",BINARY_EXTENSION_HEADER_LENGTH=12,BINARY_EXTENSION_CHUNK_TYPES={JSON:1313821514,BIN:5130562};class GLTFBinaryExtension{constructor(e){this.name=EXTENSIONS.KHR_BINARY_GLTF,this.content=null,this.body=null;const r=new DataView(e,0,BINARY_EXTENSION_HEADER_LENGTH),n=new TextDecoder;if(this.header={magic:n.decode(new Uint8Array(e.slice(0,4))),version:r.getUint32(4,!0),length:r.getUint32(8,!0)},this.header.magic!==BINARY_EXTENSION_HEADER_MAGIC)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const o=this.header.length-BINARY_EXTENSION_HEADER_LENGTH,s=new DataView(e,BINARY_EXTENSION_HEADER_LENGTH);let c=0;for(;c<o;){const d=s.getUint32(c,!0);c+=4;const u=s.getUint32(c,!0);if(c+=4,u===BINARY_EXTENSION_CHUNK_TYPES.JSON){const m=new Uint8Array(e,BINARY_EXTENSION_HEADER_LENGTH+c,d);this.content=n.decode(m)}else if(u===BINARY_EXTENSION_CHUNK_TYPES.BIN){const m=BINARY_EXTENSION_HEADER_LENGTH+c;this.body=e.slice(m,m+d)}c+=d}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class GLTFDracoMeshCompressionExtension{constructor(e,r){if(!r)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=EXTENSIONS.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=r,this.dracoLoader.preload()}decodePrimitive(e,r){const n=this.json,o=this.dracoLoader,s=e.extensions[this.name].bufferView,c=e.extensions[this.name].attributes,d={},u={},m={};for(const _ in c){const g=ATTRIBUTES[_]||_.toLowerCase();d[g]=c[_]}for(const _ in e.attributes){const g=ATTRIBUTES[_]||_.toLowerCase();if(c[_]!==void 0){const f=n.accessors[e.attributes[_]],y=WEBGL_COMPONENT_TYPES[f.componentType];m[g]=y.name,u[g]=f.normalized===!0}}return r.getDependency("bufferView",s).then(function(_){return new Promise(function(g){o.decodeDracoFile(_,function(f){for(const y in f.attributes){const M=f.attributes[y],T=u[y];T!==void 0&&(M.normalized=T)}g(f)},d,m)})})}}class GLTFTextureTransformExtension{constructor(){this.name=EXTENSIONS.KHR_TEXTURE_TRANSFORM}extendTexture(e,r){return(r.texCoord===void 0||r.texCoord===e.channel)&&r.offset===void 0&&r.rotation===void 0&&r.scale===void 0||(e=e.clone(),r.texCoord!==void 0&&(e.channel=r.texCoord),r.offset!==void 0&&e.offset.fromArray(r.offset),r.rotation!==void 0&&(e.rotation=r.rotation),r.scale!==void 0&&e.repeat.fromArray(r.scale),e.needsUpdate=!0),e}}class GLTFMeshQuantizationExtension{constructor(){this.name=EXTENSIONS.KHR_MESH_QUANTIZATION}}class GLTFCubicSplineInterpolant extends Interpolant{constructor(e,r,n,o){super(e,r,n,o)}copySampleValue_(e){const r=this.resultBuffer,n=this.sampleValues,o=this.valueSize,s=e*o*3+o;for(let c=0;c!==o;c++)r[c]=n[s+c];return r}interpolate_(e,r,n,o){const s=this.resultBuffer,c=this.sampleValues,d=this.valueSize,u=d*2,m=d*3,_=o-r,g=(n-r)/_,f=g*g,y=f*g,M=e*m,T=M-m,A=-2*y+3*f,E=y-f,C=1-A,k=E-f+g;for(let O=0;O!==d;O++){const I=c[T+O+d],B=c[T+O+u]*_,j=c[M+O+d],U=c[M+O]*_;s[O]=C*I+k*B+A*j+E*U}return s}}const _q=new Quaternion;class GLTFCubicSplineQuaternionInterpolant extends GLTFCubicSplineInterpolant{interpolate_(e,r,n,o){const s=super.interpolate_(e,r,n,o);return _q.fromArray(s).normalize().toArray(s),s}}const WEBGL_CONSTANTS={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},WEBGL_COMPONENT_TYPES={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},WEBGL_FILTERS={9728:NearestFilter,9729:LinearFilter,9984:NearestMipmapNearestFilter,9985:LinearMipmapNearestFilter,9986:NearestMipmapLinearFilter,9987:LinearMipmapLinearFilter},WEBGL_WRAPPINGS={33071:ClampToEdgeWrapping,33648:MirroredRepeatWrapping,10497:RepeatWrapping},WEBGL_TYPE_SIZES={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ATTRIBUTES={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},PATH_PROPERTIES={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},INTERPOLATION={CUBICSPLINE:void 0,LINEAR:InterpolateLinear,STEP:InterpolateDiscrete},ALPHA_MODES={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function createDefaultMaterial(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:FrontSide})),t.DefaultMaterial}function addUnknownExtensionsToUserData(t,e,r){for(const n in r.extensions)t[n]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[n]=r.extensions[n])}function assignExtrasToUserData(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function addMorphTargets(t,e,r){let n=!1,o=!1,s=!1;for(let m=0,_=e.length;m<_;m++){const g=e[m];if(g.POSITION!==void 0&&(n=!0),g.NORMAL!==void 0&&(o=!0),g.COLOR_0!==void 0&&(s=!0),n&&o&&s)break}if(!n&&!o&&!s)return Promise.resolve(t);const c=[],d=[],u=[];for(let m=0,_=e.length;m<_;m++){const g=e[m];if(n){const f=g.POSITION!==void 0?r.getDependency("accessor",g.POSITION):t.attributes.position;c.push(f)}if(o){const f=g.NORMAL!==void 0?r.getDependency("accessor",g.NORMAL):t.attributes.normal;d.push(f)}if(s){const f=g.COLOR_0!==void 0?r.getDependency("accessor",g.COLOR_0):t.attributes.color;u.push(f)}}return Promise.all([Promise.all(c),Promise.all(d),Promise.all(u)]).then(function(m){const _=m[0],g=m[1],f=m[2];return n&&(t.morphAttributes.position=_),o&&(t.morphAttributes.normal=g),s&&(t.morphAttributes.color=f),t.morphTargetsRelative=!0,t})}function updateMorphTargets(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let r=0,n=e.weights.length;r<n;r++)t.morphTargetInfluences[r]=e.weights[r];if(e.extras&&Array.isArray(e.extras.targetNames)){const r=e.extras.targetNames;if(t.morphTargetInfluences.length===r.length){t.morphTargetDictionary={};for(let n=0,o=r.length;n<o;n++)t.morphTargetDictionary[r[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function createPrimitiveKey(t){const e=t.extensions&&t.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION];let r;return e?r="draco:"+e.bufferView+":"+e.indices+":"+createAttributesKey(e.attributes):r=t.indices+":"+createAttributesKey(t.attributes)+":"+t.mode,r}function createAttributesKey(t){let e="";const r=Object.keys(t).sort();for(let n=0,o=r.length;n<o;n++)e+=r[n]+":"+t[r[n]]+";";return e}function getNormalizedComponentScale(t){switch(t){case Int8Array:return .007874015748031496;case Uint8Array:return .00392156862745098;case Int16Array:return 3051850947599719e-20;case Uint16Array:return 15259021896696422e-21;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function getImageURIMimeType(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const _identityMatrix=new Matrix4;class GLTFParser{constructor(e={},r={}){this.json=e,this.extensions={},this.plugins={},this.options=r,this.cache=new GLTFRegistry,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let n=!1,o=!1,s=-1;typeof navigator<"u"&&(n=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,o=navigator.userAgent.indexOf("Firefox")>-1,s=o?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||n||o&&s<98?this.textureLoader=new TextureLoader(this.options.manager):this.textureLoader=new ImageBitmapLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,r){const n=this,o=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(c){return c._markDefs&&c._markDefs()}),Promise.all(this._invokeAll(function(c){return c.beforeRoot&&c.beforeRoot()})).then(function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])}).then(function(c){const d={scene:c[0][o.scene||0],scenes:c[0],animations:c[1],cameras:c[2],asset:o.asset,parser:n,userData:{}};addUnknownExtensionsToUserData(s,d,o),assignExtrasToUserData(d,o),Promise.all(n._invokeAll(function(u){return u.afterRoot&&u.afterRoot(d)})).then(function(){e(d)})}).catch(r)}_markDefs(){const e=this.json.nodes||[],r=this.json.skins||[],n=this.json.meshes||[];for(let o=0,s=r.length;o<s;o++){const c=r[o].joints;for(let d=0,u=c.length;d<u;d++)e[c[d]].isBone=!0}for(let o=0,s=e.length;o<s;o++){const c=e[o];c.mesh!==void 0&&(this._addNodeRef(this.meshCache,c.mesh),c.skin!==void 0&&(n[c.mesh].isSkinnedMesh=!0)),c.camera!==void 0&&this._addNodeRef(this.cameraCache,c.camera)}}_addNodeRef(e,r){r!==void 0&&(e.refs[r]===void 0&&(e.refs[r]=e.uses[r]=0),e.refs[r]++)}_getNodeRef(e,r,n){if(e.refs[r]<=1)return n;const o=n.clone(),s=(c,d)=>{const u=this.associations.get(c);u!=null&&this.associations.set(d,u);for(const[m,_]of c.children.entries())s(_,d.children[m])};return s(n,o),o.name+="_instance_"+e.uses[r]++,o}_invokeOne(e){const r=Object.values(this.plugins);r.push(this);for(let n=0;n<r.length;n++){const o=e(r[n]);if(o)return o}return null}_invokeAll(e){const r=Object.values(this.plugins);r.unshift(this);const n=[];for(let o=0;o<r.length;o++){const s=e(r[o]);s&&n.push(s)}return n}getDependency(e,r){const n=e+":"+r;let o=this.cache.get(n);if(!o){switch(e){case"scene":o=this.loadScene(r);break;case"node":o=this._invokeOne(function(s){return s.loadNode&&s.loadNode(r)});break;case"mesh":o=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(r)});break;case"accessor":o=this.loadAccessor(r);break;case"bufferView":o=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(r)});break;case"buffer":o=this.loadBuffer(r);break;case"material":o=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(r)});break;case"texture":o=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(r)});break;case"skin":o=this.loadSkin(r);break;case"animation":o=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(r)});break;case"camera":o=this.loadCamera(r);break;default:if(o=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,r)}),!o)throw new Error("Unknown type: "+e);break}this.cache.add(n,o)}return o}getDependencies(e){let r=this.cache.get(e);if(!r){const n=this,o=this.json[e+(e==="mesh"?"es":"s")]||[];r=Promise.all(o.map(function(s,c){return n.getDependency(e,c)})),this.cache.add(e,r)}return r}loadBuffer(e){const r=this.json.buffers[e],n=this.fileLoader;if(r.type&&r.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+r.type+" buffer type is not supported.");if(r.uri===void 0&&e===0)return Promise.resolve(this.extensions[EXTENSIONS.KHR_BINARY_GLTF].body);const o=this.options;return new Promise(function(s,c){n.load(LoaderUtils.resolveURL(r.uri,o.path),s,void 0,function(){c(new Error('THREE.GLTFLoader: Failed to load buffer "'+r.uri+'".'))})})}loadBufferView(e){const r=this.json.bufferViews[e];return this.getDependency("buffer",r.buffer).then(function(n){const o=r.byteLength||0,s=r.byteOffset||0;return n.slice(s,s+o)})}loadAccessor(e){const r=this,n=this.json,o=this.json.accessors[e];if(o.bufferView===void 0&&o.sparse===void 0){const c=WEBGL_TYPE_SIZES[o.type],d=WEBGL_COMPONENT_TYPES[o.componentType],u=o.normalized===!0,m=new d(o.count*c);return Promise.resolve(new BufferAttribute(m,c,u))}const s=[];return o.bufferView!==void 0?s.push(this.getDependency("bufferView",o.bufferView)):s.push(null),o.sparse!==void 0&&(s.push(this.getDependency("bufferView",o.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",o.sparse.values.bufferView))),Promise.all(s).then(function(c){const d=c[0],u=WEBGL_TYPE_SIZES[o.type],m=WEBGL_COMPONENT_TYPES[o.componentType],_=m.BYTES_PER_ELEMENT,g=_*u,f=o.byteOffset||0,y=o.bufferView!==void 0?n.bufferViews[o.bufferView].byteStride:void 0,M=o.normalized===!0;let T,A;if(y&&y!==g){const E=Math.floor(f/y),C="InterleavedBuffer:"+o.bufferView+":"+o.componentType+":"+E+":"+o.count;let k=r.cache.get(C);k||(T=new m(d,E*y,o.count*y/_),k=new InterleavedBuffer(T,y/_),r.cache.add(C,k)),A=new InterleavedBufferAttribute(k,u,f%y/_,M)}else d===null?T=new m(o.count*u):T=new m(d,f,o.count*u),A=new BufferAttribute(T,u,M);if(o.sparse!==void 0){const E=WEBGL_TYPE_SIZES.SCALAR,C=WEBGL_COMPONENT_TYPES[o.sparse.indices.componentType],k=o.sparse.indices.byteOffset||0,O=o.sparse.values.byteOffset||0,I=new C(c[1],k,o.sparse.count*E),B=new m(c[2],O,o.sparse.count*u);d!==null&&(A=new BufferAttribute(A.array.slice(),A.itemSize,A.normalized));for(let j=0,U=I.length;j<U;j++){const N=I[j];if(A.setX(N,B[j*u]),u>=2&&A.setY(N,B[j*u+1]),u>=3&&A.setZ(N,B[j*u+2]),u>=4&&A.setW(N,B[j*u+3]),u>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return A})}loadTexture(e){const r=this.json,n=this.options,o=r.textures[e].source,s=r.images[o];let c=this.textureLoader;if(s.uri){const d=n.manager.getHandler(s.uri);d!==null&&(c=d)}return this.loadTextureImage(e,o,c)}loadTextureImage(e,r,n){const o=this,s=this.json,c=s.textures[e],d=s.images[r],u=(d.uri||d.bufferView)+":"+c.sampler;if(this.textureCache[u])return this.textureCache[u];const m=this.loadImageSource(r,n).then(function(_){_.flipY=!1,_.name=c.name||d.name||"",_.name===""&&typeof d.uri=="string"&&d.uri.startsWith("data:image/")===!1&&(_.name=d.uri);const g=(s.samplers||{})[c.sampler]||{};return _.magFilter=WEBGL_FILTERS[g.magFilter]||LinearFilter,_.minFilter=WEBGL_FILTERS[g.minFilter]||LinearMipmapLinearFilter,_.wrapS=WEBGL_WRAPPINGS[g.wrapS]||RepeatWrapping,_.wrapT=WEBGL_WRAPPINGS[g.wrapT]||RepeatWrapping,o.associations.set(_,{textures:e}),_}).catch(function(){return null});return this.textureCache[u]=m,m}loadImageSource(e,r){const n=this,o=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(g=>g.clone());const c=o.images[e],d=self.URL||self.webkitURL;let u=c.uri||"",m=!1;if(c.bufferView!==void 0)u=n.getDependency("bufferView",c.bufferView).then(function(g){m=!0;const f=new Blob([g],{type:c.mimeType});return u=d.createObjectURL(f),u});else if(c.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const _=Promise.resolve(u).then(function(g){return new Promise(function(f,y){let M=f;r.isImageBitmapLoader===!0&&(M=function(T){const A=new Texture(T);A.needsUpdate=!0,f(A)}),r.load(LoaderUtils.resolveURL(g,s.path),M,void 0,y)})}).then(function(g){return m===!0&&d.revokeObjectURL(u),g.userData.mimeType=c.mimeType||getImageURIMimeType(c.uri),g}).catch(function(g){throw console.error("THREE.GLTFLoader: Couldn't load texture",u),g});return this.sourceCache[e]=_,_}assignTexture(e,r,n,o){const s=this;return this.getDependency("texture",n.index).then(function(c){if(!c)return null;if(n.texCoord!==void 0&&n.texCoord>0&&(c=c.clone(),c.channel=n.texCoord),s.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]){const d=n.extensions!==void 0?n.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]:void 0;if(d){const u=s.associations.get(c);c=s.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM].extendTexture(c,d),s.associations.set(c,u)}}return o!==void 0&&(c.colorSpace=o),e[r]=c,c})}assignFinalMaterial(e){const r=e.geometry;let n=e.material;const o=r.attributes.tangent===void 0,s=r.attributes.color!==void 0,c=r.attributes.normal===void 0;if(e.isPoints){const d="PointsMaterial:"+n.uuid;let u=this.cache.get(d);u||(u=new PointsMaterial,Material.prototype.copy.call(u,n),u.color.copy(n.color),u.map=n.map,u.sizeAttenuation=!1,this.cache.add(d,u)),n=u}else if(e.isLine){const d="LineBasicMaterial:"+n.uuid;let u=this.cache.get(d);u||(u=new LineBasicMaterial,Material.prototype.copy.call(u,n),u.color.copy(n.color),u.map=n.map,this.cache.add(d,u)),n=u}if(o||s||c){let d="ClonedMaterial:"+n.uuid+":";o&&(d+="derivative-tangents:"),s&&(d+="vertex-colors:"),c&&(d+="flat-shading:");let u=this.cache.get(d);u||(u=n.clone(),s&&(u.vertexColors=!0),c&&(u.flatShading=!0),o&&(u.normalScale&&(u.normalScale.y*=-1),u.clearcoatNormalScale&&(u.clearcoatNormalScale.y*=-1)),this.cache.add(d,u),this.associations.set(u,this.associations.get(n))),n=u}e.material=n}getMaterialType(){return MeshStandardMaterial}loadMaterial(e){const r=this,n=this.json,o=this.extensions,s=n.materials[e];let c;const d={},u=s.extensions||{},m=[];if(u[EXTENSIONS.KHR_MATERIALS_UNLIT]){const g=o[EXTENSIONS.KHR_MATERIALS_UNLIT];c=g.getMaterialType(),m.push(g.extendParams(d,s,r))}else{const g=s.pbrMetallicRoughness||{};if(d.color=new Color(1,1,1),d.opacity=1,Array.isArray(g.baseColorFactor)){const f=g.baseColorFactor;d.color.fromArray(f),d.opacity=f[3]}g.baseColorTexture!==void 0&&m.push(r.assignTexture(d,"map",g.baseColorTexture,SRGBColorSpace)),d.metalness=g.metallicFactor!==void 0?g.metallicFactor:1,d.roughness=g.roughnessFactor!==void 0?g.roughnessFactor:1,g.metallicRoughnessTexture!==void 0&&(m.push(r.assignTexture(d,"metalnessMap",g.metallicRoughnessTexture)),m.push(r.assignTexture(d,"roughnessMap",g.metallicRoughnessTexture))),c=this._invokeOne(function(f){return f.getMaterialType&&f.getMaterialType(e)}),m.push(Promise.all(this._invokeAll(function(f){return f.extendMaterialParams&&f.extendMaterialParams(e,d)})))}s.doubleSided===!0&&(d.side=DoubleSide);const _=s.alphaMode||ALPHA_MODES.OPAQUE;if(_===ALPHA_MODES.BLEND?(d.transparent=!0,d.depthWrite=!1):(d.transparent=!1,_===ALPHA_MODES.MASK&&(d.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&c!==MeshBasicMaterial&&(m.push(r.assignTexture(d,"normalMap",s.normalTexture)),d.normalScale=new Vector2(1,1),s.normalTexture.scale!==void 0)){const g=s.normalTexture.scale;d.normalScale.set(g,g)}return s.occlusionTexture!==void 0&&c!==MeshBasicMaterial&&(m.push(r.assignTexture(d,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(d.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&c!==MeshBasicMaterial&&(d.emissive=new Color().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&c!==MeshBasicMaterial&&m.push(r.assignTexture(d,"emissiveMap",s.emissiveTexture,SRGBColorSpace)),Promise.all(m).then(function(){const g=new c(d);return s.name&&(g.name=s.name),assignExtrasToUserData(g,s),r.associations.set(g,{materials:e}),s.extensions&&addUnknownExtensionsToUserData(o,g,s),g})}createUniqueName(e){const r=PropertyBinding.sanitizeNodeName(e||"");let n=r;for(let o=1;this.nodeNamesUsed[n];++o)n=r+"_"+o;return this.nodeNamesUsed[n]=!0,n}loadGeometries(e){const r=this,n=this.extensions,o=this.primitiveCache;function s(d){return n[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(d,r).then(function(u){return addPrimitiveAttributes(u,d,r)})}const c=[];for(let d=0,u=e.length;d<u;d++){const m=e[d],_=createPrimitiveKey(m),g=o[_];if(g)c.push(g.promise);else{let f;m.extensions&&m.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]?f=s(m):f=addPrimitiveAttributes(new BufferGeometry,m,r),o[_]={primitive:m,promise:f},c.push(f)}}return Promise.all(c)}loadMesh(e){const r=this,n=this.json,o=this.extensions,s=n.meshes[e],c=s.primitives,d=[];for(let u=0,m=c.length;u<m;u++){const _=c[u].material===void 0?createDefaultMaterial(this.cache):this.getDependency("material",c[u].material);d.push(_)}return d.push(r.loadGeometries(c)),Promise.all(d).then(function(u){const m=u.slice(0,u.length-1),_=u[u.length-1],g=[];for(let y=0,M=_.length;y<M;y++){const T=_[y],A=c[y];let E;const C=m[y];if(A.mode===WEBGL_CONSTANTS.TRIANGLES||A.mode===WEBGL_CONSTANTS.TRIANGLE_STRIP||A.mode===WEBGL_CONSTANTS.TRIANGLE_FAN||A.mode===void 0)E=s.isSkinnedMesh===!0?new SkinnedMesh(T,C):new Mesh(T,C),E.isSkinnedMesh===!0&&E.normalizeSkinWeights(),A.mode===WEBGL_CONSTANTS.TRIANGLE_STRIP?E.geometry=toTrianglesDrawMode(E.geometry,TriangleStripDrawMode):A.mode===WEBGL_CONSTANTS.TRIANGLE_FAN&&(E.geometry=toTrianglesDrawMode(E.geometry,TriangleFanDrawMode));else if(A.mode===WEBGL_CONSTANTS.LINES)E=new LineSegments(T,C);else if(A.mode===WEBGL_CONSTANTS.LINE_STRIP)E=new Line(T,C);else if(A.mode===WEBGL_CONSTANTS.LINE_LOOP)E=new LineLoop(T,C);else if(A.mode===WEBGL_CONSTANTS.POINTS)E=new Points(T,C);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+A.mode);Object.keys(E.geometry.morphAttributes).length>0&&updateMorphTargets(E,s),E.name=r.createUniqueName(s.name||"mesh_"+e),assignExtrasToUserData(E,s),A.extensions&&addUnknownExtensionsToUserData(o,E,A),r.assignFinalMaterial(E),g.push(E)}for(let y=0,M=g.length;y<M;y++)r.associations.set(g[y],{meshes:e,primitives:y});if(g.length===1)return g[0];const f=new Group;r.associations.set(f,{meshes:e});for(let y=0,M=g.length;y<M;y++)f.add(g[y]);return f})}loadCamera(e){let r;const n=this.json.cameras[e],o=n[n.type];if(!o){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return n.type==="perspective"?r=new PerspectiveCamera(MathUtils.radToDeg(o.yfov),o.aspectRatio||1,o.znear||1,o.zfar||2e6):n.type==="orthographic"&&(r=new OrthographicCamera(-o.xmag,o.xmag,o.ymag,-o.ymag,o.znear,o.zfar)),n.name&&(r.name=this.createUniqueName(n.name)),assignExtrasToUserData(r,n),Promise.resolve(r)}loadSkin(e){const r=this.json.skins[e],n=[];for(let o=0,s=r.joints.length;o<s;o++)n.push(this._loadNodeShallow(r.joints[o]));return r.inverseBindMatrices!==void 0?n.push(this.getDependency("accessor",r.inverseBindMatrices)):n.push(null),Promise.all(n).then(function(o){const s=o.pop(),c=o,d=[],u=[];for(let m=0,_=c.length;m<_;m++){const g=c[m];if(g){d.push(g);const f=new Matrix4;s!==null&&f.fromArray(s.array,m*16),u.push(f)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',r.joints[m])}return new Skeleton(d,u)})}loadAnimation(e){const r=this.json.animations[e],n=r.name?r.name:"animation_"+e,o=[],s=[],c=[],d=[],u=[];for(let m=0,_=r.channels.length;m<_;m++){const g=r.channels[m],f=r.samplers[g.sampler],y=g.target,M=y.node,T=r.parameters!==void 0?r.parameters[f.input]:f.input,A=r.parameters!==void 0?r.parameters[f.output]:f.output;y.node!==void 0&&(o.push(this.getDependency("node",M)),s.push(this.getDependency("accessor",T)),c.push(this.getDependency("accessor",A)),d.push(f),u.push(y))}return Promise.all([Promise.all(o),Promise.all(s),Promise.all(c),Promise.all(d),Promise.all(u)]).then(function(m){const _=m[0],g=m[1],f=m[2],y=m[3],M=m[4],T=[];for(let A=0,E=_.length;A<E;A++){const C=_[A],k=g[A],O=f[A],I=y[A],B=M[A];if(C===void 0)continue;C.updateMatrix();let j;switch(PATH_PROPERTIES[B.path]){case PATH_PROPERTIES.weights:j=NumberKeyframeTrack;break;case PATH_PROPERTIES.rotation:j=QuaternionKeyframeTrack;break;case PATH_PROPERTIES.position:case PATH_PROPERTIES.scale:default:j=VectorKeyframeTrack;break}const U=C.name?C.name:C.uuid,N=I.interpolation!==void 0?INTERPOLATION[I.interpolation]:InterpolateLinear,W=[];PATH_PROPERTIES[B.path]===PATH_PROPERTIES.weights?C.traverse(function(re){re.morphTargetInfluences&&W.push(re.name?re.name:re.uuid)}):W.push(U);let ne=O.array;if(O.normalized){const re=getNormalizedComponentScale(ne.constructor),le=new Float32Array(ne.length);for(let ae=0,pe=ne.length;ae<pe;ae++)le[ae]=ne[ae]*re;ne=le}for(let re=0,le=W.length;re<le;re++){const ae=new j(W[re]+"."+PATH_PROPERTIES[B.path],k.array,ne,N);I.interpolation==="CUBICSPLINE"&&(ae.createInterpolant=function(pe){const K=this instanceof QuaternionKeyframeTrack?GLTFCubicSplineQuaternionInterpolant:GLTFCubicSplineInterpolant;return new K(this.times,this.values,this.getValueSize()/3,pe)},ae.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),T.push(ae)}}return new AnimationClip(n,void 0,T)})}createNodeMesh(e){const r=this.json,n=this,o=r.nodes[e];return o.mesh===void 0?null:n.getDependency("mesh",o.mesh).then(function(s){const c=n._getNodeRef(n.meshCache,o.mesh,s);return o.weights!==void 0&&c.traverse(function(d){if(d.isMesh)for(let u=0,m=o.weights.length;u<m;u++)d.morphTargetInfluences[u]=o.weights[u]}),c})}loadNode(e){const r=this.json,n=this,o=r.nodes[e],s=n._loadNodeShallow(e),c=[],d=o.children||[];for(let m=0,_=d.length;m<_;m++)c.push(n.getDependency("node",d[m]));const u=o.skin===void 0?Promise.resolve(null):n.getDependency("skin",o.skin);return Promise.all([s,Promise.all(c),u]).then(function(m){const _=m[0],g=m[1],f=m[2];f!==null&&_.traverse(function(y){y.isSkinnedMesh&&y.bind(f,_identityMatrix)});for(let y=0,M=g.length;y<M;y++)_.add(g[y]);return _})}_loadNodeShallow(e){const r=this.json,n=this.extensions,o=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=r.nodes[e],c=s.name?o.createUniqueName(s.name):"",d=[],u=o._invokeOne(function(m){return m.createNodeMesh&&m.createNodeMesh(e)});return u&&d.push(u),s.camera!==void 0&&d.push(o.getDependency("camera",s.camera).then(function(m){return o._getNodeRef(o.cameraCache,s.camera,m)})),o._invokeAll(function(m){return m.createNodeAttachment&&m.createNodeAttachment(e)}).forEach(function(m){d.push(m)}),this.nodeCache[e]=Promise.all(d).then(function(m){let _;if(s.isBone===!0?_=new Bone:m.length>1?_=new Group:m.length===1?_=m[0]:_=new Object3D,_!==m[0])for(let g=0,f=m.length;g<f;g++)_.add(m[g]);if(s.name&&(_.userData.name=s.name,_.name=c),assignExtrasToUserData(_,s),s.extensions&&addUnknownExtensionsToUserData(n,_,s),s.matrix!==void 0){const g=new Matrix4;g.fromArray(s.matrix),_.applyMatrix4(g)}else s.translation!==void 0&&_.position.fromArray(s.translation),s.rotation!==void 0&&_.quaternion.fromArray(s.rotation),s.scale!==void 0&&_.scale.fromArray(s.scale);return o.associations.has(_)||o.associations.set(_,{}),o.associations.get(_).nodes=e,_}),this.nodeCache[e]}loadScene(e){const r=this.extensions,n=this.json.scenes[e],o=this,s=new Group;n.name&&(s.name=o.createUniqueName(n.name)),assignExtrasToUserData(s,n),n.extensions&&addUnknownExtensionsToUserData(r,s,n);const c=n.nodes||[],d=[];for(let u=0,m=c.length;u<m;u++)d.push(o.getDependency("node",c[u]));return Promise.all(d).then(function(u){for(let _=0,g=u.length;_<g;_++)s.add(u[_]);const m=_=>{const g=new Map;for(const[f,y]of o.associations)(f instanceof Material||f instanceof Texture)&&g.set(f,y);return _.traverse(f=>{const y=o.associations.get(f);y!=null&&g.set(f,y)}),g};return o.associations=m(s),s})}}function computeBounds(t,e,r){const n=e.attributes,o=new Box3;if(n.POSITION!==void 0){const d=r.json.accessors[n.POSITION],u=d.min,m=d.max;if(u!==void 0&&m!==void 0){if(o.set(new Vector3(u[0],u[1],u[2]),new Vector3(m[0],m[1],m[2])),d.normalized){const _=getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[d.componentType]);o.min.multiplyScalar(_),o.max.multiplyScalar(_)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const d=new Vector3,u=new Vector3;for(let m=0,_=s.length;m<_;m++){const g=s[m];if(g.POSITION!==void 0){const f=r.json.accessors[g.POSITION],y=f.min,M=f.max;if(y!==void 0&&M!==void 0){if(u.setX(Math.max(Math.abs(y[0]),Math.abs(M[0]))),u.setY(Math.max(Math.abs(y[1]),Math.abs(M[1]))),u.setZ(Math.max(Math.abs(y[2]),Math.abs(M[2]))),f.normalized){const T=getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[f.componentType]);u.multiplyScalar(T)}d.max(u)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}o.expandByVector(d)}t.boundingBox=o;const c=new Sphere;o.getCenter(c.center),c.radius=o.min.distanceTo(o.max)/2,t.boundingSphere=c}function addPrimitiveAttributes(t,e,r){const n=e.attributes,o=[];function s(c,d){return r.getDependency("accessor",c).then(function(u){t.setAttribute(d,u)})}for(const c in n){const d=ATTRIBUTES[c]||c.toLowerCase();d in t.attributes||o.push(s(n[c],d))}if(e.indices!==void 0&&!t.index){const c=r.getDependency("accessor",e.indices).then(function(d){t.setIndex(d)});o.push(c)}return assignExtrasToUserData(t,e),computeBounds(t,e,r),Promise.all(o).then(function(){return e.targets!==void 0?addMorphTargets(t,e.targets,r):t})}const _taskCache=new WeakMap;class DRACOLoader extends Loader$2{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,r,n,o){const s=new FileLoader(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,c=>{this.parse(c,r,o)},n,o)}parse(e,r,n){this.decodeDracoFile(e,r,null,null,SRGBColorSpace).catch(n)}decodeDracoFile(e,r,n,o,s=LinearSRGBColorSpace){const c={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:o||this.defaultAttributeTypes,useUniqueIDs:!!n,vertexColorSpace:s};return this.decodeGeometry(e,c).then(r)}decodeGeometry(e,r){const n=JSON.stringify(r);if(_taskCache.has(e)){const u=_taskCache.get(e);if(u.key===n)return u.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let o;const s=this.workerNextTaskID++,c=e.byteLength,d=this._getWorker(s,c).then(u=>(o=u,new Promise((m,_)=>{o._callbacks[s]={resolve:m,reject:_},o.postMessage({type:"decode",id:s,taskConfig:r,buffer:e},[e])}))).then(u=>this._createGeometry(u.geometry));return d.catch(()=>!0).then(()=>{o&&s&&this._releaseTask(o,s)}),_taskCache.set(e,{key:n,promise:d}),d}_createGeometry(e){const r=new BufferGeometry;e.index&&r.setIndex(new BufferAttribute(e.index.array,1));for(let n=0;n<e.attributes.length;n++){const o=e.attributes[n],s=o.name,c=o.array,d=o.itemSize,u=new BufferAttribute(c,d);s==="color"&&this._assignVertexColorSpace(u,o.vertexColorSpace),r.setAttribute(s,u)}return r}_assignVertexColorSpace(e,r){if(r!==SRGBColorSpace)return;const n=new Color;for(let o=0,s=e.count;o<s;o++)n.fromBufferAttribute(e,o).convertSRGBToLinear(),e.setXYZ(o,n.r,n.g,n.b)}_loadLibrary(e,r){const n=new FileLoader(this.manager);return n.setPath(this.decoderPath),n.setResponseType(r),n.setWithCredentials(this.withCredentials),new Promise((o,s)=>{n.load(e,o,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",r=[];return e?r.push(this._loadLibrary("draco_decoder.js","text")):(r.push(this._loadLibrary("draco_wasm_wrapper.js","text")),r.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(r).then(n=>{const o=n[0];e||(this.decoderConfig.wasmBinary=n[1]);const s=DRACOWorker.toString(),c=["/* draco decoder */",o,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([c]))}),this.decoderPending}_getWorker(e,r){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const o=new Worker(this.workerSourceURL);o._callbacks={},o._taskCosts={},o._taskLoad=0,o.postMessage({type:"init",decoderConfig:this.decoderConfig}),o.onmessage=function(s){const c=s.data;switch(c.type){case"decode":o._callbacks[c.id].resolve(c);break;case"error":o._callbacks[c.id].reject(c);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+c.type+'"')}},this.workerPool.push(o)}else this.workerPool.sort(function(o,s){return o._taskLoad>s._taskLoad?-1:1});const n=this.workerPool[this.workerPool.length-1];return n._taskCosts[e]=r,n._taskLoad+=r,n})}_releaseTask(e,r){e._taskLoad-=e._taskCosts[r],delete e._callbacks[r],delete e._taskCosts[r]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this.workerSourceURL!==""&&URL.revokeObjectURL(this.workerSourceURL),this}}function DRACOWorker(){let t,e;onmessage=function(c){const d=c.data;switch(d.type){case"init":t=d.decoderConfig,e=new Promise(function(_){t.onModuleLoaded=function(g){_({draco:g})},DracoDecoderModule(t)});break;case"decode":const u=d.buffer,m=d.taskConfig;e.then(_=>{const g=_.draco,f=new g.Decoder;try{const y=r(g,f,new Int8Array(u),m),M=y.attributes.map(T=>T.array.buffer);y.index&&M.push(y.index.array.buffer),self.postMessage({type:"decode",id:d.id,geometry:y},M)}catch(y){console.error(y),self.postMessage({type:"error",id:d.id,error:y.message})}finally{g.destroy(f)}});break}};function r(c,d,u,m){const _=m.attributeIDs,g=m.attributeTypes;let f,y;const M=d.GetEncodedGeometryType(u);if(M===c.TRIANGULAR_MESH)f=new c.Mesh,y=d.DecodeArrayToMesh(u,u.byteLength,f);else if(M===c.POINT_CLOUD)f=new c.PointCloud,y=d.DecodeArrayToPointCloud(u,u.byteLength,f);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!y.ok()||f.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+y.error_msg());const T={index:null,attributes:[]};for(const A in _){const E=self[g[A]];let C,k;if(m.useUniqueIDs)k=_[A],C=d.GetAttributeByUniqueId(f,k);else{if(k=d.GetAttributeId(f,c[_[A]]),k===-1)continue;C=d.GetAttribute(f,k)}const O=o(c,d,f,A,E,C);A==="color"&&(O.vertexColorSpace=m.vertexColorSpace),T.attributes.push(O)}return M===c.TRIANGULAR_MESH&&(T.index=n(c,d,f)),c.destroy(f),T}function n(c,d,u){const m=u.num_faces()*3,_=m*4,g=c._malloc(_);d.GetTrianglesUInt32Array(u,_,g);const f=new Uint32Array(c.HEAPF32.buffer,g,m).slice();return c._free(g),{array:f,itemSize:1}}function o(c,d,u,m,_,g){const f=g.num_components(),y=u.num_points()*f,M=y*_.BYTES_PER_ELEMENT,T=s(c,_),A=c._malloc(M);d.GetAttributeDataArrayForAllPoints(u,g,T,M,A);const E=new _(c.HEAPF32.buffer,A,y).slice();return c._free(A),{name:m,array:E,itemSize:f}}function s(c,d){switch(d){case Float32Array:return c.DT_FLOAT32;case Int8Array:return c.DT_INT8;case Int16Array:return c.DT_INT16;case Int32Array:return c.DT_INT32;case Uint8Array:return c.DT_UINT8;case Uint16Array:return c.DT_UINT16;case Uint32Array:return c.DT_UINT32}}}var durl=function(t){return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};try{URL.revokeObjectURL(durl(""))}catch(t){durl=function(e){return"data:application/javascript;charset=UTF-8,"+encodeURI(e)}}var u8=Uint8Array,u16=Uint16Array,u32=Uint32Array,fleb=new u8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fdeb=new u8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),clim=new u8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),freb=function(t,e){for(var r=new u16(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var o=new u32(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)o[s]=s-r[n]<<5|n;return[r,o]},_a$1=freb(fleb,2),fl=_a$1[0],revfl=_a$1[1];fl[28]=258,revfl[258]=28;for(var _b=freb(fdeb,0),fd=_b[0],rev=new u16(32768),i$1=0;i$1<32768;++i$1){var x=(i$1&43690)>>>1|(i$1&21845)<<1;x=(x&52428)>>>2|(x&13107)<<2,x=(x&61680)>>>4|(x&3855)<<4,rev[i$1]=((x&65280)>>>8|(x&255)<<8)>>>1}for(var hMap=function(t,e,r){for(var n=t.length,o=0,s=new u16(e);o<n;++o)++s[t[o]-1];var c=new u16(e);for(o=0;o<e;++o)c[o]=c[o-1]+s[o-1]<<1;var d;if(r){d=new u16(1<<e);var u=15-e;for(o=0;o<n;++o)if(t[o])for(var m=o<<4|t[o],_=e-t[o],g=c[t[o]-1]++<<_,f=g|(1<<_)-1;g<=f;++g)d[rev[g]>>>u]=m}else for(d=new u16(n),o=0;o<n;++o)t[o]&&(d[o]=rev[c[t[o]-1]++]>>>15-t[o]);return d},flt=new u8(288),i$1=0;i$1<144;++i$1)flt[i$1]=8;for(var i$1=144;i$1<256;++i$1)flt[i$1]=9;for(var i$1=256;i$1<280;++i$1)flt[i$1]=7;for(var i$1=280;i$1<288;++i$1)flt[i$1]=8;for(var fdt=new u8(32),i$1=0;i$1<32;++i$1)fdt[i$1]=5;var flrm=hMap(flt,9,1),fdrm=hMap(fdt,5,1),max=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},bits=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},bits16=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},shft=function(t){return(t/8|0)+(t&7&&1)},slc=function(t,e,r){(e==null||e<0)&&(e=0),(r==null||r>t.length)&&(r=t.length);var n=new(t instanceof u16?u16:t instanceof u32?u32:u8)(r-e);return n.set(t.subarray(e,r)),n},inflt=function(t,e,r){var n=t.length;if(!n||r&&!r.l&&n<5)return e||new u8(0);var o=!e||r,s=!r||r.i;r||(r={}),e||(e=new u8(n*3));var c=function(de){var Y=e.length;if(de>Y){var we=new u8(Math.max(Y*2,de));we.set(e),e=we}},d=r.f||0,u=r.p||0,m=r.b||0,_=r.l,g=r.d,f=r.m,y=r.n,M=n*8;do{if(!_){r.f=d=bits(t,u,1);var T=bits(t,u+1,3);if(u+=3,T)if(T==1)_=flrm,g=fdrm,f=9,y=5;else if(T==2){var A=bits(t,u,31)+257,E=bits(t,u+10,15)+4,C=A+bits(t,u+5,31)+1;u+=14;for(var k=new u8(C),O=new u8(19),I=0;I<E;++I)O[clim[I]]=bits(t,u+I*3,7);u+=E*3;for(var B=max(O),j=(1<<B)-1,U=hMap(O,B,1),I=0;I<C;){var N=U[bits(t,u,j)];u+=N&15;var W=N>>>4;if(W<16)k[I++]=W;else{var ne=0,re=0;for(W==16?(re=3+bits(t,u,3),u+=2,ne=k[I-1]):W==17?(re=3+bits(t,u,7),u+=3):W==18&&(re=11+bits(t,u,127),u+=7);re--;)k[I++]=ne}}var le=k.subarray(0,A),ae=k.subarray(A);f=max(le),y=max(ae),_=hMap(le,f,1),g=hMap(ae,y,1)}else throw"invalid block type";else{var W=shft(u)+4,pe=t[W-4]|t[W-3]<<8,K=W+pe;if(K>n){if(s)throw"unexpected EOF";break}o&&c(m+pe),e.set(t.subarray(W,K),m),r.b=m+=pe,r.p=u=K*8;continue}if(u>M){if(s)throw"unexpected EOF";break}}o&&c(m+131072);for(var q=(1<<f)-1,D=(1<<y)-1,z=u;;z=u){var ne=_[bits16(t,u)&q],J=ne>>>4;if(u+=ne&15,u>M){if(s)throw"unexpected EOF";break}if(!ne)throw"invalid length/literal";if(J<256)e[m++]=J;else if(J==256){z=u,_=null;break}else{var ie=J-254;if(J>264){var I=J-257,fe=fleb[I];ie=bits(t,u,(1<<fe)-1)+fl[I],u+=fe}var ee=g[bits16(t,u)&D],Z=ee>>>4;if(!ee)throw"invalid distance";u+=ee&15;var ae=fd[Z];if(Z>3){var fe=fdeb[Z];ae+=bits16(t,u)&(1<<fe)-1,u+=fe}if(u>M){if(s)throw"unexpected EOF";break}o&&c(m+131072);for(var te=m+ie;m<te;m+=4)e[m]=e[m-ae],e[m+1]=e[m+1-ae],e[m+2]=e[m+2-ae],e[m+3]=e[m+3-ae];m=te}}r.l=_,r.p=z,r.b=m,_&&(d=1,r.m=f,r.d=g,r.n=y)}while(!d);return m==e.length?e:slc(e,0,m)},et=new u8(0),zlv=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function unzlibSync(t,e){return inflt((zlv(t),t.subarray(2,-4)),e)}var td=typeof TextDecoder<"u"&&new TextDecoder,tds=0;try{td.decode(et,{stream:!0}),tds=1}catch(t){}function findSpan(t,e,r){const n=r.length-t-1;if(e>=r[n])return n-1;if(e<=r[t])return t;let o=t,s=n,c=Math.floor((o+s)/2);for(;e<r[c]||e>=r[c+1];)e<r[c]?s=c:o=c,c=Math.floor((o+s)/2);return c}function calcBasisFunctions(t,e,r,n){const o=[],s=[],c=[];o[0]=1;for(let d=1;d<=r;++d){s[d]=e-n[t+1-d],c[d]=n[t+d]-e;let u=0;for(let m=0;m<d;++m){const _=c[m+1],g=s[d-m],f=o[m]/(_+g);o[m]=u+_*f,u=g*f}o[d]=u}return o}function calcBSplinePoint(t,e,r,n){const o=findSpan(t,n,e),s=calcBasisFunctions(o,n,t,e),c=new Vector4(0,0,0,0);for(let d=0;d<=t;++d){const u=r[o-t+d],m=s[d],_=u.w*m;c.x+=u.x*_,c.y+=u.y*_,c.z+=u.z*_,c.w+=u.w*m}return c}function calcBasisFunctionDerivatives(t,e,r,n,o){const s=[];for(let g=0;g<=r;++g)s[g]=0;const c=[];for(let g=0;g<=n;++g)c[g]=s.slice(0);const d=[];for(let g=0;g<=r;++g)d[g]=s.slice(0);d[0][0]=1;const u=s.slice(0),m=s.slice(0);for(let g=1;g<=r;++g){u[g]=e-o[t+1-g],m[g]=o[t+g]-e;let f=0;for(let y=0;y<g;++y){const M=m[y+1],T=u[g-y];d[g][y]=M+T;const A=d[y][g-1]/d[g][y];d[y][g]=f+M*A,f=T*A}d[g][g]=f}for(let g=0;g<=r;++g)c[0][g]=d[g][r];for(let g=0;g<=r;++g){let f=0,y=1;const M=[];for(let T=0;T<=r;++T)M[T]=s.slice(0);M[0][0]=1;for(let T=1;T<=n;++T){let A=0;const E=g-T,C=r-T;g>=T&&(M[y][0]=M[f][0]/d[C+1][E],A=M[y][0]*d[E][C]);const k=E>=-1?1:-E,O=g-1<=C?T-1:r-g;for(let B=k;B<=O;++B)M[y][B]=(M[f][B]-M[f][B-1])/d[C+1][E+B],A+=M[y][B]*d[E+B][C];g<=C&&(M[y][T]=-M[f][T-1]/d[C+1][g],A+=M[y][T]*d[g][C]),c[T][g]=A;const I=f;f=y,y=I}}let _=r;for(let g=1;g<=n;++g){for(let f=0;f<=r;++f)c[g][f]*=_;_*=r-g}return c}function calcBSplineDerivatives(t,e,r,n,o){const s=o<t?o:t,c=[],d=findSpan(t,n,e),u=calcBasisFunctionDerivatives(d,n,t,s,e),m=[];for(let _=0;_<r.length;++_){const g=r[_].clone(),f=g.w;g.x*=f,g.y*=f,g.z*=f,m[_]=g}for(let _=0;_<=s;++_){const g=m[d-t].clone().multiplyScalar(u[_][0]);for(let f=1;f<=t;++f)g.add(m[d-t+f].clone().multiplyScalar(u[_][f]));c[_]=g}for(let _=s+1;_<=o+1;++_)c[_]=new Vector4(0,0,0);return c}function calcKoverI(t,e){let r=1;for(let o=2;o<=t;++o)r*=o;let n=1;for(let o=2;o<=e;++o)n*=o;for(let o=2;o<=t-e;++o)n*=o;return r/n}function calcRationalCurveDerivatives(t){const e=t.length,r=[],n=[];for(let s=0;s<e;++s){const c=t[s];r[s]=new Vector3(c.x,c.y,c.z),n[s]=c.w}const o=[];for(let s=0;s<e;++s){const c=r[s].clone();for(let d=1;d<=s;++d)c.sub(o[s-d].clone().multiplyScalar(calcKoverI(s,d)*n[d]));o[s]=c.divideScalar(n[0])}return o}function calcNURBSDerivatives(t,e,r,n,o){const s=calcBSplineDerivatives(t,e,r,n,o);return calcRationalCurveDerivatives(s)}class NURBSCurve extends Curve{constructor(e,r,n,o,s){super(),this.degree=e,this.knots=r,this.controlPoints=[],this.startKnot=o||0,this.endKnot=s||this.knots.length-1;for(let c=0;c<n.length;++c){const d=n[c];this.controlPoints[c]=new Vector4(d.x,d.y,d.z,d.w)}}getPoint(e,r=new Vector3){const n=r,o=this.knots[this.startKnot]+e*(this.knots[this.endKnot]-this.knots[this.startKnot]),s=calcBSplinePoint(this.degree,this.knots,this.controlPoints,o);return s.w!==1&&s.divideScalar(s.w),n.set(s.x,s.y,s.z)}getTangent(e,r=new Vector3){const n=r,o=this.knots[0]+e*(this.knots[this.knots.length-1]-this.knots[0]),s=calcNURBSDerivatives(this.degree,this.knots,this.controlPoints,o,1);return n.copy(s[1]).normalize(),n}}let fbxTree,connections,sceneGraph;class FBXLoader extends Loader$2{constructor(e){super(e)}load(e,r,n,o){const s=this,c=s.path===""?LoaderUtils.extractUrlBase(e):s.path,d=new FileLoader(this.manager);d.setPath(s.path),d.setResponseType("arraybuffer"),d.setRequestHeader(s.requestHeader),d.setWithCredentials(s.withCredentials),d.load(e,function(u){try{r(s.parse(u,c))}catch(m){o?o(m):console.error(m),s.manager.itemError(e)}},n,o)}parse(e,r){if(isFbxFormatBinary(e))fbxTree=new BinaryParser().parse(e);else{const o=convertArrayBufferToString(e);if(!isFbxFormatASCII(o))throw new Error("THREE.FBXLoader: Unknown format.");if(getFbxVersion(o)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+getFbxVersion(o));fbxTree=new TextParser().parse(o)}const n=new TextureLoader(this.manager).setPath(this.resourcePath||r).setCrossOrigin(this.crossOrigin);return new FBXTreeParser(n,this.manager).parse(fbxTree)}}class FBXTreeParser{constructor(e,r){this.textureLoader=e,this.manager=r}parse(){connections=this.parseConnections();const e=this.parseImages(),r=this.parseTextures(e),n=this.parseMaterials(r),o=this.parseDeformers(),s=new GeometryParser().parse(o);return this.parseScene(o,s,n),sceneGraph}parseConnections(){const e=new Map;return"Connections"in fbxTree&&fbxTree.Connections.connections.forEach(function(r){const n=r[0],o=r[1],s=r[2];e.has(n)||e.set(n,{parents:[],children:[]});const c={ID:o,relationship:s};e.get(n).parents.push(c),e.has(o)||e.set(o,{parents:[],children:[]});const d={ID:n,relationship:s};e.get(o).children.push(d)}),e}parseImages(){const e={},r={};if("Video"in fbxTree.Objects){const n=fbxTree.Objects.Video;for(const o in n){const s=n[o],c=parseInt(o);if(e[c]=s.RelativeFilename||s.Filename,"Content"in s){const d=s.Content instanceof ArrayBuffer&&s.Content.byteLength>0,u=typeof s.Content=="string"&&s.Content!=="";if(d||u){const m=this.parseImage(n[o]);r[s.RelativeFilename||s.Filename]=m}}}}for(const n in e){const o=e[n];r[o]!==void 0?e[n]=r[o]:e[n]=e[n].split("\\").pop()}return e}parseImage(e){const r=e.Content,n=e.RelativeFilename||e.Filename,o=n.slice(n.lastIndexOf(".")+1).toLowerCase();let s;switch(o){case"bmp":s="image/bmp";break;case"jpg":case"jpeg":s="image/jpeg";break;case"png":s="image/png";break;case"tif":s="image/tiff";break;case"tga":this.manager.getHandler(".tga")===null&&console.warn("FBXLoader: TGA loader not found, skipping ",n),s="image/tga";break;default:console.warn('FBXLoader: Image type "'+o+'" is not supported.');return}if(typeof r=="string")return"data:"+s+";base64,"+r;{const c=new Uint8Array(r);return window.URL.createObjectURL(new Blob([c],{type:s}))}}parseTextures(e){const r=new Map;if("Texture"in fbxTree.Objects){const n=fbxTree.Objects.Texture;for(const o in n){const s=this.parseTexture(n[o],e);r.set(parseInt(o),s)}}return r}parseTexture(e,r){const n=this.loadTexture(e,r);n.ID=e.id,n.name=e.attrName;const o=e.WrapModeU,s=e.WrapModeV,c=o!==void 0?o.value:0,d=s!==void 0?s.value:0;if(n.wrapS=c===0?RepeatWrapping:ClampToEdgeWrapping,n.wrapT=d===0?RepeatWrapping:ClampToEdgeWrapping,"Scaling"in e){const u=e.Scaling.value;n.repeat.x=u[0],n.repeat.y=u[1]}if("Translation"in e){const u=e.Translation.value;n.offset.x=u[0],n.offset.y=u[1]}return n}loadTexture(e,r){let n;const o=this.textureLoader.path,s=connections.get(e.id).children;s!==void 0&&s.length>0&&r[s[0].ID]!==void 0&&(n=r[s[0].ID],(n.indexOf("blob:")===0||n.indexOf("data:")===0)&&this.textureLoader.setPath(void 0));let c;const d=e.FileName.slice(-3).toLowerCase();if(d==="tga"){const u=this.manager.getHandler(".tga");u===null?(console.warn("FBXLoader: TGA loader not found, creating placeholder texture for",e.RelativeFilename),c=new Texture):(u.setPath(this.textureLoader.path),c=u.load(n))}else d==="psd"?(console.warn("FBXLoader: PSD textures are not supported, creating placeholder texture for",e.RelativeFilename),c=new Texture):c=this.textureLoader.load(n);return this.textureLoader.setPath(o),c}parseMaterials(e){const r=new Map;if("Material"in fbxTree.Objects){const n=fbxTree.Objects.Material;for(const o in n){const s=this.parseMaterial(n[o],e);s!==null&&r.set(parseInt(o),s)}}return r}parseMaterial(e,r){const n=e.id,o=e.attrName;let s=e.ShadingModel;if(typeof s=="object"&&(s=s.value),!connections.has(n))return null;const c=this.parseParameters(e,r,n);let d;switch(s.toLowerCase()){case"phong":d=new MeshPhongMaterial;break;case"lambert":d=new MeshLambertMaterial;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',s),d=new MeshPhongMaterial;break}return d.setValues(c),d.name=o,d}parseParameters(e,r,n){const o={};e.BumpFactor&&(o.bumpScale=e.BumpFactor.value),e.Diffuse?o.color=new Color().fromArray(e.Diffuse.value).convertSRGBToLinear():e.DiffuseColor&&(e.DiffuseColor.type==="Color"||e.DiffuseColor.type==="ColorRGB")&&(o.color=new Color().fromArray(e.DiffuseColor.value).convertSRGBToLinear()),e.DisplacementFactor&&(o.displacementScale=e.DisplacementFactor.value),e.Emissive?o.emissive=new Color().fromArray(e.Emissive.value).convertSRGBToLinear():e.EmissiveColor&&(e.EmissiveColor.type==="Color"||e.EmissiveColor.type==="ColorRGB")&&(o.emissive=new Color().fromArray(e.EmissiveColor.value).convertSRGBToLinear()),e.EmissiveFactor&&(o.emissiveIntensity=parseFloat(e.EmissiveFactor.value)),e.Opacity&&(o.opacity=parseFloat(e.Opacity.value)),o.opacity<1&&(o.transparent=!0),e.ReflectionFactor&&(o.reflectivity=e.ReflectionFactor.value),e.Shininess&&(o.shininess=e.Shininess.value),e.Specular?o.specular=new Color().fromArray(e.Specular.value).convertSRGBToLinear():e.SpecularColor&&e.SpecularColor.type==="Color"&&(o.specular=new Color().fromArray(e.SpecularColor.value).convertSRGBToLinear());const s=this;return connections.get(n).children.forEach(function(c){const d=c.relationship;switch(d){case"Bump":o.bumpMap=s.getTexture(r,c.ID);break;case"Maya|TEX_ao_map":o.aoMap=s.getTexture(r,c.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":o.map=s.getTexture(r,c.ID),o.map!==void 0&&(o.map.colorSpace=SRGBColorSpace);break;case"DisplacementColor":o.displacementMap=s.getTexture(r,c.ID);break;case"EmissiveColor":o.emissiveMap=s.getTexture(r,c.ID),o.emissiveMap!==void 0&&(o.emissiveMap.colorSpace=SRGBColorSpace);break;case"NormalMap":case"Maya|TEX_normal_map":o.normalMap=s.getTexture(r,c.ID);break;case"ReflectionColor":o.envMap=s.getTexture(r,c.ID),o.envMap!==void 0&&(o.envMap.mapping=EquirectangularReflectionMapping,o.envMap.colorSpace=SRGBColorSpace);break;case"SpecularColor":o.specularMap=s.getTexture(r,c.ID),o.specularMap!==void 0&&(o.specularMap.colorSpace=SRGBColorSpace);break;case"TransparentColor":case"TransparencyFactor":o.alphaMap=s.getTexture(r,c.ID),o.transparent=!0;break;case"AmbientColor":case"ShininessExponent":case"SpecularFactor":case"VectorDisplacementColor":default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",d);break}}),o}getTexture(e,r){return"LayeredTexture"in fbxTree.Objects&&r in fbxTree.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),r=connections.get(r).children[0].ID),e.get(r)}parseDeformers(){const e={},r={};if("Deformer"in fbxTree.Objects){const n=fbxTree.Objects.Deformer;for(const o in n){const s=n[o],c=connections.get(parseInt(o));if(s.attrType==="Skin"){const d=this.parseSkeleton(c,n);d.ID=o,c.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),d.geometryID=c.parents[0].ID,e[o]=d}else if(s.attrType==="BlendShape"){const d={id:o};d.rawTargets=this.parseMorphTargets(c,n),d.id=o,c.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),r[o]=d}}}return{skeletons:e,morphTargets:r}}parseSkeleton(e,r){const n=[];return e.children.forEach(function(o){const s=r[o.ID];if(s.attrType!=="Cluster")return;const c={ID:o.ID,indices:[],weights:[],transformLink:new Matrix4().fromArray(s.TransformLink.a)};"Indexes"in s&&(c.indices=s.Indexes.a,c.weights=s.Weights.a),n.push(c)}),{rawBones:n,bones:[]}}parseMorphTargets(e,r){const n=[];for(let o=0;o<e.children.length;o++){const s=e.children[o],c=r[s.ID],d={name:c.attrName,initialWeight:c.DeformPercent,id:c.id,fullWeights:c.FullWeights.a};if(c.attrType!=="BlendShapeChannel")return;d.geoID=connections.get(parseInt(s.ID)).children.filter(function(u){return u.relationship===void 0})[0].ID,n.push(d)}return n}parseScene(e,r,n){sceneGraph=new Group;const o=this.parseModels(e.skeletons,r,n),s=fbxTree.Objects.Model,c=this;o.forEach(function(u){const m=s[u.ID];c.setLookAtProperties(u,m),connections.get(u.ID).parents.forEach(function(_){const g=o.get(_.ID);g!==void 0&&g.add(u)}),u.parent===null&&sceneGraph.add(u)}),this.bindSkeleton(e.skeletons,r,o),this.createAmbientLight(),sceneGraph.traverse(function(u){if(u.userData.transformData){u.parent&&(u.userData.transformData.parentMatrix=u.parent.matrix,u.userData.transformData.parentMatrixWorld=u.parent.matrixWorld);const m=generateTransform(u.userData.transformData);u.applyMatrix4(m),u.updateWorldMatrix()}});const d=new AnimationParser().parse();sceneGraph.children.length===1&&sceneGraph.children[0].isGroup&&(sceneGraph.children[0].animations=d,sceneGraph=sceneGraph.children[0]),sceneGraph.animations=d}parseModels(e,r,n){const o=new Map,s=fbxTree.Objects.Model;for(const c in s){const d=parseInt(c),u=s[c],m=connections.get(d);let _=this.buildSkeleton(m,e,d,u.attrName);if(!_){switch(u.attrType){case"Camera":_=this.createCamera(m);break;case"Light":_=this.createLight(m);break;case"Mesh":_=this.createMesh(m,r,n);break;case"NurbsCurve":_=this.createCurve(m,r);break;case"LimbNode":case"Root":_=new Bone;break;case"Null":default:_=new Group;break}_.name=u.attrName?PropertyBinding.sanitizeNodeName(u.attrName):"",_.ID=d}this.getTransformData(_,u),o.set(d,_)}return o}buildSkeleton(e,r,n,o){let s=null;return e.parents.forEach(function(c){for(const d in r){const u=r[d];u.rawBones.forEach(function(m,_){if(m.ID===c.ID){const g=s;s=new Bone,s.matrixWorld.copy(m.transformLink),s.name=o?PropertyBinding.sanitizeNodeName(o):"",s.ID=n,u.bones[_]=s,g!==null&&s.add(g)}})}}),s}createCamera(e){let r,n;if(e.children.forEach(function(o){const s=fbxTree.Objects.NodeAttribute[o.ID];s!==void 0&&(n=s)}),n===void 0)r=new Object3D;else{let o=0;n.CameraProjectionType!==void 0&&n.CameraProjectionType.value===1&&(o=1);let s=1;n.NearPlane!==void 0&&(s=n.NearPlane.value/1e3);let c=1e3;n.FarPlane!==void 0&&(c=n.FarPlane.value/1e3);let d=window.innerWidth,u=window.innerHeight;n.AspectWidth!==void 0&&n.AspectHeight!==void 0&&(d=n.AspectWidth.value,u=n.AspectHeight.value);const m=d/u;let _=45;n.FieldOfView!==void 0&&(_=n.FieldOfView.value);const g=n.FocalLength?n.FocalLength.value:null;switch(o){case 0:r=new PerspectiveCamera(_,m,s,c),g!==null&&r.setFocalLength(g);break;case 1:r=new OrthographicCamera(-d/2,d/2,u/2,-u/2,s,c);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+o+"."),r=new Object3D;break}}return r}createLight(e){let r,n;if(e.children.forEach(function(o){const s=fbxTree.Objects.NodeAttribute[o.ID];s!==void 0&&(n=s)}),n===void 0)r=new Object3D;else{let o;n.LightType===void 0?o=0:o=n.LightType.value;let s=16777215;n.Color!==void 0&&(s=new Color().fromArray(n.Color.value).convertSRGBToLinear());let c=n.Intensity===void 0?1:n.Intensity.value/100;n.CastLightOnObject!==void 0&&n.CastLightOnObject.value===0&&(c=0);let d=0;n.FarAttenuationEnd!==void 0&&(n.EnableFarAttenuation!==void 0&&n.EnableFarAttenuation.value===0?d=0:d=n.FarAttenuationEnd.value);const u=1;switch(o){case 0:r=new PointLight(s,c,d,u);break;case 1:r=new DirectionalLight(s,c);break;case 2:let m=Math.PI/3;n.InnerAngle!==void 0&&(m=MathUtils.degToRad(n.InnerAngle.value));let _=0;n.OuterAngle!==void 0&&(_=MathUtils.degToRad(n.OuterAngle.value),_=Math.max(_,1)),r=new SpotLight(s,c,d,m,_,u);break;default:console.warn("THREE.FBXLoader: Unknown light type "+n.LightType.value+", defaulting to a PointLight."),r=new PointLight(s,c);break}n.CastShadows!==void 0&&n.CastShadows.value===1&&(r.castShadow=!0)}return r}createMesh(e,r,n){let o,s=null,c=null;const d=[];return e.children.forEach(function(u){r.has(u.ID)&&(s=r.get(u.ID)),n.has(u.ID)&&d.push(n.get(u.ID))}),d.length>1?c=d:d.length>0?c=d[0]:(c=new MeshPhongMaterial({color:13421772}),d.push(c)),"color"in s.attributes&&d.forEach(function(u){u.vertexColors=!0}),s.FBX_Deformer?(o=new SkinnedMesh(s,c),o.normalizeSkinWeights()):o=new Mesh(s,c),o}createCurve(e,r){const n=e.children.reduce(function(s,c){return r.has(c.ID)&&(s=r.get(c.ID)),s},null),o=new LineBasicMaterial({color:3342591,linewidth:1});return new Line(n,o)}getTransformData(e,r){const n={};"InheritType"in r&&(n.inheritType=parseInt(r.InheritType.value)),"RotationOrder"in r?n.eulerOrder=getEulerOrder(r.RotationOrder.value):n.eulerOrder="ZYX","Lcl_Translation"in r&&(n.translation=r.Lcl_Translation.value),"PreRotation"in r&&(n.preRotation=r.PreRotation.value),"Lcl_Rotation"in r&&(n.rotation=r.Lcl_Rotation.value),"PostRotation"in r&&(n.postRotation=r.PostRotation.value),"Lcl_Scaling"in r&&(n.scale=r.Lcl_Scaling.value),"ScalingOffset"in r&&(n.scalingOffset=r.ScalingOffset.value),"ScalingPivot"in r&&(n.scalingPivot=r.ScalingPivot.value),"RotationOffset"in r&&(n.rotationOffset=r.RotationOffset.value),"RotationPivot"in r&&(n.rotationPivot=r.RotationPivot.value),e.userData.transformData=n}setLookAtProperties(e,r){"LookAtProperty"in r&&connections.get(e.ID).children.forEach(function(n){if(n.relationship==="LookAtProperty"){const o=fbxTree.Objects.Model[n.ID];if("Lcl_Translation"in o){const s=o.Lcl_Translation.value;e.target!==void 0?(e.target.position.fromArray(s),sceneGraph.add(e.target)):e.lookAt(new Vector3().fromArray(s))}}})}bindSkeleton(e,r,n){const o=this.parsePoseNodes();for(const s in e){const c=e[s];connections.get(parseInt(c.ID)).parents.forEach(function(d){if(r.has(d.ID)){const u=d.ID;connections.get(u).parents.forEach(function(m){n.has(m.ID)&&n.get(m.ID).bind(new Skeleton(c.bones),o[m.ID])})}})}}parsePoseNodes(){const e={};if("Pose"in fbxTree.Objects){const r=fbxTree.Objects.Pose;for(const n in r)if(r[n].attrType==="BindPose"&&r[n].NbPoseNodes>0){const o=r[n].PoseNode;Array.isArray(o)?o.forEach(function(s){e[s.Node]=new Matrix4().fromArray(s.Matrix.a)}):e[o.Node]=new Matrix4().fromArray(o.Matrix.a)}}return e}createAmbientLight(){if("GlobalSettings"in fbxTree&&"AmbientColor"in fbxTree.GlobalSettings){const e=fbxTree.GlobalSettings.AmbientColor.value,r=e[0],n=e[1],o=e[2];if(r!==0||n!==0||o!==0){const s=new Color(r,n,o).convertSRGBToLinear();sceneGraph.add(new AmbientLight(s,1))}}}}class GeometryParser{constructor(){this.negativeMaterialIndices=!1}parse(e){const r=new Map;if("Geometry"in fbxTree.Objects){const n=fbxTree.Objects.Geometry;for(const o in n){const s=connections.get(parseInt(o)),c=this.parseGeometry(s,n[o],e);r.set(parseInt(o),c)}}return this.negativeMaterialIndices===!0&&console.warn("THREE.FBXLoader: The FBX file contains invalid (negative) material indices. The asset might not render as expected."),r}parseGeometry(e,r,n){switch(r.attrType){case"Mesh":return this.parseMeshGeometry(e,r,n);case"NurbsCurve":return this.parseNurbsGeometry(r)}}parseMeshGeometry(e,r,n){const o=n.skeletons,s=[],c=e.parents.map(function(g){return fbxTree.Objects.Model[g.ID]});if(c.length===0)return;const d=e.children.reduce(function(g,f){return o[f.ID]!==void 0&&(g=o[f.ID]),g},null);e.children.forEach(function(g){n.morphTargets[g.ID]!==void 0&&s.push(n.morphTargets[g.ID])});const u=c[0],m={};"RotationOrder"in u&&(m.eulerOrder=getEulerOrder(u.RotationOrder.value)),"InheritType"in u&&(m.inheritType=parseInt(u.InheritType.value)),"GeometricTranslation"in u&&(m.translation=u.GeometricTranslation.value),"GeometricRotation"in u&&(m.rotation=u.GeometricRotation.value),"GeometricScaling"in u&&(m.scale=u.GeometricScaling.value);const _=generateTransform(m);return this.genGeometry(r,d,s,_)}genGeometry(e,r,n,o){const s=new BufferGeometry;e.attrName&&(s.name=e.attrName);const c=this.parseGeoNode(e,r),d=this.genBuffers(c),u=new Float32BufferAttribute(d.vertex,3);if(u.applyMatrix4(o),s.setAttribute("position",u),d.colors.length>0&&s.setAttribute("color",new Float32BufferAttribute(d.colors,3)),r&&(s.setAttribute("skinIndex",new Uint16BufferAttribute(d.weightsIndices,4)),s.setAttribute("skinWeight",new Float32BufferAttribute(d.vertexWeights,4)),s.FBX_Deformer=r),d.normal.length>0){const m=new Matrix3().getNormalMatrix(o),_=new Float32BufferAttribute(d.normal,3);_.applyNormalMatrix(m),s.setAttribute("normal",_)}if(d.uvs.forEach(function(m,_){const g=_===0?"uv":`uv${_}`;s.setAttribute(g,new Float32BufferAttribute(d.uvs[_],2))}),c.material&&c.material.mappingType!=="AllSame"){let m=d.materialIndex[0],_=0;if(d.materialIndex.forEach(function(g,f){g!==m&&(s.addGroup(_,f-_,m),m=g,_=f)}),s.groups.length>0){const g=s.groups[s.groups.length-1],f=g.start+g.count;f!==d.materialIndex.length&&s.addGroup(f,d.materialIndex.length-f,m)}s.groups.length===0&&s.addGroup(0,d.materialIndex.length,d.materialIndex[0])}return this.addMorphTargets(s,e,n,o),s}parseGeoNode(e,r){const n={};if(n.vertexPositions=e.Vertices!==void 0?e.Vertices.a:[],n.vertexIndices=e.PolygonVertexIndex!==void 0?e.PolygonVertexIndex.a:[],e.LayerElementColor&&(n.color=this.parseVertexColors(e.LayerElementColor[0])),e.LayerElementMaterial&&(n.material=this.parseMaterialIndices(e.LayerElementMaterial[0])),e.LayerElementNormal&&(n.normal=this.parseNormals(e.LayerElementNormal[0])),e.LayerElementUV){n.uv=[];let o=0;for(;e.LayerElementUV[o];)e.LayerElementUV[o].UV&&n.uv.push(this.parseUVs(e.LayerElementUV[o])),o++}return n.weightTable={},r!==null&&(n.skeleton=r,r.rawBones.forEach(function(o,s){o.indices.forEach(function(c,d){n.weightTable[c]===void 0&&(n.weightTable[c]=[]),n.weightTable[c].push({id:s,weight:o.weights[d]})})})),n}genBuffers(e){const r={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]};let n=0,o=0,s=!1,c=[],d=[],u=[],m=[],_=[],g=[];const f=this;return e.vertexIndices.forEach(function(y,M){let T,A=!1;y<0&&(y=y^-1,A=!0);let E=[],C=[];if(c.push(y*3,y*3+1,y*3+2),e.color){const k=getData(M,n,y,e.color);u.push(k[0],k[1],k[2])}if(e.skeleton){if(e.weightTable[y]!==void 0&&e.weightTable[y].forEach(function(k){C.push(k.weight),E.push(k.id)}),C.length>4){s||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),s=!0);const k=[0,0,0,0],O=[0,0,0,0];C.forEach(function(I,B){let j=I,U=E[B];O.forEach(function(N,W,ne){if(j>N){ne[W]=j,j=N;const re=k[W];k[W]=U,U=re}})}),E=k,C=O}for(;C.length<4;)C.push(0),E.push(0);for(let k=0;k<4;++k)_.push(C[k]),g.push(E[k])}if(e.normal){const k=getData(M,n,y,e.normal);d.push(k[0],k[1],k[2])}e.material&&e.material.mappingType!=="AllSame"&&(T=getData(M,n,y,e.material)[0],T<0&&(f.negativeMaterialIndices=!0,T=0)),e.uv&&e.uv.forEach(function(k,O){const I=getData(M,n,y,k);m[O]===void 0&&(m[O]=[]),m[O].push(I[0]),m[O].push(I[1])}),o++,A&&(o>4&&console.warn("THREE.FBXLoader: Polygons with more than four sides are not supported. Make sure to triangulate the geometry during export."),f.genFace(r,e,c,T,d,u,m,_,g,o),n++,o=0,c=[],d=[],u=[],m=[],_=[],g=[])}),r}genFace(e,r,n,o,s,c,d,u,m,_){for(let g=2;g<_;g++)e.vertex.push(r.vertexPositions[n[0]]),e.vertex.push(r.vertexPositions[n[1]]),e.vertex.push(r.vertexPositions[n[2]]),e.vertex.push(r.vertexPositions[n[(g-1)*3]]),e.vertex.push(r.vertexPositions[n[(g-1)*3+1]]),e.vertex.push(r.vertexPositions[n[(g-1)*3+2]]),e.vertex.push(r.vertexPositions[n[g*3]]),e.vertex.push(r.vertexPositions[n[g*3+1]]),e.vertex.push(r.vertexPositions[n[g*3+2]]),r.skeleton&&(e.vertexWeights.push(u[0]),e.vertexWeights.push(u[1]),e.vertexWeights.push(u[2]),e.vertexWeights.push(u[3]),e.vertexWeights.push(u[(g-1)*4]),e.vertexWeights.push(u[(g-1)*4+1]),e.vertexWeights.push(u[(g-1)*4+2]),e.vertexWeights.push(u[(g-1)*4+3]),e.vertexWeights.push(u[g*4]),e.vertexWeights.push(u[g*4+1]),e.vertexWeights.push(u[g*4+2]),e.vertexWeights.push(u[g*4+3]),e.weightsIndices.push(m[0]),e.weightsIndices.push(m[1]),e.weightsIndices.push(m[2]),e.weightsIndices.push(m[3]),e.weightsIndices.push(m[(g-1)*4]),e.weightsIndices.push(m[(g-1)*4+1]),e.weightsIndices.push(m[(g-1)*4+2]),e.weightsIndices.push(m[(g-1)*4+3]),e.weightsIndices.push(m[g*4]),e.weightsIndices.push(m[g*4+1]),e.weightsIndices.push(m[g*4+2]),e.weightsIndices.push(m[g*4+3])),r.color&&(e.colors.push(c[0]),e.colors.push(c[1]),e.colors.push(c[2]),e.colors.push(c[(g-1)*3]),e.colors.push(c[(g-1)*3+1]),e.colors.push(c[(g-1)*3+2]),e.colors.push(c[g*3]),e.colors.push(c[g*3+1]),e.colors.push(c[g*3+2])),r.material&&r.material.mappingType!=="AllSame"&&(e.materialIndex.push(o),e.materialIndex.push(o),e.materialIndex.push(o)),r.normal&&(e.normal.push(s[0]),e.normal.push(s[1]),e.normal.push(s[2]),e.normal.push(s[(g-1)*3]),e.normal.push(s[(g-1)*3+1]),e.normal.push(s[(g-1)*3+2]),e.normal.push(s[g*3]),e.normal.push(s[g*3+1]),e.normal.push(s[g*3+2])),r.uv&&r.uv.forEach(function(f,y){e.uvs[y]===void 0&&(e.uvs[y]=[]),e.uvs[y].push(d[y][0]),e.uvs[y].push(d[y][1]),e.uvs[y].push(d[y][(g-1)*2]),e.uvs[y].push(d[y][(g-1)*2+1]),e.uvs[y].push(d[y][g*2]),e.uvs[y].push(d[y][g*2+1])})}addMorphTargets(e,r,n,o){if(n.length===0)return;e.morphTargetsRelative=!0,e.morphAttributes.position=[];const s=this;n.forEach(function(c){c.rawTargets.forEach(function(d){const u=fbxTree.Objects.Geometry[d.geoID];u!==void 0&&s.genMorphGeometry(e,r,u,o,d.name)})})}genMorphGeometry(e,r,n,o,s){const c=r.PolygonVertexIndex!==void 0?r.PolygonVertexIndex.a:[],d=n.Vertices!==void 0?n.Vertices.a:[],u=n.Indexes!==void 0?n.Indexes.a:[],m=e.attributes.position.count*3,_=new Float32Array(m);for(let M=0;M<u.length;M++){const T=u[M]*3;_[T]=d[M*3],_[T+1]=d[M*3+1],_[T+2]=d[M*3+2]}const g={vertexIndices:c,vertexPositions:_},f=this.genBuffers(g),y=new Float32BufferAttribute(f.vertex,3);y.name=s||n.attrName,y.applyMatrix4(o),e.morphAttributes.position.push(y)}parseNormals(e){const r=e.MappingInformationType,n=e.ReferenceInformationType,o=e.Normals.a;let s=[];return n==="IndexToDirect"&&("NormalIndex"in e?s=e.NormalIndex.a:"NormalsIndex"in e&&(s=e.NormalsIndex.a)),{dataSize:3,buffer:o,indices:s,mappingType:r,referenceType:n}}parseUVs(e){const r=e.MappingInformationType,n=e.ReferenceInformationType,o=e.UV.a;let s=[];return n==="IndexToDirect"&&(s=e.UVIndex.a),{dataSize:2,buffer:o,indices:s,mappingType:r,referenceType:n}}parseVertexColors(e){const r=e.MappingInformationType,n=e.ReferenceInformationType,o=e.Colors.a;let s=[];n==="IndexToDirect"&&(s=e.ColorIndex.a);for(let c=0,d=new Color;c<o.length;c+=4)d.fromArray(o,c).convertSRGBToLinear().toArray(o,c);return{dataSize:4,buffer:o,indices:s,mappingType:r,referenceType:n}}parseMaterialIndices(e){const r=e.MappingInformationType,n=e.ReferenceInformationType;if(r==="NoMappingInformation")return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:n};const o=e.Materials.a,s=[];for(let c=0;c<o.length;++c)s.push(c);return{dataSize:1,buffer:o,indices:s,mappingType:r,referenceType:n}}parseNurbsGeometry(e){const r=parseInt(e.Order);if(isNaN(r))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",e.Order,e.id),new BufferGeometry;const n=r-1,o=e.KnotVector.a,s=[],c=e.Points.a;for(let _=0,g=c.length;_<g;_+=4)s.push(new Vector4().fromArray(c,_));let d,u;if(e.Form==="Closed")s.push(s[0]);else if(e.Form==="Periodic"){d=n,u=o.length-1-d;for(let _=0;_<n;++_)s.push(s[_])}const m=new NURBSCurve(n,o,s,d,u).getPoints(s.length*12);return new BufferGeometry().setFromPoints(m)}}class AnimationParser{parse(){const e=[],r=this.parseClips();if(r!==void 0)for(const n in r){const o=r[n],s=this.addClip(o);e.push(s)}return e}parseClips(){if(fbxTree.Objects.AnimationCurve===void 0)return;const e=this.parseAnimationCurveNodes();this.parseAnimationCurves(e);const r=this.parseAnimationLayers(e);return this.parseAnimStacks(r)}parseAnimationCurveNodes(){const e=fbxTree.Objects.AnimationCurveNode,r=new Map;for(const n in e){const o=e[n];if(o.attrName.match(/S|R|T|DeformPercent/)!==null){const s={id:o.id,attr:o.attrName,curves:{}};r.set(s.id,s)}}return r}parseAnimationCurves(e){const r=fbxTree.Objects.AnimationCurve;for(const n in r){const o={id:r[n].id,times:r[n].KeyTime.a.map(convertFBXTimeToSeconds),values:r[n].KeyValueFloat.a},s=connections.get(o.id);if(s!==void 0){const c=s.parents[0].ID,d=s.parents[0].relationship;d.match(/X/)?e.get(c).curves.x=o:d.match(/Y/)?e.get(c).curves.y=o:d.match(/Z/)?e.get(c).curves.z=o:d.match(/DeformPercent/)&&e.has(c)&&(e.get(c).curves.morph=o)}}}parseAnimationLayers(e){const r=fbxTree.Objects.AnimationLayer,n=new Map;for(const o in r){const s=[],c=connections.get(parseInt(o));c!==void 0&&(c.children.forEach(function(d,u){if(e.has(d.ID)){const m=e.get(d.ID);if(m.curves.x!==void 0||m.curves.y!==void 0||m.curves.z!==void 0){if(s[u]===void 0){const _=connections.get(d.ID).parents.filter(function(g){return g.relationship!==void 0})[0].ID;if(_!==void 0){const g=fbxTree.Objects.Model[_.toString()];if(g===void 0){console.warn("THREE.FBXLoader: Encountered a unused curve.",d);return}const f={modelName:g.attrName?PropertyBinding.sanitizeNodeName(g.attrName):"",ID:g.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};sceneGraph.traverse(function(y){y.ID===g.id&&(f.transform=y.matrix,y.userData.transformData&&(f.eulerOrder=y.userData.transformData.eulerOrder))}),f.transform||(f.transform=new Matrix4),"PreRotation"in g&&(f.preRotation=g.PreRotation.value),"PostRotation"in g&&(f.postRotation=g.PostRotation.value),s[u]=f}}s[u]&&(s[u][m.attr]=m)}else if(m.curves.morph!==void 0){if(s[u]===void 0){const _=connections.get(d.ID).parents.filter(function(A){return A.relationship!==void 0})[0].ID,g=connections.get(_).parents[0].ID,f=connections.get(g).parents[0].ID,y=connections.get(f).parents[0].ID,M=fbxTree.Objects.Model[y],T={modelName:M.attrName?PropertyBinding.sanitizeNodeName(M.attrName):"",morphName:fbxTree.Objects.Deformer[_].attrName};s[u]=T}s[u][m.attr]=m}}}),n.set(parseInt(o),s))}return n}parseAnimStacks(e){const r=fbxTree.Objects.AnimationStack,n={};for(const o in r){const s=connections.get(parseInt(o)).children;s.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");const c=e.get(s[0].ID);n[o]={name:r[o].attrName,layer:c}}return n}addClip(e){let r=[];const n=this;return e.layer.forEach(function(o){r=r.concat(n.generateTracks(o))}),new AnimationClip(e.name,-1,r)}generateTracks(e){const r=[];let n=new Vector3,o=new Quaternion,s=new Vector3;if(e.transform&&e.transform.decompose(n,o,s),n=n.toArray(),o=new Euler().setFromQuaternion(o,e.eulerOrder).toArray(),s=s.toArray(),e.T!==void 0&&Object.keys(e.T.curves).length>0){const c=this.generateVectorTrack(e.modelName,e.T.curves,n,"position");c!==void 0&&r.push(c)}if(e.R!==void 0&&Object.keys(e.R.curves).length>0){const c=this.generateRotationTrack(e.modelName,e.R.curves,o,e.preRotation,e.postRotation,e.eulerOrder);c!==void 0&&r.push(c)}if(e.S!==void 0&&Object.keys(e.S.curves).length>0){const c=this.generateVectorTrack(e.modelName,e.S.curves,s,"scale");c!==void 0&&r.push(c)}if(e.DeformPercent!==void 0){const c=this.generateMorphTrack(e);c!==void 0&&r.push(c)}return r}generateVectorTrack(e,r,n,o){const s=this.getTimesForAllAxes(r),c=this.getKeyframeTrackValues(s,r,n);return new VectorKeyframeTrack(e+"."+o,s,c)}generateRotationTrack(e,r,n,o,s,c){r.x!==void 0&&(this.interpolateRotations(r.x),r.x.values=r.x.values.map(MathUtils.degToRad)),r.y!==void 0&&(this.interpolateRotations(r.y),r.y.values=r.y.values.map(MathUtils.degToRad)),r.z!==void 0&&(this.interpolateRotations(r.z),r.z.values=r.z.values.map(MathUtils.degToRad));const d=this.getTimesForAllAxes(r),u=this.getKeyframeTrackValues(d,r,n);o!==void 0&&(o=o.map(MathUtils.degToRad),o.push(c),o=new Euler().fromArray(o),o=new Quaternion().setFromEuler(o)),s!==void 0&&(s=s.map(MathUtils.degToRad),s.push(c),s=new Euler().fromArray(s),s=new Quaternion().setFromEuler(s).invert());const m=new Quaternion,_=new Euler,g=[];for(let f=0;f<u.length;f+=3)_.set(u[f],u[f+1],u[f+2],c),m.setFromEuler(_),o!==void 0&&m.premultiply(o),s!==void 0&&m.multiply(s),m.toArray(g,f/3*4);return new QuaternionKeyframeTrack(e+".quaternion",d,g)}generateMorphTrack(e){const r=e.DeformPercent.curves.morph,n=r.values.map(function(s){return s/100}),o=sceneGraph.getObjectByName(e.modelName).morphTargetDictionary[e.morphName];return new NumberKeyframeTrack(e.modelName+".morphTargetInfluences["+o+"]",r.times,n)}getTimesForAllAxes(e){let r=[];if(e.x!==void 0&&(r=r.concat(e.x.times)),e.y!==void 0&&(r=r.concat(e.y.times)),e.z!==void 0&&(r=r.concat(e.z.times)),r=r.sort(function(n,o){return n-o}),r.length>1){let n=1,o=r[0];for(let s=1;s<r.length;s++){const c=r[s];c!==o&&(r[n]=c,o=c,n++)}r=r.slice(0,n)}return r}getKeyframeTrackValues(e,r,n){const o=n,s=[];let c=-1,d=-1,u=-1;return e.forEach(function(m){if(r.x&&(c=r.x.times.indexOf(m)),r.y&&(d=r.y.times.indexOf(m)),r.z&&(u=r.z.times.indexOf(m)),c!==-1){const _=r.x.values[c];s.push(_),o[0]=_}else s.push(o[0]);if(d!==-1){const _=r.y.values[d];s.push(_),o[1]=_}else s.push(o[1]);if(u!==-1){const _=r.z.values[u];s.push(_),o[2]=_}else s.push(o[2])}),s}interpolateRotations(e){for(let r=1;r<e.values.length;r++){const n=e.values[r-1],o=e.values[r]-n,s=Math.abs(o);if(s>=180){const c=s/180,d=o/c;let u=n+d;const m=e.times[r-1],_=(e.times[r]-m)/c;let g=m+_;const f=[],y=[];for(;g<e.times[r];)f.push(g),g+=_,y.push(u),u+=d;e.times=inject(e.times,r,f),e.values=inject(e.values,r,y)}}}}class TextParser{getPrevNode(){return this.nodeStack[this.currentIndent-2]}getCurrentNode(){return this.nodeStack[this.currentIndent-1]}getCurrentProp(){return this.currentProp}pushStack(e){this.nodeStack.push(e),this.currentIndent+=1}popStack(){this.nodeStack.pop(),this.currentIndent-=1}setCurrentProp(e,r){this.currentProp=e,this.currentPropName=r}parse(e){this.currentIndent=0,this.allNodes=new FBXTree,this.nodeStack=[],this.currentProp=[],this.currentPropName="";const r=this,n=e.split(/[\r\n]+/);return n.forEach(function(o,s){const c=o.match(/^[\s\t]*;/),d=o.match(/^[\s\t]*$/);if(c||d)return;const u=o.match("^\\t{"+r.currentIndent+"}(\\w+):(.*){",""),m=o.match("^\\t{"+r.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),_=o.match("^\\t{"+(r.currentIndent-1)+"}}");u?r.parseNodeBegin(o,u):m?r.parseNodeProperty(o,m,n[++s]):_?r.popStack():o.match(/^[^\s\t}]/)&&r.parseNodePropertyContinued(o)}),this.allNodes}parseNodeBegin(e,r){const n=r[1].trim().replace(/^"/,"").replace(/"$/,""),o=r[2].split(",").map(function(u){return u.trim().replace(/^"/,"").replace(/"$/,"")}),s={name:n},c=this.parseNodeAttr(o),d=this.getCurrentNode();this.currentIndent===0?this.allNodes.add(n,s):n in d?(n==="PoseNode"?d.PoseNode.push(s):d[n].id!==void 0&&(d[n]={},d[n][d[n].id]=d[n]),c.id!==""&&(d[n][c.id]=s)):typeof c.id=="number"?(d[n]={},d[n][c.id]=s):n!=="Properties70"&&(n==="PoseNode"?d[n]=[s]:d[n]=s),typeof c.id=="number"&&(s.id=c.id),c.name!==""&&(s.attrName=c.name),c.type!==""&&(s.attrType=c.type),this.pushStack(s)}parseNodeAttr(e){let r=e[0];e[0]!==""&&(r=parseInt(e[0]),isNaN(r)&&(r=e[0]));let n="",o="";return e.length>1&&(n=e[1].replace(/^(\w+)::/,""),o=e[2]),{id:r,name:n,type:o}}parseNodeProperty(e,r,n){let o=r[1].replace(/^"/,"").replace(/"$/,"").trim(),s=r[2].replace(/^"/,"").replace(/"$/,"").trim();o==="Content"&&s===","&&(s=n.replace(/"/g,"").replace(/,$/,"").trim());const c=this.getCurrentNode();if(c.name==="Properties70"){this.parseNodeSpecialProperty(e,o,s);return}if(o==="C"){const d=s.split(",").slice(1),u=parseInt(d[0]),m=parseInt(d[1]);let _=s.split(",").slice(3);_=_.map(function(g){return g.trim().replace(/^"/,"")}),o="connections",s=[u,m],append(s,_),c[o]===void 0&&(c[o]=[])}o==="Node"&&(c.id=s),o in c&&Array.isArray(c[o])?c[o].push(s):o!=="a"?c[o]=s:c.a=s,this.setCurrentProp(c,o),o==="a"&&s.slice(-1)!==","&&(c.a=parseNumberArray(s))}parseNodePropertyContinued(e){const r=this.getCurrentNode();r.a+=e,e.slice(-1)!==","&&(r.a=parseNumberArray(r.a))}parseNodeSpecialProperty(e,r,n){const o=n.split('",').map(function(_){return _.trim().replace(/^\"/,"").replace(/\s/,"_")}),s=o[0],c=o[1],d=o[2],u=o[3];let m=o[4];switch(c){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":m=parseFloat(m);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":m=parseNumberArray(m);break}this.getPrevNode()[s]={type:c,type2:d,flag:u,value:m},this.setCurrentProp(this.getPrevNode(),s)}}class BinaryParser{parse(e){const r=new BinaryReader(e);r.skip(23);const n=r.getUint32();if(n<6400)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+n);const o=new FBXTree;for(;!this.endOfContent(r);){const s=this.parseNode(r,n);s!==null&&o.add(s.name,s)}return o}endOfContent(e){return e.size()%16===0?(e.getOffset()+160+16&-16)>=e.size():e.getOffset()+160+16>=e.size()}parseNode(e,r){const n={},o=r>=7500?e.getUint64():e.getUint32(),s=r>=7500?e.getUint64():e.getUint32();r>=7500?e.getUint64():e.getUint32();const c=e.getUint8(),d=e.getString(c);if(o===0)return null;const u=[];for(let f=0;f<s;f++)u.push(this.parseProperty(e));const m=u.length>0?u[0]:"",_=u.length>1?u[1]:"",g=u.length>2?u[2]:"";for(n.singleProperty=s===1&&e.getOffset()===o;o>e.getOffset();){const f=this.parseNode(e,r);f!==null&&this.parseSubNode(d,n,f)}return n.propertyList=u,typeof m=="number"&&(n.id=m),_!==""&&(n.attrName=_),g!==""&&(n.attrType=g),d!==""&&(n.name=d),n}parseSubNode(e,r,n){if(n.singleProperty===!0){const o=n.propertyList[0];Array.isArray(o)?(r[n.name]=n,n.a=o):r[n.name]=o}else if(e==="Connections"&&n.name==="C"){const o=[];n.propertyList.forEach(function(s,c){c!==0&&o.push(s)}),r.connections===void 0&&(r.connections=[]),r.connections.push(o)}else if(n.name==="Properties70")Object.keys(n).forEach(function(o){r[o]=n[o]});else if(e==="Properties70"&&n.name==="P"){let o=n.propertyList[0],s=n.propertyList[1];const c=n.propertyList[2],d=n.propertyList[3];let u;o.indexOf("Lcl ")===0&&(o=o.replace("Lcl ","Lcl_")),s.indexOf("Lcl ")===0&&(s=s.replace("Lcl ","Lcl_")),s==="Color"||s==="ColorRGB"||s==="Vector"||s==="Vector3D"||s.indexOf("Lcl_")===0?u=[n.propertyList[4],n.propertyList[5],n.propertyList[6]]:u=n.propertyList[4],r[o]={type:s,type2:c,flag:d,value:u}}else r[n.name]===void 0?typeof n.id=="number"?(r[n.name]={},r[n.name][n.id]=n):r[n.name]=n:n.name==="PoseNode"?(Array.isArray(r[n.name])||(r[n.name]=[r[n.name]]),r[n.name].push(n)):r[n.name][n.id]===void 0&&(r[n.name][n.id]=n)}parseProperty(e){const r=e.getString(1);let n;switch(r){case"C":return e.getBoolean();case"D":return e.getFloat64();case"F":return e.getFloat32();case"I":return e.getInt32();case"L":return e.getInt64();case"R":return n=e.getUint32(),e.getArrayBuffer(n);case"S":return n=e.getUint32(),e.getString(n);case"Y":return e.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":const o=e.getUint32(),s=e.getUint32(),c=e.getUint32();if(s===0)switch(r){case"b":case"c":return e.getBooleanArray(o);case"d":return e.getFloat64Array(o);case"f":return e.getFloat32Array(o);case"i":return e.getInt32Array(o);case"l":return e.getInt64Array(o)}const d=unzlibSync(new Uint8Array(e.getArrayBuffer(c))),u=new BinaryReader(d.buffer);switch(r){case"b":case"c":return u.getBooleanArray(o);case"d":return u.getFloat64Array(o);case"f":return u.getFloat32Array(o);case"i":return u.getInt32Array(o);case"l":return u.getInt64Array(o)}break;default:throw new Error("THREE.FBXLoader: Unknown property type "+r)}}}class BinaryReader{constructor(e,r){this.dv=new DataView(e),this.offset=0,this.littleEndian=r!==void 0?r:!0,this._textDecoder=new TextDecoder}getOffset(){return this.offset}size(){return this.dv.buffer.byteLength}skip(e){this.offset+=e}getBoolean(){return(this.getUint8()&1)===1}getBooleanArray(e){const r=[];for(let n=0;n<e;n++)r.push(this.getBoolean());return r}getUint8(){const e=this.dv.getUint8(this.offset);return this.offset+=1,e}getInt16(){const e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}getInt32(){const e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}getInt32Array(e){const r=[];for(let n=0;n<e;n++)r.push(this.getInt32());return r}getUint32(){const e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}getInt64(){let e,r;return this.littleEndian?(e=this.getUint32(),r=this.getUint32()):(r=this.getUint32(),e=this.getUint32()),r&2147483648?(r=~r&4294967295,e=~e&4294967295,e===4294967295&&(r=r+1&4294967295),e=e+1&4294967295,-(r*4294967296+e)):r*4294967296+e}getInt64Array(e){const r=[];for(let n=0;n<e;n++)r.push(this.getInt64());return r}getUint64(){let e,r;return this.littleEndian?(e=this.getUint32(),r=this.getUint32()):(r=this.getUint32(),e=this.getUint32()),r*4294967296+e}getFloat32(){const e=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}getFloat32Array(e){const r=[];for(let n=0;n<e;n++)r.push(this.getFloat32());return r}getFloat64(){const e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}getFloat64Array(e){const r=[];for(let n=0;n<e;n++)r.push(this.getFloat64());return r}getArrayBuffer(e){const r=this.dv.buffer.slice(this.offset,this.offset+e);return this.offset+=e,r}getString(e){const r=this.offset;let n=new Uint8Array(this.dv.buffer,r,e);this.skip(e);const o=n.indexOf(0);return o>=0&&(n=new Uint8Array(this.dv.buffer,r,o)),this._textDecoder.decode(n)}}class FBXTree{add(e,r){this[e]=r}}function isFbxFormatBinary(t){const e="Kaydara FBX Binary  \0";return t.byteLength>=e.length&&e===convertArrayBufferToString(t,0,e.length)}function isFbxFormatASCII(t){const e=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"];let r=0;function n(o){const s=t[o-1];return t=t.slice(r+o),r++,s}for(let o=0;o<e.length;++o)if(n(1)===e[o])return!1;return!0}function getFbxVersion(t){const e=/FBXVersion: (\d+)/,r=t.match(e);if(r)return parseInt(r[1]);throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function convertFBXTimeToSeconds(t){return t/46186158e3}const dataArray=[];function getData(t,e,r,n){let o;switch(n.mappingType){case"ByPolygonVertex":o=t;break;case"ByPolygon":o=e;break;case"ByVertice":o=r;break;case"AllSame":o=n.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+n.mappingType)}n.referenceType==="IndexToDirect"&&(o=n.indices[o]);const s=o*n.dataSize,c=s+n.dataSize;return slice(dataArray,n.buffer,s,c)}const tempEuler=new Euler,tempVec=new Vector3;function generateTransform(t){const e=new Matrix4,r=new Matrix4,n=new Matrix4,o=new Matrix4,s=new Matrix4,c=new Matrix4,d=new Matrix4,u=new Matrix4,m=new Matrix4,_=new Matrix4,g=new Matrix4,f=new Matrix4,y=t.inheritType?t.inheritType:0;if(t.translation&&e.setPosition(tempVec.fromArray(t.translation)),t.preRotation){const W=t.preRotation.map(MathUtils.degToRad);W.push(t.eulerOrder||Euler.DEFAULT_ORDER),r.makeRotationFromEuler(tempEuler.fromArray(W))}if(t.rotation){const W=t.rotation.map(MathUtils.degToRad);W.push(t.eulerOrder||Euler.DEFAULT_ORDER),n.makeRotationFromEuler(tempEuler.fromArray(W))}if(t.postRotation){const W=t.postRotation.map(MathUtils.degToRad);W.push(t.eulerOrder||Euler.DEFAULT_ORDER),o.makeRotationFromEuler(tempEuler.fromArray(W)),o.invert()}t.scale&&s.scale(tempVec.fromArray(t.scale)),t.scalingOffset&&d.setPosition(tempVec.fromArray(t.scalingOffset)),t.scalingPivot&&c.setPosition(tempVec.fromArray(t.scalingPivot)),t.rotationOffset&&u.setPosition(tempVec.fromArray(t.rotationOffset)),t.rotationPivot&&m.setPosition(tempVec.fromArray(t.rotationPivot)),t.parentMatrixWorld&&(g.copy(t.parentMatrix),_.copy(t.parentMatrixWorld));const M=r.clone().multiply(n).multiply(o),T=new Matrix4;T.extractRotation(_);const A=new Matrix4;A.copyPosition(_);const E=A.clone().invert().multiply(_),C=T.clone().invert().multiply(E),k=s,O=new Matrix4;if(y===0)O.copy(T).multiply(M).multiply(C).multiply(k);else if(y===1)O.copy(T).multiply(C).multiply(M).multiply(k);else{const W=new Matrix4().scale(new Vector3().setFromMatrixScale(g)).clone().invert(),ne=C.clone().multiply(W);O.copy(T).multiply(M).multiply(ne).multiply(k)}const I=m.clone().invert(),B=c.clone().invert();let j=e.clone().multiply(u).multiply(m).multiply(r).multiply(n).multiply(o).multiply(I).multiply(d).multiply(c).multiply(s).multiply(B);const U=new Matrix4().copyPosition(j),N=_.clone().multiply(U);return f.copyPosition(N),j=f.clone().multiply(O),j.premultiply(_.invert()),j}function getEulerOrder(t){t=t||0;const e=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return t===6?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),e[0]):e[t]}function parseNumberArray(t){return t.split(",").map(function(e){return parseFloat(e)})}function convertArrayBufferToString(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=t.byteLength),new TextDecoder().decode(new Uint8Array(t,e,r))}function append(t,e){for(let r=0,n=t.length,o=e.length;r<o;r++,n++)t[n]=e[r]}function slice(t,e,r,n){for(let o=r,s=0;o<n;o++,s++)t[s]=e[o];return t}function inject(t,e,r){return t.slice(0,e).concat(r).concat(t.slice(e))}class FontLoader extends Loader$2{constructor(e){super(e)}load(e,r,n,o){const s=this,c=new FileLoader(this.manager);c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(d){const u=s.parse(JSON.parse(d));r&&r(u)},n,o)}parse(e){return new Font(e)}}class Font{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,r=100){const n=[],o=createPaths(e,r,this.data);for(let s=0,c=o.length;s<c;s++)n.push(...o[s].toShapes());return n}}function createPaths(t,e,r){const n=Array.from(t),o=e/r.resolution,s=(r.boundingBox.yMax-r.boundingBox.yMin+r.underlineThickness)*o,c=[];let d=0,u=0;for(let m=0;m<n.length;m++){const _=n[m];if(_===`
`)d=0,u-=s;else{const g=createPath(_,o,d,u,r);d+=g.offsetX,c.push(g.path)}}return c}function createPath(t,e,r,n,o){const s=o.glyphs[t]||o.glyphs["?"];if(!s){console.error('THREE.Font: character "'+t+'" does not exists in font family '+o.familyName+".");return}const c=new ShapePath;let d,u,m,_,g,f,y,M;if(s.o){const T=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let A=0,E=T.length;A<E;)switch(T[A++]){case"m":d=T[A++]*e+r,u=T[A++]*e+n,c.moveTo(d,u);break;case"l":d=T[A++]*e+r,u=T[A++]*e+n,c.lineTo(d,u);break;case"q":m=T[A++]*e+r,_=T[A++]*e+n,g=T[A++]*e+r,f=T[A++]*e+n,c.quadraticCurveTo(g,f,m,_);break;case"b":m=T[A++]*e+r,_=T[A++]*e+n,g=T[A++]*e+r,f=T[A++]*e+n,y=T[A++]*e+r,M=T[A++]*e+n,c.bezierCurveTo(g,f,y,M,m,_);break}}return{offsetX:s.ha*e,path:c}}const COLOR_SPACE_SVG=SRGBColorSpace;class SVGLoader extends Loader$2{constructor(e){super(e),this.defaultDPI=90,this.defaultUnit="px"}load(e,r,n,o){const s=this,c=new FileLoader(s.manager);c.setPath(s.path),c.setRequestHeader(s.requestHeader),c.setWithCredentials(s.withCredentials),c.load(e,function(d){try{r(s.parse(d))}catch(u){o?o(u):console.error(u),s.manager.itemError(e)}},n,o)}parse(e){const r=this;function n(ee,Z){if(ee.nodeType!==1)return;const te=O(ee);let de=!1,Y=null;switch(ee.nodeName){case"svg":Z=M(ee,Z);break;case"style":s(ee);break;case"g":Z=M(ee,Z);break;case"path":Z=M(ee,Z),ee.hasAttribute("d")&&(Y=o(ee));break;case"rect":Z=M(ee,Z),Y=u(ee);break;case"polygon":Z=M(ee,Z),Y=m(ee);break;case"polyline":Z=M(ee,Z),Y=_(ee);break;case"circle":Z=M(ee,Z),Y=g(ee);break;case"ellipse":Z=M(ee,Z),Y=f(ee);break;case"line":Z=M(ee,Z),Y=y(ee);break;case"defs":de=!0;break;case"use":Z=M(ee,Z);const Te=(ee.getAttributeNS("http://www.w3.org/1999/xlink","href")||"").substring(1),Me=ee.viewportElement.getElementById(Te);Me?n(Me,Z):console.warn("SVGLoader: 'use node' references non-existent node id: "+Te);break}Y&&(Z.fill!==void 0&&Z.fill!=="none"&&Y.color.setStyle(Z.fill,COLOR_SPACE_SVG),B(Y,ie),re.push(Y),Y.userData={node:ee,style:Z});const we=ee.childNodes;for(let Te=0;Te<we.length;Te++){const Me=we[Te];de&&Me.nodeName!=="style"&&Me.nodeName!=="defs"||n(Me,Z)}te&&(ae.pop(),ae.length>0?ie.copy(ae[ae.length-1]):ie.identity())}function o(ee){const Z=new ShapePath,te=new Vector2,de=new Vector2,Y=new Vector2;let we=!0,Te=!1;const Me=ee.getAttribute("d");if(Me===""||Me==="none")return null;const Ae=Me.match(/[a-df-z][^a-df-z]*/ig);for(let ue=0,X=Ae.length;ue<X;ue++){const $=Ae[ue],ge=$.charAt(0),ve=$.slice(1).trim();we===!0&&(Te=!0,we=!1);let me;switch(ge){case"M":me=A(ve);for(let ce=0,Se=me.length;ce<Se;ce+=2)te.x=me[ce+0],te.y=me[ce+1],de.x=te.x,de.y=te.y,ce===0?Z.moveTo(te.x,te.y):Z.lineTo(te.x,te.y),ce===0&&Y.copy(te);break;case"H":me=A(ve);for(let ce=0,Se=me.length;ce<Se;ce++)te.x=me[ce],de.x=te.x,de.y=te.y,Z.lineTo(te.x,te.y),ce===0&&Te===!0&&Y.copy(te);break;case"V":me=A(ve);for(let ce=0,Se=me.length;ce<Se;ce++)te.y=me[ce],de.x=te.x,de.y=te.y,Z.lineTo(te.x,te.y),ce===0&&Te===!0&&Y.copy(te);break;case"L":me=A(ve);for(let ce=0,Se=me.length;ce<Se;ce+=2)te.x=me[ce+0],te.y=me[ce+1],de.x=te.x,de.y=te.y,Z.lineTo(te.x,te.y),ce===0&&Te===!0&&Y.copy(te);break;case"C":me=A(ve);for(let ce=0,Se=me.length;ce<Se;ce+=6)Z.bezierCurveTo(me[ce+0],me[ce+1],me[ce+2],me[ce+3],me[ce+4],me[ce+5]),de.x=me[ce+2],de.y=me[ce+3],te.x=me[ce+4],te.y=me[ce+5],ce===0&&Te===!0&&Y.copy(te);break;case"S":me=A(ve);for(let ce=0,Se=me.length;ce<Se;ce+=4)Z.bezierCurveTo(T(te.x,de.x),T(te.y,de.y),me[ce+0],me[ce+1],me[ce+2],me[ce+3]),de.x=me[ce+0],de.y=me[ce+1],te.x=me[ce+2],te.y=me[ce+3],ce===0&&Te===!0&&Y.copy(te);break;case"Q":me=A(ve);for(let ce=0,Se=me.length;ce<Se;ce+=4)Z.quadraticCurveTo(me[ce+0],me[ce+1],me[ce+2],me[ce+3]),de.x=me[ce+0],de.y=me[ce+1],te.x=me[ce+2],te.y=me[ce+3],ce===0&&Te===!0&&Y.copy(te);break;case"T":me=A(ve);for(let ce=0,Se=me.length;ce<Se;ce+=2){const ye=T(te.x,de.x),be=T(te.y,de.y);Z.quadraticCurveTo(ye,be,me[ce+0],me[ce+1]),de.x=ye,de.y=be,te.x=me[ce+0],te.y=me[ce+1],ce===0&&Te===!0&&Y.copy(te)}break;case"A":me=A(ve,[3,4],7);for(let ce=0,Se=me.length;ce<Se;ce+=7){if(me[ce+5]==te.x&&me[ce+6]==te.y)continue;const ye=te.clone();te.x=me[ce+5],te.y=me[ce+6],de.x=te.x,de.y=te.y,c(Z,me[ce],me[ce+1],me[ce+2],me[ce+3],me[ce+4],ye,te),ce===0&&Te===!0&&Y.copy(te)}break;case"m":me=A(ve);for(let ce=0,Se=me.length;ce<Se;ce+=2)te.x+=me[ce+0],te.y+=me[ce+1],de.x=te.x,de.y=te.y,ce===0?Z.moveTo(te.x,te.y):Z.lineTo(te.x,te.y),ce===0&&Y.copy(te);break;case"h":me=A(ve);for(let ce=0,Se=me.length;ce<Se;ce++)te.x+=me[ce],de.x=te.x,de.y=te.y,Z.lineTo(te.x,te.y),ce===0&&Te===!0&&Y.copy(te);break;case"v":me=A(ve);for(let ce=0,Se=me.length;ce<Se;ce++)te.y+=me[ce],de.x=te.x,de.y=te.y,Z.lineTo(te.x,te.y),ce===0&&Te===!0&&Y.copy(te);break;case"l":me=A(ve);for(let ce=0,Se=me.length;ce<Se;ce+=2)te.x+=me[ce+0],te.y+=me[ce+1],de.x=te.x,de.y=te.y,Z.lineTo(te.x,te.y),ce===0&&Te===!0&&Y.copy(te);break;case"c":me=A(ve);for(let ce=0,Se=me.length;ce<Se;ce+=6)Z.bezierCurveTo(te.x+me[ce+0],te.y+me[ce+1],te.x+me[ce+2],te.y+me[ce+3],te.x+me[ce+4],te.y+me[ce+5]),de.x=te.x+me[ce+2],de.y=te.y+me[ce+3],te.x+=me[ce+4],te.y+=me[ce+5],ce===0&&Te===!0&&Y.copy(te);break;case"s":me=A(ve);for(let ce=0,Se=me.length;ce<Se;ce+=4)Z.bezierCurveTo(T(te.x,de.x),T(te.y,de.y),te.x+me[ce+0],te.y+me[ce+1],te.x+me[ce+2],te.y+me[ce+3]),de.x=te.x+me[ce+0],de.y=te.y+me[ce+1],te.x+=me[ce+2],te.y+=me[ce+3],ce===0&&Te===!0&&Y.copy(te);break;case"q":me=A(ve);for(let ce=0,Se=me.length;ce<Se;ce+=4)Z.quadraticCurveTo(te.x+me[ce+0],te.y+me[ce+1],te.x+me[ce+2],te.y+me[ce+3]),de.x=te.x+me[ce+0],de.y=te.y+me[ce+1],te.x+=me[ce+2],te.y+=me[ce+3],ce===0&&Te===!0&&Y.copy(te);break;case"t":me=A(ve);for(let ce=0,Se=me.length;ce<Se;ce+=2){const ye=T(te.x,de.x),be=T(te.y,de.y);Z.quadraticCurveTo(ye,be,te.x+me[ce+0],te.y+me[ce+1]),de.x=ye,de.y=be,te.x=te.x+me[ce+0],te.y=te.y+me[ce+1],ce===0&&Te===!0&&Y.copy(te)}break;case"a":me=A(ve,[3,4],7);for(let ce=0,Se=me.length;ce<Se;ce+=7){if(me[ce+5]==0&&me[ce+6]==0)continue;const ye=te.clone();te.x+=me[ce+5],te.y+=me[ce+6],de.x=te.x,de.y=te.y,c(Z,me[ce],me[ce+1],me[ce+2],me[ce+3],me[ce+4],ye,te),ce===0&&Te===!0&&Y.copy(te)}break;case"Z":case"z":Z.currentPath.autoClose=!0,Z.currentPath.curves.length>0&&(te.copy(Y),Z.currentPath.currentPoint.copy(te),we=!0);break;default:console.warn($)}Te=!1}return Z}function s(ee){if(!(!ee.sheet||!ee.sheet.cssRules||!ee.sheet.cssRules.length))for(let Z=0;Z<ee.sheet.cssRules.length;Z++){const te=ee.sheet.cssRules[Z];if(te.type!==1)continue;const de=te.selectorText.split(/,/gm).filter(Boolean).map(Y=>Y.trim());for(let Y=0;Y<de.length;Y++){const we=Object.fromEntries(Object.entries(te.style).filter(([,Te])=>Te!==""));le[de[Y]]=Object.assign(le[de[Y]]||{},we)}}}function c(ee,Z,te,de,Y,we,Te,Me){if(Z==0||te==0){ee.lineTo(Me.x,Me.y);return}de=de*Math.PI/180,Z=Math.abs(Z),te=Math.abs(te);const Ae=(Te.x-Me.x)/2,ue=(Te.y-Me.y)/2,X=Math.cos(de)*Ae+Math.sin(de)*ue,$=-Math.sin(de)*Ae+Math.cos(de)*ue;let ge=Z*Z,ve=te*te;const me=X*X,ce=$*$,Se=me/ge+ce/ve;if(Se>1){const je=Math.sqrt(Se);Z=je*Z,te=je*te,ge=Z*Z,ve=te*te}const ye=ge*ce+ve*me,be=(ge*ve-ye)/ye;let he=Math.sqrt(Math.max(0,be));Y===we&&(he=-he);const se=he*Z*$/te,Ee=-he*te*X/Z,Oe=Math.cos(de)*se-Math.sin(de)*Ee+(Te.x+Me.x)/2,Fe=Math.sin(de)*se+Math.cos(de)*Ee+(Te.y+Me.y)/2,Ne=d(1,0,(X-se)/Z,($-Ee)/te),Ue=d((X-se)/Z,($-Ee)/te,(-X-se)/Z,(-$-Ee)/te)%(Math.PI*2);ee.currentPath.absellipse(Oe,Fe,Z,te,Ne,Ne+Ue,we===0,de)}function d(ee,Z,te,de){const Y=ee*te+Z*de,we=Math.sqrt(ee*ee+Z*Z)*Math.sqrt(te*te+de*de);let Te=Math.acos(Math.max(-1,Math.min(1,Y/we)));return ee*de-Z*te<0&&(Te=-Te),Te}function u(ee){const Z=k(ee.getAttribute("x")||0),te=k(ee.getAttribute("y")||0),de=k(ee.getAttribute("rx")||ee.getAttribute("ry")||0),Y=k(ee.getAttribute("ry")||ee.getAttribute("rx")||0),we=k(ee.getAttribute("width")),Te=k(ee.getAttribute("height")),Me=1-.551915024494,Ae=new ShapePath;return Ae.moveTo(Z+de,te),Ae.lineTo(Z+we-de,te),(de!==0||Y!==0)&&Ae.bezierCurveTo(Z+we-de*Me,te,Z+we,te+Y*Me,Z+we,te+Y),Ae.lineTo(Z+we,te+Te-Y),(de!==0||Y!==0)&&Ae.bezierCurveTo(Z+we,te+Te-Y*Me,Z+we-de*Me,te+Te,Z+we-de,te+Te),Ae.lineTo(Z+de,te+Te),(de!==0||Y!==0)&&Ae.bezierCurveTo(Z+de*Me,te+Te,Z,te+Te-Y*Me,Z,te+Te-Y),Ae.lineTo(Z,te+Y),(de!==0||Y!==0)&&Ae.bezierCurveTo(Z,te+Y*Me,Z+de*Me,te,Z+de,te),Ae}function m(ee){function Z(we,Te,Me){const Ae=k(Te),ue=k(Me);Y===0?de.moveTo(Ae,ue):de.lineTo(Ae,ue),Y++}const te=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,de=new ShapePath;let Y=0;return ee.getAttribute("points").replace(te,Z),de.currentPath.autoClose=!0,de}function _(ee){function Z(we,Te,Me){const Ae=k(Te),ue=k(Me);Y===0?de.moveTo(Ae,ue):de.lineTo(Ae,ue),Y++}const te=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,de=new ShapePath;let Y=0;return ee.getAttribute("points").replace(te,Z),de.currentPath.autoClose=!1,de}function g(ee){const Z=k(ee.getAttribute("cx")||0),te=k(ee.getAttribute("cy")||0),de=k(ee.getAttribute("r")||0),Y=new Path;Y.absarc(Z,te,de,0,Math.PI*2);const we=new ShapePath;return we.subPaths.push(Y),we}function f(ee){const Z=k(ee.getAttribute("cx")||0),te=k(ee.getAttribute("cy")||0),de=k(ee.getAttribute("rx")||0),Y=k(ee.getAttribute("ry")||0),we=new Path;we.absellipse(Z,te,de,Y,0,Math.PI*2);const Te=new ShapePath;return Te.subPaths.push(we),Te}function y(ee){const Z=k(ee.getAttribute("x1")||0),te=k(ee.getAttribute("y1")||0),de=k(ee.getAttribute("x2")||0),Y=k(ee.getAttribute("y2")||0),we=new ShapePath;return we.moveTo(Z,te),we.lineTo(de,Y),we.currentPath.autoClose=!1,we}function M(ee,Z){Z=Object.assign({},Z);let te={};if(ee.hasAttribute("class")){const Te=ee.getAttribute("class").split(/\s/).filter(Boolean).map(Me=>Me.trim());for(let Me=0;Me<Te.length;Me++)te=Object.assign(te,le["."+Te[Me]])}ee.hasAttribute("id")&&(te=Object.assign(te,le["#"+ee.getAttribute("id")]));function de(Te,Me,Ae){Ae===void 0&&(Ae=function(ue){return ue.startsWith("url")&&console.warn("SVGLoader: url access in attributes is not implemented."),ue}),ee.hasAttribute(Te)&&(Z[Me]=Ae(ee.getAttribute(Te))),te[Te]&&(Z[Me]=Ae(te[Te])),ee.style&&ee.style[Te]!==""&&(Z[Me]=Ae(ee.style[Te]))}function Y(Te){return Math.max(0,Math.min(1,k(Te)))}function we(Te){return Math.max(0,k(Te))}return de("fill","fill"),de("fill-opacity","fillOpacity",Y),de("fill-rule","fillRule"),de("opacity","opacity",Y),de("stroke","stroke"),de("stroke-opacity","strokeOpacity",Y),de("stroke-width","strokeWidth",we),de("stroke-linejoin","strokeLineJoin"),de("stroke-linecap","strokeLineCap"),de("stroke-miterlimit","strokeMiterLimit",we),de("visibility","visibility"),Z}function T(ee,Z){return ee-(Z-ee)}function A(ee,Z,te){if(typeof ee!="string")throw new TypeError("Invalid input: "+typeof ee);const de={SEPARATOR:/[ \t\r\n\,.\-+]/,WHITESPACE:/[ \t\r\n]/,DIGIT:/[\d]/,SIGN:/[-+]/,POINT:/\./,COMMA:/,/,EXP:/e/i,FLAGS:/[01]/},Y=0,we=1,Te=2,Me=3;let Ae=Y,ue=!0,X="",$="";const ge=[];function ve(ye,be,he){const se=new SyntaxError('Unexpected character "'+ye+'" at index '+be+".");throw se.partial=he,se}function me(){X!==""&&($===""?ge.push(Number(X)):ge.push(Number(X)*Math.pow(10,Number($)))),X="",$=""}let ce;const Se=ee.length;for(let ye=0;ye<Se;ye++){if(ce=ee[ye],Array.isArray(Z)&&Z.includes(ge.length%te)&&de.FLAGS.test(ce)){Ae=we,X=ce,me();continue}if(Ae===Y){if(de.WHITESPACE.test(ce))continue;if(de.DIGIT.test(ce)||de.SIGN.test(ce)){Ae=we,X=ce;continue}if(de.POINT.test(ce)){Ae=Te,X=ce;continue}de.COMMA.test(ce)&&(ue&&ve(ce,ye,ge),ue=!0)}if(Ae===we){if(de.DIGIT.test(ce)){X+=ce;continue}if(de.POINT.test(ce)){X+=ce,Ae=Te;continue}if(de.EXP.test(ce)){Ae=Me;continue}de.SIGN.test(ce)&&X.length===1&&de.SIGN.test(X[0])&&ve(ce,ye,ge)}if(Ae===Te){if(de.DIGIT.test(ce)){X+=ce;continue}if(de.EXP.test(ce)){Ae=Me;continue}de.POINT.test(ce)&&X[X.length-1]==="."&&ve(ce,ye,ge)}if(Ae===Me){if(de.DIGIT.test(ce)){$+=ce;continue}if(de.SIGN.test(ce)){if($===""){$+=ce;continue}$.length===1&&de.SIGN.test($)&&ve(ce,ye,ge)}}de.WHITESPACE.test(ce)?(me(),Ae=Y,ue=!1):de.COMMA.test(ce)?(me(),Ae=Y,ue=!0):de.SIGN.test(ce)?(me(),Ae=we,X=ce):de.POINT.test(ce)?(me(),Ae=Te,X=ce):ve(ce,ye,ge)}return me(),ge}const E=["mm","cm","in","pt","pc","px"],C={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:72/6,pc:1,px:-1},px:{px:1}};function k(ee){let Z="px";if(typeof ee=="string"||ee instanceof String)for(let de=0,Y=E.length;de<Y;de++){const we=E[de];if(ee.endsWith(we)){Z=we,ee=ee.substring(0,ee.length-we.length);break}}let te;return Z==="px"&&r.defaultUnit!=="px"?te=C.in[r.defaultUnit]/r.defaultDPI:(te=C[Z][r.defaultUnit],te<0&&(te=C[Z].in*r.defaultDPI)),te*parseFloat(ee)}function O(ee){if(!(ee.hasAttribute("transform")||ee.nodeName==="use"&&(ee.hasAttribute("x")||ee.hasAttribute("y"))))return null;const Z=I(ee);return ae.length>0&&Z.premultiply(ae[ae.length-1]),ie.copy(Z),ae.push(Z),Z}function I(ee){const Z=new Matrix3,te=pe;if(ee.nodeName==="use"&&(ee.hasAttribute("x")||ee.hasAttribute("y"))){const de=k(ee.getAttribute("x")),Y=k(ee.getAttribute("y"));Z.translate(de,Y)}if(ee.hasAttribute("transform")){const de=ee.getAttribute("transform").split(")");for(let Y=de.length-1;Y>=0;Y--){const we=de[Y].trim();if(we==="")continue;const Te=we.indexOf("("),Me=we.length;if(Te>0&&Te<Me){const Ae=we.slice(0,Te),ue=A(we.slice(Te+1));switch(te.identity(),Ae){case"translate":if(ue.length>=1){const X=ue[0];let $=0;ue.length>=2&&($=ue[1]),te.translate(X,$)}break;case"rotate":if(ue.length>=1){let X=0,$=0,ge=0;X=ue[0]*Math.PI/180,ue.length>=3&&($=ue[1],ge=ue[2]),K.makeTranslation(-$,-ge),q.makeRotation(X),D.multiplyMatrices(q,K),K.makeTranslation($,ge),te.multiplyMatrices(K,D)}break;case"scale":if(ue.length>=1){const X=ue[0];let $=X;ue.length>=2&&($=ue[1]),te.scale(X,$)}break;case"skewX":ue.length===1&&te.set(1,Math.tan(ue[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":ue.length===1&&te.set(1,0,0,Math.tan(ue[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":ue.length===6&&te.set(ue[0],ue[2],ue[4],ue[1],ue[3],ue[5],0,0,1);break}}Z.premultiply(te)}}return Z}function B(ee,Z){function te(Te){J.set(Te.x,Te.y,1).applyMatrix3(Z),Te.set(J.x,J.y)}function de(Te){const Me=Te.xRadius,Ae=Te.yRadius,ue=Math.cos(Te.aRotation),X=Math.sin(Te.aRotation),$=new Vector3(Me*ue,Me*X,0),ge=new Vector3(-Ae*X,Ae*ue,0),ve=$.applyMatrix3(Z),me=ge.applyMatrix3(Z),ce=pe.set(ve.x,me.x,0,ve.y,me.y,0,0,0,1),Se=K.copy(ce).invert(),ye=q.copy(Se).transpose().multiply(Se).elements,be=ne(ye[0],ye[1],ye[4]),he=Math.sqrt(be.rt1),se=Math.sqrt(be.rt2);if(Te.xRadius=1/he,Te.yRadius=1/se,Te.aRotation=Math.atan2(be.sn,be.cs),!((Te.aEndAngle-Te.aStartAngle)%(2*Math.PI)<Number.EPSILON)){const Ee=K.set(he,0,0,0,se,0,0,0,1),Oe=q.set(be.cs,be.sn,0,-be.sn,be.cs,0,0,0,1),Fe=Ee.multiply(Oe).multiply(ce),Ne=Ue=>{const{x:je,y:Le}=new Vector3(Math.cos(Ue),Math.sin(Ue),0).applyMatrix3(Fe);return Math.atan2(Le,je)};Te.aStartAngle=Ne(Te.aStartAngle),Te.aEndAngle=Ne(Te.aEndAngle),j(Z)&&(Te.aClockwise=!Te.aClockwise)}}function Y(Te){const Me=N(Z),Ae=W(Z);Te.xRadius*=Me,Te.yRadius*=Ae;const ue=Me>Number.EPSILON?Math.atan2(Z.elements[1],Z.elements[0]):Math.atan2(-Z.elements[3],Z.elements[4]);Te.aRotation+=ue,j(Z)&&(Te.aStartAngle*=-1,Te.aEndAngle*=-1,Te.aClockwise=!Te.aClockwise)}const we=ee.subPaths;for(let Te=0,Me=we.length;Te<Me;Te++){const Ae=we[Te].curves;for(let ue=0;ue<Ae.length;ue++){const X=Ae[ue];X.isLineCurve?(te(X.v1),te(X.v2)):X.isCubicBezierCurve?(te(X.v0),te(X.v1),te(X.v2),te(X.v3)):X.isQuadraticBezierCurve?(te(X.v0),te(X.v1),te(X.v2)):X.isEllipseCurve&&(z.set(X.aX,X.aY),te(z),X.aX=z.x,X.aY=z.y,U(Z)?de(X):Y(X))}}}function j(ee){const Z=ee.elements;return Z[0]*Z[4]-Z[1]*Z[3]<0}function U(ee){const Z=ee.elements,te=Z[0]*Z[3]+Z[1]*Z[4];if(te===0)return!1;const de=N(ee),Y=W(ee);return Math.abs(te/(de*Y))>Number.EPSILON}function N(ee){const Z=ee.elements;return Math.sqrt(Z[0]*Z[0]+Z[1]*Z[1])}function W(ee){const Z=ee.elements;return Math.sqrt(Z[3]*Z[3]+Z[4]*Z[4])}function ne(ee,Z,te){let de,Y,we,Te,Me;const Ae=ee+te,ue=ee-te,X=Math.sqrt(ue*ue+4*Z*Z);return Ae>0?(de=.5*(Ae+X),Me=1/de,Y=ee*Me*te-Z*Me*Z):Ae<0?Y=.5*(Ae-X):(de=.5*X,Y=-.5*X),ue>0?we=ue+X:we=ue-X,Math.abs(we)>2*Math.abs(Z)?(Me=-2*Z/we,Te=1/Math.sqrt(1+Me*Me),we=Me*Te):Math.abs(Z)===0?(we=1,Te=0):(Me=-.5*we/Z,we=1/Math.sqrt(1+Me*Me),Te=Me*we),ue>0&&(Me=we,we=-Te,Te=Me),{rt1:de,rt2:Y,cs:we,sn:Te}}const re=[],le={},ae=[],pe=new Matrix3,K=new Matrix3,q=new Matrix3,D=new Matrix3,z=new Vector2,J=new Vector3,ie=new Matrix3,fe=new DOMParser().parseFromString(e,"image/svg+xml");return n(fe.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4}),{paths:re,xml:fe.documentElement}}static createShapes(e){const r={ORIGIN:0,DESTINATION:1,BETWEEN:2,LEFT:3,RIGHT:4,BEHIND:5,BEYOND:6},n={loc:r.ORIGIN,t:0};function o(M,T,A,E){const C=M.x,k=T.x,O=A.x,I=E.x,B=M.y,j=T.y,U=A.y,N=E.y,W=(I-O)*(B-U)-(N-U)*(C-O),ne=(k-C)*(B-U)-(j-B)*(C-O),re=(N-U)*(k-C)-(I-O)*(j-B),le=W/re,ae=ne/re;if(re===0&&W!==0||le<=0||le>=1||ae<0||ae>1)return null;if(W===0&&re===0){for(let pe=0;pe<2;pe++)if(s(pe===0?A:E,M,T),n.loc==r.ORIGIN){const K=pe===0?A:E;return{x:K.x,y:K.y,t:n.t}}else if(n.loc==r.BETWEEN){const K=+(C+n.t*(k-C)).toPrecision(10),q=+(B+n.t*(j-B)).toPrecision(10);return{x:K,y:q,t:n.t}}return null}else{for(let q=0;q<2;q++)if(s(q===0?A:E,M,T),n.loc==r.ORIGIN){const D=q===0?A:E;return{x:D.x,y:D.y,t:n.t}}const pe=+(C+le*(k-C)).toPrecision(10),K=+(B+le*(j-B)).toPrecision(10);return{x:pe,y:K,t:le}}}function s(M,T,A){const E=A.x-T.x,C=A.y-T.y,k=M.x-T.x,O=M.y-T.y,I=E*O-k*C;if(M.x===T.x&&M.y===T.y){n.loc=r.ORIGIN,n.t=0;return}if(M.x===A.x&&M.y===A.y){n.loc=r.DESTINATION,n.t=1;return}if(I<-Number.EPSILON){n.loc=r.LEFT;return}if(I>Number.EPSILON){n.loc=r.RIGHT;return}if(E*k<0||C*O<0){n.loc=r.BEHIND;return}if(Math.sqrt(E*E+C*C)<Math.sqrt(k*k+O*O)){n.loc=r.BEYOND;return}let B;E!==0?B=k/E:B=O/C,n.loc=r.BETWEEN,n.t=B}function c(M,T){const A=[],E=[];for(let C=1;C<M.length;C++){const k=M[C-1],O=M[C];for(let I=1;I<T.length;I++){const B=T[I-1],j=T[I],U=o(k,O,B,j);U!==null&&A.find(N=>N.t<=U.t+Number.EPSILON&&N.t>=U.t-Number.EPSILON)===void 0&&(A.push(U),E.push(new Vector2(U.x,U.y)))}}return E}function d(M,T,A){const E=new Vector2;T.getCenter(E);const C=[];return A.forEach(k=>{k.boundingBox.containsPoint(E)&&c(M,k.points).forEach(O=>{C.push({identifier:k.identifier,isCW:k.isCW,point:O})})}),C.sort((k,O)=>k.point.x-O.point.x),C}function u(M,T,A,E,C){(C==null||C==="")&&(C="nonzero");const k=new Vector2;M.boundingBox.getCenter(k);const O=[new Vector2(A,k.y),new Vector2(E,k.y)],I=d(O,M.boundingBox,T);I.sort((ne,re)=>ne.point.x-re.point.x);const B=[],j=[];I.forEach(ne=>{ne.identifier===M.identifier?B.push(ne):j.push(ne)});const U=B[0].point.x,N=[];let W=0;for(;W<j.length&&j[W].point.x<U;)N.length>0&&N[N.length-1]===j[W].identifier?N.pop():N.push(j[W].identifier),W++;if(N.push(M.identifier),C==="evenodd"){const ne=N.length%2===0,re=N[N.length-2];return{identifier:M.identifier,isHole:ne,for:re}}else if(C==="nonzero"){let ne=!0,re=null,le=null;for(let ae=0;ae<N.length;ae++){const pe=N[ae];ne?(le=T[pe].isCW,ne=!1,re=pe):le!==T[pe].isCW&&(le=T[pe].isCW,ne=!0)}return{identifier:M.identifier,isHole:ne,for:re}}else console.warn('fill-rule: "'+C+'" is currently not implemented.')}let m=999999999,_=-999999999,g=e.subPaths.map(M=>{const T=M.getPoints();let A=-999999999,E=999999999,C=-999999999,k=999999999;for(let O=0;O<T.length;O++){const I=T[O];I.y>A&&(A=I.y),I.y<E&&(E=I.y),I.x>C&&(C=I.x),I.x<k&&(k=I.x)}return _<=C&&(_=C+1),m>=k&&(m=k-1),{curves:M.curves,points:T,isCW:ShapeUtils.isClockWise(T),identifier:-1,boundingBox:new Box2(new Vector2(k,E),new Vector2(C,A))}});g=g.filter(M=>M.points.length>1);for(let M=0;M<g.length;M++)g[M].identifier=M;const f=g.map(M=>u(M,g,m,_,e.userData?e.userData.style.fillRule:void 0)),y=[];return g.forEach(M=>{if(!f[M.identifier].isHole){const T=new Shape;T.curves=M.curves,f.filter(A=>A.isHole&&A.for===M.identifier).forEach(A=>{const E=g[A.identifier],C=new Path;C.curves=E.curves,T.holes.push(C)}),y.push(T)}}),y}static getStrokeStyle(e,r,n,o,s){return e=e!==void 0?e:1,r=r!==void 0?r:"#000",n=n!==void 0?n:"miter",o=o!==void 0?o:"butt",s=s!==void 0?s:4,{strokeColor:r,strokeWidth:e,strokeLineJoin:n,strokeLineCap:o,strokeMiterLimit:s}}static pointsToStroke(e,r,n,o){const s=[],c=[],d=[];if(SVGLoader.pointsToStrokeWithBuffers(e,r,n,o,s,c,d)===0)return null;const u=new BufferGeometry;return u.setAttribute("position",new Float32BufferAttribute(s,3)),u.setAttribute("normal",new Float32BufferAttribute(c,3)),u.setAttribute("uv",new Float32BufferAttribute(d,2)),u}static pointsToStrokeWithBuffers(e,r,n,o,s,c,d,u){const m=new Vector2,_=new Vector2,g=new Vector2,f=new Vector2,y=new Vector2,M=new Vector2,T=new Vector2,A=new Vector2,E=new Vector2,C=new Vector2,k=new Vector2,O=new Vector2,I=new Vector2,B=new Vector2,j=new Vector2,U=new Vector2,N=new Vector2;n=n!==void 0?n:12,o=o!==void 0?o:.001,u=u!==void 0?u:0,e=X(e);const W=e.length;if(W<2)return 0;const ne=e[0].equals(e[W-1]);let re,le=e[0],ae;const pe=r.strokeWidth/2,K=1/(W-1);let q=0,D,z,J,ie,fe=!1,ee=0,Z=u*3,te=u*2;de(e[0],e[1],m).multiplyScalar(pe),A.copy(e[0]).sub(m),E.copy(e[0]).add(m),C.copy(A),k.copy(E);for(let $=1;$<W;$++){re=e[$],$===W-1?ne?ae=e[1]:ae=void 0:ae=e[$+1];const ge=m;if(de(le,re,ge),g.copy(ge).multiplyScalar(pe),O.copy(re).sub(g),I.copy(re).add(g),D=q+K,z=!1,ae!==void 0){de(re,ae,_),g.copy(_).multiplyScalar(pe),B.copy(re).sub(g),j.copy(re).add(g),J=!0,g.subVectors(ae,le),ge.dot(g)<0&&(J=!1),$===1&&(fe=J),g.subVectors(ae,re),g.normalize();const ve=Math.abs(ge.dot(g));if(ve>Number.EPSILON){const me=pe/ve;g.multiplyScalar(-me),f.subVectors(re,le),y.copy(f).setLength(me).add(g),U.copy(y).negate();const ce=y.length(),Se=f.length();f.divideScalar(Se),M.subVectors(ae,re);const ye=M.length();switch(M.divideScalar(ye),f.dot(U)<Se&&M.dot(U)<ye&&(z=!0),N.copy(y).add(re),U.add(re),ie=!1,z?J?(j.copy(U),I.copy(U)):(B.copy(U),O.copy(U)):Te(),r.strokeLineJoin){case"bevel":Me(J,z,D);break;case"round":Ae(J,z),J?we(re,O,B,D,0):we(re,j,I,D,1);break;case"miter":case"miter-clip":default:const be=pe*r.strokeMiterLimit/ce;if(be<1)if(r.strokeLineJoin!=="miter-clip"){Me(J,z,D);break}else Ae(J,z),J?(M.subVectors(N,O).multiplyScalar(be).add(O),T.subVectors(N,B).multiplyScalar(be).add(B),Y(O,D,0),Y(M,D,0),Y(re,D,.5),Y(re,D,.5),Y(M,D,0),Y(T,D,0),Y(re,D,.5),Y(T,D,0),Y(B,D,0)):(M.subVectors(N,I).multiplyScalar(be).add(I),T.subVectors(N,j).multiplyScalar(be).add(j),Y(I,D,1),Y(M,D,1),Y(re,D,.5),Y(re,D,.5),Y(M,D,1),Y(T,D,1),Y(re,D,.5),Y(T,D,1),Y(j,D,1));else z?(J?(Y(E,q,1),Y(A,q,0),Y(N,D,0),Y(E,q,1),Y(N,D,0),Y(U,D,1)):(Y(E,q,1),Y(A,q,0),Y(N,D,1),Y(A,q,0),Y(U,D,0),Y(N,D,1)),J?B.copy(N):j.copy(N)):J?(Y(O,D,0),Y(N,D,0),Y(re,D,.5),Y(re,D,.5),Y(N,D,0),Y(B,D,0)):(Y(I,D,1),Y(N,D,1),Y(re,D,.5),Y(re,D,.5),Y(N,D,1),Y(j,D,1)),ie=!0;break}}else Te()}else Te();!ne&&$===W-1&&ue(e[0],C,k,J,!0,q),q=D,le=re,A.copy(B),E.copy(j)}if(!ne)ue(re,O,I,J,!1,D);else if(z&&s){let $=N,ge=U;fe!==J&&($=U,ge=N),J?(ie||fe)&&(ge.toArray(s,0),ge.toArray(s,9),ie&&$.toArray(s,3)):(ie||!fe)&&(ge.toArray(s,3),ge.toArray(s,9),ie&&$.toArray(s,0))}return ee;function de($,ge,ve){return ve.subVectors(ge,$),ve.set(-ve.y,ve.x).normalize()}function Y($,ge,ve){s&&(s[Z]=$.x,s[Z+1]=$.y,s[Z+2]=0,c&&(c[Z]=0,c[Z+1]=0,c[Z+2]=1),Z+=3,d&&(d[te]=ge,d[te+1]=ve,te+=2)),ee+=3}function we($,ge,ve,me,ce){m.copy(ge).sub($).normalize(),_.copy(ve).sub($).normalize();let Se=Math.PI;const ye=m.dot(_);Math.abs(ye)<1&&(Se=Math.abs(Math.acos(ye))),Se/=n,g.copy(ge);for(let be=0,he=n-1;be<he;be++)f.copy(g).rotateAround($,Se),Y(g,me,ce),Y(f,me,ce),Y($,me,.5),g.copy(f);Y(f,me,ce),Y(ve,me,ce),Y($,me,.5)}function Te(){Y(E,q,1),Y(A,q,0),Y(O,D,0),Y(E,q,1),Y(O,D,1),Y(I,D,0)}function Me($,ge,ve){ge?$?(Y(E,q,1),Y(A,q,0),Y(O,D,0),Y(E,q,1),Y(O,D,0),Y(U,D,1),Y(O,ve,0),Y(B,ve,0),Y(U,ve,.5)):(Y(E,q,1),Y(A,q,0),Y(I,D,1),Y(A,q,0),Y(U,D,0),Y(I,D,1),Y(I,ve,1),Y(j,ve,0),Y(U,ve,.5)):$?(Y(O,ve,0),Y(B,ve,0),Y(re,ve,.5)):(Y(I,ve,1),Y(j,ve,0),Y(re,ve,.5))}function Ae($,ge){ge&&($?(Y(E,q,1),Y(A,q,0),Y(O,D,0),Y(E,q,1),Y(O,D,0),Y(U,D,1),Y(O,q,0),Y(re,D,.5),Y(U,D,1),Y(re,D,.5),Y(B,q,0),Y(U,D,1)):(Y(E,q,1),Y(A,q,0),Y(I,D,1),Y(A,q,0),Y(U,D,0),Y(I,D,1),Y(I,q,1),Y(U,D,0),Y(re,D,.5),Y(re,D,.5),Y(U,D,0),Y(j,q,1)))}function ue($,ge,ve,me,ce,Se){switch(r.strokeLineCap){case"round":ce?we($,ve,ge,Se,.5):we($,ge,ve,Se,.5);break;case"square":if(ce)m.subVectors(ge,$),_.set(m.y,-m.x),g.addVectors(m,_).add($),f.subVectors(_,m).add($),me?(g.toArray(s,3),f.toArray(s,0),f.toArray(s,9)):(g.toArray(s,3),g.toArray(s,9),f.toArray(s,0));else{m.subVectors(ve,$),_.set(m.y,-m.x),g.addVectors(m,_).add($),f.subVectors(_,m).add($);const ye=s.length;me?(g.toArray(s,ye-3),f.toArray(s,ye-6),f.toArray(s,ye-12)):(g.toArray(s,ye-6),f.toArray(s,ye-3),f.toArray(s,ye-12))}break}}function X($){let ge=!1;for(let me=1,ce=$.length-1;me<ce;me++)if($[me].distanceTo($[me+1])<o){ge=!0;break}if(!ge)return $;const ve=[];ve.push($[0]);for(let me=1,ce=$.length-1;me<ce;me++)$[me].distanceTo($[me+1])>=o&&ve.push($[me]);return ve.push($[$.length-1]),ve}}}const items=[];let i=0;const TYPES={GLTF:i++,FBX:i++,TEXTURE:i++,FONT:i++,SVG:i++},preventDefaults=t=>{t.preventDefault(),t.stopPropagation()};let Loader$1=class ur extends eventemitter2Exports.EventEmitter2{constructor(){super(),this.content=[],this.toLoad=0,this.loaded=0,this.initManager(),this.initLoaders()}static get items(){return items}static get TYPES(){return TYPES}initManager(){this.manager=new LoadingManager}initLoaders(){this.loaders={},this.loaders.gltfLoader=new GLTFLoader(this.manager),this.loaders.dracoLoader=new DRACOLoader(this.manager),this.loaders.dracoLoader.setDecoderPath("./www.gstatic.com/draco/v1/decoders/"),this.loaders.dracoLoader.preload(),this.loaders.gltfLoader.setDRACOLoader(this.loaders.dracoLoader),this.loaders.fbxLoader=new FBXLoader(this.manager),this.loaders.textureLoader=new TextureLoader(this.manager),this.loaders.fontLoader=new FontLoader(this.manager),this.loaders.svgLoader=new SVGLoader(this.manager)}initDropHandler(e){this.dropArea=e,["dragenter","dragover","dragleave","drop"].forEach(r=>{this.dropArea.addEventListener(r,preventDefaults,!1)}),this.dropArea.addEventListener("drop",r=>{this.handleDrop(r)},!1)}handleDrop(e){const r=e.dataTransfer.files[0],n=r.type.split("/").pop().toLowerCase();if(!["jpeg","jpg","png","bmp","gif"].includes(n))return alert("Please select a valid image file"),!1;const o=new FileReader;o.onload=()=>{const s=o.result;this.items.painting.dispose(),this.loaders.textureLoader.load(s,c=>{this.items.painting=c,this.emit("image-dropped")})},o.readAsDataURL(r)}load(e){this.content=e,this.toLoad=this.content.length;for(const r of e)this.loadOne(r)}loadOne(e){if(items[e.name])return this.itemLoaded(e,items[e.name]);switch(e.type){case ur.TYPES.GLTF:this.loaders.gltfLoader.load(e.path,r=>this.itemLoaded(e,r));break;case ur.TYPES.FBX:this.loaders.fbxLoader.load(e.path,r=>this.itemLoaded(e,r));break;case ur.TYPES.TEXTURE:this.loaders.textureLoader.load(e.path,r=>(r.ratio=r.image.height/r.image.width,this.itemLoaded(e,r)));break;case ur.TYPES.FONT:this.loaders.fontLoader.load(e.path,r=>this.itemLoaded(e,r));break;case ur.TYPES.SVG:this.loaders.svgLoader.load(e.path,r=>this.itemLoaded(e,r))}}itemLoaded(e,r){return items[e.name]=r,this.loaded++,this.emit("loaded",this.loaded/this.toLoad),this.loaded===this.toLoad&&this.emit("ready"),r}};function map(t,e,r,n,o){return t=clamp$1(t,e,r),(t-e)/(r-e)*(o-n)+n}function clamp$1(t,e,r){return Math.min(Math.max(t,e),r)}const lerp=(t,e,r)=>(1-r)*t+r*e,distanceV2=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));let scene=null;const BONES={hand:null,forearm:null,f_index01:[5,6],f_index02:[6,7],f_index03:[7,8],thumb01:[1,2],thumb02:[2,3],thumb03:[3,4],palm01:null,f_middle01:[9,10],f_middle02:[10,11],f_middle03:[11,12],palm02:null,f_ring01:[13,14],f_ring02:[14,15],f_ring03:[15,16],palm03:null,f_pinky01:[17,18],f_pinky02:[18,19],f_pinky03:[19,20],palm04:null},SIDE={Left:-1,Right:1};let MAT=null;const H={MAT:new MeshBasicMaterial({color:16711680,depthTest:!1,visible:!1}),GEO:new SphereGeometry(.04,8,8)},L=.5,toVector3=t=>new Vector3(t.x,t.y,t.z),V=new Vector3,V2=new Vector3,V3=new Vector3,P$1=new Plane,Q=new Quaternion().setFromUnitVectors(V.set(0,0,-1),V2.set(0,1,0));class Hand extends eventemitter2Exports.EventEmitter2{constructor(e,r){super(),scene=r,this.side=e,this.sideFactor=SIDE[e],this.detected=!1,this.file=this.sideFactor===-1?Loader$1.items.left:Loader$1.items.right,this.group=new Group,this.group.position.set(1,0,0),this.hand=this.file.scene.children[0].children[0],this.hand.geometry.computeVertexNormals(),this.rootBone=this.file.scene.children[0].children[this.file.scene.children[0].children.length-1],this.lookAt=new Vector3,this.oldLandmarks=[],MAT||(MAT=new MeshNormalMaterial({opacity:.5,transparent:!1}));for(let n=this.file.scene.children[0].children.length-1;n>=0;n--){const o=this.file.scene.children[0].children[n];o.isMesh&&(o.visible=!1,o.material=MAT,o.geometry.computeVertexNormals()),this.group.add(o)}this.q=new Quaternion().setFromUnitVectors(V.set(0,0,-1),V2.set(0,1,0)),this.detectBones(e),this.createHelpers(),scene.add(this.group)}detectBones(){this.bones={},this.group.traverse(e=>{if(e.scale.setScalar(1),e.isBone){e.targetPosition=new Vector3;let r=e.name.replace("DEF-","");r=r.replace("L",""),r=r.replace("R",""),this.bones[r]=e}})}createHelpers(){this.helpers=[];for(let e=0;e<21;e++)this.helpers.push(new Mesh(H.GEO,H.MAT));this.helpers.forEach(e=>scene.add(e))}toWorldPosition(e,r){const n=[e[0],e[5],e[9],e[13],e[17]],o=new Vector3(-1,-1,-1),s=new Vector3(1,1,1);n.forEach(_=>{o.min(_),s.max(_)});const c=new Box3(o,s),d=10,u={x:d*-(r[0].x-.5),y:.5*d*(1-r[0].y),z:d*(r[0].z+.5)},m=10;return{screenBoundingBox:c,positions:e.map(_=>new Vector3(u.x+m*-_.x,u.y+m*-_.y,m*-_.z-5))}}update({handednesses:e,landmarks:r,worldLandmarks:n},o){var E;const s=e.findIndex(C=>C[0].categoryName===this.side);if(this.detected=s!==-1,this.group.children.forEach(C=>{C.isMesh&&(C.visible=this.detected&&o)}),(E=this.helpers)==null||E.forEach(C=>C.visible=this.detected&&o),this.emit("handDetected",{side:this.side,visible:this.hand.visible}),!this.detected)return;n=n[s].map(C=>toVector3(C)),r=r[s].map(C=>toVector3(C));const c=this.rootBone.scale.x;this.rootBone.scale.setScalar(3.2);let{screenBoundingBox:d,positions:u}=this.toWorldPosition(n,r);this.oldLandmarks.length&&(u=u.map((C,k)=>C.lerp(this.oldLandmarks[k],L))),V.copy(u[0]),this.rootBone.parent.worldToLocal(V),this.rootBone.position.lerp(V,L),V.copy(u[0]),V2.copy(u[9]).lerp(u[13],.2),V3.copy(u[17]),P$1.setFromCoplanarPoints(V,V2,V3),this.rootBone.up.lerp(P$1.normal,L),this.sideFactor===1&&this.rootBone.up.negate(),this.lookAt.lerp(V2,L),this.rootBone.lookAt(this.lookAt),this.rootBone.quaternion.multiply(Q);const m=Array.from(Object.keys(BONES));m.forEach(C=>{if(!BONES[C])return;const[k,O]=BONES[C],I=this.bones[C],B=I.parent;if(B.updateMatrixWorld(!0,!1),C.match("01")&&!C.match("thumb")){I.rotation.x=0,I.rotation.z=0;return}if(!C.match("02")&&!C.match("03"))return;const j=V.copy(u[k]),U=V2.copy(u[O]);B.worldToLocal(j),I.updateMatrixWorld(),I.rotation.x,I.rotation.set(0,0,0),I.worldToLocal(U),I.rotation.x=Math.atan2(U.z,U.y),C.match("thumb")?this.sideFactor===1?I.rotation.x=clamp$1(I.rotation.x,-2,.1):I.rotation.x=clamp$1(I.rotation.x,-.1,2):I.rotation.x=clamp$1(I.rotation.x,-2,2)}),m.forEach(C=>{if(!BONES[C])return;const k=this.bones[C];if(C.match("thumb")&&(C.match("02")||C.match("03"))&&(k.rotation.x*=1.3),!C.match("thumb")&&C.match("01")){const O=C.match(/[^\d]+/),I=this.bones[O+"02"];k.rotation.x=.8*I.rotation.x,I.rotation.x*=.8}}),this.bones.f_pinky01.rotation.z=map(this.bones.f_pinky01.rotation.x,-.2,.4,-.3*this.sideFactor,.1*this.sideFactor),this.bones.f_index01.rotation.z=map(this.bones.f_index01.rotation.x,.4,1.3,-.05,.15);const _=new Vector3(-1,-1,-1),g=new Vector3(1,1,1);n.forEach(C=>{_.min(C),g.max(C)});const f=new Box3(_,g).getSize(V),y=d.getSize(V2),M=y.x/f.x,T=y.y/f.y,A=10*clamp$1((M+T)/2,.1,1);if(this.rootBone.scale.setScalar(c+.003*(A-c)*50),!!this.helpers){for(let C=0;C<u.length;C++)this.helpers[C].position.copy(u[C]);this.oldLandmarks=u}}}const dpr=()=>Math.min(window.devicePixelRatio,1.01);class Stage{constructor(e){this.canvas=e,this.renderer=new WebGLRenderer({canvas:e,antialias:!0,alpha:!0,powerPreference:"high-performance"}),this.renderer.setPixelRatio(dpr()),this.renderer.setClearColor(0,0),this.scene=new Scene,this.camera=new PerspectiveCamera(50,1,.01,1e3),this.camera.position.copy(new Vector3(0,2,18)),this.camera.lookAt(new Vector3(0,2,0)),this.scene.add(this.camera);const r=new DirectionalLight(16777215,3);r.position.set(100,200,-100),this.scene.add(r),this.righHand=new Hand("Right",this.scene),this.leftHand=new Hand("Left",this.scene),this.handVisible=!1,this.resize()}onUpdateHands(e){this.righHand.update(e,this.handVisible),this.leftHand.update(e,this.handVisible)}allowHandVisible(){this.handVisible=!0}resize(){this.renderer.setSize(window.innerWidth,window.innerWidth),this.renderer.setPixelRatio(dpr()),this.camera.aspect=1,this.camera.updateProjectionMatrix()}render(){this.renderer.render(this.scene,this.camera)}}function _assertThisInitialized(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var _config={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},_defaults={duration:.5,overwrite:!1,delay:0},_suppressOverwrites,_reverting$1,_context,_bigNum$1=1e8,_tinyNum=1/_bigNum$1,_2PI=Math.PI*2,_HALF_PI=_2PI/4,_gsID=0,_sqrt=Math.sqrt,_cos=Math.cos,_sin=Math.sin,_isString=function t(e){return typeof e=="string"},_isFunction=function t(e){return typeof e=="function"},_isNumber=function t(e){return typeof e=="number"},_isUndefined=function t(e){return typeof e>"u"},_isObject=function t(e){return typeof e=="object"},_isNotFalse=function t(e){return e!==!1},_windowExists$1=function t(){return typeof window<"u"},_isFuncOrString=function t(e){return _isFunction(e)||_isString(e)},_isTypedArray=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},_isArray=Array.isArray,_strictNumExp=/(?:-?\.?\d|\.)+/gi,_numExp=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,_numWithUnitExp=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,_complexStringNumExp=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,_relExp=/[+-]=-?[.\d]+/,_delimitedValueExp=/[^,'"\[\]\s]+/gi,_unitExp=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,_globalTimeline,_win$1,_coreInitted,_doc$1,_globals={},_installScope={},_coreReady,_install=function t(e){return(_installScope=_merge(e,_globals))&&gsap},_missingPlugin=function t(e,r){return console.warn("Invalid property",e,"set to",r,"Missing plugin? gsap.registerPlugin()")},_warn=function t(e,r){return!r&&console.warn(e)},_addGlobal=function t(e,r){return e&&(_globals[e]=r)&&_installScope&&(_installScope[e]=r)||_globals},_emptyFunc=function t(){return 0},_startAtRevertConfig={suppressEvents:!0,isStart:!0,kill:!1},_revertConfigNoKill={suppressEvents:!0,kill:!1},_revertConfig={suppressEvents:!0},_reservedProps={},_lazyTweens=[],_lazyLookup={},_lastRenderedFrame,_plugins={},_effects={},_nextGCFrame=30,_harnessPlugins=[],_callbackNames="",_harness=function t(e){var r=e[0],n,o;if(_isObject(r)||_isFunction(r)||(e=[e]),!(n=(r._gsap||{}).harness)){for(o=_harnessPlugins.length;o--&&!_harnessPlugins[o].targetTest(r););n=_harnessPlugins[o]}for(o=e.length;o--;)e[o]&&(e[o]._gsap||(e[o]._gsap=new GSCache(e[o],n)))||e.splice(o,1);return e},_getCache=function t(e){return e._gsap||_harness(toArray$1(e))[0]._gsap},_getProperty=function t(e,r,n){return(n=e[r])&&_isFunction(n)?e[r]():_isUndefined(n)&&e.getAttribute&&e.getAttribute(r)||n},_forEachName=function t(e,r){return(e=e.split(",")).forEach(r)||e},_round=function t(e){return Math.round(e*1e5)/1e5||0},_roundPrecise=function t(e){return Math.round(e*1e7)/1e7||0},_parseRelative=function t(e,r){var n=r.charAt(0),o=parseFloat(r.substr(2));return e=parseFloat(e),n==="+"?e+o:n==="-"?e-o:n==="*"?e*o:e/o},_arrayContainsAny=function t(e,r){for(var n=r.length,o=0;e.indexOf(r[o])<0&&++o<n;);return o<n},_lazyRender=function t(){var e=_lazyTweens.length,r=_lazyTweens.slice(0),n,o;for(_lazyLookup={},_lazyTweens.length=0,n=0;n<e;n++)o=r[n],o&&o._lazy&&(o.render(o._lazy[0],o._lazy[1],!0)._lazy=0)},_lazySafeRender=function t(e,r,n,o){_lazyTweens.length&&!_reverting$1&&_lazyRender(),e.render(r,n,o||_reverting$1&&r<0&&(e._initted||e._startAt)),_lazyTweens.length&&!_reverting$1&&_lazyRender()},_numericIfPossible=function t(e){var r=parseFloat(e);return(r||r===0)&&(e+"").match(_delimitedValueExp).length<2?r:_isString(e)?e.trim():e},_passThrough=function t(e){return e},_setDefaults=function t(e,r){for(var n in r)n in e||(e[n]=r[n]);return e},_setKeyframeDefaults=function t(e){return function(r,n){for(var o in n)o in r||o==="duration"&&e||o==="ease"||(r[o]=n[o])}},_merge=function t(e,r){for(var n in r)e[n]=r[n];return e},_mergeDeep=function t(e,r){for(var n in r)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=_isObject(r[n])?t(e[n]||(e[n]={}),r[n]):r[n]);return e},_copyExcluding=function t(e,r){var n={},o;for(o in e)o in r||(n[o]=e[o]);return n},_inheritDefaults=function t(e){var r=e.parent||_globalTimeline,n=e.keyframes?_setKeyframeDefaults(_isArray(e.keyframes)):_setDefaults;if(_isNotFalse(e.inherit))for(;r;)n(e,r.vars.defaults),r=r.parent||r._dp;return e},_arraysMatch=function t(e,r){for(var n=e.length,o=n===r.length;o&&n--&&e[n]===r[n];);return n<0},_addLinkedListItem=function t(e,r,n,o,s){n===void 0&&(n="_first"),o===void 0&&(o="_last");var c=e[o],d;if(s)for(d=r[s];c&&c[s]>d;)c=c._prev;return c?(r._next=c._next,c._next=r):(r._next=e[n],e[n]=r),r._next?r._next._prev=r:e[o]=r,r._prev=c,r.parent=r._dp=e,r},_removeLinkedListItem=function t(e,r,n,o){n===void 0&&(n="_first"),o===void 0&&(o="_last");var s=r._prev,c=r._next;s?s._next=c:e[n]===r&&(e[n]=c),c?c._prev=s:e[o]===r&&(e[o]=s),r._next=r._prev=r.parent=null},_removeFromParent=function t(e,r){e.parent&&(!r||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},_uncache=function t(e,r){if(e&&(!r||r._end>e._dur||r._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},_recacheAncestors=function t(e){for(var r=e.parent;r&&r.parent;)r._dirty=1,r.totalDuration(),r=r.parent;return e},_rewindStartAt=function t(e,r,n,o){return e._startAt&&(_reverting$1?e._startAt.revert(_revertConfigNoKill):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(r,!0,o))},_hasNoPausedAncestors=function t(e){return!e||e._ts&&t(e.parent)},_elapsedCycleDuration=function t(e){return e._repeat?_animationCycle(e._tTime,e=e.duration()+e._rDelay)*e:0},_animationCycle=function t(e,r){var n=Math.floor(e/=r);return e&&n===e?n-1:n},_parentToChildTotalTime=function t(e,r){return(e-r._start)*r._ts+(r._ts>=0?0:r._dirty?r.totalDuration():r._tDur)},_setEnd=function t(e){return e._end=_roundPrecise(e._start+(e._tDur/Math.abs(e._ts||e._rts||_tinyNum)||0))},_alignPlayhead=function t(e,r){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=_roundPrecise(n._time-(e._ts>0?r/e._ts:((e._dirty?e.totalDuration():e._tDur)-r)/-e._ts)),_setEnd(e),n._dirty||_uncache(n,e)),e},_postAddChecks=function t(e,r){var n;if((r._time||!r._dur&&r._initted||r._start<e._time&&(r._dur||!r.add))&&(n=_parentToChildTotalTime(e.rawTime(),r),(!r._dur||_clamp(0,r.totalDuration(),n)-r._tTime>_tinyNum)&&r.render(n,!0)),_uncache(e,r)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-_tinyNum}},_addToTimeline=function t(e,r,n,o){return r.parent&&_removeFromParent(r),r._start=_roundPrecise((_isNumber(n)?n:n||e!==_globalTimeline?_parsePosition(e,n,r):e._time)+r._delay),r._end=_roundPrecise(r._start+(r.totalDuration()/Math.abs(r.timeScale())||0)),_addLinkedListItem(e,r,"_first","_last",e._sort?"_start":0),_isFromOrFromStart(r)||(e._recent=r),o||_postAddChecks(e,r),e._ts<0&&_alignPlayhead(e,e._tTime),e},_scrollTrigger=function t(e,r){return(_globals.ScrollTrigger||_missingPlugin("scrollTrigger",r))&&_globals.ScrollTrigger.create(r,e)},_attemptInitTween=function t(e,r,n,o,s){if(_initTween(e,r,s),!e._initted)return 1;if(!n&&e._pt&&!_reverting$1&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&_lastRenderedFrame!==_ticker.frame)return _lazyTweens.push(e),e._lazy=[s,o],1},_parentPlayheadIsBeforeStart=function t(e){var r=e.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||t(r))},_isFromOrFromStart=function t(e){var r=e.data;return r==="isFromStart"||r==="isStart"},_renderZeroDurationTween=function t(e,r,n,o){var s=e.ratio,c=r<0||!r&&(!e._start&&_parentPlayheadIsBeforeStart(e)&&!(!e._initted&&_isFromOrFromStart(e))||(e._ts<0||e._dp._ts<0)&&!_isFromOrFromStart(e))?0:1,d=e._rDelay,u=0,m,_,g;if(d&&e._repeat&&(u=_clamp(0,e._tDur,r),_=_animationCycle(u,d),e._yoyo&&_&1&&(c=1-c),_!==_animationCycle(e._tTime,d)&&(s=1-c,e.vars.repeatRefresh&&e._initted&&e.invalidate())),c!==s||_reverting$1||o||e._zTime===_tinyNum||!r&&e._zTime){if(!e._initted&&_attemptInitTween(e,r,o,n,u))return;for(g=e._zTime,e._zTime=r||(n?_tinyNum:0),n||(n=r&&!g),e.ratio=c,e._from&&(c=1-c),e._time=0,e._tTime=u,m=e._pt;m;)m.r(c,m.d),m=m._next;r<0&&_rewindStartAt(e,r,n,!0),e._onUpdate&&!n&&_callback(e,"onUpdate"),u&&e._repeat&&!n&&e.parent&&_callback(e,"onRepeat"),(r>=e._tDur||r<0)&&e.ratio===c&&(c&&_removeFromParent(e,1),!n&&!_reverting$1&&(_callback(e,c?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=r)},_findNextPauseTween=function t(e,r,n){var o;if(n>r)for(o=e._first;o&&o._start<=n;){if(o.data==="isPause"&&o._start>r)return o;o=o._next}else for(o=e._last;o&&o._start>=n;){if(o.data==="isPause"&&o._start<r)return o;o=o._prev}},_setDuration=function t(e,r,n,o){var s=e._repeat,c=_roundPrecise(r)||0,d=e._tTime/e._tDur;return d&&!o&&(e._time*=c/e._dur),e._dur=c,e._tDur=s?s<0?1e10:_roundPrecise(c*(s+1)+e._rDelay*s):c,d>0&&!o&&_alignPlayhead(e,e._tTime=e._tDur*d),e.parent&&_setEnd(e),n||_uncache(e.parent,e),e},_onUpdateTotalDuration=function t(e){return e instanceof Timeline?_uncache(e):_setDuration(e,e._dur)},_zeroPosition={_start:0,endTime:_emptyFunc,totalDuration:_emptyFunc},_parsePosition=function t(e,r,n){var o=e.labels,s=e._recent||_zeroPosition,c=e.duration()>=_bigNum$1?s.endTime(!1):e._dur,d,u,m;return _isString(r)&&(isNaN(r)||r in o)?(u=r.charAt(0),m=r.substr(-1)==="%",d=r.indexOf("="),u==="<"||u===">"?(d>=0&&(r=r.replace(/=/,"")),(u==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(r.substr(1))||0)*(m?(d<0?s:n).totalDuration()/100:1)):d<0?(r in o||(o[r]=c),o[r]):(u=parseFloat(r.charAt(d-1)+r.substr(d+1)),m&&n&&(u=u/100*(_isArray(n)?n[0]:n).totalDuration()),d>1?t(e,r.substr(0,d-1),n)+u:c+u)):r==null?c:+r},_createTweenType=function t(e,r,n){var o=_isNumber(r[1]),s=(o?2:1)+(e<2?0:1),c=r[s],d,u;if(o&&(c.duration=r[1]),c.parent=n,e){for(d=c,u=n;u&&!("immediateRender"in d);)d=u.vars.defaults||{},u=_isNotFalse(u.vars.inherit)&&u.parent;c.immediateRender=_isNotFalse(d.immediateRender),e<2?c.runBackwards=1:c.startAt=r[s-1]}return new Tween(r[0],c,r[s+1])},_conditionalReturn=function t(e,r){return e||e===0?r(e):r},_clamp=function t(e,r,n){return n<e?e:n>r?r:n},getUnit=function t(e,r){return!_isString(e)||!(r=_unitExp.exec(e))?"":r[1]},clamp=function t(e,r,n){return _conditionalReturn(n,function(o){return _clamp(e,r,o)})},_slice=[].slice,_isArrayLike=function t(e,r){return e&&_isObject(e)&&"length"in e&&(!r&&!e.length||e.length-1 in e&&_isObject(e[0]))&&!e.nodeType&&e!==_win$1},_flatten=function t(e,r,n){return n===void 0&&(n=[]),e.forEach(function(o){var s;return _isString(o)&&!r||_isArrayLike(o,1)?(s=n).push.apply(s,toArray$1(o)):n.push(o)})||n},toArray$1=function t(e,r,n){return _context&&!r&&_context.selector?_context.selector(e):_isString(e)&&!n&&(_coreInitted||!_wake())?_slice.call((r||_doc$1).querySelectorAll(e),0):_isArray(e)?_flatten(e,n):_isArrayLike(e)?_slice.call(e,0):e?[e]:[]},selector=function t(e){return e=toArray$1(e)[0]||_warn("Invalid scope")||{},function(r){var n=e.current||e.nativeElement||e;return toArray$1(r,n.querySelectorAll?n:n===e?_warn("Invalid scope")||_doc$1.createElement("div"):e)}},shuffle=function t(e){return e.sort(function(){return .5-Math.random()})},distribute=function t(e){if(_isFunction(e))return e;var r=_isObject(e)?e:{each:e},n=_parseEase(r.ease),o=r.from||0,s=parseFloat(r.base)||0,c={},d=o>0&&o<1,u=isNaN(o)||d,m=r.axis,_=o,g=o;return _isString(o)?_=g={center:.5,edges:.5,end:1}[o]||0:!d&&u&&(_=o[0],g=o[1]),function(f,y,M){var T=(M||r).length,A=c[T],E,C,k,O,I,B,j,U,N;if(!A){if(N=r.grid==="auto"?0:(r.grid||[1,_bigNum$1])[1],!N){for(j=-_bigNum$1;j<(j=M[N++].getBoundingClientRect().left)&&N<T;);N--}for(A=c[T]=[],E=u?Math.min(N,T)*_-.5:o%N,C=N===_bigNum$1?0:u?T*g/N-.5:o/N|0,j=0,U=_bigNum$1,B=0;B<T;B++)k=B%N-E,O=C-(B/N|0),A[B]=I=m?Math.abs(m==="y"?O:k):_sqrt(k*k+O*O),I>j&&(j=I),I<U&&(U=I);o==="random"&&shuffle(A),A.max=j-U,A.min=U,A.v=T=(parseFloat(r.amount)||parseFloat(r.each)*(N>T?T-1:m?m==="y"?T/N:N:Math.max(N,T/N))||0)*(o==="edges"?-1:1),A.b=T<0?s-T:s,A.u=getUnit(r.amount||r.each)||0,n=n&&T<0?_invertEase(n):n}return T=(A[f]-A.min)/A.max||0,_roundPrecise(A.b+(n?n(T):T)*A.v)+A.u}},_roundModifier=function t(e){var r=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var o=_roundPrecise(Math.round(parseFloat(n)/e)*e*r);return(o-o%1)/r+(_isNumber(n)?0:getUnit(n))}},snap=function t(e,r){var n=_isArray(e),o,s;return!n&&_isObject(e)&&(o=n=e.radius||_bigNum$1,e.values?(e=toArray$1(e.values),(s=!_isNumber(e[0]))&&(o*=o)):e=_roundModifier(e.increment)),_conditionalReturn(r,n?_isFunction(e)?function(c){return s=e(c),Math.abs(s-c)<=o?s:c}:function(c){for(var d=parseFloat(s?c.x:c),u=parseFloat(s?c.y:0),m=_bigNum$1,_=0,g=e.length,f,y;g--;)s?(f=e[g].x-d,y=e[g].y-u,f=f*f+y*y):f=Math.abs(e[g]-d),f<m&&(m=f,_=g);return _=!o||m<=o?e[_]:c,s||_===c||_isNumber(c)?_:_+getUnit(c)}:_roundModifier(e))},random=function t(e,r,n,o){return _conditionalReturn(_isArray(e)?!r:n===!0?!!(n=0):!o,function(){return _isArray(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(o=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(r-e+n*.99))/n)*n*o)/o})},pipe=function t(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(o){return r.reduce(function(s,c){return c(s)},o)}},unitize=function t(e,r){return function(n){return e(parseFloat(n))+(r||getUnit(n))}},normalize=function t(e,r,n){return mapRange(e,r,0,1,n)},_wrapArray=function t(e,r,n){return _conditionalReturn(n,function(o){return e[~~r(o)]})},wrap=function t(e,r,n){var o=r-e;return _isArray(e)?_wrapArray(e,t(0,e.length),r):_conditionalReturn(n,function(s){return(o+(s-e)%o)%o+e})},wrapYoyo=function t(e,r,n){var o=r-e,s=o*2;return _isArray(e)?_wrapArray(e,t(0,e.length-1),r):_conditionalReturn(n,function(c){return c=(s+(c-e)%s)%s||0,e+(c>o?s-c:c)})},_replaceRandom=function t(e){for(var r=0,n="",o,s,c,d;~(o=e.indexOf("random(",r));)c=e.indexOf(")",o),d=e.charAt(o+7)==="[",s=e.substr(o+7,c-o-7).match(d?_delimitedValueExp:_strictNumExp),n+=e.substr(r,o-r)+random(d?s:+s[0],d?0:+s[1],+s[2]||1e-5),r=c+1;return n+e.substr(r,e.length-r)},mapRange=function t(e,r,n,o,s){var c=r-e,d=o-n;return _conditionalReturn(s,function(u){return n+((u-e)/c*d||0)})},interpolate=function t(e,r,n,o){var s=isNaN(e+r)?0:function(y){return(1-y)*e+y*r};if(!s){var c=_isString(e),d={},u,m,_,g,f;if(n===!0&&(o=1)&&(n=null),c)e={p:e},r={p:r};else if(_isArray(e)&&!_isArray(r)){for(_=[],g=e.length,f=g-2,m=1;m<g;m++)_.push(t(e[m-1],e[m]));g--,s=function(y){y*=g;var M=Math.min(f,~~y);return _[M](y-M)},n=r}else o||(e=_merge(_isArray(e)?[]:{},e));if(!_){for(u in r)_addPropTween.call(d,e,u,"get",r[u]);s=function(y){return _renderPropTweens(y,d)||(c?e.p:e)}}}return _conditionalReturn(n,s)},_getLabelInDirection=function t(e,r,n){var o=e.labels,s=_bigNum$1,c,d,u;for(c in o)d=o[c]-r,d<0==!!n&&d&&s>(d=Math.abs(d))&&(u=c,s=d);return u},_callback=function t(e,r,n){var o=e.vars,s=o[r],c=_context,d=e._ctx,u,m,_;if(s)return u=o[r+"Params"],m=o.callbackScope||e,n&&_lazyTweens.length&&_lazyRender(),d&&(_context=d),_=u?s.apply(m,u):s.call(m),_context=c,_},_interrupt=function t(e){return _removeFromParent(e),e.scrollTrigger&&e.scrollTrigger.kill(!!_reverting$1),e.progress()<1&&_callback(e,"onInterrupt"),e},_quickTween,_registerPluginQueue=[],_createPlugin=function t(e){if(_windowExists$1()&&e){e=!e.name&&e.default||e;var r=e.name,n=_isFunction(e),o=r&&!n&&e.init?function(){this._props=[]}:e,s={init:_emptyFunc,render:_renderPropTweens,add:_addPropTween,kill:_killPropTweensOf,modifier:_addPluginModifier,rawVars:0},c={targetTest:0,get:0,getSetter:_getSetter,aliases:{},register:0};if(_wake(),e!==o){if(_plugins[r])return;_setDefaults(o,_setDefaults(_copyExcluding(e,s),c)),_merge(o.prototype,_merge(s,_copyExcluding(e,c))),_plugins[o.prop=r]=o,e.targetTest&&(_harnessPlugins.push(o),_reservedProps[r]=1),r=(r==="css"?"CSS":r.charAt(0).toUpperCase()+r.substr(1))+"Plugin"}_addGlobal(r,o),e.register&&e.register(gsap,o,PropTween)}else e&&_registerPluginQueue.push(e)},_255=255,_colorLookup={aqua:[0,_255,_255],lime:[0,_255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,_255],navy:[0,0,128],white:[_255,_255,_255],olive:[128,128,0],yellow:[_255,_255,0],orange:[_255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[_255,0,0],pink:[_255,192,203],cyan:[0,_255,_255],transparent:[_255,_255,_255,0]},_hue=function t(e,r,n){return e+=e<0?1:e>1?-1:0,(e*6<1?r+(n-r)*e*6:e<.5?n:e*3<2?r+(n-r)*(2/3-e)*6:r)*_255+.5|0},splitColor=function t(e,r,n){var o=e?_isNumber(e)?[e>>16,e>>8&_255,e&_255]:0:_colorLookup.black,s,c,d,u,m,_,g,f,y,M;if(!o){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),_colorLookup[e])o=_colorLookup[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),c=e.charAt(2),d=e.charAt(3),e="#"+s+s+c+c+d+d+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return o=parseInt(e.substr(1,6),16),[o>>16,o>>8&_255,o&_255,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),o=[e>>16,e>>8&_255,e&_255]}else if(e.substr(0,3)==="hsl"){if(o=M=e.match(_strictNumExp),!r)u=+o[0]%360/360,m=+o[1]/100,_=+o[2]/100,c=_<=.5?_*(m+1):_+m-_*m,s=_*2-c,o.length>3&&(o[3]*=1),o[0]=_hue(u+1/3,s,c),o[1]=_hue(u,s,c),o[2]=_hue(u-1/3,s,c);else if(~e.indexOf("="))return o=e.match(_numExp),n&&o.length<4&&(o[3]=1),o}else o=e.match(_strictNumExp)||_colorLookup.transparent;o=o.map(Number)}return r&&!M&&(s=o[0]/_255,c=o[1]/_255,d=o[2]/_255,g=Math.max(s,c,d),f=Math.min(s,c,d),_=(g+f)/2,g===f?u=m=0:(y=g-f,m=_>.5?y/(2-g-f):y/(g+f),u=g===s?(c-d)/y+(c<d?6:0):g===c?(d-s)/y+2:(s-c)/y+4,u*=60),o[0]=~~(u+.5),o[1]=~~(m*100+.5),o[2]=~~(_*100+.5)),n&&o.length<4&&(o[3]=1),o},_colorOrderData=function t(e){var r=[],n=[],o=-1;return e.split(_colorExp).forEach(function(s){var c=s.match(_numWithUnitExp)||[];r.push.apply(r,c),n.push(o+=c.length+1)}),r.c=n,r},_formatColors=function t(e,r,n){var o="",s=(e+o).match(_colorExp),c=r?"hsla(":"rgba(",d=0,u,m,_,g;if(!s)return e;if(s=s.map(function(f){return(f=splitColor(f,r,1))&&c+(r?f[0]+","+f[1]+"%,"+f[2]+"%,"+f[3]:f.join(","))+")"}),n&&(_=_colorOrderData(e),u=n.c,u.join(o)!==_.c.join(o)))for(m=e.replace(_colorExp,"1").split(_numWithUnitExp),g=m.length-1;d<g;d++)o+=m[d]+(~u.indexOf(d)?s.shift()||c+"0,0,0,0)":(_.length?_:s.length?s:n).shift());if(!m)for(m=e.split(_colorExp),g=m.length-1;d<g;d++)o+=m[d]+s[d];return o+m[g]},_colorExp=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in _colorLookup)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),_hslExp=/hsl[a]?\(/,_colorStringFilter=function t(e){var r=e.join(" "),n;if(_colorExp.lastIndex=0,_colorExp.test(r))return n=_hslExp.test(r),e[1]=_formatColors(e[1],n),e[0]=_formatColors(e[0],n,_colorOrderData(e[1])),!0},_tickerActive,_ticker=function(){var t=Date.now,e=500,r=33,n=t(),o=n,s=1e3/240,c=s,d=[],u,m,_,g,f,y,M=function T(A){var E=t()-o,C=A===!0,k,O,I,B;if(E>e&&(n+=E-r),o+=E,I=o-n,k=I-c,(k>0||C)&&(B=++g.frame,f=I-g.time*1e3,g.time=I=I/1e3,c+=k+(k>=s?4:s-k),O=1),C||(u=m(T)),O)for(y=0;y<d.length;y++)d[y](I,f,B,A)};return g={time:0,frame:0,tick:function(){M(!0)},deltaRatio:function(T){return f/(1e3/(T||60))},wake:function(){_coreReady&&(!_coreInitted&&_windowExists$1()&&(_win$1=_coreInitted=window,_doc$1=_win$1.document||{},_globals.gsap=gsap,(_win$1.gsapVersions||(_win$1.gsapVersions=[])).push(gsap.version),_install(_installScope||_win$1.GreenSockGlobals||!_win$1.gsap&&_win$1||{}),_=_win$1.requestAnimationFrame,_registerPluginQueue.forEach(_createPlugin)),u&&g.sleep(),m=_||function(T){return setTimeout(T,c-g.time*1e3+1|0)},_tickerActive=1,M(2))},sleep:function(){(_?_win$1.cancelAnimationFrame:clearTimeout)(u),_tickerActive=0,m=_emptyFunc},lagSmoothing:function(T,A){e=T||1/0,r=Math.min(A||33,e)},fps:function(T){s=1e3/(T||240),c=g.time*1e3+s},add:function(T,A,E){var C=A?function(k,O,I,B){T(k,O,I,B),g.remove(C)}:T;return g.remove(T),d[E?"unshift":"push"](C),_wake(),C},remove:function(T,A){~(A=d.indexOf(T))&&d.splice(A,1)&&y>=A&&y--},_listeners:d},g}(),_wake=function t(){return!_tickerActive&&_ticker.wake()},_easeMap={},_customEaseExp=/^[\d.\-M][\d.\-,\s]/,_quotesExp=/["']/g,_parseObjectInString=function t(e){for(var r={},n=e.substr(1,e.length-3).split(":"),o=n[0],s=1,c=n.length,d,u,m;s<c;s++)u=n[s],d=s!==c-1?u.lastIndexOf(","):u.length,m=u.substr(0,d),r[o]=isNaN(m)?m.replace(_quotesExp,"").trim():+m,o=u.substr(d+1).trim();return r},_valueInParentheses=function t(e){var r=e.indexOf("(")+1,n=e.indexOf(")"),o=e.indexOf("(",r);return e.substring(r,~o&&o<n?e.indexOf(")",n+1):n)},_configEaseFromString=function t(e){var r=(e+"").split("("),n=_easeMap[r[0]];return n&&r.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[_parseObjectInString(r[1])]:_valueInParentheses(e).split(",").map(_numericIfPossible)):_easeMap._CE&&_customEaseExp.test(e)?_easeMap._CE("",e):n},_invertEase=function t(e){return function(r){return 1-e(1-r)}},_propagateYoyoEase=function t(e,r){for(var n=e._first,o;n;)n instanceof Timeline?t(n,r):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==r&&(n.timeline?t(n.timeline,r):(o=n._ease,n._ease=n._yEase,n._yEase=o,n._yoyo=r)),n=n._next},_parseEase=function t(e,r){return e&&(_isFunction(e)?e:_easeMap[e]||_configEaseFromString(e))||r},_insertEase=function t(e,r,n,o){n===void 0&&(n=function(d){return 1-r(1-d)}),o===void 0&&(o=function(d){return d<.5?r(d*2)/2:1-r((1-d)*2)/2});var s={easeIn:r,easeOut:n,easeInOut:o},c;return _forEachName(e,function(d){_easeMap[d]=_globals[d]=s,_easeMap[c=d.toLowerCase()]=n;for(var u in s)_easeMap[c+(u==="easeIn"?".in":u==="easeOut"?".out":".inOut")]=_easeMap[d+"."+u]=s[u]}),s},_easeInOutFromOut=function t(e){return function(r){return r<.5?(1-e(1-r*2))/2:.5+e((r-.5)*2)/2}},_configElastic=function t(e,r,n){var o=r>=1?r:1,s=(n||(e?.3:.45))/(r<1?r:1),c=s/_2PI*(Math.asin(1/o)||0),d=function(m){return m===1?1:o*Math.pow(2,-10*m)*_sin((m-c)*s)+1},u=e==="out"?d:e==="in"?function(m){return 1-d(1-m)}:_easeInOutFromOut(d);return s=_2PI/s,u.config=function(m,_){return t(e,m,_)},u},_configBack=function t(e,r){r===void 0&&(r=1.70158);var n=function(s){return s?--s*s*((r+1)*s+r)+1:0},o=e==="out"?n:e==="in"?function(s){return 1-n(1-s)}:_easeInOutFromOut(n);return o.config=function(s){return t(e,s)},o};_forEachName("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var r=e<5?e+1:e;_insertEase(t+",Power"+(r-1),e?function(n){return Math.pow(n,r)}:function(n){return n},function(n){return 1-Math.pow(1-n,r)},function(n){return n<.5?Math.pow(n*2,r)/2:1-Math.pow((1-n)*2,r)/2})}),_easeMap.Linear.easeNone=_easeMap.none=_easeMap.Linear.easeIn,_insertEase("Elastic",_configElastic("in"),_configElastic("out"),_configElastic()),function(t,e){var r=1/e,n=2*r,o=2.5*r,s=function(c){return c<r?t*c*c:c<n?t*Math.pow(c-1.5/e,2)+.75:c<o?t*(c-=2.25/e)*c+.9375:t*Math.pow(c-2.625/e,2)+.984375};_insertEase("Bounce",function(c){return 1-s(1-c)},s)}(7.5625,2.75),_insertEase("Expo",function(t){return t?Math.pow(2,10*(t-1)):0}),_insertEase("Circ",function(t){return-(_sqrt(1-t*t)-1)}),_insertEase("Sine",function(t){return t===1?1:-_cos(t*_HALF_PI)+1}),_insertEase("Back",_configBack("in"),_configBack("out"),_configBack()),_easeMap.SteppedEase=_easeMap.steps=_globals.SteppedEase={config:function t(e,r){e===void 0&&(e=1);var n=1/e,o=e+(r?0:1),s=r?1:0,c=1-_tinyNum;return function(d){return((o*_clamp(0,c,d)|0)+s)*n}}},_defaults.ease=_easeMap["quad.out"],_forEachName("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return _callbackNames+=t+","+t+"Params,"});var GSCache=function t(e,r){this.id=_gsID++,e._gsap=this,this.target=e,this.harness=r,this.get=r?r.get:_getProperty,this.set=r?r.getSetter:_getSetter},Animation=function(){function t(r){this.vars=r,this._delay=+r.delay||0,(this._repeat=r.repeat===1/0?-2:r.repeat||0)&&(this._rDelay=r.repeatDelay||0,this._yoyo=!!r.yoyo||!!r.yoyoEase),this._ts=1,_setDuration(this,+r.duration,1,1),this.data=r.data,_context&&(this._ctx=_context,_context.data.push(this)),_tickerActive||_ticker.wake()}var e=t.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,_setDuration(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,n){if(_wake(),!arguments.length)return this._tTime;var o=this._dp;if(o&&o.smoothChildTiming&&this._ts){for(_alignPlayhead(this,r),!o._dp||o.parent||_postAddChecks(o,this);o&&o.parent;)o.parent._time!==o._start+(o._ts>=0?o._tTime/o._ts:(o.totalDuration()-o._tTime)/-o._ts)&&o.totalTime(o._tTime,!0),o=o.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&_addToTimeline(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!n||this._initted&&Math.abs(this._zTime)===_tinyNum||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),_lazySafeRender(this,r,n)),this},e.time=function(r,n){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+_elapsedCycleDuration(this))%(this._dur+this._rDelay)||(r?this._dur:0),n):this._time},e.totalProgress=function(r,n){return arguments.length?this.totalTime(this.totalDuration()*r,n):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(r,n){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+_elapsedCycleDuration(this),n):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(r,n){var o=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*o,n):this._repeat?_animationCycle(this._tTime,o)+1:1},e.timeScale=function(r){if(!arguments.length)return this._rts===-_tinyNum?0:this._rts;if(this._rts===r)return this;var n=this.parent&&this._ts?_parentToChildTotalTime(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-_tinyNum?0:this._rts,this.totalTime(_clamp(-Math.abs(this._delay),this._tDur,n),!0),_setEnd(this),_recacheAncestors(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(_wake(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==_tinyNum&&(this._tTime-=_tinyNum)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var n=this.parent||this._dp;return n&&(n._sort||!this.parent)&&_addToTimeline(n,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(_isNotFalse(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var n=this.parent||this._dp;return n?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?_parentToChildTotalTime(n.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=_revertConfig);var n=_reverting$1;return _reverting$1=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),_reverting$1=n,this},e.globalTime=function(r){for(var n=this,o=arguments.length?r:n.rawTime();n;)o=n._start+o/(n._ts||1),n=n._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1/0:this._sat.globalTime(r):o},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,_onUpdateTotalDuration(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var n=this._time;return this._rDelay=r,_onUpdateTotalDuration(this),n?this.time(n):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,n){return this.totalTime(_parsePosition(this,r),_isNotFalse(n))},e.restart=function(r,n){return this.play().totalTime(r?-this._delay:0,_isNotFalse(n))},e.play=function(r,n){return r!=null&&this.seek(r,n),this.reversed(!1).paused(!1)},e.reverse=function(r,n){return r!=null&&this.seek(r||this.totalDuration(),n),this.reversed(!0).paused(!1)},e.pause=function(r,n){return r!=null&&this.seek(r,n),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-_tinyNum:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-_tinyNum,this},e.isActive=function(){var r=this.parent||this._dp,n=this._start,o;return!!(!r||this._ts&&this._initted&&r.isActive()&&(o=r.rawTime(!0))>=n&&o<this.endTime(!0)-_tinyNum)},e.eventCallback=function(r,n,o){var s=this.vars;return arguments.length>1?(n?(s[r]=n,o&&(s[r+"Params"]=o),r==="onUpdate"&&(this._onUpdate=n)):delete s[r],this):s[r]},e.then=function(r){var n=this;return new Promise(function(o){var s=_isFunction(r)?r:_passThrough,c=function(){var d=n.then;n.then=null,_isFunction(s)&&(s=s(n))&&(s.then||s===n)&&(n.then=d),o(s),n.then=d};n._initted&&n.totalProgress()===1&&n._ts>=0||!n._tTime&&n._ts<0?c():n._prom=c})},e.kill=function(){_interrupt(this)},t}();_setDefaults(Animation.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-_tinyNum,_prom:0,_ps:!1,_rts:1});var Timeline=function(t){_inheritsLoose(e,t);function e(n,o){var s;return n===void 0&&(n={}),s=t.call(this,n)||this,s.labels={},s.smoothChildTiming=!!n.smoothChildTiming,s.autoRemoveChildren=!!n.autoRemoveChildren,s._sort=_isNotFalse(n.sortChildren),_globalTimeline&&_addToTimeline(n.parent||_globalTimeline,_assertThisInitialized(s),o),n.reversed&&s.reverse(),n.paused&&s.paused(!0),n.scrollTrigger&&_scrollTrigger(_assertThisInitialized(s),n.scrollTrigger),s}var r=e.prototype;return r.to=function(n,o,s){return _createTweenType(0,arguments,this),this},r.from=function(n,o,s){return _createTweenType(1,arguments,this),this},r.fromTo=function(n,o,s,c){return _createTweenType(2,arguments,this),this},r.set=function(n,o,s){return o.duration=0,o.parent=this,_inheritDefaults(o).repeatDelay||(o.repeat=0),o.immediateRender=!!o.immediateRender,new Tween(n,o,_parsePosition(this,s),1),this},r.call=function(n,o,s){return _addToTimeline(this,Tween.delayedCall(0,n,o),s)},r.staggerTo=function(n,o,s,c,d,u,m){return s.duration=o,s.stagger=s.stagger||c,s.onComplete=u,s.onCompleteParams=m,s.parent=this,new Tween(n,s,_parsePosition(this,d)),this},r.staggerFrom=function(n,o,s,c,d,u,m){return s.runBackwards=1,_inheritDefaults(s).immediateRender=_isNotFalse(s.immediateRender),this.staggerTo(n,o,s,c,d,u,m)},r.staggerFromTo=function(n,o,s,c,d,u,m,_){return c.startAt=s,_inheritDefaults(c).immediateRender=_isNotFalse(c.immediateRender),this.staggerTo(n,o,c,d,u,m,_)},r.render=function(n,o,s){var c=this._time,d=this._dirty?this.totalDuration():this._tDur,u=this._dur,m=n<=0?0:_roundPrecise(n),_=this._zTime<0!=n<0&&(this._initted||!u),g,f,y,M,T,A,E,C,k,O,I,B;if(this!==_globalTimeline&&m>d&&n>=0&&(m=d),m!==this._tTime||s||_){if(c!==this._time&&u&&(m+=this._time-c,n+=this._time-c),g=m,k=this._start,C=this._ts,A=!C,_&&(u||(c=this._zTime),(n||!o)&&(this._zTime=n)),this._repeat){if(I=this._yoyo,T=u+this._rDelay,this._repeat<-1&&n<0)return this.totalTime(T*100+n,o,s);if(g=_roundPrecise(m%T),m===d?(M=this._repeat,g=u):(M=~~(m/T),M&&M===m/T&&(g=u,M--),g>u&&(g=u)),O=_animationCycle(this._tTime,T),!c&&this._tTime&&O!==M&&this._tTime-O*T-this._dur<=0&&(O=M),I&&M&1&&(g=u-g,B=1),M!==O&&!this._lock){var j=I&&O&1,U=j===(I&&M&1);if(M<O&&(j=!j),c=j?0:m%u?u:m,this._lock=1,this.render(c||(B?0:_roundPrecise(M*T)),o,!u)._lock=0,this._tTime=m,!o&&this.parent&&_callback(this,"onRepeat"),this.vars.repeatRefresh&&!B&&(this.invalidate()._lock=1),c&&c!==this._time||A!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,d=this._tDur,U&&(this._lock=2,c=j?u:-1e-4,this.render(c,!0),this.vars.repeatRefresh&&!B&&this.invalidate()),this._lock=0,!this._ts&&!A)return this;_propagateYoyoEase(this,B)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(E=_findNextPauseTween(this,_roundPrecise(c),_roundPrecise(g)),E&&(m-=g-(g=E._start))),this._tTime=m,this._time=g,this._act=!C,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=n,c=0),!c&&g&&!o&&!M&&(_callback(this,"onStart"),this._tTime!==m))return this;if(g>=c&&n>=0)for(f=this._first;f;){if(y=f._next,(f._act||g>=f._start)&&f._ts&&E!==f){if(f.parent!==this)return this.render(n,o,s);if(f.render(f._ts>0?(g-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(g-f._start)*f._ts,o,s),g!==this._time||!this._ts&&!A){E=0,y&&(m+=this._zTime=-_tinyNum);break}}f=y}else{f=this._last;for(var N=n<0?n:g;f;){if(y=f._prev,(f._act||N<=f._end)&&f._ts&&E!==f){if(f.parent!==this)return this.render(n,o,s);if(f.render(f._ts>0?(N-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(N-f._start)*f._ts,o,s||_reverting$1&&(f._initted||f._startAt)),g!==this._time||!this._ts&&!A){E=0,y&&(m+=this._zTime=N?-_tinyNum:_tinyNum);break}}f=y}}if(E&&!o&&(this.pause(),E.render(g>=c?0:-_tinyNum)._zTime=g>=c?1:-1,this._ts))return this._start=k,_setEnd(this),this.render(n,o,s);this._onUpdate&&!o&&_callback(this,"onUpdate",!0),(m===d&&this._tTime>=this.totalDuration()||!m&&c)&&(k===this._start||Math.abs(C)!==Math.abs(this._ts))&&(this._lock||((n||!u)&&(m===d&&this._ts>0||!m&&this._ts<0)&&_removeFromParent(this,1),!o&&!(n<0&&!c)&&(m||c||!d)&&(_callback(this,m===d&&n>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(m<d&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(n,o){var s=this;if(_isNumber(o)||(o=_parsePosition(this,o,n)),!(n instanceof Animation)){if(_isArray(n))return n.forEach(function(c){return s.add(c,o)}),this;if(_isString(n))return this.addLabel(n,o);if(_isFunction(n))n=Tween.delayedCall(0,n);else return this}return this!==n?_addToTimeline(this,n,o):this},r.getChildren=function(n,o,s,c){n===void 0&&(n=!0),o===void 0&&(o=!0),s===void 0&&(s=!0),c===void 0&&(c=-_bigNum$1);for(var d=[],u=this._first;u;)u._start>=c&&(u instanceof Tween?o&&d.push(u):(s&&d.push(u),n&&d.push.apply(d,u.getChildren(!0,o,s)))),u=u._next;return d},r.getById=function(n){for(var o=this.getChildren(1,1,1),s=o.length;s--;)if(o[s].vars.id===n)return o[s]},r.remove=function(n){return _isString(n)?this.removeLabel(n):_isFunction(n)?this.killTweensOf(n):(_removeLinkedListItem(this,n),n===this._recent&&(this._recent=this._last),_uncache(this))},r.totalTime=function(n,o){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=_roundPrecise(_ticker.time-(this._ts>0?n/this._ts:(this.totalDuration()-n)/-this._ts))),t.prototype.totalTime.call(this,n,o),this._forcing=0,this):this._tTime},r.addLabel=function(n,o){return this.labels[n]=_parsePosition(this,o),this},r.removeLabel=function(n){return delete this.labels[n],this},r.addPause=function(n,o,s){var c=Tween.delayedCall(0,o||_emptyFunc,s);return c.data="isPause",this._hasPause=1,_addToTimeline(this,c,_parsePosition(this,n))},r.removePause=function(n){var o=this._first;for(n=_parsePosition(this,n);o;)o._start===n&&o.data==="isPause"&&_removeFromParent(o),o=o._next},r.killTweensOf=function(n,o,s){for(var c=this.getTweensOf(n,s),d=c.length;d--;)_overwritingTween!==c[d]&&c[d].kill(n,o);return this},r.getTweensOf=function(n,o){for(var s=[],c=toArray$1(n),d=this._first,u=_isNumber(o),m;d;)d instanceof Tween?_arrayContainsAny(d._targets,c)&&(u?(!_overwritingTween||d._initted&&d._ts)&&d.globalTime(0)<=o&&d.globalTime(d.totalDuration())>o:!o||d.isActive())&&s.push(d):(m=d.getTweensOf(c,o)).length&&s.push.apply(s,m),d=d._next;return s},r.tweenTo=function(n,o){o=o||{};var s=this,c=_parsePosition(s,n),d=o,u=d.startAt,m=d.onStart,_=d.onStartParams,g=d.immediateRender,f,y=Tween.to(s,_setDefaults({ease:o.ease||"none",lazy:!1,immediateRender:!1,time:c,overwrite:"auto",duration:o.duration||Math.abs((c-(u&&"time"in u?u.time:s._time))/s.timeScale())||_tinyNum,onStart:function(){if(s.pause(),!f){var M=o.duration||Math.abs((c-(u&&"time"in u?u.time:s._time))/s.timeScale());y._dur!==M&&_setDuration(y,M,0,1).render(y._time,!0,!0),f=1}m&&m.apply(y,_||[])}},o));return g?y.render(0):y},r.tweenFromTo=function(n,o,s){return this.tweenTo(o,_setDefaults({startAt:{time:_parsePosition(this,n)}},s))},r.recent=function(){return this._recent},r.nextLabel=function(n){return n===void 0&&(n=this._time),_getLabelInDirection(this,_parsePosition(this,n))},r.previousLabel=function(n){return n===void 0&&(n=this._time),_getLabelInDirection(this,_parsePosition(this,n),1)},r.currentLabel=function(n){return arguments.length?this.seek(n,!0):this.previousLabel(this._time+_tinyNum)},r.shiftChildren=function(n,o,s){s===void 0&&(s=0);for(var c=this._first,d=this.labels,u;c;)c._start>=s&&(c._start+=n,c._end+=n),c=c._next;if(o)for(u in d)d[u]>=s&&(d[u]+=n);return _uncache(this)},r.invalidate=function(n){var o=this._first;for(this._lock=0;o;)o.invalidate(n),o=o._next;return t.prototype.invalidate.call(this,n)},r.clear=function(n){n===void 0&&(n=!0);for(var o=this._first,s;o;)s=o._next,this.remove(o),o=s;return this._dp&&(this._time=this._tTime=this._pTime=0),n&&(this.labels={}),_uncache(this)},r.totalDuration=function(n){var o=0,s=this,c=s._last,d=_bigNum$1,u,m,_;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-n:n));if(s._dirty){for(_=s.parent;c;)u=c._prev,c._dirty&&c.totalDuration(),m=c._start,m>d&&s._sort&&c._ts&&!s._lock?(s._lock=1,_addToTimeline(s,c,m-c._delay,1)._lock=0):d=m,m<0&&c._ts&&(o-=m,(!_&&!s._dp||_&&_.smoothChildTiming)&&(s._start+=m/s._ts,s._time-=m,s._tTime-=m),s.shiftChildren(-m,!1,-1/0),d=0),c._end>o&&c._ts&&(o=c._end),c=u;_setDuration(s,s===_globalTimeline&&s._time>o?s._time:o,1,1),s._dirty=0}return s._tDur},e.updateRoot=function(n){if(_globalTimeline._ts&&(_lazySafeRender(_globalTimeline,_parentToChildTotalTime(n,_globalTimeline)),_lastRenderedFrame=_ticker.frame),_ticker.frame>=_nextGCFrame){_nextGCFrame+=_config.autoSleep||120;var o=_globalTimeline._first;if((!o||!o._ts)&&_config.autoSleep&&_ticker._listeners.length<2){for(;o&&!o._ts;)o=o._next;o||_ticker.sleep()}}},e}(Animation);_setDefaults(Timeline.prototype,{_lock:0,_hasPause:0,_forcing:0});var _addComplexStringPropTween=function t(e,r,n,o,s,c,d){var u=new PropTween(this._pt,e,r,0,1,_renderComplexString,null,s),m=0,_=0,g,f,y,M,T,A,E,C;for(u.b=n,u.e=o,n+="",o+="",(E=~o.indexOf("random("))&&(o=_replaceRandom(o)),c&&(C=[n,o],c(C,e,r),n=C[0],o=C[1]),f=n.match(_complexStringNumExp)||[];g=_complexStringNumExp.exec(o);)M=g[0],T=o.substring(m,g.index),y?y=(y+1)%5:T.substr(-5)==="rgba("&&(y=1),M!==f[_++]&&(A=parseFloat(f[_-1])||0,u._pt={_next:u._pt,p:T||_===1?T:",",s:A,c:M.charAt(1)==="="?_parseRelative(A,M)-A:parseFloat(M)-A,m:y&&y<4?Math.round:0},m=_complexStringNumExp.lastIndex);return u.c=m<o.length?o.substring(m,o.length):"",u.fp=d,(_relExp.test(o)||E)&&(u.e=0),this._pt=u,u},_addPropTween=function t(e,r,n,o,s,c,d,u,m,_){_isFunction(o)&&(o=o(s||0,e,c));var g=e[r],f=n!=="get"?n:_isFunction(g)?m?e[r.indexOf("set")||!_isFunction(e["get"+r.substr(3)])?r:"get"+r.substr(3)](m):e[r]():g,y=_isFunction(g)?m?_setterFuncWithParam:_setterFunc:_setterPlain,M;if(_isString(o)&&(~o.indexOf("random(")&&(o=_replaceRandom(o)),o.charAt(1)==="="&&(M=_parseRelative(f,o)+(getUnit(f)||0),(M||M===0)&&(o=M))),!_||f!==o||_forceAllPropTweens)return!isNaN(f*o)&&o!==""?(M=new PropTween(this._pt,e,r,+f||0,o-(f||0),typeof g=="boolean"?_renderBoolean:_renderPlain,0,y),m&&(M.fp=m),d&&M.modifier(d,this,e),this._pt=M):(!g&&!(r in e)&&_missingPlugin(r,o),_addComplexStringPropTween.call(this,e,r,f,o,y,u||_config.stringFilter,m))},_processVars=function t(e,r,n,o,s){if(_isFunction(e)&&(e=_parseFuncOrString(e,s,r,n,o)),!_isObject(e)||e.style&&e.nodeType||_isArray(e)||_isTypedArray(e))return _isString(e)?_parseFuncOrString(e,s,r,n,o):e;var c={},d;for(d in e)c[d]=_parseFuncOrString(e[d],s,r,n,o);return c},_checkPlugin=function t(e,r,n,o,s,c){var d,u,m,_;if(_plugins[e]&&(d=new _plugins[e]).init(s,d.rawVars?r[e]:_processVars(r[e],o,s,c,n),n,o,c)!==!1&&(n._pt=u=new PropTween(n._pt,s,e,0,1,d.render,d,0,d.priority),n!==_quickTween))for(m=n._ptLookup[n._targets.indexOf(s)],_=d._props.length;_--;)m[d._props[_]]=u;return d},_overwritingTween,_forceAllPropTweens,_initTween=function t(e,r,n){var o=e.vars,s=o.ease,c=o.startAt,d=o.immediateRender,u=o.lazy,m=o.onUpdate,_=o.onUpdateParams,g=o.callbackScope,f=o.runBackwards,y=o.yoyoEase,M=o.keyframes,T=o.autoRevert,A=e._dur,E=e._startAt,C=e._targets,k=e.parent,O=k&&k.data==="nested"?k.vars.targets:C,I=e._overwrite==="auto"&&!_suppressOverwrites,B=e.timeline,j,U,N,W,ne,re,le,ae,pe,K,q,D,z;if(B&&(!M||!s)&&(s="none"),e._ease=_parseEase(s,_defaults.ease),e._yEase=y?_invertEase(_parseEase(y===!0?s:y,_defaults.ease)):0,y&&e._yoyo&&!e._repeat&&(y=e._yEase,e._yEase=e._ease,e._ease=y),e._from=!B&&!!o.runBackwards,!B||M&&!o.stagger){if(ae=C[0]?_getCache(C[0]).harness:0,D=ae&&o[ae.prop],j=_copyExcluding(o,_reservedProps),E&&(E._zTime<0&&E.progress(1),r<0&&f&&d&&!T?E.render(-1,!0):E.revert(f&&A?_revertConfigNoKill:_startAtRevertConfig),E._lazy=0),c){if(_removeFromParent(e._startAt=Tween.set(C,_setDefaults({data:"isStart",overwrite:!1,parent:k,immediateRender:!0,lazy:!E&&_isNotFalse(u),startAt:null,delay:0,onUpdate:m,onUpdateParams:_,callbackScope:g,stagger:0},c))),e._startAt._dp=0,e._startAt._sat=e,r<0&&(_reverting$1||!d&&!T)&&e._startAt.revert(_revertConfigNoKill),d&&A&&r<=0&&n<=0){r&&(e._zTime=r);return}}else if(f&&A&&!E){if(r&&(d=!1),N=_setDefaults({overwrite:!1,data:"isFromStart",lazy:d&&!E&&_isNotFalse(u),immediateRender:d,stagger:0,parent:k},j),D&&(N[ae.prop]=D),_removeFromParent(e._startAt=Tween.set(C,N)),e._startAt._dp=0,e._startAt._sat=e,r<0&&(_reverting$1?e._startAt.revert(_revertConfigNoKill):e._startAt.render(-1,!0)),e._zTime=r,!d)t(e._startAt,_tinyNum,_tinyNum);else if(!r)return}for(e._pt=e._ptCache=0,u=A&&_isNotFalse(u)||u&&!A,U=0;U<C.length;U++){if(ne=C[U],le=ne._gsap||_harness(C)[U]._gsap,e._ptLookup[U]=K={},_lazyLookup[le.id]&&_lazyTweens.length&&_lazyRender(),q=O===C?U:O.indexOf(ne),ae&&(pe=new ae).init(ne,D||j,e,q,O)!==!1&&(e._pt=W=new PropTween(e._pt,ne,pe.name,0,1,pe.render,pe,0,pe.priority),pe._props.forEach(function(J){K[J]=W}),pe.priority&&(re=1)),!ae||D)for(N in j)_plugins[N]&&(pe=_checkPlugin(N,j,e,q,ne,O))?pe.priority&&(re=1):K[N]=W=_addPropTween.call(e,ne,N,"get",j[N],q,O,0,o.stringFilter);e._op&&e._op[U]&&e.kill(ne,e._op[U]),I&&e._pt&&(_overwritingTween=e,_globalTimeline.killTweensOf(ne,K,e.globalTime(r)),z=!e.parent,_overwritingTween=0),e._pt&&u&&(_lazyLookup[le.id]=1)}re&&_sortPropTweensByPriority(e),e._onInit&&e._onInit(e)}e._onUpdate=m,e._initted=(!e._op||e._pt)&&!z,M&&r<=0&&B.render(_bigNum$1,!0,!0)},_updatePropTweens=function t(e,r,n,o,s,c,d){var u=(e._pt&&e._ptCache||(e._ptCache={}))[r],m,_,g,f;if(!u)for(u=e._ptCache[r]=[],g=e._ptLookup,f=e._targets.length;f--;){if(m=g[f][r],m&&m.d&&m.d._pt)for(m=m.d._pt;m&&m.p!==r&&m.fp!==r;)m=m._next;if(!m)return _forceAllPropTweens=1,e.vars[r]="+=0",_initTween(e,d),_forceAllPropTweens=0,1;u.push(m)}for(f=u.length;f--;)_=u[f],m=_._pt||_,m.s=(o||o===0)&&!s?o:m.s+(o||0)+c*m.c,m.c=n-m.s,_.e&&(_.e=_round(n)+getUnit(_.e)),_.b&&(_.b=m.s+getUnit(_.b))},_addAliasesToVars=function t(e,r){var n=e[0]?_getCache(e[0]).harness:0,o=n&&n.aliases,s,c,d,u;if(!o)return r;s=_merge({},r);for(c in o)if(c in s)for(u=o[c].split(","),d=u.length;d--;)s[u[d]]=s[c];return s},_parseKeyframe=function t(e,r,n,o){var s=r.ease||o||"power1.inOut",c,d;if(_isArray(r))d=n[e]||(n[e]=[]),r.forEach(function(u,m){return d.push({t:m/(r.length-1)*100,v:u,e:s})});else for(c in r)d=n[c]||(n[c]=[]),c==="ease"||d.push({t:parseFloat(e),v:r[c],e:s})},_parseFuncOrString=function t(e,r,n,o,s){return _isFunction(e)?e.call(r,n,o,s):_isString(e)&&~e.indexOf("random(")?_replaceRandom(e):e},_staggerTweenProps=_callbackNames+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",_staggerPropsToSkip={};_forEachName(_staggerTweenProps+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return _staggerPropsToSkip[t]=1});var Tween=function(t){_inheritsLoose(e,t);function e(n,o,s,c){var d;typeof o=="number"&&(s.duration=o,o=s,s=null),d=t.call(this,c?o:_inheritDefaults(o))||this;var u=d.vars,m=u.duration,_=u.delay,g=u.immediateRender,f=u.stagger,y=u.overwrite,M=u.keyframes,T=u.defaults,A=u.scrollTrigger,E=u.yoyoEase,C=o.parent||_globalTimeline,k=(_isArray(n)||_isTypedArray(n)?_isNumber(n[0]):"length"in o)?[n]:toArray$1(n),O,I,B,j,U,N,W,ne;if(d._targets=k.length?_harness(k):_warn("GSAP target "+n+" not found. https://greensock.com",!_config.nullTargetWarn)||[],d._ptLookup=[],d._overwrite=y,M||f||_isFuncOrString(m)||_isFuncOrString(_)){if(o=d.vars,O=d.timeline=new Timeline({data:"nested",defaults:T||{},targets:C&&C.data==="nested"?C.vars.targets:k}),O.kill(),O.parent=O._dp=_assertThisInitialized(d),O._start=0,f||_isFuncOrString(m)||_isFuncOrString(_)){if(j=k.length,W=f&&distribute(f),_isObject(f))for(U in f)~_staggerTweenProps.indexOf(U)&&(ne||(ne={}),ne[U]=f[U]);for(I=0;I<j;I++)B=_copyExcluding(o,_staggerPropsToSkip),B.stagger=0,E&&(B.yoyoEase=E),ne&&_merge(B,ne),N=k[I],B.duration=+_parseFuncOrString(m,_assertThisInitialized(d),I,N,k),B.delay=(+_parseFuncOrString(_,_assertThisInitialized(d),I,N,k)||0)-d._delay,!f&&j===1&&B.delay&&(d._delay=_=B.delay,d._start+=_,B.delay=0),O.to(N,B,W?W(I,N,k):0),O._ease=_easeMap.none;O.duration()?m=_=0:d.timeline=0}else if(M){_inheritDefaults(_setDefaults(O.vars.defaults,{ease:"none"})),O._ease=_parseEase(M.ease||o.ease||"none");var re=0,le,ae,pe;if(_isArray(M))M.forEach(function(K){return O.to(k,K,">")}),O.duration();else{B={};for(U in M)U==="ease"||U==="easeEach"||_parseKeyframe(U,M[U],B,M.easeEach);for(U in B)for(le=B[U].sort(function(K,q){return K.t-q.t}),re=0,I=0;I<le.length;I++)ae=le[I],pe={ease:ae.e,duration:(ae.t-(I?le[I-1].t:0))/100*m},pe[U]=ae.v,O.to(k,pe,re),re+=pe.duration;O.duration()<m&&O.to({},{duration:m-O.duration()})}}m||d.duration(m=O.duration())}else d.timeline=0;return y===!0&&!_suppressOverwrites&&(_overwritingTween=_assertThisInitialized(d),_globalTimeline.killTweensOf(k),_overwritingTween=0),_addToTimeline(C,_assertThisInitialized(d),s),o.reversed&&d.reverse(),o.paused&&d.paused(!0),(g||!m&&!M&&d._start===_roundPrecise(C._time)&&_isNotFalse(g)&&_hasNoPausedAncestors(_assertThisInitialized(d))&&C.data!=="nested")&&(d._tTime=-_tinyNum,d.render(Math.max(0,-_)||0)),A&&_scrollTrigger(_assertThisInitialized(d),A),d}var r=e.prototype;return r.render=function(n,o,s){var c=this._time,d=this._tDur,u=this._dur,m=n<0,_=n>d-_tinyNum&&!m?d:n<_tinyNum?0:n,g,f,y,M,T,A,E,C,k;if(!u)_renderZeroDurationTween(this,n,o,s);else if(_!==this._tTime||!n||s||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m){if(g=_,C=this.timeline,this._repeat){if(M=u+this._rDelay,this._repeat<-1&&m)return this.totalTime(M*100+n,o,s);if(g=_roundPrecise(_%M),_===d?(y=this._repeat,g=u):(y=~~(_/M),y&&y===_/M&&(g=u,y--),g>u&&(g=u)),A=this._yoyo&&y&1,A&&(k=this._yEase,g=u-g),T=_animationCycle(this._tTime,M),g===c&&!s&&this._initted)return this._tTime=_,this;y!==T&&(C&&this._yEase&&_propagateYoyoEase(C,A),this.vars.repeatRefresh&&!A&&!this._lock&&(this._lock=s=1,this.render(_roundPrecise(M*y),!0).invalidate()._lock=0))}if(!this._initted){if(_attemptInitTween(this,m?n:g,s,o,_))return this._tTime=0,this;if(c!==this._time)return this;if(u!==this._dur)return this.render(n,o,s)}if(this._tTime=_,this._time=g,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=E=(k||this._ease)(g/u),this._from&&(this.ratio=E=1-E),g&&!c&&!o&&!y&&(_callback(this,"onStart"),this._tTime!==_))return this;for(f=this._pt;f;)f.r(E,f.d),f=f._next;C&&C.render(n<0?n:!g&&A?-_tinyNum:C._dur*C._ease(g/this._dur),o,s)||this._startAt&&(this._zTime=n),this._onUpdate&&!o&&(m&&_rewindStartAt(this,n,o,s),_callback(this,"onUpdate")),this._repeat&&y!==T&&this.vars.onRepeat&&!o&&this.parent&&_callback(this,"onRepeat"),(_===this._tDur||!_)&&this._tTime===_&&(m&&!this._onUpdate&&_rewindStartAt(this,n,!0,!0),(n||!u)&&(_===this._tDur&&this._ts>0||!_&&this._ts<0)&&_removeFromParent(this,1),!o&&!(m&&!c)&&(_||c||A)&&(_callback(this,_===d?"onComplete":"onReverseComplete",!0),this._prom&&!(_<d&&this.timeScale()>0)&&this._prom()))}return this},r.targets=function(){return this._targets},r.invalidate=function(n){return(!n||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(n),t.prototype.invalidate.call(this,n)},r.resetTo=function(n,o,s,c){_tickerActive||_ticker.wake(),this._ts||this.play();var d=Math.min(this._dur,(this._dp._time-this._start)*this._ts),u;return this._initted||_initTween(this,d),u=this._ease(d/this._dur),_updatePropTweens(this,n,o,s,c,u,d)?this.resetTo(n,o,s,c):(_alignPlayhead(this,0),this.parent||_addLinkedListItem(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(n,o){if(o===void 0&&(o="all"),!n&&(!o||o==="all"))return this._lazy=this._pt=0,this.parent?_interrupt(this):this;if(this.timeline){var s=this.timeline.totalDuration();return this.timeline.killTweensOf(n,o,_overwritingTween&&_overwritingTween.vars.overwrite!==!0)._first||_interrupt(this),this.parent&&s!==this.timeline.totalDuration()&&_setDuration(this,this._dur*this.timeline._tDur/s,0,1),this}var c=this._targets,d=n?toArray$1(n):c,u=this._ptLookup,m=this._pt,_,g,f,y,M,T,A;if((!o||o==="all")&&_arraysMatch(c,d))return o==="all"&&(this._pt=0),_interrupt(this);for(_=this._op=this._op||[],o!=="all"&&(_isString(o)&&(M={},_forEachName(o,function(E){return M[E]=1}),o=M),o=_addAliasesToVars(c,o)),A=c.length;A--;)if(~d.indexOf(c[A])){g=u[A],o==="all"?(_[A]=o,y=g,f={}):(f=_[A]=_[A]||{},y=o);for(M in y)T=g&&g[M],T&&((!("kill"in T.d)||T.d.kill(M)===!0)&&_removeLinkedListItem(this,T,"_pt"),delete g[M]),f!=="all"&&(f[M]=1)}return this._initted&&!this._pt&&m&&_interrupt(this),this},e.to=function(n,o){return new e(n,o,arguments[2])},e.from=function(n,o){return _createTweenType(1,arguments)},e.delayedCall=function(n,o,s,c){return new e(o,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:n,onComplete:o,onReverseComplete:o,onCompleteParams:s,onReverseCompleteParams:s,callbackScope:c})},e.fromTo=function(n,o,s){return _createTweenType(2,arguments)},e.set=function(n,o){return o.duration=0,o.repeatDelay||(o.repeat=0),new e(n,o)},e.killTweensOf=function(n,o,s){return _globalTimeline.killTweensOf(n,o,s)},e}(Animation);_setDefaults(Tween.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),_forEachName("staggerTo,staggerFrom,staggerFromTo",function(t){Tween[t]=function(){var e=new Timeline,r=_slice.call(arguments,0);return r.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,r)}});var _setterPlain=function t(e,r,n){return e[r]=n},_setterFunc=function t(e,r,n){return e[r](n)},_setterFuncWithParam=function t(e,r,n,o){return e[r](o.fp,n)},_setterAttribute=function t(e,r,n){return e.setAttribute(r,n)},_getSetter=function t(e,r){return _isFunction(e[r])?_setterFunc:_isUndefined(e[r])&&e.setAttribute?_setterAttribute:_setterPlain},_renderPlain=function t(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e6)/1e6,r)},_renderBoolean=function t(e,r){return r.set(r.t,r.p,!!(r.s+r.c*e),r)},_renderComplexString=function t(e,r){var n=r._pt,o="";if(!e&&r.b)o=r.b;else if(e===1&&r.e)o=r.e;else{for(;n;)o=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+o,n=n._next;o+=r.c}r.set(r.t,r.p,o,r)},_renderPropTweens=function t(e,r){for(var n=r._pt;n;)n.r(e,n.d),n=n._next},_addPluginModifier=function t(e,r,n,o){for(var s=this._pt,c;s;)c=s._next,s.p===o&&s.modifier(e,r,n),s=c},_killPropTweensOf=function t(e){for(var r=this._pt,n,o;r;)o=r._next,r.p===e&&!r.op||r.op===e?_removeLinkedListItem(this,r,"_pt"):r.dep||(n=1),r=o;return!n},_setterWithModifier=function t(e,r,n,o){o.mSet(e,r,o.m.call(o.tween,n,o.mt),o)},_sortPropTweensByPriority=function t(e){for(var r=e._pt,n,o,s,c;r;){for(n=r._next,o=s;o&&o.pr>r.pr;)o=o._next;(r._prev=o?o._prev:c)?r._prev._next=r:s=r,(r._next=o)?o._prev=r:c=r,r=n}e._pt=s},PropTween=function(){function t(r,n,o,s,c,d,u,m,_){this.t=n,this.s=s,this.c=c,this.p=o,this.r=d||_renderPlain,this.d=u||this,this.set=m||_setterPlain,this.pr=_||0,this._next=r,r&&(r._prev=this)}var e=t.prototype;return e.modifier=function(r,n,o){this.mSet=this.mSet||this.set,this.set=_setterWithModifier,this.m=r,this.mt=o,this.tween=n},t}();_forEachName(_callbackNames+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return _reservedProps[t]=1}),_globals.TweenMax=_globals.TweenLite=Tween,_globals.TimelineLite=_globals.TimelineMax=Timeline,_globalTimeline=new Timeline({sortChildren:!1,defaults:_defaults,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),_config.stringFilter=_colorStringFilter;var _media=[],_listeners={},_emptyArray=[],_lastMediaTime=0,_contextID=0,_dispatch=function t(e){return(_listeners[e]||_emptyArray).map(function(r){return r()})},_onMediaChange=function t(){var e=Date.now(),r=[];e-_lastMediaTime>2&&(_dispatch("matchMediaInit"),_media.forEach(function(n){var o=n.queries,s=n.conditions,c,d,u,m;for(d in o)c=_win$1.matchMedia(o[d]).matches,c&&(u=1),c!==s[d]&&(s[d]=c,m=1);m&&(n.revert(),u&&r.push(n))}),_dispatch("matchMediaRevert"),r.forEach(function(n){return n.onMatch(n)}),_lastMediaTime=e,_dispatch("matchMedia"))},Context=function(){function t(r,n){this.selector=n&&selector(n),this.data=[],this._r=[],this.isReverted=!1,this.id=_contextID++,r&&this.add(r)}var e=t.prototype;return e.add=function(r,n,o){_isFunction(r)&&(o=n,n=r,r=_isFunction);var s=this,c=function(){var d=_context,u=s.selector,m;return d&&d!==s&&d.data.push(s),o&&(s.selector=selector(o)),_context=s,m=n.apply(s,arguments),_isFunction(m)&&s._r.push(m),_context=d,s.selector=u,s.isReverted=!1,m};return s.last=c,r===_isFunction?c(s):r?s[r]=c:c},e.ignore=function(r){var n=_context;_context=null,r(this),_context=n},e.getTweens=function(){var r=[];return this.data.forEach(function(n){return n instanceof t?r.push.apply(r,n.getTweens()):n instanceof Tween&&!(n.parent&&n.parent.data==="nested")&&r.push(n)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,n){var o=this;if(r){var s=this.getTweens();this.data.forEach(function(d){d.data==="isFlip"&&(d.revert(),d.getChildren(!0,!0,!1).forEach(function(u){return s.splice(s.indexOf(u),1)}))}),s.map(function(d){return{g:d.globalTime(0),t:d}}).sort(function(d,u){return u.g-d.g||-1/0}).forEach(function(d){return d.t.revert(r)}),this.data.forEach(function(d){return!(d instanceof Tween)&&d.revert&&d.revert(r)}),this._r.forEach(function(d){return d(r,o)}),this.isReverted=!0}else this.data.forEach(function(d){return d.kill&&d.kill()});if(this.clear(),n)for(var c=_media.length;c--;)_media[c].id===this.id&&_media.splice(c,1)},e.revert=function(r){this.kill(r||{})},t}(),MatchMedia=function(){function t(r){this.contexts=[],this.scope=r}var e=t.prototype;return e.add=function(r,n,o){_isObject(r)||(r={matches:r});var s=new Context(0,o||this.scope),c=s.conditions={},d,u,m;_context&&!s.selector&&(s.selector=_context.selector),this.contexts.push(s),n=s.add("onMatch",n),s.queries=r;for(u in r)u==="all"?m=1:(d=_win$1.matchMedia(r[u]),d&&(_media.indexOf(s)<0&&_media.push(s),(c[u]=d.matches)&&(m=1),d.addListener?d.addListener(_onMediaChange):d.addEventListener("change",_onMediaChange)));return m&&n(s),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(n){return n.kill(r,!0)})},t}(),_gsap={registerPlugin:function t(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];r.forEach(function(o){return _createPlugin(o)})},timeline:function t(e){return new Timeline(e)},getTweensOf:function t(e,r){return _globalTimeline.getTweensOf(e,r)},getProperty:function t(e,r,n,o){_isString(e)&&(e=toArray$1(e)[0]);var s=_getCache(e||{}).get,c=n?_passThrough:_numericIfPossible;return n==="native"&&(n=""),e&&(r?c((_plugins[r]&&_plugins[r].get||s)(e,r,n,o)):function(d,u,m){return c((_plugins[d]&&_plugins[d].get||s)(e,d,u,m))})},quickSetter:function t(e,r,n){if(e=toArray$1(e),e.length>1){var o=e.map(function(_){return gsap.quickSetter(_,r,n)}),s=o.length;return function(_){for(var g=s;g--;)o[g](_)}}e=e[0]||{};var c=_plugins[r],d=_getCache(e),u=d.harness&&(d.harness.aliases||{})[r]||r,m=c?function(_){var g=new c;_quickTween._pt=0,g.init(e,n?_+n:_,_quickTween,0,[e]),g.render(1,g),_quickTween._pt&&_renderPropTweens(1,_quickTween)}:d.set(e,u);return c?m:function(_){return m(e,u,n?_+n:_,d,1)}},quickTo:function t(e,r,n){var o,s=gsap.to(e,_merge((o={},o[r]="+=0.1",o.paused=!0,o),n||{})),c=function(d,u,m){return s.resetTo(r,d,u,m)};return c.tween=s,c},isTweening:function t(e){return _globalTimeline.getTweensOf(e,!0).length>0},defaults:function t(e){return e&&e.ease&&(e.ease=_parseEase(e.ease,_defaults.ease)),_mergeDeep(_defaults,e||{})},config:function t(e){return _mergeDeep(_config,e||{})},registerEffect:function t(e){var r=e.name,n=e.effect,o=e.plugins,s=e.defaults,c=e.extendTimeline;(o||"").split(",").forEach(function(d){return d&&!_plugins[d]&&!_globals[d]&&_warn(r+" effect requires "+d+" plugin.")}),_effects[r]=function(d,u,m){return n(toArray$1(d),_setDefaults(u||{},s),m)},c&&(Timeline.prototype[r]=function(d,u,m){return this.add(_effects[r](d,_isObject(u)?u:(m=u)&&{},this),m)})},registerEase:function t(e,r){_easeMap[e]=_parseEase(r)},parseEase:function t(e,r){return arguments.length?_parseEase(e,r):_easeMap},getById:function t(e){return _globalTimeline.getById(e)},exportRoot:function t(e,r){e===void 0&&(e={});var n=new Timeline(e),o,s;for(n.smoothChildTiming=_isNotFalse(e.smoothChildTiming),_globalTimeline.remove(n),n._dp=0,n._time=n._tTime=_globalTimeline._time,o=_globalTimeline._first;o;)s=o._next,(r||!(!o._dur&&o instanceof Tween&&o.vars.onComplete===o._targets[0]))&&_addToTimeline(n,o,o._start-o._delay),o=s;return _addToTimeline(_globalTimeline,n,0),n},context:function t(e,r){return e?new Context(e,r):_context},matchMedia:function t(e){return new MatchMedia(e)},matchMediaRefresh:function t(){return _media.forEach(function(e){var r=e.conditions,n,o;for(o in r)r[o]&&(r[o]=!1,n=1);n&&e.revert()})||_onMediaChange()},addEventListener:function t(e,r){var n=_listeners[e]||(_listeners[e]=[]);~n.indexOf(r)||n.push(r)},removeEventListener:function t(e,r){var n=_listeners[e],o=n&&n.indexOf(r);o>=0&&n.splice(o,1)},utils:{wrap,wrapYoyo,distribute,random,snap,normalize,getUnit,clamp,splitColor,toArray:toArray$1,selector,mapRange,pipe,unitize,interpolate,shuffle},install:_install,effects:_effects,ticker:_ticker,updateRoot:Timeline.updateRoot,plugins:_plugins,globalTimeline:_globalTimeline,core:{PropTween,globals:_addGlobal,Tween,Timeline,Animation,getCache:_getCache,_removeLinkedListItem,reverting:function t(){return _reverting$1},context:function t(e){return e&&_context&&(_context.data.push(e),e._ctx=_context),_context},suppressOverwrites:function t(e){return _suppressOverwrites=e}}};_forEachName("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return _gsap[t]=Tween[t]}),_ticker.add(Timeline.updateRoot),_quickTween=_gsap.to({},{duration:0});var _getPluginPropTween=function t(e,r){for(var n=e._pt;n&&n.p!==r&&n.op!==r&&n.fp!==r;)n=n._next;return n},_addModifiers=function t(e,r){var n=e._targets,o,s,c;for(o in r)for(s=n.length;s--;)c=e._ptLookup[s][o],c&&(c=c.d)&&(c._pt&&(c=_getPluginPropTween(c,o)),c&&c.modifier&&c.modifier(r[o],e,n[s],o))},_buildModifierPlugin=function t(e,r){return{name:e,rawVars:1,init:function(n,o,s){s._onInit=function(c){var d,u;if(_isString(o)&&(d={},_forEachName(o,function(m){return d[m]=1}),o=d),r){d={};for(u in o)d[u]=r(o[u]);o=d}_addModifiers(c,o)}}}},gsap=_gsap.registerPlugin({name:"attr",init:function t(e,r,n,o,s){var c,d,u;this.tween=n;for(c in r)u=e.getAttribute(c)||"",d=this.add(e,"setAttribute",(u||0)+"",r[c],o,s,0,0,c),d.op=c,d.b=u,this._props.push(c)},render:function t(e,r){for(var n=r._pt;n;)_reverting$1?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",init:function t(e,r){for(var n=r.length;n--;)this.add(e,n,e[n]||0,r[n],0,0,0,0,0,1)}},_buildModifierPlugin("roundProps",_roundModifier),_buildModifierPlugin("modifiers"),_buildModifierPlugin("snap",snap))||_gsap;Tween.version=Timeline.version=gsap.version="3.12.2",_coreReady=1,_windowExists$1()&&_wake(),_easeMap.Power0,_easeMap.Power1,_easeMap.Power2,_easeMap.Power3,_easeMap.Power4,_easeMap.Linear,_easeMap.Quad,_easeMap.Cubic,_easeMap.Quart,_easeMap.Quint,_easeMap.Strong,_easeMap.Elastic,_easeMap.Back,_easeMap.SteppedEase,_easeMap.Bounce,_easeMap.Sine,_easeMap.Expo,_easeMap.Circ;var _win,_doc,_docElement,_pluginInitted,_tempDiv,_recentSetterPlugin,_reverting,_windowExists=function t(){return typeof window<"u"},_transformProps={},_RAD2DEG=180/Math.PI,_DEG2RAD=Math.PI/180,_atan2=Math.atan2,_bigNum=1e8,_capsExp=/([A-Z])/g,_horizontalExp=/(left|right|width|margin|padding|x)/i,_complexExp=/[\s,\(]\S/,_propertyAliases={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},_renderCSSProp=function t(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},_renderPropWithEnd=function t(e,r){return r.set(r.t,r.p,e===1?r.e:Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},_renderCSSPropWithBeginning=function t(e,r){return r.set(r.t,r.p,e?Math.round((r.s+r.c*e)*1e4)/1e4+r.u:r.b,r)},_renderRoundedCSSProp=function t(e,r){var n=r.s+r.c*e;r.set(r.t,r.p,~~(n+(n<0?-.5:.5))+r.u,r)},_renderNonTweeningValue=function t(e,r){return r.set(r.t,r.p,e?r.e:r.b,r)},_renderNonTweeningValueOnlyAtEnd=function t(e,r){return r.set(r.t,r.p,e!==1?r.b:r.e,r)},_setterCSSStyle=function t(e,r,n){return e.style[r]=n},_setterCSSProp=function t(e,r,n){return e.style.setProperty(r,n)},_setterTransform=function t(e,r,n){return e._gsap[r]=n},_setterScale=function t(e,r,n){return e._gsap.scaleX=e._gsap.scaleY=n},_setterScaleWithRender=function t(e,r,n,o,s){var c=e._gsap;c.scaleX=c.scaleY=n,c.renderTransform(s,c)},_setterTransformWithRender=function t(e,r,n,o,s){var c=e._gsap;c[r]=n,c.renderTransform(s,c)},_transformProp="transform",_transformOriginProp=_transformProp+"Origin",_saveStyle=function t(e,r){var n=this,o=this.target,s=o.style;if(e in _transformProps&&s){if(this.tfm=this.tfm||{},e!=="transform")e=_propertyAliases[e]||e,~e.indexOf(",")?e.split(",").forEach(function(c){return n.tfm[c]=_get(o,c)}):this.tfm[e]=o._gsap.x?o._gsap[e]:_get(o,e);else return _propertyAliases.transform.split(",").forEach(function(c){return t.call(n,c,r)});if(this.props.indexOf(_transformProp)>=0)return;o._gsap.svg&&(this.svgo=o.getAttribute("data-svg-origin"),this.props.push(_transformOriginProp,r,"")),e=_transformProp}(s||r)&&this.props.push(e,r,s[e])},_removeIndependentTransforms=function t(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},_revertStyle=function t(){var e=this.props,r=this.target,n=r.style,o=r._gsap,s,c;for(s=0;s<e.length;s+=3)e[s+1]?r[e[s]]=e[s+2]:e[s+2]?n[e[s]]=e[s+2]:n.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(_capsExp,"-$1").toLowerCase());if(this.tfm){for(c in this.tfm)o[c]=this.tfm[c];o.svg&&(o.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),s=_reverting(),(!s||!s.isStart)&&!n[_transformProp]&&(_removeIndependentTransforms(n),o.uncache=1)}},_getStyleSaver=function t(e,r){var n={target:e,props:[],revert:_revertStyle,save:_saveStyle};return e._gsap||gsap.core.getCache(e),r&&r.split(",").forEach(function(o){return n.save(o)}),n},_supports3D,_createElement=function t(e,r){var n=_doc.createElementNS?_doc.createElementNS((r||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):_doc.createElement(e);return n.style?n:_doc.createElement(e)},_getComputedProperty=function t(e,r,n){var o=getComputedStyle(e);return o[r]||o.getPropertyValue(r.replace(_capsExp,"-$1").toLowerCase())||o.getPropertyValue(r)||!n&&t(e,_checkPropPrefix(r)||r,1)||""},_prefixes="O,Moz,ms,Ms,Webkit".split(","),_checkPropPrefix=function t(e,r,n){var o=r||_tempDiv,s=o.style,c=5;if(e in s&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);c--&&!(_prefixes[c]+e in s););return c<0?null:(c===3?"ms":c>=0?_prefixes[c]:"")+e},_initCore=function t(){_windowExists()&&window.document&&(_win=window,_doc=_win.document,_docElement=_doc.documentElement,_tempDiv=_createElement("div")||{style:{}},_createElement("div"),_transformProp=_checkPropPrefix(_transformProp),_transformOriginProp=_transformProp+"Origin",_tempDiv.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",_supports3D=!!_checkPropPrefix("perspective"),_reverting=gsap.core.reverting,_pluginInitted=1)},_getBBoxHack=function t(e){var r=_createElement("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,o=this.nextSibling,s=this.style.cssText,c;if(_docElement.appendChild(r),r.appendChild(this),this.style.display="block",e)try{c=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch{}else this._gsapBBox&&(c=this._gsapBBox());return n&&(o?n.insertBefore(this,o):n.appendChild(this)),_docElement.removeChild(r),this.style.cssText=s,c},_getAttributeFallbacks=function t(e,r){for(var n=r.length;n--;)if(e.hasAttribute(r[n]))return e.getAttribute(r[n])},_getBBox=function t(e){var r;try{r=e.getBBox()}catch{r=_getBBoxHack.call(e,!0)}return r&&(r.width||r.height)||e.getBBox===_getBBoxHack||(r=_getBBoxHack.call(e,!0)),r&&!r.width&&!r.x&&!r.y?{x:+_getAttributeFallbacks(e,["x","cx","x1"])||0,y:+_getAttributeFallbacks(e,["y","cy","y1"])||0,width:0,height:0}:r},_isSVG=function t(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&_getBBox(e))},_removeProperty=function t(e,r){if(r){var n=e.style;r in _transformProps&&r!==_transformOriginProp&&(r=_transformProp),n.removeProperty?((r.substr(0,2)==="ms"||r.substr(0,6)==="webkit")&&(r="-"+r),n.removeProperty(r.replace(_capsExp,"-$1").toLowerCase())):n.removeAttribute(r)}},_addNonTweeningPT=function t(e,r,n,o,s,c){var d=new PropTween(e._pt,r,n,0,1,c?_renderNonTweeningValueOnlyAtEnd:_renderNonTweeningValue);return e._pt=d,d.b=o,d.e=s,e._props.push(n),d},_nonConvertibleUnits={deg:1,rad:1,turn:1},_nonStandardLayouts={grid:1,flex:1},_convertToUnit=function t(e,r,n,o){var s=parseFloat(n)||0,c=(n+"").trim().substr((s+"").length)||"px",d=_tempDiv.style,u=_horizontalExp.test(r),m=e.tagName.toLowerCase()==="svg",_=(m?"client":"offset")+(u?"Width":"Height"),g=100,f=o==="px",y=o==="%",M,T,A,E;return o===c||!s||_nonConvertibleUnits[o]||_nonConvertibleUnits[c]?s:(c!=="px"&&!f&&(s=t(e,r,n,"px")),E=e.getCTM&&_isSVG(e),(y||c==="%")&&(_transformProps[r]||~r.indexOf("adius"))?(M=E?e.getBBox()[u?"width":"height"]:e[_],_round(y?s/M*g:s/100*M)):(d[u?"width":"height"]=g+(f?c:o),T=~r.indexOf("adius")||o==="em"&&e.appendChild&&!m?e:e.parentNode,E&&(T=(e.ownerSVGElement||{}).parentNode),(!T||T===_doc||!T.appendChild)&&(T=_doc.body),A=T._gsap,A&&y&&A.width&&u&&A.time===_ticker.time&&!A.uncache?_round(s/A.width*g):((y||c==="%")&&!_nonStandardLayouts[_getComputedProperty(T,"display")]&&(d.position=_getComputedProperty(e,"position")),T===e&&(d.position="static"),T.appendChild(_tempDiv),M=_tempDiv[_],T.removeChild(_tempDiv),d.position="absolute",u&&y&&(A=_getCache(T),A.time=_ticker.time,A.width=T[_]),_round(f?M*s/g:M&&s?g/M*s:0))))},_get=function t(e,r,n,o){var s;return _pluginInitted||_initCore(),r in _propertyAliases&&r!=="transform"&&(r=_propertyAliases[r],~r.indexOf(",")&&(r=r.split(",")[0])),_transformProps[r]&&r!=="transform"?(s=_parseTransform(e,o),s=r!=="transformOrigin"?s[r]:s.svg?s.origin:_firstTwoOnly(_getComputedProperty(e,_transformOriginProp))+" "+s.zOrigin+"px"):(s=e.style[r],(!s||s==="auto"||o||~(s+"").indexOf("calc("))&&(s=_specialProps[r]&&_specialProps[r](e,r,n)||_getComputedProperty(e,r)||_getProperty(e,r)||(r==="opacity"?1:0))),n&&!~(s+"").trim().indexOf(" ")?_convertToUnit(e,r,s,n)+n:s},_tweenComplexCSSString=function t(e,r,n,o){if(!n||n==="none"){var s=_checkPropPrefix(r,e,1),c=s&&_getComputedProperty(e,s,1);c&&c!==n?(r=s,n=c):r==="borderColor"&&(n=_getComputedProperty(e,"borderTopColor"))}var d=new PropTween(this._pt,e.style,r,0,1,_renderComplexString),u=0,m=0,_,g,f,y,M,T,A,E,C,k,O,I;if(d.b=n,d.e=o,n+="",o+="",o==="auto"&&(e.style[r]=o,o=_getComputedProperty(e,r)||o,e.style[r]=n),_=[n,o],_colorStringFilter(_),n=_[0],o=_[1],f=n.match(_numWithUnitExp)||[],I=o.match(_numWithUnitExp)||[],I.length){for(;g=_numWithUnitExp.exec(o);)A=g[0],C=o.substring(u,g.index),M?M=(M+1)%5:(C.substr(-5)==="rgba("||C.substr(-5)==="hsla(")&&(M=1),A!==(T=f[m++]||"")&&(y=parseFloat(T)||0,O=T.substr((y+"").length),A.charAt(1)==="="&&(A=_parseRelative(y,A)+O),E=parseFloat(A),k=A.substr((E+"").length),u=_numWithUnitExp.lastIndex-k.length,k||(k=k||_config.units[r]||O,u===o.length&&(o+=k,d.e+=k)),O!==k&&(y=_convertToUnit(e,r,T,k)||0),d._pt={_next:d._pt,p:C||m===1?C:",",s:y,c:E-y,m:M&&M<4||r==="zIndex"?Math.round:0});d.c=u<o.length?o.substring(u,o.length):""}else d.r=r==="display"&&o==="none"?_renderNonTweeningValueOnlyAtEnd:_renderNonTweeningValue;return _relExp.test(o)&&(d.e=0),this._pt=d,d},_keywordToPercent={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},_convertKeywordsToPercentages=function t(e){var r=e.split(" "),n=r[0],o=r[1]||"50%";return(n==="top"||n==="bottom"||o==="left"||o==="right")&&(e=n,n=o,o=e),r[0]=_keywordToPercent[n]||n,r[1]=_keywordToPercent[o]||o,r.join(" ")},_renderClearProps=function t(e,r){if(r.tween&&r.tween._time===r.tween._dur){var n=r.t,o=n.style,s=r.u,c=n._gsap,d,u,m;if(s==="all"||s===!0)o.cssText="",u=1;else for(s=s.split(","),m=s.length;--m>-1;)d=s[m],_transformProps[d]&&(u=1,d=d==="transformOrigin"?_transformOriginProp:_transformProp),_removeProperty(n,d);u&&(_removeProperty(n,_transformProp),c&&(c.svg&&n.removeAttribute("transform"),_parseTransform(n,1),c.uncache=1,_removeIndependentTransforms(o)))}},_specialProps={clearProps:function t(e,r,n,o,s){if(s.data!=="isFromStart"){var c=e._pt=new PropTween(e._pt,r,n,0,0,_renderClearProps);return c.u=o,c.pr=-10,c.tween=s,e._props.push(n),1}}},_identity2DMatrix=[1,0,0,1,0,0],_rotationalProperties={},_isNullTransform=function t(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},_getComputedTransformMatrixAsArray=function t(e){var r=_getComputedProperty(e,_transformProp);return _isNullTransform(r)?_identity2DMatrix:r.substr(7).match(_numExp).map(_round)},_getMatrix=function t(e,r){var n=e._gsap||_getCache(e),o=e.style,s=_getComputedTransformMatrixAsArray(e),c,d,u,m;return n.svg&&e.getAttribute("transform")?(u=e.transform.baseVal.consolidate().matrix,s=[u.a,u.b,u.c,u.d,u.e,u.f],s.join(",")==="1,0,0,1,0,0"?_identity2DMatrix:s):(s===_identity2DMatrix&&!e.offsetParent&&e!==_docElement&&!n.svg&&(u=o.display,o.display="block",c=e.parentNode,(!c||!e.offsetParent)&&(m=1,d=e.nextElementSibling,_docElement.appendChild(e)),s=_getComputedTransformMatrixAsArray(e),u?o.display=u:_removeProperty(e,"display"),m&&(d?c.insertBefore(e,d):c?c.appendChild(e):_docElement.removeChild(e))),r&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},_applySVGOrigin=function t(e,r,n,o,s,c){var d=e._gsap,u=s||_getMatrix(e,!0),m=d.xOrigin||0,_=d.yOrigin||0,g=d.xOffset||0,f=d.yOffset||0,y=u[0],M=u[1],T=u[2],A=u[3],E=u[4],C=u[5],k=r.split(" "),O=parseFloat(k[0])||0,I=parseFloat(k[1])||0,B,j,U,N;n?u!==_identity2DMatrix&&(j=y*A-M*T)&&(U=O*(A/j)+I*(-T/j)+(T*C-A*E)/j,N=O*(-M/j)+I*(y/j)-(y*C-M*E)/j,O=U,I=N):(B=_getBBox(e),O=B.x+(~k[0].indexOf("%")?O/100*B.width:O),I=B.y+(~(k[1]||k[0]).indexOf("%")?I/100*B.height:I)),o||o!==!1&&d.smooth?(E=O-m,C=I-_,d.xOffset=g+(E*y+C*T)-E,d.yOffset=f+(E*M+C*A)-C):d.xOffset=d.yOffset=0,d.xOrigin=O,d.yOrigin=I,d.smooth=!!o,d.origin=r,d.originIsAbsolute=!!n,e.style[_transformOriginProp]="0px 0px",c&&(_addNonTweeningPT(c,d,"xOrigin",m,O),_addNonTweeningPT(c,d,"yOrigin",_,I),_addNonTweeningPT(c,d,"xOffset",g,d.xOffset),_addNonTweeningPT(c,d,"yOffset",f,d.yOffset)),e.setAttribute("data-svg-origin",O+" "+I)},_parseTransform=function t(e,r){var n=e._gsap||new GSCache(e);if("x"in n&&!r&&!n.uncache)return n;var o=e.style,s=n.scaleX<0,c="px",d="deg",u=getComputedStyle(e),m=_getComputedProperty(e,_transformOriginProp)||"0",_,g,f,y,M,T,A,E,C,k,O,I,B,j,U,N,W,ne,re,le,ae,pe,K,q,D,z,J,ie,fe,ee,Z,te;return _=g=f=T=A=E=C=k=O=0,y=M=1,n.svg=!!(e.getCTM&&_isSVG(e)),u.translate&&((u.translate!=="none"||u.scale!=="none"||u.rotate!=="none")&&(o[_transformProp]=(u.translate!=="none"?"translate3d("+(u.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(u.rotate!=="none"?"rotate("+u.rotate+") ":"")+(u.scale!=="none"?"scale("+u.scale.split(" ").join(",")+") ":"")+(u[_transformProp]!=="none"?u[_transformProp]:"")),o.scale=o.rotate=o.translate="none"),j=_getMatrix(e,n.svg),n.svg&&(n.uncache?(D=e.getBBox(),m=n.xOrigin-D.x+"px "+(n.yOrigin-D.y)+"px",q=""):q=!r&&e.getAttribute("data-svg-origin"),_applySVGOrigin(e,q||m,!!q||n.originIsAbsolute,n.smooth!==!1,j)),I=n.xOrigin||0,B=n.yOrigin||0,j!==_identity2DMatrix&&(ne=j[0],re=j[1],le=j[2],ae=j[3],_=pe=j[4],g=K=j[5],j.length===6?(y=Math.sqrt(ne*ne+re*re),M=Math.sqrt(ae*ae+le*le),T=ne||re?_atan2(re,ne)*_RAD2DEG:0,C=le||ae?_atan2(le,ae)*_RAD2DEG+T:0,C&&(M*=Math.abs(Math.cos(C*_DEG2RAD))),n.svg&&(_-=I-(I*ne+B*le),g-=B-(I*re+B*ae))):(te=j[6],ee=j[7],J=j[8],ie=j[9],fe=j[10],Z=j[11],_=j[12],g=j[13],f=j[14],U=_atan2(te,fe),A=U*_RAD2DEG,U&&(N=Math.cos(-U),W=Math.sin(-U),q=pe*N+J*W,D=K*N+ie*W,z=te*N+fe*W,J=pe*-W+J*N,ie=K*-W+ie*N,fe=te*-W+fe*N,Z=ee*-W+Z*N,pe=q,K=D,te=z),U=_atan2(-le,fe),E=U*_RAD2DEG,U&&(N=Math.cos(-U),W=Math.sin(-U),q=ne*N-J*W,D=re*N-ie*W,z=le*N-fe*W,Z=ae*W+Z*N,ne=q,re=D,le=z),U=_atan2(re,ne),T=U*_RAD2DEG,U&&(N=Math.cos(U),W=Math.sin(U),q=ne*N+re*W,D=pe*N+K*W,re=re*N-ne*W,K=K*N-pe*W,ne=q,pe=D),A&&Math.abs(A)+Math.abs(T)>359.9&&(A=T=0,E=180-E),y=_round(Math.sqrt(ne*ne+re*re+le*le)),M=_round(Math.sqrt(K*K+te*te)),U=_atan2(pe,K),C=Math.abs(U)>2e-4?U*_RAD2DEG:0,O=Z?1/(Z<0?-Z:Z):0),n.svg&&(q=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!_isNullTransform(_getComputedProperty(e,_transformProp)),q&&e.setAttribute("transform",q))),Math.abs(C)>90&&Math.abs(C)<270&&(s?(y*=-1,C+=T<=0?180:-180,T+=T<=0?180:-180):(M*=-1,C+=C<=0?180:-180)),r=r||n.uncache,n.x=_-((n.xPercent=_&&(!r&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-_)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+c,n.y=g-((n.yPercent=g&&(!r&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-g)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+c,n.z=f+c,n.scaleX=_round(y),n.scaleY=_round(M),n.rotation=_round(T)+d,n.rotationX=_round(A)+d,n.rotationY=_round(E)+d,n.skewX=C+d,n.skewY=k+d,n.transformPerspective=O+c,(n.zOrigin=parseFloat(m.split(" ")[2])||0)&&(o[_transformOriginProp]=_firstTwoOnly(m)),n.xOffset=n.yOffset=0,n.force3D=_config.force3D,n.renderTransform=n.svg?_renderSVGTransforms:_supports3D?_renderCSSTransforms:_renderNon3DTransforms,n.uncache=0,n},_firstTwoOnly=function t(e){return(e=e.split(" "))[0]+" "+e[1]},_addPxTranslate=function t(e,r,n){var o=getUnit(r);return _round(parseFloat(r)+parseFloat(_convertToUnit(e,"x",n+"px",o)))+o},_renderNon3DTransforms=function t(e,r){r.z="0px",r.rotationY=r.rotationX="0deg",r.force3D=0,_renderCSSTransforms(e,r)},_zeroDeg="0deg",_zeroPx="0px",_endParenthesis=") ",_renderCSSTransforms=function t(e,r){var n=r||this,o=n.xPercent,s=n.yPercent,c=n.x,d=n.y,u=n.z,m=n.rotation,_=n.rotationY,g=n.rotationX,f=n.skewX,y=n.skewY,M=n.scaleX,T=n.scaleY,A=n.transformPerspective,E=n.force3D,C=n.target,k=n.zOrigin,O="",I=E==="auto"&&e&&e!==1||E===!0;if(k&&(g!==_zeroDeg||_!==_zeroDeg)){var B=parseFloat(_)*_DEG2RAD,j=Math.sin(B),U=Math.cos(B),N;B=parseFloat(g)*_DEG2RAD,N=Math.cos(B),c=_addPxTranslate(C,c,j*N*-k),d=_addPxTranslate(C,d,-Math.sin(B)*-k),u=_addPxTranslate(C,u,U*N*-k+k)}A!==_zeroPx&&(O+="perspective("+A+_endParenthesis),(o||s)&&(O+="translate("+o+"%, "+s+"%) "),(I||c!==_zeroPx||d!==_zeroPx||u!==_zeroPx)&&(O+=u!==_zeroPx||I?"translate3d("+c+", "+d+", "+u+") ":"translate("+c+", "+d+_endParenthesis),m!==_zeroDeg&&(O+="rotate("+m+_endParenthesis),_!==_zeroDeg&&(O+="rotateY("+_+_endParenthesis),g!==_zeroDeg&&(O+="rotateX("+g+_endParenthesis),(f!==_zeroDeg||y!==_zeroDeg)&&(O+="skew("+f+", "+y+_endParenthesis),(M!==1||T!==1)&&(O+="scale("+M+", "+T+_endParenthesis),C.style[_transformProp]=O||"translate(0, 0)"},_renderSVGTransforms=function t(e,r){var n=r||this,o=n.xPercent,s=n.yPercent,c=n.x,d=n.y,u=n.rotation,m=n.skewX,_=n.skewY,g=n.scaleX,f=n.scaleY,y=n.target,M=n.xOrigin,T=n.yOrigin,A=n.xOffset,E=n.yOffset,C=n.forceCSS,k=parseFloat(c),O=parseFloat(d),I,B,j,U,N;u=parseFloat(u),m=parseFloat(m),_=parseFloat(_),_&&(_=parseFloat(_),m+=_,u+=_),u||m?(u*=_DEG2RAD,m*=_DEG2RAD,I=Math.cos(u)*g,B=Math.sin(u)*g,j=Math.sin(u-m)*-f,U=Math.cos(u-m)*f,m&&(_*=_DEG2RAD,N=Math.tan(m-_),N=Math.sqrt(1+N*N),j*=N,U*=N,_&&(N=Math.tan(_),N=Math.sqrt(1+N*N),I*=N,B*=N)),I=_round(I),B=_round(B),j=_round(j),U=_round(U)):(I=g,U=f,B=j=0),(k&&!~(c+"").indexOf("px")||O&&!~(d+"").indexOf("px"))&&(k=_convertToUnit(y,"x",c,"px"),O=_convertToUnit(y,"y",d,"px")),(M||T||A||E)&&(k=_round(k+M-(M*I+T*j)+A),O=_round(O+T-(M*B+T*U)+E)),(o||s)&&(N=y.getBBox(),k=_round(k+o/100*N.width),O=_round(O+s/100*N.height)),N="matrix("+I+","+B+","+j+","+U+","+k+","+O+")",y.setAttribute("transform",N),C&&(y.style[_transformProp]=N)},_addRotationalPropTween=function t(e,r,n,o,s){var c=360,d=_isString(s),u=parseFloat(s)*(d&&~s.indexOf("rad")?_RAD2DEG:1),m=u-o,_=o+m+"deg",g,f;return d&&(g=s.split("_")[1],g==="short"&&(m%=c,m!==m%(c/2)&&(m+=m<0?c:-c)),g==="cw"&&m<0?m=(m+c*_bigNum)%c-~~(m/c)*c:g==="ccw"&&m>0&&(m=(m-c*_bigNum)%c-~~(m/c)*c)),e._pt=f=new PropTween(e._pt,r,n,o,m,_renderPropWithEnd),f.e=_,f.u="deg",e._props.push(n),f},_assign=function t(e,r){for(var n in r)e[n]=r[n];return e},_addRawTransformPTs=function t(e,r,n){var o=_assign({},n._gsap),s="perspective,force3D,transformOrigin,svgOrigin",c=n.style,d,u,m,_,g,f,y,M;o.svg?(m=n.getAttribute("transform"),n.setAttribute("transform",""),c[_transformProp]=r,d=_parseTransform(n,1),_removeProperty(n,_transformProp),n.setAttribute("transform",m)):(m=getComputedStyle(n)[_transformProp],c[_transformProp]=r,d=_parseTransform(n,1),c[_transformProp]=m);for(u in _transformProps)m=o[u],_=d[u],m!==_&&s.indexOf(u)<0&&(y=getUnit(m),M=getUnit(_),g=y!==M?_convertToUnit(n,u,m,M):parseFloat(m),f=parseFloat(_),e._pt=new PropTween(e._pt,d,u,g,f-g,_renderCSSProp),e._pt.u=M||0,e._props.push(u));_assign(d,o)};_forEachName("padding,margin,Width,Radius",function(t,e){var r="Top",n="Right",o="Bottom",s="Left",c=(e<3?[r,n,o,s]:[r+s,r+n,o+n,o+s]).map(function(d){return e<2?t+d:"border"+d+t});_specialProps[e>1?"border"+t:t]=function(d,u,m,_,g){var f,y;if(arguments.length<4)return f=c.map(function(M){return _get(d,M,m)}),y=f.join(" "),y.split(f[0]).length===5?f[0]:y;f=(_+"").split(" "),y={},c.forEach(function(M,T){return y[M]=f[T]=f[T]||f[(T-1)/2|0]}),d.init(u,y,g)}});var CSSPlugin={name:"css",register:_initCore,targetTest:function t(e){return e.style&&e.nodeType},init:function t(e,r,n,o,s){var c=this._props,d=e.style,u=n.vars.startAt,m,_,g,f,y,M,T,A,E,C,k,O,I,B,j,U;_pluginInitted||_initCore(),this.styles=this.styles||_getStyleSaver(e),U=this.styles.props,this.tween=n;for(T in r)if(T!=="autoRound"&&(_=r[T],!(_plugins[T]&&_checkPlugin(T,r,n,o,e,s)))){if(y=typeof _,M=_specialProps[T],y==="function"&&(_=_.call(n,o,e,s),y=typeof _),y==="string"&&~_.indexOf("random(")&&(_=_replaceRandom(_)),M)M(this,e,T,_,n)&&(j=1);else if(T.substr(0,2)==="--")m=(getComputedStyle(e).getPropertyValue(T)+"").trim(),_+="",_colorExp.lastIndex=0,_colorExp.test(m)||(A=getUnit(m),E=getUnit(_)),E?A!==E&&(m=_convertToUnit(e,T,m,E)+E):A&&(_+=A),this.add(d,"setProperty",m,_,o,s,0,0,T),c.push(T),U.push(T,0,d[T]);else if(y!=="undefined"){if(u&&T in u?(m=typeof u[T]=="function"?u[T].call(n,o,e,s):u[T],_isString(m)&&~m.indexOf("random(")&&(m=_replaceRandom(m)),getUnit(m+"")||(m+=_config.units[T]||getUnit(_get(e,T))||""),(m+"").charAt(1)==="="&&(m=_get(e,T))):m=_get(e,T),f=parseFloat(m),C=y==="string"&&_.charAt(1)==="="&&_.substr(0,2),C&&(_=_.substr(2)),g=parseFloat(_),T in _propertyAliases&&(T==="autoAlpha"&&(f===1&&_get(e,"visibility")==="hidden"&&g&&(f=0),U.push("visibility",0,d.visibility),_addNonTweeningPT(this,d,"visibility",f?"inherit":"hidden",g?"inherit":"hidden",!g)),T!=="scale"&&T!=="transform"&&(T=_propertyAliases[T],~T.indexOf(",")&&(T=T.split(",")[0]))),k=T in _transformProps,k){if(this.styles.save(T),O||(I=e._gsap,I.renderTransform&&!r.parseTransform||_parseTransform(e,r.parseTransform),B=r.smoothOrigin!==!1&&I.smooth,O=this._pt=new PropTween(this._pt,d,_transformProp,0,1,I.renderTransform,I,0,-1),O.dep=1),T==="scale")this._pt=new PropTween(this._pt,I,"scaleY",I.scaleY,(C?_parseRelative(I.scaleY,C+g):g)-I.scaleY||0,_renderCSSProp),this._pt.u=0,c.push("scaleY",T),T+="X";else if(T==="transformOrigin"){U.push(_transformOriginProp,0,d[_transformOriginProp]),_=_convertKeywordsToPercentages(_),I.svg?_applySVGOrigin(e,_,0,B,0,this):(E=parseFloat(_.split(" ")[2])||0,E!==I.zOrigin&&_addNonTweeningPT(this,I,"zOrigin",I.zOrigin,E),_addNonTweeningPT(this,d,T,_firstTwoOnly(m),_firstTwoOnly(_)));continue}else if(T==="svgOrigin"){_applySVGOrigin(e,_,1,B,0,this);continue}else if(T in _rotationalProperties){_addRotationalPropTween(this,I,T,f,C?_parseRelative(f,C+_):_);continue}else if(T==="smoothOrigin"){_addNonTweeningPT(this,I,"smooth",I.smooth,_);continue}else if(T==="force3D"){I[T]=_;continue}else if(T==="transform"){_addRawTransformPTs(this,_,e);continue}}else T in d||(T=_checkPropPrefix(T)||T);if(k||(g||g===0)&&(f||f===0)&&!_complexExp.test(_)&&T in d)A=(m+"").substr((f+"").length),g||(g=0),E=getUnit(_)||(T in _config.units?_config.units[T]:A),A!==E&&(f=_convertToUnit(e,T,m,E)),this._pt=new PropTween(this._pt,k?I:d,T,f,(C?_parseRelative(f,C+g):g)-f,!k&&(E==="px"||T==="zIndex")&&r.autoRound!==!1?_renderRoundedCSSProp:_renderCSSProp),this._pt.u=E||0,A!==E&&E!=="%"&&(this._pt.b=m,this._pt.r=_renderCSSPropWithBeginning);else if(T in d)_tweenComplexCSSString.call(this,e,T,m,C?C+_:_);else if(T in e)this.add(e,T,m||e[T],C?C+_:_,o,s);else if(T!=="parseTransform"){_missingPlugin(T,_);continue}k||(T in d?U.push(T,0,d[T]):U.push(T,1,m||e[T])),c.push(T)}}j&&_sortPropTweensByPriority(this)},render:function t(e,r){if(r.tween._time||!_reverting())for(var n=r._pt;n;)n.r(e,n.d),n=n._next;else r.styles.revert()},get:_get,aliases:_propertyAliases,getSetter:function t(e,r,n){var o=_propertyAliases[r];return o&&o.indexOf(",")<0&&(r=o),r in _transformProps&&r!==_transformOriginProp&&(e._gsap.x||_get(e,"x"))?n&&_recentSetterPlugin===n?r==="scale"?_setterScale:_setterTransform:(_recentSetterPlugin=n||{})&&(r==="scale"?_setterScaleWithRender:_setterTransformWithRender):e.style&&!_isUndefined(e.style[r])?_setterCSSStyle:~r.indexOf("-")?_setterCSSProp:_getSetter(e,r)},core:{_removeProperty,_getMatrix}};gsap.utils.checkPrefix=_checkPropPrefix,gsap.core.getStyleSaver=_getStyleSaver,function(t,e,r,n){var o=_forEachName(t+","+e+","+r,function(s){_transformProps[s]=1});_forEachName(e,function(s){_config.units[s]="deg",_rotationalProperties[s]=1}),_propertyAliases[o[13]]=t+","+e,_forEachName(n,function(s){var c=s.split(":");_propertyAliases[c[1]]=o[c[0]]})}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY"),_forEachName("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){_config.units[t]="px"}),gsap.registerPlugin(CSSPlugin);var gsapWithCSS=gsap.registerPlugin(CSSPlugin)||gsap;gsapWithCSS.core.Tween;const useIsMobile=()=>({isMobile:window.innerWidth<768});let time={start:Date.now(),current:0,elapsed:0,delta:16},frame=0;class Engine extends eventemitter2Exports.EventEmitter2{constructor(e,r,n){super(),this.isRunning=!0,this.mediapipeCanvas=r,this.webglCanvas=n,this.webgl=new Stage(this.webglCanvas),this.video=e,this.lastVideoTime=0,this.currentGesture=null,this.currentGestureTime=0,this.init(),gsapWithCSS.ticker.add(this.render.bind(this)),window.addEventListener("resize",this.onResize.bind(this)),window.engine=this}async init(){this.ctx=this.mediapipeCanvas.getContext("2d"),this.worker=null,this.detections=null,window.Worker&&(this.worker=new Worker(new URL("/assets/worker-2075e27c.js",self.location),{type:"classic"}),this.worker.onmessage=this.receiveMessage.bind(this),this.workerRunning=!1)}async start(){const e={w:480,h:360};this.camera=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}),console.log(this.camera),this.video.srcObject=this.camera,this.video.play();const{width:r,height:n}=this.camera.getVideoTracks()[0].getSettings();console.log(r,n),this.mediapipeCanvas.width=e.w,this.mediapipeCanvas.height=e.h,this.video.width=e.w,this.video.height=e.h,this.isRunning=!0}restart(){}allowHandVisible(){this.webgl.allowHandVisible()}endGame(){this.isRunning=!1,this.emit("endGame")}onResize(){this.stage&&this.stage.resize()}handleGesture({gestures:e,handednesses:r}){["Right","Left"].forEach(n=>{const o=r.findIndex(c=>c[0].categoryName===n);if(o===-1)return;const s=e[o][0].categoryName.replace("train_val_","");this.emit("onGestureDetected",{gesture:s,side:n.toLowerCase()})})}checkForSigns(e){e.gestures.length>0&&this.handleGesture(e)}receiveMessage({data:e}){if(e.type==="recognizeForVideo"){const r=e.detections;r&&(this.detections=r,this.checkForSigns(this.detections),this.webgl.onUpdateHands(this.detections))}createImageBitmap(this.video).then(r=>{this.worker.postMessage([{type:"recognizeForVideo",video:r}])})}async render(){if(debug.active&&debug.stats.begin(),this.isRunning){frame++;const e=Date.now();time.delta=(e-time.current)*.001,time.current=e,time.elapsed=time.current-time.start,this.video.currentTime!==this.lastVideoTime&&(this.worker?this.workerRunning||(createImageBitmap(this.video).then(r=>{this.worker.postMessage([{type:"recognizeForVideo",video:r}])}),this.workerRunning=!0):AIModel.gestureRecognizer&&frame%2===0&&(this.detections=AIModel.gestureRecognizer.recognizeForVideo(this.video,e),this.checkForSigns(this.detections),this.webgl.onUpdateHands(this.detections)),this.lastVideoTime=this.video.currentTime),this.webgl.render(time)}debug.active&&debug.stats.end()}dispose(){this.worker&&this.worker.terminate()}}const P="/webgl/",S=[{name:"right",type:Loader$1.TYPES.GLTF,path:P+"r.glb"},{name:"left",type:Loader$1.TYPES.GLTF,path:P+"l.glb"},{name:"threeTone",type:Loader$1.TYPES.TEXTURE,path:P+"threeTone.jpg"},{name:"sdfTexture_Gridular",type:Loader$1.TYPES.TEXTURE,path:P+"Gridular-Regular.png"},{name:"sdfFont_Gridular",type:Loader$1.TYPES.FONT,path:P+"Gridular-Regular-msdf.fnt"},{name:"sdfTexture_DrukWide",type:Loader$1.TYPES.TEXTURE,path:P+"DrukWide-Bold-Web.png"},{name:"sdfFont_DrukWide",type:Loader$1.TYPES.FONT,path:P+"DrukWide-Bold-Web-msdf.fnt"},{name:"particle",type:Loader$1.TYPES.TEXTURE,path:P+"particles/0.png"},{name:"bg",type:Loader$1.TYPES.SVG,path:P+"marseille.svg"}],__vite_glob_0_0="/assets/call.png",__vite_glob_0_1="/assets/dislike.png",__vite_glob_0_2="/assets/fist.png",__vite_glob_0_3="/assets/four.png",__vite_glob_0_4="/assets/like.png",__vite_glob_0_5="/assets/ok.png",__vite_glob_0_6="/assets/one.png",__vite_glob_0_7="/assets/palm.png",__vite_glob_0_8="/assets/peace.png",__vite_glob_0_9="/assets/rock2.png",__vite_glob_0_10="/assets/stop.png",__vite_glob_0_11="/assets/three2.png",__vite_glob_0_12="/assets/two_up.png",__vite_glob_0_13="/assets/call2.png",__vite_glob_0_14="/assets/dislike2.png",__vite_glob_0_15="/assets/fist2.png",__vite_glob_0_16="/assets/four2.png",__vite_glob_0_17="/assets/like2.png",__vite_glob_0_18="/assets/ok2.png",__vite_glob_0_19="/assets/one2.png",__vite_glob_0_20="/assets/palm2.png",__vite_glob_0_21="/assets/peace2.png",__vite_glob_0_22="/assets/rock3.png",__vite_glob_0_23="/assets/stop2.png",__vite_glob_0_24="/assets/three22.png",__vite_glob_0_25="/assets/two_up2.png",_imports_0$2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF8AAABBCAYAAAC3kHgeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAqKSURBVHgB7VxvbBxHFf/t2W0wre2NBU1DUt0QUqFABZcCCSogX0RTFQSqC5VA6oecRflI6yoQviDZFeVDpVaxKyQklOIrEqqAErtCChQV+fKhJEhQO4K0UlPJa2wrVC312SE1qf8M7+3O3u2t9+/d+m5Pzc96N3uz49259968ffPezALXcR3vR2hoB+hSxweQc9QY5ue/NQNtjPQz/1YpqJdTmR6IzRXfVmUXWXUakTTpAgmqiJShEylH94PI9Q1B3LC3Wrc2b5Xr85UqnY5189yCVcGCYtpYBq7+ESxERBLAbvkIfQ7BX5DLqs5wldZxjNGYas0nduXmzj888e7hMWErPZdXVGnXLbpK+3hZtWVhzR1CkRgzGHS/G++RAzffgwlb0F6CtEffJh1vrFila0QaWMVBlLUyQpB2zZ/IrvYJNIAfEp2+Dej5NuZWRv3bkaD1Z3750rHXd91tfncLkrGAYFz7Jw2RUxBXfoMCjZHRkObpZT4xQ4BJR0N4mOg0Ueee0KbT33ntZQHF/CDwaLJHla30rxE9fQewg1i++jKZwcuhl0m/zYfeIPcVVl+BrxmoCFogEroVOXGYqAfWSPvgF0kofwu/TgbphbCKLBqBbSoyXQiywXrNLevEAVXSs8CI0j7NzAc6BPEjhyRw9Uzgad3xWTdsE/TepWjtW2t2LB9+nI6YwzV++kObb+un7uLuMUcmiS6gOgqE4yLCo84DGfTTZzGwjd6PJLB2KZrmt5T5XV/AuP4Q8jSBgttP39/zIeBbfPQYMDNiiUR3kSecJ4XyVE6i6/O5wuo5ErbEWXXSMD/Jf3/+6mj/A0KgUbNT8Tg1U5lKYe1bxnyZR/5np5Zya/rOLX76IVheiolvkNZPBFxIqLLCc5KSUOZdGNjD548dwS2js1g+peevXUSeTzn99HO3DeGBX3Atj7BBVOdWtYKsrXOe47KXvB9uk0dGxyObUvJFSvgfXczH52/JJIsnT/Q3jelZ+GkbC2LoIvD8UWpwWZuT0TmRdZxjDRQ/fwLl507M6gse92IP9FeqxNhBYHTG+07Of8169+K0YG8nj3eemiKCFwxYkn2MftNkq5g/Qn0cxpT0bVMk+tE5EsJXsTPKbNHnPoKKabqXjqkl2By1/XRGLyy38dc0C/7c7fcO7bv2ogZvQfoJvoIVOjPwZ5Tn9y3pmyu6NSN2zIA5HPIu/SaahJWJ+TvRChBTimR2ZBB+TLTnL1KiQUS51+8avBcLmRWKSC4MQP5JXZNpTNHjRP1E+4n6nqR7UaQ2ts2n/81TMQxrCM0RFTWtjtCuCPbrWDvX/4VkEOJC/hWWhtYLzeIFM79/Txl5v8l0gejrRKt30QeN5noeuHlFNkpANNfKgd4wjvBI7fhw7Ot6QxfhbdZQl2lzYS5IqVgoR4meVUpVzyTLffVZxIce5tWx5m8kwQ622yGazw937aZEmJ+No1RJML/OAStCW2g3JqX5emiT9TeRjKgjmFNbqephfk2whex9PZ0WYQxZRGLQw7SRtSfTnRDzI8QobKVqVPMN1IsI2kiumoHGEWri/sv3+g+SgIhi4mxsYT55Mzp7NEQCfjeowkB9EMiKwAYcZVh7HQ34IBXokcIGnc0zcRRCWbZuuRUDRBzsYkFwwcPRQDW6MgnLxWTzc4Ha5PhcVHdTxogdJmQKdHMmFQAW9MabSAICvSKwgTJxPOPzZL5wfben6QyDmFzJgxLjWVDT6pgLp6BYIPd7XN9ifsCDyR6aPBtMBBFcTfLzkxhloZpvPnAvm8rryfyg/3ZrYs7jfyuCgk/3agoP2NHBDr0xUyArijSD2iCjqJT2vRodZTJCTsC+17rSLi/ms1mZgdVDvlRWlfz9rKttUJrJ8KlXmo/QTkZNSoSDflJ50pMxV1SXOvYfnURjENalhG+DK6q0M11bmE+mouT3z+pBzPaqrIiFMQhvQYVoUnh6MGpSIgAWu4+4akW1vLmL7nGmPHjTwG+Nt5DAvQI0305p2koVN7yQR20079EgYfkgljvWCCjmMkPm4KNwB98N9Z1KehYbb2jhiY/I0KMrVVzmJxFaUFcJloC5Gm2jcW9HQ8OjJypCvTj3ase4k6wkQgvC+1JVVDrZablkbYJI8SrHEsfYzE8itKDYH8z8tbDlYemD+kHCt4Ejx2tajEY030B9CHU1K6D0IdoHoZrvVqq4zBeOYwP1QW/WA7c1EOFNlFLFfeCy0xbRlQxAlBnn20lFGZsGEdbArVSxmE82fgaNo5nJjeZChJtSp1K1ZrlgM5MbzUNoFsutVK1gvh7lYZtccqOJEPGUqjXM14P5yhqSUHKjyYinVC0yO/zoGAtscu0iRUd5F2L7IFLYxKlUrVirKczlaMeGwAvXqjE5wHYYFiiE1LnrmI4uyhV0yTFzI5rt2nLIoYMojdtAIzzLNlerUYFWML9Ef3kz3JVnns7ULsCjx1b3QBGb381ibT4v3ruIkzUbz+we75aRN541CZTFCl5izvOrzr3V+VErmM8h6AJ1IatWywtVb88f9JNfgTF85qzIjOY9LxB341liuNVcrZdX34ya8uoIcMtQyAXK6P7a2GQyGcttAIWAJ3jNo5wdkSuUPJgnepXovKJxooNE+5al7PysHEGzsFsO7Lhbyq5vWsTHnYekzHxcSkEkn+RVn7Mq5QFFvBZBcJpbLlP9x2TfrJDVJ0MaN8Q9CzOJL3w3njF+0gPs+BSM9Qgbz5LAnX945b6VT9/pee579oFBXR8sOc6UK3sFNj6BmY0f4IihVb2dNDLf6lzAs8veeJZcmjEYkre2yH8USATmd+dWUN4vzQrCW0Hnvv+R4r0lc/+S3Xs7Cry8k7wL40TK5y70Q/Om2ZFTvku6z6ul1soGN6c/S0Xf/iwoU3jDl2QhzrXTuBtRaY2/kvi//2IbEZAeZC/GfM1AzJxzOpkvuDjr28CRERLYfoiwBvUqQxptvrVaxyAPUvBMOAe3CV0hfmR685wRGibTY7be1kmXsLrlB3d6MCrSyHzD/OTMwVCJ+F1yrjuozAYyPQX0HR8X7zyFKfPc7squnjKC371T+8oWu95ZVytIHbt4I04OfmDNz/Qs0ay7r4QY0JBCSCvucB+qE68aLFLNg1NcysqrWJyaZx+7X9li1qlzAa9scaL8BH2cOE79OG7A3BO8ZUMw8DTRT/H74iXt74OIgVQy3wuyKgiaA2B4sQC8Oi4jv3uHEZaTdwrGFsiLNJ/45B10YFA85AXDqrQX3gqreOYAJh/fhUfJhzcQA23DfCdIEFMo6HmM17eyxLkV1BaM10uUDisqk1D0z2glWEvahDptlyVt65q4SEj/K198UX+02Tlz3hvS9iWigoHy4lv1MTgI6X7rSBBE/cyPgyKRXNuemWn7Mh/NYT5ju/LJ7cp8YWXDmhMq2a58cvvafIP5wWaYffDaTJjTDWwU/EDOdG3PYtv2ZX6RKEfa339/SABAuEqnYJx1vXCvJLfIQNeXn3sB24B2dTWHwGFeN3S45z/ePM8GnBO1l7ydXMk3tOQ9HUZbMp8ha4INJqKqtFf7reAzBzCmnUNYbrButC3zk4TcaptMaEhwx8p1pAv/B8/mSs1Q0CTEAAAAAElFTkSuQmCC";var howler={};(function(t){(function(){var e=function(){this.init()};e.prototype={init:function(){var g=this||r;return g._counter=1e3,g._html5AudioPool=[],g.html5PoolSize=10,g._codecs={},g._howls=[],g._muted=!1,g._volume=1,g._canPlayEvent="canplaythrough",g._navigator=typeof window<"u"&&window.navigator?window.navigator:null,g.masterGain=null,g.noAudio=!1,g.usingWebAudio=!0,g.autoSuspend=!0,g.ctx=null,g.autoUnlock=!0,g._setup(),g},volume:function(g){var f=this||r;if(g=parseFloat(g),f.ctx||_(),typeof g<"u"&&g>=0&&g<=1){if(f._volume=g,f._muted)return f;f.usingWebAudio&&f.masterGain.gain.setValueAtTime(g,r.ctx.currentTime);for(var y=0;y<f._howls.length;y++)if(!f._howls[y]._webAudio)for(var M=f._howls[y]._getSoundIds(),T=0;T<M.length;T++){var A=f._howls[y]._soundById(M[T]);A&&A._node&&(A._node.volume=A._volume*g)}return f}return f._volume},mute:function(g){var f=this||r;f.ctx||_(),f._muted=g,f.usingWebAudio&&f.masterGain.gain.setValueAtTime(g?0:f._volume,r.ctx.currentTime);for(var y=0;y<f._howls.length;y++)if(!f._howls[y]._webAudio)for(var M=f._howls[y]._getSoundIds(),T=0;T<M.length;T++){var A=f._howls[y]._soundById(M[T]);A&&A._node&&(A._node.muted=g?!0:A._muted)}return f},stop:function(){for(var g=this||r,f=0;f<g._howls.length;f++)g._howls[f].stop();return g},unload:function(){for(var g=this||r,f=g._howls.length-1;f>=0;f--)g._howls[f].unload();return g.usingWebAudio&&g.ctx&&typeof g.ctx.close<"u"&&(g.ctx.close(),g.ctx=null,_()),g},codecs:function(g){return(this||r)._codecs[g.replace(/^x-/,"")]},_setup:function(){var g=this||r;if(g.state=g.ctx&&g.ctx.state||"suspended",g._autoSuspend(),!g.usingWebAudio)if(typeof Audio<"u")try{var f=new Audio;typeof f.oncanplaythrough>"u"&&(g._canPlayEvent="canplay")}catch{g.noAudio=!0}else g.noAudio=!0;try{var f=new Audio;f.muted&&(g.noAudio=!0)}catch{}return g.noAudio||g._setupCodecs(),g},_setupCodecs:function(){var g=this||r,f=null;try{f=typeof Audio<"u"?new Audio:null}catch{return g}if(!f||typeof f.canPlayType!="function")return g;var y=f.canPlayType("audio/mpeg;").replace(/^no$/,""),M=g._navigator?g._navigator.userAgent:"",T=M.match(/OPR\/([0-6].)/g),A=T&&parseInt(T[0].split("/")[1],10)<33,E=M.indexOf("Safari")!==-1&&M.indexOf("Chrome")===-1,C=M.match(/Version\/(.*?) /),k=E&&C&&parseInt(C[1],10)<15;return g._codecs={mp3:!!(!A&&(y||f.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!y,opus:!!f.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(f.canPlayType('audio/wav; codecs="1"')||f.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!f.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!f.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(f.canPlayType("audio/x-m4a;")||f.canPlayType("audio/m4a;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(f.canPlayType("audio/x-m4b;")||f.canPlayType("audio/m4b;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(f.canPlayType("audio/x-mp4;")||f.canPlayType("audio/mp4;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!k&&f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!k&&f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!f.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(f.canPlayType("audio/x-flac;")||f.canPlayType("audio/flac;")).replace(/^no$/,"")},g},_unlockAudio:function(){var g=this||r;if(!(g._audioUnlocked||!g.ctx)){g._audioUnlocked=!1,g.autoUnlock=!1,!g._mobileUnloaded&&g.ctx.sampleRate!==44100&&(g._mobileUnloaded=!0,g.unload()),g._scratchBuffer=g.ctx.createBuffer(1,1,22050);var f=function(y){for(;g._html5AudioPool.length<g.html5PoolSize;)try{var M=new Audio;M._unlocked=!0,g._releaseHtml5Audio(M)}catch{g.noAudio=!0;break}for(var T=0;T<g._howls.length;T++)if(!g._howls[T]._webAudio)for(var A=g._howls[T]._getSoundIds(),E=0;E<A.length;E++){var C=g._howls[T]._soundById(A[E]);C&&C._node&&!C._node._unlocked&&(C._node._unlocked=!0,C._node.load())}g._autoResume();var k=g.ctx.createBufferSource();k.buffer=g._scratchBuffer,k.connect(g.ctx.destination),typeof k.start>"u"?k.noteOn(0):k.start(0),typeof g.ctx.resume=="function"&&g.ctx.resume(),k.onended=function(){k.disconnect(0),g._audioUnlocked=!0,document.removeEventListener("touchstart",f,!0),document.removeEventListener("touchend",f,!0),document.removeEventListener("click",f,!0),document.removeEventListener("keydown",f,!0);for(var O=0;O<g._howls.length;O++)g._howls[O]._emit("unlock")}};return document.addEventListener("touchstart",f,!0),document.addEventListener("touchend",f,!0),document.addEventListener("click",f,!0),document.addEventListener("keydown",f,!0),g}},_obtainHtml5Audio:function(){var g=this||r;if(g._html5AudioPool.length)return g._html5AudioPool.pop();var f=new Audio().play();return f&&typeof Promise<"u"&&(f instanceof Promise||typeof f.then=="function")&&f.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(g){var f=this||r;return g._unlocked&&f._html5AudioPool.push(g),f},_autoSuspend:function(){var g=this;if(!(!g.autoSuspend||!g.ctx||typeof g.ctx.suspend>"u"||!r.usingWebAudio)){for(var f=0;f<g._howls.length;f++)if(g._howls[f]._webAudio){for(var y=0;y<g._howls[f]._sounds.length;y++)if(!g._howls[f]._sounds[y]._paused)return g}return g._suspendTimer&&clearTimeout(g._suspendTimer),g._suspendTimer=setTimeout(function(){if(g.autoSuspend){g._suspendTimer=null,g.state="suspending";var M=function(){g.state="suspended",g._resumeAfterSuspend&&(delete g._resumeAfterSuspend,g._autoResume())};g.ctx.suspend().then(M,M)}},3e4),g}},_autoResume:function(){var g=this;if(!(!g.ctx||typeof g.ctx.resume>"u"||!r.usingWebAudio))return g.state==="running"&&g.ctx.state!=="interrupted"&&g._suspendTimer?(clearTimeout(g._suspendTimer),g._suspendTimer=null):g.state==="suspended"||g.state==="running"&&g.ctx.state==="interrupted"?(g.ctx.resume().then(function(){g.state="running";for(var f=0;f<g._howls.length;f++)g._howls[f]._emit("resume")}),g._suspendTimer&&(clearTimeout(g._suspendTimer),g._suspendTimer=null)):g.state==="suspending"&&(g._resumeAfterSuspend=!0),g}};var r=new e,n=function(g){var f=this;if(!g.src||g.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}f.init(g)};n.prototype={init:function(g){var f=this;return r.ctx||_(),f._autoplay=g.autoplay||!1,f._format=typeof g.format!="string"?g.format:[g.format],f._html5=g.html5||!1,f._muted=g.mute||!1,f._loop=g.loop||!1,f._pool=g.pool||5,f._preload=typeof g.preload=="boolean"||g.preload==="metadata"?g.preload:!0,f._rate=g.rate||1,f._sprite=g.sprite||{},f._src=typeof g.src!="string"?g.src:[g.src],f._volume=g.volume!==void 0?g.volume:1,f._xhr={method:g.xhr&&g.xhr.method?g.xhr.method:"GET",headers:g.xhr&&g.xhr.headers?g.xhr.headers:null,withCredentials:g.xhr&&g.xhr.withCredentials?g.xhr.withCredentials:!1},f._duration=0,f._state="unloaded",f._sounds=[],f._endTimers={},f._queue=[],f._playLock=!1,f._onend=g.onend?[{fn:g.onend}]:[],f._onfade=g.onfade?[{fn:g.onfade}]:[],f._onload=g.onload?[{fn:g.onload}]:[],f._onloaderror=g.onloaderror?[{fn:g.onloaderror}]:[],f._onplayerror=g.onplayerror?[{fn:g.onplayerror}]:[],f._onpause=g.onpause?[{fn:g.onpause}]:[],f._onplay=g.onplay?[{fn:g.onplay}]:[],f._onstop=g.onstop?[{fn:g.onstop}]:[],f._onmute=g.onmute?[{fn:g.onmute}]:[],f._onvolume=g.onvolume?[{fn:g.onvolume}]:[],f._onrate=g.onrate?[{fn:g.onrate}]:[],f._onseek=g.onseek?[{fn:g.onseek}]:[],f._onunlock=g.onunlock?[{fn:g.onunlock}]:[],f._onresume=[],f._webAudio=r.usingWebAudio&&!f._html5,typeof r.ctx<"u"&&r.ctx&&r.autoUnlock&&r._unlockAudio(),r._howls.push(f),f._autoplay&&f._queue.push({event:"play",action:function(){f.play()}}),f._preload&&f._preload!=="none"&&f.load(),f},load:function(){var g=this,f=null;if(r.noAudio){g._emit("loaderror",null,"No audio support.");return}typeof g._src=="string"&&(g._src=[g._src]);for(var y=0;y<g._src.length;y++){var M,T;if(g._format&&g._format[y])M=g._format[y];else{if(T=g._src[y],typeof T!="string"){g._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}M=/^data:audio\/([^;,]+);/i.exec(T),M||(M=/\.([^.]+)$/.exec(T.split("?",1)[0])),M&&(M=M[1].toLowerCase())}if(M||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),M&&r.codecs(M)){f=g._src[y];break}}if(!f){g._emit("loaderror",null,"No codec support for selected audio sources.");return}return g._src=f,g._state="loading",window.location.protocol==="https:"&&f.slice(0,5)==="http:"&&(g._html5=!0,g._webAudio=!1),new o(g),g._webAudio&&c(g),g},play:function(g,f){var y=this,M=null;if(typeof g=="number")M=g,g=null;else{if(typeof g=="string"&&y._state==="loaded"&&!y._sprite[g])return null;if(typeof g>"u"&&(g="__default",!y._playLock)){for(var T=0,A=0;A<y._sounds.length;A++)y._sounds[A]._paused&&!y._sounds[A]._ended&&(T++,M=y._sounds[A]._id);T===1?g=null:M=null}}var E=M?y._soundById(M):y._inactiveSound();if(!E)return null;if(M&&!g&&(g=E._sprite||"__default"),y._state!=="loaded"){E._sprite=g,E._ended=!1;var C=E._id;return y._queue.push({event:"play",action:function(){y.play(C)}}),C}if(M&&!E._paused)return f||y._loadQueue("play"),E._id;y._webAudio&&r._autoResume();var k=Math.max(0,E._seek>0?E._seek:y._sprite[g][0]/1e3),O=Math.max(0,(y._sprite[g][0]+y._sprite[g][1])/1e3-k),I=O*1e3/Math.abs(E._rate),B=y._sprite[g][0]/1e3,j=(y._sprite[g][0]+y._sprite[g][1])/1e3;E._sprite=g,E._ended=!1;var U=function(){E._paused=!1,E._seek=k,E._start=B,E._stop=j,E._loop=!!(E._loop||y._sprite[g][2])};if(k>=j){y._ended(E);return}var N=E._node;if(y._webAudio){var W=function(){y._playLock=!1,U(),y._refreshBuffer(E);var ae=E._muted||y._muted?0:E._volume;N.gain.setValueAtTime(ae,r.ctx.currentTime),E._playStart=r.ctx.currentTime,typeof N.bufferSource.start>"u"?E._loop?N.bufferSource.noteGrainOn(0,k,86400):N.bufferSource.noteGrainOn(0,k,O):E._loop?N.bufferSource.start(0,k,86400):N.bufferSource.start(0,k,O),I!==1/0&&(y._endTimers[E._id]=setTimeout(y._ended.bind(y,E),I)),f||setTimeout(function(){y._emit("play",E._id),y._loadQueue()},0)};r.state==="running"&&r.ctx.state!=="interrupted"?W():(y._playLock=!0,y.once("resume",W),y._clearTimer(E._id))}else{var ne=function(){N.currentTime=k,N.muted=E._muted||y._muted||r._muted||N.muted,N.volume=E._volume*r.volume(),N.playbackRate=E._rate;try{var ae=N.play();if(ae&&typeof Promise<"u"&&(ae instanceof Promise||typeof ae.then=="function")?(y._playLock=!0,U(),ae.then(function(){y._playLock=!1,N._unlocked=!0,f?y._loadQueue():y._emit("play",E._id)}).catch(function(){y._playLock=!1,y._emit("playerror",E._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),E._ended=!0,E._paused=!0})):f||(y._playLock=!1,U(),y._emit("play",E._id)),N.playbackRate=E._rate,N.paused){y._emit("playerror",E._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}g!=="__default"||E._loop?y._endTimers[E._id]=setTimeout(y._ended.bind(y,E),I):(y._endTimers[E._id]=function(){y._ended(E),N.removeEventListener("ended",y._endTimers[E._id],!1)},N.addEventListener("ended",y._endTimers[E._id],!1))}catch(pe){y._emit("playerror",E._id,pe)}};N.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(N.src=y._src,N.load());var re=window&&window.ejecta||!N.readyState&&r._navigator.isCocoonJS;if(N.readyState>=3||re)ne();else{y._playLock=!0,y._state="loading";var le=function(){y._state="loaded",ne(),N.removeEventListener(r._canPlayEvent,le,!1)};N.addEventListener(r._canPlayEvent,le,!1),y._clearTimer(E._id)}}return E._id},pause:function(g){var f=this;if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"pause",action:function(){f.pause(g)}}),f;for(var y=f._getSoundIds(g),M=0;M<y.length;M++){f._clearTimer(y[M]);var T=f._soundById(y[M]);if(T&&!T._paused&&(T._seek=f.seek(y[M]),T._rateSeek=0,T._paused=!0,f._stopFade(y[M]),T._node))if(f._webAudio){if(!T._node.bufferSource)continue;typeof T._node.bufferSource.stop>"u"?T._node.bufferSource.noteOff(0):T._node.bufferSource.stop(0),f._cleanBuffer(T._node)}else(!isNaN(T._node.duration)||T._node.duration===1/0)&&T._node.pause();arguments[1]||f._emit("pause",T?T._id:null)}return f},stop:function(g,f){var y=this;if(y._state!=="loaded"||y._playLock)return y._queue.push({event:"stop",action:function(){y.stop(g)}}),y;for(var M=y._getSoundIds(g),T=0;T<M.length;T++){y._clearTimer(M[T]);var A=y._soundById(M[T]);A&&(A._seek=A._start||0,A._rateSeek=0,A._paused=!0,A._ended=!0,y._stopFade(M[T]),A._node&&(y._webAudio?A._node.bufferSource&&(typeof A._node.bufferSource.stop>"u"?A._node.bufferSource.noteOff(0):A._node.bufferSource.stop(0),y._cleanBuffer(A._node)):(!isNaN(A._node.duration)||A._node.duration===1/0)&&(A._node.currentTime=A._start||0,A._node.pause(),A._node.duration===1/0&&y._clearSound(A._node))),f||y._emit("stop",A._id))}return y},mute:function(g,f){var y=this;if(y._state!=="loaded"||y._playLock)return y._queue.push({event:"mute",action:function(){y.mute(g,f)}}),y;if(typeof f>"u")if(typeof g=="boolean")y._muted=g;else return y._muted;for(var M=y._getSoundIds(f),T=0;T<M.length;T++){var A=y._soundById(M[T]);A&&(A._muted=g,A._interval&&y._stopFade(A._id),y._webAudio&&A._node?A._node.gain.setValueAtTime(g?0:A._volume,r.ctx.currentTime):A._node&&(A._node.muted=r._muted?!0:g),y._emit("mute",A._id))}return y},volume:function(){var g=this,f=arguments,y,M;if(f.length===0)return g._volume;if(f.length===1||f.length===2&&typeof f[1]>"u"){var T=g._getSoundIds(),A=T.indexOf(f[0]);A>=0?M=parseInt(f[0],10):y=parseFloat(f[0])}else f.length>=2&&(y=parseFloat(f[0]),M=parseInt(f[1],10));var E;if(typeof y<"u"&&y>=0&&y<=1){if(g._state!=="loaded"||g._playLock)return g._queue.push({event:"volume",action:function(){g.volume.apply(g,f)}}),g;typeof M>"u"&&(g._volume=y),M=g._getSoundIds(M);for(var C=0;C<M.length;C++)E=g._soundById(M[C]),E&&(E._volume=y,f[2]||g._stopFade(M[C]),g._webAudio&&E._node&&!E._muted?E._node.gain.setValueAtTime(y,r.ctx.currentTime):E._node&&!E._muted&&(E._node.volume=y*r.volume()),g._emit("volume",E._id))}else return E=M?g._soundById(M):g._sounds[0],E?E._volume:0;return g},fade:function(g,f,y,M){var T=this;if(T._state!=="loaded"||T._playLock)return T._queue.push({event:"fade",action:function(){T.fade(g,f,y,M)}}),T;g=Math.min(Math.max(0,parseFloat(g)),1),f=Math.min(Math.max(0,parseFloat(f)),1),y=parseFloat(y),T.volume(g,M);for(var A=T._getSoundIds(M),E=0;E<A.length;E++){var C=T._soundById(A[E]);if(C){if(M||T._stopFade(A[E]),T._webAudio&&!C._muted){var k=r.ctx.currentTime,O=k+y/1e3;C._volume=g,C._node.gain.setValueAtTime(g,k),C._node.gain.linearRampToValueAtTime(f,O)}T._startFadeInterval(C,g,f,y,A[E],typeof M>"u")}}return T},_startFadeInterval:function(g,f,y,M,T,A){var E=this,C=f,k=y-f,O=Math.abs(k/.01),I=Math.max(4,O>0?M/O:M),B=Date.now();g._fadeTo=y,g._interval=setInterval(function(){var j=(Date.now()-B)/M;B=Date.now(),C+=k*j,C=Math.round(C*100)/100,k<0?C=Math.max(y,C):C=Math.min(y,C),E._webAudio?g._volume=C:E.volume(C,g._id,!0),A&&(E._volume=C),(y<f&&C<=y||y>f&&C>=y)&&(clearInterval(g._interval),g._interval=null,g._fadeTo=null,E.volume(y,g._id),E._emit("fade",g._id))},I)},_stopFade:function(g){var f=this,y=f._soundById(g);return y&&y._interval&&(f._webAudio&&y._node.gain.cancelScheduledValues(r.ctx.currentTime),clearInterval(y._interval),y._interval=null,f.volume(y._fadeTo,g),y._fadeTo=null,f._emit("fade",g)),f},loop:function(){var g=this,f=arguments,y,M,T;if(f.length===0)return g._loop;if(f.length===1)if(typeof f[0]=="boolean")y=f[0],g._loop=y;else return T=g._soundById(parseInt(f[0],10)),T?T._loop:!1;else f.length===2&&(y=f[0],M=parseInt(f[1],10));for(var A=g._getSoundIds(M),E=0;E<A.length;E++)T=g._soundById(A[E]),T&&(T._loop=y,g._webAudio&&T._node&&T._node.bufferSource&&(T._node.bufferSource.loop=y,y&&(T._node.bufferSource.loopStart=T._start||0,T._node.bufferSource.loopEnd=T._stop,g.playing(A[E])&&(g.pause(A[E],!0),g.play(A[E],!0)))));return g},rate:function(){var g=this,f=arguments,y,M;if(f.length===0)M=g._sounds[0]._id;else if(f.length===1){var T=g._getSoundIds(),A=T.indexOf(f[0]);A>=0?M=parseInt(f[0],10):y=parseFloat(f[0])}else f.length===2&&(y=parseFloat(f[0]),M=parseInt(f[1],10));var E;if(typeof y=="number"){if(g._state!=="loaded"||g._playLock)return g._queue.push({event:"rate",action:function(){g.rate.apply(g,f)}}),g;typeof M>"u"&&(g._rate=y),M=g._getSoundIds(M);for(var C=0;C<M.length;C++)if(E=g._soundById(M[C]),E){g.playing(M[C])&&(E._rateSeek=g.seek(M[C]),E._playStart=g._webAudio?r.ctx.currentTime:E._playStart),E._rate=y,g._webAudio&&E._node&&E._node.bufferSource?E._node.bufferSource.playbackRate.setValueAtTime(y,r.ctx.currentTime):E._node&&(E._node.playbackRate=y);var k=g.seek(M[C]),O=(g._sprite[E._sprite][0]+g._sprite[E._sprite][1])/1e3-k,I=O*1e3/Math.abs(E._rate);(g._endTimers[M[C]]||!E._paused)&&(g._clearTimer(M[C]),g._endTimers[M[C]]=setTimeout(g._ended.bind(g,E),I)),g._emit("rate",E._id)}}else return E=g._soundById(M),E?E._rate:g._rate;return g},seek:function(){var g=this,f=arguments,y,M;if(f.length===0)g._sounds.length&&(M=g._sounds[0]._id);else if(f.length===1){var T=g._getSoundIds(),A=T.indexOf(f[0]);A>=0?M=parseInt(f[0],10):g._sounds.length&&(M=g._sounds[0]._id,y=parseFloat(f[0]))}else f.length===2&&(y=parseFloat(f[0]),M=parseInt(f[1],10));if(typeof M>"u")return 0;if(typeof y=="number"&&(g._state!=="loaded"||g._playLock))return g._queue.push({event:"seek",action:function(){g.seek.apply(g,f)}}),g;var E=g._soundById(M);if(E)if(typeof y=="number"&&y>=0){var C=g.playing(M);C&&g.pause(M,!0),E._seek=y,E._ended=!1,g._clearTimer(M),!g._webAudio&&E._node&&!isNaN(E._node.duration)&&(E._node.currentTime=y);var k=function(){C&&g.play(M,!0),g._emit("seek",M)};if(C&&!g._webAudio){var O=function(){g._playLock?setTimeout(O,0):k()};setTimeout(O,0)}else k()}else if(g._webAudio){var I=g.playing(M)?r.ctx.currentTime-E._playStart:0,B=E._rateSeek?E._rateSeek-E._seek:0;return E._seek+(B+I*Math.abs(E._rate))}else return E._node.currentTime;return g},playing:function(g){var f=this;if(typeof g=="number"){var y=f._soundById(g);return y?!y._paused:!1}for(var M=0;M<f._sounds.length;M++)if(!f._sounds[M]._paused)return!0;return!1},duration:function(g){var f=this,y=f._duration,M=f._soundById(g);return M&&(y=f._sprite[M._sprite][1]/1e3),y},state:function(){return this._state},unload:function(){for(var g=this,f=g._sounds,y=0;y<f.length;y++)f[y]._paused||g.stop(f[y]._id),g._webAudio||(g._clearSound(f[y]._node),f[y]._node.removeEventListener("error",f[y]._errorFn,!1),f[y]._node.removeEventListener(r._canPlayEvent,f[y]._loadFn,!1),f[y]._node.removeEventListener("ended",f[y]._endFn,!1),r._releaseHtml5Audio(f[y]._node)),delete f[y]._node,g._clearTimer(f[y]._id);var M=r._howls.indexOf(g);M>=0&&r._howls.splice(M,1);var T=!0;for(y=0;y<r._howls.length;y++)if(r._howls[y]._src===g._src||g._src.indexOf(r._howls[y]._src)>=0){T=!1;break}return s&&T&&delete s[g._src],r.noAudio=!1,g._state="unloaded",g._sounds=[],g=null,null},on:function(g,f,y,M){var T=this,A=T["_on"+g];return typeof f=="function"&&A.push(M?{id:y,fn:f,once:M}:{id:y,fn:f}),T},off:function(g,f,y){var M=this,T=M["_on"+g],A=0;if(typeof f=="number"&&(y=f,f=null),f||y)for(A=0;A<T.length;A++){var E=y===T[A].id;if(f===T[A].fn&&E||!f&&E){T.splice(A,1);break}}else if(g)M["_on"+g]=[];else{var C=Object.keys(M);for(A=0;A<C.length;A++)C[A].indexOf("_on")===0&&Array.isArray(M[C[A]])&&(M[C[A]]=[])}return M},once:function(g,f,y){var M=this;return M.on(g,f,y,1),M},_emit:function(g,f,y){for(var M=this,T=M["_on"+g],A=T.length-1;A>=0;A--)(!T[A].id||T[A].id===f||g==="load")&&(setTimeout((function(E){E.call(this,f,y)}).bind(M,T[A].fn),0),T[A].once&&M.off(g,T[A].fn,T[A].id));return M._loadQueue(g),M},_loadQueue:function(g){var f=this;if(f._queue.length>0){var y=f._queue[0];y.event===g&&(f._queue.shift(),f._loadQueue()),g||y.action()}return f},_ended:function(g){var f=this,y=g._sprite;if(!f._webAudio&&g._node&&!g._node.paused&&!g._node.ended&&g._node.currentTime<g._stop)return setTimeout(f._ended.bind(f,g),100),f;var M=!!(g._loop||f._sprite[y][2]);if(f._emit("end",g._id),!f._webAudio&&M&&f.stop(g._id,!0).play(g._id),f._webAudio&&M){f._emit("play",g._id),g._seek=g._start||0,g._rateSeek=0,g._playStart=r.ctx.currentTime;var T=(g._stop-g._start)*1e3/Math.abs(g._rate);f._endTimers[g._id]=setTimeout(f._ended.bind(f,g),T)}return f._webAudio&&!M&&(g._paused=!0,g._ended=!0,g._seek=g._start||0,g._rateSeek=0,f._clearTimer(g._id),f._cleanBuffer(g._node),r._autoSuspend()),!f._webAudio&&!M&&f.stop(g._id,!0),f},_clearTimer:function(g){var f=this;if(f._endTimers[g]){if(typeof f._endTimers[g]!="function")clearTimeout(f._endTimers[g]);else{var y=f._soundById(g);y&&y._node&&y._node.removeEventListener("ended",f._endTimers[g],!1)}delete f._endTimers[g]}return f},_soundById:function(g){for(var f=this,y=0;y<f._sounds.length;y++)if(g===f._sounds[y]._id)return f._sounds[y];return null},_inactiveSound:function(){var g=this;g._drain();for(var f=0;f<g._sounds.length;f++)if(g._sounds[f]._ended)return g._sounds[f].reset();return new o(g)},_drain:function(){var g=this,f=g._pool,y=0,M=0;if(!(g._sounds.length<f)){for(M=0;M<g._sounds.length;M++)g._sounds[M]._ended&&y++;for(M=g._sounds.length-1;M>=0;M--){if(y<=f)return;g._sounds[M]._ended&&(g._webAudio&&g._sounds[M]._node&&g._sounds[M]._node.disconnect(0),g._sounds.splice(M,1),y--)}}},_getSoundIds:function(g){var f=this;if(typeof g>"u"){for(var y=[],M=0;M<f._sounds.length;M++)y.push(f._sounds[M]._id);return y}else return[g]},_refreshBuffer:function(g){var f=this;return g._node.bufferSource=r.ctx.createBufferSource(),g._node.bufferSource.buffer=s[f._src],g._panner?g._node.bufferSource.connect(g._panner):g._node.bufferSource.connect(g._node),g._node.bufferSource.loop=g._loop,g._loop&&(g._node.bufferSource.loopStart=g._start||0,g._node.bufferSource.loopEnd=g._stop||0),g._node.bufferSource.playbackRate.setValueAtTime(g._rate,r.ctx.currentTime),f},_cleanBuffer:function(g){var f=this,y=r._navigator&&r._navigator.vendor.indexOf("Apple")>=0;if(r._scratchBuffer&&g.bufferSource&&(g.bufferSource.onended=null,g.bufferSource.disconnect(0),y))try{g.bufferSource.buffer=r._scratchBuffer}catch{}return g.bufferSource=null,f},_clearSound:function(g){var f=/MSIE |Trident\//.test(r._navigator&&r._navigator.userAgent);f||(g.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(g){this._parent=g,this.init()};o.prototype={init:function(){var g=this,f=g._parent;return g._muted=f._muted,g._loop=f._loop,g._volume=f._volume,g._rate=f._rate,g._seek=0,g._paused=!0,g._ended=!0,g._sprite="__default",g._id=++r._counter,f._sounds.push(g),g.create(),g},create:function(){var g=this,f=g._parent,y=r._muted||g._muted||g._parent._muted?0:g._volume;return f._webAudio?(g._node=typeof r.ctx.createGain>"u"?r.ctx.createGainNode():r.ctx.createGain(),g._node.gain.setValueAtTime(y,r.ctx.currentTime),g._node.paused=!0,g._node.connect(r.masterGain)):r.noAudio||(g._node=r._obtainHtml5Audio(),g._errorFn=g._errorListener.bind(g),g._node.addEventListener("error",g._errorFn,!1),g._loadFn=g._loadListener.bind(g),g._node.addEventListener(r._canPlayEvent,g._loadFn,!1),g._endFn=g._endListener.bind(g),g._node.addEventListener("ended",g._endFn,!1),g._node.src=f._src,g._node.preload=f._preload===!0?"auto":f._preload,g._node.volume=y*r.volume(),g._node.load()),g},reset:function(){var g=this,f=g._parent;return g._muted=f._muted,g._loop=f._loop,g._volume=f._volume,g._rate=f._rate,g._seek=0,g._rateSeek=0,g._paused=!0,g._ended=!0,g._sprite="__default",g._id=++r._counter,g},_errorListener:function(){var g=this;g._parent._emit("loaderror",g._id,g._node.error?g._node.error.code:0),g._node.removeEventListener("error",g._errorFn,!1)},_loadListener:function(){var g=this,f=g._parent;f._duration=Math.ceil(g._node.duration*10)/10,Object.keys(f._sprite).length===0&&(f._sprite={__default:[0,f._duration*1e3]}),f._state!=="loaded"&&(f._state="loaded",f._emit("load"),f._loadQueue()),g._node.removeEventListener(r._canPlayEvent,g._loadFn,!1)},_endListener:function(){var g=this,f=g._parent;f._duration===1/0&&(f._duration=Math.ceil(g._node.duration*10)/10,f._sprite.__default[1]===1/0&&(f._sprite.__default[1]=f._duration*1e3),f._ended(g)),g._node.removeEventListener("ended",g._endFn,!1)}};var s={},c=function(g){var f=g._src;if(s[f]){g._duration=s[f].duration,m(g);return}if(/^data:[^;]+;base64,/.test(f)){for(var y=atob(f.split(",")[1]),M=new Uint8Array(y.length),T=0;T<y.length;++T)M[T]=y.charCodeAt(T);u(M.buffer,g)}else{var A=new XMLHttpRequest;A.open(g._xhr.method,f,!0),A.withCredentials=g._xhr.withCredentials,A.responseType="arraybuffer",g._xhr.headers&&Object.keys(g._xhr.headers).forEach(function(E){A.setRequestHeader(E,g._xhr.headers[E])}),A.onload=function(){var E=(A.status+"")[0];if(E!=="0"&&E!=="2"&&E!=="3"){g._emit("loaderror",null,"Failed loading audio file with status: "+A.status+".");return}u(A.response,g)},A.onerror=function(){g._webAudio&&(g._html5=!0,g._webAudio=!1,g._sounds=[],delete s[f],g.load())},d(A)}},d=function(g){try{g.send()}catch{g.onerror()}},u=function(g,f){var y=function(){f._emit("loaderror",null,"Decoding audio data failed.")},M=function(T){T&&f._sounds.length>0?(s[f._src]=T,m(f,T)):y()};typeof Promise<"u"&&r.ctx.decodeAudioData.length===1?r.ctx.decodeAudioData(g).then(M).catch(y):r.ctx.decodeAudioData(g,M,y)},m=function(g,f){f&&!g._duration&&(g._duration=f.duration),Object.keys(g._sprite).length===0&&(g._sprite={__default:[0,g._duration*1e3]}),g._state!=="loaded"&&(g._state="loaded",g._emit("load"),g._loadQueue())},_=function(){if(r.usingWebAudio){try{typeof AudioContext<"u"?r.ctx=new AudioContext:typeof webkitAudioContext<"u"?r.ctx=new webkitAudioContext:r.usingWebAudio=!1}catch{r.usingWebAudio=!1}r.ctx||(r.usingWebAudio=!1);var g=/iP(hone|od|ad)/.test(r._navigator&&r._navigator.platform),f=r._navigator&&r._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),y=f?parseInt(f[1],10):null;if(g&&y&&y<9){var M=/safari/.test(r._navigator&&r._navigator.userAgent.toLowerCase());r._navigator&&!M&&(r.usingWebAudio=!1)}r.usingWebAudio&&(r.masterGain=typeof r.ctx.createGain>"u"?r.ctx.createGainNode():r.ctx.createGain(),r.masterGain.gain.setValueAtTime(r._muted?0:r._volume,r.ctx.currentTime),r.masterGain.connect(r.ctx.destination)),r._setup()}};t.Howler=r,t.Howl=n,typeof commonjsGlobal$1<"u"?(commonjsGlobal$1.HowlerGlobal=e,commonjsGlobal$1.Howler=r,commonjsGlobal$1.Howl=n,commonjsGlobal$1.Sound=o):typeof window<"u"&&(window.HowlerGlobal=e,window.Howler=r,window.Howl=n,window.Sound=o)})(),function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(r){var n=this;if(!n.ctx||!n.ctx.listener)return n;for(var o=n._howls.length-1;o>=0;o--)n._howls[o].stereo(r);return n},HowlerGlobal.prototype.pos=function(r,n,o){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(n=typeof n!="number"?s._pos[1]:n,o=typeof o!="number"?s._pos[2]:o,typeof r=="number")s._pos=[r,n,o],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(r,n,o,s,c,d){var u=this;if(!u.ctx||!u.ctx.listener)return u;var m=u._orientation;if(n=typeof n!="number"?m[1]:n,o=typeof o!="number"?m[2]:o,s=typeof s!="number"?m[3]:s,c=typeof c!="number"?m[4]:c,d=typeof d!="number"?m[5]:d,typeof r=="number")u._orientation=[r,n,o,s,c,d],typeof u.ctx.listener.forwardX<"u"?(u.ctx.listener.forwardX.setTargetAtTime(r,Howler.ctx.currentTime,.1),u.ctx.listener.forwardY.setTargetAtTime(n,Howler.ctx.currentTime,.1),u.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),u.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),u.ctx.listener.upY.setTargetAtTime(c,Howler.ctx.currentTime,.1),u.ctx.listener.upZ.setTargetAtTime(d,Howler.ctx.currentTime,.1)):u.ctx.listener.setOrientation(r,n,o,s,c,d);else return m;return u},Howl.prototype.init=function(r){return function(n){var o=this;return o._orientation=n.orientation||[1,0,0],o._stereo=n.stereo||null,o._pos=n.pos||null,o._pannerAttr={coneInnerAngle:typeof n.coneInnerAngle<"u"?n.coneInnerAngle:360,coneOuterAngle:typeof n.coneOuterAngle<"u"?n.coneOuterAngle:360,coneOuterGain:typeof n.coneOuterGain<"u"?n.coneOuterGain:0,distanceModel:typeof n.distanceModel<"u"?n.distanceModel:"inverse",maxDistance:typeof n.maxDistance<"u"?n.maxDistance:1e4,panningModel:typeof n.panningModel<"u"?n.panningModel:"HRTF",refDistance:typeof n.refDistance<"u"?n.refDistance:1,rolloffFactor:typeof n.rolloffFactor<"u"?n.rolloffFactor:1},o._onstereo=n.onstereo?[{fn:n.onstereo}]:[],o._onpos=n.onpos?[{fn:n.onpos}]:[],o._onorientation=n.onorientation?[{fn:n.onorientation}]:[],r.call(this,n)}}(Howl.prototype.init),Howl.prototype.stereo=function(r,n){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(r,n)}}),o;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof n>"u")if(typeof r=="number")o._stereo=r,o._pos=[r,0,0];else return o._stereo;for(var c=o._getSoundIds(n),d=0;d<c.length;d++){var u=o._soundById(c[d]);if(u)if(typeof r=="number")u._stereo=r,u._pos=[r,0,0],u._node&&(u._pannerAttr.panningModel="equalpower",(!u._panner||!u._panner.pan)&&e(u,s),s==="spatial"?typeof u._panner.positionX<"u"?(u._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):u._panner.setPosition(r,0,0):u._panner.pan.setValueAtTime(r,Howler.ctx.currentTime)),o._emit("stereo",u._id);else return u._stereo}return o},Howl.prototype.pos=function(r,n,o,s){var c=this;if(!c._webAudio)return c;if(c._state!=="loaded")return c._queue.push({event:"pos",action:function(){c.pos(r,n,o,s)}}),c;if(n=typeof n!="number"?0:n,o=typeof o!="number"?-.5:o,typeof s>"u")if(typeof r=="number")c._pos=[r,n,o];else return c._pos;for(var d=c._getSoundIds(s),u=0;u<d.length;u++){var m=c._soundById(d[u]);if(m)if(typeof r=="number")m._pos=[r,n,o],m._node&&((!m._panner||m._panner.pan)&&e(m,"spatial"),typeof m._panner.positionX<"u"?(m._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),m._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),m._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):m._panner.setPosition(r,n,o)),c._emit("pos",m._id);else return m._pos}return c},Howl.prototype.orientation=function(r,n,o,s){var c=this;if(!c._webAudio)return c;if(c._state!=="loaded")return c._queue.push({event:"orientation",action:function(){c.orientation(r,n,o,s)}}),c;if(n=typeof n!="number"?c._orientation[1]:n,o=typeof o!="number"?c._orientation[2]:o,typeof s>"u")if(typeof r=="number")c._orientation=[r,n,o];else return c._orientation;for(var d=c._getSoundIds(s),u=0;u<d.length;u++){var m=c._soundById(d[u]);if(m)if(typeof r=="number")m._orientation=[r,n,o],m._node&&(m._panner||(m._pos||(m._pos=c._pos||[0,0,-.5]),e(m,"spatial")),typeof m._panner.orientationX<"u"?(m._panner.orientationX.setValueAtTime(r,Howler.ctx.currentTime),m._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),m._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):m._panner.setOrientation(r,n,o)),c._emit("orientation",m._id);else return m._orientation}return c},Howl.prototype.pannerAttr=function(){var r=this,n=arguments,o,s,c;if(!r._webAudio)return r;if(n.length===0)return r._pannerAttr;if(n.length===1)if(typeof n[0]=="object")o=n[0],typeof s>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),r._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:r._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:r._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:r._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:r._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:r._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:r._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:r._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:r._panningModel});else return c=r._soundById(parseInt(n[0],10)),c?c._pannerAttr:r._pannerAttr;else n.length===2&&(o=n[0],s=parseInt(n[1],10));for(var d=r._getSoundIds(s),u=0;u<d.length;u++)if(c=r._soundById(d[u]),c){var m=c._pannerAttr;m={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:m.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:m.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:m.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:m.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:m.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:m.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:m.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:m.panningModel};var _=c._panner;_?(_.coneInnerAngle=m.coneInnerAngle,_.coneOuterAngle=m.coneOuterAngle,_.coneOuterGain=m.coneOuterGain,_.distanceModel=m.distanceModel,_.maxDistance=m.maxDistance,_.refDistance=m.refDistance,_.rolloffFactor=m.rolloffFactor,_.panningModel=m.panningModel):(c._pos||(c._pos=r._pos||[0,0,-.5]),e(c,"spatial"))}return r},Sound.prototype.init=function(r){return function(){var n=this,o=n._parent;n._orientation=o._orientation,n._stereo=o._stereo,n._pos=o._pos,n._pannerAttr=o._pannerAttr,r.call(this),n._stereo?o.stereo(n._stereo):n._pos&&o.pos(n._pos[0],n._pos[1],n._pos[2],n._id)}}(Sound.prototype.init),Sound.prototype.reset=function(r){return function(){var n=this,o=n._parent;return n._orientation=o._orientation,n._stereo=o._stereo,n._pos=o._pos,n._pannerAttr=o._pannerAttr,n._stereo?o.stereo(n._stereo):n._pos?o.pos(n._pos[0],n._pos[1],n._pos[2],n._id):n._panner&&(n._panner.disconnect(0),n._panner=void 0,o._refreshBuffer(n)),r.call(this)}}(Sound.prototype.reset);var e=function(r,n){n=n||"spatial",n==="spatial"?(r._panner=Howler.ctx.createPanner(),r._panner.coneInnerAngle=r._pannerAttr.coneInnerAngle,r._panner.coneOuterAngle=r._pannerAttr.coneOuterAngle,r._panner.coneOuterGain=r._pannerAttr.coneOuterGain,r._panner.distanceModel=r._pannerAttr.distanceModel,r._panner.maxDistance=r._pannerAttr.maxDistance,r._panner.refDistance=r._pannerAttr.refDistance,r._panner.rolloffFactor=r._pannerAttr.rolloffFactor,r._panner.panningModel=r._pannerAttr.panningModel,typeof r._panner.positionX<"u"?(r._panner.positionX.setValueAtTime(r._pos[0],Howler.ctx.currentTime),r._panner.positionY.setValueAtTime(r._pos[1],Howler.ctx.currentTime),r._panner.positionZ.setValueAtTime(r._pos[2],Howler.ctx.currentTime)):r._panner.setPosition(r._pos[0],r._pos[1],r._pos[2]),typeof r._panner.orientationX<"u"?(r._panner.orientationX.setValueAtTime(r._orientation[0],Howler.ctx.currentTime),r._panner.orientationY.setValueAtTime(r._orientation[1],Howler.ctx.currentTime),r._panner.orientationZ.setValueAtTime(r._orientation[2],Howler.ctx.currentTime)):r._panner.setOrientation(r._orientation[0],r._orientation[1],r._orientation[2])):(r._panner=Howler.ctx.createStereoPanner(),r._panner.pan.setValueAtTime(r._stereo,Howler.ctx.currentTime)),r._panner.connect(r._node),r._paused||r._parent.pause(r._id,!0).play(r._id,!0)}}()})(howler);const toLoad=[{id:"ambiance",path:"/sounds/ambiance.mp3",volume:.1,loop:!0,autoPlay:!0},{id:"fireworks",path:"/sounds/fireworks.mp3",volume:.1,loop:!0},{id:"click",path:"/sounds/click.mp3",volume:.3},{id:"win",path:"/sounds/success.mp3",volume:.3},{id:"fail",path:"/sounds/fail.mp3",volume:.3}];class SoundManager extends eventemitter2Exports.EventEmitter2{constructor(){if(super(),SoundManager._instance)return SoundManager._instance;SoundManager._instance=this,this.sounds={},this.loaded=0,this.volume=1,this.mute=!1}load(){toLoad.forEach(e=>{this.createSound(e.id,e.path,e.volume,e.loop,e.autoPlay)})}onLoad(){this.loaded++,this.emit("load",this.loaded/toLoad.length)}createSound(e,r,n=1,o=!1,s=!1){return this.sounds[e]?this.sounds[e]:(this.sounds[e]={audio:new howler.Howl({src:[r],loop:o,volume:n,onload:()=>{this.onLoad()}}),volume:n},s&&this.playSound(e),this.sounds[e])}playSound(e,r=!1,n=void 0){if(!this.sounds[e])return;this.sounds[e].timer&&clearTimeout(this.sounds[e].timer),n&&(this.sounds[e].volume=n),this.sounds[e].audio.stop(),this.sounds[e].audio.play();let o=2e3;r||(o=0),this.sounds[e].audio.fade(0,this.sounds[e].volume,o)}stopSound(e){if(!this.sounds[e])return;const r=1;this.sounds[e].audio.fade(this.sounds[e].volume,0,r*400),this.sounds[e].timer=setTimeout(()=>{this.sounds[e].audio.stop()},r*1e3)}stopAll(){Object.keys(this.sounds).forEach(e=>{this.stopSound(e)})}isPlaying(e){return this.sounds[e].audio.playing()}getSound(e){return this.sounds[e]}setVolume(e){howler.Howler.volume(e)}toggleMute(e=void 0){let r=!this.mute;e!==void 0&&(r=e),this.mute=r,howler.Howler.mute(this.mute)}isMute(){return this.mute===!0}}const sm=new SoundManager,HandGestureItem_vue_vue_type_style_index_0_scoped_c2c176f2_lang="",_export_sfc=(t,e)=>{const r=t.__vccOpts||t;for(const[n,o]of e)r[n]=o;return r},_hoisted_1$i=["src"],_hoisted_2$c={key:0,class:"hand-gesture-item__bonus-life",src:_imports_0$2,alt:"life"},_sfc_main$q={__name:"HandGestureItem",props:{gesture:{type:Object,required:!0},side:{type:String,required:!0,default:"left"},speed:{type:Number,required:!0},frameY:{type:Number,required:!0},parentHeight:{type:Number,required:!0}},emits:["remove","ready"],setup(t,{emit:e}){const r=t;useCssVars(y=>({bdf8c798:d.value}));const n=ref(null),o=ref(!1),s=ref({x:useIsMobile().isMobile?25:50,y:0}),c=ref(1),d=ref("white"),u=ref(0),m=(y,M)=>new URL(Object.assign({"/src/assets/images/gestures/left/call.png":__vite_glob_0_0,"/src/assets/images/gestures/left/dislike.png":__vite_glob_0_1,"/src/assets/images/gestures/left/fist.png":__vite_glob_0_2,"/src/assets/images/gestures/left/four.png":__vite_glob_0_3,"/src/assets/images/gestures/left/like.png":__vite_glob_0_4,"/src/assets/images/gestures/left/ok.png":__vite_glob_0_5,"/src/assets/images/gestures/left/one.png":__vite_glob_0_6,"/src/assets/images/gestures/left/palm.png":__vite_glob_0_7,"/src/assets/images/gestures/left/peace.png":__vite_glob_0_8,"/src/assets/images/gestures/left/rock.png":__vite_glob_0_9,"/src/assets/images/gestures/left/stop.png":__vite_glob_0_10,"/src/assets/images/gestures/left/three2.png":__vite_glob_0_11,"/src/assets/images/gestures/left/two_up.png":__vite_glob_0_12,"/src/assets/images/gestures/right/call.png":__vite_glob_0_13,"/src/assets/images/gestures/right/dislike.png":__vite_glob_0_14,"/src/assets/images/gestures/right/fist.png":__vite_glob_0_15,"/src/assets/images/gestures/right/four.png":__vite_glob_0_16,"/src/assets/images/gestures/right/like.png":__vite_glob_0_17,"/src/assets/images/gestures/right/ok.png":__vite_glob_0_18,"/src/assets/images/gestures/right/one.png":__vite_glob_0_19,"/src/assets/images/gestures/right/palm.png":__vite_glob_0_20,"/src/assets/images/gestures/right/peace.png":__vite_glob_0_21,"/src/assets/images/gestures/right/rock.png":__vite_glob_0_22,"/src/assets/images/gestures/right/stop.png":__vite_glob_0_23,"/src/assets/images/gestures/right/three2.png":__vite_glob_0_24,"/src/assets/images/gestures/right/two_up.png":__vite_glob_0_25})[`/src/assets/images/gestures/${M}/${y.gesture}.png`],self.location).href;watch(()=>r.gesture.status,y=>{switch(y){case"failed":_();break;case"success":g();break}});const _=()=>{sm.playSound("fail");const y=gsapWithCSS.timeline({repeat:4,onComplete:()=>{e("remove",r.gesture)}});y.to(n.value,{opacity:1,ease:"linear",duration:.2},0),y.to(n.value,{opacity:0,ease:"linear",duration:.2},.2)},g=()=>{sm.playSound("win");const y=gsapWithCSS.timeline({onComplete:()=>{e("remove",r.gesture)}});y.to(n.value,{backgroundColor:"#ffffff",duration:.2,ease:"power2.out"},0),y.to(n.value.querySelector("img"),{opacity:0,duration:.2,ease:"power2.out"},0),r.gesture.isBonus&&y.to(n.value.querySelector(".hand-gesture-item__bonus-life"),{scale:1.5,opacity:0,x:"+=20",y:"-=20",duration:.4,ease:"power2.out"},0)},f=(y,M)=>{if(o.value)return;const T=useIsMobile().isMobile?25:50;s.value.y+=r.speed*M*.1,s.value.y=Math.min(s.value.y,r.parentHeight-T-250);const A=r.parentHeight-s.value.y-T,E=Math.abs(A-r.frameY);u.value=1-2*E/r.parentHeight,A<=r.frameY&&(gsapWithCSS.to(c,{duration:.2,value:1.8}),o.value=!0,e("ready",r.gesture))};return onMounted(()=>{gsapWithCSS.ticker.add(f)}),onUnmounted(()=>{gsapWithCSS.ticker.remove(f)}),(y,M)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:n,class:normalizeClass(["hand-gesture-item",t.gesture.isBonus?"hand-gesture-item--is-bonus":""]),style:normalizeStyle(`transform: translate(-${s.value.x}px, ${-s.value.y}px) scale(${c.value}); opacity: ${u.value}`)},[createBaseVNode("img",{class:"hand-gesture-item__gesture",src:m(t.gesture,t.side),alt:"gesture"},null,8,_hoisted_1$i),t.gesture.isBonus?(openBlock(),createElementBlock("img",_hoisted_2$c)):createCommentVNode("",!0)],6))}},HandGestureItem=_export_sfc(_sfc_main$q,[["__scopeId","data-v-c2c176f2"]]),_sfc_main$p={__name:"HandGestureFrameItem",setup(t){const e=ref(null),r=["#001AFF","#24FF00","#FF0000"],n=1+(Math.random()-.5)*.15,o=(Math.random()-.5)*8,s=(Math.random()-.5)*8,c=r[Math.floor(Math.random()*r.length)],d=()=>{const u=gsapWithCSS.timeline({repeat:-1}),m=`${50+(Math.random()-.5)*8}% ${50+(Math.random()-.5)*8}%`;gsapWithCSS.set(e.value,{rotate:0,x:o,y:s,scale:n,borderColor:c}),u.to(e.value,{rotate:360,x:o,y:s,scale:n,transformOrigin:m,duration:1.2,ease:"linear"})};return onMounted(()=>{d()}),(u,m)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:e},null,512))}},HandGestureFrame_vue_vue_type_style_index_0_scoped_902ef975_lang="",_sfc_main$o={__name:"HandGestureFrame",props:{series:{type:Number,default:0}},emits:["mounted"],setup(t,{emit:e}){const r=ref(null);return onMounted(()=>{e("mounted",r.value.offsetTop+r.value.offsetHeight/2)}),(n,o)=>(openBlock(),createElementBlock("div",{class:"hand-gesture-frame",ref_key:"root",ref:r},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.series,s=>(openBlock(),createBlock(_sfc_main$p,{class:"hand-gesture-frame__inner",key:s}))),128))],512))}},HandGestureFrame=_export_sfc(_sfc_main$o,[["__scopeId","data-v-902ef975"]]),HandGesture_vue_vue_type_style_index_0_scoped_1cecc0f0_lang="",_hoisted_1$h={class:"hand-gesture__next-list"},_sfc_main$n={__name:"HandGesture",props:{series:{type:Number,required:!0},multiplier:{type:Number,required:!0},speed:{type:Number,required:!0},life:{type:Number,required:!0},timer:{type:Number,required:!0},hand:{type:String},side:{type:String,required:!0,default:"left"},isTutorial:{type:Boolean,default:!1},running:{type:Boolean,default:!1}},emits:["score"],setup(t,{expose:e,emit:r}){const n=t,o=["call","dislike","fist","four","like","ok","one","palm","peace","rock"],s=ref(null),c=ref(null),d=ref(0),u=ref([]),m=ref(null),_=ref(0),g=ref(!1),f=C=>{d.value=C};watch(()=>n.hand,C=>{var k;C===((k=m.value)==null?void 0:k.gesture)&&A(m.value)});const y=(C=void 0)=>{let k=o[Math.floor(Math.random()*o.length)];C&&(k=C),u.value.push({id:Date.now(),gesture:k,status:"waiting",isBonus:n.isTutorial||n.life>=3?!1:Math.random()>.92});const O=8e3/n.speed;return setTimeout(()=>{!n.isTutorial&&n.running&&y()},O+Math.random()*500),u.value[u.value.length-1]},M=C=>{const k=u.value.findIndex(O=>O.id===C.id);k>-1&&u.value.splice(k,1)},T=C=>{const k=u.value.findIndex(O=>O.id===C.id);k>-1&&(u.value[k].status="failed",r("score",{points:-1,gesture:C}))},A=C=>{const k=u.value.findIndex(O=>O.id===C.id);k>-1&&(u.value[k].status="success",m.value=null,r("score",{points:10,gesture:C})),!g.value&&!n.isTutorial&&(g.value=!0,sm.playSound("fireworks",!0))},E=C=>{m.value&&T(m.value),m.value=C,n.hand===C.gesture&&A(C)};return onMounted(()=>{_.value=s.value.clientHeight,n.isTutorial||y()}),e({onAddGesture:y,onGestureRemove:M,stop}),(C,k)=>(openBlock(),createElementBlock("div",{class:"hand-gesture",ref_key:"root",ref:s},[createVNode(HandGestureFrame,{ref_key:"frame",ref:c,onMounted:f,series:t.series},null,8,["series"]),createBaseVNode("div",_hoisted_1$h,[(openBlock(!0),createElementBlock(Fragment,null,renderList(u.value,O=>(openBlock(),createBlock(HandGestureItem,{class:"hand-gesture__next",key:O.id,gesture:O,side:t.side,speed:t.speed,frameY:d.value,parentHeight:_.value,onReady:E,onFailed:T,onRemove:M},null,8,["gesture","side","speed","frameY","parentHeight"]))),128))])],512))}},HandGesture=_export_sfc(_sfc_main$n,[["__scopeId","data-v-1cecc0f0"]]),v$8="5.9.0",fr$8=29.9700012207031,ip$8=0,op$8=40.0000016292334,w$8=400,h$8=400,nm$8="Heart_apparition",ddd$8=0,assets$8=[{id:"comp_0",nm:"coeur_echo",fr:29.9700012207031,layers:[{ddd:0,ind:1,ty:3,nm:"ECHO",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[960.5,535.5,0],ix:2,l:2},a:{a:0,k:[960,540,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,ef:[{ty:5,nm:"Echo",np:7,mn:"ADBE Echo",ix:1,en:1,ef:[{ty:0,nm:"Intervalle (secondes)",mn:"ADBE Echo-0001",ix:1,v:{a:0,k:-.004,ix:1}},{ty:0,nm:"Nombre d'\xE9chos",mn:"ADBE Echo-0002",ix:2,v:{a:0,k:30,ix:2}},{ty:0,nm:"Intensit\xE9 initiale",mn:"ADBE Echo-0003",ix:3,v:{a:0,k:1,ix:3}},{ty:0,nm:"Att\xE9nuation",mn:"ADBE Echo-0004",ix:4,v:{a:0,k:1,ix:4}},{ty:7,nm:"Op\xE9rateur",mn:"ADBE Echo-0005",ix:5,v:{a:0,k:1,ix:5}}]}],ip:0,op:300.00001221925,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Coeur",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[1],y:[0]},t:20,s:[0]},{t:41.0000016699642,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.667,y:1},o:{x:1,y:0},t:0,s:[442.113,511.963,0],to:[0,-20,0],ti:[0,20,0]},{t:30.0000012219251,s:[442.113,391.963,0]}],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[14.403,14.403,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,1.147],[0,0],[1.147,0],[0,0],[0,1.147],[0,0],[0,0],[0,0],[-1.147,0],[0,0],[0,-1.147],[0,0],[-1.147,0],[0,0],[0,1.147],[0,0],[-1.147,0],[0,0],[0,1.147],[0,0],[0,0],[0,0],[1.147,0],[0,0],[0,-1.147],[0,0],[1.147,0],[0,0],[0,-1.147],[0,0],[1.147,0],[0,0],[0,1.147],[0,0],[1.147,0]],o:[[-1.147,0],[0,0],[0,-1.147],[0,0],[-1.147,0],[0,0],[0,0],[0,0],[0,1.147],[0,0],[1.147,0],[0,0],[0,1.147],[0,0],[1.147,0],[0,0],[0,-1.147],[0,0],[1.147,0],[0,0],[0,0],[0,0],[0,1.147],[0,0],[-1.147,0],[0,0],[0,1.147],[0,0],[-1.147,0],[0,0],[0,1.147],[0,0],[-1.147,0],[0,0],[0,-1.147],[0,0]],v:[[-20.501,19.474],[-22.53,17.446],[-22.53,12.683],[-24.558,10.655],[-29.497,10.655],[-31.526,8.626],[-31.526,-7.699],[-22.53,-7.699],[-22.53,8.626],[-20.501,10.655],[-15.563,10.655],[-13.534,12.683],[-13.534,17.446],[-11.506,19.474],[11.44,19.474],[13.468,17.446],[13.468,12.683],[15.497,10.655],[20.436,10.655],[22.464,8.626],[22.464,-7.699],[31.46,-7.699],[31.46,8.626],[29.432,10.655],[24.493,10.655],[22.464,12.683],[22.464,17.446],[20.436,19.474],[15.497,19.474],[13.468,21.503],[13.468,26.265],[11.44,28.294],[-11.506,28.294],[-13.534,26.265],[-13.534,21.503],[-15.563,19.474]],c:!0},ix:2},nm:"Trac\xE9 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[0,0],[0,-1.147],[0,0],[0,0],[0,0],[0,0],[0,0],[1.147,0],[0,0],[0,-1.147],[0,0],[0,0],[0,0],[1.147,0],[0,0],[0,-1.147],[0,0],[0,0],[0,0],[0,0],[0,0],[-1.147,0],[0,0],[0,1.147],[0,0],[-1.147,0],[0,0],[0,-1.147],[0,0],[-1.147,0],[0,0],[0,1.147],[0,0],[-1.147,0],[0,0],[0,-1.147],[0,0],[-1.147,0]],o:[[1.147,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,-1.147],[0,0],[-1.147,0],[0,0],[0,0],[0,0],[0,-1.147],[0,0],[-1.147,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,-1.147],[0,0],[1.147,0],[0,0],[0,-1.147],[0,0],[1.147,0],[0,0],[0,1.147],[0,0],[1.147,0],[0,0],[0,-1.147],[0,0],[1.147,0],[0,0],[0,1.147],[0,0]],v:[[29.497,-19.474],[31.526,-17.446],[31.526,-10.322],[31.46,-7.699],[22.464,-7.699],[22.53,-10.322],[22.53,-17.446],[20.501,-19.474],[6.567,-19.474],[4.538,-17.446],[4.538,-5.173],[-4.458,-5.173],[-4.458,-17.446],[-6.486,-19.474],[-20.421,-19.474],[-22.45,-17.446],[-22.45,-10.322],[-22.53,-7.699],[-31.526,-7.699],[-31.446,-10.322],[-31.446,-17.446],[-29.417,-19.474],[-24.478,-19.474],[-22.45,-21.503],[-22.45,-26.265],[-20.421,-28.294],[-6.486,-28.294],[-4.458,-26.265],[-4.458,-21.503],[-2.429,-19.474],[2.51,-19.474],[4.538,-21.503],[4.538,-26.265],[6.567,-28.294],[20.413,-28.294],[22.53,-26.265],[22.53,-21.503],[24.558,-19.474]],c:!0},ix:2},nm:"Trac\xE9 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"mm",mm:1,nm:"Fusionner les trac\xE9s 1",mn:"ADBE Vector Filter - Merge",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fond 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[2064.516,2064.516],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"Coeur",np:4,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:330.000013441176,st:0,bm:2}]}],layers$8=[{ddd:0,ind:1,ty:3,nm:"Calque d'effets 2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[201.5,194,0],ix:2,l:2},a:{a:0,k:[960,540,0],ix:1,l:2},s:{a:0,k:[22.753,39.259,100],ix:6,l:2}},ao:0,ef:[{ty:5,nm:"CC Cross Blur",np:6,mn:"CS CrossBlur",ix:1,en:1,ef:[{ty:0,nm:"Radius X",mn:"CS CrossBlur-0001",ix:1,v:{a:0,k:0,ix:1}},{ty:0,nm:"Radius Y",mn:"CS CrossBlur-0002",ix:2,v:{a:1,k:[{i:{x:[.667],y:[80.999]},o:{x:[.167],y:[-29.866]},t:0,s:[0]},{i:{x:[.833],y:[1]},o:{x:[.167],y:[-21.334]},t:19.565,s:[0]},{t:30.0000012219251,s:[0]}],ix:2}},{ty:7,nm:"Transfer Mode",mn:"CS CrossBlur-0003",ix:3,v:{a:0,k:2,ix:3}},{ty:7,nm:"Repeat Edge Pixels",mn:"CS CrossBlur-0004",ix:4,v:{a:0,k:1,ix:4}}]}],ip:0,op:46.0000018736184,st:0,bm:0},{ddd:0,ind:2,ty:0,nm:"coeur_echo",refId:"comp_0",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[200,200,0],ix:2,l:2},a:{a:0,k:[438,395,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,w:876,h:790,ip:0,op:330.000013441176,st:0,bm:0}],markers$8=[],appear={v:v$8,fr:fr$8,ip:ip$8,op:op$8,w:w$8,h:h$8,nm:nm$8,ddd:ddd$8,assets:assets$8,layers:layers$8,markers:markers$8},v$7="5.9.0",fr$7=29.9700012207031,ip$7=0,op$7=50.0000020365418,w$7=400,h$7=400,nm$7="Heart_Perte",ddd$7=0,assets$7=[{id:"comp_0",nm:"coeur_echo",fr:29.9700012207031,layers:[{ddd:0,ind:1,ty:3,nm:"ECHO",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[960.5,535.5,0],ix:2,l:2},a:{a:0,k:[960,540,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,ef:[{ty:5,nm:"Echo",np:7,mn:"ADBE Echo",ix:1,en:1,ef:[{ty:0,nm:"Intervalle (secondes)",mn:"ADBE Echo-0001",ix:1,v:{a:0,k:-.004,ix:1}},{ty:0,nm:"Nombre d'\xE9chos",mn:"ADBE Echo-0002",ix:2,v:{a:0,k:30,ix:2}},{ty:0,nm:"Intensit\xE9 initiale",mn:"ADBE Echo-0003",ix:3,v:{a:0,k:1,ix:3}},{ty:0,nm:"Att\xE9nuation",mn:"ADBE Echo-0004",ix:4,v:{a:0,k:1,ix:4}},{ty:7,nm:"Op\xE9rateur",mn:"ADBE Echo-0005",ix:5,v:{a:0,k:1,ix:5}}]}],ip:0,op:300.00001221925,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Coeur",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[1],y:[0]},t:20,s:[0]},{t:41.0000016699642,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.667,y:1},o:{x:1,y:0},t:0,s:[442.113,511.963,0],to:[0,-20,0],ti:[0,20,0]},{t:30.0000012219251,s:[442.113,391.963,0]}],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[14.403,14.403,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,1.147],[0,0],[1.147,0],[0,0],[0,1.147],[0,0],[0,0],[0,0],[-1.147,0],[0,0],[0,-1.147],[0,0],[-1.147,0],[0,0],[0,1.147],[0,0],[-1.147,0],[0,0],[0,1.147],[0,0],[0,0],[0,0],[1.147,0],[0,0],[0,-1.147],[0,0],[1.147,0],[0,0],[0,-1.147],[0,0],[1.147,0],[0,0],[0,1.147],[0,0],[1.147,0]],o:[[-1.147,0],[0,0],[0,-1.147],[0,0],[-1.147,0],[0,0],[0,0],[0,0],[0,1.147],[0,0],[1.147,0],[0,0],[0,1.147],[0,0],[1.147,0],[0,0],[0,-1.147],[0,0],[1.147,0],[0,0],[0,0],[0,0],[0,1.147],[0,0],[-1.147,0],[0,0],[0,1.147],[0,0],[-1.147,0],[0,0],[0,1.147],[0,0],[-1.147,0],[0,0],[0,-1.147],[0,0]],v:[[-20.501,19.474],[-22.53,17.446],[-22.53,12.683],[-24.558,10.655],[-29.497,10.655],[-31.526,8.626],[-31.526,-7.699],[-22.53,-7.699],[-22.53,8.626],[-20.501,10.655],[-15.563,10.655],[-13.534,12.683],[-13.534,17.446],[-11.506,19.474],[11.44,19.474],[13.468,17.446],[13.468,12.683],[15.497,10.655],[20.436,10.655],[22.464,8.626],[22.464,-7.699],[31.46,-7.699],[31.46,8.626],[29.432,10.655],[24.493,10.655],[22.464,12.683],[22.464,17.446],[20.436,19.474],[15.497,19.474],[13.468,21.503],[13.468,26.265],[11.44,28.294],[-11.506,28.294],[-13.534,26.265],[-13.534,21.503],[-15.563,19.474]],c:!0},ix:2},nm:"Trac\xE9 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[0,0],[0,-1.147],[0,0],[0,0],[0,0],[0,0],[0,0],[1.147,0],[0,0],[0,-1.147],[0,0],[0,0],[0,0],[1.147,0],[0,0],[0,-1.147],[0,0],[0,0],[0,0],[0,0],[0,0],[-1.147,0],[0,0],[0,1.147],[0,0],[-1.147,0],[0,0],[0,-1.147],[0,0],[-1.147,0],[0,0],[0,1.147],[0,0],[-1.147,0],[0,0],[0,-1.147],[0,0],[-1.147,0]],o:[[1.147,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,-1.147],[0,0],[-1.147,0],[0,0],[0,0],[0,0],[0,-1.147],[0,0],[-1.147,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,-1.147],[0,0],[1.147,0],[0,0],[0,-1.147],[0,0],[1.147,0],[0,0],[0,1.147],[0,0],[1.147,0],[0,0],[0,-1.147],[0,0],[1.147,0],[0,0],[0,1.147],[0,0]],v:[[29.497,-19.474],[31.526,-17.446],[31.526,-10.322],[31.46,-7.699],[22.464,-7.699],[22.53,-10.322],[22.53,-17.446],[20.501,-19.474],[6.567,-19.474],[4.538,-17.446],[4.538,-5.173],[-4.458,-5.173],[-4.458,-17.446],[-6.486,-19.474],[-20.421,-19.474],[-22.45,-17.446],[-22.45,-10.322],[-22.53,-7.699],[-31.526,-7.699],[-31.446,-10.322],[-31.446,-17.446],[-29.417,-19.474],[-24.478,-19.474],[-22.45,-21.503],[-22.45,-26.265],[-20.421,-28.294],[-6.486,-28.294],[-4.458,-26.265],[-4.458,-21.503],[-2.429,-19.474],[2.51,-19.474],[4.538,-21.503],[4.538,-26.265],[6.567,-28.294],[20.413,-28.294],[22.53,-26.265],[22.53,-21.503],[24.558,-19.474]],c:!0},ix:2},nm:"Trac\xE9 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"mm",mm:1,nm:"Fusionner les trac\xE9s 1",mn:"ADBE Vector Filter - Merge",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fond 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[2064.516,2064.516],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"Coeur",np:4,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:330.000013441176,st:0,bm:2}]}],layers$7=[{ddd:0,ind:1,ty:3,nm:"Calque d'effets 2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[201.5,202,0],ix:2,l:2},a:{a:0,k:[960,540,0],ix:1,l:2},s:{a:0,k:[46.667,74.074,100],ix:6,l:2}},ao:0,ef:[{ty:5,nm:"CC Cross Blur",np:6,mn:"CS CrossBlur",ix:1,en:1,ef:[{ty:0,nm:"Radius X",mn:"CS CrossBlur-0001",ix:1,v:{a:0,k:0,ix:1}},{ty:0,nm:"Radius Y",mn:"CS CrossBlur-0002",ix:2,v:{a:1,k:[{i:{x:[.667],y:[80.999]},o:{x:[.167],y:[-29.866]},t:-136,s:[0]},{i:{x:[.833],y:[1]},o:{x:[.167],y:[-21.334]},t:-116.435,s:[0]},{t:-106.000004317469,s:[0]}],ix:2}},{ty:7,nm:"Transfer Mode",mn:"CS CrossBlur-0003",ix:3,v:{a:0,k:2,ix:3}},{ty:7,nm:"Repeat Edge Pixels",mn:"CS CrossBlur-0004",ix:4,v:{a:0,k:1,ix:4}}]}],ip:0,op:42.0000017106951,st:-136.000005539394,bm:0},{ddd:0,ind:2,ty:0,nm:"coeur_echo",refId:"comp_0",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[1],y:[0]},t:14,s:[100]},{i:{x:[.667],y:[1]},o:{x:[1],y:[0]},t:16.691,s:[0]},{i:{x:[.667],y:[1]},o:{x:[1],y:[0]},t:19.383,s:[100]},{i:{x:[0],y:[1]},o:{x:[1],y:[0]},t:22.075,s:[0]},{i:{x:[0],y:[1]},o:{x:[.522],y:[0]},t:24,s:[100]},{t:32.0000013033867,s:[0]}],ix:11},r:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[1],y:[0]},t:22,s:[0]},{t:32.0000013033867,s:[-9]}],ix:10},p:{a:1,k:[{i:{x:.667,y:1},o:{x:1,y:0},t:22,s:[200,189,0],to:[0,22.333,0],ti:[0,-22.333,0]},{t:32.0000013033867,s:[200,323,0]}],ix:2,l:2},a:{a:0,k:[438,395,0],ix:1,l:2},s:{a:1,k:[{i:{x:[0,0,0],y:[1,1,1]},o:{x:[1,1,1],y:[0,0,0]},t:-56,s:[100,100,100]},{i:{x:[0,0,0],y:[1,1,1]},o:{x:[1,1,1],y:[0,0,0]},t:-46,s:[120,120,100]},{t:-36.0000014663101,s:[100,100,100]}],ix:6,l:2}},ao:0,w:876,h:790,ip:-136.000005539394,op:194.000007901782,st:-136.000005539394,bm:0}],markers$7=[],fail={v:v$7,fr:fr$7,ip:ip$7,op:op$7,w:w$7,h:h$7,nm:nm$7,ddd:ddd$7,assets:assets$7,layers:layers$7,markers:markers$7},v$6="5.9.0",fr$6=29.9700012207031,ip$6=0,op$6=40.0000016292334,w$6=400,h$6=400,nm$6="Heart_Gain",ddd$6=0,assets$6=[{id:"comp_0",nm:"coeur_echo",fr:29.9700012207031,layers:[{ddd:0,ind:1,ty:3,nm:"ECHO",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[960.5,535.5,0],ix:2,l:2},a:{a:0,k:[960,540,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,ef:[{ty:5,nm:"Echo",np:7,mn:"ADBE Echo",ix:1,en:1,ef:[{ty:0,nm:"Intervalle (secondes)",mn:"ADBE Echo-0001",ix:1,v:{a:0,k:-.004,ix:1}},{ty:0,nm:"Nombre d'\xE9chos",mn:"ADBE Echo-0002",ix:2,v:{a:0,k:30,ix:2}},{ty:0,nm:"Intensit\xE9 initiale",mn:"ADBE Echo-0003",ix:3,v:{a:0,k:1,ix:3}},{ty:0,nm:"Att\xE9nuation",mn:"ADBE Echo-0004",ix:4,v:{a:0,k:1,ix:4}},{ty:7,nm:"Op\xE9rateur",mn:"ADBE Echo-0005",ix:5,v:{a:0,k:1,ix:5}}]}],ip:0,op:300.00001221925,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Coeur",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[1],y:[0]},t:20,s:[0]},{t:41.0000016699642,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.667,y:1},o:{x:1,y:0},t:0,s:[442.113,511.963,0],to:[0,-20,0],ti:[0,20,0]},{t:30.0000012219251,s:[442.113,391.963,0]}],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[14.403,14.403,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,1.147],[0,0],[1.147,0],[0,0],[0,1.147],[0,0],[0,0],[0,0],[-1.147,0],[0,0],[0,-1.147],[0,0],[-1.147,0],[0,0],[0,1.147],[0,0],[-1.147,0],[0,0],[0,1.147],[0,0],[0,0],[0,0],[1.147,0],[0,0],[0,-1.147],[0,0],[1.147,0],[0,0],[0,-1.147],[0,0],[1.147,0],[0,0],[0,1.147],[0,0],[1.147,0]],o:[[-1.147,0],[0,0],[0,-1.147],[0,0],[-1.147,0],[0,0],[0,0],[0,0],[0,1.147],[0,0],[1.147,0],[0,0],[0,1.147],[0,0],[1.147,0],[0,0],[0,-1.147],[0,0],[1.147,0],[0,0],[0,0],[0,0],[0,1.147],[0,0],[-1.147,0],[0,0],[0,1.147],[0,0],[-1.147,0],[0,0],[0,1.147],[0,0],[-1.147,0],[0,0],[0,-1.147],[0,0]],v:[[-20.501,19.474],[-22.53,17.446],[-22.53,12.683],[-24.558,10.655],[-29.497,10.655],[-31.526,8.626],[-31.526,-7.699],[-22.53,-7.699],[-22.53,8.626],[-20.501,10.655],[-15.563,10.655],[-13.534,12.683],[-13.534,17.446],[-11.506,19.474],[11.44,19.474],[13.468,17.446],[13.468,12.683],[15.497,10.655],[20.436,10.655],[22.464,8.626],[22.464,-7.699],[31.46,-7.699],[31.46,8.626],[29.432,10.655],[24.493,10.655],[22.464,12.683],[22.464,17.446],[20.436,19.474],[15.497,19.474],[13.468,21.503],[13.468,26.265],[11.44,28.294],[-11.506,28.294],[-13.534,26.265],[-13.534,21.503],[-15.563,19.474]],c:!0},ix:2},nm:"Trac\xE9 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[0,0],[0,-1.147],[0,0],[0,0],[0,0],[0,0],[0,0],[1.147,0],[0,0],[0,-1.147],[0,0],[0,0],[0,0],[1.147,0],[0,0],[0,-1.147],[0,0],[0,0],[0,0],[0,0],[0,0],[-1.147,0],[0,0],[0,1.147],[0,0],[-1.147,0],[0,0],[0,-1.147],[0,0],[-1.147,0],[0,0],[0,1.147],[0,0],[-1.147,0],[0,0],[0,-1.147],[0,0],[-1.147,0]],o:[[1.147,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,-1.147],[0,0],[-1.147,0],[0,0],[0,0],[0,0],[0,-1.147],[0,0],[-1.147,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,-1.147],[0,0],[1.147,0],[0,0],[0,-1.147],[0,0],[1.147,0],[0,0],[0,1.147],[0,0],[1.147,0],[0,0],[0,-1.147],[0,0],[1.147,0],[0,0],[0,1.147],[0,0]],v:[[29.497,-19.474],[31.526,-17.446],[31.526,-10.322],[31.46,-7.699],[22.464,-7.699],[22.53,-10.322],[22.53,-17.446],[20.501,-19.474],[6.567,-19.474],[4.538,-17.446],[4.538,-5.173],[-4.458,-5.173],[-4.458,-17.446],[-6.486,-19.474],[-20.421,-19.474],[-22.45,-17.446],[-22.45,-10.322],[-22.53,-7.699],[-31.526,-7.699],[-31.446,-10.322],[-31.446,-17.446],[-29.417,-19.474],[-24.478,-19.474],[-22.45,-21.503],[-22.45,-26.265],[-20.421,-28.294],[-6.486,-28.294],[-4.458,-26.265],[-4.458,-21.503],[-2.429,-19.474],[2.51,-19.474],[4.538,-21.503],[4.538,-26.265],[6.567,-28.294],[20.413,-28.294],[22.53,-26.265],[22.53,-21.503],[24.558,-19.474]],c:!0},ix:2},nm:"Trac\xE9 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"mm",mm:1,nm:"Fusionner les trac\xE9s 1",mn:"ADBE Vector Filter - Merge",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fond 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[2064.516,2064.516],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"Coeur",np:4,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:330.000013441176,st:0,bm:2}]}],layers$6=[{ddd:0,ind:1,ty:4,nm:"3",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[1],y:[0]},t:14,s:[0]},{i:{x:[.667],y:[1]},o:{x:[1],y:[0]},t:24,s:[100]},{t:34.0000013848484,s:[0]}],ix:11},r:{a:0,k:25,ix:10},p:{a:0,k:[277.029,82.462,0],ix:2,l:2},a:{a:0,k:[8.529,-133.109,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[3.5,-119.5],[3.5,-164]],c:!1},ix:2},nm:"Trac\xE9 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:14,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:24,s:[50]},{t:34.0000013848484,s:[100]}],ix:1},e:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[.333],y:[0]},t:14,s:[0]},{i:{x:[0],y:[1]},o:{x:[.333],y:[0]},t:24,s:[100]},{t:34.0000013848484,s:[100]}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"R\xE9duire les trac\xE9s 1",mn:"ADBE Vector Filter - Trim",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:10,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Contour 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fond 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[9.555,-105.953],ix:2},a:{a:0,k:[4.543,-119.372],ix:1},s:{a:0,k:[122.267,122.267],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"Forme 1",np:4,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:-2.00000008146167,op:44.0000017921567,st:-71.0000028918893,bm:0},{ddd:0,ind:2,ty:4,nm:"2",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[1],y:[0]},t:11,s:[0]},{i:{x:[.667],y:[1]},o:{x:[1],y:[0]},t:21,s:[100]},{t:31.0000012626559,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[208.029,83.891,0],ix:2,l:2},a:{a:0,k:[8.529,-133.109,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[3.5,-119.5],[3.5,-164]],c:!1},ix:2},nm:"Trac\xE9 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:11,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:21,s:[50]},{t:31.0000012626559,s:[100]}],ix:1},e:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[.333],y:[0]},t:11,s:[0]},{i:{x:[0],y:[1]},o:{x:[.333],y:[0]},t:21,s:[100]},{t:31.0000012626559,s:[100]}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"R\xE9duire les trac\xE9s 1",mn:"ADBE Vector Filter - Trim",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:10,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Contour 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fond 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[9.555,-105.953],ix:2},a:{a:0,k:[4.543,-119.372],ix:1},s:{a:0,k:[122.267,122.267],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"Forme 1",np:4,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:-2.00000008146167,op:44.0000017921567,st:-74.0000030140818,bm:0},{ddd:0,ind:3,ty:4,nm:"1",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[1],y:[0]},t:8,s:[0]},{i:{x:[.667],y:[1]},o:{x:[1],y:[0]},t:18,s:[100]},{t:28.0000011404634,s:[0]}],ix:11},r:{a:0,k:-25,ix:10},p:{a:0,k:[118.029,82.25,0],ix:2,l:2},a:{a:0,k:[8.529,-133.109,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[3.5,-119.5],[3.5,-164]],c:!1},ix:2},nm:"Trac\xE9 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:8,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:18,s:[50]},{t:28.0000011404634,s:[100]}],ix:1},e:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[.333],y:[0]},t:8,s:[0]},{i:{x:[0],y:[1]},o:{x:[.333],y:[0]},t:18,s:[100]},{t:28.0000011404634,s:[100]}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"R\xE9duire les trac\xE9s 1",mn:"ADBE Vector Filter - Trim",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:10,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Contour 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fond 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[9.555,-105.953],ix:2},a:{a:0,k:[4.543,-119.372],ix:1},s:{a:0,k:[122.267,122.267],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"Forme 1",np:4,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:-2.00000008146167,op:44.0000017921567,st:-77.0000031362743,bm:0},{ddd:0,ind:4,ty:3,nm:"Calque d'effets 2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[209.5,230,0],ix:2,l:2},a:{a:0,k:[960,540,0],ix:1,l:2},s:{a:0,k:[46.667,74.074,100],ix:6,l:2}},ao:0,ef:[{ty:5,nm:"CC Cross Blur",np:6,mn:"CS CrossBlur",ix:1,en:1,ef:[{ty:0,nm:"Radius X",mn:"CS CrossBlur-0001",ix:1,v:{a:0,k:0,ix:1}},{ty:0,nm:"Radius Y",mn:"CS CrossBlur-0002",ix:2,v:{a:1,k:[{i:{x:[.667],y:[80.999]},o:{x:[.167],y:[-29.866]},t:-73,s:[0]},{i:{x:[.833],y:[1]},o:{x:[.167],y:[-21.334]},t:-53.435,s:[0]},{t:-43.0000017514259,s:[0]}],ix:2}},{ty:7,nm:"Transfer Mode",mn:"CS CrossBlur-0003",ix:3,v:{a:0,k:2,ix:3}},{ty:7,nm:"Repeat Edge Pixels",mn:"CS CrossBlur-0004",ix:4,v:{a:0,k:1,ix:4}}]}],ip:-2.00000008146167,op:44.0000017921567,st:-73.000002973351,bm:0},{ddd:0,ind:5,ty:0,nm:"coeur_echo",refId:"comp_0",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[201.714,238.224,0],ix:2,l:2},a:{a:0,k:[438,395,0],ix:1,l:2},s:{a:1,k:[{i:{x:[0,0,0],y:[1,1,1]},o:{x:[1,1,1],y:[0,0,0]},t:7,s:[100,100,100]},{i:{x:[0,0,0],y:[1,1,1]},o:{x:[1,1,1],y:[0,0,0]},t:17,s:[120,120,100]},{t:27.0000010997325,s:[100,100,100]}],ix:6,l:2}},ao:0,w:876,h:790,ip:-73.000002973351,op:257.000010467825,st:-73.000002973351,bm:0}],markers$6=[],success={v:v$6,fr:fr$6,ip:ip$6,op:op$6,w:w$6,h:h$6,nm:nm$6,ddd:ddd$6,assets:assets$6,layers:layers$6,markers:markers$6},_sfc_main$m={__name:"Life",props:{active:{type:Boolean}},setup(t){const e=t,r=ref(null);ref(null);const n=ref(60),o=ref("appear");return watch(()=>e.active,s=>{s?o.value="success":o.value="fail"}),(s,c)=>(openBlock(),createElementBlock(Fragment,null,[o.value==="appear"?(openBlock(),createBlock(unref(Vue3Lottie),{key:0,ref_key:"root",ref:r,"animation-data":unref(appear),"auto-play":!0,loop:!1,"pause-animation":!0,height:n.value,width:n.value},null,8,["animation-data","height","width"])):createCommentVNode("",!0),o.value==="fail"?(openBlock(),createBlock(unref(Vue3Lottie),{key:1,ref_key:"root",ref:r,"animation-data":unref(fail),"auto-play":!0,loop:!1,"pause-animation":!0,height:n.value,width:n.value},null,8,["animation-data","height","width"])):createCommentVNode("",!0),o.value==="success"?(openBlock(),createBlock(unref(Vue3Lottie),{key:2,ref_key:"root",ref:r,"animation-data":unref(success),"auto-play":!0,loop:!1,"pause-animation":!0,height:n.value,width:n.value},null,8,["animation-data","height","width"])):createCommentVNode("",!0)],64))}},RGBText_vue_vue_type_style_index_0_lang="",_sfc_main$l={},_hoisted_1$g={class:"rgb-text"};function _sfc_render(t,e){return openBlock(),createElementBlock("div",_hoisted_1$g,[renderSlot(t.$slots,"default"),renderSlot(t.$slots,"default"),renderSlot(t.$slots,"default"),renderSlot(t.$slots,"default")])}const RGBText=_export_sfc(_sfc_main$l,[["render",_sfc_render]]),GameUIScore_vue_vue_type_style_index_0_scoped_d306632b_lang="",_hoisted_1$f=["id"],_sfc_main$k={__name:"GameUIScore",props:{score:{type:Number,default:0}},setup(t){const e=t,r=ref(null),n=s=>{const c=e.score.toString(),d=c.length;return c[d-s]||""},o=()=>{const s=r.value.querySelectorAll(".game-ui-score__number-column");s.forEach((c,d)=>{gsapWithCSS.to(c,{top:`calc(-${n(s.length-d)}em + 8px)`,duration:.4,ease:"power2.inOut"})})};return watch(()=>e.score,o),onMounted(()=>{o()}),(s,c)=>(openBlock(),createElementBlock("span",{class:"game-ui-score",ref_key:"root",ref:r},[(openBlock(),createElementBlock(Fragment,null,renderList(4,d=>createBaseVNode("span",{class:"game-ui-score__number-column",id:`score-column-${d}`,key:d,style:{top:"8px"}}," 0 1 2 3 4 5 6 7 8 9 ",8,_hoisted_1$f)),64)),createBaseVNode("span",null,toDisplayString$1(s.$t("messages.score")),1)],512))}},GameUIScore=_export_sfc(_sfc_main$k,[["__scopeId","data-v-d306632b"]]),GameUI_vue_vue_type_style_index_0_scoped_60000707_lang="",_hoisted_1$e={class:"game-ui__header"},_hoisted_2$b={class:"game-ui__lives"},_hoisted_3$8=["innerHTML"],_sfc_main$j={__name:"GameUI",props:{leftHand:{},rightHand:{}},emits:["end","scored"],setup(t,{expose:e,emit:r}){const n=t,o=ref(null),s=ref(!1),c=ref(0),d=ref(0),u=ref(3),m=ref(.001),_=computed(()=>Math.floor(d.value/4)+1),g=ref(60),f=ref(3),y=ref(!1),M=({points:C,gesture:k})=>{C<0?(d.value=0,f.value--,f.value<=0&&r("end",c.value)):(d.value++,k.isBonus&&(f.value++,C*=2)),c.value+=C*_.value,c.value=Math.max(0,Math.round(c.value*10)/10),c.value>70&&!useIsMobile().isMobile&&(y.value=!0),r("scored",{points:C,gesture:k})},T=()=>{s.value=!1,sm.stopSound("fireworks")},A=()=>{c.value=0,d.value=0,u.value=3,m.value=.001,g.value=60,f.value=3,y.value=!1};watch(()=>_.value,C=>{if(!C)return;const k=gsapWithCSS.timeline();k.set(".game-ui__message",{autoAlpha:0}),k.set(".game-ui__message",{scale:.8}),k.set(".game-ui__message",{top:"70%"}),k.to(".game-ui__message",{autoAlpha:1,duration:.4,ease:"linear"},0),k.to(".game-ui__message",{scale:1,duration:.8,ease:"power2.out"},0),k.to(".game-ui__message",{top:"50%",duration:.8,ease:"power2.out"},0),k.to(".game-ui__message",{autoAlpha:0,duration:.4,ease:"linear"},.6)});const E=(C,k)=>{n.isTutorial||(u.value+=m.value*k*.1)};return onMounted(()=>{s.value=!0,gsapWithCSS.set(".game-ui__message",{autoAlpha:0}),gsapWithCSS.ticker.add(E)}),onUnmounted(()=>{s.value=!1,gsapWithCSS.ticker.remove(E)}),e({onEnd:T,restart:A}),(C,k)=>(openBlock(),createElementBlock("div",{class:"game-ui",ref_key:"root",ref:o},[createBaseVNode("div",_hoisted_1$e,[createVNode(GameUIScore,{class:"game-ui__score",score:c.value},null,8,["score"]),createBaseVNode("div",_hoisted_2$b,[(openBlock(),createElementBlock(Fragment,null,renderList(3,O=>createVNode(_sfc_main$m,{class:"game-ui__life",key:O,id:`life-${O}`,active:f.value>3-O},null,8,["id","active"])),64))])]),createVNode(RGBText,{class:"game-ui__message"},{default:withCtx(()=>[createBaseVNode("span",{innerHTML:C.$t("messages.combo",{combo:_.value})},null,8,_hoisted_3$8)]),_:1}),createVNode(HandGesture,{class:"game-ui__hand-right",hand:t.leftHand,life:f.value,running:s.value,side:"left",series:_.value-1,timer:g.value,multiplier:_.value,speed:u.value,onScore:M},null,8,["hand","life","running","series","timer","multiplier","speed"]),y.value?(openBlock(),createBlock(HandGesture,{key:0,class:"game-ui__hand-left",hand:t.rightHand,life:f.value,series:_.value-1,running:s.value,side:"right",timer:g.value,speed:u.value,multiplier:_.value,onScore:M},null,8,["hand","life","series","running","timer","speed","multiplier"])):createCommentVNode("",!0)],512))}},GameUI=_export_sfc(_sfc_main$j,[["__scopeId","data-v-60000707"]]),v$5="5.9.0",fr$5=29.9700012207031,ip$5=0,op$5=110.000004480392,w$5=355,h$5=352,nm$5="Decompte_3",ddd$5=0,assets$5=[],fonts$2={list:[{fName:"Gridular-Regular",fFamily:"Gridular",fStyle:"Regular",ascent:69.9996948242188}]},layers$5=[{ddd:0,ind:1,ty:5,nm:"1",sr:1,ks:{o:{a:1,k:[{i:{x:[.591],y:[.923]},o:{x:[.525],y:[0]},t:61,s:[0]},{i:{x:[.623],y:[1]},o:{x:[.294],y:[-.028]},t:81,s:[100]},{t:91.000003706506,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[193,176,0],ix:2,l:2},a:{a:0,k:[28.762,-28.198,0],ix:1,l:2},s:{a:1,k:[{i:{x:[0,0,.667],y:[1.349,1.349,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:61,s:[200,200,100]},{t:91.000003706506,s:[300,300,100]}],ix:6,l:2}},ao:0,t:{d:{k:[{s:{s:80,f:"Gridular-Regular",t:"1",ca:0,j:0,tr:0,lh:22.3999996185303,ls:0,fc:[1,1,1]},t:0}]},p:{},m:{g:1,a:{a:0,k:[0,0],ix:2}},a:[]},ip:61.0000024845809,op:91.000003706506,st:5.00000020365417,bm:0},{ddd:0,ind:2,ty:5,nm:"2",sr:1,ks:{o:{a:1,k:[{i:{x:[.626],y:[.858]},o:{x:[.531],y:[0]},t:31,s:[0]},{i:{x:[.604],y:[1]},o:{x:[.279],y:[-.053]},t:51,s:[100]},{i:{x:[.833],y:[1]},o:{x:[.167],y:[0]},t:61,s:[0]},{t:92.0000037472368,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[177,176,0],ix:2,l:2},a:{a:0,k:[28.762,-28.198,0],ix:1,l:2},s:{a:1,k:[{i:{x:[0,0,.667],y:[1.341,1.341,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:31,s:[200,200,100]},{t:61.0000024845809,s:[300,300,100]}],ix:6,l:2}},ao:0,t:{d:{k:[{s:{s:80,f:"Gridular-Regular",t:"2",ca:0,j:0,tr:0,lh:22.3999996185303,ls:0,fc:[1,1,1]},t:0}]},p:{},m:{g:1,a:{a:0,k:[0,0],ix:2}},a:[]},ip:31.0000012626559,op:61.0000024845809,st:-26.0000010590017,bm:0},{ddd:0,ind:3,ty:5,nm:"3",sr:1,ks:{o:{a:1,k:[{i:{x:[.5],y:[1]},o:{x:[.5],y:[0]},t:0,s:[0]},{i:{x:[.833],y:[1]},o:{x:[.167],y:[0]},t:21,s:[100]},{i:{x:[.833],y:[1]},o:{x:[.167],y:[0]},t:31,s:[0]},{t:92.0000037472368,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[177,176,0],ix:2,l:2},a:{a:0,k:[28.762,-28.198,0],ix:1,l:2},s:{a:1,k:[{i:{x:[0,0,.667],y:[1.357,1.357,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:0,s:[200,200,100]},{t:31.0000012626559,s:[300,300,100]}],ix:6,l:2}},ao:0,t:{d:{k:[{s:{s:80,f:"Gridular-Regular",t:"3",ca:0,j:0,tr:0,lh:22.3999996185303,ls:0,fc:[1,1,1]},t:0}]},p:{},m:{g:1,a:{a:0,k:[0,0],ix:2}},a:[]},ip:0,op:31.0000012626559,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"Rectangle 6",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:87,s:[100]},{t:92.0000037472368,s:[0]}],ix:11},r:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[0]},{t:329.000013400445,s:[1440]}],ix:10},p:{a:0,k:[177.75,175.917,0],ix:2,l:2},a:{a:0,k:[-4.25,2.25,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ty:"rc",d:1,s:{a:0,k:[250,250],ix:2},p:{a:0,k:[0,0],ix:3},r:{a:0,k:400,ix:4},nm:"Trac\xE9 rectangulaire 1",mn:"ADBE Vector Shape - Rect",hd:!1},{ty:"st",c:{a:0,k:[0,.10000000149,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:4,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Contour 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[133.333,133.333],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"Rectangle 6",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:110.000004480392,st:0,bm:2},{ddd:0,ind:5,ty:4,nm:"Rectangle 5",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:87,s:[100]},{t:92.0000037472368,s:[0]}],ix:11},r:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[0]},{t:329.000013400445,s:[2160]}],ix:10},p:{a:0,k:[177.75,175.891,0],ix:2,l:2},a:{a:0,k:[3.75,-3.25,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ty:"rc",d:1,s:{a:0,k:[250,250],ix:2},p:{a:0,k:[0,0],ix:3},r:{a:0,k:400,ix:4},nm:"Trac\xE9 rectangulaire 1",mn:"ADBE Vector Shape - Rect",hd:!1},{ty:"st",c:{a:0,k:[.140000030398,1,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:4,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Contour 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[133.333,133.333],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"Rectangle 5",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:110.000004480392,st:0,bm:2},{ddd:0,ind:6,ty:4,nm:"Rectangle 4",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:87,s:[100]},{t:92.0000037472368,s:[0]}],ix:11},r:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[0]},{t:329.000013400445,s:[1440]}],ix:10},p:{a:0,k:[178,176.141,0],ix:2,l:2},a:{a:0,k:[-4,-3,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ty:"rc",d:1,s:{a:0,k:[250,250],ix:2},p:{a:0,k:[0,0],ix:3},r:{a:0,k:400,ix:4},nm:"Trac\xE9 rectangulaire 1",mn:"ADBE Vector Shape - Rect",hd:!1},{ty:"st",c:{a:0,k:[1,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:4,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Contour 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[133.333,133.333],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"Rectangle 4",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:110.000004480392,st:0,bm:2}],markers$5=[],chars$2=[{ch:"3",size:80,style:"Regular",w:71.4,data:{shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,-1.309],[0,0],[0,0],[0,0],[-1.208,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[0,0],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.208,0],[0,0],[0,1.309],[0,0],[-1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[-1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[0,0],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[-1.208,0],[0,0],[0,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.208,0],[0,0],[0,1.309],[0,0],[-1.309,0]],v:[[5.136,-58.109],[5.136,-50.354],[15.408,-50.354],[15.408,-58.109],[17.725,-60.425],[54.181,-60.425],[56.497,-58.109],[56.497,-42.599],[54.181,-40.283],[25.681,-40.283],[25.681,-30.212],[54.181,-30.212],[56.497,-27.896],[56.497,-12.387],[54.181,-10.071],[17.725,-10.071],[15.408,-12.387],[15.408,-20.142],[5.136,-20.142],[5.136,-12.387],[7.452,-10.071],[13.092,-10.071],[15.408,-7.755],[15.408,-2.316],[17.725,0],[54.181,0],[56.497,-2.316],[56.497,-7.755],[58.813,-10.071],[64.453,-10.071],[66.769,-12.387],[66.769,-27.896],[64.453,-30.212],[58.813,-30.212],[56.497,-32.529],[56.497,-37.967],[58.813,-40.283],[64.453,-40.283],[66.769,-42.599],[66.769,-58.109],[64.453,-60.425],[58.813,-60.425],[56.497,-62.741],[56.497,-68.179],[54.181,-70.496],[17.725,-70.496],[15.408,-68.179],[15.408,-62.741],[13.092,-60.425],[7.452,-60.425]],c:!0},ix:2},nm:"3",mn:"ADBE Vector Shape - Group",hd:!1}],nm:"3",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}]},fFamily:"Gridular"},{ch:"2",size:80,style:"Regular",w:71.4,data:{shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,-1.309],[0,0],[0,0],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,0],[0,0],[0,1.309],[0,0],[-1.309,0],[0,0],[0,1.309],[0,0],[-1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[-1.309,0],[0,0],[0,1.309],[0,0],[-1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[0,0],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,1.309],[0,0],[-1.309,0]],v:[[5.136,-58.109],[5.136,-50.354],[15.408,-50.354],[15.408,-58.109],[17.725,-60.425],[54.08,-60.425],[56.497,-58.109],[56.497,-42.599],[54.08,-40.283],[17.725,-40.283],[15.408,-37.967],[15.408,-32.529],[13.092,-30.212],[7.452,-30.212],[5.136,-27.896],[5.136,-12.387],[7.452,-10.071],[13.092,-10.071],[15.408,-7.755],[15.408,-2.316],[17.725,0],[66.769,0],[66.769,-10.071],[17.725,-10.071],[15.408,-12.387],[15.408,-27.896],[17.725,-30.212],[54.08,-30.212],[56.497,-32.529],[56.497,-37.967],[58.813,-40.283],[64.453,-40.283],[66.769,-42.599],[66.769,-58.109],[64.453,-60.425],[58.813,-60.425],[56.497,-62.741],[56.497,-68.179],[54.08,-70.496],[17.725,-70.496],[15.408,-68.179],[15.408,-62.741],[13.092,-60.425],[7.452,-60.425]],c:!0},ix:2},nm:"2",mn:"ADBE Vector Shape - Group",hd:!1}],nm:"2",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}]},fFamily:"Gridular"},{ch:"1",size:80,style:"Regular",w:71.4,data:{shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0]],o:[[0,0],[1.309,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[0,0],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[0,0],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[0,0]],v:[[5.136,0],[28.5,0],[30.817,-2.316],[30.817,-7.755],[33.133,-10.071],[38.672,-10.071],[41.089,-7.755],[41.089,-2.316],[43.405,0],[66.769,0],[66.769,-10.071],[43.405,-10.071],[41.089,-12.387],[41.089,-58.109],[38.773,-60.425],[33.133,-60.425],[30.817,-62.741],[30.817,-68.179],[28.5,-70.496],[5.136,-70.496],[5.136,-60.425],[28.5,-60.425],[30.817,-58.109],[30.817,-12.387],[28.5,-10.071],[5.136,-10.071]],c:!0},ix:2},nm:"1",mn:"ADBE Vector Shape - Group",hd:!1}],nm:"1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}]},fFamily:"Gridular"}],l$2={v:v$5,fr:fr$5,ip:ip$5,op:op$5,w:w$5,h:h$5,nm:nm$5,ddd:ddd$5,assets:assets$5,fonts:fonts$2,layers:layers$5,markers:markers$5,chars:chars$2},CountDown_vue_vue_type_style_index_0_scoped_7cea74c8_lang="",_sfc_main$i={__name:"CountDown",props:{duration:{type:Number,required:!0,default:3},autoplay:{type:Boolean,default:!1}},emits:["end"],setup(t,{expose:e,emit:r}){const n=t,o=ref(null),s=ref(null),c=()=>{s.value.play()},d=()=>{r("end")};return onMounted(()=>{n.autoplay&&c()}),e({onStart:c}),(u,m)=>(openBlock(),createElementBlock("div",{class:"count-down",ref_key:"root",ref:o},[createVNode(unref(Vue3Lottie),{ref_key:"lottie",ref:s,loop:!1,"animation-data":unref(l$2),height:250,width:250,onOnComplete:d},null,8,["animation-data"])],512))}},CountDown=_export_sfc(_sfc_main$i,[["__scopeId","data-v-7cea74c8"]]),Tutorial_vue_vue_type_style_index_0_scoped_ba1e728f_lang="",_hoisted_1$d={class:"tutorial"},_hoisted_2$a={key:0},_hoisted_3$7={key:1,class:"tutorial__small-text"},_hoisted_4$5={key:2},_hoisted_5$4={key:3},_sfc_main$h={__name:"Tutorial",props:{handVisible:{type:Boolean,default:!1},leftHand:{type:String,required:!0}},emits:["done","allow-hand-visible"],setup(t,{emit:e}){const r=t,n=ref(1),o=ref(null),s=ref(null),c=u=>{n.value!==3&&(u===3?d(()=>{n.value=u,setTimeout(()=>{e("done")},500)}):n.value=u)};watch(()=>r.handVisible,u=>{u?(c(2),s.value=o.value.onAddGesture(s.value)):(c(1),s.value&&(o.value.onGestureRemove(s.value),s.value=null))});const d=u=>{const m=gsapWithCSS.timeline({onComplete:u});m.set(".tutorial__message",{autoAlpha:0}),m.set(".tutorial__message",{scale:.8}),m.set(".tutorial__message",{top:"70%"}),m.to(".tutorial__message",{autoAlpha:1,duration:.4,ease:"linear"},0),m.to(".tutorial__message",{scale:1,duration:.8,ease:"power2.out"},0),m.to(".tutorial__message",{top:"50%",duration:.8,ease:"power2.out"},0),m.to(".tutorial__message",{autoAlpha:0,duration:.4,ease:"linear"},.6)};return onMounted(()=>{gsapWithCSS.set(".tutorial__message",{autoAlpha:0}),setTimeout(()=>{e("allow-hand-visible",!0)},3e3)}),(u,m)=>(openBlock(),createElementBlock("div",_hoisted_1$d,[createVNode(TransitionGroup,{name:"fade"},{default:withCtx(()=>[n.value===1?(openBlock(),createElementBlock("p",_hoisted_2$a,toDisplayString$1(u.$t("tutorial.step-1")),1)):createCommentVNode("",!0),n.value===1?(openBlock(),createElementBlock("p",_hoisted_3$7,toDisplayString$1(u.$t("tutorial.step-1-2")),1)):createCommentVNode("",!0),n.value===2?(openBlock(),createElementBlock("p",_hoisted_4$5,toDisplayString$1(u.$t("tutorial.step-2")),1)):createCommentVNode("",!0),n.value===3?(openBlock(),createElementBlock("p",_hoisted_5$4,toDisplayString$1(u.$t("tutorial.step-3")),1)):createCommentVNode("",!0)]),_:1}),createVNode(HandGesture,{ref_key:"handGesture",ref:o,class:normalizeClass(["tutorial__hand-gesture",n.value!==2?"tutorial__hand-gesture--hidden":""]),side:"left",hand:t.leftHand,speed:3,life:3,running:!1,timer:0,series:0,multiplier:0,"is-tutorial":!0,onScore:m[0]||(m[0]=_=>c(3))},null,8,["class","hand"]),createVNode(RGBText,{class:"tutorial__message"},{default:withCtx(()=>[createBaseVNode("span",null,toDisplayString$1(u.$t("messages.perfect")),1)]),_:1})]))}},Tutorial=_export_sfc(_sfc_main$h,[["__scopeId","data-v-ba1e728f"]]);class FireWork extends EventEmitter2{constructor(e,r,n,o={}){super(),this.opts=o,this.hue=n[0][0],this.saturation=n[0][0]?n[0][1]:0,this.colors=n,this.x=e.x,this.y=e.y,this.start=e,this.end=r,this.distance=distanceV2(e,r),this.traveled=0,this.coordinates=Array(o.coordinatesCount).fill([this.x,this.y]),this.angle=Math.atan2(this.end.y-this.start.y,this.end.x-this.start.x),this.speed=o.velocity}update(){this.coordinates.pop(),this.coordinates.unshift([this.x,this.y]),this.speed*=this.opts.acceleration;const e=Math.cos(this.angle)*this.speed,r=Math.sin(this.angle)*this.speed;this.traveled=distanceV2(this.start,{x:this.x+e,y:this.y+r}),this.traveled>=this.distance?this.emit("target-reached",this):(this.x+=e,this.y+=r)}draw(e){e.beginPath(),e.fillStyle="hsla("+this.hue+","+this.saturation+"%, "+this.brightness+"%, "+this.alpha+")",e.beginPath(),e.arc(this.x,this.y,4+Math.random()*2,0,2*Math.PI),e.fill()}}const matrix=[1,0,0,1,0,0];class FireworkParticle extends EventEmitter2{constructor(e,r,n,o,s={}){super(),this.x=e,this.y=r,this.options=s,this.end={x:this.x+o.x,y:this.y+o.y},this.coordinates=Array(this.options.coordinatesCount).fill([this.x,this.y]),this.angle=Math.atan2(this.end.y-this.y,this.end.x-this.x),this.distance=distanceV2({x:0,y:0},o),this.speed=this.distance*.8;const c=n[Math.floor(Math.random()*n.length)];this.hue=c[0]+Math.random()*20-10,this.saturation=c[1],this.brightness=c[2],this.alpha=1,this.decay=.012+Math.random()*.015,this.mod=2,this.fr=0,this.maxFactor=12,this.sizeFactor=1+Math.random()}update(e){this.fr++,this.coordinates.pop(),this.coordinates.unshift([this.x,this.y]),this.speed*=this.options.friction,this.x+=Math.cos(this.angle)*this.speed,this.y+=Math.sin(this.angle)*this.speed+this.options.gravity,this.alpha-=this.decay*e*.1,this.ellipseFactor=this.maxFactor-Math.min(this.maxFactor-1,(this.maxFactor-1)*(1-this.alpha)*2),this.alpha<=this.decay&&this.emit("end",this)}draw(e){for(let r=0;r<this.coordinates.length;r++){const n=this.alpha-r*.1,o=this.brightness+r*3,s=1.5*Math.max(0,3-Math.random()*.5*r)*this.sizeFactor;e.fillStyle="hsla("+this.hue+","+this.saturation+"%, "+o+"%, "+n+")",e.beginPath(),reset(),setOrigin(this.coordinates[r][0],this.coordinates[r][1]),setRotate(this.angle),roundRect(e,0,0,s*this.ellipseFactor,s,2)}}}const reset=()=>{matrix[0]=1,matrix[1]=0,matrix[2]=0,matrix[3]=1,matrix[4]=0,matrix[5]=0},transformPoint=(t,e)=>{const r=matrix;return[t*r[0]+e*r[2]+r[4],t*r[1]+e*r[3]+r[5]]},setOrigin=(t,e)=>{matrix[4]=t,matrix[5]=e},setRotate=t=>{const e=Math.cos(t),r=Math.sin(t);matrix[0]=e,matrix[1]=r,matrix[2]=-r,matrix[3]=e},roundRect=(t,e,r,n,o,s)=>{const c=e+n,d=r+o;t.beginPath(),t.moveTo(...transformPoint(e+s,r)),t.lineTo(...transformPoint(c-s,r)),t.quadraticCurveTo(...transformPoint(c,r),...transformPoint(c,r+s)),t.lineTo(...transformPoint(c,r+o-s)),t.quadraticCurveTo(...transformPoint(c,d),...transformPoint(c-s,d)),t.lineTo(...transformPoint(e+s,d)),t.quadraticCurveTo(...transformPoint(e,d),...transformPoint(e,d-s)),t.lineTo(...transformPoint(e,r+s)),t.fill()};class IMG{constructor(e,r){this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.path=e,this.coordinates=[],this.count=r,this.scale=.2,this.load()}load(){this.image=new Image,this.image.onload=()=>{this.extract()},this.image.src=this.path}extract(){this.canvas.width=this.image.width,this.canvas.height=this.image.height,this.ctx.drawImage(this.image,0,0);const e=this.ctx.getImageData(0,0,this.image.width,this.image.height).data,r=[];for(let o=0;o<e.length;o+=4)e[o+3]>0&&r.push({x:-this.scale*(this.image.width/2-o%(this.image.width*4)/4),y:-this.scale*(this.image.height/2-Math.floor(o/(this.image.width*4)))});const n=Math.floor(r.length/this.count);for(let o=0;o<r.length;o+=n)this.coordinates.push(r[o])}}const logo="/assets/logo.svg",rock="/assets/rock.png",Firework_vue_vue_type_style_index_0_scoped_6f3cbe0a_lang="",_sfc_main$g={__name:"Firework",setup(t,{expose:e}){new IMG(logo,150),new IMG(rock,150);const r={particles:1500,velocity:12,friction:.95,gravity:0,acceleration:.995,coordinatesCount:10},n=[[[235,100,51],[60,100,64]],[[235,100,51],[180,100,57],[300,100,55]],[[235,100,51],[0,0,100],[300,100,55]],[[112,100,50],[300,100,55]],[[60,100,64],[112,100,50],[0,100,50]],[[0,0,100],[112,100,50],[0,100,50]]],o=ref(null),s=ref(null),c=[],d=[],u=({points:f,gesture:y})=>{const M=n[Math.floor(Math.random()*n.length)];if(y.status==="success"){const T=Math.round(Math.random()*1)+1,A={x:window.innerWidth/2,y:window.innerHeight};let E={x:A.x+(Math.random()-.5)*.5*window.innerWidth,y:A.y-window.innerHeight*(.45+Math.random()*.4)};for(let C=0;C<T;C++)E.x+=(Math.random()-.5)*80,E.y+=(Math.random()-.5)*80,m(E,M)}},m=(f,y)=>{const M=new FireWork(f,f,y,r);M.on("target-reached",()=>_(M,null)),c.push(M)},_=(f,y=null)=>{if(!y){const M=Math.random()*5+20,T=Math.round(Math.random()*10+20),A=[];for(let E=0;E<T;E++){const C=.5+Math.random()*.5,k=Math.random()*Math.PI*2,O=Math.cos(k)*M*C,I=Math.sin(k)*M*C;A.push({x:O,y:I})}y={coordinates:A,radius:M,count:T}}for(let M=0;M<y.coordinates.length;M++){const T=new FireworkParticle(f.x,f.y,f.colors,y.coordinates[M],r);T.on("end",()=>{d.splice(d.indexOf(T),1)}),d.push(T)}c.splice(c.indexOf(f),1)},g=(f,y)=>{s.value.clearRect(0,0,window.innerWidth,window.innerHeight),c.forEach(M=>{M.draw(s.value),M.update()}),d.forEach(M=>{M.draw(s.value),M.update(y)})};return onMounted(()=>{if(o.value.width=window.innerWidth,o.value.height=window.innerHeight,s.value=o.value.getContext("2d"),window.devicePixelRatio>1){const f=o.value.width,y=o.value.height;o.value.width=f*window.devicePixelRatio,o.value.height=y*window.devicePixelRatio,o.value.style.width=f+"px",o.value.style.height=y+"px",s.value.scale(window.devicePixelRatio,window.devicePixelRatio),console.log("dps: ",window.devicePixelRatio)}gsapWithCSS.ticker.add(g)}),onUnmounted(()=>{gsapWithCSS.ticker.remove(g)}),e({throwFirework:u}),(f,y)=>(openBlock(),createElementBlock("canvas",{class:"firework",ref_key:"canvas",ref:o},null,512))}},Firework=_export_sfc(_sfc_main$g,[["__scopeId","data-v-6f3cbe0a"]]),_imports_0$1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANsAAAAvCAYAAABqgL9PAAAHT0lEQVR4Ae2cT2wUdRTHv1OpGrXtQoIYWmEw9KBVrMEImhimB43GA/+MmnhwezDGmFhQE008dHvTRGirB42QtL0Y08TQXtQeSAeNoPFAFQGjJB2kbfQA3aLGgMjP92ZnC1u2tPOb3+7ObN8neZnZ7exvpjO/N983v/d+AwiCIAiCIAiCIAiCICxxrPyKUspBZfAsy/LC/CDCsYbe11X7tGlhQwPap4uQ0P5StGiFQXSO42qaFdJK8xyUEPeUBbfYHyrYpwvIn3ff2YKONI7KkiUbIztENkQHODbfhnS8Cnq0U7v90IB2maFFJ8LDDr4OIaH9jdLCgVnadB2OTnjnoV+QPtucsfVOg3m+I9u/Bzi3Fx6mCs9xTPo0M3v9lyE+8J3cCayTTpZHyy5d50gy9L+zojkwD3uJCz2cLZOkas2IFfuRHGoQX2yyPup4fUFItZToQGlw4hJaLUXi7Gx50mSjWCIE4U8apSMeMeASJAnOxrQGz0xLgVI7g6hbhUiKszEd1R5OlkHV8oi6VYAkORs72jZUN+VyAlG3ChCn0cjFYDTvFCfKqGp5ooxMhmLiDHBpM414/ZXx8N80TNG8bM3YudteH0YubWSSfphj9thMONuiczfBkDZfZF2FslG9vAA9+GLqhNe+ukVNdC/EJNmjZB5/uCXTht9zRQW2QuoGOgYKrVL5RLmFjWt5qVB3OvfriazCKY+28X61UDzvOvMGTEPnpB0loKzKxolqusC7oe9sDYhGN+1fN1Qr2fNiBFXzyLhj6I7Wlk3dmDv2P7vltqfQsRYrtm3EBrsRW9HkBys25t5HJ8j+DJaTdD9Rin2txSXvGl6G9UM/a1YCLYbgepgiS/0+W9C40sdBCFjdlD6jQRtJYsEqBtomrfRIB78fVfo4WASkPqN09mnzTKjGJ8jumlFqx2FOmLaqGdVJ30yrsHA7n5E9T7aerOl7dbTuxdz/P885jdKnTdKXPyYTysbOs9htbUQbBJhBdaJVBoYrqtQL/YqTkqpbHdkn9cCmh/kT3yv1AoRGsh2BcZnWWw+i1VuFvgvHVefFKbTBK53SmcKEs3WjfHioMlROnWyEx80XVdNyiNqJ5bMb+Rk2zX4yE4lze+y2b94JDH4Ke+o5jF6Eir3DJWnon3FRfegqfdecz73QJ5F5t3fJ7iOHW95BN6t/0YeYkyRn4+rpIVQREVRtuMhUoR7oD4EnNu/2NtmtT1BHrqMwuine/0OS8mxdqD50FaVn7hc84kUOMwD9IubSj0wOkh0h+9EDztLo4mW6N5Ay4V4KL1+26bYTPo3KIWULxap/PAL8PeKPcruIKUlxtoFqm2pDjsEdw4Yenap4CsOGPiV7djtP1vc4MHIc3qYatGcm1rn8veIihWNkn5OjD9KxH7XpsY6fxmyE4SGyr5v8Bm3EmCQ4Wy91gF2oPqJMo3FQGq6vbpwhXeUBN86/STF23OS4B0/QymW0fzF1Jfy1cpOF2fqVR2MeA56DjvBpQ/azmnp/9X6YoR/mOJRfibOzuchNHnVhjkrM1C7WloPSOUwU5lW3Vwax+/xKDtP6EbYvnnboWloLhnfDaOBzEv6xsx5mqYoKkgW4+rUIbqnLiCqMbmlWObhG3SjcSx0/iI6DH3GVS7gwj0PIb6nNFXts71w32jExz3V9iVTJryvagrDwPi5xqYkV79SQCWfj4GIM+rCTZS0r/klJE6jyFxyHpZi6pVpGkG7xV22EfaZi5fngNdh1T+OAdfPkUO3t++iGmvH/xo78JLD1PGyn3r8HZRAWdrYLJ/zGjBQ9KKX9jpui0Ln03/VjwtnGqlyFTJOEnFaBulFP8fw3wvhpcw48bIThVbKdZCfWIHUSq9PUPBs5oYe7wSOKNqLwzRlytp/8A411aihpU2wSTQJULU8xdXMpbe6gk78KHwU3BvZYwbc2osLR45d7/VUPtfF2tqRVkCSdJFVqzD3WAT+75/UjTlVz74xQGMn5O0W3As8yPa/NKKJsZSKiqvEdW6cjtUJ/wm2Bulk8PJ8lSWsjdRvdTqKkX1Rsiq8OAx/u8g+uF1NWD5KAKuMUG0PHq0samqiwc0uuMB78vk/pof2iUfqto6JRkPBSuYmeR+m2oVQ/d5lxVSlG31MqtZoGMlYXfxGUis8Um9nBFgkjy4DKqZoDPbSfQwJVcqFPQc2kxaPGwAMURXYh7QFt6yi45Co6D2WBhh2z+yj5upl23Q03W0M6O2VlkCSUKNti9qmtbGS7lD42IqAMq9tsu/6bDSi0BMZVinazPa3UwAGljoWfGHpdjpF9rNT0TqXev0eNNzWqnsUUHKsYKpsFQYiIyqk2PxtyRtpGbWsrNtjASvraXkvBJz3bLafPNbRsSF37coszwZLfgzBNj6ZZspOXs/jtn7EJNPxwZFnT2DO1pNAJmCB6PcTZhJKgcs6XKmLF8IJlNlj3LPNvzBIEQRAEQRAEQRAEQRAEQRAEQRAEQRAEQRAEQRCWBv8D17I/UEOCZe0AAAAASUVORK5CYII=",_hoisted_1$c={src:_imports_0$1,alt:"logo"},_sfc_main$f={__name:"Logo",setup(t){return ref(null),ref(null),ref(null),ref(null),ref(null),onMounted(()=>{}),(e,r)=>(openBlock(),createElementBlock("img",_hoisted_1$c))}},v$4="5.9.0",fr$4=29.9700012207031,ip$4=0,op$4=100.000004073084,w$4=266,h$4=132,nm$4="LOGO_Mini",ddd$4=0,assets$4=[],fonts$1={list:[{fName:"Gridular-Regular",fFamily:"Gridular",fStyle:"Regular",ascent:69.9996948242188}]},layers$4=[{ddd:0,ind:1,ty:5,nm:"Colorful",sr:1,ks:{o:{a:1,k:[{i:{x:[.5],y:[1]},o:{x:[.167],y:[.167]},t:0,s:[0]},{t:10.0000004073083,s:[95]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.667,y:1},o:{x:.167,y:0},t:0,s:[137.896,52.419,0],to:[0,-3.333,0],ti:[0,3.333,0]},{t:10.0000004073083,s:[137.896,32.419,0]}],ix:2,l:2},a:{a:0,k:[.208,-33.838,0],ix:1,l:2},s:{a:0,k:[50,50,100],ix:6,l:2}},ao:0,t:{d:{k:[{s:{s:96,f:"Gridular-Regular",t:"Colorful",ca:0,j:2,tr:0,lh:79.1999969482422,ls:0,fc:[1,1,1]},t:0}]},p:{},m:{g:1,a:{a:0,k:[0,0],ix:2}},a:[]},ip:0,op:155.000006313279,st:-116.000004724777,bm:0},{ddd:0,ind:2,ty:5,nm:"Night",sr:1,ks:{o:{a:1,k:[{i:{x:[.5],y:[1]},o:{x:[.167],y:[.167]},t:4,s:[0]},{t:14.0000005702317,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.667,y:.667},o:{x:.167,y:.167},t:0,s:[137.905,105.585,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.167,y:0},t:4,s:[137.905,105.585,0],to:[0,-3.333,0],ti:[0,3.333,0]},{t:14.0000005702317,s:[137.905,85.585,0]}],ix:2,l:2},a:{a:0,k:[.191,-24.17,0],ix:1,l:2},s:{a:0,k:[50,50,100],ix:6,l:2}},ao:0,t:{d:{k:[{s:{s:96,f:"Gridular-Regular",t:"Night",ca:0,j:2,tr:0,lh:79.1999969482422,ls:0,fc:[1,1,1]},t:0}]},p:{},m:{g:1,a:{a:0,k:[0,0],ix:2}},a:[]},ip:4.00000016292334,op:155.000006313279,st:-112.000004561854,bm:0}],markers$4=[],chars$1=[{ch:"N",size:96,style:"Regular",w:71.4,data:{shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[0,0],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,-1.309],[0,0]],o:[[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,1.309]],v:[[7.452,-60.425],[13.092,-60.425],[15.408,-58.109],[15.408,-52.67],[17.725,-50.354],[23.364,-50.354],[25.681,-48.038],[25.681,-42.599],[27.997,-40.283],[33.636,-40.283],[35.953,-37.967],[35.953,-32.529],[38.269,-30.212],[43.909,-30.212],[46.225,-27.896],[46.225,-22.458],[48.541,-20.142],[54.181,-20.142],[56.497,-17.825],[56.497,0],[66.769,0],[66.769,-17.825],[64.453,-20.142],[58.813,-20.142],[56.497,-22.458],[56.497,-27.896],[54.181,-30.212],[48.541,-30.212],[46.225,-32.529],[46.225,-37.967],[43.909,-40.283],[38.269,-40.283],[35.953,-42.599],[35.953,-48.038],[33.636,-50.354],[27.997,-50.354],[25.681,-52.67],[25.681,-58.109],[23.364,-60.425],[17.725,-60.425],[15.408,-62.741],[15.408,-68.179],[13.092,-70.496],[7.452,-70.496],[5.136,-68.179],[5.136,-62.741]],c:!0},ix:2},nm:"N",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[5.136,0],[15.408,0],[15.408,-50.354],[5.136,-50.354]],c:!0},ix:2},nm:"N",mn:"ADBE Vector Shape - Group",hd:!1},{ind:2,ty:"sh",ix:3,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[56.497,-30.212],[66.769,-30.212],[66.769,-70.496],[56.497,-70.496]],c:!0},ix:2},nm:"N",mn:"ADBE Vector Shape - Group",hd:!1}],nm:"N",np:6,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}]},fFamily:"Gridular"},{ch:"i",size:96,style:"Regular",w:61.2,data:{shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[0,0],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[0,0],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[0,0],[0,0],[1.309,0]],v:[[25.681,-2.316],[25.681,-7.755],[27.997,-10.071],[33.636,-10.071],[35.953,-7.755],[35.953,-2.316],[38.269,0],[56.497,0],[56.497,-10.071],[38.269,-10.071],[35.953,-12.387],[35.953,-37.967],[33.636,-40.283],[27.997,-40.283],[25.681,-42.599],[25.681,-48.038],[23.364,-50.354],[5.136,-50.354],[5.136,-40.283],[23.364,-40.283],[25.681,-37.967],[25.681,-12.387],[23.364,-10.071],[5.136,-10.071],[5.136,0],[23.364,0]],c:!0},ix:2},nm:"i",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[0,0],[-1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,-1.309]],o:[[0,1.309],[0,0],[1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0]],v:[[25.681,-58.813],[27.997,-56.497],[33.636,-56.497],[35.953,-58.813],[35.953,-64.252],[33.636,-66.568],[27.997,-66.568],[25.681,-64.252]],c:!0},ix:2},nm:"i",mn:"ADBE Vector Shape - Group",hd:!1}],nm:"i",np:5,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}]},fFamily:"Gridular"},{ch:"g",size:96,style:"Regular",w:61.2,data:{shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,1.309],[0,0],[-1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,0],[0,0],[0,1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0]],o:[[0,0],[1.309,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,1.309],[0,0],[-1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[0,0],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[0,0]],v:[[5.136,20.142],[43.909,20.142],[46.225,17.825],[46.225,12.387],[48.541,10.071],[54.181,10.071],[56.497,7.755],[56.497,-37.967],[54.181,-40.283],[48.541,-40.283],[46.225,-42.599],[46.225,-48.038],[43.909,-50.354],[17.725,-50.354],[15.408,-48.038],[15.408,-42.599],[13.092,-40.283],[7.452,-40.283],[5.136,-37.967],[5.136,-12.387],[7.452,-10.071],[13.092,-10.071],[15.408,-7.755],[15.408,-2.316],[17.725,0],[41.089,0],[41.089,-10.071],[17.725,-10.071],[15.408,-12.387],[15.408,-37.967],[17.725,-40.283],[43.909,-40.283],[46.225,-37.967],[46.225,7.755],[43.909,10.071],[5.136,10.071]],c:!0},ix:2},nm:"g",mn:"ADBE Vector Shape - Group",hd:!1}],nm:"g",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}]},fFamily:"Gridular"},{ch:"h",size:96,style:"Regular",w:61.2,data:{shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[5.136,0],[15.408,0],[15.408,-70.496],[5.136,-70.496]],c:!0},ix:2},nm:"h",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[0,0],[0,0],[0,-1.309],[0,0],[0,0],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0]],o:[[0,0],[1.309,0],[0,0],[0,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[0,0]],v:[[20.544,-40.283],[43.909,-40.283],[46.225,-37.967],[46.225,0],[56.497,0],[56.497,-37.967],[54.181,-40.283],[48.541,-40.283],[46.225,-42.599],[46.225,-48.038],[43.909,-50.354],[20.544,-50.354]],c:!0},ix:2},nm:"h",mn:"ADBE Vector Shape - Group",hd:!1}],nm:"h",np:5,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}]},fFamily:"Gridular"},{ch:"t",size:96,style:"Regular",w:56.1,data:{shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-1.309,0],[0,0],[0,0],[0,0],[0,1.309],[0,0],[-1.309,0],[0,0],[0,0],[0,0],[0,1.309],[0,0],[0,0],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0]],o:[[0,0],[0,0],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[0,0],[0,0],[-1.309,0],[0,0],[0,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[-1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,1.309]],v:[[17.725,0],[51.361,0],[51.361,-10.071],[17.725,-10.071],[15.408,-12.387],[15.408,-37.967],[17.725,-40.283],[41.089,-40.283],[41.089,-50.354],[17.725,-50.354],[15.408,-52.67],[15.408,-70.496],[5.136,-70.496],[5.136,-52.67],[7.452,-50.354],[13.092,-50.354],[15.408,-48.038],[15.408,-42.599],[13.092,-40.283],[7.452,-40.283],[5.136,-37.967],[5.136,-12.387],[7.452,-10.071],[13.092,-10.071],[15.408,-7.755],[15.408,-2.316]],c:!0},ix:2},nm:"t",mn:"ADBE Vector Shape - Group",hd:!1}],nm:"t",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}]},fFamily:"Gridular"},{ch:"C",size:96,style:"Regular",w:71.4,data:{shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,1.309],[0,0],[-1.309,0],[0,0],[0,1.309],[0,0],[0,0],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[0,0],[0,0]],o:[[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,1.309],[0,0],[-1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,0],[0,0],[0,1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,0],[0,0],[0,-1.309]],v:[[64.453,-60.425],[58.813,-60.425],[56.497,-62.741],[56.497,-68.179],[54.181,-70.496],[17.725,-70.496],[15.408,-68.179],[15.408,-62.741],[13.092,-60.425],[7.452,-60.425],[5.136,-58.109],[5.136,-12.387],[7.452,-10.071],[13.092,-10.071],[15.408,-7.755],[15.408,-2.316],[17.725,0],[54.181,0],[56.497,-2.316],[56.497,-7.755],[58.813,-10.071],[64.453,-10.071],[66.769,-12.387],[66.769,-20.142],[56.497,-20.142],[56.497,-12.387],[54.181,-10.071],[17.725,-10.071],[15.408,-12.387],[15.408,-58.109],[17.725,-60.425],[54.181,-60.425],[56.497,-58.109],[56.497,-50.354],[66.769,-50.354],[66.769,-58.109]],c:!0},ix:2},nm:"C",mn:"ADBE Vector Shape - Group",hd:!1}],nm:"C",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}]},fFamily:"Gridular"},{ch:"o",size:96,style:"Regular",w:61.2,data:{shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-1.309,0],[0,0],[0,1.309],[0,0],[-1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0]],o:[[0,0],[1.309,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,1.309],[0,0],[-1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,1.309]],v:[[17.725,0],[43.909,0],[46.225,-2.316],[46.225,-7.755],[48.541,-10.071],[54.181,-10.071],[56.497,-12.387],[56.497,-37.967],[54.181,-40.283],[48.541,-40.283],[46.225,-42.599],[46.225,-48.038],[43.909,-50.354],[17.725,-50.354],[15.408,-48.038],[15.408,-42.599],[13.092,-40.283],[7.452,-40.283],[5.136,-37.967],[5.136,-12.387],[7.452,-10.071],[13.092,-10.071],[15.408,-7.755],[15.408,-2.316]],c:!0},ix:2},nm:"o",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[0,1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0]],o:[[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[-1.309,0]],v:[[15.408,-12.387],[15.408,-37.967],[17.725,-40.283],[43.909,-40.283],[46.225,-37.967],[46.225,-12.387],[43.909,-10.071],[17.725,-10.071]],c:!0},ix:2},nm:"o",mn:"ADBE Vector Shape - Group",hd:!1}],nm:"o",np:5,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}]},fFamily:"Gridular"},{ch:"l",size:96,style:"Regular",w:61.2,data:{shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[0,0],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[0,0],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[0,0],[0,0],[1.309,0]],v:[[25.681,-2.316],[25.681,-7.755],[27.997,-10.071],[33.636,-10.071],[35.953,-7.755],[35.953,-2.316],[38.269,0],[56.497,0],[56.497,-10.071],[38.269,-10.071],[35.953,-12.387],[35.953,-58.109],[33.636,-60.425],[27.997,-60.425],[25.681,-62.741],[25.681,-68.179],[23.364,-70.496],[5.136,-70.496],[5.136,-60.425],[23.364,-60.425],[25.681,-58.109],[25.681,-12.387],[23.364,-10.071],[5.136,-10.071],[5.136,0],[23.364,0]],c:!0},ix:2},nm:"l",mn:"ADBE Vector Shape - Group",hd:!1}],nm:"l",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}]},fFamily:"Gridular"},{ch:"r",size:96,style:"Regular",w:61.2,data:{shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,-1.309],[0,0],[1.309,0],[0,0],[0,-1.309],[0,0],[0,0],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[0,0],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0]],o:[[0,0],[0,1.309],[0,0],[-1.309,0],[0,0],[0,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0]],v:[[15.408,-48.038],[15.408,-42.599],[13.092,-40.283],[7.452,-40.283],[5.136,-37.967],[5.136,0],[15.408,0],[15.408,-37.967],[17.725,-40.283],[43.909,-40.283],[46.225,-37.967],[46.225,-30.212],[56.497,-30.212],[56.497,-37.967],[54.181,-40.283],[48.541,-40.283],[46.225,-42.599],[46.225,-48.038],[43.909,-50.354],[17.725,-50.354]],c:!0},ix:2},nm:"r",mn:"ADBE Vector Shape - Group",hd:!1}],nm:"r",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}]},fFamily:"Gridular"},{ch:"f",size:96,style:"Regular",w:56.1,data:{shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-1.309,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,-1.309],[0,0],[0,0],[0,0],[-1.309,0],[0,0],[0,0],[0,0],[0,1.309],[0,0],[-1.309,0],[0,0],[0,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,-1.309],[0,0]],o:[[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[-1.309,0],[0,0],[0,0],[0,0],[0,-1.309],[0,0],[0,0],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[0,0],[0,0],[-1.309,0],[0,0],[0,1.309],[0,0],[-1.309,0],[0,0],[0,1.309]],v:[[7.452,-40.283],[13.092,-40.283],[15.408,-37.967],[15.408,-32.529],[13.092,-30.212],[7.452,-30.212],[5.136,-27.896],[5.136,0],[15.408,0],[15.408,-27.896],[17.725,-30.212],[41.19,-30.212],[41.19,-40.283],[17.725,-40.283],[15.408,-42.599],[15.408,-58.109],[17.725,-60.425],[51.361,-60.425],[51.361,-70.496],[17.725,-70.496],[15.408,-68.179],[15.408,-62.741],[13.092,-60.425],[7.452,-60.425],[5.136,-58.109],[5.136,-42.599]],c:!0},ix:2},nm:"f",mn:"ADBE Vector Shape - Group",hd:!1}],nm:"f",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}]},fFamily:"Gridular"},{ch:"u",size:96,style:"Regular",w:61.2,data:{shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,1.309],[0,0],[-1.309,0],[0,0],[0,1.309],[0,0],[0,0],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[0,0],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0]],o:[[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,0],[0,0],[0,1.309],[0,0],[-1.309,0],[0,0],[0,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[1.309,0]],v:[[46.225,-2.316],[46.225,-7.755],[48.541,-10.071],[54.181,-10.071],[56.497,-12.387],[56.497,-50.354],[46.225,-50.354],[46.225,-12.387],[43.909,-10.071],[17.725,-10.071],[15.408,-12.387],[15.408,-50.354],[5.136,-50.354],[5.136,-12.387],[7.452,-10.071],[13.092,-10.071],[15.408,-7.755],[15.408,-2.316],[17.725,0],[43.909,0]],c:!0},ix:2},nm:"u",mn:"ADBE Vector Shape - Group",hd:!1}],nm:"u",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}]},fFamily:"Gridular"}],l$1={v:v$4,fr:fr$4,ip:ip$4,op:op$4,w:w$4,h:h$4,nm:nm$4,ddd:ddd$4,assets:assets$4,fonts:fonts$1,layers:layers$4,markers:markers$4,chars:chars$1},HomeLogo_vue_vue_type_style_index_0_scoped_4b549ed0_lang="",_sfc_main$e={__name:"HomeLogo",setup(t){return(e,r)=>(openBlock(),createElementBlock("div",null,[createVNode(unref(Vue3Lottie),{"animation-data":unref(l$1),"auto-play":!0,loop:!1,"pause-animation":!0,height:108},null,8,["animation-data"])]))}},HomeLogo=_export_sfc(_sfc_main$e,[["__scopeId","data-v-4b549ed0"]]),GameExperience_vue_vue_type_style_index_0_scoped_24097333_lang="",_hoisted_1$b={class:"game-experience"},_sfc_main$d={__name:"GameExperience",emits:["load","end"],setup(t,{expose:e,emit:r}){const n=ref(null),o=ref(null),s=ref(null),c=ref(!1),d=ref(null),u=ref(null),m=ref(null),_=ref(null),g=ref(null),f=ref(null),y=ref(null),M=ref(!1),T=ref(!1),A=ref(!1),E=ref(!0),C=le=>{r("load",le)},k=()=>{_.value.start(),c.value=!0},O=()=>{A.value=!0,_.value.restart(),m.value.restart(),E.value=!0},I=({gesture:le,side:ae})=>{ae==="left"?f.value=le:y.value=le},B=({points:le,gesture:ae})=>{o.value.throwFirework({points:le,gesture:ae}),o.value.throwFirework({points:le,gesture:ae}),o.value.throwFirework({points:le,gesture:ae})},j=()=>{g.value=new Loader$1,g.value.on("loaded",C),g.value.on("ready",()=>{_.value=new Engine(u.value,d.value,n.value),_.value.on("endGame",U),_.value.on("onGestureDetected",I),_.value.webgl.leftHand.on("handDetected",W)}),g.value.load(S)},U=le=>{m.value.onEnd(),r("end",le),E.value=!1},N=()=>{_.value.allowHandVisible()},W=le=>{M.value=le.visible},ne=()=>{A.value=!0,T.value=!0},re=()=>{A.value=!1};return e({start:k,onRestart:O,onLoadWebgl:j}),(le,ae)=>(openBlock(),createElementBlock("div",_hoisted_1$b,[createVNode(HomeLogo),createVNode(Firework,{ref_key:"fireworkElt",ref:o},null,512),createVNode(Transition,{name:"fade"},{default:withCtx(()=>[c.value&&!T.value?(openBlock(),createBlock(Tutorial,{key:0,ref_key:"tutorial",ref:s,leftHand:f.value,handVisible:M.value,onDone:ne,onAllowHandVisible:N},null,8,["leftHand","handVisible"])):createCommentVNode("",!0)]),_:1}),createVNode(Transition,{name:"fade"},{default:withCtx(()=>[A.value?(openBlock(),createBlock(CountDown,{key:0,duration:3,autoplay:!0,onEnd:re})):createCommentVNode("",!0)]),_:1}),createVNode(Transition,{name:"fade"},{default:withCtx(()=>[T.value&&!A.value?withDirectives((openBlock(),createBlock(GameUI,{key:0,ref_key:"ui",ref:m,leftHand:f.value,rightHand:y.value,onEnd:U,onScored:B},null,8,["leftHand","rightHand"])),[[vShow,E.value]]):createCommentVNode("",!0)]),_:1}),createBaseVNode("video",{id:"backCamera",ref_key:"backCamera",ref:u,playsinline:"",muted:""},null,512),createBaseVNode("canvas",{id:"mediapipe",ref_key:"mediapipe",ref:d},null,512),createBaseVNode("canvas",{id:"webgl",ref_key:"webgl",ref:n},null,512)]))}},GameExperience=_export_sfc(_sfc_main$d,[["__scopeId","data-v-24097333"]]),LoaderInner_vue_vue_type_style_index_0_scoped_08ad0596_lang="",_withScopeId$4=t=>(pushScopeId("data-v-08ad0596"),t=t(),popScopeId(),t),_hoisted_1$a=_withScopeId$4(()=>createBaseVNode("div",null,null,-1)),_hoisted_2$9=_withScopeId$4(()=>createBaseVNode("div",null,null,-1)),_hoisted_3$6=_withScopeId$4(()=>createBaseVNode("div",null,null,-1)),_hoisted_4$4=[_hoisted_1$a,_hoisted_2$9,_hoisted_3$6],_sfc_main$c={__name:"LoaderInner",setup(t){const e=ref(null);onMounted(()=>{const n=gsapWithCSS.timeline({repeat:-1,yoyo:!1,repeatDelay:.5}),o=Array.from(e.value.children),s=15,c=[{x:0,y:-s},{x:s*Math.cos(Math.PI/6),y:s*Math.sin(Math.PI/6)},{x:-s*Math.cos(Math.PI/6),y:s*Math.sin(Math.PI/6)}];n.set(o[0],{x:`${c[1].x}%`,y:`${c[1].y}%`,xPercent:-50,yPercent:-50}),n.set(o[1],{x:`${c[2].x}%`,y:`${c[2].y}%`,xPercent:-50,yPercent:-50}),n.set(o[2],{x:`${c[0].x}%`,y:`${c[0].y}%`,xPercent:-50,yPercent:-50});for(let d=0;d<c.length;d++){const u=r(d+1,c.length),m=r(d-1,c.length);n.to(o[0],{duration:.5,x:c[m].x+"%",y:c[m].y+"%",xPercent:-50,yPercent:-50,ease:"power1.inOut"},d*.8),n.to(o[1],{duration:.5,x:c[d].x+"%",y:c[d].y+"%",xPercent:-50,yPercent:-50,ease:"power1.inOut"},d*.8),n.to(o[2],{duration:.5,x:c[u].x+"%",y:c[u].y+"%",xPercent:-50,yPercent:-50,ease:"power1.inOut"},d*.8)}});const r=(n,o)=>(n%o+o)%o;return(n,o)=>(openBlock(),createElementBlock("div",{class:"loader-anim",ref_key:"root",ref:e},_hoisted_4$4,512))}},LoaderInner=_export_sfc(_sfc_main$c,[["__scopeId","data-v-08ad0596"]]),Loader_vue_vue_type_style_index_0_scoped_abf751cb_lang="",_hoisted_1$9={class:"loader__wrapper"},_hoisted_2$8={class:"loader__inner"},_hoisted_3$5={class:"loader"},_sfc_main$b={__name:"Loader",props:{progress:{type:Number,required:!0}},emits:["progress","loaded","ready"],setup(t,{emit:e}){const r=t;let n=null;const o=ref(3),s=computed(()=>Math.max(0,1-o.value/3)),c=computed(()=>s.value*.3+r.progress*.7);watch(()=>c.value,u=>{d(u)});const d=u=>{e("progress",u),u===1&&e("loaded")};return onMounted(()=>{e("ready"),n=setInterval(()=>{o.value-=.1,o.value<=0&&clearInterval(n)},100)}),(u,m)=>(openBlock(),createElementBlock("div",_hoisted_1$9,[createBaseVNode("div",_hoisted_2$8,[createVNode(LoaderInner),createBaseVNode("div",_hoisted_3$5,toDisplayString$1(Math.round(c.value*100)),1)])]))}},Loader=_export_sfc(_sfc_main$b,[["__scopeId","data-v-abf751cb"]]),CTA_vue_vue_type_style_index_0_lang="",_hoisted_1$8={key:1,class:"main-cta__bg main-cta__r"},_hoisted_2$7={key:2,class:"main-cta__bg main-cta__b"},_hoisted_3$4={key:3,class:"main-cta__bg main-cta__g"},_sfc_main$a={__name:"CTA",props:{text:{type:String,required:!1},loader:{type:Boolean,default:!1}},emits:["cta-click"],setup(t,{emit:e}){const r=t;useCssVars(T=>({"08ff087b":u.value}));const n=ref(null),o=ref(null),s=ref(null),c=ref(null),d=ref(null),u=ref(0),m=ref(!1),_=ref(!1);let g;const f=()=>{g&&g.kill(),_.value=!0,g=gsapWithCSS.timeline(),g.to(d.value,{strokeDashoffset:u.value,duration:.6,ease:"power3.inOut"},0),g.to(s.value,{strokeDashoffset:u.value,duration:.65,ease:"power3.inOut"},0),g.to(c.value,{strokeDashoffset:u.value,duration:.55,ease:"power3.inOut"},0),g.to(o.value,{autoAlpha:0,y:-10,duration:.4,ease:"linear"},0),g.to(s.value,{strokeDashoffset:0,duration:.4,ease:"linear"},"+=1"),g.to(c.value,{strokeDashoffset:0,duration:.4,ease:"linear"},"-=0.4"),g.to(d.value,{strokeDashoffset:0,duration:.4,ease:"linear"},"-=0.4"),g.to(o.value,{autoAlpha:1,y:0,duration:.4,ease:"linear"},"-=0"),sm.playSound("click"),setTimeout(()=>{r.loader&&(m.value=!0),e("cta-click")},650)},y=()=>{_.value||(g&&g.kill(),g=gsapWithCSS.timeline(),g.to(d.value,{strokeDashoffset:u.value*2,duration:.8,ease:"power2.inOut"},0),g.to(s.value,{strokeDashoffset:u.value*2,duration:.8,ease:"power2.inOut"},0),g.to(c.value,{strokeDashoffset:u.value*2,duration:.8,ease:"power2.inOut"},0),g.to(o.value,{y:0,duration:.4,ease:"power2.inOut"},0))},M=()=>{_.value||(g&&g.kill(),g=gsapWithCSS.timeline(),g.to(s.value,{strokeDashoffset:0,duration:.4,ease:"linear"}),g.to(c.value,{strokeDashoffset:0,duration:.4,ease:"linear"},"-=0.4"),g.to(d.value,{strokeDashoffset:0,duration:.4,ease:"linear"},"-=0.4"),g.to(o.value,{y:0,duration:.4,ease:"linear"},0))};return onMounted(()=>{nextTick(()=>{u.value=Math.max(s.value.getTotalLength(),c.value.getTotalLength(),d.value.getTotalLength())*1.1})}),(T,A)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:n,class:normalizeClass(["main-cta",t.loader?"main-cta--loading":""]),onClick:f,onMouseenter:y,onMouseleave:M},[m.value?createCommentVNode("",!0):(openBlock(),createElementBlock("span",{key:0,ref_key:"t",ref:o},toDisplayString$1(t.text),513)),m.value?createCommentVNode("",!0):(openBlock(),createElementBlock("svg",_hoisted_1$8,[createBaseVNode("rect",{width:"100%",height:"100%",fill:"none","stroke-width":"3",stroke:"#ff0000",rx:"24",ref_key:"r",ref:s},null,512)])),m.value?createCommentVNode("",!0):(openBlock(),createElementBlock("svg",_hoisted_2$7,[createBaseVNode("rect",{width:"100%",height:"100%",fill:"none","stroke-width":"3",stroke:"#001aff",rx:"24",ref_key:"b",ref:c},null,512)])),m.value?createCommentVNode("",!0):(openBlock(),createElementBlock("svg",_hoisted_3$4,[createBaseVNode("rect",{width:"100%",height:"100%",fill:"none","stroke-width":"3",stroke:"#24ff00",rx:"24",ref_key:"g",ref:d},null,512)])),m.value?(openBlock(),createBlock(LoaderInner,{key:4,class:"main-cta__loading"})):createCommentVNode("",!0)],34))}},v$3="5.9.0",fr$3=29.9700012207031,ip$3=0,op$3=30.0000012219251,w$3=651,h$3=257,nm$3="LOGO_Anim",ddd$3=0,assets$3=[],fonts={list:[{fName:"Gridular-Regular",fFamily:"Gridular",fStyle:"Regular",ascent:69.9996948242188}]},layers$3=[{ddd:0,ind:2,ty:5,nm:"Colorful 19",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.703,y:1},o:{x:.412,y:.063},t:5,s:[323.702,415.338,0],to:[0,-.925,0],ti:[0,.741,0]},{t:23.0000009368092,s:[323.702,103.498,0]}],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,t:{d:{k:[{s:{s:96,f:"Gridular-Regular",t:"Colorful",ca:0,j:2,tr:0,lh:79.1999969482422,ls:0,fc:[1,1,1]},t:0}]},p:{},m:{g:1,a:{a:0,k:[0,0],ix:2}},a:[]},ip:5.00000020365417,op:305.000012422905,st:5.00000020365417,bm:0},{ddd:0,ind:3,ty:5,nm:"Colorful 18",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:5,s:[100]},{t:23.0000009368092,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.703,y:1},o:{x:.412,y:.065},t:5,s:[323.702,406.338,0],to:[0,-.925,0],ti:[0,.741,0]},{t:23.0000009368092,s:[323.702,103.498,0]}],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,t:{d:{k:[{s:{s:96,f:"Gridular-Regular",t:"Colorful",ca:0,j:2,tr:0,lh:79.1999969482422,ls:0,fc:[1,1,1]},t:0}]},p:{},m:{g:1,a:{a:0,k:[0,0],ix:2}},a:[]},ip:5.00000020365417,op:305.000012422905,st:5.00000020365417,bm:0},{ddd:0,ind:4,ty:5,nm:"Colorful 17",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:5,s:[100]},{t:23.0000009368092,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.703,y:1},o:{x:.412,y:.067},t:5,s:[323.702,397.338,0],to:[0,-.925,0],ti:[0,.741,0]},{t:23.0000009368092,s:[323.702,103.493,0]}],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,t:{d:{k:[{s:{s:96,f:"Gridular-Regular",t:"Colorful",ca:0,j:2,tr:0,lh:79.1999969482422,ls:0,fc:[1,1,1]},t:0}]},p:{},m:{g:1,a:{a:0,k:[0,0],ix:2}},a:[]},ip:5.00000020365417,op:305.000012422905,st:5.00000020365417,bm:0},{ddd:0,ind:5,ty:5,nm:"Colorful 16",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:5,s:[100]},{t:23.0000009368092,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.703,y:1},o:{x:.412,y:.069},t:5,s:[323.702,389.338,0],to:[0,-.925,0],ti:[0,.741,0]},{t:23.0000009368092,s:[323.702,103.498,0]}],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,t:{d:{k:[{s:{s:96,f:"Gridular-Regular",t:"Colorful",ca:0,j:2,tr:0,lh:79.1999969482422,ls:0,fc:[1,1,1]},t:0}]},p:{},m:{g:1,a:{a:0,k:[0,0],ix:2}},a:[]},ip:5.00000020365417,op:305.000012422905,st:5.00000020365417,bm:0},{ddd:0,ind:6,ty:5,nm:"Colorful 15",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:5,s:[100]},{t:23.0000009368092,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.703,y:1},o:{x:.412,y:.071},t:5,s:[323.702,380.338,0],to:[0,-.925,0],ti:[0,.741,0]},{t:23.0000009368092,s:[323.702,103.493,0]}],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,t:{d:{k:[{s:{s:96,f:"Gridular-Regular",t:"Colorful",ca:0,j:2,tr:0,lh:79.1999969482422,ls:0,fc:[1,1,1]},t:0}]},p:{},m:{g:1,a:{a:0,k:[0,0],ix:2}},a:[]},ip:5.00000020365417,op:305.000012422905,st:5.00000020365417,bm:0},{ddd:0,ind:7,ty:5,nm:"Colorful 14",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:5,s:[100]},{t:23.0000009368092,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.703,y:1},o:{x:.412,y:.074},t:5,s:[323.702,371.338,0],to:[0,-.926,0],ti:[0,.741,0]},{t:23.0000009368092,s:[323.702,103.493,0]}],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,t:{d:{k:[{s:{s:96,f:"Gridular-Regular",t:"Colorful",ca:0,j:2,tr:0,lh:79.1999969482422,ls:0,fc:[1,1,1]},t:0}]},p:{},m:{g:1,a:{a:0,k:[0,0],ix:2}},a:[]},ip:5.00000020365417,op:305.000012422905,st:5.00000020365417,bm:0},{ddd:0,ind:8,ty:5,nm:"Night 19",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.667,y:1},o:{x:.393,y:.06},t:5,s:[324.307,525.67,0],to:[0,1.667,0],ti:[0,-1.667,0]},{t:23.0000009368092,s:[324.307,213.67,0]}],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,t:{d:{k:[{s:{s:96,f:"Gridular-Regular",t:"Night",ca:0,j:2,tr:0,lh:79.1999969482422,ls:0,fc:[1,1,1]},t:0}]},p:{},m:{g:1,a:{a:0,k:[0,0],ix:2}},a:[]},ip:5.00000020365417,op:305.000012422905,st:5.00000020365417,bm:0},{ddd:0,ind:9,ty:5,nm:"Night 18",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.579],y:[.418]},t:5,s:[100]},{t:23.0000009368092,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.611,y:.698},o:{x:.17,y:0},t:5,s:[324.307,516.67,0],to:[0,1.322,0],ti:[0,78.878,0]},{i:{x:.692,y:1},o:{x:.352,y:.471},t:19,s:[324.307,256.786,0],to:[0,-20.599,0],ti:[0,-.345,0]},{t:23.0000009368092,s:[324.307,213.67,0]}],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,t:{d:{k:[{s:{s:96,f:"Gridular-Regular",t:"Night",ca:0,j:2,tr:0,lh:79.1999969482422,ls:0,fc:[1,1,1]},t:0}]},p:{},m:{g:1,a:{a:0,k:[0,0],ix:2}},a:[]},ip:5.00000020365417,op:305.000012422905,st:5.00000020365417,bm:0},{ddd:0,ind:10,ty:5,nm:"Night 17",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.579],y:[.418]},t:5,s:[100]},{t:23.0000009368092,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.611,y:.685},o:{x:.17,y:0},t:5,s:[324.307,507.67,0],to:[0,1.321,0],ti:[0,76.543,0]},{i:{x:.692,y:1},o:{x:.352,y:.378},t:19,s:[324.307,265.802,0],to:[0,-19.995,0],ti:[0,-.345,0]},{t:23.0000009368092,s:[324.307,213.67,0]}],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,t:{d:{k:[{s:{s:96,f:"Gridular-Regular",t:"Night",ca:0,j:2,tr:0,lh:79.1999969482422,ls:0,fc:[1,1,1]},t:0}]},p:{},m:{g:1,a:{a:0,k:[0,0],ix:2}},a:[]},ip:5.00000020365417,op:305.000012422905,st:5.00000020365417,bm:0},{ddd:0,ind:11,ty:5,nm:"Night 16",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.579],y:[.418]},t:5,s:[100]},{t:23.0000009368092,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.611,y:.67},o:{x:.17,y:0},t:5,s:[324.307,499.67,0],to:[0,1.321,0],ti:[0,74.468,0]},{i:{x:.692,y:1},o:{x:.352,y:.313},t:19,s:[324.307,274.928,0],to:[0,-19.459,0],ti:[0,-.345,0]},{t:23.0000009368092,s:[324.307,213.67,0]}],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,t:{d:{k:[{s:{s:96,f:"Gridular-Regular",t:"Night",ca:0,j:2,tr:0,lh:79.1999969482422,ls:0,fc:[1,1,1]},t:0}]},p:{},m:{g:1,a:{a:0,k:[0,0],ix:2}},a:[]},ip:5.00000020365417,op:305.000012422905,st:5.00000020365417,bm:0},{ddd:0,ind:12,ty:5,nm:"Night 15",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.579],y:[.418]},t:5,s:[100]},{t:23.0000009368092,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.611,y:.652},o:{x:.17,y:0},t:5,s:[324.307,490.67,0],to:[0,1.321,0],ti:[0,72.134,0]},{i:{x:.692,y:1},o:{x:.352,y:.264},t:19,s:[324.307,283.944,0],to:[0,-18.855,0],ti:[0,-.345,0]},{t:23.0000009368092,s:[324.307,213.67,0]}],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,t:{d:{k:[{s:{s:96,f:"Gridular-Regular",t:"Night",ca:0,j:2,tr:0,lh:79.1999969482422,ls:0,fc:[1,1,1]},t:0}]},p:{},m:{g:1,a:{a:0,k:[0,0],ix:2}},a:[]},ip:5.00000020365417,op:305.000012422905,st:5.00000020365417,bm:0},{ddd:0,ind:13,ty:5,nm:"Night 14",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.579],y:[.418]},t:5,s:[100]},{t:23.0000009368092,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.611,y:.632},o:{x:.17,y:0},t:5,s:[324.307,481.67,0],to:[0,1.321,0],ti:[0,69.799,0]},{i:{x:.692,y:1},o:{x:.352,y:.227},t:19,s:[324.307,292.96,0],to:[0,-18.251,0],ti:[0,-.345,0]},{t:23.0000009368092,s:[324.307,213.67,0]}],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,t:{d:{k:[{s:{s:96,f:"Gridular-Regular",t:"Night",ca:0,j:2,tr:0,lh:79.1999969482422,ls:0,fc:[1,1,1]},t:0}]},p:{},m:{g:1,a:{a:0,k:[0,0],ix:2}},a:[]},ip:5.00000020365417,op:305.000012422905,st:5.00000020365417,bm:0},{ddd:0,ind:14,ty:5,nm:"Night 11",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.667,y:1},o:{x:.79,y:0},t:0,s:[324.307,473.67,0],to:[0,-3.333,0],ti:[0,.083,0]},{t:23.0000009368092,s:[324.307,212.67,0]}],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,t:{d:{k:[{s:{s:96,f:"Gridular-Regular",t:"Night",ca:0,j:2,tr:0,lh:79.1999969482422,ls:0,fc:[1,0,0]},t:0}]},p:{},m:{g:1,a:{a:0,k:[0,0],ix:2}},a:[]},ip:0,op:300.00001221925,st:0,bm:0},{ddd:0,ind:15,ty:5,nm:"Colorful 11",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.667,y:1},o:{x:.79,y:0},t:0,s:[323.702,363.338,0],to:[0,-3.333,0],ti:[0,.083,0]},{t:23.0000009368092,s:[323.702,102.338,0]}],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,t:{d:{k:[{s:{s:96,f:"Gridular-Regular",t:"Colorful",ca:0,j:2,tr:0,lh:79.1999969482422,ls:0,fc:[1,0,0]},t:0}]},p:{},m:{g:1,a:{a:0,k:[0,0],ix:2}},a:[]},ip:0,op:300.00001221925,st:0,bm:0},{ddd:0,ind:16,ty:5,nm:"Night 10",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.667,y:1},o:{x:.79,y:0},t:2,s:[322.135,473.67,0],to:[.417,-43.167,0],ti:[-.417,43.167,0]},{t:23.0000009368092,s:[324.635,214.67,0]}],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,t:{d:{k:[{s:{s:96,f:"Gridular-Regular",t:"Night",ca:0,j:2,tr:0,lh:79.1999969482422,ls:0,fc:[0,1,0]},t:0}]},p:{},m:{g:1,a:{a:0,k:[0,0],ix:2}},a:[]},ip:2.00000008146167,op:302.000012300712,st:2.00000008146167,bm:0},{ddd:0,ind:17,ty:5,nm:"Colorful 10",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.667,y:1},o:{x:.79,y:0},t:2,s:[322.118,363.338,0],to:[.417,-43.167,0],ti:[-.417,43.167,0]},{t:23.0000009368092,s:[324.618,104.338,0]}],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,t:{d:{k:[{s:{s:96,f:"Gridular-Regular",t:"Colorful",ca:0,j:2,tr:0,lh:79.1999969482422,ls:0,fc:[0,1,0]},t:0}]},p:{},m:{g:1,a:{a:0,k:[0,0],ix:2}},a:[]},ip:2.00000008146167,op:302.000012300712,st:2.00000008146167,bm:0},{ddd:0,ind:18,ty:5,nm:"Night 9",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.667,y:1},o:{x:.79,y:0},t:0,s:[324.307,473.67,0],to:[0,-3.333,0],ti:[0,.833,0]},{t:23.0000009368092,s:[322.807,213.67,0]}],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,t:{d:{k:[{s:{s:96,f:"Gridular-Regular",t:"Night",ca:0,j:2,tr:0,lh:79.1999969482422,ls:0,fc:[0,0,1]},t:0}]},p:{},m:{g:1,a:{a:0,k:[0,0],ix:2}},a:[]},ip:0,op:300.00001221925,st:0,bm:0},{ddd:0,ind:19,ty:5,nm:"Colorful 9",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.667,y:1},o:{x:.79,y:0},t:0,s:[323.702,363.338,0],to:[0,-3.333,0],ti:[0,.833,0]},{t:23.0000009368092,s:[322.202,105.338,0]}],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,t:{d:{k:[{s:{s:96,f:"Gridular-Regular",t:"Colorful",ca:0,j:2,tr:0,lh:79.1999969482422,ls:0,fc:[0,0,1]},t:0}]},p:{},m:{g:1,a:{a:0,k:[0,0],ix:2}},a:[]},ip:0,op:300.00001221925,st:0,bm:0}],markers$3=[],chars=[{ch:"C",size:96,style:"Regular",w:71.4,data:{shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,1.309],[0,0],[-1.309,0],[0,0],[0,1.309],[0,0],[0,0],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[0,0],[0,0]],o:[[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,1.309],[0,0],[-1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,0],[0,0],[0,1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,0],[0,0],[0,-1.309]],v:[[64.453,-60.425],[58.813,-60.425],[56.497,-62.741],[56.497,-68.179],[54.181,-70.496],[17.725,-70.496],[15.408,-68.179],[15.408,-62.741],[13.092,-60.425],[7.452,-60.425],[5.136,-58.109],[5.136,-12.387],[7.452,-10.071],[13.092,-10.071],[15.408,-7.755],[15.408,-2.316],[17.725,0],[54.181,0],[56.497,-2.316],[56.497,-7.755],[58.813,-10.071],[64.453,-10.071],[66.769,-12.387],[66.769,-20.142],[56.497,-20.142],[56.497,-12.387],[54.181,-10.071],[17.725,-10.071],[15.408,-12.387],[15.408,-58.109],[17.725,-60.425],[54.181,-60.425],[56.497,-58.109],[56.497,-50.354],[66.769,-50.354],[66.769,-58.109]],c:!0},ix:2},nm:"C",mn:"ADBE Vector Shape - Group",hd:!1}],nm:"C",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}]},fFamily:"Gridular"},{ch:"o",size:96,style:"Regular",w:61.2,data:{shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-1.309,0],[0,0],[0,1.309],[0,0],[-1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0]],o:[[0,0],[1.309,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,1.309],[0,0],[-1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,1.309]],v:[[17.725,0],[43.909,0],[46.225,-2.316],[46.225,-7.755],[48.541,-10.071],[54.181,-10.071],[56.497,-12.387],[56.497,-37.967],[54.181,-40.283],[48.541,-40.283],[46.225,-42.599],[46.225,-48.038],[43.909,-50.354],[17.725,-50.354],[15.408,-48.038],[15.408,-42.599],[13.092,-40.283],[7.452,-40.283],[5.136,-37.967],[5.136,-12.387],[7.452,-10.071],[13.092,-10.071],[15.408,-7.755],[15.408,-2.316]],c:!0},ix:2},nm:"o",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[0,1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0]],o:[[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[-1.309,0]],v:[[15.408,-12.387],[15.408,-37.967],[17.725,-40.283],[43.909,-40.283],[46.225,-37.967],[46.225,-12.387],[43.909,-10.071],[17.725,-10.071]],c:!0},ix:2},nm:"o",mn:"ADBE Vector Shape - Group",hd:!1}],nm:"o",np:5,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}]},fFamily:"Gridular"},{ch:"l",size:96,style:"Regular",w:61.2,data:{shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[0,0],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[0,0],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[0,0],[0,0],[1.309,0]],v:[[25.681,-2.316],[25.681,-7.755],[27.997,-10.071],[33.636,-10.071],[35.953,-7.755],[35.953,-2.316],[38.269,0],[56.497,0],[56.497,-10.071],[38.269,-10.071],[35.953,-12.387],[35.953,-58.109],[33.636,-60.425],[27.997,-60.425],[25.681,-62.741],[25.681,-68.179],[23.364,-70.496],[5.136,-70.496],[5.136,-60.425],[23.364,-60.425],[25.681,-58.109],[25.681,-12.387],[23.364,-10.071],[5.136,-10.071],[5.136,0],[23.364,0]],c:!0},ix:2},nm:"l",mn:"ADBE Vector Shape - Group",hd:!1}],nm:"l",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}]},fFamily:"Gridular"},{ch:"r",size:96,style:"Regular",w:61.2,data:{shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,-1.309],[0,0],[1.309,0],[0,0],[0,-1.309],[0,0],[0,0],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[0,0],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0]],o:[[0,0],[0,1.309],[0,0],[-1.309,0],[0,0],[0,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0]],v:[[15.408,-48.038],[15.408,-42.599],[13.092,-40.283],[7.452,-40.283],[5.136,-37.967],[5.136,0],[15.408,0],[15.408,-37.967],[17.725,-40.283],[43.909,-40.283],[46.225,-37.967],[46.225,-30.212],[56.497,-30.212],[56.497,-37.967],[54.181,-40.283],[48.541,-40.283],[46.225,-42.599],[46.225,-48.038],[43.909,-50.354],[17.725,-50.354]],c:!0},ix:2},nm:"r",mn:"ADBE Vector Shape - Group",hd:!1}],nm:"r",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}]},fFamily:"Gridular"},{ch:"f",size:96,style:"Regular",w:56.1,data:{shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-1.309,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,-1.309],[0,0],[0,0],[0,0],[-1.309,0],[0,0],[0,0],[0,0],[0,1.309],[0,0],[-1.309,0],[0,0],[0,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,-1.309],[0,0]],o:[[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[-1.309,0],[0,0],[0,0],[0,0],[0,-1.309],[0,0],[0,0],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[0,0],[0,0],[-1.309,0],[0,0],[0,1.309],[0,0],[-1.309,0],[0,0],[0,1.309]],v:[[7.452,-40.283],[13.092,-40.283],[15.408,-37.967],[15.408,-32.529],[13.092,-30.212],[7.452,-30.212],[5.136,-27.896],[5.136,0],[15.408,0],[15.408,-27.896],[17.725,-30.212],[41.19,-30.212],[41.19,-40.283],[17.725,-40.283],[15.408,-42.599],[15.408,-58.109],[17.725,-60.425],[51.361,-60.425],[51.361,-70.496],[17.725,-70.496],[15.408,-68.179],[15.408,-62.741],[13.092,-60.425],[7.452,-60.425],[5.136,-58.109],[5.136,-42.599]],c:!0},ix:2},nm:"f",mn:"ADBE Vector Shape - Group",hd:!1}],nm:"f",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}]},fFamily:"Gridular"},{ch:"u",size:96,style:"Regular",w:61.2,data:{shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,1.309],[0,0],[-1.309,0],[0,0],[0,1.309],[0,0],[0,0],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[0,0],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0]],o:[[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,0],[0,0],[0,1.309],[0,0],[-1.309,0],[0,0],[0,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[1.309,0]],v:[[46.225,-2.316],[46.225,-7.755],[48.541,-10.071],[54.181,-10.071],[56.497,-12.387],[56.497,-50.354],[46.225,-50.354],[46.225,-12.387],[43.909,-10.071],[17.725,-10.071],[15.408,-12.387],[15.408,-50.354],[5.136,-50.354],[5.136,-12.387],[7.452,-10.071],[13.092,-10.071],[15.408,-7.755],[15.408,-2.316],[17.725,0],[43.909,0]],c:!0},ix:2},nm:"u",mn:"ADBE Vector Shape - Group",hd:!1}],nm:"u",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}]},fFamily:"Gridular"},{ch:"N",size:96,style:"Regular",w:71.4,data:{shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[0,0],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,-1.309],[0,0]],o:[[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,1.309]],v:[[7.452,-60.425],[13.092,-60.425],[15.408,-58.109],[15.408,-52.67],[17.725,-50.354],[23.364,-50.354],[25.681,-48.038],[25.681,-42.599],[27.997,-40.283],[33.636,-40.283],[35.953,-37.967],[35.953,-32.529],[38.269,-30.212],[43.909,-30.212],[46.225,-27.896],[46.225,-22.458],[48.541,-20.142],[54.181,-20.142],[56.497,-17.825],[56.497,0],[66.769,0],[66.769,-17.825],[64.453,-20.142],[58.813,-20.142],[56.497,-22.458],[56.497,-27.896],[54.181,-30.212],[48.541,-30.212],[46.225,-32.529],[46.225,-37.967],[43.909,-40.283],[38.269,-40.283],[35.953,-42.599],[35.953,-48.038],[33.636,-50.354],[27.997,-50.354],[25.681,-52.67],[25.681,-58.109],[23.364,-60.425],[17.725,-60.425],[15.408,-62.741],[15.408,-68.179],[13.092,-70.496],[7.452,-70.496],[5.136,-68.179],[5.136,-62.741]],c:!0},ix:2},nm:"N",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[5.136,0],[15.408,0],[15.408,-50.354],[5.136,-50.354]],c:!0},ix:2},nm:"N",mn:"ADBE Vector Shape - Group",hd:!1},{ind:2,ty:"sh",ix:3,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[56.497,-30.212],[66.769,-30.212],[66.769,-70.496],[56.497,-70.496]],c:!0},ix:2},nm:"N",mn:"ADBE Vector Shape - Group",hd:!1}],nm:"N",np:6,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}]},fFamily:"Gridular"},{ch:"i",size:96,style:"Regular",w:61.2,data:{shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[0,0],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[0,0],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[0,0],[0,0],[1.309,0]],v:[[25.681,-2.316],[25.681,-7.755],[27.997,-10.071],[33.636,-10.071],[35.953,-7.755],[35.953,-2.316],[38.269,0],[56.497,0],[56.497,-10.071],[38.269,-10.071],[35.953,-12.387],[35.953,-37.967],[33.636,-40.283],[27.997,-40.283],[25.681,-42.599],[25.681,-48.038],[23.364,-50.354],[5.136,-50.354],[5.136,-40.283],[23.364,-40.283],[25.681,-37.967],[25.681,-12.387],[23.364,-10.071],[5.136,-10.071],[5.136,0],[23.364,0]],c:!0},ix:2},nm:"i",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[0,0],[-1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,-1.309]],o:[[0,1.309],[0,0],[1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0]],v:[[25.681,-58.813],[27.997,-56.497],[33.636,-56.497],[35.953,-58.813],[35.953,-64.252],[33.636,-66.568],[27.997,-66.568],[25.681,-64.252]],c:!0},ix:2},nm:"i",mn:"ADBE Vector Shape - Group",hd:!1}],nm:"i",np:5,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}]},fFamily:"Gridular"},{ch:"g",size:96,style:"Regular",w:61.2,data:{shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,1.309],[0,0],[-1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,0],[0,0],[0,1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0]],o:[[0,0],[1.309,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,1.309],[0,0],[-1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[0,0],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[0,0]],v:[[5.136,20.142],[43.909,20.142],[46.225,17.825],[46.225,12.387],[48.541,10.071],[54.181,10.071],[56.497,7.755],[56.497,-37.967],[54.181,-40.283],[48.541,-40.283],[46.225,-42.599],[46.225,-48.038],[43.909,-50.354],[17.725,-50.354],[15.408,-48.038],[15.408,-42.599],[13.092,-40.283],[7.452,-40.283],[5.136,-37.967],[5.136,-12.387],[7.452,-10.071],[13.092,-10.071],[15.408,-7.755],[15.408,-2.316],[17.725,0],[41.089,0],[41.089,-10.071],[17.725,-10.071],[15.408,-12.387],[15.408,-37.967],[17.725,-40.283],[43.909,-40.283],[46.225,-37.967],[46.225,7.755],[43.909,10.071],[5.136,10.071]],c:!0},ix:2},nm:"g",mn:"ADBE Vector Shape - Group",hd:!1}],nm:"g",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}]},fFamily:"Gridular"},{ch:"h",size:96,style:"Regular",w:61.2,data:{shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[5.136,0],[15.408,0],[15.408,-70.496],[5.136,-70.496]],c:!0},ix:2},nm:"h",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[0,0],[0,0],[0,-1.309],[0,0],[0,0],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0]],o:[[0,0],[1.309,0],[0,0],[0,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[0,0]],v:[[20.544,-40.283],[43.909,-40.283],[46.225,-37.967],[46.225,0],[56.497,0],[56.497,-37.967],[54.181,-40.283],[48.541,-40.283],[46.225,-42.599],[46.225,-48.038],[43.909,-50.354],[20.544,-50.354]],c:!0},ix:2},nm:"h",mn:"ADBE Vector Shape - Group",hd:!1}],nm:"h",np:5,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}]},fFamily:"Gridular"},{ch:"t",size:96,style:"Regular",w:56.1,data:{shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-1.309,0],[0,0],[0,0],[0,0],[0,1.309],[0,0],[-1.309,0],[0,0],[0,0],[0,0],[0,1.309],[0,0],[0,0],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[1.309,0],[0,0],[0,-1.309],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0]],o:[[0,0],[0,0],[0,0],[-1.309,0],[0,0],[0,-1.309],[0,0],[0,0],[0,0],[-1.309,0],[0,0],[0,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,1.309],[0,0],[-1.309,0],[0,0],[0,1.309],[0,0],[1.309,0],[0,0],[0,1.309]],v:[[17.725,0],[51.361,0],[51.361,-10.071],[17.725,-10.071],[15.408,-12.387],[15.408,-37.967],[17.725,-40.283],[41.089,-40.283],[41.089,-50.354],[17.725,-50.354],[15.408,-52.67],[15.408,-70.496],[5.136,-70.496],[5.136,-52.67],[7.452,-50.354],[13.092,-50.354],[15.408,-48.038],[15.408,-42.599],[13.092,-40.283],[7.452,-40.283],[5.136,-37.967],[5.136,-12.387],[7.452,-10.071],[13.092,-10.071],[15.408,-7.755],[15.408,-2.316]],c:!0},ix:2},nm:"t",mn:"ADBE Vector Shape - Group",hd:!1}],nm:"t",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}]},fFamily:"Gridular"}],lottie={v:v$3,fr:fr$3,ip:ip$3,op:op$3,w:w$3,h:h$3,nm:nm$3,ddd:ddd$3,assets:assets$3,fonts,layers:layers$3,markers:markers$3,chars},v$2="5.9.0",fr$2=60,ip$2=0,op$2=240,w$2=140,h$2=200,nm$2="Tutoriel_1",ddd$2=0,assets$2=[],layers$2=[{ddd:0,ind:1,ty:4,nm:"Vector",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:15,s:[70,173.202,0],to:[0,-10,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:74.5,s:[70,113.202,0],to:[0,0,0],ti:[0,-10,0]},{t:134,s:[70,173.202,0]}],ix:2,l:2},a:{a:0,k:[0,38.433,0],ix:1,l:2},s:{a:1,k:[{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:12,s:[100,100,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:71.5,s:[60,60,100]},{t:131,s:[100,100,100]}],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-.633,-22.542],[1.499,-20.156],[0,0],[9.125,25.147],[1.071,4.083],[13.321,11.636],[12.824,-2.882],[-4.993,-8.846],[-7.597,-15.12],[.238,-13.167],[-1.898,-9.385],[-26.325,-22.931],[-19.555,-4.841],[-17.093,1.429],[-10.659,4.549],[-12.07,36.579],[-3.129,14.236],[-12.693,25.59],[-6.921,14.284],[11.622,5.789],[6.04,-12.369],[10.878,-21.978],[5.86,-5.575],[2.21,.817],[-.015,1.891],[-3.266,9.594],[-11.369,32.938],[-.428,5.142],[12.931,2.936],[4.001,-10.809],[3.957,-11.65],[9.189,-27.004],[3.465,-4.802],[2.735,.88],[.092,2.425],[-1.163,8.71],[-2.073,14.941],[-1.791,13.035],[-2.419,15.237],[13.447,3.538],[2.239,-12.899],[.545,-4.35],[2.662,-20.53],[3.383,-23.261],[3.397,-7.115],[2.214,.102],[.788,2.299],[.136,4.958],[.896,21.303],[.827,19.028],[4.507,5.171],[9.111,-2.192],[0,-12.423],[-.492,-18.654]],o:[[.438,15.665],[0,0],[-1.504,20.151],[-1.776,-3.898],[-4.297,-16.365],[-9.31,-8.136],[-11.194,2.513],[8.313,14.732],[5.85,11.64],[-.17,9.531],[6.707,33.118],[15.355,13.376],[16.377,4.053],[11.749,-.982],[36.872,-15.752],[4.59,-13.9],[6.098,-27.752],[7.052,-14.216],[5.694,-11.747],[-12.776,-6.362],[-10.761,22.032],[-3.504,7.086],[-1.45,1.38],[-2.404,-.889],[.073,-10.386],[11.223,-32.987],[1.66,-4.812],[.959,-11.499],[-10.138,-2.304],[-4.268,11.534],[-9.169,27.009],[-1.874,5.502],[-1.548,2.148],[-2.555,-.821],[-.336,-8.851],[1.995,-14.955],[1.806,-13.035],[2.098,-15.286],[2.443,-15.373],[-12.849,-3.378],[-.75,4.321],[-2.57,20.54],[-3.022,23.31],[-1.105,7.606],[-.915,1.92],[-2.429,-.112],[-1.689,-4.919],[-.599,-21.308],[-.798,-19.028],[-.263,-5.93],[-6.59,-7.558],[-12.099,2.916],[.005,18.683],[.594,22.552]],v:[[-74.817,-33.351],[-76.905,13.57],[-76.91,13.585],[-99.624,14.941],[-103.434,2.883],[-126.557,-40.821],[-158.849,-51.043],[-172.199,-27.436],[-147.889,17.094],[-138.471,54.066],[-136.296,82.436],[-91.121,168.658],[-38.607,195.851],[11.527,200.493],[45.279,192.663],[114.209,110.188],[123.782,67.525],[150.341,-13.011],[171.239,-55.796],[161.379,-84.763],[131.715,-75.427],[99.574,-9.258],[86.263,10.343],[81.187,12.331],[79.187,7.364],[86.112,-22.26],[120.375,-121.026],[124.77,-135.67],[105.419,-158.815],[81.722,-144.963],[69.686,-110.076],[42.213,-29.035],[34.868,-13.278],[28.843,-10.114],[26.064,-15.859],[28.254,-42.114],[34.396,-86.951],[39.877,-126.047],[46.16,-171.914],[30.162,-200.113],[3.769,-183.496],[1.749,-170.499],[-5.877,-108.861],[-15.373,-38.984],[-20.454,-16.442],[-24.839,-12.325],[-29.209,-17.045],[-30.956,-32.165],[-33.205,-96.073],[-34.587,-153.201],[-38.967,-170.752],[-63.034,-177.673],[-78.993,-156.939],[-77.061,-100.973]],c:!0},ix:2},nm:"Trac\xE9 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.070588235294,.086274509804,.247058823529,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fond 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:4,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Contour 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[19.126,19.126],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"Vector",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:240,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Calque de forme 1",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[70.25,51.5,0],ix:2,l:2},a:{a:0,k:[.25,-48.5,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[.25,-48.5],[.25,-7.5]],c:!1},ix:2},nm:"Trac\xE9 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:1,ix:5},lc:1,lj:1,ml:4,bm:0,d:[{n:"d",nm:"tiret",v:{a:0,k:6,ix:1}},{n:"o",nm:"d\xE9calage",v:{a:0,k:0,ix:7}}],nm:"Contour 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"Forme 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:240,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Vector 1",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[71.678,35.06,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[13.801,-13.791],[21.549,5.051]],o:[[38.531,-3.804],[11.562,22.172]],v:[[-13.856,24.402],[-3.533,-24.402]],c:!0},ix:2},nm:"Trac\xE9 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fond 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[19.126,19.126],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"Vector 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:240,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"Ellipse 14",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[69.589,35.026,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[62.471,62.471],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Trac\xE9 d'ellipse 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"fl",c:{a:0,k:[.850980401039,.850980401039,.850980401039,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fond 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[19.126,19.126],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"Ellipse 14",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:240,st:0,bm:0},{ddd:0,ind:5,ty:4,nm:"Ellipse 15",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[69.589,35.026,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[94.188,94.188],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Trac\xE9 d'ellipse 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:3,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Contour 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[19.126,19.126],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"Ellipse 15",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:240,st:0,bm:0},{ddd:0,ind:6,ty:4,nm:"Rectangle 36",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[69.589,35.026,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ty:"rc",d:1,s:{a:0,k:[202.372,141.441],ix:2},p:{a:0,k:[0,0],ix:3},r:{a:0,k:3,ix:4},nm:"Trac\xE9 rectangulaire 1",mn:"ADBE Vector Shape - Rect",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:3,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Contour 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[19.126,19.126],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"Rectangle 36",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:240,st:0,bm:0}],markers$2=[],left={v:v$2,fr:fr$2,ip:ip$2,op:op$2,w:w$2,h:h$2,nm:nm$2,ddd:ddd$2,assets:assets$2,layers:layers$2,markers:markers$2},v$1="5.9.0",fr$1=60,ip$1=0,op$1=180,w$1=240,h$1=150,nm$1="Tutoriel_2",ddd$1=0,assets$1=[],layers$1=[{ddd:0,ind:1,ty:4,nm:"Vector 2",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:43.27,s:[0]},{i:{x:[.833],y:[1]},o:{x:[.167],y:[0]},t:86.539,s:[100]},{i:{x:[.833],y:[1]},o:{x:[.333],y:[0]},t:151,s:[100]},{t:171,s:[0]}],ix:11},r:{a:1,k:[{i:{x:[.349],y:[5.817]},o:{x:[.333],y:[0]},t:43.27,s:[-3]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:87,s:[0]},{t:151,s:[-3]}],ix:10},p:{s:!0,x:{a:0,k:65.5,ix:3},y:{a:1,k:[{i:{x:[.745],y:[1.915]},o:{x:[.333],y:[0]},t:43.27,s:[112.702]},{i:{x:[.836],y:[1]},o:{x:[.298],y:[0]},t:86.539,s:[92.702]},{t:151,s:[112.702]}],ix:4}},a:{a:0,k:[0,38.433,0],ix:1,l:2},s:{a:0,k:[-100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-.633,-22.542],[1.499,-20.156],[0,0],[9.125,25.147],[1.071,4.083],[13.321,11.636],[12.824,-2.882],[-4.993,-8.846],[-7.597,-15.12],[.238,-13.167],[-1.898,-9.385],[-26.325,-22.931],[-19.555,-4.841],[-17.093,1.429],[-10.659,4.549],[-12.07,36.579],[-3.129,14.236],[-12.693,25.59],[-6.921,14.284],[11.622,5.789],[6.04,-12.369],[10.878,-21.978],[5.86,-5.575],[2.21,.817],[-.015,1.891],[-3.266,9.594],[-11.369,32.938],[-.428,5.142],[12.931,2.936],[4.001,-10.809],[3.957,-11.65],[9.189,-27.004],[3.465,-4.802],[2.735,.88],[.092,2.425],[-1.163,8.71],[-2.073,14.941],[-1.791,13.035],[-2.419,15.237],[13.447,3.538],[2.239,-12.899],[.545,-4.35],[2.662,-20.53],[3.383,-23.261],[3.397,-7.115],[2.214,.102],[.788,2.299],[.136,4.958],[.896,21.303],[.827,19.028],[4.507,5.171],[9.111,-2.192],[0,-12.423],[-.492,-18.654]],o:[[.438,15.665],[0,0],[-1.504,20.151],[-1.776,-3.898],[-4.297,-16.365],[-9.31,-8.136],[-11.194,2.513],[8.313,14.732],[5.85,11.64],[-.17,9.531],[6.707,33.118],[15.355,13.376],[16.377,4.053],[11.749,-.982],[36.872,-15.752],[4.59,-13.9],[6.098,-27.752],[7.052,-14.216],[5.694,-11.747],[-12.776,-6.362],[-10.761,22.032],[-3.504,7.086],[-1.45,1.38],[-2.404,-.889],[.073,-10.386],[11.223,-32.987],[1.66,-4.812],[.959,-11.499],[-10.138,-2.304],[-4.268,11.534],[-9.169,27.009],[-1.874,5.502],[-1.548,2.148],[-2.555,-.821],[-.336,-8.851],[1.995,-14.955],[1.806,-13.035],[2.098,-15.286],[2.443,-15.373],[-12.849,-3.378],[-.75,4.321],[-2.57,20.54],[-3.022,23.31],[-1.105,7.606],[-.915,1.92],[-2.429,-.112],[-1.689,-4.919],[-.599,-21.308],[-.798,-19.028],[-.263,-5.93],[-6.59,-7.558],[-12.099,2.916],[.005,18.683],[.594,22.552]],v:[[-74.817,-33.351],[-76.905,13.57],[-76.91,13.585],[-99.624,14.941],[-103.434,2.883],[-126.557,-40.821],[-158.849,-51.043],[-172.199,-27.436],[-147.889,17.094],[-138.471,54.066],[-136.296,82.436],[-91.121,168.658],[-38.607,195.851],[11.527,200.493],[45.279,192.663],[114.209,110.188],[123.782,67.525],[150.341,-13.011],[171.239,-55.796],[161.379,-84.763],[131.715,-75.427],[99.574,-9.258],[86.263,10.343],[81.187,12.331],[79.187,7.364],[86.112,-22.26],[120.375,-121.026],[124.77,-135.67],[105.419,-158.815],[81.722,-144.963],[69.686,-110.076],[42.213,-29.035],[34.868,-13.278],[28.843,-10.114],[26.064,-15.859],[28.254,-42.114],[34.396,-86.951],[39.877,-126.047],[46.16,-171.914],[30.162,-200.113],[3.769,-183.496],[1.749,-170.499],[-5.877,-108.861],[-15.373,-38.984],[-20.454,-16.442],[-24.839,-12.325],[-29.209,-17.045],[-30.956,-32.165],[-33.205,-96.073],[-34.587,-153.201],[-38.967,-170.752],[-63.034,-177.673],[-78.993,-156.939],[-77.061,-100.973]],c:!0},ix:2},nm:"Trac\xE9 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.070588235294,.086274509804,.247058823529,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fond 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:4,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Contour 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,11.264],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[19.126,19.126],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"Vector",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:180,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Vector",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.83],y:[1]},o:{x:[.333],y:[0]},t:0,s:[8]},{i:{x:[.833],y:[1]},o:{x:[.201],y:[0]},t:63.461,s:[-11.403]},{t:120,s:[8]}],ix:10},p:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[160,117.702,0],to:[1,-6.417,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:63.461,s:[166,79.202,0],to:[0,0,0],ti:[1,-6.417,0]},{t:120,s:[160,117.702,0]}],ix:2,l:2},a:{a:0,k:[0,38.433,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-.633,-22.542],[1.499,-20.156],[0,0],[9.125,25.147],[1.071,4.083],[13.321,11.636],[12.824,-2.882],[-4.993,-8.846],[-7.597,-15.12],[.238,-13.167],[-1.898,-9.385],[-26.325,-22.931],[-19.555,-4.841],[-17.093,1.429],[-10.659,4.549],[-12.07,36.579],[-3.129,14.236],[-12.693,25.59],[-6.921,14.284],[11.622,5.789],[6.04,-12.369],[10.878,-21.978],[5.86,-5.575],[2.21,.817],[-.015,1.891],[-3.266,9.594],[-11.369,32.938],[-.428,5.142],[12.931,2.936],[4.001,-10.809],[3.957,-11.65],[9.189,-27.004],[3.465,-4.802],[2.735,.88],[.092,2.425],[-1.163,8.71],[-2.073,14.941],[-1.791,13.035],[-2.419,15.237],[13.447,3.538],[2.239,-12.899],[.545,-4.35],[2.662,-20.53],[3.383,-23.261],[3.397,-7.115],[2.214,.102],[.788,2.299],[.136,4.958],[.896,21.303],[.827,19.028],[4.507,5.171],[9.111,-2.192],[0,-12.423],[-.492,-18.654]],o:[[.438,15.665],[0,0],[-1.504,20.151],[-1.776,-3.898],[-4.297,-16.365],[-9.31,-8.136],[-11.194,2.513],[8.313,14.732],[5.85,11.64],[-.17,9.531],[6.707,33.118],[15.355,13.376],[16.377,4.053],[11.749,-.982],[36.872,-15.752],[4.59,-13.9],[6.098,-27.752],[7.052,-14.216],[5.694,-11.747],[-12.776,-6.362],[-10.761,22.032],[-3.504,7.086],[-1.45,1.38],[-2.404,-.889],[.073,-10.386],[11.223,-32.987],[1.66,-4.812],[.959,-11.499],[-10.138,-2.304],[-4.268,11.534],[-9.169,27.009],[-1.874,5.502],[-1.548,2.148],[-2.555,-.821],[-.336,-8.851],[1.995,-14.955],[1.806,-13.035],[2.098,-15.286],[2.443,-15.373],[-12.849,-3.378],[-.75,4.321],[-2.57,20.54],[-3.022,23.31],[-1.105,7.606],[-.915,1.92],[-2.429,-.112],[-1.689,-4.919],[-.599,-21.308],[-.798,-19.028],[-.263,-5.93],[-6.59,-7.558],[-12.099,2.916],[.005,18.683],[.594,22.552]],v:[[-74.817,-33.351],[-76.905,13.57],[-76.91,13.585],[-99.624,14.941],[-103.434,2.883],[-126.557,-40.821],[-158.849,-51.043],[-172.199,-27.436],[-147.889,17.094],[-138.471,54.066],[-136.296,82.436],[-91.121,168.658],[-38.607,195.851],[11.527,200.493],[45.279,192.663],[114.209,110.188],[123.782,67.525],[150.341,-13.011],[171.239,-55.796],[161.379,-84.763],[131.715,-75.427],[99.574,-9.258],[86.263,10.343],[81.187,12.331],[79.187,7.364],[86.112,-22.26],[120.375,-121.026],[124.77,-135.67],[105.419,-158.815],[81.722,-144.963],[69.686,-110.076],[42.213,-29.035],[34.868,-13.278],[28.843,-10.114],[26.064,-15.859],[28.254,-42.114],[34.396,-86.951],[39.877,-126.047],[46.16,-171.914],[30.162,-200.113],[3.769,-183.496],[1.749,-170.499],[-5.877,-108.861],[-15.373,-38.984],[-20.454,-16.442],[-24.839,-12.325],[-29.209,-17.045],[-30.956,-32.165],[-33.205,-96.073],[-34.587,-153.201],[-38.967,-170.752],[-63.034,-177.673],[-78.993,-156.939],[-77.061,-100.973]],c:!0},ix:2},nm:"Trac\xE9 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.070588235294,.086274509804,.247058823529,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fond 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:4,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Contour 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,11.264],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[19.126,19.126],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"Vector",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:180,st:0,bm:0}],markers$1=[],right={v:v$1,fr:fr$1,ip:ip$1,op:op$1,w:w$1,h:h$1,nm:nm$1,ddd:ddd$1,assets:assets$1,layers:layers$1,markers:markers$1},TutorialModal_vue_vue_type_style_index_0_scoped_e5ba971d_lang="",_withScopeId$3=t=>(pushScopeId("data-v-e5ba971d"),t=t(),popScopeId(),t),_hoisted_1$7={class:"tutorial__inner"},_hoisted_2$6={class:"tutorial__inner-content"},_hoisted_3$3={class:"tutorial__part"},_hoisted_4$3=["innerHTML"],_hoisted_5$3=_withScopeId$3(()=>createBaseVNode("div",{class:"divider"},null,-1)),_hoisted_6$2={class:"tutorial__part"},_hoisted_7$2=["innerHTML"],_sfc_main$9={__name:"TutorialModal",emits:["close","loaded"],setup(t,{emit:e}){const r=ref(null),n=()=>{const o=gsapWithCSS.timeline({onComplete:()=>{e("close")}});o.to(r.value.querySelector(".tutorial__inner *"),{opacity:0,duration:.2,ease:"linear"}),o.to(r.value.querySelector(".tutorial__inner"),{maxHeight:"0px",padding:"0px",duration:.3,ease:"power2.in"},.25)};return onMounted(()=>{const o=gsapWithCSS.timeline({delay:.5});o.to(r.value.querySelector(".tutorial__inner"),{maxHeight:"440px",padding:"40px 60px 55px",duration:.5,ease:"power2.out"}),o.to(r.value.querySelector(".tutorial__inner-content"),{opacity:1,duration:.5,ease:"linear"},.3),o.to(r.value.querySelector(".tutorial__cta"),{opacity:1,duration:.5,ease:"linear"},.4),o.from(r.value.querySelector(".tutorial__cta"),{y:10,duration:.5,ease:"linear"},.4),setTimeout(()=>{e("loaded")},600)}),(o,s)=>(openBlock(),createElementBlock("div",{class:"tutorial",ref_key:"root",ref:r},[createBaseVNode("div",_hoisted_1$7,[createBaseVNode("div",_hoisted_2$6,[createBaseVNode("div",_hoisted_3$3,[createBaseVNode("p",{innerHTML:o.$t("tutorial.left")},null,8,_hoisted_4$3),createVNode(unref(Vue3Lottie),{animationData:unref(left),height:220},null,8,["animationData"])]),_hoisted_5$3,createBaseVNode("div",_hoisted_6$2,[createBaseVNode("p",{innerHTML:o.$t("tutorial.right")},null,8,_hoisted_7$2),createVNode(unref(Vue3Lottie),{animationData:unref(right),height:220},null,8,["animationData"])])]),createVNode(_sfc_main$a,{class:"tutorial__cta",text:o.$t("tutorial.cta"),onCtaClick:n,loader:!0},null,8,["text"])])],512))}},TutorialModal=_export_sfc(_sfc_main$9,[["__scopeId","data-v-e5ba971d"]]),Home_vue_vue_type_style_index_0_scoped_ab009453_lang="",_hoisted_1$6={class:"home"},_hoisted_2$5={key:1},_hoisted_3$2={class:"home__title"},_hoisted_4$2={class:"home__subtitle"},_hoisted_5$2={class:"title"},_hoisted_6$1={class:"home__cgu"},_hoisted_7$1={key:0,class:"bad-device"},_hoisted_8={key:1},_hoisted_9=["innerHTML"],_sfc_main$8={__name:"Home",props:{progress:{type:Number,required:!0}},emits:["start"],setup(t,{emit:e}){const r=!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia),n=ref(!1),o=ref(!1),s=ref(0),c=()=>{s.value++},d=()=>{const u={video:!0};navigator.mediaDevices.getUserMedia(u).then(m=>{e("start"),m.getTracks().forEach(_=>_.stop())}).catch(m=>{console.error("erreur: ",m)})};return onMounted(()=>{const u=gsapWithCSS.timeline();gsapWithCSS.set(".home__cgu",{autoAlpha:0}),o.value=!0,u.to(".home__title",{autoAlpha:0,duration:.4,ease:"linear",onComplete:()=>{n.value=!0,o.value=!1}},1.2),u.to(".home__subtitle > *",{duration:.4,ease:"power1.out",y:-5,stagger:.15},1.95),u.to(".home__subtitle > *",{autoAlpha:1,duration:.6,ease:"linear",stagger:.15},1.95),u.to(".home__cta",{duration:.4,ease:"power1.out",y:-5},2.3),u.to(".home__cta",{autoAlpha:1,duration:.6,ease:"linear"},2.3)}),(u,m)=>(openBlock(),createElementBlock("div",_hoisted_1$6,[n.value?(openBlock(),createBlock(HomeLogo,{key:0})):createCommentVNode("",!0),s.value===0?(openBlock(),createElementBlock("div",_hoisted_2$5,[createBaseVNode("div",_hoisted_3$2,[o.value?(openBlock(),createBlock(unref(Vue3Lottie),{key:0,"animation-data":unref(lottie),"auto-play":!0,loop:!1,"pause-animation":!0},null,8,["animation-data"])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_4$2,[createBaseVNode("h2",_hoisted_5$2,toDisplayString$1(u.$t("home.camera-title")),1),createBaseVNode("h2",null,toDisplayString$1(u.$t("home.subtitle")),1),createBaseVNode("div",_hoisted_6$1,[r?(openBlock(),createElementBlock("div",_hoisted_8,[createBaseVNode("p",{innerHTML:u.$t("home.camera-subtitle")},null,8,_hoisted_9),createVNode(_sfc_main$a,{class:"home__cta",onCtaClick:c,text:u.$t("home.camera-button"),loader:!1},null,8,["text"])])):(openBlock(),createElementBlock("div",_hoisted_7$1,"getUserMedia() is not supported by your browser"))])])])):createCommentVNode("",!0),s.value===1?(openBlock(),createBlock(TutorialModal,{key:2,onClose:d})):createCommentVNode("",!0)]))}},Home=_export_sfc(_sfc_main$8,[["__scopeId","data-v-ab009453"]]),v="5.9.0",fr=29.9700012207031,ip=0,op=360.000014663101,w=903,h=140,nm="cadre",ddd=0,assets=[],layers=[{ddd:0,ind:1,ty:4,nm:"R",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[456,67.745,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100.752,103.186,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ty:"rc",d:1,s:{a:0,k:[807.922,121.141],ix:2},p:{a:0,k:[0,0],ix:3},r:{a:0,k:8,ix:4},nm:"Trac\xE9 rectangulaire 1",mn:"ADBE Vector Shape - Rect",hd:!1},{ty:"st",c:{a:0,k:[1,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:4,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Contour 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.54],y:[1]},o:{x:[.333],y:[0]},t:6,s:[0]},{t:25.0000010182709,s:[0]}],ix:1},e:{a:1,k:[{i:{x:[.54],y:[1]},o:{x:[.167],y:[.167]},t:6,s:[0]},{t:25.0000010182709,s:[100]}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:3,nm:"R\xE9duire les trac\xE9s 1",mn:"ADBE Vector Filter - Trim",hd:!1},{ty:"tr",p:{a:0,k:[1.461,.57],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"Rectangle 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:360.000014663101,st:0,bm:2},{ddd:0,ind:2,ty:4,nm:"V",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[453.5,70.245,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100.752,103.186,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ty:"rc",d:1,s:{a:0,k:[807.922,121.141],ix:2},p:{a:0,k:[0,0],ix:3},r:{a:0,k:8,ix:4},nm:"Trac\xE9 rectangulaire 1",mn:"ADBE Vector Shape - Rect",hd:!1},{ty:"st",c:{a:0,k:[0,1,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:4,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Contour 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.54],y:[1]},o:{x:[.184],y:[-25.173]},t:9,s:[0]},{t:28.0000011404634,s:[0]}],ix:1},e:{a:1,k:[{i:{x:[.54],y:[1]},o:{x:[.167],y:[.167]},t:9,s:[0]},{t:28.0000011404634,s:[100]}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:3,nm:"R\xE9duire les trac\xE9s 2",mn:"ADBE Vector Filter - Trim",hd:!1},{ty:"tr",p:{a:0,k:[1.461,.57],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"Rectangle 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:3.00000012219251,op:363.000014785293,st:3.00000012219251,bm:2},{ddd:0,ind:3,ty:4,nm:"B",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[456,72.745,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100.752,103.186,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ty:"rc",d:1,s:{a:0,k:[807.922,121.141],ix:2},p:{a:0,k:[0,0],ix:3},r:{a:0,k:8,ix:4},nm:"Trac\xE9 rectangulaire 1",mn:"ADBE Vector Shape - Rect",hd:!1},{ty:"st",c:{a:0,k:[0,0,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:4,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Contour 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.54],y:[1]},o:{x:[.184],y:[-15.274]},t:12,s:[0]},{t:31.0000012626559,s:[0]}],ix:1},e:{a:1,k:[{i:{x:[.54],y:[1]},o:{x:[.167],y:[.167]},t:12,s:[0]},{t:31.0000012626559,s:[100]}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:3,nm:"R\xE9duire les trac\xE9s 1",mn:"ADBE Vector Filter - Trim",hd:!1},{ty:"tr",p:{a:0,k:[1.461,.57],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"Rectangle 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:6.00000024438501,op:366.000014907486,st:6.00000024438501,bm:2}],markers=[],l={v,fr,ip,op,w,h,nm,ddd,assets,layers,markers},_sfc_main$7={__name:"EndFrame",setup(t){return(e,r)=>(openBlock(),createBlock(unref(Vue3Lottie),{"animation-data":unref(l),"auto-play":!0,loop:!1,"pause-animation":!0},null,8,["animation-data"]))}};function bind(t,e){return function(){return t.apply(e,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,kindOf=(t=>e=>{const r=toString.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=t=>(t=t.toLowerCase(),e=>kindOf(e)===t),typeOfTest=t=>e=>typeof e===t,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(t){return t!==null&&!isUndefined(t)&&t.constructor!==null&&!isUndefined(t.constructor)&&isFunction(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&isArrayBuffer(t.buffer),e}const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject$1=t=>t!==null&&typeof t=="object",isBoolean=t=>t===!0||t===!1,isPlainObject=t=>{if(kindOf(t)!=="object")return!1;const e=getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=t=>isObject$1(t)&&isFunction(t.pipe),isFormData=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||isFunction(t.append)&&((e=kindOf(t))==="formdata"||e==="object"&&isFunction(t.toString)&&t.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),trim=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,o;if(typeof t!="object"&&(t=[t]),isArray(t))for(n=0,o=t.length;n<o;n++)e.call(null,t[n],n,t);else{const s=r?Object.getOwnPropertyNames(t):Object.keys(t),c=s.length;let d;for(n=0;n<c;n++)d=s[n],e.call(null,t[d],d,t)}}function findKey(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,o;for(;n-- >0;)if(o=r[n],e===o.toLowerCase())return o;return null}const _global=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),isContextDefined=t=>!isUndefined(t)&&t!==_global;function merge(){const{caseless:t}=isContextDefined(this)&&this||{},e={},r=(n,o)=>{const s=t&&findKey(e,o)||o;isPlainObject(e[s])&&isPlainObject(n)?e[s]=merge(e[s],n):isPlainObject(n)?e[s]=merge({},n):isArray(n)?e[s]=n.slice():e[s]=n};for(let n=0,o=arguments.length;n<o;n++)arguments[n]&&forEach(arguments[n],r);return e}const extend=(t,e,r,{allOwnKeys:n}={})=>(forEach(e,(o,s)=>{r&&isFunction(o)?t[s]=bind(o,r):t[s]=o},{allOwnKeys:n}),t),stripBOM=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),inherits=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},toFlatObject=(t,e,r,n)=>{let o,s,c;const d={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),s=o.length;s-- >0;)c=o[s],(!n||n(c,t,e))&&!d[c]&&(e[c]=t[c],d[c]=!0);t=r!==!1&&getPrototypeOf(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},endsWith=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},toArray=t=>{if(!t)return null;if(isArray(t))return t;let e=t.length;if(!isNumber(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},isTypedArray=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let n;for(;(n=r.next())&&!n.done;){const o=n.value;e.call(t,o[0],o[1])}},matchAll=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,r,n){return r.toUpperCase()+n}),hasOwnProperty$1=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};forEach(r,(o,s)=>{let c;(c=e(o,s,t))!==!1&&(n[s]=c||o)}),Object.defineProperties(t,n)},freezeMethods=t=>{reduceDescriptors(t,(e,r)=>{if(isFunction(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(isFunction(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},toObjectSet=(t,e)=>{const r={},n=o=>{o.forEach(s=>{r[s]=!0})};return isArray(t)?n(t):n(String(t).split(e)),r},noop=()=>{},toFiniteNumber=(t,e)=>(t=+t,Number.isFinite(t)?t:e),ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(t=16,e=ALPHABET.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function isSpecCompliantForm(t){return!!(t&&isFunction(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const toJSONObject=t=>{const e=new Array(10),r=(n,o)=>{if(isObject$1(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[o]=n;const s=isArray(n)?[]:{};return forEach(n,(c,d)=>{const u=r(c,o+1);!isUndefined(u)&&(s[d]=u)}),e[o]=void 0,s}}return n};return r(t,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=t=>t&&(isObject$1(t)||isFunction(t))&&isFunction(t.then)&&isFunction(t.catch),utils={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject:isObject$1,isPlainObject,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty:hasOwnProperty$1,hasOwnProp:hasOwnProperty$1,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable};function AxiosError(t,e,r,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o)}utils.inherits(AxiosError,Error,{toJSON:function t(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{descriptors[t]={value:t}}),Object.defineProperties(AxiosError,descriptors),Object.defineProperty(prototype$1,"isAxiosError",{value:!0}),AxiosError.from=(t,e,r,n,o,s)=>{const c=Object.create(prototype$1);return utils.toFlatObject(t,c,function(d){return d!==Error.prototype},d=>d!=="isAxiosError"),AxiosError.call(c,t.message,e,r,n,o),c.cause=t,c.name=t.name,s&&Object.assign(c,s),c};const httpAdapter=null;function isVisitable(t){return utils.isPlainObject(t)||utils.isArray(t)}function removeBrackets(t){return utils.endsWith(t,"[]")?t.slice(0,-2):t}function renderKey(t,e,r){return t?t.concat(e).map(function(n,o){return n=removeBrackets(n),!r&&o?"["+n+"]":n}).join(r?".":""):e}function isFlatArray(t){return utils.isArray(t)&&!t.some(isVisitable)}const predicates=utils.toFlatObject(utils,{},null,function t(e){return/^is[A-Z]/.test(e)});function toFormData(t,e,r){if(!utils.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=utils.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,M){return!utils.isUndefined(M[y])});const n=r.metaTokens,o=r.visitor||m,s=r.dots,c=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&utils.isSpecCompliantForm(e);if(!utils.isFunction(o))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(utils.isDate(y))return y.toISOString();if(!d&&utils.isBlob(y))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils.isArrayBuffer(y)||utils.isTypedArray(y)?d&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function m(y,M,T){let A=y;if(y&&!T&&typeof y=="object"){if(utils.endsWith(M,"{}"))M=n?M:M.slice(0,-2),y=JSON.stringify(y);else if(utils.isArray(y)&&isFlatArray(y)||(utils.isFileList(y)||utils.endsWith(M,"[]"))&&(A=utils.toArray(y)))return M=removeBrackets(M),A.forEach(function(E,C){!(utils.isUndefined(E)||E===null)&&e.append(c===!0?renderKey([M],C,s):c===null?M:M+"[]",u(E))}),!1}return isVisitable(y)?!0:(e.append(renderKey(T,M,s),u(y)),!1)}const _=[],g=Object.assign(predicates,{defaultVisitor:m,convertValue:u,isVisitable});function f(y,M){if(!utils.isUndefined(y)){if(_.indexOf(y)!==-1)throw Error("Circular reference detected in "+M.join("."));_.push(y),utils.forEach(y,function(T,A){(!(utils.isUndefined(T)||T===null)&&o.call(e,T,utils.isString(A)?A.trim():A,M,g))===!0&&f(T,M?M.concat(A):[A])}),_.pop()}}if(!utils.isObject(t))throw new TypeError("data must be an object");return f(t),e}function encode$1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function AxiosURLSearchParams(t,e){this._pairs=[],t&&toFormData(t,this,e)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function t(e,r){this._pairs.push([e,r])},prototype.toString=function t(e){const r=e?function(n){return e.call(this,n,encode$1)}:encode$1;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function encode(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(t,e,r){if(!e)return t;const n=r&&r.encode||encode,o=r&&r.serialize;let s;if(o?s=o(e,r):s=utils.isURLSearchParams(e)?e.toString():new AxiosURLSearchParams(e,r).toString(n),s){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class InterceptorManager{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){utils.forEach(this.handlers,function(r){r!==null&&e(r)})}}const InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,isStandardBrowserEnv=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),isStandardBrowserWebWorkerEnv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),platform={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},isStandardBrowserEnv,isStandardBrowserWebWorkerEnv,protocols:["http","https","file","blob","url","data"]};function toURLEncodedForm(t,e){return toFormData(t,new platform.classes.URLSearchParams,Object.assign({visitor:function(r,n,o,s){return platform.isNode&&utils.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function parsePropPath(t){return utils.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function arrayToObject(t){const e={},r=Object.keys(t);let n;const o=r.length;let s;for(n=0;n<o;n++)s=r[n],e[s]=t[s];return e}function formDataToJSON(t){function e(r,n,o,s){let c=r[s++];const d=Number.isFinite(+c),u=s>=r.length;return c=!c&&utils.isArray(o)?o.length:c,u?(utils.hasOwnProp(o,c)?o[c]=[o[c],n]:o[c]=n,!d):((!o[c]||!utils.isObject(o[c]))&&(o[c]=[]),e(r,n,o[c],s)&&utils.isArray(o[c])&&(o[c]=arrayToObject(o[c])),!d)}if(utils.isFormData(t)&&utils.isFunction(t.entries)){const r={};return utils.forEachEntry(t,(n,o)=>{e(parsePropPath(n),o,r,0)}),r}return null}function stringifySafely(t,e,r){if(utils.isString(t))try{return(e||JSON.parse)(t),utils.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const defaults={transitional:transitionalDefaults,adapter:platform.isNode?"http":"xhr",transformRequest:[function t(e,r){const n=r.getContentType()||"",o=n.indexOf("application/json")>-1,s=utils.isObject(e);if(s&&utils.isHTMLForm(e)&&(e=new FormData(e)),utils.isFormData(e))return o&&o?JSON.stringify(formDataToJSON(e)):e;if(utils.isArrayBuffer(e)||utils.isBuffer(e)||utils.isStream(e)||utils.isFile(e)||utils.isBlob(e))return e;if(utils.isArrayBufferView(e))return e.buffer;if(utils.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(e,this.formSerializer).toString();if((c=utils.isFileList(e))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return toFormData(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return s||o?(r.setContentType("application/json",!1),stringifySafely(e)):e}],transformResponse:[function t(e){const r=this.transitional||defaults.transitional,n=r&&r.forcedJSONParsing,o=this.responseType==="json";if(e&&utils.isString(e)&&(n&&!this.responseType||o)){const s=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(c){if(s)throw c.name==="SyntaxError"?AxiosError.from(c,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function t(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils.forEach(["delete","get","head","post","put","patch"],t=>{defaults.headers[t]={}});const defaults$1=defaults,ignoreDuplicateOf=utils.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=t=>{const e={};let r,n,o;return t&&t.split(`
`).forEach(function(s){o=s.indexOf(":"),r=s.substring(0,o).trim().toLowerCase(),n=s.substring(o+1).trim(),!(!r||e[r]&&ignoreDuplicateOf[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},$internals=Symbol("internals");function normalizeHeader(t){return t&&String(t).trim().toLowerCase()}function normalizeValue(t){return t===!1||t==null?t:utils.isArray(t)?t.map(normalizeValue):String(t)}function parseTokens(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const isValidHeaderName=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function matchHeaderValue(t,e,r,n,o){if(utils.isFunction(n))return n.call(this,e,r);if(o&&(e=r),!!utils.isString(e)){if(utils.isString(n))return e.indexOf(n)!==-1;if(utils.isRegExp(n))return n.test(e)}}function formatHeader(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function buildAccessors(t,e){const r=utils.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(o,s,c){return this[n].call(this,e,o,s,c)},configurable:!0})})}class AxiosHeaders{constructor(e){e&&this.set(e)}set(e,r,n){const o=this;function s(d,u,m){const _=normalizeHeader(u);if(!_)throw new Error("header name must be a non-empty string");const g=utils.findKey(o,_);(!g||o[g]===void 0||m===!0||m===void 0&&o[g]!==!1)&&(o[g||u]=normalizeValue(d))}const c=(d,u)=>utils.forEach(d,(m,_)=>s(m,_,u));return utils.isPlainObject(e)||e instanceof this.constructor?c(e,r):utils.isString(e)&&(e=e.trim())&&!isValidHeaderName(e)?c(parseHeaders(e),r):e!=null&&s(r,e,n),this}get(e,r){if(e=normalizeHeader(e),e){const n=utils.findKey(this,e);if(n){const o=this[n];if(!r)return o;if(r===!0)return parseTokens(o);if(utils.isFunction(r))return r.call(this,o,n);if(utils.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=normalizeHeader(e),e){const n=utils.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||matchHeaderValue(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let o=!1;function s(c){if(c=normalizeHeader(c),c){const d=utils.findKey(n,c);d&&(!r||matchHeaderValue(n,n[d],d,r))&&(delete n[d],o=!0)}}return utils.isArray(e)?e.forEach(s):s(e),o}clear(e){const r=Object.keys(this);let n=r.length,o=!1;for(;n--;){const s=r[n];(!e||matchHeaderValue(this,this[s],s,e,!0))&&(delete this[s],o=!0)}return o}normalize(e){const r=this,n={};return utils.forEach(this,(o,s)=>{const c=utils.findKey(n,s);if(c){r[c]=normalizeValue(o),delete r[s];return}const d=e?formatHeader(s):String(s).trim();d!==s&&delete r[s],r[d]=normalizeValue(o),n[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return utils.forEach(this,(n,o)=>{n!=null&&n!==!1&&(r[o]=e&&utils.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(o=>n.set(o)),n}static accessor(e){const r=(this[$internals]=this[$internals]={accessors:{}}).accessors,n=this.prototype;function o(s){const c=normalizeHeader(s);r[c]||(buildAccessors(n,s),r[c]=!0)}return utils.isArray(e)?e.forEach(o):o(e),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),utils.reduceDescriptors(AxiosHeaders.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}}),utils.freezeMethods(AxiosHeaders);const AxiosHeaders$1=AxiosHeaders;function transformData(t,e){const r=this||defaults$1,n=e||r,o=AxiosHeaders$1.from(n.headers);let s=n.data;return utils.forEach(t,function(c){s=c.call(r,s,o.normalize(),e?e.status:void 0)}),o.normalize(),s}function isCancel(t){return!!(t&&t.__CANCEL__)}function CanceledError(t,e,r){AxiosError.call(this,t??"canceled",AxiosError.ERR_CANCELED,e,r),this.name="CanceledError"}utils.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new AxiosError("Request failed with status code "+r.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const cookies=platform.isStandardBrowserEnv?function t(){return{write:function(e,r,n,o,s,c){const d=[];d.push(e+"="+encodeURIComponent(r)),utils.isNumber(n)&&d.push("expires="+new Date(n).toGMTString()),utils.isString(o)&&d.push("path="+o),utils.isString(s)&&d.push("domain="+s),c===!0&&d.push("secure"),document.cookie=d.join("; ")},read:function(e){const r=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function t(){return{write:function(){},read:function(){return null},remove:function(){}}}();function isAbsoluteURL(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function combineURLs(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function buildFullPath(t,e){return t&&!isAbsoluteURL(e)?combineURLs(t,e):e}const isURLSameOrigin=platform.isStandardBrowserEnv?function t(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function o(s){let c=s;return e&&(r.setAttribute("href",c),c=r.href),r.setAttribute("href",c),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=o(window.location.href),function(s){const c=utils.isString(s)?o(s):s;return c.protocol===n.protocol&&c.host===n.host}}():function t(){return function(){return!0}}();function parseProtocol(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function speedometer(t,e){t=t||10;const r=new Array(t),n=new Array(t);let o=0,s=0,c;return e=e!==void 0?e:1e3,function(d){const u=Date.now(),m=n[s];c||(c=u),r[o]=d,n[o]=u;let _=s,g=0;for(;_!==o;)g+=r[_++],_=_%t;if(o=(o+1)%t,o===s&&(s=(s+1)%t),u-c<e)return;const f=m&&u-m;return f?Math.round(g*1e3/f):void 0}}function progressEventReducer(t,e){let r=0;const n=speedometer(50,250);return o=>{const s=o.loaded,c=o.lengthComputable?o.total:void 0,d=s-r,u=n(d),m=s<=c;r=s;const _={loaded:s,total:c,progress:c?s/c:void 0,bytes:d,rate:u||void 0,estimated:u&&c&&m?(c-s)/u:void 0,event:o};_[e?"download":"upload"]=!0,t(_)}}const isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(t){return new Promise(function(e,r){let n=t.data;const o=AxiosHeaders$1.from(t.headers).normalize(),s=t.responseType;let c;function d(){t.cancelToken&&t.cancelToken.unsubscribe(c),t.signal&&t.signal.removeEventListener("abort",c)}utils.isFormData(n)&&(platform.isStandardBrowserEnv||platform.isStandardBrowserWebWorkerEnv?o.setContentType(!1):o.setContentType("multipart/form-data;",!1));let u=new XMLHttpRequest;if(t.auth){const f=t.auth.username||"",y=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(f+":"+y))}const m=buildFullPath(t.baseURL,t.url);u.open(t.method.toUpperCase(),buildURL(m,t.params,t.paramsSerializer),!0),u.timeout=t.timeout;function _(){if(!u)return;const f=AxiosHeaders$1.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),y={data:!s||s==="text"||s==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:f,config:t,request:u};settle(function(M){e(M),d()},function(M){r(M),d()},y),u=null}if("onloadend"in u?u.onloadend=_:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(_)},u.onabort=function(){u&&(r(new AxiosError("Request aborted",AxiosError.ECONNABORTED,t,u)),u=null)},u.onerror=function(){r(new AxiosError("Network Error",AxiosError.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let f=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const y=t.transitional||transitionalDefaults;t.timeoutErrorMessage&&(f=t.timeoutErrorMessage),r(new AxiosError(f,y.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,t,u)),u=null},platform.isStandardBrowserEnv){const f=(t.withCredentials||isURLSameOrigin(m))&&t.xsrfCookieName&&cookies.read(t.xsrfCookieName);f&&o.set(t.xsrfHeaderName,f)}n===void 0&&o.setContentType(null),"setRequestHeader"in u&&utils.forEach(o.toJSON(),function(f,y){u.setRequestHeader(y,f)}),utils.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),s&&s!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",progressEventReducer(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",progressEventReducer(t.onUploadProgress)),(t.cancelToken||t.signal)&&(c=f=>{u&&(r(!f||f.type?new CanceledError(null,t,u):f),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(c),t.signal&&(t.signal.aborted?c():t.signal.addEventListener("abort",c)));const g=parseProtocol(m);if(g&&platform.protocols.indexOf(g)===-1){r(new AxiosError("Unsupported protocol "+g+":",AxiosError.ERR_BAD_REQUEST,t));return}u.send(n||null)})},knownAdapters={http:httpAdapter,xhr:xhrAdapter};utils.forEach(knownAdapters,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const adapters={getAdapter:t=>{t=utils.isArray(t)?t:[t];const{length:e}=t;let r,n;for(let o=0;o<e&&(r=t[o],!(n=utils.isString(r)?knownAdapters[r.toLowerCase()]:r));o++);if(!n)throw n===!1?new AxiosError(`Adapter ${r} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(utils.hasOwnProp(knownAdapters,r)?`Adapter '${r}' is not available in the build`:`Unknown adapter '${r}'`);if(!utils.isFunction(n))throw new TypeError("adapter is not a function");return n},adapters:knownAdapters};function throwIfCancellationRequested(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new CanceledError(null,t)}function dispatchRequest(t){return throwIfCancellationRequested(t),t.headers=AxiosHeaders$1.from(t.headers),t.data=transformData.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(t.adapter||defaults$1.adapter)(t).then(function(e){return throwIfCancellationRequested(t),e.data=transformData.call(t,t.transformResponse,e),e.headers=AxiosHeaders$1.from(e.headers),e},function(e){return isCancel(e)||(throwIfCancellationRequested(t),e&&e.response&&(e.response.data=transformData.call(t,t.transformResponse,e.response),e.response.headers=AxiosHeaders$1.from(e.response.headers))),Promise.reject(e)})}const headersToObject=t=>t instanceof AxiosHeaders$1?t.toJSON():t;function mergeConfig(t,e){e=e||{};const r={};function n(m,_,g){return utils.isPlainObject(m)&&utils.isPlainObject(_)?utils.merge.call({caseless:g},m,_):utils.isPlainObject(_)?utils.merge({},_):utils.isArray(_)?_.slice():_}function o(m,_,g){if(utils.isUndefined(_)){if(!utils.isUndefined(m))return n(void 0,m,g)}else return n(m,_,g)}function s(m,_){if(!utils.isUndefined(_))return n(void 0,_)}function c(m,_){if(utils.isUndefined(_)){if(!utils.isUndefined(m))return n(void 0,m)}else return n(void 0,_)}function d(m,_,g){if(g in e)return n(m,_);if(g in t)return n(void 0,m)}const u={url:s,method:s,data:s,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(m,_)=>o(headersToObject(m),headersToObject(_),!0)};return utils.forEach(Object.keys(Object.assign({},t,e)),function(m){const _=u[m]||o,g=_(t[m],e[m],m);utils.isUndefined(g)&&_!==d||(r[m]=g)}),r}const VERSION="1.5.0",validators$1={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{validators$1[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const deprecatedWarnings={};validators$1.transitional=function t(e,r,n){function o(s,c){return"[Axios v"+VERSION+"] Transitional option '"+s+"'"+c+(n?". "+n:"")}return(s,c,d)=>{if(e===!1)throw new AxiosError(o(c," has been removed"+(r?" in "+r:"")),AxiosError.ERR_DEPRECATED);return r&&!deprecatedWarnings[c]&&(deprecatedWarnings[c]=!0,console.warn(o(c," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,c,d):!0}};function assertOptions(t,e,r){if(typeof t!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let o=n.length;for(;o-- >0;){const s=n[o],c=e[s];if(c){const d=t[s],u=d===void 0||c(d,s,t);if(u!==!0)throw new AxiosError("option "+s+" must be "+u,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new AxiosError("Unknown option "+s,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(e){this.defaults=e,this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=mergeConfig(this.defaults,r);const{transitional:n,paramsSerializer:o,headers:s}=r;n!==void 0&&validator.assertOptions(n,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),o!=null&&(utils.isFunction(o)?r.paramsSerializer={serialize:o}:validator.assertOptions(o,{encode:validators.function,serialize:validators.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let c=s&&utils.merge(s.common,s[r.method]);s&&utils.forEach(["delete","get","head","post","put","patch","common"],M=>{delete s[M]}),r.headers=AxiosHeaders$1.concat(c,s);const d=[];let u=!0;this.interceptors.request.forEach(function(M){typeof M.runWhen=="function"&&M.runWhen(r)===!1||(u=u&&M.synchronous,d.unshift(M.fulfilled,M.rejected))});const m=[];this.interceptors.response.forEach(function(M){m.push(M.fulfilled,M.rejected)});let _,g=0,f;if(!u){const M=[dispatchRequest.bind(this),void 0];for(M.unshift.apply(M,d),M.push.apply(M,m),f=M.length,_=Promise.resolve(r);g<f;)_=_.then(M[g++],M[g++]);return _}f=d.length;let y=r;for(g=0;g<f;){const M=d[g++],T=d[g++];try{y=M(y)}catch(A){T.call(this,A);break}}try{_=dispatchRequest.call(this,y)}catch(M){return Promise.reject(M)}for(g=0,f=m.length;g<f;)_=_.then(m[g++],m[g++]);return _}getUri(e){e=mergeConfig(this.defaults,e);const r=buildFullPath(e.baseURL,e.url);return buildURL(r,e.params,e.paramsSerializer)}}utils.forEach(["delete","get","head","options"],function t(e){Axios.prototype[e]=function(r,n){return this.request(mergeConfig(n||{},{method:e,url:r,data:(n||{}).data}))}}),utils.forEach(["post","put","patch"],function t(e){function r(n){return function(o,s,c){return this.request(mergeConfig(c||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Axios.prototype[e]=r(),Axios.prototype[e+"Form"]=r(!0)});const Axios$1=Axios;class CancelToken{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(o=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](o);n._listeners=null}),this.promise.then=o=>{let s;const c=new Promise(d=>{n.subscribe(d),s=d}).then(o);return c.cancel=function(){n.unsubscribe(s)},c},e(function(o,s,c){n.reason||(n.reason=new CanceledError(o,s,c),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new CancelToken(function(r){e=r}),cancel:e}}}const CancelToken$1=CancelToken;function spread(t){return function(e){return t.apply(null,e)}}function isAxiosError(t){return utils.isObject(t)&&t.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([t,e])=>{HttpStatusCode[e]=t});const HttpStatusCode$1=HttpStatusCode;function createInstance(t){const e=new Axios$1(t),r=bind(Axios$1.prototype.request,e);return utils.extend(r,Axios$1.prototype,e,{allOwnKeys:!0}),utils.extend(r,e,null,{allOwnKeys:!0}),r.create=function(n){return createInstance(mergeConfig(t,n))},r}const axios=createInstance(defaults$1);axios.Axios=Axios$1,axios.CanceledError=CanceledError,axios.CancelToken=CancelToken$1,axios.isCancel=isCancel,axios.VERSION=VERSION,axios.toFormData=toFormData,axios.AxiosError=AxiosError,axios.Cancel=axios.CanceledError,axios.all=function t(e){return Promise.all(e)},axios.spread=spread,axios.isAxiosError=isAxiosError,axios.mergeConfig=mergeConfig,axios.AxiosHeaders=AxiosHeaders$1,axios.formToJSON=t=>formDataToJSON(utils.isHTMLForm(t)?new FormData(t):t),axios.getAdapter=adapters.getAdapter,axios.HttpStatusCode=HttpStatusCode$1,axios.default=axios;const axios$1=axios,TextInput_vue_vue_type_style_index_0_lang="",_hoisted_1$5={class:"textinput"},_hoisted_2$4=["id"],_sfc_main$6={__name:"TextInput",props:{text:{type:String,required:!1},error:{type:Boolean,default:!1},id:{type:Number,default:0}},emits:["input","keyup"],setup(t,{emit:e}){const r=t,n=computed(()=>r.text.length>0),o=d=>{d.preventDefault(),d.target.value=d.target.value.replace(/[^a-zA-Z]/g,"").toUpperCase(),d.target.value.length!==0&&e("input",{id:r.id,text:d.target.value})},s=d=>{e("keyup",d)},c=d=>{d.target.selectionStart=d.target.selectionEnd};return(d,u)=>(openBlock(),createElementBlock("div",_hoisted_1$5,[createBaseVNode("input",{class:normalizeClass(`textinput__input ${t.error?"error":""}`),type:"text",id:`textinput-${t.id}`,maxlength:"1",onInput:o,onKeyup:s,onSelect:c,autocomplete:"off"},null,42,_hoisted_2$4),createBaseVNode("div",{class:normalizeClass(`inner inner__r ${n.value?"inner__active":""}`)},null,2),createBaseVNode("div",{class:normalizeClass(`inner inner__g ${n.value?"inner__active":""}`)},null,2),createBaseVNode("div",{class:normalizeClass(`inner inner__b ${n.value?"inner__active":""}`)},null,2)]))}};var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;const freeGlobal$1=freeGlobal;var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal$1||freeSelf||Function("return this")();const root$1=root;var Symbol$1=root$1.Symbol;const Symbol$2=Symbol$1;var objectProto$1=Object.prototype,hasOwnProperty=objectProto$1.hasOwnProperty,nativeObjectToString$1=objectProto$1.toString,symToStringTag$1=Symbol$2?Symbol$2.toStringTag:void 0;function getRawTag(t){var e=hasOwnProperty.call(t,symToStringTag$1),r=t[symToStringTag$1];try{t[symToStringTag$1]=void 0;var n=!0}catch{}var o=nativeObjectToString$1.call(t);return n&&(e?t[symToStringTag$1]=r:delete t[symToStringTag$1]),o}var objectProto=Object.prototype,nativeObjectToString=objectProto.toString;function objectToString(t){return nativeObjectToString.call(t)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$2?Symbol$2.toStringTag:void 0;function baseGetTag(t){return t==null?t===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(t)?getRawTag(t):objectToString(t)}function isObjectLike(t){return t!=null&&typeof t=="object"}var symbolTag="[object Symbol]";function isSymbol(t){return typeof t=="symbol"||isObjectLike(t)&&baseGetTag(t)==symbolTag}var reWhitespace=/\s/;function trimmedEndIndex(t){for(var e=t.length;e--&&reWhitespace.test(t.charAt(e)););return e}var reTrimStart=/^\s+/;function baseTrim(t){return t&&t.slice(0,trimmedEndIndex(t)+1).replace(reTrimStart,"")}function isObject(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var NAN=0/0,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(t){if(typeof t=="number")return t;if(isSymbol(t))return NAN;if(isObject(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=isObject(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=baseTrim(t);var r=reIsBinary.test(t);return r||reIsOctal.test(t)?freeParseInt(t.slice(2),r?2:8):reIsBadHex.test(t)?NAN:+t}var now=function(){return root$1.Date.now()};const now$1=now;var FUNC_ERROR_TEXT$1="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce(t,e,r){var n,o,s,c,d,u,m=0,_=!1,g=!1,f=!0;if(typeof t!="function")throw new TypeError(FUNC_ERROR_TEXT$1);e=toNumber(e)||0,isObject(r)&&(_=!!r.leading,g="maxWait"in r,s=g?nativeMax(toNumber(r.maxWait)||0,e):s,f="trailing"in r?!!r.trailing:f);function y(B){var j=n,U=o;return n=o=void 0,m=B,c=t.apply(U,j),c}function M(B){return m=B,d=setTimeout(E,e),_?y(B):c}function T(B){var j=B-u,U=B-m,N=e-j;return g?nativeMin(N,s-U):N}function A(B){var j=B-u,U=B-m;return u===void 0||j>=e||j<0||g&&U>=s}function E(){var B=now$1();if(A(B))return C(B);d=setTimeout(E,T(B))}function C(B){return d=void 0,f&&n?y(B):(n=o=void 0,c)}function k(){d!==void 0&&clearTimeout(d),m=0,n=u=o=d=void 0}function O(){return d===void 0?c:C(now$1())}function I(){var B=now$1(),j=A(B);if(n=arguments,o=this,u=B,j){if(d===void 0)return M(u);if(g)return clearTimeout(d),d=setTimeout(E,e),y(u)}return d===void 0&&(d=setTimeout(E,e)),c}return I.cancel=k,I.flush=O,I}var FUNC_ERROR_TEXT="Expected a function";function throttle(t,e,r){var n=!0,o=!0;if(typeof t!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),debounce(t,e,{leading:n,maxWait:e,trailing:o})}var canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement),canUseDom=canUseDOM;const canUseDOM$1=getDefaultExportFromCjs(canUseDom);var __assign$1=function(){return __assign$1=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},__assign$1.apply(this,arguments)},cachedScrollbarWidth=null,cachedDevicePixelRatio=null;canUseDOM$1&&window.addEventListener("resize",function(){cachedDevicePixelRatio!==window.devicePixelRatio&&(cachedDevicePixelRatio=window.devicePixelRatio,cachedScrollbarWidth=null)});function scrollbarWidth(){if(cachedScrollbarWidth===null){if(typeof document>"u")return cachedScrollbarWidth=0,cachedScrollbarWidth;var t=document.body,e=document.createElement("div");e.classList.add("simplebar-hide-scrollbar"),t.appendChild(e);var r=e.getBoundingClientRect().right;t.removeChild(e),cachedScrollbarWidth=r}return cachedScrollbarWidth}function getElementWindow$1(t){return!t||!t.ownerDocument||!t.ownerDocument.defaultView?window:t.ownerDocument.defaultView}function getElementDocument$1(t){return!t||!t.ownerDocument?document:t.ownerDocument}var getOptions$1=function(t){var e={},r=Array.prototype.reduce.call(t,function(n,o){var s=o.name.match(/data-simplebar-(.+)/);if(s){var c=s[1].replace(/\W+(.)/g,function(d,u){return u.toUpperCase()});switch(o.value){case"true":n[c]=!0;break;case"false":n[c]=!1;break;case void 0:n[c]=!0;break;default:n[c]=o.value}}return n},e);return r};function addClasses$1(t,e){var r;t&&(r=t.classList).add.apply(r,e.split(" "))}function removeClasses$1(t,e){t&&e.split(" ").forEach(function(r){t.classList.remove(r)})}function classNamesToQuery$1(t){return".".concat(t.split(" ").join("."))}var helpers=Object.freeze({__proto__:null,getElementWindow:getElementWindow$1,getElementDocument:getElementDocument$1,getOptions:getOptions$1,addClasses:addClasses$1,removeClasses:removeClasses$1,classNamesToQuery:classNamesToQuery$1}),getElementWindow=getElementWindow$1,getElementDocument=getElementDocument$1,getOptions=getOptions$1,addClasses=addClasses$1,removeClasses=removeClasses$1,classNamesToQuery=classNamesToQuery$1,SimpleBarCore=function(){function t(e,r){r===void 0&&(r={});var n=this;if(this.removePreventClickId=null,this.minScrollbarWidth=20,this.stopScrollDelay=175,this.isScrolling=!1,this.isMouseEntering=!1,this.scrollXTicking=!1,this.scrollYTicking=!1,this.wrapperEl=null,this.contentWrapperEl=null,this.contentEl=null,this.offsetEl=null,this.maskEl=null,this.placeholderEl=null,this.heightAutoObserverWrapperEl=null,this.heightAutoObserverEl=null,this.rtlHelpers=null,this.scrollbarWidth=0,this.resizeObserver=null,this.mutationObserver=null,this.elStyles=null,this.isRtl=null,this.mouseX=0,this.mouseY=0,this.onMouseMove=function(){},this.onWindowResize=function(){},this.onStopScrolling=function(){},this.onMouseEntered=function(){},this.onScroll=function(){var o=getElementWindow(n.el);n.scrollXTicking||(o.requestAnimationFrame(n.scrollX),n.scrollXTicking=!0),n.scrollYTicking||(o.requestAnimationFrame(n.scrollY),n.scrollYTicking=!0),n.isScrolling||(n.isScrolling=!0,addClasses(n.el,n.classNames.scrolling)),n.showScrollbar("x"),n.showScrollbar("y"),n.onStopScrolling()},this.scrollX=function(){n.axis.x.isOverflowing&&n.positionScrollbar("x"),n.scrollXTicking=!1},this.scrollY=function(){n.axis.y.isOverflowing&&n.positionScrollbar("y"),n.scrollYTicking=!1},this._onStopScrolling=function(){removeClasses(n.el,n.classNames.scrolling),n.options.autoHide&&(n.hideScrollbar("x"),n.hideScrollbar("y")),n.isScrolling=!1},this.onMouseEnter=function(){n.isMouseEntering||(addClasses(n.el,n.classNames.mouseEntered),n.showScrollbar("x"),n.showScrollbar("y"),n.isMouseEntering=!0),n.onMouseEntered()},this._onMouseEntered=function(){removeClasses(n.el,n.classNames.mouseEntered),n.options.autoHide&&(n.hideScrollbar("x"),n.hideScrollbar("y")),n.isMouseEntering=!1},this._onMouseMove=function(o){n.mouseX=o.clientX,n.mouseY=o.clientY,(n.axis.x.isOverflowing||n.axis.x.forceVisible)&&n.onMouseMoveForAxis("x"),(n.axis.y.isOverflowing||n.axis.y.forceVisible)&&n.onMouseMoveForAxis("y")},this.onMouseLeave=function(){n.onMouseMove.cancel(),(n.axis.x.isOverflowing||n.axis.x.forceVisible)&&n.onMouseLeaveForAxis("x"),(n.axis.y.isOverflowing||n.axis.y.forceVisible)&&n.onMouseLeaveForAxis("y"),n.mouseX=-1,n.mouseY=-1},this._onWindowResize=function(){n.scrollbarWidth=n.getScrollbarWidth(),n.hideNativeScrollbar()},this.onPointerEvent=function(o){if(!(!n.axis.x.track.el||!n.axis.y.track.el||!n.axis.x.scrollbar.el||!n.axis.y.scrollbar.el)){var s,c;n.axis.x.track.rect=n.axis.x.track.el.getBoundingClientRect(),n.axis.y.track.rect=n.axis.y.track.el.getBoundingClientRect(),(n.axis.x.isOverflowing||n.axis.x.forceVisible)&&(s=n.isWithinBounds(n.axis.x.track.rect)),(n.axis.y.isOverflowing||n.axis.y.forceVisible)&&(c=n.isWithinBounds(n.axis.y.track.rect)),(s||c)&&(o.stopPropagation(),o.type==="pointerdown"&&o.pointerType!=="touch"&&(s&&(n.axis.x.scrollbar.rect=n.axis.x.scrollbar.el.getBoundingClientRect(),n.isWithinBounds(n.axis.x.scrollbar.rect)?n.onDragStart(o,"x"):n.onTrackClick(o,"x")),c&&(n.axis.y.scrollbar.rect=n.axis.y.scrollbar.el.getBoundingClientRect(),n.isWithinBounds(n.axis.y.scrollbar.rect)?n.onDragStart(o,"y"):n.onTrackClick(o,"y"))))}},this.drag=function(o){var s,c,d,u,m,_,g,f,y,M,T;if(!(!n.draggedAxis||!n.contentWrapperEl)){var A,E=n.axis[n.draggedAxis].track,C=(c=(s=E.rect)===null||s===void 0?void 0:s[n.axis[n.draggedAxis].sizeAttr])!==null&&c!==void 0?c:0,k=n.axis[n.draggedAxis].scrollbar,O=(u=(d=n.contentWrapperEl)===null||d===void 0?void 0:d[n.axis[n.draggedAxis].scrollSizeAttr])!==null&&u!==void 0?u:0,I=parseInt((_=(m=n.elStyles)===null||m===void 0?void 0:m[n.axis[n.draggedAxis].sizeAttr])!==null&&_!==void 0?_:"0px",10);o.preventDefault(),o.stopPropagation(),n.draggedAxis==="y"?A=o.pageY:A=o.pageX;var B=A-((f=(g=E.rect)===null||g===void 0?void 0:g[n.axis[n.draggedAxis].offsetAttr])!==null&&f!==void 0?f:0)-n.axis[n.draggedAxis].dragOffset;B=n.draggedAxis==="x"&&n.isRtl?((M=(y=E.rect)===null||y===void 0?void 0:y[n.axis[n.draggedAxis].sizeAttr])!==null&&M!==void 0?M:0)-k.size-B:B;var j=B/(C-k.size),U=j*(O-I);n.draggedAxis==="x"&&n.isRtl&&(U=!((T=t.getRtlHelpers())===null||T===void 0)&&T.isScrollingToNegative?-U:U),n.contentWrapperEl[n.axis[n.draggedAxis].scrollOffsetAttr]=U}},this.onEndDrag=function(o){var s=getElementDocument(n.el),c=getElementWindow(n.el);o.preventDefault(),o.stopPropagation(),removeClasses(n.el,n.classNames.dragging),s.removeEventListener("mousemove",n.drag,!0),s.removeEventListener("mouseup",n.onEndDrag,!0),n.removePreventClickId=c.setTimeout(function(){s.removeEventListener("click",n.preventClick,!0),s.removeEventListener("dblclick",n.preventClick,!0),n.removePreventClickId=null})},this.preventClick=function(o){o.preventDefault(),o.stopPropagation()},this.el=e,this.options=__assign$1(__assign$1({},t.defaultOptions),r),this.classNames=__assign$1(__assign$1({},t.defaultOptions.classNames),r.classNames),this.axis={x:{scrollOffsetAttr:"scrollLeft",sizeAttr:"width",scrollSizeAttr:"scrollWidth",offsetSizeAttr:"offsetWidth",offsetAttr:"left",overflowAttr:"overflowX",dragOffset:0,isOverflowing:!0,forceVisible:!1,track:{size:null,el:null,rect:null,isVisible:!1},scrollbar:{size:null,el:null,rect:null,isVisible:!1}},y:{scrollOffsetAttr:"scrollTop",sizeAttr:"height",scrollSizeAttr:"scrollHeight",offsetSizeAttr:"offsetHeight",offsetAttr:"top",overflowAttr:"overflowY",dragOffset:0,isOverflowing:!0,forceVisible:!1,track:{size:null,el:null,rect:null,isVisible:!1},scrollbar:{size:null,el:null,rect:null,isVisible:!1}}},typeof this.el!="object"||!this.el.nodeName)throw new Error("Argument passed to SimpleBar must be an HTML element instead of ".concat(this.el));this.onMouseMove=throttle(this._onMouseMove,64),this.onWindowResize=debounce(this._onWindowResize,64,{leading:!0}),this.onStopScrolling=debounce(this._onStopScrolling,this.stopScrollDelay),this.onMouseEntered=debounce(this._onMouseEntered,this.stopScrollDelay),this.init()}return t.getRtlHelpers=function(){if(t.rtlHelpers)return t.rtlHelpers;var e=document.createElement("div");e.innerHTML='<div class="simplebar-dummy-scrollbar-size"><div></div></div>';var r=e.firstElementChild,n=r==null?void 0:r.firstElementChild;if(!n)return null;document.body.appendChild(r),r.scrollLeft=0;var o=t.getOffset(r),s=t.getOffset(n);r.scrollLeft=-999;var c=t.getOffset(n);return document.body.removeChild(r),t.rtlHelpers={isScrollOriginAtZero:o.left!==s.left,isScrollingToNegative:s.left!==c.left},t.rtlHelpers},t.prototype.getScrollbarWidth=function(){try{return this.contentWrapperEl&&getComputedStyle(this.contentWrapperEl,"::-webkit-scrollbar").display==="none"||"scrollbarWidth"in document.documentElement.style||"-ms-overflow-style"in document.documentElement.style?0:scrollbarWidth()}catch{return scrollbarWidth()}},t.getOffset=function(e){var r=e.getBoundingClientRect(),n=getElementDocument(e),o=getElementWindow(e);return{top:r.top+(o.pageYOffset||n.documentElement.scrollTop),left:r.left+(o.pageXOffset||n.documentElement.scrollLeft)}},t.prototype.init=function(){canUseDOM$1&&(this.initDOM(),this.rtlHelpers=t.getRtlHelpers(),this.scrollbarWidth=this.getScrollbarWidth(),this.recalculate(),this.initListeners())},t.prototype.initDOM=function(){var e,r;this.wrapperEl=this.el.querySelector(classNamesToQuery(this.classNames.wrapper)),this.contentWrapperEl=this.options.scrollableNode||this.el.querySelector(classNamesToQuery(this.classNames.contentWrapper)),this.contentEl=this.options.contentNode||this.el.querySelector(classNamesToQuery(this.classNames.contentEl)),this.offsetEl=this.el.querySelector(classNamesToQuery(this.classNames.offset)),this.maskEl=this.el.querySelector(classNamesToQuery(this.classNames.mask)),this.placeholderEl=this.findChild(this.wrapperEl,classNamesToQuery(this.classNames.placeholder)),this.heightAutoObserverWrapperEl=this.el.querySelector(classNamesToQuery(this.classNames.heightAutoObserverWrapperEl)),this.heightAutoObserverEl=this.el.querySelector(classNamesToQuery(this.classNames.heightAutoObserverEl)),this.axis.x.track.el=this.findChild(this.el,"".concat(classNamesToQuery(this.classNames.track)).concat(classNamesToQuery(this.classNames.horizontal))),this.axis.y.track.el=this.findChild(this.el,"".concat(classNamesToQuery(this.classNames.track)).concat(classNamesToQuery(this.classNames.vertical))),this.axis.x.scrollbar.el=((e=this.axis.x.track.el)===null||e===void 0?void 0:e.querySelector(classNamesToQuery(this.classNames.scrollbar)))||null,this.axis.y.scrollbar.el=((r=this.axis.y.track.el)===null||r===void 0?void 0:r.querySelector(classNamesToQuery(this.classNames.scrollbar)))||null,this.options.autoHide||(addClasses(this.axis.x.scrollbar.el,this.classNames.visible),addClasses(this.axis.y.scrollbar.el,this.classNames.visible))},t.prototype.initListeners=function(){var e=this,r,n=getElementWindow(this.el);if(this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("pointerdown",this.onPointerEvent,!0),this.el.addEventListener("mousemove",this.onMouseMove),this.el.addEventListener("mouseleave",this.onMouseLeave),(r=this.contentWrapperEl)===null||r===void 0||r.addEventListener("scroll",this.onScroll),n.addEventListener("resize",this.onWindowResize),!!this.contentEl){if(window.ResizeObserver){var o=!1,s=n.ResizeObserver||ResizeObserver;this.resizeObserver=new s(function(){o&&n.requestAnimationFrame(function(){e.recalculate()})}),this.resizeObserver.observe(this.el),this.resizeObserver.observe(this.contentEl),n.requestAnimationFrame(function(){o=!0})}this.mutationObserver=new n.MutationObserver(function(){n.requestAnimationFrame(function(){e.recalculate()})}),this.mutationObserver.observe(this.contentEl,{childList:!0,subtree:!0,characterData:!0})}},t.prototype.recalculate=function(){if(!(!this.heightAutoObserverEl||!this.contentEl||!this.contentWrapperEl||!this.wrapperEl||!this.placeholderEl)){var e=getElementWindow(this.el);this.elStyles=e.getComputedStyle(this.el),this.isRtl=this.elStyles.direction==="rtl";var r=this.contentEl.offsetWidth,n=this.heightAutoObserverEl.offsetHeight<=1,o=this.heightAutoObserverEl.offsetWidth<=1||r>0,s=this.contentWrapperEl.offsetWidth,c=this.elStyles.overflowX,d=this.elStyles.overflowY;this.contentEl.style.padding="".concat(this.elStyles.paddingTop," ").concat(this.elStyles.paddingRight," ").concat(this.elStyles.paddingBottom," ").concat(this.elStyles.paddingLeft),this.wrapperEl.style.margin="-".concat(this.elStyles.paddingTop," -").concat(this.elStyles.paddingRight," -").concat(this.elStyles.paddingBottom," -").concat(this.elStyles.paddingLeft);var u=this.contentEl.scrollHeight,m=this.contentEl.scrollWidth;this.contentWrapperEl.style.height=n?"auto":"100%",this.placeholderEl.style.width=o?"".concat(r||m,"px"):"auto",this.placeholderEl.style.height="".concat(u,"px");var _=this.contentWrapperEl.offsetHeight;this.axis.x.isOverflowing=r!==0&&m>r,this.axis.y.isOverflowing=u>_,this.axis.x.isOverflowing=c==="hidden"?!1:this.axis.x.isOverflowing,this.axis.y.isOverflowing=d==="hidden"?!1:this.axis.y.isOverflowing,this.axis.x.forceVisible=this.options.forceVisible==="x"||this.options.forceVisible===!0,this.axis.y.forceVisible=this.options.forceVisible==="y"||this.options.forceVisible===!0,this.hideNativeScrollbar();var g=this.axis.x.isOverflowing?this.scrollbarWidth:0,f=this.axis.y.isOverflowing?this.scrollbarWidth:0;this.axis.x.isOverflowing=this.axis.x.isOverflowing&&m>s-f,this.axis.y.isOverflowing=this.axis.y.isOverflowing&&u>_-g,this.axis.x.scrollbar.size=this.getScrollbarSize("x"),this.axis.y.scrollbar.size=this.getScrollbarSize("y"),this.axis.x.scrollbar.el&&(this.axis.x.scrollbar.el.style.width="".concat(this.axis.x.scrollbar.size,"px")),this.axis.y.scrollbar.el&&(this.axis.y.scrollbar.el.style.height="".concat(this.axis.y.scrollbar.size,"px")),this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y")}},t.prototype.getScrollbarSize=function(e){var r,n;if(e===void 0&&(e="y"),!this.axis[e].isOverflowing||!this.contentEl)return 0;var o=this.contentEl[this.axis[e].scrollSizeAttr],s=(n=(r=this.axis[e].track.el)===null||r===void 0?void 0:r[this.axis[e].offsetSizeAttr])!==null&&n!==void 0?n:0,c=s/o,d;return d=Math.max(~~(c*s),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(d=Math.min(d,this.options.scrollbarMaxSize)),d},t.prototype.positionScrollbar=function(e){var r,n,o;e===void 0&&(e="y");var s=this.axis[e].scrollbar;if(!(!this.axis[e].isOverflowing||!this.contentWrapperEl||!s.el||!this.elStyles)){var c=this.contentWrapperEl[this.axis[e].scrollSizeAttr],d=((r=this.axis[e].track.el)===null||r===void 0?void 0:r[this.axis[e].offsetSizeAttr])||0,u=parseInt(this.elStyles[this.axis[e].sizeAttr],10),m=this.contentWrapperEl[this.axis[e].scrollOffsetAttr];m=e==="x"&&this.isRtl&&!((n=t.getRtlHelpers())===null||n===void 0)&&n.isScrollOriginAtZero?-m:m,e==="x"&&this.isRtl&&(m=!((o=t.getRtlHelpers())===null||o===void 0)&&o.isScrollingToNegative?m:-m);var _=m/(c-u),g=~~((d-s.size)*_);g=e==="x"&&this.isRtl?-g+(d-s.size):g,s.el.style.transform=e==="x"?"translate3d(".concat(g,"px, 0, 0)"):"translate3d(0, ".concat(g,"px, 0)")}},t.prototype.toggleTrackVisibility=function(e){e===void 0&&(e="y");var r=this.axis[e].track.el,n=this.axis[e].scrollbar.el;!r||!n||!this.contentWrapperEl||(this.axis[e].isOverflowing||this.axis[e].forceVisible?(r.style.visibility="visible",this.contentWrapperEl.style[this.axis[e].overflowAttr]="scroll",this.el.classList.add("".concat(this.classNames.scrollable,"-").concat(e))):(r.style.visibility="hidden",this.contentWrapperEl.style[this.axis[e].overflowAttr]="hidden",this.el.classList.remove("".concat(this.classNames.scrollable,"-").concat(e))),this.axis[e].isOverflowing?n.style.display="block":n.style.display="none")},t.prototype.showScrollbar=function(e){e===void 0&&(e="y"),this.axis[e].isOverflowing&&!this.axis[e].scrollbar.isVisible&&(addClasses(this.axis[e].scrollbar.el,this.classNames.visible),this.axis[e].scrollbar.isVisible=!0)},t.prototype.hideScrollbar=function(e){e===void 0&&(e="y"),this.axis[e].isOverflowing&&this.axis[e].scrollbar.isVisible&&(removeClasses(this.axis[e].scrollbar.el,this.classNames.visible),this.axis[e].scrollbar.isVisible=!1)},t.prototype.hideNativeScrollbar=function(){this.offsetEl&&(this.offsetEl.style[this.isRtl?"left":"right"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?"-".concat(this.scrollbarWidth,"px"):"0px",this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?"-".concat(this.scrollbarWidth,"px"):"0px")},t.prototype.onMouseMoveForAxis=function(e){e===void 0&&(e="y");var r=this.axis[e];!r.track.el||!r.scrollbar.el||(r.track.rect=r.track.el.getBoundingClientRect(),r.scrollbar.rect=r.scrollbar.el.getBoundingClientRect(),this.isWithinBounds(r.track.rect)?(this.showScrollbar(e),addClasses(r.track.el,this.classNames.hover),this.isWithinBounds(r.scrollbar.rect)?addClasses(r.scrollbar.el,this.classNames.hover):removeClasses(r.scrollbar.el,this.classNames.hover)):(removeClasses(r.track.el,this.classNames.hover),this.options.autoHide&&this.hideScrollbar(e)))},t.prototype.onMouseLeaveForAxis=function(e){e===void 0&&(e="y"),removeClasses(this.axis[e].track.el,this.classNames.hover),removeClasses(this.axis[e].scrollbar.el,this.classNames.hover),this.options.autoHide&&this.hideScrollbar(e)},t.prototype.onDragStart=function(e,r){var n;r===void 0&&(r="y");var o=getElementDocument(this.el),s=getElementWindow(this.el),c=this.axis[r].scrollbar,d=r==="y"?e.pageY:e.pageX;this.axis[r].dragOffset=d-(((n=c.rect)===null||n===void 0?void 0:n[this.axis[r].offsetAttr])||0),this.draggedAxis=r,addClasses(this.el,this.classNames.dragging),o.addEventListener("mousemove",this.drag,!0),o.addEventListener("mouseup",this.onEndDrag,!0),this.removePreventClickId===null?(o.addEventListener("click",this.preventClick,!0),o.addEventListener("dblclick",this.preventClick,!0)):(s.clearTimeout(this.removePreventClickId),this.removePreventClickId=null)},t.prototype.onTrackClick=function(e,r){var n=this,o,s,c,d;r===void 0&&(r="y");var u=this.axis[r];if(!(!this.options.clickOnTrack||!u.scrollbar.el||!this.contentWrapperEl)){e.preventDefault();var m=getElementWindow(this.el);this.axis[r].scrollbar.rect=u.scrollbar.el.getBoundingClientRect();var _=this.axis[r].scrollbar,g=(s=(o=_.rect)===null||o===void 0?void 0:o[this.axis[r].offsetAttr])!==null&&s!==void 0?s:0,f=parseInt((d=(c=this.elStyles)===null||c===void 0?void 0:c[this.axis[r].sizeAttr])!==null&&d!==void 0?d:"0px",10),y=this.contentWrapperEl[this.axis[r].scrollOffsetAttr],M=r==="y"?this.mouseY-g:this.mouseX-g,T=M<0?-1:1,A=T===-1?y-f:y+f,E=40,C=function(){n.contentWrapperEl&&(T===-1?y>A&&(y-=E,n.contentWrapperEl[n.axis[r].scrollOffsetAttr]=y,m.requestAnimationFrame(C)):y<A&&(y+=E,n.contentWrapperEl[n.axis[r].scrollOffsetAttr]=y,m.requestAnimationFrame(C)))};C()}},t.prototype.getContentElement=function(){return this.contentEl},t.prototype.getScrollElement=function(){return this.contentWrapperEl},t.prototype.removeListeners=function(){var e=getElementWindow(this.el);this.el.removeEventListener("mouseenter",this.onMouseEnter),this.el.removeEventListener("pointerdown",this.onPointerEvent,!0),this.el.removeEventListener("mousemove",this.onMouseMove),this.el.removeEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl&&this.contentWrapperEl.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onWindowResize),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver&&this.resizeObserver.disconnect(),this.onMouseMove.cancel(),this.onWindowResize.cancel(),this.onStopScrolling.cancel(),this.onMouseEntered.cancel()},t.prototype.unMount=function(){this.removeListeners()},t.prototype.isWithinBounds=function(e){return this.mouseX>=e.left&&this.mouseX<=e.left+e.width&&this.mouseY>=e.top&&this.mouseY<=e.top+e.height},t.prototype.findChild=function(e,r){var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;return Array.prototype.filter.call(e.children,function(o){return n.call(o,r)})[0]},t.rtlHelpers=null,t.defaultOptions={forceVisible:!1,clickOnTrack:!0,scrollbarMinSize:25,scrollbarMaxSize:0,ariaLabel:"scrollable content",classNames:{contentEl:"simplebar-content",contentWrapper:"simplebar-content-wrapper",offset:"simplebar-offset",mask:"simplebar-mask",wrapper:"simplebar-wrapper",placeholder:"simplebar-placeholder",scrollbar:"simplebar-scrollbar",track:"simplebar-track",heightAutoObserverWrapperEl:"simplebar-height-auto-observer-wrapper",heightAutoObserverEl:"simplebar-height-auto-observer",visible:"simplebar-visible",horizontal:"simplebar-horizontal",vertical:"simplebar-vertical",hover:"simplebar-hover",dragging:"simplebar-dragging",scrolling:"simplebar-scrolling",scrollable:"simplebar-scrollable",mouseEntered:"simplebar-mouse-entered"},scrollableNode:null,contentNode:null,autoHide:!0},t.getOptions=getOptions,t.helpers=helpers,t}(),__assign=function(){return __assign=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},__assign.apply(this,arguments)},lifecycleEventNames={beforeUnmount:"beforeUnmount",unmount:"unmount"},_a;function renderFn(t){var e,r=t.h,n=t.emit,o=t.slots,s=t.props,c=function(u){return n("scroll",u)},d=__assign(__assign({},SimpleBarCore.defaultOptions.classNames),s.classNames);return r("div",__assign({ref:"element"},{"data-simplebar":"init"}),[r("div",{class:d.wrapper},[r("div",{class:d.heightAutoObserverWrapperEl},[r("div",{class:d.heightAutoObserverEl})]),r("div",{class:d.mask},[r("div",{class:d.offset},[r("div",__assign(__assign({},{onScroll:c,class:d.contentWrapper,tabIndex:0,role:"region","aria-label":s.ariaLabel||SimpleBarCore.defaultOptions.ariaLabel}),{ref:"scrollElement"}),[r("div",{class:d.contentEl,ref:"contentElement"},(e=o.default)===null||e===void 0?void 0:e.call(o))])])]),r("div",{class:d.placeholder})]),r("div",{class:"".concat(d.track," simplebar-horizontal")},[r("div",{class:d.scrollbar})]),r("div",{class:"".concat(d.track," simplebar-vertical")},[r("div",{class:d.scrollbar})])])}var simplebar=defineComponent((_a={name:"simplebar-vue",props:{autoHide:{type:Boolean,default:void 0},classNames:Object,forceVisible:{type:[Boolean,String],validator:function(t){return typeof t=="boolean"||t==="x"||t==="y"},default:void 0},ariaLabel:String,direction:{type:String,validator:function(t){return t==="ltr"||t==="rtl"}},timeout:Number,clickOnTrack:{type:Boolean,default:void 0},scrollbarMinSize:Number,scrollbarMaxSize:Number},emits:["scroll"],data:function(){return{}},mounted:function(){for(var t=SimpleBarCore.getOptions(this.$refs.element.attributes),e=0,r=Object.entries(this.$props);e<r.length;e++){var n=r[e],o=n[0],s=n[1];s!=null&&typeof s!="function"&&(t[o]=s)}this.SimpleBar=new SimpleBarCore(this.$refs.element,t),this.scrollElement=this.$refs.scrollElement,this.contentElement=this.$refs.contentElement}},_a[lifecycleEventNames.beforeUnmount]=function(){var t;(t=this.SimpleBar)===null||t===void 0||t.unMount(),this.SimpleBar=void 0},_a.methods={recalculate:function(){var t;(t=this.SimpleBar)===null||t===void 0||t.recalculate()}},_a.render=function(t){var e=this;return renderFn({h:typeof t=="function"?t:h$9,emit:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.$emit.apply(e,r)},slots:this.$slots,props:this.$props})},_a));const simplebar_min="",End_vue_vue_type_style_index_0_scoped_64143bb3_lang="",_hoisted_1$4={key:0,class:"end-screen__result"},_hoisted_2$3={class:"end-screen__title"},_hoisted_3$1={class:"end-screen__form"},_hoisted_4$1={class:"end-screen__f"},_hoisted_5$1={key:1,class:"end-screen__leader-board"},_hoisted_6={key:0,class:"leader-board__list-item leader-board__list-item--current leader-board__list-item--not-ranked"},_hoisted_7={class:"end-screen__ctas"},_sfc_main$5={__name:"End",props:{score:{type:Number,default:0}},emits:["restart"],setup(t,{emit:e}){const r=t,n=ref(null),o=ref(null),s=ref(!1),c=ref(0),d=ref(null),u=ref(null),m=ref([{id:0,name:"PAUL",score:320},{id:1,name:"AAAA",score:560},{id:2,name:"BBBB",score:120},{id:3,name:"AJGH",score:890},{id:4,name:"POIU",score:325},{id:5,name:"TVKI",score:560},{id:6,name:"MSHR",score:872},{id:7,name:"?NQF",score:240},{id:8,name:"ANVH",score:456},{id:9,name:"BXCY",score:702},{id:10,name:"SZMP",score:350}]),_=ref(""),g=ref(""),f=ref(""),y=ref(!1),M=ref(!1),T=ref(!1),A=ref(!1),E=ref(!1),C=computed(()=>m.value.slice(0,10)),k=computed(()=>{const W=m.value.findIndex(ne=>ne.id===u.value);return m.value[W].position?m.value[W].position:m.value.findIndex(ne=>ne.id===u.value)}),O=computed(()=>0),I=async()=>{!j()||E.value||(d.value="",o.value.querySelectorAll("input").forEach(W=>{d.value+=W.value.toUpperCase()}),u.value=Math.floor(Math.random()*1e3),console.log("6LfL70AoAAAAAL-UEqAb0m5_KqbQlJ4HlZGSWSiq"),grecaptcha.ready(function(){grecaptcha.execute("6LfL70AoAAAAAL-UEqAb0m5_KqbQlJ4HlZGSWSiq",{action:"submit"}).then(async W=>{A.value=!0;const ne=await axios$1.post("https://rjl2ion82h.execute-api.eu-west-3.amazonaws.com/prod/user/create",{name:d.value,score:r.score,token:W});if(A.value=!1,ne.data.winners){m.value.splice(0,m.value.length,...ne.data.winners),m.value.push({id:u.value,name:d.value,score:r.score,position:ne.data.user.position}),m.value.sort((le,ae)=>ae.score-le.score);const re=gsapWithCSS.timeline({onComplete:()=>{c.value=1,nextTick(()=>{gsapWithCSS.fromTo(n.value.querySelectorAll(".leader-board__list li"),{y:20,opacity:0},{y:0,opacity:1,duration:.25,stagger:.07,delay:.1}),gsapWithCSS.fromTo(n.value.querySelector(".end-screen__ctas"),{opacity:0},{opacity:1,duration:.5,delay:1.2}),setTimeout(()=>{s.value=!0},600)})}});re.to(n.value.querySelector(".end-screen__result"),{y:20,duration:.15,ease:"power1.out"},0),re.to(n.value.querySelector(".end-screen__result"),{y:-20,autoAlpha:0,duration:.2,ease:"power1.inOut"},.25)}})}),E.value=!0)},B=W=>{const ne=W.text,re=W.id,le=[_,g,f];le[re].value=ne.replace(/[^a-zA-Z]/g,"").toUpperCase();const ae=re+1<3?re+1:0;if(!ae)return;const pe=document.querySelector(`#textinput-${ae}`);pe&&(pe.focus(),pe.select())},j=()=>{let W=!0;const ne=[_,g,f];return y.value,M.value,T.value,ne.forEach(re=>{[""," ","[","$","&","+",",",":",";","=","?","@","#","|","'","<",">",".","-","^","*","(",")","%","!","]"].includes(re.value)&&(W=!1)}),W},U=W=>{if(W.key==="Backspace"&&W.target.value.length===0){const ne=W.target.id.split("-")[1];if(ne==="0")return;const re=document.querySelector(`#textinput-${ne-1}`);re&&re.focus()}W.key==="Enter"&&I()},N=()=>{e("restart")};return onMounted(()=>{gsapWithCSS.timeline().fromTo(n.value.querySelectorAll(".end-screen__result > *"),{opacity:0,y:20},{opacity:1,y:0,duration:.5,delay:.5,stagger:.1});const W=document.querySelector("#textinput-0");W&&(W.focus(),W.select())}),(W,ne)=>(openBlock(),createElementBlock("div",{class:"end-screen",ref_key:"root",ref:n},[createVNode(HomeLogo),c.value===0?(openBlock(),createElementBlock("div",_hoisted_1$4,[createVNode(RGBText,{class:"end-screen__score"},{default:withCtx(()=>[createBaseVNode("p",null,toDisplayString$1(W.$t("end.text",{score:r.score})),1)]),_:1}),createBaseVNode("h2",_hoisted_2$3,toDisplayString$1(W.$t("end.title")),1),createBaseVNode("p",_hoisted_3$1,toDisplayString$1(W.$t("end.form")),1),createBaseVNode("div",{class:"end-screen__name",ref_key:"input",ref:o},[createVNode(_sfc_main$6,{id:0,error:y.value,text:_.value,onInput:B,onKeyup:U},null,8,["error","text"]),createVNode(_sfc_main$6,{id:1,error:M.value,text:g.value,onInput:B,onKeyup:U},null,8,["error","text"]),createVNode(_sfc_main$6,{id:2,error:T.value,text:f.value,onInput:B,onKeyup:U},null,8,["error","text"])],512),createBaseVNode("div",_hoisted_4$1,[A.value?(openBlock(),createBlock(LoaderInner,{key:1})):(openBlock(),createBlock(_sfc_main$a,{key:0,onClick:I,text:W.$t("end.valid"),loader:!1},null,8,["text"]))])])):(openBlock(),createElementBlock("div",_hoisted_5$1,[createVNode(unref(simplebar),{class:"leader-board__list","data-simplebar-auto-hide":"false"},{default:withCtx(()=>[createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(C.value,(re,le)=>(openBlock(),createElementBlock("li",{key:le,class:normalizeClass(["leader-board__list-item",re.id===u.value?"leader-board__list-item--current":""])},[createBaseVNode("span",null,toDisplayString$1(le+1),1),createBaseVNode("span",null,toDisplayString$1(re.name),1),createBaseVNode("span",null,toDisplayString$1(re.score)+" pts",1),re.id===u.value&&s.value?(openBlock(),createBlock(_sfc_main$7,{key:0,class:"end-screen__frame",style:normalizeStyle(`transform: translateY(${O.value})`)},null,8,["style"])):createCommentVNode("",!0)],2))),128)),k.value>10?(openBlock(),createElementBlock("li",_hoisted_6,[createBaseVNode("span",null,toDisplayString$1(k.value),1),createBaseVNode("span",null,toDisplayString$1(d.value),1),createBaseVNode("span",null,toDisplayString$1(t.score)+" pts",1),s.value?(openBlock(),createBlock(_sfc_main$7,{key:0,class:"end-screen__frame",style:normalizeStyle(`transform: translateY(${O.value})`)},null,8,["style"])):createCommentVNode("",!0)])):createCommentVNode("",!0)])]),_:1}),createBaseVNode("div",_hoisted_7,[createVNode(_sfc_main$a,{class:"end-screen__cta",onCtaClick:N,text:W.$t("leaderboard.restart"),loader:!1},null,8,["text"])])]))],512))}},End=_export_sfc(_sfc_main$5,[["__scopeId","data-v-64143bb3"]]),useLocalesStore=defineStore("locales",()=>{const t=ref("en"),e=ref("EN"),r=u=>u.match(/^[a-z]{2}-[A-Z]{2}$/),n=()=>{const u=window.location.href.split("/").pop();return r(u)&&(t.value=u.split("-")[0],e.value=u.split("-")[1]),`${t.value}-${e.value}`},o=u=>{u.value=u},s=u=>{u.value=u},c=computed(()=>t.value),d=computed(()=>e.value);return{setLang:o,setCountry:s,updateFromUrl:n,getLang:c,getCountry:d}}),ORIENTATION={PORTRAIT:"portrait",LANDSCAPE:"landscape"},useWindowStore=defineStore("window",()=>{const t=ref(0),e=ref(ORIENTATION.PORTRAIT),r=ref(!1),n=()=>{t.value=window.innerHeight*.01,e.value=window.innerWidth>window.innerHeight?ORIENTATION.LANDSCAPE:ORIENTATION.PORTRAIT,r.value=window.innerWidth>1024,document.documentElement.style.setProperty("--vh",`${t.value}px`)};return window.addEventListener("resize",n),n(),{vh:t,orientation:e,isDesktop:r}}),_imports_0="/assets/halo_r.png",_imports_1="/assets/halo_v.png",Star_vue_vue_type_style_index_0_scoped_1265eb18_lang="",_sfc_main$4={__name:"Star",setup(t){const e=ref(null),r=Math.random()<.5?.3*Math.random():.7+Math.random()*.3,n={x:window.innerWidth*r,y:window.innerHeight*Math.random()},o=ref({x:n.x,y:n.y}),s=ref(.8+Math.random()*.5),c=ref(Math.random()*1),d=ref({x:0,y:0}),u=ref(0),m=ref({x:n.x,y:n.y}),_=f=>{d.value.x=f.clientX/window.innerWidth-.5,d.value.y=f.clientY/window.innerHeight-.5;const y=d.value.x-n.x,M=d.value.y-n.y;u.value=Math.sqrt(y*y+M*M),m.value.x=n.x+d.value.x*.02*y*.35,m.value.y=n.y+d.value.y*.02*M},g=()=>{o.value.x=lerp(o.value.x,m.value.x,.01),o.value.y=lerp(o.value.y,m.value.y,.01)};return onMounted(()=>{gsapWithCSS.to(e.value,{scale:s.value,duration:.4,ease:"power2.inOut",delay:c.value});const f=Array.from(e.value.querySelectorAll("div"));gsapWithCSS.to(f[0],{x:-1,y:-.5,xPercent:-50,yPercent:-50,duration:.4,ease:"power2.inOut",delay:c}),gsapWithCSS.to(f[1],{x:0,y:1,xPercent:-50,yPercent:-50,duration:.4,ease:"power2.inOut",delay:c}),gsapWithCSS.to(f[2],{x:1.5,y:-.5,xPercent:-50,yPercent:-50,duration:.4,ease:"power2.inOut",delay:c}),window.addEventListener("mousemove",_),gsapWithCSS.ticker.add(g)}),(f,y)=>(openBlock(),createElementBlock("div",{class:"star",ref_key:"root",ref:e,style:normalizeStyle({transform:`translate(${o.value.x}px, ${o.value.y}px)`})},[(openBlock(),createElementBlock(Fragment,null,renderList(3,M=>createBaseVNode("div",{key:M})),64))],4))}},Star=_export_sfc(_sfc_main$4,[["__scopeId","data-v-1265eb18"]]),GameBackground_vue_vue_type_style_index_0_scoped_7496383e_lang="",_withScopeId$2=t=>(pushScopeId("data-v-7496383e"),t=t(),popScopeId(),t),_hoisted_1$3=_withScopeId$2(()=>createBaseVNode("img",{src:_imports_0,class:"game-background__blured",alt:"r"},null,-1)),_hoisted_2$2=_withScopeId$2(()=>createBaseVNode("img",{src:_imports_1,class:"game-background__blured",alt:"v"},null,-1)),_sfc_main$3={__name:"GameBackground",setup(t,{expose:e}){const r=ref(null),n=ref(20),o=gsapWithCSS.timeline({repeat:-1,yoyo:!0}),s=()=>{const u=Array.from(r.value.querySelectorAll(".game-background__blured"));gsapWithCSS.set(u[0],{x:"150%",y:"120%",xPercent:-50,yPercent:-50}),gsapWithCSS.set(u[1],{x:"-10%",y:"80%",xPercent:-50,yPercent:-50}),o.to(u[0],{x:"-200px",y:"600px",xPercent:-50,yPercent:-50,duration:10,ease:"linear"},0),o.to(u[1],{x:"300px",y:"-202px",xPercent:-50,yPercent:-50,duration:8,ease:"linear"},.4)},c=()=>{o.pause();const u=Array.from(r.value.querySelectorAll(".game-background__blured"));gsapWithCSS.to(u,{autoAlpha:0,duration:2})},d=()=>{const u=Array.from(r.value.querySelectorAll(".game-background__blured"));gsapWithCSS.to(u,{autoAlpha:1,duration:2}),o.resume()};return onMounted(()=>{s()}),e({pause:c,resume:d}),(u,m)=>(openBlock(),createElementBlock("div",{class:"game-background",ref_key:"root",ref:r},[_hoisted_1$3,_hoisted_2$2,(openBlock(!0),createElementBlock(Fragment,null,renderList(n.value,_=>(openBlock(),createBlock(Star,{key:_}))),128))],512))}},GameBackground=_export_sfc(_sfc_main$3,[["__scopeId","data-v-7496383e"]]),SoundIcon_vue_vue_type_style_index_0_scoped_cd6dae8e_lang="",_withScopeId$1=t=>(pushScopeId("data-v-cd6dae8e"),t=t(),popScopeId(),t),_hoisted_1$2=_withScopeId$1(()=>createBaseVNode("path",{d:"M6.96492 7.54533L7.62255 7.34107L15.0907 2.20675V18.688L7.62255 13.5537L6.96492 13.3494H1.16082V7.54533H6.96492Z",stroke:"white","stroke-width":"2.32164","stroke-linejoin":"bevel"},null,-1)),_hoisted_2$1={key:0,d:"M1.16089 19.7339L22.0556 3.48242",stroke:"white","stroke-width":"2.32164","stroke-linejoin":"bevel"},_sfc_main$2={__name:"SoundIcon",props:{muted:{type:Boolean,default:!1}},emits:["click"],setup(t,{emit:e}){const r=()=>{e("click")};return(n,o)=>(openBlock(),createElementBlock("svg",{width:"23",height:"21",viewBox:"0 0 23 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:r},[_hoisted_1$2,t.muted?(openBlock(),createElementBlock("path",_hoisted_2$1)):createCommentVNode("",!0)]))}},SoundIcon=_export_sfc(_sfc_main$2,[["__scopeId","data-v-cd6dae8e"]]),DesktopExperience_vue_vue_type_style_index_0_scoped_acd120a8_lang="",_withScopeId=t=>(pushScopeId("data-v-acd120a8"),t=t(),popScopeId(),t),_hoisted_1$1={class:"desktop-only"},_hoisted_2=_withScopeId(()=>createBaseVNode("p",null,"Oops ! The experience is only available on desktop",-1)),_hoisted_3={key:0,class:"video"},_hoisted_4=["src"],_hoisted_5={key:1,class:""},_sfc_main$1={__name:"DesktopExperience",setup(t){const e=ref(window.innerWidth>window.innerHeight),r=()=>{e.value=window.innerWidth>window.innerHeight},n=()=>"./assets/colorful.mp4";return onMounted(()=>{gsapWithCSS.timeline().to(".desktop-only > *",{autoAlpha:1,duration:.4,stagger:.2,ease:"linear",delay:.5}),sm.toggleMute(!0),window.addEventListener("resize",r)}),(o,s)=>(openBlock(),createElementBlock("div",_hoisted_1$1,[createVNode(HomeLogo,{class:"colorful-night"}),_hoisted_2,e.value?(openBlock(),createElementBlock("div",_hoisted_5)):(openBlock(),createElementBlock("div",_hoisted_3,[createBaseVNode("video",{src:n(),muted:"",autoplay:"",loop:"",playsinline:"",controls:!1},null,8,_hoisted_4)])),createVNode(_sfc_main$f)]))}},DesktopExperience=_export_sfc(_sfc_main$1,[["__scopeId","data-v-acd120a8"]]),App_vue_vue_type_style_index_0_scoped_af568f8b_lang="",_hoisted_1={key:0},_sfc_main={__name:"App",setup(t){let e=useI18n({useScope:"global"});const r=useLocalesStore(),n=useWindowStore(),o=computed(()=>n.isDesktop),s=ref(null),c=ref(null),d=ref(null),u=ref(0),m=ref(0),_=ref(!0),g=ref(!1),f=ref(!1),y=ref(!1),M=computed(()=>Math.min(u.value*.7+m.value*.3,1)),T=ref(0),A=N=>{u.value=N},E=N=>{m.value=N},C=()=>{c.value.pause(),d.value.start(),g.value=!1},k=N=>{T.value=N,f.value=!0,c.value.resume(),sm.stopAll()},O=()=>{c.value.pause(),d.value.onRestart(),f.value=!1,sm.isPlaying("ambiance")||sm.playSound("ambiance")},I=()=>{d.value.onLoadWebgl(),sm.load()},B=()=>{window.open("https://www.pha5e.com/","_blank")},j=()=>{y.value=!y.value,sm.toggleMute(y.value)},U=()=>{_.value=!1,g.value=!0};return onMounted(()=>{y.value=sm.isMute(),e.locale.value=r.updateFromUrl(),sm.on("load",E)}),onUnmounted(()=>{sm.off("load",E)}),(N,W)=>(openBlock(),createElementBlock("main",{ref_key:"root",ref:s},[createVNode(GameBackground,{ref_key:"bg",ref:c},null,512),createVNode(Transition,{name:"fade"},{default:withCtx(()=>[_.value?(openBlock(),createBlock(Loader,{key:0,progress:M.value,onLoaded:U,onReady:I},null,8,["progress"])):createCommentVNode("",!0)]),_:1}),createVNode(Transition,{name:"fade"},{default:withCtx(()=>[g.value?(openBlock(),createBlock(Home,{key:0,progress:M.value,onStart:C,onLoaderReady:I},null,8,["progress"])):createCommentVNode("",!0)]),_:1}),createVNode(Transition,{name:"fade"},{default:withCtx(()=>[withDirectives(createVNode(GameExperience,{onEnd:k,onLoad:A,ref_key:"webgl",ref:d},null,512),[[vShow,!g.value&&!f.value&&!_.value]])]),_:1}),f.value?(openBlock(),createBlock(End,{key:0,onRestart:O,score:T.value},null,8,["score"])):createCommentVNode("",!0),createVNode(Transition,{name:"fade"},{default:withCtx(()=>[_.value?createCommentVNode("",!0):(openBlock(),createElementBlock("footer",_hoisted_1,[createVNode(_sfc_main$f,{class:"logo",onClick:B}),createVNode(SoundIcon,{class:"home__sound",muted:y.value,onClick:j},null,8,["muted"])]))]),_:1}),createVNode(Transition,{name:"fade"},{default:withCtx(()=>[o.value?createCommentVNode("",!0):(openBlock(),createBlock(DesktopExperience,{key:0}))]),_:1})],512))}},App=_export_sfc(_sfc_main,[["__scopeId","data-v-af568f8b"]]);var vueMatomo={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(window,function(){return function(r){var n={};function o(s){if(n[s])return n[s].exports;var c=n[s]={i:s,l:!1,exports:{}};return r[s].call(c.exports,c,c.exports,o),c.l=!0,c.exports}return o.m=r,o.c=n,o.d=function(s,c,d){o.o(s,c)||Object.defineProperty(s,c,{enumerable:!0,get:d})},o.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o.t=function(s,c){if(1&c&&(s=o(s)),8&c||4&c&&typeof s=="object"&&s&&s.__esModule)return s;var d=Object.create(null);if(o.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:s}),2&c&&typeof s!="string")for(var u in s)o.d(d,u,(function(m){return s[m]}).bind(null,u));return d},o.n=function(s){var c=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(c,"a",c),c},o.o=function(s,c){return Object.prototype.hasOwnProperty.call(s,c)},o.p="",o(o.s=0)}([function(r,n,o){function s(){return window.Piwik.getAsyncTracker()}function c(M){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;return new Promise(function(A,E){var C=document.createElement("script");C.async=!0,C.defer=!0,C.src=M,T&&["anonymous","use-credentials"].includes(T)&&(C.crossOrigin=T),(document.head||document.getElementsByTagName("head")[0]).appendChild(C),C.onload=A,C.onerror=E})}function d(M,T){return M.resolve(T).href}o.r(n),o.d(n,"matomoKey",function(){return m}),o.d(n,"default",function(){return y});var u={debug:!1,disableCookies:!1,requireCookieConsent:!1,enableHeartBeatTimer:!1,enableLinkTracking:!0,heartBeatTimerInterval:15,requireConsent:!1,trackInitialView:!0,trackSiteSearch:!1,trackerFileName:"matomo",trackerUrl:void 0,trackerScriptUrl:void 0,userId:void 0,cookieDomain:void 0,domains:void 0,preInitActions:[],crossOrigin:void 0},m="Matomo";function _(M,T,A){if(typeof M.trackSiteSearch=="function"){var E=M.trackSiteSearch(T);if(E)return void function(C,k){var O=k.keyword,I=k.category,B=k.resultsCount,j=s();C.debug&&console.debug("[vue-matomo] Site Search "+O),j.trackSiteSearch(O,I,B)}(M,E)}(function(C,k,O){var I,B,j,U=s();if(C.router){if(B=d(C.router,k.fullPath),j=O&&O.fullPath?d(C.router,O.fullPath):void 0,k.meta.analyticsIgnore)return void(C.debug&&console.debug("[vue-matomo] Ignoring "+B));C.debug&&console.debug("[vue-matomo] Tracking "+B),I=k.meta.title||B}j&&U.setReferrerUrl(window.location.origin+j),B&&U.setCustomUrl(window.location.origin+B),U.trackPageView(I)})(M,T,A)}function g(M,T){var A=s();if(Number(M.version.split(".")[0])>2?(M.config.globalProperties.$piwik=A,M.config.globalProperties.$matomo=A,M.provide(m,A)):(M.prototype.$piwik=A,M.prototype.$matomo=A),T.trackInitialView&&T.router){var E=T.router.currentRoute.value?T.router.currentRoute.value:T.router.currentRoute;_(T,E)}T.router&&T.router.afterEach(function(C,k){_(T,C,k),T.enableLinkTracking&&A.enableLinkTracking()})}function f(){return new Promise(function(M,T){var A=Date.now(),E=setInterval(function(){if(window.Piwik)return clearInterval(E),M();if(Date.now()>=A+3e3)throw clearInterval(E),new Error("[vue-matomo]: window.Piwik undefined after waiting for ".concat(3e3,"ms"))},50)})}function y(M){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},A=Object.assign({},u,T),E=A.host,C=A.siteId,k=A.trackerFileName,O=A.trackerUrl,I=A.trackerScriptUrl,B=I||"".concat(E,"/").concat(k,".js"),j=O||"".concat(E,"/").concat(k,".php");window._paq=window._paq||[],window._paq.push(["setTrackerUrl",j]),window._paq.push(["setSiteId",C]),A.requireConsent&&window._paq.push(["requireConsent"]),A.userId&&window._paq.push(["setUserId",A.userId]),A.enableLinkTracking&&window._paq.push(["enableLinkTracking"]),A.disableCookies&&window._paq.push(["disableCookies"]),A.requireCookieConsent&&window._paq.push(["requireCookieConsent"]),A.enableHeartBeatTimer&&window._paq.push(["enableHeartBeatTimer",A.heartBeatTimerInterval]),A.cookieDomain&&window._paq.push(["setCookieDomain",A.cookieDomain]),A.domains&&window._paq.push(["setDomains",A.domains]),A.preInitActions.forEach(function(U){return window._paq.push(U)}),c(B,A.crossOrigin).then(function(){return f()}).then(function(){return g(M,A)}).catch(function(U){if(U.target)return console.error("[vue-matomo] An error occurred trying to load ".concat(U.target.src,". ")+"If the file exists you may have an ad- or trackingblocker enabled.");console.error(U)})}}])})})(vueMatomo);var vueMatomoExports=vueMatomo.exports;const VueMatomo=getDefaultExportFromCjs(vueMatomoExports),global$1="",messages={},locales=Object.values(Object.assign({"./i18n/en-en-messages.js":()=>__vitePreload(()=>import("./en-en-messages.js"),[]),"./i18n/en-us-messages.js":()=>__vitePreload(()=>import("./en-us-messages.js"),[]),"./i18n/fr-fr-messages.js":()=>__vitePreload(()=>import("./fr-fr-messages.js"),[])})),importAll=async()=>{await Promise.allSettled(locales.map(async t=>{await t().then(e=>{const r=Object.keys(e.default)[0];messages[r]=e.default[r]})}))};importAll().then(()=>{const t=createI18n({legacy:!1,globalInjection:!0,locale:"fr",fallbackLocale:"fr-FR",messages}),e=createApp(App);e.use(index),e.use(VueMatomo,{host:"https://tracking.lp5-dev.com/",siteId:2}),e.use(createPinia()),e.use(t),e.mount("#app"),window._paq.push(["trackPageView"])})});var_494021e4_bd44_5d8b_9b4a_812d17647200=ba()})();export{__tla,var_494021e4_bd44_5d8b_9b4a_812d17647200 as default};
